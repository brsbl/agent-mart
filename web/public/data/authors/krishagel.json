{
  "author": {
    "id": "krishagel",
    "display_name": "Kris Hagel",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/530001?u=7f39dccf8072232d245e3a7cf0f3012924491bd8&v=4",
    "url": "https://github.com/krishagel",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 2,
      "total_skills": 30,
      "total_stars": 3,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "geoffrey",
      "version": null,
      "description": "Personal AI infrastructure - learning-enabled assistant for work, travel, and personal tasks",
      "owner_info": {
        "name": "Kris Hagel",
        "email": "kris@krishagel.com"
      },
      "keywords": [],
      "repo_full_name": "krishagel/geoffrey",
      "repo_url": "https://github.com/krishagel/geoffrey",
      "repo_description": "Personal AI infrastructure built on Claude Code",
      "homepage": null,
      "signals": {
        "stars": 3,
        "forks": 0,
        "pushed_at": "2026-01-28T15:46:16Z",
        "created_at": "2025-11-18T14:00:51Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 753
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 489
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 12379
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/preferences.md",
          "type": "blob",
          "size": 3691
        },
        {
          "path": "hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/Stop",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/Stop/capture-learnings.sh",
          "type": "blob",
          "size": 509
        },
        {
          "path": "hooks/hooks.json",
          "type": "blob",
          "size": 252
        },
        {
          "path": "hooks/pre-tool-use",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/pre-tool-use/patterns.json",
          "type": "blob",
          "size": 5601
        },
        {
          "path": "hooks/pre-tool-use/security-validator.ts",
          "type": "blob",
          "size": 6766
        },
        {
          "path": "hooks/session-end",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/session-end/__tests__",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/session-end/__tests__/capture-history.test.ts",
          "type": "blob",
          "size": 12095
        },
        {
          "path": "hooks/session-end/__tests__/classifier.test.ts",
          "type": "blob",
          "size": 10298
        },
        {
          "path": "hooks/session-end/__tests__/route-to-obsidian.test.ts",
          "type": "blob",
          "size": 14299
        },
        {
          "path": "hooks/session-end/capture-history.ts",
          "type": "blob",
          "size": 4630
        },
        {
          "path": "hooks/session-end/create-daily-log.ts",
          "type": "blob",
          "size": 9115
        },
        {
          "path": "hooks/session-end/extract-learnings.ts",
          "type": "blob",
          "size": 7705
        },
        {
          "path": "hooks/session-end/route-to-obsidian.ts",
          "type": "blob",
          "size": 12607
        },
        {
          "path": "hooks/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/shared/classifier.ts",
          "type": "blob",
          "size": 8290
        },
        {
          "path": "hooks/shared/utils.ts",
          "type": "blob",
          "size": 7316
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/assistant-architect",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/assistant-architect/SKILL.md",
          "type": "blob",
          "size": 29596
        },
        {
          "path": "skills/assistant-architect/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/assistant-architect/references/json-spec.md",
          "type": "blob",
          "size": 5830
        },
        {
          "path": "skills/browser-control",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/browser-control/SKILL.md",
          "type": "blob",
          "size": 4511
        },
        {
          "path": "skills/clawdbot-monitor",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/clawdbot-monitor/SKILL.md",
          "type": "blob",
          "size": 6911
        },
        {
          "path": "skills/clawdbot-monitor/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/clawdbot-monitor/references/clawdbot-areas.md",
          "type": "blob",
          "size": 3914
        },
        {
          "path": "skills/docx",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/docx/SKILL.md",
          "type": "blob",
          "size": 10347
        },
        {
          "path": "skills/docx/docx-js.md",
          "type": "blob",
          "size": 19484
        },
        {
          "path": "skills/docx/ooxml.md",
          "type": "blob",
          "size": 23572
        },
        {
          "path": "skills/drafts-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/drafts-manager/SKILL.md",
          "type": "blob",
          "size": 13362
        },
        {
          "path": "skills/drafts-manager/actions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/drafts-manager/actions/README.md",
          "type": "blob",
          "size": 3104
        },
        {
          "path": "skills/elevenlabs-tts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/elevenlabs-tts/SKILL.md",
          "type": "blob",
          "size": 3879
        },
        {
          "path": "skills/elevenlabs-tts/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/elevenlabs-tts/references/voices.md",
          "type": "blob",
          "size": 2331
        },
        {
          "path": "skills/freshservice-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/freshservice-manager/SKILL.md",
          "type": "blob",
          "size": 6208
        },
        {
          "path": "skills/google-workspace",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/google-workspace/SKILL.md",
          "type": "blob",
          "size": 5042
        },
        {
          "path": "skills/google-workspace/auth",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/google-workspace/auth/GOOGLE_CLOUD_SETUP.md",
          "type": "blob",
          "size": 5064
        },
        {
          "path": "skills/image-gen",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/image-gen/SKILL.md",
          "type": "blob",
          "size": 4738
        },
        {
          "path": "skills/image-gen/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/image-gen/workflows/branded.md",
          "type": "blob",
          "size": 3968
        },
        {
          "path": "skills/image-gen/workflows/diagram.md",
          "type": "blob",
          "size": 5558
        },
        {
          "path": "skills/image-gen/workflows/infographic.md",
          "type": "blob",
          "size": 5152
        },
        {
          "path": "skills/knowledge-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/knowledge-manager/SKILL.md",
          "type": "blob",
          "size": 9538
        },
        {
          "path": "skills/legislative-tracker",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/legislative-tracker/SKILL.md",
          "type": "blob",
          "size": 10114
        },
        {
          "path": "skills/local-tts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/local-tts/SKILL.md",
          "type": "blob",
          "size": 3333
        },
        {
          "path": "skills/local-tts/docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/local-tts/docs/setup.md",
          "type": "blob",
          "size": 3639
        },
        {
          "path": "skills/local-tts/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/local-tts/references/voices.md",
          "type": "blob",
          "size": 2637
        },
        {
          "path": "skills/morning-briefing",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/morning-briefing/SKILL.md",
          "type": "blob",
          "size": 26828
        },
        {
          "path": "skills/morning-briefing/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/morning-briefing/references/podcast-script-template.md",
          "type": "blob",
          "size": 7902
        },
        {
          "path": "skills/multi-model-research",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/multi-model-research/SKILL.md",
          "type": "blob",
          "size": 5220
        },
        {
          "path": "skills/multi-model-research/prompts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/multi-model-research/prompts/chairman_synthesis.md",
          "type": "blob",
          "size": 1483
        },
        {
          "path": "skills/multi-model-research/prompts/peer_review.md",
          "type": "blob",
          "size": 1258
        },
        {
          "path": "skills/multi-model-research/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/multi-model-research/templates/research_report.md",
          "type": "blob",
          "size": 395
        },
        {
          "path": "skills/obsidian-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/obsidian-manager/SKILL.md",
          "type": "blob",
          "size": 9589
        },
        {
          "path": "skills/omnifocus-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/omnifocus-manager/SKILL.md",
          "type": "blob",
          "size": 16626
        },
        {
          "path": "skills/pai-monitor",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pai-monitor/SKILL.md",
          "type": "blob",
          "size": 5542
        },
        {
          "path": "skills/pdf-to-markdown",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pdf-to-markdown/SKILL.md",
          "type": "blob",
          "size": 2248
        },
        {
          "path": "skills/pdf",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pdf/SKILL.md",
          "type": "blob",
          "size": 7229
        },
        {
          "path": "skills/pdf/forms.md",
          "type": "blob",
          "size": 9470
        },
        {
          "path": "skills/pdf/reference.md",
          "type": "blob",
          "size": 16692
        },
        {
          "path": "skills/personal-strategic-planning",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/personal-strategic-planning/SKILL.md",
          "type": "blob",
          "size": 20800
        },
        {
          "path": "skills/personal-strategic-planning/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/personal-strategic-planning/templates/annual-review-template.md",
          "type": "blob",
          "size": 10972
        },
        {
          "path": "skills/personal-strategic-planning/templates/quarterly-review-template.md",
          "type": "blob",
          "size": 4913
        },
        {
          "path": "skills/pptx",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pptx/SKILL.md",
          "type": "blob",
          "size": 25739
        },
        {
          "path": "skills/pptx/html2pptx.md",
          "type": "blob",
          "size": 19859
        },
        {
          "path": "skills/pptx/ooxml.md",
          "type": "blob",
          "size": 10388
        },
        {
          "path": "skills/presentation-master",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/presentation-master/README.md",
          "type": "blob",
          "size": 13510
        },
        {
          "path": "skills/presentation-master/SKILL.md",
          "type": "blob",
          "size": 13877
        },
        {
          "path": "skills/presentation-master/principles",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/presentation-master/principles/masters.md",
          "type": "blob",
          "size": 11157
        },
        {
          "path": "skills/presentation-master/principles/slide-patterns.md",
          "type": "blob",
          "size": 31463
        },
        {
          "path": "skills/presentation-master/principles/story-frameworks.md",
          "type": "blob",
          "size": 28421
        },
        {
          "path": "skills/presentation-master/principles/validation-rules.md",
          "type": "blob",
          "size": 4801
        },
        {
          "path": "skills/psd-brand-guidelines",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/psd-brand-guidelines/SKILL.md",
          "type": "blob",
          "size": 8390
        },
        {
          "path": "skills/psd-instructional-vision",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/psd-instructional-vision/SKILL.md",
          "type": "blob",
          "size": 5858
        },
        {
          "path": "skills/psd-instructional-vision/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/psd-instructional-vision/references/playbook.md",
          "type": "blob",
          "size": 39614
        },
        {
          "path": "skills/redrover-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/redrover-manager/SKILL.md",
          "type": "blob",
          "size": 5422
        },
        {
          "path": "skills/research",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/research/RESEARCH_ENHANCEMENT.md",
          "type": "blob",
          "size": 4971
        },
        {
          "path": "skills/research/SKILL.md",
          "type": "blob",
          "size": 11321
        },
        {
          "path": "skills/research/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/research/agents/claude-researcher.md",
          "type": "blob",
          "size": 2192
        },
        {
          "path": "skills/research/agents/gemini-researcher.md",
          "type": "blob",
          "size": 2027
        },
        {
          "path": "skills/research/agents/openai-researcher.md",
          "type": "blob",
          "size": 2158
        },
        {
          "path": "skills/research/agents/perplexity-researcher.md",
          "type": "blob",
          "size": 1859
        },
        {
          "path": "skills/research/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/research/commands/conduct-research.md",
          "type": "blob",
          "size": 3212
        },
        {
          "path": "skills/skill-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/skill-creator/SKILL.md",
          "type": "blob",
          "size": 18591
        },
        {
          "path": "skills/skill-creator/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/skill-creator/references/output-patterns.md",
          "type": "blob",
          "size": 1813
        },
        {
          "path": "skills/skill-creator/references/workflows.md",
          "type": "blob",
          "size": 818
        },
        {
          "path": "skills/strategic-planning-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/strategic-planning-manager/SKILL.md",
          "type": "blob",
          "size": 20143
        },
        {
          "path": "skills/strategic-planning-manager/guides",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/strategic-planning-manager/guides/phase1-discovery-guide.md",
          "type": "blob",
          "size": 7596
        },
        {
          "path": "skills/strategic-planning-manager/guides/phase2-swot-guide.md",
          "type": "blob",
          "size": 6677
        },
        {
          "path": "skills/strategic-planning-manager/guides/phase3-vision-guide.md",
          "type": "blob",
          "size": 8288
        },
        {
          "path": "skills/strategic-planning-manager/guides/phase4-contradictions-guide.md",
          "type": "blob",
          "size": 9106
        },
        {
          "path": "skills/strategic-planning-manager/guides/phase5-directions-guide.md",
          "type": "blob",
          "size": 9357
        },
        {
          "path": "skills/strategic-planning-manager/guides/phase6-implementation-guide.md",
          "type": "blob",
          "size": 10032
        },
        {
          "path": "skills/strategic-planning-manager/guides/quick-start.md",
          "type": "blob",
          "size": 6336
        },
        {
          "path": "skills/strategic-planning-manager/guides/retreat-agenda-2day.md",
          "type": "blob",
          "size": 10694
        },
        {
          "path": "skills/strategic-planning-manager/guides/retreat-agenda-condensed.md",
          "type": "blob",
          "size": 8321
        },
        {
          "path": "skills/strategic-planning-manager/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/strategic-planning-manager/templates/contradictions.md",
          "type": "blob",
          "size": 3863
        },
        {
          "path": "skills/strategic-planning-manager/templates/discovery-report.md",
          "type": "blob",
          "size": 4070
        },
        {
          "path": "skills/strategic-planning-manager/templates/executive-summary.md",
          "type": "blob",
          "size": 4784
        },
        {
          "path": "skills/strategic-planning-manager/templates/first-year-timeline.md",
          "type": "blob",
          "size": 7134
        },
        {
          "path": "skills/strategic-planning-manager/templates/focused-implementation.md",
          "type": "blob",
          "size": 6939
        },
        {
          "path": "skills/strategic-planning-manager/templates/full-strategic-plan.md",
          "type": "blob",
          "size": 9609
        },
        {
          "path": "skills/strategic-planning-manager/templates/practical-vision.md",
          "type": "blob",
          "size": 3800
        },
        {
          "path": "skills/strategic-planning-manager/templates/strategic-directions.md",
          "type": "blob",
          "size": 4935
        },
        {
          "path": "skills/strategic-planning-manager/templates/swot-template.md",
          "type": "blob",
          "size": 3973
        },
        {
          "path": "skills/writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/writer/README.md",
          "type": "blob",
          "size": 8533
        },
        {
          "path": "skills/writer/SKILL.md",
          "type": "blob",
          "size": 24365
        },
        {
          "path": "skills/writer/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/writer/scripts/README.md",
          "type": "blob",
          "size": 7178
        },
        {
          "path": "skills/xlsx",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/xlsx/SKILL.md",
          "type": "blob",
          "size": 10795
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"geoffrey\",\n  \"owner\": {\n    \"name\": \"Kris Hagel\",\n    \"email\": \"kris@krishagel.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Personal AI infrastructure - learning-enabled assistant for work, travel, and personal tasks\",\n    \"version\": \"0.19.1\"\n  },\n  \"pluginRoot\": \".\",\n  \"plugins\": [\n    {\n      \"name\": \"geoffrey\",\n      \"source\": \"./\",\n      \"description\": \"Personal AI infrastructure with learning-enabled assistance for work, travel, and personal tasks\",\n      \"version\": \"0.19.1\",\n      \"category\": \"productivity\",\n      \"keywords\": [\n        \"personal-ai\",\n        \"learning\",\n        \"preferences\",\n        \"assistant\",\n        \"travel\",\n        \"productivity\",\n        \"strategic-planning\",\n        \"omnifocus\"\n      ]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"geoffrey\",\n  \"version\": \"0.19.1\",\n  \"description\": \"Personal AI infrastructure with learning-enabled assistance for work, travel, and personal tasks\",\n  \"author\": {\n    \"name\": \"Kris Hagel\",\n    \"email\": \"kris@krishagel.com\"\n  },\n  \"repository\": \"https://github.com/krishagel/geoffrey\",\n  \"keywords\": [\n    \"personal-ai\",\n    \"learning\",\n    \"preferences\",\n    \"assistant\",\n    \"travel\",\n    \"productivity\",\n    \"strategic-planning\",\n    \"omnifocus\"\n  ],\n  \"license\": \"MIT\"\n}\n",
        "README.md": "# Geoffrey - Personal AI Infrastructure\n\n[![Version](https://img.shields.io/badge/version-0.19.1-blue.svg)](https://github.com/krishagel/geoffrey/releases)\n[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)\n[![Claude Code](https://img.shields.io/badge/Claude_Code-plugin-purple.svg)](https://claude.com/code)\n\nYour intelligent assistant, built as a Claude Code plugin. Geoffrey learns your preferences and patterns over time, providing personalized assistance across work, travel, and personal tasks.\n\nNamed after Geoffrey Hinton (godfather of AI) and Geoffrey from Fresh Prince of Bel-Air.\n\n## ðŸš€ Quick Start\n\n```bash\n# Install via Claude Code\nclaude plugin marketplace add krishagel/geoffrey\nclaude plugin install geoffrey@geoffrey\n\n# For detailed setup, see INSTALL.md\n```\n\n## Current Status: Phase 2 (Core Skills)\n\n**Version:** 0.19.1\n**Status:** In Active Development\n\n### What Works Now\n- âœ… Plugin structure with GitHub distribution\n- âœ… Knowledge management skill\n- âœ… OmniFocus manager skill with AppleScript/JXA integration\n- âœ… Strategic planning manager skill (annual reviews + quarterly check-ins)\n- âœ… Freshservice manager skill\n- âœ… Google Workspace integration\n- âœ… Browser control skill\n- âœ… Multi-model research skill\n- âœ… Image generation skill\n- âœ… /preferences command\n- âœ… iCloud knowledge storage\n- âœ… Versioning and CHANGELOG tracking\n\n### Coming Soon\n- ðŸ”œ Travel planning skill (Phase 2 expansion)\n- ðŸ”œ Team management skill (Phase 3)\n- ðŸ”œ Automatic learning from conversations (Phase 4)\n\n## Philosophy\n\n- **Learning-enabled**: Remembers your preferences with confidence scoring\n- **Skills-based**: Capabilities activate automatically based on context\n- **Privacy-first**: Your data in iCloud, code in GitHub\n- **Multi-machine**: Same Geoffrey, same preferences, different devices\n- **Open source**: MIT licensed, community contributions welcome\n\n## Founding Principles\n\nGeoffrey's architecture follows principles inspired by [Personal AI Infrastructure v2.0](https://github.com/danielmiessler/Personal_AI_Infrastructure). These guide all development decisions.\n\n### 1. Scaffolding Over Model\n**Architecture matters more than AI capability.**\n\nThe structure around the AIâ€”skills, hooks, knowledge storageâ€”determines what's possible. A well-designed scaffold makes the AI more effective; a poor one limits even the best model.\n\n*Example:* Three-tier progressive disclosure (Tier 1: always loaded, Tier 2: on activation, Tier 3: just-in-time) keeps context lean while enabling rich capabilities.\n\n### 2. Code Before AI\n**Build deterministic CLI tools, then wrap with AI orchestration.**\n\nCode is cheaper, faster, and more reliable than prompts. Scripts handle data fetching and processing; AI handles orchestration and natural language.\n\n*Example:* `omnifocus-manager/scripts/get_tags.js` fetches tags deterministically. Geoffrey orchestrates when and how to use that data.\n\n### 3. Deterministic Systems\n**Favor predictable, repeatable outcomes over probabilistic behavior.**\n\nWhen possible, use deterministic code paths. Reserve AI judgment for tasks that require it. Runtime data fetching ensures always-current information without stale caches.\n\n*Example:* Fetching OmniFocus tags at runtime instead of hardcoding 129 tags that could change.\n\n### 4. Progressive Disclosure\n**Load only what's needed, when it's needed.**\n\nContext is precious. Tier 1 stays under 100 lines. Tier 2 loads when skills activate. Tier 3 fetches data just-in-time.\n\n*Example:* OmniFocus skill loads SKILL.md on activation, fetches tags only when creating a task.\n\n### 5. UNIX Philosophy\n**Modular, composable, single responsibility.**\n\nEach skill does one thing well. Skills compose to handle complex workflows. Clear boundaries between concerns.\n\n*Example:* `knowledge-manager` learns preferences, `omnifocus-manager` manages tasks, `freshservice-manager` handles ticketsâ€”each focused and independent.\n\n### 6. Self-Modifying Systems\n**Infrastructure learns and improves from experience.**\n\nHooks extract patterns automatically. History enables preference detection. The system gets smarter over time without manual updates.\n\n*Example:* SessionEnd hooks analyze conversations, update `learned-preferences.json`, and route summaries to Obsidian by content type.\n\n### 7. Skill Management\n**Dynamic routing with modular loading.**\n\nSKILL.md frontmatter defines triggers. Skills activate automatically based on context. No manual switching required.\n\n*Example:* \"Add a task to OmniFocus\" â†’ `omnifocus-manager` activates. \"What are my travel preferences?\" â†’ `knowledge-manager` activates.\n\n### 8. CLI Interfaces\n**Command-line tools over GUIs.**\n\nAll scripts are CLI-based for automation and composability. Use `bun` runtime for JavaScript. Standard input/output for integration.\n\n*Example:* `bun scripts/add_task.js` creates tasks programmatically, avoiding GUI dependencies.\n\n### 9. Identity-First Design\n**Consistent personality and decision framework.**\n\nTier 1 identity always loaded: strengths, values, decision style. Enables personalized assistance aligned with user's cognitive patterns.\n\n*Example:* Understanding \"Green-Orange Analytical Action-Taker\" profile shapes how Geoffrey presents options and makes recommendations.\n\n### 10. Evidence-Driven Development\n**Validate against code, never assume behavior.**\n\nAlways inspect before claiming. Use conservative language (\"functionally validated\" vs \"production-ready\"). Question all claims with \"What evidence supports this?\"\n\n*Example:* Before saying tests pass, actually run them. Before claiming a feature works, verify in the codebase.\n\n### Principles In Progress\n\n- **Specification-First**: Test before implementation (improving)\n- **History Systems**: Session capture and categorization (implemented in #4)\n- **Science as Cognitive Loop**: Hypothesis â†’ Experiment â†’ Measure (future)\n\nSee [PAI v2.0's 14 Founding Principles](https://github.com/danielmiessler/Personal_AI_Infrastructure#founding-principles) for the full original framework.\n\n## Installation\n\n### Prerequisites\n- macOS (for iCloud sync)\n- Claude Code 2.0+\n- iCloud Drive enabled\n- Git\n\n### Setup\n\n```bash\n# 1. Clone repository\ngit clone https://github.com/krishagel/geoffrey.git\ncd geoffrey\n\n# 2. Set up iCloud knowledge directory\nmkdir -p ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge\n\n# 3. Add as local marketplace (for development)\n/plugin marketplace add ~/non-ic-code/geoffrey\n\n# 4. Install plugin\n/plugin install geoffrey@geoffrey\n\n# 5. Verify installation\n/preferences\n```\n\n## Usage\n\n### Teaching Geoffrey\n\nJust tell Geoffrey your preferences in natural language:\n\n```\n> \"I always prefer Marriott hotels. I'm Platinum Elite.\"\n\nGeoffrey: \"I've learned your hotel preferences:\n- Primary chain: Marriott\n- Loyalty tier: Platinum Elite\n- Confidence: 1.0 (explicitly stated)\n\nStored in knowledge base.\"\n```\n\n### Viewing Preferences\n\n```\n/preferences              # View all preferences\n/preferences travel       # View travel preferences only\n```\n\n### Updating Preferences\n\n```\n> \"Actually, I prefer aisle seats on flights\"\n\nGeoffrey: \"Updated your airline preferences:\n- Seat preference: Aisle (was: Window)\n- Confidence: 1.0\"\n```\n\n## Architecture\n\n```\nGeoffrey Plugin\nâ”œâ”€â”€ Skills (auto-activate)\nâ”‚   â””â”€â”€ knowledge-manager    â† Phase 1\nâ”œâ”€â”€ Commands (user-invoked)\nâ”‚   â””â”€â”€ /preferences         â† Phase 1\nâ”œâ”€â”€ Agents (specialized workers)\nâ”‚   â””â”€â”€ (coming in Phase 2+)\nâ””â”€â”€ Hooks (automation)\n    â””â”€â”€ (coming in Phase 4)\n\nKnowledge Storage (iCloud)\nâ””â”€â”€ ~/Library/.../Geoffrey/knowledge/\n    â”œâ”€â”€ preferences.json     â† Phase 1\n    â”œâ”€â”€ memory.jsonl        â† Phase 4\n    â””â”€â”€ patterns.json       â† Phase 4\n```\n\n## Development\n\n### Local Development Workflow\n\n```bash\n# 1. Make changes to Geoffrey files\ncd ~/non-ic-code/geoffrey\n# Edit skills, commands, etc.\n\n# 2. Reload plugin\n/plugin reload geoffrey\n\n# 3. Test changes\n> \"Test the feature\"\n```\n\n### Directory Structure\n\n```\ngeoffrey/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â”œâ”€â”€ plugin.json           # Plugin metadata\nâ”‚   â””â”€â”€ marketplace.json      # Marketplace config\nâ”œâ”€â”€ skills/\nâ”‚   â””â”€â”€ knowledge-manager/    # Knowledge management skill\nâ”‚       â””â”€â”€ SKILL.md\nâ”œâ”€â”€ commands/\nâ”‚   â””â”€â”€ preferences.md        # /preferences command\nâ”œâ”€â”€ agents/                   # (Future)\nâ”œâ”€â”€ hooks/\nâ”‚   â””â”€â”€ hooks.json           # Hook definitions\nâ”œâ”€â”€ .gitignore\nâ””â”€â”€ README.md                # This file\n```\n\n### Knowledge File Format\n\n**preferences.json:**\n```json\n{\n  \"version\": \"1.0\",\n  \"last_updated\": \"2025-11-17T10:30:00Z\",\n  \"preferences\": {\n    \"travel\": {\n      \"hotels\": {\n        \"primary_chain\": \"Marriott\",\n        \"loyalty_tier\": \"Platinum Elite\",\n        \"confidence\": 1.0,\n        \"learned_from\": [\"explicit:2025-11-17\"],\n        \"last_updated\": \"2025-11-17T10:30:00Z\"\n      }\n    }\n  }\n}\n```\n\n## Roadmap\n\n### Phase 1: Foundation âœ… (Current)\n- Basic plugin structure\n- Knowledge management skill\n- /preferences command\n- iCloud storage\n\n### Phase 2: Travel Assistant (Weeks 3-4)\n- Travel planning skill\n- Trip planning based on preferences\n- OmniFocus integration\n- Points optimization\n\n### Phase 3: Team Management (Weeks 5-6)\n- Team management skill\n- Freshservice integration\n- Employee support workflows\n\n### Phase 4: Learning & Self-Improvement (Weeks 7-8)\n- Post-conversation hooks\n- Automatic preference extraction\n- Pattern detection\n- Confidence scoring refinement\n\n## How It Works\n\n### Skills Auto-Activate\n\nGeoffrey's skills activate automatically based on what you say:\n\n```\n> \"Plan my trip to Seattle\"\nâ†’ travel-planning skill activates (Phase 2)\n\n> \"How is my team doing?\"\nâ†’ team-management skill activates (Phase 3)\n\n> \"I prefer Marriott hotels\"\nâ†’ knowledge-manager skill activates (Phase 1)\n```\n\n### Confidence Scoring\n\nGeoffrey tracks how confident it is about each preference:\n\n- **1.0** = You explicitly told Geoffrey\n- **0.8-0.9** = Strong pattern (5+ observations)\n- **0.6-0.7** = Moderate pattern (3-4 observations)\n- **0.4-0.5** = Weak pattern (1-2 observations)\n- **<0.4** = Insufficient data\n\nHigher confidence preferences take priority in suggestions.\n\n## Privacy & Security\n\n- **Local storage**: All data in your iCloud Drive\n- **No tracking**: Geoffrey doesn't send data anywhere\n- **You own it**: Edit or delete knowledge files anytime\n- **Open source**: Audit the code yourself\n- **Encrypted**: Consider encrypting sensitive data (loyalty numbers)\n\n## Installation\n\n**Quick Install:**\n```bash\nclaude plugin marketplace add krishagel/geoffrey\nclaude plugin install geoffrey@geoffrey\n```\n\n**Full Setup Guide:** See [INSTALL.md](INSTALL.md) for complete installation instructions including:\n- Prerequisites (Bun, Python, uv)\n- API key configuration\n- iCloud setup\n- Skill-specific setup (OmniFocus, Obsidian, etc.)\n\n## Contributing\n\nContributions welcome! Geoffrey is open source and we'd love your help.\n\n**How to contribute:**\n\n1. **Fork** the repository\n2. **Create** a feature branch (`git checkout -b feature/amazing-skill`)\n3. **Make** your changes following our coding standards\n4. **Test** thoroughly (all skills must work)\n5. **Commit** with clear messages (`v0.X.Y: Description`)\n6. **Push** to your fork\n7. **Open** a pull request\n\n**Areas we need help:**\n- New skills (travel planning, health tracking, etc.)\n- Documentation improvements\n- Bug fixes\n- Performance optimizations\n- Testing and QA\n\n**Development setup:** See [INSTALL.md](INSTALL.md#option-b-local-development)\n\n## Inspiration\n\nGeoffrey is inspired by:\n- [Personal AI Infrastructure by Daniel Miessler](https://github.com/danielmiessler/Personal_AI_Infrastructure)\n- Claude Code's plugin system\n- Personal assistant paradigm\n\n## License\n\nMIT License - see [LICENSE](LICENSE) for details.\n\n## Support\n\n- **Issues**: [GitHub Issues](https://github.com/krishagel/geoffrey/issues)\n- **Discussions**: [GitHub Discussions](https://github.com/krishagel/geoffrey/discussions)\n- **Email**: kris@krishagel.com\n\n## Acknowledgments\n\n- Anthropic for Claude Code\n- Daniel Miessler for Personal AI Infrastructure inspiration\n- The open source community\n\n---\n\n**Built with â¤ï¸ using Claude Code**\n\n*Version: 0.19.1 | Phase 2 (Core Skills)*\n*Last updated: January 24, 2026*\n",
        "commands/preferences.md": "---\ndescription: View and manage your learned preferences and knowledge\n---\n\n# Preferences Command\n\nRead and display all stored preferences from Geoffrey's knowledge base.\n\n## What This Command Does\n\nThe `/preferences` command shows you everything Geoffrey has learned about you, including:\n- All stored preferences organized by category\n- Confidence scores for each preference\n- When each preference was learned\n- How each preference was learned (explicit, pattern, conversation)\n\n## Location\n\nPreferences are stored in:\n```\n~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge/preferences.json\n```\n\n## How to Use\n\n### View all preferences:\n```\n/preferences\n```\n\nShows all preferences across all categories with confidence scores.\n\n### View by category:\n```\n/preferences travel\n/preferences work\n/preferences communication\n```\n\nShows only preferences in the specified category.\n\n## What You'll See\n\n```\nGeoffrey's Knowledge Base\nLast updated: 2025-11-17 10:30 AM\n\nTravel Preferences:\n  Hotels:\n    - Primary chain: Marriott\n    - Loyalty tier: Platinum Elite\n    - Room preferences: High floor, away from elevator\n    - Confidence: 1.0 (explicitly stated)\n    - Learned from: explicit:2025-11-17\n\n  Airlines:\n    - Primary: Alaska Airlines\n    - Seat preference: Aisle\n    - Time preference: Morning flights\n    - Confidence: 0.8 (strong pattern)\n    - Learned from: booking:2025-10-15, booking:2025-09-20\n\nWork Preferences:\n  Communication:\n    - Email tone: Professional but friendly\n    - Confidence: 0.6 (moderate pattern)\n    - Learned from: conversation:2025-11-10\n\nTotal preferences: 8\nHigh confidence (>0.8): 5\nModerate confidence (0.6-0.8): 2\nLow confidence (<0.6): 1\n```\n\n## Actions You Can Take\n\nAfter viewing preferences, you can:\n\n1. **Teach Geoffrey something new**:\n   ```\n   \"I prefer window seats on flights, not aisle\"\n   ```\n\n2. **Update existing preferences**:\n   ```\n   \"Actually, I prefer Hilton over Marriott now\"\n   ```\n\n3. **Delete preferences**:\n   ```\n   \"Forget my airline preferences\"\n   ```\n\n4. **Ask questions**:\n   ```\n   \"Why do you think I prefer morning flights?\"\n   \"How confident are you about my hotel preferences?\"\n   ```\n\n## File Format\n\nThe preferences.json file has this structure:\n```json\n{\n  \"version\": \"1.0\",\n  \"last_updated\": \"2025-11-17T10:30:00Z\",\n  \"preferences\": {\n    \"travel\": {\n      \"hotels\": {\n        \"primary_chain\": \"Marriott\",\n        \"loyalty_tier\": \"Platinum Elite\",\n        \"room_preferences\": [\"high floor\", \"away from elevator\"],\n        \"confidence\": 1.0,\n        \"learned_from\": [\"explicit:2025-11-17\"],\n        \"last_updated\": \"2025-11-17T10:30:00Z\"\n      }\n    }\n  }\n}\n```\n\n## Privacy & Security\n\n- **Local storage only**: Preferences stored in your iCloud, not on any server\n- **Syncs across your devices**: Via iCloud Drive\n- **You control the data**: Edit or delete the JSON file directly if needed\n- **No analytics**: Geoffrey never sends your preferences anywhere\n\n## Troubleshooting\n\n**If /preferences shows nothing:**\n- Check if the knowledge file exists\n- Initialize with: `mkdir -p ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge`\n- Teach Geoffrey something to create initial file\n\n**If file is corrupted:**\n- Backup: `cp preferences.json preferences.backup.json`\n- Fix JSON formatting or reset to empty: `{}`\n\n**If preferences not syncing:**\n- Verify iCloud Drive is enabled\n- Check iCloud storage space\n- Wait a few minutes for sync\n\n## Implementation Notes\n\nThis command should:\n1. Read the preferences.json file\n2. Parse and format for display\n3. Show confidence scores with visual indicators\n4. Group by category\n5. Provide summary statistics\n6. Offer next action suggestions\n",
        "hooks/Stop/capture-learnings.sh": "#!/bin/bash\n# Captures session learnings automatically on stop\n# Only triggers for sessions with substantial work\n\n# Read conversation from stdin\nCONVERSATION=$(cat)\n\n# Check if session had meaningful work (rough heuristic: >2000 chars)\nCHAR_COUNT=${#CONVERSATION}\nif [ \"$CHAR_COUNT\" -lt 2000 ]; then\n  exit 0\nfi\n\n# Extract any explicit learnings mentioned\n# This is a lightweight capture - full /compound is manual\necho \"Session complete. Consider running /compound if significant learnings emerged.\"\nexit 0\n",
        "hooks/hooks.json": "{\n  \"hooks\": {\n    \"Stop\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bash \\\"${CLAUDE_PLUGIN_ROOT}/hooks/Stop/capture-learnings.sh\\\"\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "hooks/pre-tool-use/patterns.json": "{\n  \"$schema\": \"./patterns.schema.json\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Security patterns for credential detection in Claude Code hooks\",\n  \"patterns\": [\n    {\n      \"id\": \"aws-access-key\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\bAKIA[0-9A-Za-z]{16}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"AWS Access Key ID\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"aws-secret-key\",\n      \"tier\": 1,\n      \"pattern\": \"(?:aws_secret_access_key|AWS_SECRET_ACCESS_KEY)\\\\s*[=:]\\\\s*[\\\"']?([A-Za-z0-9/+=]{40})\",\n      \"action\": \"block\",\n      \"description\": \"AWS Secret Access Key\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"github-token\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\b(ghp|gho|ghu|ghs|ghr)_[A-Za-z0-9]{36,}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"GitHub Personal Access Token\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"slack-token\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\bxox[baprs]-[0-9]{10,13}-[0-9]{10,13}-[A-Za-z0-9]{24,}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"Slack API Token\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"private-key\",\n      \"tier\": 1,\n      \"pattern\": \"-----BEGIN (?:RSA |OPENSSH |EC )?PRIVATE KEY-----\",\n      \"action\": \"block\",\n      \"description\": \"Private Key Header\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"jwt-token\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\beyJ[A-Za-z0-9_-]{10,}\\\\.eyJ[A-Za-z0-9_-]{10,}\\\\.[A-Za-z0-9_-]{10,}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"JSON Web Token (JWT)\",\n      \"falsePositiveRisk\": \"medium\"\n    },\n    {\n      \"id\": \"anthropic-api-key\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\bsk-ant-[A-Za-z0-9_-]{40,}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"Anthropic API Key\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"openai-api-key\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\bsk-[A-Za-z0-9]{20,}T3BlbkFJ[A-Za-z0-9]{20,}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"OpenAI API Key\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"google-api-key\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\bAIza[0-9A-Za-z_-]{35}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"Google API Key\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"stripe-key\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\b(sk_live_|rk_live_)[A-Za-z0-9]{24,}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"Stripe Live Secret Key\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"db-connection-string\",\n      \"tier\": 1,\n      \"pattern\": \"(?:postgres|mysql|mongodb|redis)://[^:]+:[^@]+@[^/]+\",\n      \"action\": \"block\",\n      \"description\": \"Database Connection String with Password\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"freshservice-api-key\",\n      \"tier\": 2,\n      \"pattern\": \"(?:FRESHSERVICE_API_KEY|freshservice_api_key)\\\\s*[=:]\\\\s*[\\\"']?([A-Za-z0-9]{20,})\",\n      \"action\": \"block\",\n      \"description\": \"FreshService API Key (PSD-specific)\",\n      \"falsePositiveRisk\": \"low\"\n    },\n    {\n      \"id\": \"env-credential-assignment\",\n      \"tier\": 2,\n      \"pattern\": \"(?:API_KEY|SECRET_KEY|AUTH_TOKEN|ACCESS_TOKEN|PRIVATE_KEY)\\\\s*[=:]\\\\s*[\\\"']?([A-Za-z0-9_/+=]{16,})\",\n      \"action\": \"warn\",\n      \"description\": \"Generic credential environment variable\",\n      \"falsePositiveRisk\": \"medium\"\n    },\n    {\n      \"id\": \"password-assignment\",\n      \"tier\": 2,\n      \"pattern\": \"(?:password|passwd|pwd)\\\\s*[=:]\\\\s*[\\\"']?([^\\\\s\\\"']{8,})\",\n      \"action\": \"warn\",\n      \"description\": \"Password assignment\",\n      \"falsePositiveRisk\": \"high\"\n    },\n    {\n      \"id\": \"bearer-token\",\n      \"tier\": 2,\n      \"pattern\": \"(?:Authorization|authorization)\\\\s*[=:]\\\\s*[\\\"']?Bearer\\\\s+([A-Za-z0-9._-]{20,})\",\n      \"action\": \"warn\",\n      \"description\": \"Bearer authorization token\",\n      \"falsePositiveRisk\": \"medium\"\n    },\n    {\n      \"id\": \"basic-auth\",\n      \"tier\": 2,\n      \"pattern\": \"(?:Authorization|authorization)\\\\s*[=:]\\\\s*[\\\"']?Basic\\\\s+([A-Za-z0-9+/=]{20,})\",\n      \"action\": \"warn\",\n      \"description\": \"Basic authentication header\",\n      \"falsePositiveRisk\": \"medium\"\n    },\n    {\n      \"id\": \"ssh-key-file\",\n      \"tier\": 3,\n      \"pattern\": \"~?\\\\/\\\\.ssh\\\\/id_[a-z]+(?:\\\\.pub)?\",\n      \"action\": \"warn\",\n      \"description\": \"SSH key file path reference\",\n      \"falsePositiveRisk\": \"high\"\n    },\n    {\n      \"id\": \"credit-card-number\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\b(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13})\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"Credit card number pattern\",\n      \"falsePositiveRisk\": \"medium\"\n    },\n    {\n      \"id\": \"ssn\",\n      \"tier\": 1,\n      \"pattern\": \"\\\\b\\\\d{3}-\\\\d{2}-\\\\d{4}\\\\b\",\n      \"action\": \"block\",\n      \"description\": \"Social Security Number format\",\n      \"falsePositiveRisk\": \"medium\"\n    }\n  ],\n  \"exceptions\": [\n    {\n      \"id\": \"test-placeholder\",\n      \"pattern\": \"(?:test|example|sample|placeholder|dummy|fake|YOUR_|<YOUR)\",\n      \"description\": \"Placeholder/test values\"\n    },\n    {\n      \"id\": \"env-reference\",\n      \"pattern\": \"\\\\$\\\\{[A-Z_]+\\\\}|\\\\$[A-Z_]+|process\\\\.env\\\\.\",\n      \"description\": \"Environment variable references\"\n    },\n    {\n      \"id\": \"localhost\",\n      \"pattern\": \"localhost|127\\\\.0\\\\.0\\\\.1\",\n      \"description\": \"Localhost addresses\"\n    },\n    {\n      \"id\": \"stripe-test-keys\",\n      \"pattern\": \"\\\\b(sk_test_|rk_test_|pk_test_)[A-Za-z0-9]{24,}\\\\b\",\n      \"description\": \"Stripe test keys (not sensitive)\"\n    },\n    {\n      \"id\": \"documentation-markers\",\n      \"pattern\": \"xxx+|\\\\[\\\\w+\\\\]|<\\\\w+>\",\n      \"description\": \"Documentation placeholders\"\n    }\n  ]\n}\n",
        "hooks/pre-tool-use/security-validator.ts": "#!/usr/bin/env bun\n/**\n * PreToolUse Hook: Security Validator\n *\n * Validates tool inputs for credential exposure before Write/Edit/Bash operations.\n * Uses tiered pattern matching with exception handling for false positives.\n *\n * Exit codes:\n * - 0: Safe to proceed\n * - 1: Warning (logged but continues)\n * - 2: Block (operation prevented)\n */\n\nimport { resolve, dirname } from 'path';\nimport { readFileSync } from 'fs';\nimport {\n  parseStdin,\n  logError,\n  logInfo,\n  exitSuccess,\n  exitWarning,\n  exitBlock,\n  type PreToolUseInput,\n} from '../shared/utils';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface CredentialPattern {\n  id: string;\n  tier: 1 | 2 | 3;\n  pattern: string;\n  action: 'block' | 'warn';\n  description: string;\n  falsePositiveRisk: 'low' | 'medium' | 'high';\n}\n\ninterface ExceptionPattern {\n  id: string;\n  pattern: string;\n  description: string;\n}\n\ninterface PatternsConfig {\n  version: string;\n  patterns: CredentialPattern[];\n  exceptions: ExceptionPattern[];\n}\n\ninterface Detection {\n  patternId: string;\n  description: string;\n  action: 'block' | 'warn';\n  match: string;\n  tier: number;\n}\n\n// ============================================================================\n// Configuration\n// ============================================================================\n\nconst MONITORED_TOOLS = ['Write', 'Edit', 'Bash', 'NotebookEdit'];\n\n// Load patterns from JSON config\nfunction loadPatterns(): PatternsConfig {\n  const patternsPath = resolve(dirname(import.meta.path), 'patterns.json');\n  const content = readFileSync(patternsPath, 'utf-8');\n  return JSON.parse(content);\n}\n\n// ============================================================================\n// Content Extraction\n// ============================================================================\n\n/**\n * Extract content to scan from tool input based on tool type\n */\nfunction extractContent(toolName: string, toolInput: Record<string, unknown>): string {\n  const parts: string[] = [];\n\n  switch (toolName) {\n    case 'Write':\n      if (typeof toolInput.content === 'string') parts.push(toolInput.content);\n      if (typeof toolInput.file_path === 'string') parts.push(toolInput.file_path);\n      break;\n\n    case 'Edit':\n      if (typeof toolInput.old_string === 'string') parts.push(toolInput.old_string);\n      if (typeof toolInput.new_string === 'string') parts.push(toolInput.new_string);\n      if (typeof toolInput.file_path === 'string') parts.push(toolInput.file_path);\n      break;\n\n    case 'Bash':\n      if (typeof toolInput.command === 'string') parts.push(toolInput.command);\n      break;\n\n    case 'NotebookEdit':\n      if (typeof toolInput.new_source === 'string') parts.push(toolInput.new_source);\n      break;\n\n    default:\n      // Unknown tool - scan all string values\n      for (const value of Object.values(toolInput)) {\n        if (typeof value === 'string') parts.push(value);\n      }\n  }\n\n  return parts.join('\\n');\n}\n\n// ============================================================================\n// Detection Logic\n// ============================================================================\n\n/**\n * Check if a match is a false positive based on exception patterns\n */\nfunction isException(match: string, context: string, exceptions: ExceptionPattern[]): boolean {\n  // Check surrounding context (50 chars before and after)\n  const matchIndex = context.indexOf(match);\n  const start = Math.max(0, matchIndex - 50);\n  const end = Math.min(context.length, matchIndex + match.length + 50);\n  const surroundingContext = context.substring(start, end);\n\n  for (const exception of exceptions) {\n    const regex = new RegExp(exception.pattern, 'i');\n    if (regex.test(surroundingContext) || regex.test(match)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * Detect credentials in content using pattern matching\n */\nfunction detectCredentials(content: string, config: PatternsConfig): Detection[] {\n  const detections: Detection[] = [];\n\n  for (const pattern of config.patterns) {\n    try {\n      const regex = new RegExp(pattern.pattern, 'gi');\n      let match: RegExpExecArray | null;\n\n      while ((match = regex.exec(content)) !== null) {\n        const matchValue = match[0];\n\n        // Check if this is a false positive\n        if (isException(matchValue, content, config.exceptions)) {\n          continue;\n        }\n\n        // Truncate long matches for logging\n        const truncatedMatch =\n          matchValue.length > 30 ? matchValue.substring(0, 30) + '...' : matchValue;\n\n        detections.push({\n          patternId: pattern.id,\n          description: pattern.description,\n          action: pattern.action,\n          match: truncatedMatch,\n          tier: pattern.tier,\n        });\n\n        // Only report first match per pattern to avoid spam\n        break;\n      }\n    } catch (e) {\n      logError(`Invalid pattern ${pattern.id}: ${e}`);\n    }\n  }\n\n  // Sort by tier (most severe first)\n  return detections.sort((a, b) => a.tier - b.tier);\n}\n\n// ============================================================================\n// Main Hook Logic\n// ============================================================================\n\nasync function main(): Promise<void> {\n  try {\n    // Parse stdin\n    const input = await parseStdin<PreToolUseInput>();\n\n    // Skip non-monitored tools\n    if (!MONITORED_TOOLS.includes(input.tool_name)) {\n      exitSuccess();\n    }\n\n    // Load patterns\n    const config = loadPatterns();\n\n    // Extract content to scan\n    const content = extractContent(input.tool_name, input.tool_input as Record<string, unknown>);\n\n    if (!content) {\n      exitSuccess();\n    }\n\n    // Detect credentials\n    const detections = detectCredentials(content, config);\n\n    if (detections.length === 0) {\n      exitSuccess();\n    }\n\n    // Check for blocking detections\n    const blockers = detections.filter((d) => d.action === 'block');\n    const warnings = detections.filter((d) => d.action === 'warn');\n\n    if (blockers.length > 0) {\n      const messages = blockers.map((d) => `  - ${d.description}: ${d.match}`);\n      exitBlock(`Credential detected in ${input.tool_name} operation:\\n${messages.join('\\n')}`);\n    }\n\n    if (warnings.length > 0) {\n      const messages = warnings.map((d) => `  - ${d.description}: ${d.match}`);\n      exitWarning(\n        `Possible credential detected in ${input.tool_name} operation:\\n${messages.join('\\n')}`\n      );\n    }\n\n    exitSuccess();\n  } catch (e) {\n    // Fail open on hook errors (don't block legitimate operations)\n    logError(`Hook error: ${e instanceof Error ? e.message : 'unknown error'}`);\n    exitSuccess();\n  }\n}\n\nmain();\n",
        "hooks/session-end/__tests__/capture-history.test.ts": "/**\n * Tests for Capture History Hook\n *\n * Run with: bun test hooks/session-end/__tests__/capture-history.test.ts\n */\n\nimport { describe, test, expect, beforeEach, afterEach } from 'bun:test';\nimport { mkdirSync, rmSync, existsSync, readFileSync, readdirSync } from 'fs';\nimport { resolve } from 'path';\nimport { spawn } from 'bun';\n\n// ============================================================================\n// Test Setup\n// ============================================================================\n\nconst TEST_ROOT = '/tmp/geoffrey-history-test';\nconst TEST_HISTORY_PATH = resolve(TEST_ROOT, 'Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge');\n\nbeforeEach(() => {\n  // Set HOME to test root\n  process.env.HOME = TEST_ROOT;\n  mkdirSync(TEST_ROOT, { recursive: true });\n});\n\nafterEach(() => {\n  rmSync(TEST_ROOT, { recursive: true, force: true });\n  delete process.env.HOME;\n});\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\nfunction createTestTranscript(messages: Array<{ role: string; content: string }>): string {\n  const transcriptPath = resolve(TEST_ROOT, 'transcript.json');\n  Bun.write(transcriptPath, JSON.stringify(messages));\n  return transcriptPath;\n}\n\nasync function executeHook(input: Record<string, unknown>): Promise<{ exitCode: number; stderr: string }> {\n  const hookPath = resolve(import.meta.dir, '..', 'capture-history.ts');\n\n  const proc = spawn({\n    cmd: ['bun', hookPath],\n    stdin: 'pipe',\n    stdout: 'pipe',\n    stderr: 'pipe',\n    env: { ...process.env, HOME: TEST_ROOT },\n  });\n\n  proc.stdin.write(JSON.stringify(input));\n  proc.stdin.end();\n\n  const stderr = await new Response(proc.stderr).text();\n  const exitCode = await proc.exited;\n\n  return { exitCode, stderr };\n}\n\n// ============================================================================\n// JSONL Structure Tests\n// ============================================================================\n\ndescribe('JSONL History Capture', () => {\n  test('creates YYYY-MM directory structure', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Test message' },\n    ]);\n\n    const input = {\n      session_id: 'test-session-001',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    const { exitCode } = await executeHook(input);\n\n    expect(exitCode).toBe(0);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    expect(existsSync(rawDir)).toBe(true);\n\n    const monthDirs = readdirSync(rawDir);\n    expect(monthDirs.length).toBe(1);\n    expect(monthDirs[0]).toMatch(/^\\d{4}-\\d{2}$/);\n  });\n\n  test('creates session-{id}.jsonl file', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Test' },\n    ]);\n\n    const input = {\n      session_id: 'abc-123-def',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n\n    expect(files.some((f) => f.includes('abc-123-def'))).toBe(true);\n    expect(files[0]).toMatch(/\\.jsonl$/);\n  });\n\n  test('writes one JSON object per line', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Question 1' },\n      { role: 'assistant', content: 'Answer 1' },\n      { role: 'user', content: 'Question 2' },\n    ]);\n\n    const input = {\n      session_id: 'multi-message',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n    const jsonlPath = resolve(rawDir, monthDir, files[0]);\n\n    const content = readFileSync(jsonlPath, 'utf-8');\n    const lines = content.trim().split('\\n');\n\n    // 3 messages + 1 summary = 4 lines\n    expect(lines.length).toBe(4);\n\n    // Each line should be valid JSON\n    for (const line of lines) {\n      expect(() => JSON.parse(line)).not.toThrow();\n    }\n  });\n\n  test('includes required fields in message events', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Test question' },\n    ]);\n\n    const input = {\n      session_id: 'field-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n    const jsonlPath = resolve(rawDir, monthDir, files[0]);\n\n    const content = readFileSync(jsonlPath, 'utf-8');\n    const lines = content.trim().split('\\n');\n    const messageEvent = JSON.parse(lines[0]);\n\n    expect(messageEvent.session_id).toBe('field-test');\n    expect(messageEvent.event_type).toBe('message');\n    expect(messageEvent.role).toBe('user');\n    expect(messageEvent.content).toBe('Test question');\n    expect(messageEvent.turn).toBe(1);\n    expect(messageEvent.timestamp).toBeTruthy();\n  });\n\n  test('includes session summary as final line', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Test' },\n      { role: 'assistant', content: 'Response' },\n    ]);\n\n    const input = {\n      session_id: 'summary-test',\n      transcript_path: transcriptPath,\n      cwd: '/test/cwd',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n    const jsonlPath = resolve(rawDir, monthDir, files[0]);\n\n    const content = readFileSync(jsonlPath, 'utf-8');\n    const lines = content.trim().split('\\n');\n    const summary = JSON.parse(lines[lines.length - 1]);\n\n    expect(summary.event_type).toBe('session_summary');\n    expect(summary.session_id).toBe('summary-test');\n    expect(summary.message_count).toBe(2);\n    expect(summary.turn_count).toBe(1);\n    expect(summary.cwd).toBe('/test/cwd');\n    expect(summary.classification).toBeTruthy();\n    expect(summary.classification.category).toBeTruthy();\n  });\n});\n\n// ============================================================================\n// Content Handling Tests\n// ============================================================================\n\ndescribe('JSONL Content Handling', () => {\n  test('handles unicode content correctly', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'æ—¥æœ¬èªž franÃ§ais Ã©mojis ðŸš€ ä¸­æ–‡' },\n    ]);\n\n    const input = {\n      session_id: 'unicode-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n    const jsonlPath = resolve(rawDir, monthDir, files[0]);\n\n    const content = readFileSync(jsonlPath, 'utf-8');\n    const messageEvent = JSON.parse(content.trim().split('\\n')[0]);\n\n    expect(messageEvent.content).toBe('æ—¥æœ¬èªž franÃ§ais Ã©mojis ðŸš€ ä¸­æ–‡');\n  });\n\n  test('escapes newlines in content', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Line 1\\nLine 2\\nLine 3' },\n    ]);\n\n    const input = {\n      session_id: 'newline-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n    const jsonlPath = resolve(rawDir, monthDir, files[0]);\n\n    const content = readFileSync(jsonlPath, 'utf-8');\n    const lines = content.trim().split('\\n');\n\n    // Should be 2 lines (1 message + 1 summary), not 4\n    expect(lines.length).toBe(2);\n\n    // Content should contain the newlines when parsed\n    const messageEvent = JSON.parse(lines[0]);\n    expect(messageEvent.content).toContain('\\n');\n  });\n\n  test('sanitizes session ID in filename', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Test' },\n    ]);\n\n    const input = {\n      session_id: 'bad/path/../../../etc/passwd',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n\n    // Should not create path traversal\n    expect(files[0]).not.toContain('/');\n    expect(files[0]).not.toContain('..');\n    expect(existsSync('/etc/passwd.jsonl')).toBe(false);\n  });\n});\n\n// ============================================================================\n// Error Handling Tests\n// ============================================================================\n\ndescribe('Error Handling', () => {\n  test('handles empty transcript gracefully', async () => {\n    const transcriptPath = createTestTranscript([]);\n\n    const input = {\n      session_id: 'empty-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    const { exitCode, stderr } = await executeHook(input);\n\n    expect(exitCode).toBe(0); // Non-blocking\n    expect(stderr).toContain('Empty transcript');\n  });\n\n  test('handles missing transcript file gracefully', async () => {\n    const input = {\n      session_id: 'missing-transcript',\n      transcript_path: '/nonexistent/path/transcript.json',\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    const { exitCode } = await executeHook(input);\n\n    expect(exitCode).toBe(0); // Non-blocking\n  });\n\n  test('exits 0 even on errors (non-blocking)', async () => {\n    // Invalid JSON in stdin\n    const hookPath = resolve(import.meta.dir, '..', 'capture-history.ts');\n\n    const proc = spawn({\n      cmd: ['bun', hookPath],\n      stdin: 'pipe',\n      stdout: 'pipe',\n      stderr: 'pipe',\n      env: { ...process.env, HOME: TEST_ROOT },\n    });\n\n    proc.stdin.write('invalid json {{{');\n    proc.stdin.end();\n\n    const exitCode = await proc.exited;\n\n    // Should exit 0 to not block session\n    expect(exitCode).toBe(0);\n  });\n});\n\n// ============================================================================\n// Classification Integration Tests\n// ============================================================================\n\ndescribe('Classification in JSONL', () => {\n  test('includes classification in session summary', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Research the best cloud providers for 2025' },\n      { role: 'assistant', content: 'Based on my analysis...' },\n    ]);\n\n    const input = {\n      session_id: 'classification-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const rawDir = resolve(TEST_HISTORY_PATH, 'history', 'raw');\n    const monthDir = readdirSync(rawDir)[0];\n    const files = readdirSync(resolve(rawDir, monthDir));\n    const jsonlPath = resolve(rawDir, monthDir, files[0]);\n\n    const content = readFileSync(jsonlPath, 'utf-8');\n    const lines = content.trim().split('\\n');\n    const summary = JSON.parse(lines[lines.length - 1]);\n\n    expect(summary.classification.category).toBe('research');\n    expect(summary.classification.confidence).toBeGreaterThan(0.5);\n    expect(summary.classification.topics).toBeDefined();\n  });\n});\n",
        "hooks/session-end/__tests__/classifier.test.ts": "/**\n * Tests for Content Classifier\n *\n * Run with: bun test hooks/session-end/__tests__/classifier.test.ts\n */\n\nimport { describe, test, expect } from 'bun:test';\nimport {\n  classifyContent,\n  generateTopicSlug,\n  isHighConfidence,\n  getCategoryDescription,\n  type ClassificationResult,\n} from '../../shared/classifier';\nimport type { TranscriptMessage } from '../../shared/utils';\n\n// ============================================================================\n// Test Fixtures\n// ============================================================================\n\nconst RESEARCH_TRANSCRIPT: TranscriptMessage[] = [\n  {\n    role: 'user',\n    content: 'Research the best TypeScript testing frameworks for 2025',\n    timestamp: '2025-12-29T10:00:00Z',\n  },\n  {\n    role: 'assistant',\n    content: 'Based on my analysis of testing frameworks, here are the top options:\\n- Bun test (built-in)\\n- Vitest (fast, Vite-native)\\n- Jest (mature ecosystem)',\n    timestamp: '2025-12-29T10:01:00Z',\n  },\n];\n\nconst DECISION_TRANSCRIPT: TranscriptMessage[] = [\n  {\n    role: 'user',\n    content: 'Help me decide between PostgreSQL and MongoDB for this project',\n    timestamp: '2025-12-29T10:00:00Z',\n  },\n  {\n    role: 'assistant',\n    content: 'Let me compare these options based on your requirements. PostgreSQL is better for relational data...',\n    timestamp: '2025-12-29T10:01:00Z',\n  },\n];\n\nconst DAILY_LOG_TRANSCRIPT: TranscriptMessage[] = [\n  {\n    role: 'user',\n    content: 'Add a task to OmniFocus for the team meeting tomorrow',\n    timestamp: '2025-12-29T10:00:00Z',\n  },\n  {\n    role: 'assistant',\n    content: 'Task added successfully to OmniFocus.',\n    timestamp: '2025-12-29T10:00:30Z',\n  },\n];\n\n// ============================================================================\n// Classification Tests\n// ============================================================================\n\ndescribe('Content Classification', () => {\n  test('classifies research conversations by keywords', () => {\n    const result = classifyContent(RESEARCH_TRANSCRIPT);\n\n    expect(result.category).toBe('research');\n    expect(result.confidence).toBeGreaterThan(0.5);\n    expect(result.metadata.keywordsFound).toContain('research');\n  });\n\n  test('classifies decision conversations', () => {\n    const result = classifyContent(DECISION_TRANSCRIPT);\n\n    expect(result.category).toBe('decision');\n    expect(result.confidence).toBeGreaterThan(0.5);\n    expect(result.metadata.keywordsFound).toContain('decide');\n  });\n\n  test('defaults to daily-log for general conversations', () => {\n    const result = classifyContent(DAILY_LOG_TRANSCRIPT);\n\n    expect(result.category).toBe('daily-log');\n    expect(result.confidence).toBeGreaterThanOrEqual(0.5);\n  });\n\n  test('handles empty transcripts', () => {\n    const result = classifyContent([]);\n\n    expect(result.category).toBe('daily-log');\n    expect(result.confidence).toBe(0.5);\n    expect(result.topics).toContain('general');\n  });\n\n  test('handles transcripts with missing content', () => {\n    const malformed: TranscriptMessage[] = [\n      { role: 'user', content: '' },\n      { role: 'assistant', content: '' },\n    ];\n\n    const result = classifyContent(malformed);\n\n    expect(result.category).toBe('daily-log');\n    expect(result.topicSlug).toBe('general');\n  });\n\n  test('keyword matching is case-insensitive', () => {\n    const uppercase: TranscriptMessage[] = [\n      { role: 'user', content: 'RESEARCH THIS TOPIC' },\n    ];\n\n    const result = classifyContent(uppercase);\n\n    expect(result.category).toBe('research');\n  });\n\n  test('research takes priority over decision when both present', () => {\n    const mixed: TranscriptMessage[] = [\n      {\n        role: 'user',\n        content: 'Research options to help decide on cloud provider',\n      },\n    ];\n\n    const result = classifyContent(mixed);\n\n    // Research has weight 1.0, decision 0.9, so research wins\n    expect(result.category).toBe('research');\n  });\n\n  test('reduces confidence for mixed signals', () => {\n    const mixed: TranscriptMessage[] = [\n      { role: 'user', content: 'Research and decide on the best approach' },\n    ];\n\n    const mixedResult = classifyContent(mixed);\n\n    // Mixed signals should have reduced confidence due to the 0.9 multiplier\n    // The confidence should be less than 0.95 (max research confidence)\n    expect(mixedResult.confidence).toBeLessThan(0.95);\n    // But still classified as something\n    expect(['research', 'decision', 'daily-log']).toContain(mixedResult.category);\n  });\n});\n\n// ============================================================================\n// Topic Extraction Tests\n// ============================================================================\n\ndescribe('Topic Extraction', () => {\n  test('extracts topic from research query', () => {\n    const transcript: TranscriptMessage[] = [\n      { role: 'user', content: 'Research Whistler ski season 2026' },\n    ];\n\n    const result = classifyContent(transcript);\n\n    expect(result.topics.length).toBeGreaterThan(0);\n    expect(result.topicSlug).not.toBe('general');\n  });\n\n  test('extracts topic from analyze/investigate patterns', () => {\n    const transcript: TranscriptMessage[] = [\n      { role: 'user', content: 'Investigate GraphQL performance issues' },\n    ];\n\n    const result = classifyContent(transcript);\n\n    expect(result.metadata.primaryTopic).toBeTruthy();\n    expect(result.metadata.primaryTopic).not.toBe('general');\n  });\n\n  test('handles multi-turn conversations', () => {\n    const transcript: TranscriptMessage[] = [\n      { role: 'user', content: 'Tell me about React' },\n      { role: 'assistant', content: 'React is a JavaScript library...' },\n      { role: 'user', content: 'Now compare it to Vue' },\n      { role: 'assistant', content: 'Vue differs in several ways...' },\n    ];\n\n    const result = classifyContent(transcript);\n\n    expect(result.metadata.turnCount).toBe(2);\n  });\n\n  test('limits topic length', () => {\n    const longTopic: TranscriptMessage[] = [\n      {\n        role: 'user',\n        content: 'Research ' + 'a'.repeat(200) + ' very long topic name',\n      },\n    ];\n\n    const result = classifyContent(longTopic);\n\n    expect(result.topicSlug.length).toBeLessThanOrEqual(50);\n  });\n});\n\n// ============================================================================\n// Topic Slug Generation Tests\n// ============================================================================\n\ndescribe('Topic Slug Generation', () => {\n  test('generates URL-safe slugs', () => {\n    const slug = generateTopicSlug('GraphQL Performance Testing');\n\n    expect(slug).toBe('graphql-performance-testing');\n    expect(slug).toMatch(/^[a-z0-9-]+$/);\n  });\n\n  test('handles special characters', () => {\n    const slug = generateTopicSlug('C++ vs Rust: A Comparison!');\n\n    expect(slug).toMatch(/^[a-z0-9-]+$/);\n    expect(slug).not.toContain('+');\n    expect(slug).not.toContain(':');\n    expect(slug).not.toContain('!');\n  });\n\n  test('handles unicode/diacritics', () => {\n    const slug = generateTopicSlug('cafÃ© management systÃ¨me');\n\n    expect(slug).toMatch(/^[a-z0-9-]+$/);\n    expect(slug).toContain('cafe');\n    expect(slug).toContain('systeme');\n  });\n\n  test('collapses multiple hyphens', () => {\n    const slug = generateTopicSlug('foo   ---   bar');\n\n    expect(slug).not.toContain('--');\n    expect(slug).toBe('foo-bar');\n  });\n\n  test('trims leading/trailing hyphens', () => {\n    const slug = generateTopicSlug('  -topic name-  ');\n\n    expect(slug).not.toMatch(/^-/);\n    expect(slug).not.toMatch(/-$/);\n  });\n\n  test('returns general for empty input', () => {\n    expect(generateTopicSlug('')).toBe('general');\n    expect(generateTopicSlug('   ')).toBe('general');\n  });\n});\n\n// ============================================================================\n// Utility Function Tests\n// ============================================================================\n\ndescribe('Utility Functions', () => {\n  test('isHighConfidence returns true for >= 0.8', () => {\n    const highConfidence: ClassificationResult = {\n      category: 'research',\n      topics: ['test'],\n      topicSlug: 'test',\n      confidence: 0.85,\n      metadata: {\n        messageCount: 2,\n        turnCount: 1,\n        keywordsFound: ['research'],\n        primaryTopic: 'test',\n      },\n    };\n\n    const lowConfidence: ClassificationResult = {\n      ...highConfidence,\n      confidence: 0.6,\n    };\n\n    expect(isHighConfidence(highConfidence)).toBe(true);\n    expect(isHighConfidence(lowConfidence)).toBe(false);\n  });\n\n  test('getCategoryDescription returns readable strings', () => {\n    expect(getCategoryDescription('research')).toBe('Research & Analysis');\n    expect(getCategoryDescription('decision')).toBe('Decision Making');\n    expect(getCategoryDescription('daily-log')).toBe('Daily Activity');\n  });\n});\n\n// ============================================================================\n// Edge Cases\n// ============================================================================\n\ndescribe('Edge Cases', () => {\n  test('handles only assistant messages (no user input)', () => {\n    const onlyAssistant: TranscriptMessage[] = [\n      { role: 'assistant', content: 'Hello, how can I help?' },\n    ];\n\n    const result = classifyContent(onlyAssistant);\n\n    expect(result.category).toBe('daily-log');\n    expect(result.confidence).toBeLessThan(0.8);\n  });\n\n  test('handles very short messages', () => {\n    const short: TranscriptMessage[] = [\n      { role: 'user', content: 'Hi' },\n      { role: 'assistant', content: 'Hello' },\n    ];\n\n    const result = classifyContent(short);\n\n    expect(result.category).toBe('daily-log');\n  });\n\n  test('handles messages with only special characters', () => {\n    const special: TranscriptMessage[] = [\n      { role: 'user', content: '!@#$%^&*()' },\n    ];\n\n    const result = classifyContent(special);\n\n    expect(result.category).toBe('daily-log');\n    expect(result.topicSlug).toBe('general');\n  });\n\n  test('handles undefined content gracefully', () => {\n    const undefined_content: TranscriptMessage[] = [\n      { role: 'user', content: undefined as unknown as string },\n    ];\n\n    // Should not throw\n    const result = classifyContent(undefined_content);\n\n    expect(result.category).toBe('daily-log');\n  });\n});\n",
        "hooks/session-end/__tests__/route-to-obsidian.test.ts": "/**\n * Tests for Route to Obsidian Hook\n *\n * Run with: bun test hooks/session-end/__tests__/route-to-obsidian.test.ts\n */\n\nimport { describe, test, expect, beforeEach, afterEach } from 'bun:test';\nimport { mkdirSync, rmSync, existsSync, readFileSync, readdirSync } from 'fs';\nimport { resolve } from 'path';\nimport { spawn } from 'bun';\n\n// ============================================================================\n// Test Setup\n// ============================================================================\n\nconst TEST_ROOT = '/tmp/geoffrey-obsidian-test';\nconst TEST_VAULT = resolve(TEST_ROOT, 'vault');\nconst TEST_KNOWLEDGE = resolve(TEST_ROOT, 'Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge');\n\nbeforeEach(() => {\n  process.env.HOME = TEST_ROOT;\n  process.env.GEOFFREY_VAULT = TEST_VAULT;\n  mkdirSync(TEST_VAULT, { recursive: true });\n  mkdirSync(TEST_KNOWLEDGE, { recursive: true });\n});\n\nafterEach(() => {\n  rmSync(TEST_ROOT, { recursive: true, force: true });\n  delete process.env.HOME;\n  delete process.env.GEOFFREY_VAULT;\n});\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\nfunction createTestTranscript(messages: Array<{ role: string; content: string }>): string {\n  const transcriptPath = resolve(TEST_ROOT, 'transcript.json');\n  Bun.write(transcriptPath, JSON.stringify(messages));\n  return transcriptPath;\n}\n\nasync function executeHook(input: Record<string, unknown>): Promise<{ exitCode: number; stderr: string }> {\n  const hookPath = resolve(import.meta.dir, '..', 'route-to-obsidian.ts');\n\n  const proc = spawn({\n    cmd: ['bun', hookPath],\n    stdin: 'pipe',\n    stdout: 'pipe',\n    stderr: 'pipe',\n    env: {\n      ...process.env,\n      HOME: TEST_ROOT,\n      GEOFFREY_VAULT: TEST_VAULT,\n    },\n  });\n\n  proc.stdin.write(JSON.stringify(input));\n  proc.stdin.end();\n\n  const stderr = await new Response(proc.stderr).text();\n  const exitCode = await proc.exited;\n\n  return { exitCode, stderr };\n}\n\n// ============================================================================\n// Research Routing Tests\n// ============================================================================\n\ndescribe('Research Routing', () => {\n  test('creates Research/{topic}/ directory structure', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Research the best TypeScript frameworks' },\n      { role: 'assistant', content: 'Based on my analysis...' },\n    ]);\n\n    const input = {\n      session_id: 'research-test-1',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const researchDir = resolve(TEST_VAULT, 'Research');\n    expect(existsSync(researchDir)).toBe(true);\n\n    const topicDirs = readdirSync(researchDir);\n    expect(topicDirs.length).toBeGreaterThan(0);\n  });\n\n  test('generates markdown with frontmatter', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Research cloud storage options' },\n      { role: 'assistant', content: 'Here are the top options:\\n- AWS S3\\n- Google Cloud Storage\\n- Azure Blob' },\n    ]);\n\n    const input = {\n      session_id: 'frontmatter-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const researchDir = resolve(TEST_VAULT, 'Research');\n    const topicDirs = readdirSync(researchDir);\n    const files = readdirSync(resolve(researchDir, topicDirs[0]));\n    const mdPath = resolve(researchDir, topicDirs[0], files[0]);\n\n    const content = readFileSync(mdPath, 'utf-8');\n\n    expect(content).toContain('---');\n    expect(content).toContain('session_id: frontmatter-test');\n    expect(content).toContain('type: research');\n    expect(content).toContain('source: geoffrey');\n  });\n\n  test('extracts key findings from bullet points', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Research database options' },\n      {\n        role: 'assistant',\n        content: 'Here are the key findings:\\n- PostgreSQL offers excellent ACID compliance\\n- MongoDB provides flexible schema design\\n- Redis excels at caching scenarios',\n      },\n    ]);\n\n    const input = {\n      session_id: 'findings-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const researchDir = resolve(TEST_VAULT, 'Research');\n    const topicDirs = readdirSync(researchDir);\n    const files = readdirSync(resolve(researchDir, topicDirs[0]));\n    const mdPath = resolve(researchDir, topicDirs[0], files[0]);\n\n    const content = readFileSync(mdPath, 'utf-8');\n\n    expect(content).toContain('Key Findings');\n  });\n});\n\n// ============================================================================\n// Decision Routing Tests\n// ============================================================================\n\ndescribe('Decision Routing', () => {\n  test('creates flat file in Decisions/', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Help me decide between React and Vue' },\n      { role: 'assistant', content: 'Let me compare these frameworks...' },\n    ]);\n\n    const input = {\n      session_id: 'decision-test-1',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const decisionsDir = resolve(TEST_VAULT, 'Decisions');\n    expect(existsSync(decisionsDir)).toBe(true);\n\n    const files = readdirSync(decisionsDir);\n    expect(files.length).toBe(1);\n    expect(files[0]).toMatch(/^\\d{4}-\\d{2}-\\d{2}/);\n    expect(files[0]).toMatch(/\\.md$/);\n  });\n\n  test('includes context section', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Should I use PostgreSQL or MongoDB for my e-commerce app?' },\n      { role: 'assistant', content: 'Based on your requirements...' },\n    ]);\n\n    const input = {\n      session_id: 'context-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const decisionsDir = resolve(TEST_VAULT, 'Decisions');\n    const files = readdirSync(decisionsDir);\n    const mdPath = resolve(decisionsDir, files[0]);\n\n    const content = readFileSync(mdPath, 'utf-8');\n\n    expect(content).toContain('## Context');\n    expect(content).toContain('type: decision');\n  });\n});\n\n// ============================================================================\n// Daily Log Routing Tests\n// ============================================================================\n\ndescribe('Daily Log Routing', () => {\n  test('creates YYYY-MM-DD.md file', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Add a task to OmniFocus' },\n      { role: 'assistant', content: 'Task added successfully.' },\n    ]);\n\n    const input = {\n      session_id: 'daily-test-1',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const dailyLogsDir = resolve(TEST_VAULT, 'Daily-Logs');\n    expect(existsSync(dailyLogsDir)).toBe(true);\n\n    const files = readdirSync(dailyLogsDir);\n    expect(files.length).toBe(1);\n    expect(files[0]).toMatch(/^\\d{4}-\\d{2}-\\d{2}\\.md$/);\n  });\n\n  test('appends to existing daily log', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'First task' },\n      { role: 'assistant', content: 'Done' },\n    ]);\n\n    const input1 = {\n      session_id: 'daily-session-1',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    const input2 = {\n      session_id: 'daily-session-2',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input1);\n    await executeHook(input2);\n\n    const dailyLogsDir = resolve(TEST_VAULT, 'Daily-Logs');\n    const files = readdirSync(dailyLogsDir);\n\n    // Should still be one file\n    expect(files.length).toBe(1);\n\n    const content = readFileSync(resolve(dailyLogsDir, files[0]), 'utf-8');\n\n    // Should contain both session IDs\n    expect(content).toContain('daily-session-1');\n    expect(content).toContain('daily-session-2');\n  });\n\n  test('creates header for new daily log', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Quick task' },\n      { role: 'assistant', content: 'Done' },\n    ]);\n\n    const input = {\n      session_id: 'header-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const dailyLogsDir = resolve(TEST_VAULT, 'Daily-Logs');\n    const files = readdirSync(dailyLogsDir);\n    const content = readFileSync(resolve(dailyLogsDir, files[0]), 'utf-8');\n\n    expect(content).toContain('---');\n    expect(content).toContain('type: daily-log');\n    expect(content).toContain('# ');\n    expect(content).toContain('Session Log');\n  });\n});\n\n// ============================================================================\n// Frontmatter Tests\n// ============================================================================\n\ndescribe('Frontmatter Generation', () => {\n  test('includes required fields', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Research something' },\n      { role: 'assistant', content: 'Here is the research...' },\n    ]);\n\n    const input = {\n      session_id: 'frontmatter-fields',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const researchDir = resolve(TEST_VAULT, 'Research');\n    const topicDirs = readdirSync(researchDir);\n    const files = readdirSync(resolve(researchDir, topicDirs[0]));\n    const content = readFileSync(resolve(researchDir, topicDirs[0], files[0]), 'utf-8');\n\n    // Extract frontmatter\n    const frontmatterMatch = content.match(/^---\\n([\\s\\S]*?)\\n---/);\n    expect(frontmatterMatch).toBeTruthy();\n\n    const frontmatter = frontmatterMatch![1];\n    expect(frontmatter).toContain('session_id:');\n    expect(frontmatter).toContain('date:');\n    expect(frontmatter).toContain('type:');\n    expect(frontmatter).toContain('topics:');\n    expect(frontmatter).toContain('confidence:');\n    expect(frontmatter).toContain('created:');\n    expect(frontmatter).toContain('source: geoffrey');\n    expect(frontmatter).toContain('tags:');\n  });\n});\n\n// ============================================================================\n// Error Handling Tests\n// ============================================================================\n\ndescribe('Error Handling', () => {\n  test('handles empty transcript gracefully', async () => {\n    const transcriptPath = createTestTranscript([]);\n\n    const input = {\n      session_id: 'empty-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    const { exitCode, stderr } = await executeHook(input);\n\n    expect(exitCode).toBe(0);\n    expect(stderr).toContain('Empty transcript');\n  });\n\n  test('exits 0 even on errors (non-blocking)', async () => {\n    const hookPath = resolve(import.meta.dir, '..', 'route-to-obsidian.ts');\n\n    const proc = spawn({\n      cmd: ['bun', hookPath],\n      stdin: 'pipe',\n      stdout: 'pipe',\n      stderr: 'pipe',\n      env: {\n        ...process.env,\n        HOME: TEST_ROOT,\n        GEOFFREY_VAULT: TEST_VAULT,\n      },\n    });\n\n    proc.stdin.write('invalid json');\n    proc.stdin.end();\n\n    const exitCode = await proc.exited;\n\n    expect(exitCode).toBe(0);\n  });\n\n  test('creates directories if they do not exist', async () => {\n    // Remove the vault dir\n    rmSync(TEST_VAULT, { recursive: true, force: true });\n\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Test' },\n    ]);\n\n    const input = {\n      session_id: 'mkdir-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    // Vault should be recreated\n    expect(existsSync(TEST_VAULT)).toBe(true);\n  });\n});\n\n// ============================================================================\n// Content Extraction Tests\n// ============================================================================\n\ndescribe('Content Extraction', () => {\n  test('extracts questions from user messages', async () => {\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: 'Research GraphQL. What are the benefits? How does it compare to REST?' },\n      { role: 'assistant', content: 'GraphQL offers...' },\n    ]);\n\n    const input = {\n      session_id: 'questions-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const researchDir = resolve(TEST_VAULT, 'Research');\n    const topicDirs = readdirSync(researchDir);\n    const files = readdirSync(resolve(researchDir, topicDirs[0]));\n    const content = readFileSync(resolve(researchDir, topicDirs[0], files[0]), 'utf-8');\n\n    expect(content).toContain('Questions Explored');\n  });\n\n  test('limits extracted content length', async () => {\n    const longContent = 'A'.repeat(10000);\n    const transcriptPath = createTestTranscript([\n      { role: 'user', content: `Research ${longContent}` },\n      { role: 'assistant', content: longContent },\n    ]);\n\n    const input = {\n      session_id: 'length-test',\n      transcript_path: transcriptPath,\n      cwd: '/tmp',\n      hook_event_name: 'SessionEnd',\n    };\n\n    await executeHook(input);\n\n    const researchDir = resolve(TEST_VAULT, 'Research');\n    const topicDirs = readdirSync(researchDir);\n    const files = readdirSync(resolve(researchDir, topicDirs[0]));\n    const content = readFileSync(resolve(researchDir, topicDirs[0], files[0]), 'utf-8');\n\n    // Content should be reasonable length\n    expect(content.length).toBeLessThan(20000);\n  });\n});\n",
        "hooks/session-end/capture-history.ts": "#!/usr/bin/env bun\n/**\n * SessionEnd Hook: Capture History\n *\n * Captures raw conversation data to JSONL format for future analysis.\n * Creates per-session files in: ~/Library/.../Geoffrey/history/raw/YYYY-MM/session-{session_id}.jsonl\n *\n * JSONL Format:\n * - One JSON object per line (per message)\n * - Includes session metadata as final line\n * - Enables streaming analysis and pattern detection\n *\n * Exit codes:\n * - 0: Success (non-blocking)\n * - 1: Non-blocking error (logged but continues)\n */\n\nimport { resolve } from 'path';\nimport {\n  parseStdin,\n  readTranscript,\n  appendToFile,\n  getKnowledgePath,\n  logInfo,\n  logError,\n  exitSuccess,\n  getCurrentTimestamp,\n  type SessionEndInput,\n  type TranscriptMessage,\n} from '../shared/utils';\nimport { classifyContent, type ClassificationResult } from '../shared/classifier';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface JSONLMessageEvent {\n  session_id: string;\n  timestamp: string;\n  event_type: 'message';\n  role: 'user' | 'assistant';\n  content: string;\n  turn: number;\n}\n\ninterface JSONLSessionSummary {\n  session_id: string;\n  timestamp: string;\n  event_type: 'session_summary';\n  start_time: string;\n  end_time: string;\n  message_count: number;\n  turn_count: number;\n  classification: ClassificationResult;\n  cwd: string;\n  transcript_path: string;\n}\n\n// ============================================================================\n// JSONL Generation\n// ============================================================================\n\n/**\n * Generate JSONL content from transcript messages\n */\nfunction generateJSONLContent(\n  input: SessionEndInput,\n  messages: TranscriptMessage[],\n  classification: ClassificationResult\n): string {\n  const lines: string[] = [];\n  const endTime = getCurrentTimestamp();\n\n  // Write per-message events\n  let turn = 0;\n  for (let i = 0; i < messages.length; i++) {\n    const msg = messages[i];\n    if (!msg?.content) continue;\n\n    // Increment turn on user messages\n    if (msg.role === 'user') {\n      turn++;\n    }\n\n    const event: JSONLMessageEvent = {\n      session_id: input.session_id,\n      timestamp: msg.timestamp || endTime,\n      event_type: 'message',\n      role: msg.role,\n      content: msg.content,\n      turn,\n    };\n\n    lines.push(JSON.stringify(event));\n  }\n\n  // Write session summary as final line\n  const firstMessage = messages[0];\n  const summary: JSONLSessionSummary = {\n    session_id: input.session_id,\n    timestamp: endTime,\n    event_type: 'session_summary',\n    start_time: firstMessage?.timestamp || endTime,\n    end_time: endTime,\n    message_count: messages.length,\n    turn_count: turn,\n    classification,\n    cwd: input.cwd,\n    transcript_path: input.transcript_path,\n  };\n\n  lines.push(JSON.stringify(summary));\n\n  return lines.join('\\n') + '\\n';\n}\n\n/**\n * Generate the JSONL file path for a session\n */\nfunction getJSONLPath(sessionId: string): string {\n  const now = new Date();\n  const yearMonth = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;\n\n  // Sanitize session ID for filename\n  const safeSessionId = sessionId.replace(/[^a-zA-Z0-9-_]/g, '_').slice(0, 100);\n\n  return resolve(\n    getKnowledgePath(),\n    'history',\n    'raw',\n    yearMonth,\n    `session-${safeSessionId}.jsonl`\n  );\n}\n\n// ============================================================================\n// Main Hook Logic\n// ============================================================================\n\nasync function main(): Promise<void> {\n  try {\n    // Parse stdin input\n    const input = await parseStdin<SessionEndInput>();\n\n    // Read transcript\n    const messages = readTranscript(input.transcript_path);\n\n    if (messages.length === 0) {\n      logInfo('Empty transcript, skipping history capture');\n      exitSuccess();\n    }\n\n    // Classify content for metadata\n    const classification = classifyContent(messages);\n\n    // Generate JSONL content\n    const jsonlContent = generateJSONLContent(input, messages, classification);\n\n    // Write to file\n    const jsonlPath = getJSONLPath(input.session_id);\n    appendToFile(jsonlPath, jsonlContent);\n\n    logInfo(\n      `Captured ${messages.length} messages to ${jsonlPath} ` +\n        `(classified as ${classification.category}, confidence: ${classification.confidence.toFixed(2)})`\n    );\n\n    exitSuccess();\n  } catch (e) {\n    // Log error but don't block session end\n    logError(`Failed to capture history: ${e instanceof Error ? e.message : 'unknown error'}`);\n    exitSuccess();\n  }\n}\n\nmain();\n",
        "hooks/session-end/create-daily-log.ts": "#!/usr/bin/env bun\n/**\n * SessionEnd Hook: Create Daily Log\n *\n * Creates or appends to an Obsidian daily log summarizing the session.\n * Routes content to Daily-Logs folder with YYYY-MM-DD.md format.\n *\n * Exit codes:\n * - 0: Success (log created/appended)\n * - 1: Non-blocking error (logged but continues)\n */\n\nimport { resolve, basename } from 'path';\nimport { existsSync, readFileSync } from 'fs';\nimport {\n  parseStdin,\n  readTranscript,\n  appendToFile,\n  writeJsonFile,\n  getObsidianVaultPath,\n  getKnowledgePath,\n  logInfo,\n  logError,\n  exitSuccess,\n  getCurrentDate,\n  getCurrentTimestamp,\n  type SessionEndInput,\n  type TranscriptMessage,\n} from '../shared/utils';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface SessionSummary {\n  sessionId: string;\n  timestamp: string;\n  duration: string;\n  messageCount: number;\n  userMessages: number;\n  assistantMessages: number;\n  topics: string[];\n  filesModified: string[];\n  toolsUsed: string[];\n  summary: string;\n}\n\ninterface RawLogEntry {\n  sessionId: string;\n  timestamp: string;\n  transcriptPath: string;\n  cwd: string;\n  summary: SessionSummary;\n}\n\n// ============================================================================\n// Content Analysis\n// ============================================================================\n\n/**\n * Extract topics from transcript using keyword detection\n */\nfunction extractTopics(messages: TranscriptMessage[]): string[] {\n  const topicKeywords: Record<string, string[]> = {\n    'code-review': ['review', 'pr', 'pull request', 'code review'],\n    'debugging': ['bug', 'error', 'fix', 'debug', 'issue'],\n    'feature-dev': ['implement', 'feature', 'add', 'create', 'build'],\n    'research': ['research', 'investigate', 'explore', 'analyze'],\n    'documentation': ['docs', 'document', 'readme', 'explain'],\n    'testing': ['test', 'spec', 'coverage', 'unit test'],\n    'refactoring': ['refactor', 'cleanup', 'improve', 'optimize'],\n    'configuration': ['config', 'setup', 'install', 'configure'],\n    'task-management': ['task', 'omnifocus', 'todo', 'reminder'],\n    'email': ['email', 'gmail', 'mail', 'message'],\n  };\n\n  const allText = messages.map((m) => m.content.toLowerCase()).join(' ');\n  const foundTopics: string[] = [];\n\n  for (const [topic, keywords] of Object.entries(topicKeywords)) {\n    if (keywords.some((kw) => allText.includes(kw))) {\n      foundTopics.push(topic);\n    }\n  }\n\n  return foundTopics.length > 0 ? foundTopics : ['general'];\n}\n\n/**\n * Extract modified files from transcript\n */\nfunction extractModifiedFiles(messages: TranscriptMessage[]): string[] {\n  const files = new Set<string>();\n  const filePattern = /(?:created?|modified?|updated?|wrote|edited?)\\s+(?:file\\s+)?[\"`']?([^\\s\"`']+\\.[a-z]{1,10})[\"`']?/gi;\n\n  for (const message of messages) {\n    if (message.role !== 'assistant') continue;\n\n    let match: RegExpExecArray | null;\n    while ((match = filePattern.exec(message.content)) !== null) {\n      const file = match[1];\n      if (file && !file.includes('...') && file.length < 200) {\n        files.add(file);\n      }\n    }\n  }\n\n  return Array.from(files).slice(0, 20); // Limit to 20 files\n}\n\n/**\n * Extract tools used from transcript\n */\nfunction extractToolsUsed(messages: TranscriptMessage[]): string[] {\n  const tools = new Set<string>();\n  const toolPattern = /(?:using|ran|executed?|called?)\\s+(?:the\\s+)?(\\w+)\\s+tool/gi;\n\n  for (const message of messages) {\n    if (message.role !== 'assistant') continue;\n\n    let match: RegExpExecArray | null;\n    while ((match = toolPattern.exec(message.content)) !== null) {\n      tools.add(match[1]);\n    }\n  }\n\n  return Array.from(tools);\n}\n\n/**\n * Generate a brief summary of the session\n */\nfunction generateSummary(messages: TranscriptMessage[], topics: string[]): string {\n  // Use first user message as context\n  const firstUserMessage = messages.find((m) => m.role === 'user');\n  if (!firstUserMessage) return 'No user messages in session';\n\n  const firstLine = firstUserMessage.content.split('\\n')[0].substring(0, 100);\n  const topicsStr = topics.join(', ');\n\n  return `Session focused on ${topicsStr}. Started with: \"${firstLine}${firstLine.length >= 100 ? '...' : ''}\"`;\n}\n\n/**\n * Calculate session duration from timestamps\n */\nfunction calculateDuration(messages: TranscriptMessage[]): string {\n  if (messages.length < 2) return 'brief';\n\n  const first = messages[0]?.timestamp;\n  const last = messages[messages.length - 1]?.timestamp;\n\n  if (!first || !last) return 'unknown';\n\n  try {\n    const start = new Date(first).getTime();\n    const end = new Date(last).getTime();\n    const minutes = Math.round((end - start) / 60000);\n\n    if (minutes < 1) return 'brief';\n    if (minutes < 60) return `${minutes} min`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMins = minutes % 60;\n    return `${hours}h ${remainingMins}m`;\n  } catch {\n    return 'unknown';\n  }\n}\n\n// ============================================================================\n// Markdown Generation\n// ============================================================================\n\n/**\n * Generate markdown content for the daily log entry\n */\nfunction generateMarkdownEntry(summary: SessionSummary): string {\n  const lines: string[] = [];\n\n  lines.push(`\\n## ${summary.timestamp.split('T')[1]?.split('.')[0] || 'Session'}`);\n  lines.push('');\n  lines.push(`**Session ID:** \\`${summary.sessionId}\\``);\n  lines.push(`**Duration:** ${summary.duration}`);\n  lines.push(`**Messages:** ${summary.messageCount} (${summary.userMessages} user, ${summary.assistantMessages} assistant)`);\n  lines.push('');\n  lines.push(`### Topics`);\n  lines.push(summary.topics.map((t) => `- ${t}`).join('\\n'));\n  lines.push('');\n  lines.push(`### Summary`);\n  lines.push(summary.summary);\n\n  if (summary.filesModified.length > 0) {\n    lines.push('');\n    lines.push(`### Files Modified`);\n    lines.push(summary.filesModified.map((f) => `- \\`${f}\\``).join('\\n'));\n  }\n\n  if (summary.toolsUsed.length > 0) {\n    lines.push('');\n    lines.push(`### Tools Used`);\n    lines.push(summary.toolsUsed.map((t) => `- ${t}`).join('\\n'));\n  }\n\n  lines.push('');\n  lines.push('---');\n\n  return lines.join('\\n');\n}\n\n/**\n * Generate daily note header with frontmatter\n */\nfunction generateDailyNoteHeader(date: string): string {\n  return `---\ndate: ${date}\ntype: daily-log\ntags: [geoffrey, session-log]\n---\n\n# ${date} - Session Log\n\n`;\n}\n\n// ============================================================================\n// Main Hook Logic\n// ============================================================================\n\nasync function main(): Promise<void> {\n  try {\n    // Parse stdin\n    const input = await parseStdin<SessionEndInput>();\n\n    // Read transcript\n    const transcript = readTranscript(input.transcript_path);\n\n    if (transcript.length === 0) {\n      logInfo('Empty transcript, skipping daily log');\n      exitSuccess();\n    }\n\n    // Analyze transcript\n    const topics = extractTopics(transcript);\n    const filesModified = extractModifiedFiles(transcript);\n    const toolsUsed = extractToolsUsed(transcript);\n    const duration = calculateDuration(transcript);\n    const summary = generateSummary(transcript, topics);\n\n    const sessionSummary: SessionSummary = {\n      sessionId: input.session_id,\n      timestamp: getCurrentTimestamp(),\n      duration,\n      messageCount: transcript.length,\n      userMessages: transcript.filter((m) => m.role === 'user').length,\n      assistantMessages: transcript.filter((m) => m.role === 'assistant').length,\n      topics,\n      filesModified,\n      toolsUsed,\n      summary,\n    };\n\n    // Generate markdown entry\n    const markdownEntry = generateMarkdownEntry(sessionSummary);\n\n    // Determine file path\n    const date = getCurrentDate();\n    const vaultPath = getObsidianVaultPath();\n    const dailyLogPath = resolve(vaultPath, 'Daily-Logs', `${date}.md`);\n\n    // Create or append to daily log\n    if (!existsSync(dailyLogPath)) {\n      // Create new file with header\n      const header = generateDailyNoteHeader(date);\n      appendToFile(dailyLogPath, header + markdownEntry);\n      logInfo(`Created daily log: ${dailyLogPath}`);\n    } else {\n      // Append to existing file\n      appendToFile(dailyLogPath, markdownEntry);\n      logInfo(`Appended to daily log: ${dailyLogPath}`);\n    }\n\n    // Also store raw JSONL for future ML\n    const rawLogPath = resolve(\n      getKnowledgePath(),\n      'history',\n      'raw',\n      `${date.substring(0, 7)}`, // YYYY-MM\n      `sessions.jsonl`\n    );\n\n    const rawEntry: RawLogEntry = {\n      sessionId: input.session_id,\n      timestamp: getCurrentTimestamp(),\n      transcriptPath: input.transcript_path,\n      cwd: input.cwd,\n      summary: sessionSummary,\n    };\n\n    appendToFile(rawLogPath, JSON.stringify(rawEntry) + '\\n');\n\n    exitSuccess();\n  } catch (e) {\n    // Log error but don't block\n    logError(`Failed to create daily log: ${e instanceof Error ? e.message : 'unknown error'}`);\n    exitSuccess();\n  }\n}\n\nmain();\n",
        "hooks/session-end/extract-learnings.ts": "#!/usr/bin/env bun\n/**\n * SessionEnd Hook: Extract Learnings\n *\n * Parses the conversation transcript to identify user preferences\n * and updates the preferences.json file.\n *\n * Preference extraction is rule-based (Phase 1):\n * - Looks for explicit preference statements\n * - Identifies corrections and clarifications\n * - Extracts behavioral patterns\n *\n * Exit codes:\n * - 0: Success (learnings extracted or none found)\n * - 1: Non-blocking error (logged but continues)\n */\n\nimport { resolve } from 'path';\nimport {\n  parseStdin,\n  readTranscript,\n  readJsonFile,\n  writeJsonFile,\n  getKnowledgePath,\n  logInfo,\n  logError,\n  exitSuccess,\n  exitWarning,\n  getCurrentTimestamp,\n  type SessionEndInput,\n  type TranscriptMessage,\n} from '../shared/utils';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface PreferenceEntry {\n  category: string;\n  preference: string;\n  confidence: number; // 0.0-1.0\n  lastUpdated: string;\n  source?: string; // session_id that created/updated\n}\n\ninterface PreferencesFile {\n  version: string;\n  lastUpdated: string;\n  preferences: PreferenceEntry[];\n}\n\ninterface ExtractedPreference {\n  category: string;\n  preference: string;\n  confidence: number;\n}\n\n// ============================================================================\n// Preference Extraction Patterns\n// ============================================================================\n\nconst PREFERENCE_PATTERNS = [\n  // Explicit preference statements\n  {\n    pattern: /(?:always|never|prefer|want you to|please always|don't|do not)\\s+(.{10,100})/gi,\n    category: 'behavior',\n    confidence: 0.9,\n  },\n  // Call me / name preferences\n  {\n    pattern: /(?:call me|my name is|i'm|i am)\\s+([A-Z][a-z]+)/gi,\n    category: 'identity',\n    confidence: 0.95,\n  },\n  // Tool/runtime preferences\n  {\n    pattern: /(?:use|prefer|switch to|run with)\\s+(bun|node|npm|yarn|pnpm)(?:\\s|$)/gi,\n    category: 'development',\n    confidence: 0.85,\n  },\n  // Format preferences\n  {\n    pattern: /(?:format|output|respond|write)(?:\\s+\\w+)?\\s+(?:in|as|using)\\s+(markdown|json|yaml|bullet|list)/gi,\n    category: 'format',\n    confidence: 0.8,\n  },\n  // Corrections (high signal)\n  {\n    pattern: /(?:no,?\\s+)?(?:actually|instead|rather|correct(?:ion)?)\\s*[,:]\\s*(.{10,100})/gi,\n    category: 'correction',\n    confidence: 0.95,\n  },\n  // Style preferences\n  {\n    pattern: /(?:keep|make)\\s+(?:it|responses?|answers?)\\s+(short|brief|concise|detailed|verbose)/gi,\n    category: 'style',\n    confidence: 0.85,\n  },\n];\n\n// Categories to skip (not user preferences)\nconst SKIP_CATEGORIES = ['task', 'question', 'clarification'];\n\n// ============================================================================\n// Extraction Logic\n// ============================================================================\n\n/**\n * Extract preferences from a single message\n */\nfunction extractFromMessage(message: TranscriptMessage): ExtractedPreference[] {\n  if (message.role !== 'user') return [];\n\n  const content = message.content;\n  const preferences: ExtractedPreference[] = [];\n\n  for (const { pattern, category, confidence } of PREFERENCE_PATTERNS) {\n    const regex = new RegExp(pattern);\n    let match: RegExpExecArray | null;\n\n    while ((match = regex.exec(content)) !== null) {\n      const extracted = match[1]?.trim();\n      if (extracted && extracted.length >= 5 && extracted.length <= 200) {\n        preferences.push({\n          category,\n          preference: normalizePreference(extracted, category),\n          confidence,\n        });\n      }\n    }\n  }\n\n  return preferences;\n}\n\n/**\n * Normalize extracted preference text\n */\nfunction normalizePreference(text: string, category: string): string {\n  // Remove trailing punctuation\n  let normalized = text.replace(/[.,;:!?]+$/, '').trim();\n\n  // Capitalize first letter\n  normalized = normalized.charAt(0).toUpperCase() + normalized.slice(1);\n\n  // Add context for corrections\n  if (category === 'correction') {\n    normalized = `User corrected: ${normalized}`;\n  }\n\n  return normalized;\n}\n\n/**\n * Deduplicate and merge preferences\n */\nfunction mergePreferences(\n  existing: PreferenceEntry[],\n  newPrefs: ExtractedPreference[],\n  sessionId: string\n): PreferenceEntry[] {\n  const merged = [...existing];\n  const timestamp = getCurrentTimestamp();\n\n  for (const newPref of newPrefs) {\n    // Check for similar existing preference\n    const existingIndex = merged.findIndex(\n      (e) =>\n        e.category === newPref.category &&\n        isSimilar(e.preference, newPref.preference)\n    );\n\n    if (existingIndex >= 0) {\n      // Update existing preference if new one has higher confidence\n      if (newPref.confidence > merged[existingIndex].confidence) {\n        merged[existingIndex] = {\n          ...merged[existingIndex],\n          preference: newPref.preference,\n          confidence: newPref.confidence,\n          lastUpdated: timestamp,\n          source: sessionId,\n        };\n      }\n    } else {\n      // Add new preference\n      merged.push({\n        category: newPref.category,\n        preference: newPref.preference,\n        confidence: newPref.confidence,\n        lastUpdated: timestamp,\n        source: sessionId,\n      });\n    }\n  }\n\n  return merged;\n}\n\n/**\n * Check if two preferences are similar (fuzzy match)\n */\nfunction isSimilar(a: string, b: string): boolean {\n  const normalize = (s: string) => s.toLowerCase().replace(/[^a-z0-9]/g, '');\n  const aNorm = normalize(a);\n  const bNorm = normalize(b);\n\n  // Exact match after normalization\n  if (aNorm === bNorm) return true;\n\n  // One contains the other\n  if (aNorm.includes(bNorm) || bNorm.includes(aNorm)) return true;\n\n  // TODO: Add Levenshtein distance for fuzzy matching\n\n  return false;\n}\n\n// ============================================================================\n// Main Hook Logic\n// ============================================================================\n\nasync function main(): Promise<void> {\n  try {\n    // Parse stdin\n    const input = await parseStdin<SessionEndInput>();\n\n    // Read transcript\n    const transcript = readTranscript(input.transcript_path);\n\n    if (transcript.length === 0) {\n      logInfo('Empty transcript, no learnings to extract');\n      exitSuccess();\n    }\n\n    // Extract preferences from all user messages\n    const allPreferences: ExtractedPreference[] = [];\n    for (const message of transcript) {\n      const prefs = extractFromMessage(message);\n      allPreferences.push(...prefs);\n    }\n\n    if (allPreferences.length === 0) {\n      logInfo('No preferences detected in session');\n      exitSuccess();\n    }\n\n    // Load existing learned preferences (separate from manual preferences.json)\n    const preferencesPath = resolve(getKnowledgePath(), 'learned-preferences.json');\n    const existingFile = readJsonFile<PreferencesFile>(preferencesPath);\n\n    const existingPrefs = existingFile?.preferences ?? [];\n\n    // Merge preferences\n    const mergedPrefs = mergePreferences(existingPrefs, allPreferences, input.session_id);\n\n    // Write updated preferences\n    const updatedFile: PreferencesFile = {\n      version: '1.0.0',\n      lastUpdated: getCurrentTimestamp(),\n      preferences: mergedPrefs,\n    };\n\n    writeJsonFile(preferencesPath, updatedFile);\n\n    logInfo(\n      `Extracted ${allPreferences.length} preferences, ` +\n        `total: ${mergedPrefs.length} (${mergedPrefs.length - existingPrefs.length} new)`\n    );\n\n    exitSuccess();\n  } catch (e) {\n    // Log error but don't block\n    logError(`Failed to extract learnings: ${e instanceof Error ? e.message : 'unknown error'}`);\n    exitSuccess();\n  }\n}\n\nmain();\n",
        "hooks/session-end/route-to-obsidian.ts": "#!/usr/bin/env bun\n/**\n * SessionEnd Hook: Route to Obsidian\n *\n * Creates human-readable markdown summaries in Obsidian vault,\n * routed by content type:\n * - Research â†’ Research/{topic}/YYYY-MM-DD-{title}.md\n * - Decision â†’ Decisions/YYYY-MM-DD-{title}.md\n * - Daily Log â†’ Daily-Logs/YYYY-MM-DD.md (append)\n *\n * Exit codes:\n * - 0: Success (non-blocking)\n * - 1: Non-blocking error (logged but continues)\n */\n\nimport { resolve, dirname, basename } from 'path';\nimport { existsSync, readFileSync } from 'fs';\nimport {\n  parseStdin,\n  readTranscript,\n  appendToFile,\n  writeJsonFile,\n  getObsidianVaultPath,\n  logInfo,\n  logError,\n  exitSuccess,\n  getCurrentDate,\n  getCurrentTimestamp,\n  type SessionEndInput,\n  type TranscriptMessage,\n} from '../shared/utils';\nimport {\n  classifyContent,\n  generateTopicSlug,\n  getCategoryDescription,\n  type ClassificationResult,\n  type ContentCategory,\n} from '../shared/classifier';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface ObsidianNote {\n  path: string;\n  content: string;\n  append: boolean;\n}\n\ninterface SessionMetadata {\n  sessionId: string;\n  date: string;\n  timestamp: string;\n  classification: ClassificationResult;\n  messageCount: number;\n  firstUserMessage: string;\n}\n\n// ============================================================================\n// Frontmatter Generation\n// ============================================================================\n\nfunction generateFrontmatter(metadata: SessionMetadata): string {\n  const lines = [\n    '---',\n    `session_id: ${metadata.sessionId}`,\n    `date: ${metadata.date}`,\n    `type: ${metadata.classification.category}`,\n    `topics: [${metadata.classification.topics.map((t) => `\"${t}\"`).join(', ')}]`,\n    `confidence: ${metadata.classification.confidence.toFixed(2)}`,\n    `created: ${metadata.timestamp}`,\n    'source: geoffrey',\n    'tags: [geoffrey, session-log]',\n    '---',\n    '',\n  ];\n\n  return lines.join('\\n');\n}\n\n// ============================================================================\n// Content Generation by Category\n// ============================================================================\n\n/**\n * Generate research note content\n */\nfunction generateResearchNote(\n  metadata: SessionMetadata,\n  messages: TranscriptMessage[]\n): string {\n  const topic = metadata.classification.metadata.primaryTopic;\n  const lines: string[] = [];\n\n  lines.push(generateFrontmatter(metadata));\n  lines.push(`# ${topic}`);\n  lines.push('');\n  lines.push(`> Session from ${metadata.date} - ${getCategoryDescription('research')}`);\n  lines.push('');\n\n  // Summary section\n  lines.push('## Summary');\n  lines.push('');\n  const summary = generateSummary(messages);\n  lines.push(summary);\n  lines.push('');\n\n  // Key points extracted from assistant messages\n  const keyPoints = extractKeyPoints(messages);\n  if (keyPoints.length > 0) {\n    lines.push('## Key Findings');\n    lines.push('');\n    for (const point of keyPoints) {\n      lines.push(`- ${point}`);\n    }\n    lines.push('');\n  }\n\n  // Questions asked\n  const questions = extractQuestions(messages);\n  if (questions.length > 0) {\n    lines.push('## Questions Explored');\n    lines.push('');\n    for (const q of questions) {\n      lines.push(`- ${q}`);\n    }\n    lines.push('');\n  }\n\n  lines.push('---');\n  lines.push(`*Session ID: \\`${metadata.sessionId}\\`*`);\n  lines.push('');\n\n  return lines.join('\\n');\n}\n\n/**\n * Generate decision note content\n */\nfunction generateDecisionNote(\n  metadata: SessionMetadata,\n  messages: TranscriptMessage[]\n): string {\n  const topic = metadata.classification.metadata.primaryTopic;\n  const lines: string[] = [];\n\n  lines.push(generateFrontmatter(metadata));\n  lines.push(`# Decision: ${topic}`);\n  lines.push('');\n  lines.push(`> ${getCategoryDescription('decision')} - ${metadata.date}`);\n  lines.push('');\n\n  // Context\n  lines.push('## Context');\n  lines.push('');\n  lines.push(metadata.firstUserMessage.slice(0, 500));\n  lines.push('');\n\n  // Options considered (extracted from conversation)\n  const options = extractOptions(messages);\n  if (options.length > 0) {\n    lines.push('## Options Considered');\n    lines.push('');\n    for (const opt of options) {\n      lines.push(`- ${opt}`);\n    }\n    lines.push('');\n  }\n\n  // Summary/Outcome\n  lines.push('## Outcome');\n  lines.push('');\n  lines.push(generateSummary(messages));\n  lines.push('');\n\n  lines.push('---');\n  lines.push(`*Session ID: \\`${metadata.sessionId}\\`*`);\n  lines.push('');\n\n  return lines.join('\\n');\n}\n\n/**\n * Generate daily log entry (appended to existing file)\n */\nfunction generateDailyLogEntry(\n  metadata: SessionMetadata,\n  messages: TranscriptMessage[]\n): string {\n  const timeOfDay = metadata.timestamp.split('T')[1]?.split('.')[0] || 'Session';\n  const lines: string[] = [];\n\n  lines.push('');\n  lines.push(`## ${timeOfDay}`);\n  lines.push('');\n  lines.push(`**Session ID:** \\`${metadata.sessionId}\\``);\n  lines.push(`**Messages:** ${metadata.messageCount}`);\n  lines.push('');\n\n  // Topics if detected\n  if (metadata.classification.topics.length > 0 && metadata.classification.topics[0] !== 'general') {\n    lines.push(`**Topics:** ${metadata.classification.topics.join(', ')}`);\n    lines.push('');\n  }\n\n  // Brief summary\n  lines.push('### Summary');\n  lines.push('');\n  lines.push(generateSummary(messages));\n  lines.push('');\n\n  lines.push('---');\n\n  return lines.join('\\n');\n}\n\n/**\n * Generate daily log header (for new files)\n */\nfunction generateDailyLogHeader(date: string): string {\n  const lines = [\n    '---',\n    `date: ${date}`,\n    'type: daily-log',\n    'tags: [geoffrey, session-log]',\n    'source: geoffrey',\n    '---',\n    '',\n    `# ${date} - Session Log`,\n    '',\n  ];\n\n  return lines.join('\\n');\n}\n\n// ============================================================================\n// Content Extraction Helpers\n// ============================================================================\n\n/**\n * Generate a brief summary from the conversation\n */\nfunction generateSummary(messages: TranscriptMessage[]): string {\n  const firstUserMessage = messages.find((m) => m.role === 'user');\n  if (!firstUserMessage?.content) {\n    return 'No user messages in session.';\n  }\n\n  // Use first line of first user message, capped at 200 chars\n  const firstLine = firstUserMessage.content.split('\\n')[0]?.trim() || '';\n  const summary = firstLine.slice(0, 200);\n\n  return `Session focused on: \"${summary}${summary.length >= 200 ? '...' : ''}\"`;\n}\n\n/**\n * Extract key points from assistant responses\n */\nfunction extractKeyPoints(messages: TranscriptMessage[]): string[] {\n  const points: string[] = [];\n  const assistantMessages = messages.filter((m) => m.role === 'assistant');\n\n  for (const msg of assistantMessages) {\n    // Look for bullet points in responses\n    const bulletPattern = /^[-*â€¢]\\s+(.{20,150})$/gm;\n    let match: RegExpExecArray | null;\n\n    while ((match = bulletPattern.exec(msg.content)) !== null) {\n      const point = match[1]?.trim();\n      if (point && !points.includes(point)) {\n        points.push(point);\n        if (points.length >= 5) break; // Limit to 5 key points\n      }\n    }\n\n    if (points.length >= 5) break;\n  }\n\n  return points;\n}\n\n/**\n * Extract questions from user messages\n */\nfunction extractQuestions(messages: TranscriptMessage[]): string[] {\n  const questions: string[] = [];\n  const userMessages = messages.filter((m) => m.role === 'user');\n\n  for (const msg of userMessages) {\n    // Look for question patterns\n    const questionPattern = /([^.!]+\\?)/g;\n    let match: RegExpExecArray | null;\n\n    while ((match = questionPattern.exec(msg.content)) !== null) {\n      const question = match[1]?.trim();\n      if (question && question.length >= 10 && question.length <= 200) {\n        questions.push(question);\n        if (questions.length >= 5) break;\n      }\n    }\n\n    if (questions.length >= 5) break;\n  }\n\n  return questions;\n}\n\n/**\n * Extract options/alternatives discussed\n */\nfunction extractOptions(messages: TranscriptMessage[]): string[] {\n  const options: string[] = [];\n  const allText = messages.map((m) => m.content).join(' ');\n\n  // Pattern for \"Option 1:\", \"A)\", numbered items\n  const optionPatterns = [\n    /(?:option\\s*\\d+[:\\s]+)([^.]{10,100})/gi,\n    /(?:\\d+\\.\\s+)([A-Z][^.]{10,80})/g,\n    /(?:between\\s+)([A-Z][a-z]+(?:\\s+and\\s+[A-Z][a-z]+)+)/gi,\n  ];\n\n  for (const pattern of optionPatterns) {\n    let match: RegExpExecArray | null;\n    while ((match = pattern.exec(allText)) !== null) {\n      const option = match[1]?.trim();\n      if (option && !options.includes(option)) {\n        options.push(option);\n        if (options.length >= 5) break;\n      }\n    }\n    if (options.length >= 5) break;\n  }\n\n  return options;\n}\n\n// ============================================================================\n// Routing Logic\n// ============================================================================\n\n/**\n * Determine the output path based on classification\n */\nfunction determineOutputPath(\n  classification: ClassificationResult,\n  sessionId: string\n): { path: string; append: boolean } {\n  const vaultPath = getObsidianVaultPath();\n  const date = getCurrentDate();\n  const topicSlug = classification.topicSlug || 'general';\n\n  switch (classification.category) {\n    case 'research': {\n      // Research/{topic}/YYYY-MM-DD-{topic}.md\n      const filename = `${date}-${topicSlug}.md`;\n      return {\n        path: resolve(vaultPath, 'Research', topicSlug, filename),\n        append: false,\n      };\n    }\n\n    case 'decision': {\n      // Decisions/YYYY-MM-DD-{topic}.md\n      const filename = `${date}-${topicSlug}.md`;\n      return {\n        path: resolve(vaultPath, 'Decisions', filename),\n        append: false,\n      };\n    }\n\n    case 'daily-log':\n    default: {\n      // Daily-Logs/YYYY-MM-DD.md (append)\n      const filename = `${date}.md`;\n      return {\n        path: resolve(vaultPath, 'Daily-Logs', filename),\n        append: true,\n      };\n    }\n  }\n}\n\n/**\n * Write the Obsidian note\n */\nfunction writeObsidianNote(note: ObsidianNote): void {\n  if (note.append && existsSync(note.path)) {\n    // Append to existing file\n    appendToFile(note.path, note.content);\n  } else if (note.append && !existsSync(note.path)) {\n    // Create new daily log with header\n    const date = getCurrentDate();\n    const header = generateDailyLogHeader(date);\n    appendToFile(note.path, header + note.content);\n  } else {\n    // Write new file (uses appendToFile which creates directories)\n    appendToFile(note.path, note.content);\n  }\n}\n\n// ============================================================================\n// Main Hook Logic\n// ============================================================================\n\nasync function main(): Promise<void> {\n  try {\n    // Parse stdin input\n    const input = await parseStdin<SessionEndInput>();\n\n    // Read transcript\n    const messages = readTranscript(input.transcript_path);\n\n    if (messages.length === 0) {\n      logInfo('Empty transcript, skipping Obsidian routing');\n      exitSuccess();\n    }\n\n    // Classify content\n    const classification = classifyContent(messages);\n\n    // Prepare metadata\n    const firstUserMessage = messages.find((m) => m.role === 'user');\n    const metadata: SessionMetadata = {\n      sessionId: input.session_id,\n      date: getCurrentDate(),\n      timestamp: getCurrentTimestamp(),\n      classification,\n      messageCount: messages.length,\n      firstUserMessage: firstUserMessage?.content || '',\n    };\n\n    // Determine output path\n    const { path, append } = determineOutputPath(classification, input.session_id);\n\n    // Generate content based on category\n    let content: string;\n    switch (classification.category) {\n      case 'research':\n        content = generateResearchNote(metadata, messages);\n        break;\n      case 'decision':\n        content = generateDecisionNote(metadata, messages);\n        break;\n      case 'daily-log':\n      default:\n        content = generateDailyLogEntry(metadata, messages);\n        break;\n    }\n\n    // Write to Obsidian\n    const note: ObsidianNote = { path, content, append };\n    writeObsidianNote(note);\n\n    logInfo(\n      `Routed ${classification.category} to ${path} ` +\n        `(topic: ${classification.topicSlug}, append: ${append})`\n    );\n\n    exitSuccess();\n  } catch (e) {\n    // Log error but don't block session end\n    logError(`Failed to route to Obsidian: ${e instanceof Error ? e.message : 'unknown error'}`);\n    exitSuccess();\n  }\n}\n\nmain();\n",
        "hooks/shared/classifier.ts": "/**\n * Content Classifier for Geoffrey Session Analysis\n *\n * Classifies conversation transcripts into categories:\n * - research: Exploratory queries, investigations, analysis\n * - decision: Choice-making, comparisons, approach selection\n * - daily-log: General tasks, commands, brief interactions\n *\n * Also extracts topics for folder routing (especially Research/{topic}/)\n */\n\nimport type { TranscriptMessage } from './utils';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport type ContentCategory = 'research' | 'decision' | 'daily-log';\n\nexport interface ClassificationResult {\n  category: ContentCategory;\n  topics: string[];\n  topicSlug: string;\n  confidence: number;\n  metadata: {\n    messageCount: number;\n    turnCount: number;\n    keywordsFound: string[];\n    primaryTopic: string;\n  };\n}\n\ninterface KeywordPattern {\n  keywords: string[];\n  weight: number;\n}\n\n// ============================================================================\n// Classification Patterns\n// ============================================================================\n\nconst RESEARCH_PATTERNS: KeywordPattern = {\n  keywords: [\n    'research',\n    'investigate',\n    'analyze',\n    'explore',\n    'compare',\n    'study',\n    'examine',\n    'look into',\n    'find out',\n    'what is',\n    'how does',\n    'why does',\n    'understand',\n    'learn about',\n  ],\n  weight: 1.0,\n};\n\nconst DECISION_PATTERNS: KeywordPattern = {\n  keywords: [\n    'decide',\n    'choose',\n    'should i',\n    'which one',\n    'better option',\n    'approach',\n    'strategy',\n    'recommend',\n    'prefer',\n    'between',\n    'versus',\n    'vs',\n    'pros and cons',\n    'trade-off',\n    'tradeoff',\n  ],\n  weight: 0.9,\n};\n\n// Keywords that reduce confidence in research/decision classification\nconst DAILY_INDICATORS: string[] = [\n  'add task',\n  'create task',\n  'omnifocus',\n  'email',\n  'send',\n  'update',\n  'fix',\n  'run',\n  'execute',\n  'commit',\n  'push',\n  'deploy',\n];\n\n// ============================================================================\n// Classification Logic\n// ============================================================================\n\n/**\n * Classify a conversation transcript into a content category\n */\nexport function classifyContent(messages: TranscriptMessage[]): ClassificationResult {\n  if (!messages || messages.length === 0) {\n    return createDefaultResult();\n  }\n\n  // Combine all user messages for analysis\n  const userMessages = messages.filter((m) => m.role === 'user');\n  const allUserText = userMessages.map((m) => m.content || '').join(' ').toLowerCase();\n\n  // Count keyword matches\n  const researchMatches = countKeywordMatches(allUserText, RESEARCH_PATTERNS.keywords);\n  const decisionMatches = countKeywordMatches(allUserText, DECISION_PATTERNS.keywords);\n  const dailyMatches = countKeywordMatches(allUserText, DAILY_INDICATORS);\n\n  // Calculate scores\n  const researchScore = researchMatches.count * RESEARCH_PATTERNS.weight;\n  const decisionScore = decisionMatches.count * DECISION_PATTERNS.weight;\n  const dailyPenalty = dailyMatches.count * 0.5;\n\n  // Extract topics\n  const topics = extractTopics(userMessages);\n  const primaryTopic = topics[0] || 'general';\n  const topicSlug = generateTopicSlug(primaryTopic);\n\n  // Determine category and confidence\n  let category: ContentCategory;\n  let confidence: number;\n  const allKeywords = [...researchMatches.keywords, ...decisionMatches.keywords];\n\n  if (researchScore > decisionScore && researchScore > dailyPenalty) {\n    category = 'research';\n    confidence = Math.min(0.95, 0.5 + researchScore * 0.1);\n  } else if (decisionScore > researchScore && decisionScore > dailyPenalty) {\n    category = 'decision';\n    confidence = Math.min(0.9, 0.5 + decisionScore * 0.1);\n  } else {\n    category = 'daily-log';\n    confidence = 0.7;\n  }\n\n  // Reduce confidence if mixed signals\n  if (researchScore > 0 && decisionScore > 0) {\n    confidence *= 0.9;\n  }\n\n  return {\n    category,\n    topics,\n    topicSlug,\n    confidence,\n    metadata: {\n      messageCount: messages.length,\n      turnCount: Math.ceil(userMessages.length),\n      keywordsFound: allKeywords,\n      primaryTopic,\n    },\n  };\n}\n\n/**\n * Count keyword matches in text\n */\nfunction countKeywordMatches(\n  text: string,\n  keywords: string[]\n): { count: number; keywords: string[] } {\n  const found: string[] = [];\n  let count = 0;\n\n  for (const keyword of keywords) {\n    // Use word boundary matching for more accuracy\n    const regex = new RegExp(`\\\\b${escapeRegex(keyword)}\\\\b`, 'gi');\n    const matches = text.match(regex);\n    if (matches) {\n      count += matches.length;\n      found.push(keyword);\n    }\n  }\n\n  return { count, keywords: found };\n}\n\n/**\n * Escape special regex characters\n */\nfunction escapeRegex(str: string): string {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\n// ============================================================================\n// Topic Extraction\n// ============================================================================\n\n/**\n * Extract topics from user messages\n */\nfunction extractTopics(messages: TranscriptMessage[]): string[] {\n  if (messages.length === 0) return ['general'];\n\n  const topics: string[] = [];\n  const firstUserMessage = messages.find((m) => m.role === 'user');\n\n  if (!firstUserMessage?.content) return ['general'];\n\n  // Pattern 1: Explicit research/investigate patterns\n  const explicitPattern =\n    /(?:research|investigate|analyze|explore|compare|study)\\s+(?:the\\s+)?([a-z0-9][a-z0-9\\s'-]{2,50}?)(?:\\s+for|\\s+in|\\s+vs|\\s+versus|\\.|\\,|\\?|$)/gi;\n  let match: RegExpExecArray | null;\n\n  while ((match = explicitPattern.exec(firstUserMessage.content)) !== null) {\n    const topic = match[1]?.trim();\n    if (topic && topic.length >= 3) {\n      topics.push(topic);\n    }\n  }\n\n  // Pattern 2: \"About X\" or \"regarding X\" patterns\n  const aboutPattern =\n    /(?:about|regarding|concerning|on\\s+the\\s+topic\\s+of)\\s+([a-z0-9][a-z0-9\\s'-]{2,50}?)(?:\\s+for|\\s+in|\\.|\\,|\\?|$)/gi;\n  while ((match = aboutPattern.exec(firstUserMessage.content)) !== null) {\n    const topic = match[1]?.trim();\n    if (topic && topic.length >= 3 && !topics.includes(topic)) {\n      topics.push(topic);\n    }\n  }\n\n  // Pattern 3: Fallback to first meaningful noun phrase\n  if (topics.length === 0) {\n    const words = firstUserMessage.content\n      .split(/\\s+/)\n      .filter((w) => w.length > 3)\n      .slice(0, 5);\n    const fallbackTopic = words.join(' ').slice(0, 50);\n    if (fallbackTopic) {\n      topics.push(fallbackTopic);\n    }\n  }\n\n  return topics.length > 0 ? topics : ['general'];\n}\n\n/**\n * Generate a URL-safe slug from a topic\n */\nexport function generateTopicSlug(topic: string): string {\n  if (!topic || !topic.trim()) return 'general';\n\n  const slug = topic\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove diacritics\n    .replace(/[^a-z0-9\\s-]/g, '') // Remove special chars\n    .trim()\n    .replace(/\\s+/g, '-') // Spaces to hyphens\n    .replace(/-+/g, '-') // Collapse multiple hyphens\n    .slice(0, 50) // Limit length\n    .replace(/^-|-$/g, ''); // Trim hyphens\n\n  return slug || 'general';\n}\n\n/**\n * Create a default classification result for empty transcripts\n */\nfunction createDefaultResult(): ClassificationResult {\n  return {\n    category: 'daily-log',\n    topics: ['general'],\n    topicSlug: 'general',\n    confidence: 0.5,\n    metadata: {\n      messageCount: 0,\n      turnCount: 0,\n      keywordsFound: [],\n      primaryTopic: 'general',\n    },\n  };\n}\n\n// ============================================================================\n// Utility Exports\n// ============================================================================\n\n/**\n * Check if a classification is high-confidence\n */\nexport function isHighConfidence(result: ClassificationResult): boolean {\n  return result.confidence >= 0.8;\n}\n\n/**\n * Get human-readable category description\n */\nexport function getCategoryDescription(category: ContentCategory): string {\n  switch (category) {\n    case 'research':\n      return 'Research & Analysis';\n    case 'decision':\n      return 'Decision Making';\n    case 'daily-log':\n      return 'Daily Activity';\n  }\n}\n",
        "hooks/shared/utils.ts": "/**\n * Shared utilities for Geoffrey Claude Code hooks\n *\n * These utilities handle:\n * - stdin JSON parsing with validation\n * - File operations with path sanitization\n * - Exit code management\n * - Logging to stderr\n */\n\nimport { existsSync, mkdirSync, readFileSync, writeFileSync, appendFileSync } from 'fs';\nimport { resolve, dirname } from 'path';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface BaseHookInput {\n  session_id: string;\n  transcript_path: string;\n  cwd: string;\n  hook_event_name: string;\n}\n\nexport interface PreToolUseInput extends BaseHookInput {\n  hook_event_name: 'PreToolUse';\n  tool_name: string;\n  tool_input: Record<string, unknown>;\n}\n\nexport interface SessionEndInput extends BaseHookInput {\n  hook_event_name: 'SessionEnd';\n}\n\nexport type HookInput = PreToolUseInput | SessionEndInput;\n\nexport interface TranscriptMessage {\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp?: string;\n}\n\n// ============================================================================\n// Path Resolution\n// ============================================================================\n\n/**\n * Get the Geoffrey knowledge directory path\n */\nexport function getKnowledgePath(): string {\n  return resolve(\n    process.env.HOME || '~',\n    'Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge'\n  );\n}\n\n/**\n * Get the Obsidian vault path (dynamic across machines)\n */\nexport function getObsidianVaultPath(): string {\n  // Check environment variable first\n  if (process.env.GEOFFREY_VAULT) {\n    return process.env.GEOFFREY_VAULT;\n  }\n\n  // Default to iCloud path\n  return resolve(\n    process.env.HOME || '~',\n    'Library/Mobile Documents/iCloud~md~obsidian/Documents/Geoffrey'\n  );\n}\n\n/**\n * Sanitize a file path to prevent path traversal attacks\n */\nexport function sanitizePath(filePath: string, baseDir: string): string {\n  const resolved = resolve(filePath);\n  const canonicalBase = resolve(baseDir);\n\n  // Check for null bytes\n  if (filePath.includes('\\0')) {\n    throw new Error('Null byte in path');\n  }\n\n  // Check for path traversal patterns\n  const suspicious = ['../', '.\\\\', '%2e%2e', '%252e'];\n  if (suspicious.some(pattern => filePath.toLowerCase().includes(pattern))) {\n    throw new Error(`Suspicious path pattern: ${filePath}`);\n  }\n\n  // Ensure path is within allowed directory\n  if (!resolved.startsWith(canonicalBase)) {\n    throw new Error(`Path traversal attempt: ${filePath}`);\n  }\n\n  return resolved;\n}\n\n// ============================================================================\n// stdin Parsing\n// ============================================================================\n\n/**\n * Read and parse JSON from stdin\n * Validates required fields based on hook type\n */\nexport async function parseStdin<T extends HookInput>(): Promise<T> {\n  const rawInput = await Bun.stdin.text();\n\n  if (!rawInput.trim()) {\n    throw new Error('Empty stdin');\n  }\n\n  let parsed: unknown;\n  try {\n    parsed = JSON.parse(rawInput);\n  } catch (e) {\n    throw new Error(`Invalid JSON: ${e instanceof Error ? e.message : 'unknown error'}`);\n  }\n\n  if (!parsed || typeof parsed !== 'object') {\n    throw new Error('Input must be an object');\n  }\n\n  const input = parsed as Record<string, unknown>;\n\n  // Validate required base fields\n  if (typeof input.session_id !== 'string') {\n    throw new Error('Missing or invalid session_id');\n  }\n  if (typeof input.transcript_path !== 'string') {\n    throw new Error('Missing or invalid transcript_path');\n  }\n  if (typeof input.cwd !== 'string') {\n    throw new Error('Missing or invalid cwd');\n  }\n  if (typeof input.hook_event_name !== 'string') {\n    throw new Error('Missing or invalid hook_event_name');\n  }\n\n  // Additional validation for PreToolUse\n  if (input.hook_event_name === 'PreToolUse') {\n    if (typeof input.tool_name !== 'string') {\n      throw new Error('Missing or invalid tool_name for PreToolUse');\n    }\n  }\n\n  return input as T;\n}\n\n// ============================================================================\n// File Operations\n// ============================================================================\n\n/**\n * Read a JSON file with error handling\n */\nexport function readJsonFile<T>(filePath: string): T | null {\n  try {\n    if (!existsSync(filePath)) {\n      return null;\n    }\n    const content = readFileSync(filePath, 'utf-8');\n    return JSON.parse(content) as T;\n  } catch (e) {\n    logError(`Failed to read JSON file ${filePath}: ${e}`);\n    return null;\n  }\n}\n\n/**\n * Write a JSON file, creating parent directories if needed\n */\nexport function writeJsonFile(filePath: string, data: unknown): void {\n  const dir = dirname(filePath);\n  if (!existsSync(dir)) {\n    mkdirSync(dir, { recursive: true });\n  }\n  writeFileSync(filePath, JSON.stringify(data, null, 2) + '\\n', 'utf-8');\n}\n\n/**\n * Append content to a file, creating it if needed\n */\nexport function appendToFile(filePath: string, content: string): void {\n  const dir = dirname(filePath);\n  if (!existsSync(dir)) {\n    mkdirSync(dir, { recursive: true });\n  }\n  appendFileSync(filePath, content, 'utf-8');\n}\n\n/**\n * Read the transcript file\n */\nexport function readTranscript(transcriptPath: string): TranscriptMessage[] {\n  try {\n    const content = readFileSync(transcriptPath, 'utf-8');\n    const parsed = JSON.parse(content);\n\n    // Handle different transcript formats\n    if (Array.isArray(parsed)) {\n      return parsed as TranscriptMessage[];\n    }\n    if (parsed.messages && Array.isArray(parsed.messages)) {\n      return parsed.messages as TranscriptMessage[];\n    }\n\n    logError('Unknown transcript format');\n    return [];\n  } catch (e) {\n    logError(`Failed to read transcript: ${e}`);\n    return [];\n  }\n}\n\n// ============================================================================\n// Logging & Exit\n// ============================================================================\n\n/**\n * Log a message to stderr (hook output channel)\n */\nexport function logError(message: string): void {\n  console.error(`[Geoffrey Hook] ${message}`);\n}\n\n/**\n * Log info to stderr (shown in verbose mode)\n */\nexport function logInfo(message: string): void {\n  console.error(`[Geoffrey Hook] ${message}`);\n}\n\n/**\n * Exit with success (operation proceeds)\n */\nexport function exitSuccess(message?: string): never {\n  if (message) {\n    console.log(message);\n  }\n  process.exit(0);\n}\n\n/**\n * Exit with non-blocking error (logged but continues)\n */\nexport function exitWarning(message: string): never {\n  logError(`WARNING: ${message}`);\n  process.exit(1);\n}\n\n/**\n * Exit with blocking error (operation blocked)\n */\nexport function exitBlock(message: string): never {\n  logError(`BLOCKED: ${message}`);\n  process.exit(2);\n}\n\n// ============================================================================\n// Date Utilities\n// ============================================================================\n\n/**\n * Get current date in YYYY-MM-DD format\n */\nexport function getCurrentDate(): string {\n  const now = new Date();\n  return now.toISOString().split('T')[0];\n}\n\n/**\n * Get current timestamp in ISO format\n */\nexport function getCurrentTimestamp(): string {\n  return new Date().toISOString();\n}\n",
        "skills/assistant-architect/SKILL.md": "---\nname: assistant-architect\ndescription: Create AI Studio Assistant Architect JSON import files from screenshots or descriptions. Use when users provide a screenshot of a form/UI to replicate, describe an assistant they want built, or need to generate multi-prompt workflow JSON for PSD AI Studio.\ntriggers:\n  - \"create assistant\"\n  - \"build assistant\"\n  - \"assistant architect\"\n  - \"ai studio assistant\"\n  - \"assistant json\"\n  - \"new assistant\"\n  - \"design assistant\"\n  - \"make this into an assistant\"\n  - \"turn this into an assistant\"\nallowed-tools: Read, Write, AskUserQuestion\nversion: 1.2.0\n---\n\n# Assistant Architect\n\nCreate valid JSON import files for PSD AI Studio's Assistant Architect system.\n\n**Spec Reference:** See `references/json-spec.md` for complete field definitions and validation rules.\n\n---\n\n## Input Modes\n\n### From Screenshot\n\nWhen the user provides a screenshot, extract:\n\n| Element | Maps To |\n|---------|---------|\n| Text input boxes | `short_text` (single line) or `long_text` (multi-line) |\n| Dropdowns/select menus | `select` with choices from visible options |\n| Checkboxes/multi-select | `multi_select` |\n| File upload areas | `file_upload` |\n| Field labels | `label` property |\n| Placeholder text | `options.placeholder` |\n| Visible instructions | `system_context` or prompt `content` |\n| Step numbers/tabs | Multiple prompts in sequence |\n\nAlso infer:\n- **Assistant name** from title/header\n- **Description** from any visible purpose text\n- **Prompt content** from visible instructions or \"what this does\" text\n\n### Handling Collapsed Dropdowns\n\n**CRITICAL:** When you see a dropdown in a screenshot but can't see its options (e.g., shows \"Select subject\" or has a dropdown arrow but options aren't expanded), you MUST resolve the options before generating JSON.\n\n**Resolution order:**\n\n1. **Check if it matches a Common Field Library** (see below)\n   - \"Grade\", \"Grade Level\" â†’ Use Grade Levels library\n   - \"Subject\", \"Content Area\" â†’ Use Subjects library\n   - \"State\" â†’ Use US States library\n   - \"Language\" â†’ Use Language library\n   - \"Tone\", \"Style\" â†’ Use Writing Tone library\n   - \"Format\", \"Output Format\" â†’ Use Output Format library\n\n2. **If no library match, ASK the user:**\n   ```\n   I see a dropdown for \"[Field Name]\" but can't see the options.\n\n   Options:\n   a) Provide a screenshot with the dropdown expanded\n   b) List the values that should appear (comma-separated)\n   c) Describe the type of options (e.g., \"departments in our district\")\n   ```\n\n3. **Never leave a select field without choices** - this will cause import errors\n\n**Visual indicators of dropdowns:**\n- Dropdown arrow (â–¼ or chevron) on right side\n- \"Select...\" placeholder text\n- Bordered box that looks clickable but isn't a text input\n- Different styling from text inputs (often lighter/grayed placeholder)\n\n### From Description (Dictation/Rambling)\n\nParse unstructured input for:\n\n| Look For | Maps To |\n|----------|---------|\n| \"user provides/enters/types...\" | Input field |\n| \"asks for/needs a...\" | Input field |\n| \"choose from/select/pick...\" | `select` field |\n| \"upload/attach file...\" | `file_upload` field |\n| \"then/next/after that...\" | Additional prompt (chained) |\n| \"analyze/summarize/write/create...\" | Prompt purpose |\n| \"should be/must be/format as...\" | System context or prompt instructions |\n\n### Smart Defaults\n\nWhen not specified, use:\n\n| Decision | Default |\n|----------|---------|\n| Model | `gpt-4o` (complex tasks), `gpt-4o-mini` (simple Q&A) |\n| Field type for text | `long_text` with 6 rows |\n| Execution | Sequential (single prompt unless steps mentioned) |\n| Timeouts | `null` (system default) |\n| Required fields | `true` for primary input, `false` for options |\n\n---\n\n## Workflow\n\n### 1. Gather Requirements\n\n**If screenshot provided:** Extract all visible elements per the table above.\n\n**If description provided:** Parse for inputs, outputs, and flow.\n\n**If unclear or incomplete:** Ask targeted questions:\n- What should the assistant do?\n- What inputs does it need?\n- Single or multi-step?\n\n### 1.5 Resolve All Dropdown Options (REQUIRED)\n\n**Before generating JSON, ensure every dropdown has defined options.**\n\nFor each dropdown/select field identified:\n\n| If... | Then... |\n|-------|---------|\n| Options are visible in screenshot | Extract them exactly |\n| Field matches a Common Field Library | Use the library options |\n| Field is domain-specific (e.g., \"Department\", \"Building\", \"Program\") | **ASK the user for the list** |\n| Unclear what options should be | **ASK the user** |\n\n**Example question format:**\n```\nI found these dropdowns that need options defined:\n\n1. **Department** - What departments should be listed?\n2. **Building** - What buildings/schools should be included?\n3. **Program Type** - What program types exist?\n\nYou can provide comma-separated values, or share a screenshot with dropdowns expanded.\n```\n\n**Do NOT proceed to JSON generation with unresolved dropdowns.**\n\n### 2. Design the Assistant\n\nBased on requirements, determine:\n\n| Decision | Options |\n|----------|---------|\n| Execution pattern | Sequential (default) / Parallel / Chained |\n| Model selection | `gpt-4o` (complex) / `gpt-4o-mini` (simple) / `claude-3-5-sonnet` |\n| Input fields | `short_text`, `long_text`, `select`, `multi_select`, `file_upload` |\n| Timeouts | Default null, max 900 seconds |\n\n### 3. Generate JSON\n\nBuild the JSON structure:\n\n```json\n{\n  \"version\": \"1.0\",\n  \"exported_at\": \"[ISO-8601 timestamp]\",\n  \"export_source\": \"Geoffrey Assistant Architect\",\n  \"assistants\": [{\n    \"name\": \"[Assistant Name]\",\n    \"description\": \"[Purpose]\",\n    \"is_parallel\": false,\n    \"prompts\": [...],\n    \"input_fields\": [...]\n  }]\n}\n```\n\n### 4. Write the File\n\nSave to user's preferred location (default: `~/Downloads/[assistant-name].json`).\n\n---\n\n## Quick Patterns\n\n### Simple Q&A Assistant\n\n```json\n{\n  \"version\": \"1.0\",\n  \"export_source\": \"Geoffrey Assistant Architect\",\n  \"assistants\": [{\n    \"name\": \"Quick Helper\",\n    \"description\": \"Answers questions clearly\",\n    \"prompts\": [{\n      \"name\": \"answer\",\n      \"content\": \"Answer this question:\\n\\n{{question}}\",\n      \"system_context\": \"You are a helpful expert.\",\n      \"model_name\": \"gpt-4o-mini\",\n      \"position\": 0\n    }],\n    \"input_fields\": [{\n      \"name\": \"question\",\n      \"label\": \"Your Question\",\n      \"field_type\": \"long_text\",\n      \"position\": 0,\n      \"options\": { \"required\": true, \"rows\": 6 }\n    }]\n  }]\n}\n```\n\n### Document Analyzer (Chained)\n\n```json\n{\n  \"prompts\": [\n    {\n      \"name\": \"extract\",\n      \"content\": \"Extract key points from:\\n\\n{{document}}\",\n      \"model_name\": \"gpt-4o\",\n      \"position\": 0\n    },\n    {\n      \"name\": \"analyze\",\n      \"content\": \"Analyze these points:\\n\\n{{prompt_0_output}}\",\n      \"model_name\": \"gpt-4o\",\n      \"position\": 1\n    }\n  ]\n}\n```\n\n### Transform with Options\n\n```json\n{\n  \"prompts\": [{\n    \"name\": \"transform\",\n    \"content\": \"Rewrite in {{style}} style:\\n\\n{{content}}\",\n    \"model_name\": \"gpt-4o\",\n    \"position\": 0\n  }],\n  \"input_fields\": [\n    {\n      \"name\": \"content\",\n      \"label\": \"Content\",\n      \"field_type\": \"long_text\",\n      \"position\": 0\n    },\n    {\n      \"name\": \"style\",\n      \"label\": \"Writing Style\",\n      \"field_type\": \"select\",\n      \"position\": 1,\n      \"options\": {\n        \"choices\": [\n          { \"value\": \"formal\", \"label\": \"Formal\" },\n          { \"value\": \"casual\", \"label\": \"Casual\" },\n          { \"value\": \"technical\", \"label\": \"Technical\" }\n        ],\n        \"default\": \"formal\"\n      }\n    }\n  ]\n}\n```\n\n---\n\n## Validation Checklist\n\nBefore writing the file, verify:\n\n- [ ] `version` is `\"1.0\"`\n- [ ] Each assistant has `name` (min 3 chars), `prompts`, `input_fields`\n- [ ] Each prompt has `name`, `content`, `model_name`, `position`\n- [ ] Each input field has `name`, `label`, `field_type`, `position`\n- [ ] `position` values are sequential starting from 0\n- [ ] All `{{variables}}` match input field names or `prompt_N_output`\n- [ ] **CRITICAL: Every `select` and `multi_select` field has `options.choices` array with at least 2 items**\n- [ ] No dropdown was left with placeholder options like \"Option 1\", \"Option 2\"\n- [ ] Domain-specific dropdowns (departments, buildings, programs) have real values from user\n\n---\n\n## Common Models\n\n| Use Case | Model |\n|----------|-------|\n| Complex analysis | `gpt-4o` |\n| Simple tasks | `gpt-4o-mini` |\n| Long context | `claude-3-5-sonnet` |\n| Fast responses | `gemini-1.5-flash` |\n\n---\n\n## Common Field Libraries\n\n**CRITICAL:** When a field represents a finite set of choices (grade levels, subjects, states, etc.), ALWAYS use `select` or `multi_select` with proper optionsâ€”NEVER use `short_text` or `long_text`.\n\n### Detecting Select Fields\n\nIf the screenshot or description contains ANY of these patterns, use a select field:\n\n| Pattern | Field Type |\n|---------|------------|\n| \"Select...\", \"Choose...\", dropdown arrow | `select` |\n| \"Pick one\", \"Which...\", finite list | `select` |\n| \"Check all that apply\", multiple checkboxes | `multi_select` |\n| Grade level, subject, state, language, format | `select` (use library below) |\n\n### Grade Levels (K-12)\n\n```json\n{\n  \"name\": \"grade_level\",\n  \"label\": \"Grade Level\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"required\": true,\n    \"choices\": [\n      { \"value\": \"Pre-K\", \"label\": \"Pre-K\" },\n      { \"value\": \"Kindergarten\", \"label\": \"Kindergarten\" },\n      { \"value\": \"1st Grade\", \"label\": \"1st Grade\" },\n      { \"value\": \"2nd Grade\", \"label\": \"2nd Grade\" },\n      { \"value\": \"3rd Grade\", \"label\": \"3rd Grade\" },\n      { \"value\": \"4th Grade\", \"label\": \"4th Grade\" },\n      { \"value\": \"5th Grade\", \"label\": \"5th Grade\" },\n      { \"value\": \"6th Grade\", \"label\": \"6th Grade\" },\n      { \"value\": \"7th Grade\", \"label\": \"7th Grade\" },\n      { \"value\": \"8th Grade\", \"label\": \"8th Grade\" },\n      { \"value\": \"9th Grade\", \"label\": \"9th Grade\" },\n      { \"value\": \"10th Grade\", \"label\": \"10th Grade\" },\n      { \"value\": \"11th Grade\", \"label\": \"11th Grade\" },\n      { \"value\": \"12th Grade\", \"label\": \"12th Grade\" }\n    ]\n  }\n}\n```\n\n### Subjects (K-12)\n\n```json\n{\n  \"name\": \"subject\",\n  \"label\": \"Subject\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"required\": true,\n    \"choices\": [\n      { \"value\": \"English Language Arts\", \"label\": \"English Language Arts\" },\n      { \"value\": \"Mathematics\", \"label\": \"Mathematics\" },\n      { \"value\": \"Science\", \"label\": \"Science\" },\n      { \"value\": \"Social Studies\", \"label\": \"Social Studies\" },\n      { \"value\": \"History\", \"label\": \"History\" },\n      { \"value\": \"World Languages\", \"label\": \"World Languages\" },\n      { \"value\": \"Physical Education\", \"label\": \"Physical Education\" },\n      { \"value\": \"Health\", \"label\": \"Health\" },\n      { \"value\": \"Visual Arts\", \"label\": \"Visual Arts\" },\n      { \"value\": \"Music\", \"label\": \"Music\" },\n      { \"value\": \"Theater/Drama\", \"label\": \"Theater/Drama\" },\n      { \"value\": \"Computer Science\", \"label\": \"Computer Science\" },\n      { \"value\": \"Career & Technical Education\", \"label\": \"Career & Technical Education\" },\n      { \"value\": \"Special Education\", \"label\": \"Special Education\" },\n      { \"value\": \"Library/Media\", \"label\": \"Library/Media\" },\n      { \"value\": \"Counseling\", \"label\": \"Counseling\" },\n      { \"value\": \"Other\", \"label\": \"Other\" }\n    ]\n  }\n}\n```\n\n### US States\n\n```json\n{\n  \"name\": \"state\",\n  \"label\": \"State\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"required\": true,\n    \"default\": \"Washington\",\n    \"choices\": [\n      { \"value\": \"Alabama\", \"label\": \"Alabama\" },\n      { \"value\": \"Alaska\", \"label\": \"Alaska\" },\n      { \"value\": \"Arizona\", \"label\": \"Arizona\" },\n      { \"value\": \"Arkansas\", \"label\": \"Arkansas\" },\n      { \"value\": \"California\", \"label\": \"California\" },\n      { \"value\": \"Colorado\", \"label\": \"Colorado\" },\n      { \"value\": \"Connecticut\", \"label\": \"Connecticut\" },\n      { \"value\": \"Delaware\", \"label\": \"Delaware\" },\n      { \"value\": \"Florida\", \"label\": \"Florida\" },\n      { \"value\": \"Georgia\", \"label\": \"Georgia\" },\n      { \"value\": \"Hawaii\", \"label\": \"Hawaii\" },\n      { \"value\": \"Idaho\", \"label\": \"Idaho\" },\n      { \"value\": \"Illinois\", \"label\": \"Illinois\" },\n      { \"value\": \"Indiana\", \"label\": \"Indiana\" },\n      { \"value\": \"Iowa\", \"label\": \"Iowa\" },\n      { \"value\": \"Kansas\", \"label\": \"Kansas\" },\n      { \"value\": \"Kentucky\", \"label\": \"Kentucky\" },\n      { \"value\": \"Louisiana\", \"label\": \"Louisiana\" },\n      { \"value\": \"Maine\", \"label\": \"Maine\" },\n      { \"value\": \"Maryland\", \"label\": \"Maryland\" },\n      { \"value\": \"Massachusetts\", \"label\": \"Massachusetts\" },\n      { \"value\": \"Michigan\", \"label\": \"Michigan\" },\n      { \"value\": \"Minnesota\", \"label\": \"Minnesota\" },\n      { \"value\": \"Mississippi\", \"label\": \"Mississippi\" },\n      { \"value\": \"Missouri\", \"label\": \"Missouri\" },\n      { \"value\": \"Montana\", \"label\": \"Montana\" },\n      { \"value\": \"Nebraska\", \"label\": \"Nebraska\" },\n      { \"value\": \"Nevada\", \"label\": \"Nevada\" },\n      { \"value\": \"New Hampshire\", \"label\": \"New Hampshire\" },\n      { \"value\": \"New Jersey\", \"label\": \"New Jersey\" },\n      { \"value\": \"New Mexico\", \"label\": \"New Mexico\" },\n      { \"value\": \"New York\", \"label\": \"New York\" },\n      { \"value\": \"North Carolina\", \"label\": \"North Carolina\" },\n      { \"value\": \"North Dakota\", \"label\": \"North Dakota\" },\n      { \"value\": \"Ohio\", \"label\": \"Ohio\" },\n      { \"value\": \"Oklahoma\", \"label\": \"Oklahoma\" },\n      { \"value\": \"Oregon\", \"label\": \"Oregon\" },\n      { \"value\": \"Pennsylvania\", \"label\": \"Pennsylvania\" },\n      { \"value\": \"Rhode Island\", \"label\": \"Rhode Island\" },\n      { \"value\": \"South Carolina\", \"label\": \"South Carolina\" },\n      { \"value\": \"South Dakota\", \"label\": \"South Dakota\" },\n      { \"value\": \"Tennessee\", \"label\": \"Tennessee\" },\n      { \"value\": \"Texas\", \"label\": \"Texas\" },\n      { \"value\": \"Utah\", \"label\": \"Utah\" },\n      { \"value\": \"Vermont\", \"label\": \"Vermont\" },\n      { \"value\": \"Virginia\", \"label\": \"Virginia\" },\n      { \"value\": \"Washington\", \"label\": \"Washington\" },\n      { \"value\": \"West Virginia\", \"label\": \"West Virginia\" },\n      { \"value\": \"Wisconsin\", \"label\": \"Wisconsin\" },\n      { \"value\": \"Wyoming\", \"label\": \"Wyoming\" },\n      { \"value\": \"District of Columbia\", \"label\": \"District of Columbia\" }\n    ]\n  }\n}\n```\n\n### Learning Standards Frameworks\n\n```json\n{\n  \"name\": \"standards_framework\",\n  \"label\": \"Standards Framework\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"required\": false,\n    \"choices\": [\n      { \"value\": \"Common Core State Standards (CCSS)\", \"label\": \"Common Core State Standards (CCSS)\" },\n      { \"value\": \"Next Generation Science Standards (NGSS)\", \"label\": \"Next Generation Science Standards (NGSS)\" },\n      { \"value\": \"C3 Framework (Social Studies)\", \"label\": \"C3 Framework (Social Studies)\" },\n      { \"value\": \"ISTE Standards\", \"label\": \"ISTE Standards (Technology)\" },\n      { \"value\": \"National Core Arts Standards\", \"label\": \"National Core Arts Standards\" },\n      { \"value\": \"SHAPE America Standards (PE/Health)\", \"label\": \"SHAPE America Standards (PE/Health)\" },\n      { \"value\": \"ACTFL Standards (World Languages)\", \"label\": \"ACTFL Standards (World Languages)\" },\n      { \"value\": \"State-Specific Standards\", \"label\": \"State-Specific Standards\" },\n      { \"value\": \"Other\", \"label\": \"Other\" }\n    ]\n  }\n}\n```\n\n### Writing Tone/Style\n\n```json\n{\n  \"name\": \"tone\",\n  \"label\": \"Tone\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"professional\", \"label\": \"Professional\" },\n      { \"value\": \"friendly\", \"label\": \"Friendly\" },\n      { \"value\": \"formal\", \"label\": \"Formal\" },\n      { \"value\": \"casual\", \"label\": \"Casual\" },\n      { \"value\": \"encouraging\", \"label\": \"Encouraging\" },\n      { \"value\": \"academic\", \"label\": \"Academic\" },\n      { \"value\": \"conversational\", \"label\": \"Conversational\" }\n    ],\n    \"default\": \"professional\"\n  }\n}\n```\n\n### Output Format\n\n```json\n{\n  \"name\": \"output_format\",\n  \"label\": \"Output Format\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"paragraph\", \"label\": \"Paragraph\" },\n      { \"value\": \"bullet_points\", \"label\": \"Bullet Points\" },\n      { \"value\": \"numbered_list\", \"label\": \"Numbered List\" },\n      { \"value\": \"table\", \"label\": \"Table\" },\n      { \"value\": \"outline\", \"label\": \"Outline\" }\n    ],\n    \"default\": \"paragraph\"\n  }\n}\n```\n\n### Length/Detail Level\n\n```json\n{\n  \"name\": \"length\",\n  \"label\": \"Length\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"brief\", \"label\": \"Brief (1-2 sentences)\" },\n      { \"value\": \"short\", \"label\": \"Short (1 paragraph)\" },\n      { \"value\": \"medium\", \"label\": \"Medium (2-3 paragraphs)\" },\n      { \"value\": \"detailed\", \"label\": \"Detailed (comprehensive)\" }\n    ],\n    \"default\": \"medium\"\n  }\n}\n```\n\n### Audience\n\n```json\n{\n  \"name\": \"audience\",\n  \"label\": \"Audience\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"students\", \"label\": \"Students\" },\n      { \"value\": \"parents\", \"label\": \"Parents/Guardians\" },\n      { \"value\": \"teachers\", \"label\": \"Teachers\" },\n      { \"value\": \"administrators\", \"label\": \"Administrators\" },\n      { \"value\": \"school_board\", \"label\": \"School Board\" },\n      { \"value\": \"community\", \"label\": \"Community Members\" },\n      { \"value\": \"general\", \"label\": \"General Audience\" }\n    ]\n  }\n}\n```\n\n### Language (for multilingual support)\n\n```json\n{\n  \"name\": \"language\",\n  \"label\": \"Output Language\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"English\", \"label\": \"English\" },\n      { \"value\": \"Spanish\", \"label\": \"Spanish\" },\n      { \"value\": \"Vietnamese\", \"label\": \"Vietnamese\" },\n      { \"value\": \"Chinese (Simplified)\", \"label\": \"Chinese (Simplified)\" },\n      { \"value\": \"Chinese (Traditional)\", \"label\": \"Chinese (Traditional)\" },\n      { \"value\": \"Korean\", \"label\": \"Korean\" },\n      { \"value\": \"Tagalog\", \"label\": \"Tagalog\" },\n      { \"value\": \"Russian\", \"label\": \"Russian\" },\n      { \"value\": \"Arabic\", \"label\": \"Arabic\" },\n      { \"value\": \"Somali\", \"label\": \"Somali\" },\n      { \"value\": \"Ukrainian\", \"label\": \"Ukrainian\" }\n    ],\n    \"default\": \"English\"\n  }\n}\n```\n\n---\n\n## K-12 District-Specific Field Libraries\n\n**SCOPE:** Use these libraries ONLY when building AI Studio assistants for educational/instructional purposes (lesson plans, assessments, student feedback, curriculum tools, etc.).\n\n**Pedagogical alignment:** For educational assistants, reference PSD's Instructional Essentials skill (`/psd-instructional-vision`) to ensure alignment with district beliefs about rigor, inclusion, data-driven decisions, and innovation.\n\n### ELA Standards Domains\n\n```json\n{\n  \"name\": \"ela_domain\",\n  \"label\": \"ELA Domain\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Reading Literature\", \"label\": \"Reading Literature\" },\n      { \"value\": \"Reading Informational Text\", \"label\": \"Reading Informational Text\" },\n      { \"value\": \"Reading Foundational Skills\", \"label\": \"Reading Foundational Skills\" },\n      { \"value\": \"Writing\", \"label\": \"Writing\" },\n      { \"value\": \"Speaking and Listening\", \"label\": \"Speaking and Listening\" },\n      { \"value\": \"Language\", \"label\": \"Language\" }\n    ]\n  }\n}\n```\n\n### Math Standards Domains\n\n```json\n{\n  \"name\": \"math_domain\",\n  \"label\": \"Math Domain\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Counting and Cardinality\", \"label\": \"Counting and Cardinality (K)\" },\n      { \"value\": \"Operations and Algebraic Thinking\", \"label\": \"Operations and Algebraic Thinking\" },\n      { \"value\": \"Number and Operations in Base Ten\", \"label\": \"Number and Operations in Base Ten\" },\n      { \"value\": \"Number and Operations - Fractions\", \"label\": \"Number and Operations - Fractions\" },\n      { \"value\": \"Measurement and Data\", \"label\": \"Measurement and Data\" },\n      { \"value\": \"Geometry\", \"label\": \"Geometry\" },\n      { \"value\": \"Ratios and Proportional Relationships\", \"label\": \"Ratios and Proportional Relationships\" },\n      { \"value\": \"The Number System\", \"label\": \"The Number System\" },\n      { \"value\": \"Expressions and Equations\", \"label\": \"Expressions and Equations\" },\n      { \"value\": \"Functions\", \"label\": \"Functions\" },\n      { \"value\": \"Statistics and Probability\", \"label\": \"Statistics and Probability\" }\n    ]\n  }\n}\n```\n\n### Science Standards Domains (NGSS)\n\n```json\n{\n  \"name\": \"science_domain\",\n  \"label\": \"Science Domain\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Physical Science\", \"label\": \"Physical Science\" },\n      { \"value\": \"Life Science\", \"label\": \"Life Science\" },\n      { \"value\": \"Earth and Space Science\", \"label\": \"Earth and Space Science\" },\n      { \"value\": \"Engineering Design\", \"label\": \"Engineering Design\" }\n    ]\n  }\n}\n```\n\n### Grade Bands\n\n```json\n{\n  \"name\": \"grade_band\",\n  \"label\": \"Grade Band\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"K-2\", \"label\": \"K-2 (Primary)\" },\n      { \"value\": \"3-5\", \"label\": \"3-5 (Intermediate)\" },\n      { \"value\": \"6-8\", \"label\": \"6-8 (Middle School)\" },\n      { \"value\": \"9-12\", \"label\": \"9-12 (High School)\" }\n    ]\n  }\n}\n```\n\n### Student Population / Learner Characteristics\n\n```json\n{\n  \"name\": \"student_population\",\n  \"label\": \"Student Population\",\n  \"field_type\": \"multi_select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"General Education\", \"label\": \"General Education\" },\n      { \"value\": \"English Learners (EL/MLL)\", \"label\": \"English Learners (EL/MLL)\" },\n      { \"value\": \"Students with IEPs\", \"label\": \"Students with IEPs\" },\n      { \"value\": \"Students with 504 Plans\", \"label\": \"Students with 504 Plans\" },\n      { \"value\": \"Highly Capable\", \"label\": \"Highly Capable/Gifted\" },\n      { \"value\": \"At-Risk\", \"label\": \"At-Risk/Tier 2-3\" }\n    ]\n  }\n}\n```\n\n### Instructional Model (aligned with PSD Tier 1 practices)\n\n```json\n{\n  \"name\": \"instructional_model\",\n  \"label\": \"Instructional Model\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Whole Group\", \"label\": \"Whole Group Direct Instruction\" },\n      { \"value\": \"Small Group\", \"label\": \"Small Group (Flexible Grouping)\" },\n      { \"value\": \"Stations/Centers\", \"label\": \"Stations/Learning Centers\" },\n      { \"value\": \"Workshop Model\", \"label\": \"Workshop Model (Mini-lesson â†’ Work Time â†’ Share)\" },\n      { \"value\": \"Guided Practice\", \"label\": \"Gradual Release (I Do, We Do, You Do)\" },\n      { \"value\": \"Inquiry-Based\", \"label\": \"Inquiry-Based/Project-Based\" },\n      { \"value\": \"Flipped\", \"label\": \"Flipped Classroom\" },\n      { \"value\": \"Co-Teaching\", \"label\": \"Co-Teaching\" }\n    ]\n  }\n}\n```\n\n### Assessment Type (aligned with Data-Driven Decisions essential)\n\n```json\n{\n  \"name\": \"assessment_type\",\n  \"label\": \"Assessment Type\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Formative - Exit Ticket\", \"label\": \"Formative - Exit Ticket\" },\n      { \"value\": \"Formative - Check for Understanding\", \"label\": \"Formative - Check for Understanding\" },\n      { \"value\": \"Formative - Observation\", \"label\": \"Formative - Observation/Anecdotal\" },\n      { \"value\": \"Formative - Student Self-Assessment\", \"label\": \"Formative - Student Self-Assessment\" },\n      { \"value\": \"Summative - Unit Test\", \"label\": \"Summative - Unit Test\" },\n      { \"value\": \"Summative - Project/Performance\", \"label\": \"Summative - Project/Performance Task\" },\n      { \"value\": \"Summative - Portfolio\", \"label\": \"Summative - Portfolio\" },\n      { \"value\": \"Benchmark/Interim\", \"label\": \"Benchmark/Interim Assessment\" },\n      { \"value\": \"Diagnostic\", \"label\": \"Diagnostic/Pre-Assessment\" }\n    ]\n  }\n}\n```\n\n### Lesson Duration\n\n```json\n{\n  \"name\": \"lesson_duration\",\n  \"label\": \"Lesson Duration\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"15-20 minutes\", \"label\": \"15-20 minutes (Mini-lesson)\" },\n      { \"value\": \"30 minutes\", \"label\": \"30 minutes\" },\n      { \"value\": \"45 minutes\", \"label\": \"45 minutes (Standard period)\" },\n      { \"value\": \"60 minutes\", \"label\": \"60 minutes\" },\n      { \"value\": \"90 minutes\", \"label\": \"90 minutes (Block)\" },\n      { \"value\": \"Multi-day\", \"label\": \"Multi-day lesson\" }\n    ]\n  }\n}\n```\n\n### Bloom's Taxonomy Level (Depth of Knowledge)\n\n```json\n{\n  \"name\": \"cognitive_level\",\n  \"label\": \"Cognitive Level\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Remember\", \"label\": \"Remember (Recall facts)\" },\n      { \"value\": \"Understand\", \"label\": \"Understand (Explain ideas)\" },\n      { \"value\": \"Apply\", \"label\": \"Apply (Use in new situations)\" },\n      { \"value\": \"Analyze\", \"label\": \"Analyze (Draw connections)\" },\n      { \"value\": \"Evaluate\", \"label\": \"Evaluate (Justify decisions)\" },\n      { \"value\": \"Create\", \"label\": \"Create (Produce new work)\" }\n    ]\n  }\n}\n```\n\n### Depth of Knowledge (Webb's DOK)\n\n```json\n{\n  \"name\": \"dok_level\",\n  \"label\": \"Depth of Knowledge\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"DOK 1\", \"label\": \"DOK 1 - Recall\" },\n      { \"value\": \"DOK 2\", \"label\": \"DOK 2 - Skill/Concept\" },\n      { \"value\": \"DOK 3\", \"label\": \"DOK 3 - Strategic Thinking\" },\n      { \"value\": \"DOK 4\", \"label\": \"DOK 4 - Extended Thinking\" }\n    ]\n  }\n}\n```\n\n### Educator Role\n\n```json\n{\n  \"name\": \"role\",\n  \"label\": \"Role\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Classroom Teacher\", \"label\": \"Classroom Teacher\" },\n      { \"value\": \"Special Education Teacher\", \"label\": \"Special Education Teacher\" },\n      { \"value\": \"EL/MLL Specialist\", \"label\": \"EL/MLL Specialist\" },\n      { \"value\": \"Instructional Coach\", \"label\": \"Instructional Coach\" },\n      { \"value\": \"Counselor\", \"label\": \"School Counselor\" },\n      { \"value\": \"Librarian\", \"label\": \"Teacher-Librarian\" },\n      { \"value\": \"Paraeducator\", \"label\": \"Paraeducator/IA\" },\n      { \"value\": \"Principal\", \"label\": \"Principal\" },\n      { \"value\": \"Assistant Principal\", \"label\": \"Assistant Principal\" },\n      { \"value\": \"District Staff\", \"label\": \"District Staff\" }\n    ]\n  }\n}\n```\n\n### School Level\n\n```json\n{\n  \"name\": \"school_level\",\n  \"label\": \"School Level\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Elementary\", \"label\": \"Elementary School\" },\n      { \"value\": \"Middle\", \"label\": \"Middle School\" },\n      { \"value\": \"High\", \"label\": \"High School\" },\n      { \"value\": \"K-8\", \"label\": \"K-8 School\" },\n      { \"value\": \"Alternative\", \"label\": \"Alternative School\" },\n      { \"value\": \"District-Wide\", \"label\": \"District-Wide\" }\n    ]\n  }\n}\n```\n\n### Communication Type\n\n```json\n{\n  \"name\": \"communication_type\",\n  \"label\": \"Communication Type\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Parent Newsletter\", \"label\": \"Parent Newsletter\" },\n      { \"value\": \"Parent Email\", \"label\": \"Parent Email\" },\n      { \"value\": \"Student Feedback\", \"label\": \"Student Feedback\" },\n      { \"value\": \"IEP/504 Communication\", \"label\": \"IEP/504 Communication\" },\n      { \"value\": \"Behavior Communication\", \"label\": \"Behavior Communication\" },\n      { \"value\": \"Progress Report\", \"label\": \"Progress Report\" },\n      { \"value\": \"Staff Communication\", \"label\": \"Staff Communication\" },\n      { \"value\": \"Community Announcement\", \"label\": \"Community Announcement\" }\n    ]\n  }\n}\n```\n\n### Quarter/Trimester\n\n```json\n{\n  \"name\": \"grading_period\",\n  \"label\": \"Grading Period\",\n  \"field_type\": \"select\",\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"Q1\", \"label\": \"Quarter 1\" },\n      { \"value\": \"Q2\", \"label\": \"Quarter 2\" },\n      { \"value\": \"Q3\", \"label\": \"Quarter 3\" },\n      { \"value\": \"Q4\", \"label\": \"Quarter 4\" },\n      { \"value\": \"Semester 1\", \"label\": \"Semester 1\" },\n      { \"value\": \"Semester 2\", \"label\": \"Semester 2\" },\n      { \"value\": \"Full Year\", \"label\": \"Full Year\" },\n      { \"value\": \"Summer\", \"label\": \"Summer\" }\n    ]\n  }\n}\n```\n\n---\n\n## Making Reasonable Assumptions\n\n**For general assistants:** Use the Common Field Libraries (grade, subject, state, tone, format, etc.).\n\n**For educational/instructional assistants:** Use the K-12 District-Specific Field Libraries above AND invoke the PSD Instructional Vision skill (`/psd-instructional-vision`) for pedagogical alignment.\n\n### Educational Assistant Decision Framework\n\nWhen a dropdown's options aren't visible in a screenshot for an educational tool:\n\n| Field Type | Assumption Strategy |\n|------------|---------------------|\n| Grade/Subject/State | Use Common Field Libraries |\n| Standards | Use domain-level dropdowns (ELA, Math, Science domains) + text for specific codes |\n| Roles/Positions | Use Educator Role library |\n| Time/Duration | Use Lesson Duration or Grading Period library |\n| Assessment | Use Assessment Type library |\n| Instructional approach | Use Instructional Model library |\n| Student groups | Use Student Population library |\n| Cognitive rigor | Use Bloom's or DOK library |\n| District-specific (buildings, departments) | **Ask user** - these vary by district |\n\n### PSD Instructional Essentials Alignment\n\nWhen building educational AI Studio assistants, ensure options align with PSD's four essentials:\n\n- **Rigor & Inclusion** â†’ Include scaffolding options, differentiation choices, support for all learners\n- **Data-Driven Decisions** â†’ Include assessment type options, formative check options\n- **Continuous Growth** â†’ Include reflection prompts, self-assessment, goal-setting options\n- **Innovation** â†’ Include technology integration, real-world connection, student voice options\n\n---\n\n## Output\n\nWrite the JSON file to the user's specified path or `~/Downloads/[kebab-case-name].json`.\n\nConfirm:\n- File path written\n- Assistant name and purpose\n- Number of prompts and input fields\n- Next step: Import via AI Studio â†’ Assistants â†’ Import\n",
        "skills/assistant-architect/references/json-spec.md": "# Assistant Architect JSON Import Specification\n\n## JSON Schema Reference\n\n### Root Structure\n\n```json\n{\n  \"version\": \"1.0\",\n  \"exported_at\": \"2025-01-23T10:30:00.000Z\",\n  \"export_source\": \"Geoffrey Assistant Architect\",\n  \"assistants\": [...]\n}\n```\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `version` | string | **Yes** | Must be exactly `\"1.0\"` |\n| `exported_at` | string | No | ISO-8601 timestamp |\n| `export_source` | string | No | Identifier for the generating system |\n| `assistants` | array | **Yes** | Array of assistant objects |\n\n### Assistant Object\n\n```json\n{\n  \"name\": \"My Assistant\",\n  \"description\": \"Analyzes documents and provides summaries\",\n  \"status\": \"approved\",\n  \"image_path\": \"/images/icons/document.png\",\n  \"is_parallel\": false,\n  \"timeout_seconds\": 300,\n  \"prompts\": [...],\n  \"input_fields\": [...]\n}\n```\n\n| Field | Type | Required | Default | Constraints |\n|-------|------|----------|---------|-------------|\n| `name` | string | **Yes** | - | Min 3 characters |\n| `description` | string | No | `\"\"` | Purpose/description |\n| `status` | string | No | - | **Ignored on import** (always `pending_approval`) |\n| `image_path` | string | No | `null` | Path to assistant icon |\n| `is_parallel` | boolean | No | `false` | Enable parallel prompt execution |\n| `timeout_seconds` | number | No | `null` | Max: 900 (15 minutes) |\n| `prompts` | array | **Yes** | - | 1-20 prompts required |\n| `input_fields` | array | **Yes** | - | Can be empty array `[]` |\n\n### Prompt Object\n\n```json\n{\n  \"name\": \"analyze\",\n  \"content\": \"Analyze the following document:\\n\\n{{document_content}}\",\n  \"system_context\": \"You are an expert document analyst.\",\n  \"model_name\": \"gpt-4o\",\n  \"position\": 0,\n  \"parallel_group\": null,\n  \"input_mapping\": null,\n  \"timeout_seconds\": 120\n}\n```\n\n| Field | Type | Required | Default | Constraints |\n|-------|------|----------|---------|-------------|\n| `name` | string | **Yes** | - | Internal identifier |\n| `content` | string | **Yes** | - | Supports `{{variables}}` |\n| `system_context` | string | No | `null` | System prompt prepended |\n| `model_name` | string | **Yes** | - | See Model Mapping below |\n| `position` | number | **Yes** | - | 0-based execution order |\n| `parallel_group` | number | No | `null` | Group ID for parallel execution |\n| `input_mapping` | object | No | `null` | Variable substitution mappings |\n| `timeout_seconds` | number | No | `null` | Per-prompt timeout |\n\n### Input Field Object\n\n```json\n{\n  \"name\": \"document\",\n  \"label\": \"Upload Document\",\n  \"field_type\": \"file_upload\",\n  \"position\": 0,\n  \"options\": {...}\n}\n```\n\n| Field | Type | Required |\n|-------|------|----------|\n| `name` | string | **Yes** |\n| `label` | string | **Yes** |\n| `field_type` | enum | **Yes** |\n| `position` | number | **Yes** |\n| `options` | object | No |\n\n## Field Types\n\n### `short_text`\n```json\n{\n  \"name\": \"title\",\n  \"label\": \"Document Title\",\n  \"field_type\": \"short_text\",\n  \"position\": 0,\n  \"options\": {\n    \"placeholder\": \"Enter a title...\",\n    \"required\": true,\n    \"maxLength\": 200\n  }\n}\n```\n\n### `long_text`\n```json\n{\n  \"name\": \"content\",\n  \"label\": \"Document Content\",\n  \"field_type\": \"long_text\",\n  \"position\": 1,\n  \"options\": {\n    \"placeholder\": \"Paste content here...\",\n    \"required\": true,\n    \"rows\": 10\n  }\n}\n```\n\n### `select`\n```json\n{\n  \"name\": \"output_format\",\n  \"label\": \"Output Format\",\n  \"field_type\": \"select\",\n  \"position\": 2,\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"summary\", \"label\": \"Summary\" },\n      { \"value\": \"detailed\", \"label\": \"Detailed Analysis\" }\n    ],\n    \"default\": \"summary\"\n  }\n}\n```\n\n### `multi_select`\n```json\n{\n  \"name\": \"analysis_types\",\n  \"label\": \"Analysis Types\",\n  \"field_type\": \"multi_select\",\n  \"position\": 3,\n  \"options\": {\n    \"choices\": [\n      { \"value\": \"sentiment\", \"label\": \"Sentiment Analysis\" },\n      { \"value\": \"entities\", \"label\": \"Entity Extraction\" }\n    ],\n    \"minSelections\": 1,\n    \"maxSelections\": 3\n  }\n}\n```\n\n### `file_upload`\n```json\n{\n  \"name\": \"document\",\n  \"label\": \"Upload Document\",\n  \"field_type\": \"file_upload\",\n  \"position\": 4,\n  \"options\": {\n    \"accept\": \".pdf,.docx,.txt,.md\",\n    \"maxSize\": 10485760,\n    \"multiple\": false\n  }\n}\n```\n\n## Model Mapping\n\n| Portable Name | Description |\n|---------------|-------------|\n| `gpt-4o` | OpenAI GPT-4o |\n| `gpt-4o-mini` | OpenAI GPT-4o Mini |\n| `gpt-4-turbo` | OpenAI GPT-4 Turbo |\n| `claude-3-5-sonnet` | Anthropic Claude 3.5 Sonnet |\n| `claude-3-opus` | Anthropic Claude 3 Opus |\n| `claude-3-haiku` | Anthropic Claude 3 Haiku |\n| `gemini-1.5-pro` | Google Gemini 1.5 Pro |\n| `gemini-1.5-flash` | Google Gemini 1.5 Flash |\n\n## Variable Substitution\n\n### Input Field Variables\nReference user input: `{{field_name}}`\n\n### Prompt Output Variables\nReference previous prompt output: `{{prompt_N_output}}` (0-based)\n\n### Input Mapping\n```json\n{\n  \"input_mapping\": {\n    \"analysis\": \"{{prompt_0_output}}\"\n  }\n}\n```\n\n## Execution Patterns\n\n### Sequential (default)\nPrompts execute in order by `position`.\n\n### Parallel\nSet `is_parallel: true` and same `parallel_group` for concurrent prompts.\n\n### Chained\nEach prompt uses `{{prompt_N_output}}` from previous.\n\n## Validation Checklist\n\n### Structure\n- `version` is exactly `\"1.0\"`\n- `assistants` is a non-empty array\n- Each assistant has `name` (min 3 chars)\n- Each assistant has `prompts` array (1-20)\n- Each assistant has `input_fields` array (can be empty)\n\n### Prompts\n- Each has `name`, `content`, `model_name`, `position`\n- `position` values sequential from 0\n- Variables reference valid fields or `prompt_N_output`\n\n### Input Fields\n- Each has `name`, `label`, `field_type`, `position`\n- `field_type` is: `short_text`, `long_text`, `select`, `multi_select`, `file_upload`\n- `position` values sequential from 0\n- Select fields have `options.choices` array\n",
        "skills/browser-control/SKILL.md": "---\nname: browser-control\ndescription: Full browser control for authenticated web interactions using Playwright scripts\ntriggers:\n  - \"check availability\"\n  - \"search for\"\n  - \"log into\"\n  - \"browse to\"\n  - \"look up prices\"\n  - \"check points\"\n  - \"find deals\"\n  - \"scrape\"\n  - \"get current price\"\n  - \"check hotel\"\n  - \"check flight\"\nallowed-tools: Bash, Read\nversion: 0.1.0\n---\n\n# Browser Control Skill\n\nFull browser automation for travel research requiring authentication or complex interactions.\n\n## When to Activate\n\nUse this skill when you need to:\n- Access authenticated pages (Marriott, Alaska Airlines accounts)\n- Check real-time availability and prices\n- Scrape forum threads (FlyerTalk, Reddit)\n- Interact with JavaScript-heavy travel sites\n- Fill forms or perform searches on websites\n\n## Architecture\n\n**Script-based approach** - No MCP overhead. Scripts load only when needed.\n\n### Prerequisites\n\n1. **Geoffrey Chrome Profile** must be running with remote debugging:\n   ```bash\n   ./scripts/launch-chrome.sh\n   ```\n\n2. **Profile must have logins saved** for:\n   - Marriott Bonvoy\n   - Alaska Airlines Mileage Plan\n   - FlyerTalk\n   - TripAdvisor\n   - Reddit\n\n## Available Scripts\n\nAll scripts are in `./scripts/` and use Playwright connecting via CDP.\n\n| Script | Purpose | Usage |\n|--------|---------|-------|\n| `launch-chrome.sh` | Start Geoffrey Chrome profile | `./scripts/launch-chrome.sh` |\n| `navigate.js` | Navigate to URL and get page content | `bun scripts/navigate.js <url>` |\n| `screenshot.js` | Take screenshot of page | `bun scripts/screenshot.js <url> [output] [--full]` |\n| `extract.js` | Extract text/data from page | `bun scripts/extract.js <url> <selector> [--all]` |\n| `interact.js` | Click, type, select on page | `bun scripts/interact.js <url> <action> <selector> [value]` |\n| `search.js` | Search travel sites | `bun scripts/search.js <site> <query>` |\n\n## Usage Examples\n\n### Check Marriott Points Availability\n```bash\n# Navigate to Marriott search\nbun scripts/navigate.js \"https://www.marriott.com/search/default.mi\"\n\n# Or use the search script\nbun scripts/search.js marriott \"Westin Rusutsu February 2026\"\n```\n\n### Get FlyerTalk Thread Content\n```bash\nbun scripts/extract.js \"https://www.flyertalk.com/forum/thread-url\" \".post-content\"\n```\n\n### Screenshot Hotel Page\n```bash\nbun scripts/screenshot.js \"https://www.marriott.com/hotels/travel/ctswi-the-westin-rusutsu-resort/\" rusutsu.png\n```\n\n## Screenshot Protection & Lazy-Loading\n\n**Auto-Resize Protection (ALL screenshots):**\n- Post-capture resize using Sharp to max 7500px per dimension\n- Maintains aspect ratio, prevents Claude Code API crashes\n- Every screenshot guaranteed `safeToRead: true`\n\n**Lazy-Loading Limitation (AirBnB, dynamic sites):**\n- Sites with lazy-loading show grey placeholders in fullPage mode\n- Images only load when scrolled into viewport\n- **Solution**: Use viewport screenshots (no --full flag) or `screenshot-current.js`\n\n```bash\n# For lazy-loading sites, screenshot current viewport\nbun scripts/screenshot-current.js /tmp/output.png\n\n# Or navigate + viewport screenshot\nbun scripts/screenshot.js \"https://airbnb.com/...\" /tmp/output.png\n```\n\nExample output:\n```json\n{\n  \"success\": true,\n  \"url\": \"https://example.com\",\n  \"title\": \"Example Page\",\n  \"screenshot\": \"/tmp/screenshot.png\",\n  \"dimensions\": { \"width\": 1920, \"height\": 1080 },\n  \"originalDimensions\": { \"width\": 1920, \"height\": 1080 },\n  \"scaled\": false,\n  \"safeToRead\": true,\n  \"timestamp\": \"2025-11-28T...\"\n}\n```\n\n## Connection Details\n\nScripts connect to Chrome via Chrome DevTools Protocol (CDP):\n- **URL**: `http://127.0.0.1:9222`\n- **Profile**: `~/.chrome-geoffrey`\n\n## Error Handling\n\nIf scripts fail to connect:\n1. Ensure Chrome is running with `./scripts/launch-chrome.sh`\n2. Check port 9222 is not in use: `lsof -i :9222`\n3. Kill existing Chrome debugger: `pkill -f \"remote-debugging-port\"`\n\n## Output Format\n\nAll scripts return JSON:\n```json\n{\n  \"success\": true,\n  \"url\": \"https://example.com\",\n  \"title\": \"Page Title\",\n  \"content\": \"Extracted content or action result\",\n  \"timestamp\": \"2025-11-22T...\"\n}\n```\n\n## Limitations\n\n- Requires Geoffrey Chrome profile to be running\n- Cannot bypass CAPTCHAs (uses real browser fingerprint to avoid most)\n- Heavy sites may be slow\n- Some sites block automation despite real browser\n\n## Future Enhancements\n\n- Add cookie/session export for headless runs\n- 1Password CLI integration for credential rotation\n- Parallel page operations\n- Browser-Use (Python) for complex visual tasks\n",
        "skills/clawdbot-monitor/SKILL.md": "---\nname: clawdbot-monitor\ndescription: Monitor Clawdbot repo for updates and identify improvement opportunities for Geoffrey. Use when comparing Geoffrey to Clawdbot patterns, skills, or features.\ntriggers:\n  - \"clawdbot monitor\"\n  - \"check clawdbot\"\n  - \"compare to clawdbot\"\n  - \"sync with clawdbot\"\n  - \"clawdbot updates\"\nargument-hint: \"[optional: focus area - skills|hooks|extensions|memory]\"\nmodel: claude-opus-4-5-20251101\ncontext: fork\nagent: Explore\nallowed-tools:\n  - WebFetch\n  - WebSearch\n  - Read\n  - Grep\n  - Glob\nextended-thinking: true\nversion: 1.0.0\n---\n\n# Clawdbot Monitor\n\nMonitor the [Clawdbot](https://github.com/clawdbot/clawdbot) repository and identify opportunities to improve Geoffrey.\n\n## Clawdbot vs Geoffrey Quick Comparison\n\n| Aspect | Clawdbot | Geoffrey |\n|--------|----------|----------|\n| **Scope** | Multi-channel messaging hub (WhatsApp, Discord, etc.) | Claude Code plugin for personal AI |\n| **Skills** | 60+ (CLI wrappers, platform integrations) | 26 (specialized workflows) |\n| **Hooks** | Event-driven TypeScript handlers | hooks.json configuration |\n| **Memory** | Hybrid vector + BM25 with SQLite-vec | Obsidian vault + knowledge-manager |\n| **Releases** | Weekly (v2026.x.x latest) | Versioned plugin (v0.x.x) |\n\n## Focus Areas\n\nWhen invoked with an argument, focus analysis on that area:\n- **skills** - Skill formats, metadata, categories, CLI patterns\n- **hooks** - Event types, handler patterns, automation\n- **extensions** - Plugin architecture, provider isolation\n- **memory** - Search patterns, embeddings, persistence\n\nWithout an argument, perform full analysis across all areas.\n\n---\n\n## Phase 1: Fetch Clawdbot Current State\n\n### 1.1 Core Documentation\nFetch these from `github.com/clawdbot/clawdbot`:\n- `README.md` - Overall structure and philosophy\n- `CLAUDE.md` - System instructions (if exists)\n- Check releases page for version info\n\n### 1.2 Skill Structure\nExplore the skills directory:\n- List all available skills\n- Sample key skills that overlap with Geoffrey's domains\n- Note skill metadata patterns (`requires.bins`, `requires.config`, install methods)\n- Check for new skills since last analysis\n\n### 1.3 Hook System\nExamine hook architecture:\n- Event types (session, command, boot)\n- Handler patterns (TypeScript)\n- Compare to Geoffrey's hooks.json approach\n\n### 1.4 Recent Changes\n- Check recent commits for significant updates\n- Look for new patterns or breaking changes\n- Note any announcements or migration guides\n\n---\n\n## Phase 2: Analyze Geoffrey Current State\n\n### 2.1 Core Architecture\nRead these Geoffrey files:\n- `CLAUDE.md` - Founding principles and guidelines\n- `README.md` - Current capabilities\n- `.claude-plugin/plugin.json` - Version info\n\n### 2.2 Skills Inventory\n```bash\n# Glob for all skills\nskills/*/SKILL.md\n```\nCreate inventory of current skills and their purposes.\n\n### 2.3 Pattern Identification\nIdentify Geoffrey's current patterns:\n- Hook system usage (hooks.json)\n- Knowledge storage approach (Obsidian vault)\n- Skill structure conventions (SKILL.md frontmatter)\n- Validation patterns\n\n---\n\n## Phase 3: Gap Analysis\n\nCompare Geoffrey against Clawdbot across these dimensions:\n\n### 3.1 Skill Coverage\n- What Clawdbot skills do we lack equivalent skills for?\n- Which skills would provide highest value for Geoffrey's use case?\n- Are there redundant or outdated skills?\n\n### 3.2 Skill Metadata System\n- `requires.bins` - CLI dependency declarations\n- `requires.config` - Configuration requirements\n- Install methods - How skills auto-install dependencies\n- Compare to Geoffrey's current skill structure\n\n### 3.3 Hook System\n- Clawdbot: Event-driven TypeScript handlers\n- Geoffrey: hooks.json configuration\n- What event types are missing?\n- What patterns could we adopt?\n\n### 3.4 Extension Architecture\n- Plugin isolation patterns\n- Multi-provider support (LLM providers, messaging channels)\n- How Clawdbot handles modularity\n\n### 3.5 Memory System\n- Clawdbot: Hybrid vector + BM25 with SQLite-vec\n- Geoffrey: Obsidian vault + knowledge-manager\n- Embedding integration patterns\n- Search and retrieval approaches\n\n### 3.6 New Features\n- Recent Clawdbot additions worth adopting\n- Experimental features to watch\n\n---\n\n## Phase 4: Generate Report\n\nCreate a markdown report with this structure:\n\n```markdown\n# Clawdbot Monitor Report\n\n**Geoffrey Version:** [from plugin.json]\n**Clawdbot Version Analyzed:** [from releases]\n**Analysis Date:** [today's date]\n\n## Executive Summary\n[2-3 sentence summary of key findings]\n\n## Clawdbot Recent Changes\n| Date | Change | Relevance to Geoffrey |\n|------|--------|----------------------|\n| ... | ... | ... |\n\n## Features/Patterns to Adopt\n| Priority | Feature | Purpose | Complexity | Notes |\n|----------|---------|---------|------------|-------|\n| High | ... | ... | ... | ... |\n| Medium | ... | ... | ... | ... |\n| Low | ... | ... | ... | ... |\n\n## Pattern Improvements\n\n### 1. [Pattern Name]\n- **Clawdbot Implementation:** [how they do it]\n- **Geoffrey Current:** [how we do it / missing]\n- **Adoption Benefit:** [why adopt]\n- **Files to Modify:** [list]\n\n### 2. [Pattern Name]\n...\n\n## Skill Coverage Comparison\n| Domain | Clawdbot Skill | Geoffrey Equivalent | Gap |\n|--------|---------------|--------------------| ----|\n| ... | ... | ... | ... |\n\n## Recommended Actions\n\n### Immediate (This Week)\n- [ ] Action 1\n- [ ] Action 2\n\n### Short-Term (This Month)\n- [ ] Action 1\n- [ ] Action 2\n\n### Long-Term (Explore)\n- [ ] Action 1\n- [ ] Action 2\n```\n\n---\n\n## Key Clawdbot Areas to Monitor\n\nBased on repo structure, these are the primary areas:\n\n| Area | Description | Geoffrey Equivalent |\n|------|-------------|-------------------|\n| skills/ | 60+ modular skills | skills/ (26) |\n| Hooks | Event-driven TypeScript | hooks.json |\n| Extensions | Plugin architecture | (none currently) |\n| Memory | Hybrid vector + BM25 | Obsidian vault |\n| Channels | WhatsApp, Discord, etc. | N/A (Claude Code only) |\n\n---\n\n## Key Differences from PAI Monitor\n\n| Aspect | PAI | Clawdbot |\n|--------|-----|----------|\n| Update frequency | Less frequent | Weekly releases |\n| Architecture | Packs + CLI | Daemon + extensions |\n| Skill count | 24 packs | 60+ skills |\n| Memory model | File-based | Vector DB (SQLite-vec) |\n| Target | Personal AI | Messaging hub |\n\n---\n\n## Execution Notes\n\n1. **Start with Phase 1** - Always fetch fresh Clawdbot data, don't rely on cached knowledge\n2. **Be thorough in Phase 2** - Accurate self-assessment is critical for gap analysis\n3. **Prioritize in Phase 3** - Not all gaps need filling; focus on high-value opportunities for Geoffrey's use case\n4. **Actionable Phase 4** - Every recommendation should have clear next steps\n5. **Note Architecture Differences** - Clawdbot is a daemon, Geoffrey is a plugin; some patterns won't translate\n\nWhen focusing on a specific area, still provide brief context from other phases but concentrate analysis on the requested focus.\n",
        "skills/clawdbot-monitor/references/clawdbot-areas.md": "# Clawdbot Key Areas Reference\n\nQuick reference for monitoring Clawdbot's architecture and identifying adoption opportunities for Geoffrey.\n\n## Architecture Overview\n\nClawdbot is a **multi-channel messaging hub** that runs as a daemon, unlike Geoffrey which is a Claude Code plugin. Key architectural differences to consider when evaluating patterns.\n\n## Primary Monitoring Areas\n\n### 1. Skill Metadata System\n\n**Location:** `skills/*/skill.json`\n\n**Key Properties:**\n- `requires.bins` - CLI dependencies (e.g., `[\"ffmpeg\", \"imagemagick\"]`)\n- `requires.config` - Configuration keys needed\n- `install` - Auto-installation commands\n- `category` - Skill categorization\n\n**Geoffrey Comparison:**\n- SKILL.md frontmatter is more prompt-focused\n- No formal dependency declaration system\n- No auto-install mechanism\n\n**Adoption Opportunity:** Add `requires` section to SKILL.md frontmatter for dependency validation.\n\n---\n\n### 2. Hook System\n\n**Event Types:**\n- `session:start` / `session:end` - Session lifecycle\n- `command:before` / `command:after` - Command execution\n- `boot` / `shutdown` - Daemon lifecycle\n- `message:receive` / `message:send` - Messaging events\n\n**Handler Pattern:**\n```typescript\n// TypeScript event handlers\nexport const onSessionEnd = async (context) => {\n  // Extract patterns, update memory\n};\n```\n\n**Geoffrey Comparison:**\n- hooks.json declarative config\n- Limited event types\n- No TypeScript handlers\n\n**Adoption Opportunity:** Consider TypeScript hook handlers for complex logic.\n\n---\n\n### 3. Extension Architecture\n\n**Key Patterns:**\n- Plugin isolation (each extension runs separately)\n- Multi-provider support (swap LLM backends)\n- Channel abstraction (WhatsApp, Discord share same interface)\n\n**Geoffrey Comparison:**\n- Single-process plugin\n- Claude-only (no provider swapping)\n- No channel abstraction needed\n\n**Adoption Opportunity:** Provider abstraction could enable multi-model research improvements.\n\n---\n\n### 4. Memory System\n\n**Clawdbot Stack:**\n- SQLite-vec for vector storage\n- BM25 for keyword search\n- Hybrid retrieval combining both\n- Embeddings via local models or API\n\n**Geoffrey Comparison:**\n- Obsidian vault (Markdown files)\n- Smart search via MCP\n- No vector embeddings\n- File-based persistence\n\n**Adoption Opportunity:** Hybrid search could improve knowledge retrieval.\n\n---\n\n### 5. Skill Categories\n\n**Clawdbot Categories:**\n- CLI wrappers (ffmpeg, imagemagick, etc.)\n- Platform integrations (Slack, Discord, etc.)\n- AI utilities (summarize, translate, etc.)\n- Development tools (git, docker, etc.)\n\n**Geoffrey Equivalents:**\n- Workflow orchestration (omnifocus-manager)\n- Platform integrations (google-workspace, freshservice)\n- AI utilities (multi-model-research, writer)\n- Productivity (pdf, xlsx, docx)\n\n**Gap Areas:**\n- CLI wrappers (Geoffrey has few)\n- Development tools (limited)\n- Media processing (basic via image-gen)\n\n---\n\n## Skills to Watch\n\nHigh-value Clawdbot skills for potential Geoffrey adoption:\n\n| Clawdbot Skill | Purpose | Geoffrey Value |\n|----------------|---------|----------------|\n| `transcribe` | Audio transcription | High - morning briefing |\n| `screenshot` | Screen capture | Medium - browser-control covers |\n| `calendar` | Calendar management | High - google-workspace expansion |\n| `git` | Git operations | Medium - development workflow |\n| `docker` | Container management | Low - not core use case |\n\n---\n\n## Release Monitoring\n\n**Clawdbot Release Pattern:**\n- Weekly releases (v2026.1.x)\n- CHANGELOG.md updates\n- GitHub releases page\n\n**Check Points:**\n1. New skills added\n2. Hook system changes\n3. Memory system updates\n4. Breaking changes\n5. Performance improvements\n\n---\n\n## URLs to Monitor\n\n- **Repository:** https://github.com/clawdbot/clawdbot\n- **Releases:** https://github.com/clawdbot/clawdbot/releases\n- **Skills Index:** https://github.com/clawdbot/clawdbot/tree/main/skills\n- **Docs:** https://clawdbot.dev (if exists)\n",
        "skills/docx/SKILL.md": "---\nname: docx\ndescription: \"Comprehensive document creation, editing, and analysis with support for tracked changes, comments, formatting preservation, and text extraction. When Claude needs to work with professional documents (.docx files) for: (1) Creating new documents, (2) Modifying or editing content, (3) Working with tracked changes, (4) Adding comments, or any other document tasks\"\ntriggers:\n  - \"create word document\"\n  - \"edit docx\"\n  - \"word file\"\n  - \"track changes\"\n  - \"docx\"\n  - \".docx\"\nallowed-tools: Read, Write, Edit, Bash, Glob\nversion: 1.0.0\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# DOCX creation, editing, and analysis\n\n## Overview\n\nA user may ask you to create, edit, or analyze the contents of a .docx file. A .docx file is essentially a ZIP archive containing XML files and other resources that you can read or edit. You have different tools and workflows available for different tasks.\n\n## Workflow Decision Tree\n\n### Reading/Analyzing Content\nUse \"Text extraction\" or \"Raw XML access\" sections below\n\n### Creating New Document\nUse \"Creating a new Word document\" workflow\n\n### Editing Existing Document\n- **Your own document + simple changes**\n  Use \"Basic OOXML editing\" workflow\n\n- **Someone else's document**\n  Use **\"Redlining workflow\"** (recommended default)\n\n- **Legal, academic, business, or government docs**\n  Use **\"Redlining workflow\"** (required)\n\n## Reading and analyzing content\n\n### Text extraction\nIf you just need to read the text contents of a document, you should convert the document to markdown using pandoc. Pandoc provides excellent support for preserving document structure and can show tracked changes:\n\n```bash\n# Convert document to markdown with tracked changes\npandoc --track-changes=all path-to-file.docx -o output.md\n# Options: --track-changes=accept/reject/all\n```\n\n### Raw XML access\nYou need raw XML access for: comments, complex formatting, document structure, embedded media, and metadata. For any of these features, you'll need to unpack a document and read its raw XML contents.\n\n#### Unpacking a file\n`skills/docx/ooxml/scripts/unpack.py <office_file> <output_directory>`\n\n#### Key file structures\n* `word/document.xml` - Main document contents\n* `word/comments.xml` - Comments referenced in document.xml\n* `word/media/` - Embedded images and media files\n* Tracked changes use `<w:ins>` (insertions) and `<w:del>` (deletions) tags\n\n## Creating a new Word document\n\nWhen creating a new Word document from scratch, use **docx-js**, which allows you to create Word documents using JavaScript/TypeScript.\n\n### Workflow\n1. **MANDATORY - READ ENTIRE FILE**: Read [`docx-js.md`](docx-js.md) (~500 lines) completely from start to finish. **NEVER set any range limits when reading this file.** Read the full file content for detailed syntax, critical formatting rules, and best practices before proceeding with document creation.\n2. Create a JavaScript/TypeScript file using Document, Paragraph, TextRun components (You can assume all dependencies are installed, but if not, refer to the dependencies section below)\n3. Export as .docx using Packer.toBuffer()\n\n## Editing an existing Word document\n\nWhen editing an existing Word document, use the **Document library** (a Python library for OOXML manipulation). The library automatically handles infrastructure setup and provides methods for document manipulation. For complex scenarios, you can access the underlying DOM directly through the library.\n\n### Workflow\n1. **MANDATORY - READ ENTIRE FILE**: Read [`ooxml.md`](ooxml.md) (~600 lines) completely from start to finish. **NEVER set any range limits when reading this file.** Read the full file content for the Document library API and XML patterns for directly editing document files.\n2. Unpack the document: `skills/docx/ooxml/scripts/unpack.py <office_file> <output_directory>`\n3. Create and run a Python script using the Document library (see \"Document Library\" section in ooxml.md)\n4. Pack the final document: `skills/docx/ooxml/scripts/pack.py <input_directory> <office_file>`\n\nThe Document library provides both high-level methods for common operations and direct DOM access for complex scenarios.\n\n## Redlining workflow for document review\n\nThis workflow allows you to plan comprehensive tracked changes using markdown before implementing them in OOXML. **CRITICAL**: For complete tracked changes, you must implement ALL changes systematically.\n\n**Batching Strategy**: Group related changes into batches of 3-10 changes. This makes debugging manageable while maintaining efficiency. Test each batch before moving to the next.\n\n**Principle: Minimal, Precise Edits**\nWhen implementing tracked changes, only mark text that actually changes. Repeating unchanged text makes edits harder to review and appears unprofessional. Break replacements into: [unchanged text] + [deletion] + [insertion] + [unchanged text]. Preserve the original run's RSID for unchanged text by extracting the `<w:r>` element from the original and reusing it.\n\nExample - Changing \"30 days\" to \"60 days\" in a sentence:\n```python\n# BAD - Replaces entire sentence\n'<w:del><w:r><w:delText>The term is 30 days.</w:delText></w:r></w:del><w:ins><w:r><w:t>The term is 60 days.</w:t></w:r></w:ins>'\n\n# GOOD - Only marks what changed, preserves original <w:r> for unchanged text\n'<w:r w:rsidR=\"00AB12CD\"><w:t>The term is </w:t></w:r><w:del><w:r><w:delText>30</w:delText></w:r></w:del><w:ins><w:r><w:t>60</w:t></w:r></w:ins><w:r w:rsidR=\"00AB12CD\"><w:t> days.</w:t></w:r>'\n```\n\n### Tracked changes workflow\n\n1. **Get markdown representation**: Convert document to markdown with tracked changes preserved:\n   ```bash\n   pandoc --track-changes=all path-to-file.docx -o current.md\n   ```\n\n2. **Identify and group changes**: Review the document and identify ALL changes needed, organizing them into logical batches:\n\n   **Location methods** (for finding changes in XML):\n   - Section/heading numbers (e.g., \"Section 3.2\", \"Article IV\")\n   - Paragraph identifiers if numbered\n   - Grep patterns with unique surrounding text\n   - Document structure (e.g., \"first paragraph\", \"signature block\")\n   - **DO NOT use markdown line numbers** - they don't map to XML structure\n\n   **Batch organization** (group 3-10 related changes per batch):\n   - By section: \"Batch 1: Section 2 amendments\", \"Batch 2: Section 5 updates\"\n   - By type: \"Batch 1: Date corrections\", \"Batch 2: Party name changes\"\n   - By complexity: Start with simple text replacements, then tackle complex structural changes\n   - Sequential: \"Batch 1: Pages 1-3\", \"Batch 2: Pages 4-6\"\n\n3. **Read documentation and unpack**:\n   - **MANDATORY - READ ENTIRE FILE**: Read [`ooxml.md`](ooxml.md) (~600 lines) completely from start to finish. **NEVER set any range limits when reading this file.** Pay special attention to the \"Document Library\" and \"Tracked Change Patterns\" sections.\n   - **Unpack the document**: `skills/docx/ooxml/scripts/unpack.py <file.docx> <dir>`\n   - **Note the suggested RSID**: The unpack script will suggest an RSID to use for your tracked changes. Copy this RSID for use in step 4b.\n\n4. **Implement changes in batches**: Group changes logically (by section, by type, or by proximity) and implement them together in a single script. This approach:\n   - Makes debugging easier (smaller batch = easier to isolate errors)\n   - Allows incremental progress\n   - Maintains efficiency (batch size of 3-10 changes works well)\n\n   **Suggested batch groupings:**\n   - By document section (e.g., \"Section 3 changes\", \"Definitions\", \"Termination clause\")\n   - By change type (e.g., \"Date changes\", \"Party name updates\", \"Legal term replacements\")\n   - By proximity (e.g., \"Changes on pages 1-3\", \"Changes in first half of document\")\n\n   For each batch of related changes:\n\n   **a. Map text to XML**: Grep for text in `word/document.xml` to verify how text is split across `<w:r>` elements.\n\n   **b. Create and run script**: Use `get_node` to find nodes, implement changes, then `doc.save()`. See **\"Document Library\"** section in ooxml.md for patterns.\n\n   **Note**: Always grep `word/document.xml` immediately before writing a script to get current line numbers and verify text content. Line numbers change after each script run.\n\n5. **Pack the document**: After all batches are complete, convert the unpacked directory back to .docx:\n   ```bash\n   skills/docx/ooxml/scripts/pack.py unpacked reviewed-document.docx\n   ```\n\n6. **Final verification**: Do a comprehensive check of the complete document:\n   - Convert final document to markdown:\n     ```bash\n     pandoc --track-changes=all reviewed-document.docx -o verification.md\n     ```\n   - Verify ALL changes were applied correctly:\n     ```bash\n     grep \"original phrase\" verification.md  # Should NOT find it\n     grep \"replacement phrase\" verification.md  # Should find it\n     ```\n   - Check that no unintended changes were introduced\n\n\n## Converting Documents to Images\n\nTo visually analyze Word documents, convert them to images using a two-step process:\n\n1. **Convert DOCX to PDF**:\n   ```bash\n   soffice --headless --convert-to pdf document.docx\n   ```\n\n2. **Convert PDF pages to JPEG images**:\n   ```bash\n   pdftoppm -jpeg -r 150 document.pdf page\n   ```\n   This creates files like `page-1.jpg`, `page-2.jpg`, etc.\n\nOptions:\n- `-r 150`: Sets resolution to 150 DPI (adjust for quality/size balance)\n- `-jpeg`: Output JPEG format (use `-png` for PNG if preferred)\n- `-f N`: First page to convert (e.g., `-f 2` starts from page 2)\n- `-l N`: Last page to convert (e.g., `-l 5` stops at page 5)\n- `page`: Prefix for output files\n\nExample for specific range:\n```bash\npdftoppm -jpeg -r 150 -f 2 -l 5 document.pdf page  # Converts only pages 2-5\n```\n\n## Code Style Guidelines\n**IMPORTANT**: When generating code for DOCX operations:\n- Write concise code\n- Avoid verbose variable names and redundant operations\n- Avoid unnecessary print statements\n\n## Dependencies\n\nRequired dependencies (install if not available):\n\n- **pandoc**: `sudo apt-get install pandoc` (for text extraction)\n- **docx**: `npm install -g docx` (for creating new documents)\n- **LibreOffice**: `sudo apt-get install libreoffice` (for PDF conversion)\n- **Poppler**: `sudo apt-get install poppler-utils` (for pdftoppm to convert PDF to images)\n- **defusedxml**: `pip install defusedxml` (for secure XML parsing)",
        "skills/docx/docx-js.md": "# DOCX Library Tutorial\n\nGenerate .docx files with JavaScript/TypeScript.\n\n**Important: Read this entire document before starting.** Critical formatting rules and common pitfalls are covered throughout - skipping sections may result in corrupted files or rendering issues.\n\n## Setup\nAssumes docx is already installed globally\nIf not installed: `npm install -g docx`\n\n```javascript\nconst { Document, Packer, Paragraph, TextRun, Table, TableRow, TableCell, ImageRun, Media, \n        Header, Footer, AlignmentType, PageOrientation, LevelFormat, ExternalHyperlink, \n        InternalHyperlink, TableOfContents, HeadingLevel, BorderStyle, WidthType, TabStopType, \n        TabStopPosition, UnderlineType, ShadingType, VerticalAlign, SymbolRun, PageNumber,\n        FootnoteReferenceRun, Footnote, PageBreak } = require('docx');\n\n// Create & Save\nconst doc = new Document({ sections: [{ children: [/* content */] }] });\nPacker.toBuffer(doc).then(buffer => fs.writeFileSync(\"doc.docx\", buffer)); // Node.js\nPacker.toBlob(doc).then(blob => { /* download logic */ }); // Browser\n```\n\n## Text & Formatting\n```javascript\n// IMPORTANT: Never use \\n for line breaks - always use separate Paragraph elements\n// âŒ WRONG: new TextRun(\"Line 1\\nLine 2\")\n// âœ… CORRECT: new Paragraph({ children: [new TextRun(\"Line 1\")] }), new Paragraph({ children: [new TextRun(\"Line 2\")] })\n\n// Basic text with all formatting options\nnew Paragraph({\n  alignment: AlignmentType.CENTER,\n  spacing: { before: 200, after: 200 },\n  indent: { left: 720, right: 720 },\n  children: [\n    new TextRun({ text: \"Bold\", bold: true }),\n    new TextRun({ text: \"Italic\", italics: true }),\n    new TextRun({ text: \"Underlined\", underline: { type: UnderlineType.DOUBLE, color: \"FF0000\" } }),\n    new TextRun({ text: \"Colored\", color: \"FF0000\", size: 28, font: \"Arial\" }), // Arial default\n    new TextRun({ text: \"Highlighted\", highlight: \"yellow\" }),\n    new TextRun({ text: \"Strikethrough\", strike: true }),\n    new TextRun({ text: \"x2\", superScript: true }),\n    new TextRun({ text: \"H2O\", subScript: true }),\n    new TextRun({ text: \"SMALL CAPS\", smallCaps: true }),\n    new SymbolRun({ char: \"2022\", font: \"Symbol\" }), // Bullet â€¢\n    new SymbolRun({ char: \"00A9\", font: \"Arial\" })   // Copyright Â© - Arial for symbols\n  ]\n})\n```\n\n## Styles & Professional Formatting\n\n```javascript\nconst doc = new Document({\n  styles: {\n    default: { document: { run: { font: \"Arial\", size: 24 } } }, // 12pt default\n    paragraphStyles: [\n      // Document title style - override built-in Title style\n      { id: \"Title\", name: \"Title\", basedOn: \"Normal\",\n        run: { size: 56, bold: true, color: \"000000\", font: \"Arial\" },\n        paragraph: { spacing: { before: 240, after: 120 }, alignment: AlignmentType.CENTER } },\n      // IMPORTANT: Override built-in heading styles by using their exact IDs\n      { id: \"Heading1\", name: \"Heading 1\", basedOn: \"Normal\", next: \"Normal\", quickFormat: true,\n        run: { size: 32, bold: true, color: \"000000\", font: \"Arial\" }, // 16pt\n        paragraph: { spacing: { before: 240, after: 240 }, outlineLevel: 0 } }, // Required for TOC\n      { id: \"Heading2\", name: \"Heading 2\", basedOn: \"Normal\", next: \"Normal\", quickFormat: true,\n        run: { size: 28, bold: true, color: \"000000\", font: \"Arial\" }, // 14pt\n        paragraph: { spacing: { before: 180, after: 180 }, outlineLevel: 1 } },\n      // Custom styles use your own IDs\n      { id: \"myStyle\", name: \"My Style\", basedOn: \"Normal\",\n        run: { size: 28, bold: true, color: \"000000\" },\n        paragraph: { spacing: { after: 120 }, alignment: AlignmentType.CENTER } }\n    ],\n    characterStyles: [{ id: \"myCharStyle\", name: \"My Char Style\",\n      run: { color: \"FF0000\", bold: true, underline: { type: UnderlineType.SINGLE } } }]\n  },\n  sections: [{\n    properties: { page: { margin: { top: 1440, right: 1440, bottom: 1440, left: 1440 } } },\n    children: [\n      new Paragraph({ heading: HeadingLevel.TITLE, children: [new TextRun(\"Document Title\")] }), // Uses overridden Title style\n      new Paragraph({ heading: HeadingLevel.HEADING_1, children: [new TextRun(\"Heading 1\")] }), // Uses overridden Heading1 style\n      new Paragraph({ style: \"myStyle\", children: [new TextRun(\"Custom paragraph style\")] }),\n      new Paragraph({ children: [\n        new TextRun(\"Normal with \"),\n        new TextRun({ text: \"custom char style\", style: \"myCharStyle\" })\n      ]})\n    ]\n  }]\n});\n```\n\n**Professional Font Combinations:**\n- **Arial (Headers) + Arial (Body)** - Most universally supported, clean and professional\n- **Times New Roman (Headers) + Arial (Body)** - Classic serif headers with modern sans-serif body\n- **Georgia (Headers) + Verdana (Body)** - Optimized for screen reading, elegant contrast\n\n**Key Styling Principles:**\n- **Override built-in styles**: Use exact IDs like \"Heading1\", \"Heading2\", \"Heading3\" to override Word's built-in heading styles\n- **HeadingLevel constants**: `HeadingLevel.HEADING_1` uses \"Heading1\" style, `HeadingLevel.HEADING_2` uses \"Heading2\" style, etc.\n- **Include outlineLevel**: Set `outlineLevel: 0` for H1, `outlineLevel: 1` for H2, etc. to ensure TOC works correctly\n- **Use custom styles** instead of inline formatting for consistency\n- **Set a default font** using `styles.default.document.run.font` - Arial is universally supported\n- **Establish visual hierarchy** with different font sizes (titles > headers > body)\n- **Add proper spacing** with `before` and `after` paragraph spacing\n- **Use colors sparingly**: Default to black (000000) and shades of gray for titles and headings (heading 1, heading 2, etc.)\n- **Set consistent margins** (1440 = 1 inch is standard)\n\n\n## Lists (ALWAYS USE PROPER LISTS - NEVER USE UNICODE BULLETS)\n```javascript\n// Bullets - ALWAYS use the numbering config, NOT unicode symbols\n// CRITICAL: Use LevelFormat.BULLET constant, NOT the string \"bullet\"\nconst doc = new Document({\n  numbering: {\n    config: [\n      { reference: \"bullet-list\",\n        levels: [{ level: 0, format: LevelFormat.BULLET, text: \"â€¢\", alignment: AlignmentType.LEFT,\n          style: { paragraph: { indent: { left: 720, hanging: 360 } } } }] },\n      { reference: \"first-numbered-list\",\n        levels: [{ level: 0, format: LevelFormat.DECIMAL, text: \"%1.\", alignment: AlignmentType.LEFT,\n          style: { paragraph: { indent: { left: 720, hanging: 360 } } } }] },\n      { reference: \"second-numbered-list\", // Different reference = restarts at 1\n        levels: [{ level: 0, format: LevelFormat.DECIMAL, text: \"%1.\", alignment: AlignmentType.LEFT,\n          style: { paragraph: { indent: { left: 720, hanging: 360 } } } }] }\n    ]\n  },\n  sections: [{\n    children: [\n      // Bullet list items\n      new Paragraph({ numbering: { reference: \"bullet-list\", level: 0 },\n        children: [new TextRun(\"First bullet point\")] }),\n      new Paragraph({ numbering: { reference: \"bullet-list\", level: 0 },\n        children: [new TextRun(\"Second bullet point\")] }),\n      // Numbered list items\n      new Paragraph({ numbering: { reference: \"first-numbered-list\", level: 0 },\n        children: [new TextRun(\"First numbered item\")] }),\n      new Paragraph({ numbering: { reference: \"first-numbered-list\", level: 0 },\n        children: [new TextRun(\"Second numbered item\")] }),\n      // âš ï¸ CRITICAL: Different reference = INDEPENDENT list that restarts at 1\n      // Same reference = CONTINUES previous numbering\n      new Paragraph({ numbering: { reference: \"second-numbered-list\", level: 0 },\n        children: [new TextRun(\"Starts at 1 again (because different reference)\")] })\n    ]\n  }]\n});\n\n// âš ï¸ CRITICAL NUMBERING RULE: Each reference creates an INDEPENDENT numbered list\n// - Same reference = continues numbering (1, 2, 3... then 4, 5, 6...)\n// - Different reference = restarts at 1 (1, 2, 3... then 1, 2, 3...)\n// Use unique reference names for each separate numbered section!\n\n// âš ï¸ CRITICAL: NEVER use unicode bullets - they create fake lists that don't work properly\n// new TextRun(\"â€¢ Item\")           // WRONG\n// new SymbolRun({ char: \"2022\" }) // WRONG\n// âœ… ALWAYS use numbering config with LevelFormat.BULLET for real Word lists\n```\n\n## Tables\n```javascript\n// Complete table with margins, borders, headers, and bullet points\nconst tableBorder = { style: BorderStyle.SINGLE, size: 1, color: \"CCCCCC\" };\nconst cellBorders = { top: tableBorder, bottom: tableBorder, left: tableBorder, right: tableBorder };\n\nnew Table({\n  columnWidths: [4680, 4680], // âš ï¸ CRITICAL: Set column widths at table level - values in DXA (twentieths of a point)\n  margins: { top: 100, bottom: 100, left: 180, right: 180 }, // Set once for all cells\n  rows: [\n    new TableRow({\n      tableHeader: true,\n      children: [\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          // âš ï¸ CRITICAL: Always use ShadingType.CLEAR to prevent black backgrounds in Word.\n          shading: { fill: \"D5E8F0\", type: ShadingType.CLEAR }, \n          verticalAlign: VerticalAlign.CENTER,\n          children: [new Paragraph({ \n            alignment: AlignmentType.CENTER,\n            children: [new TextRun({ text: \"Header\", bold: true, size: 22 })]\n          })]\n        }),\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          shading: { fill: \"D5E8F0\", type: ShadingType.CLEAR },\n          children: [new Paragraph({ \n            alignment: AlignmentType.CENTER,\n            children: [new TextRun({ text: \"Bullet Points\", bold: true, size: 22 })]\n          })]\n        })\n      ]\n    }),\n    new TableRow({\n      children: [\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          children: [new Paragraph({ children: [new TextRun(\"Regular data\")] })]\n        }),\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          children: [\n            new Paragraph({ \n              numbering: { reference: \"bullet-list\", level: 0 },\n              children: [new TextRun(\"First bullet point\")] \n            }),\n            new Paragraph({ \n              numbering: { reference: \"bullet-list\", level: 0 },\n              children: [new TextRun(\"Second bullet point\")] \n            })\n          ]\n        })\n      ]\n    })\n  ]\n})\n```\n\n**IMPORTANT: Table Width & Borders**\n- Use BOTH `columnWidths: [width1, width2, ...]` array AND `width: { size: X, type: WidthType.DXA }` on each cell\n- Values in DXA (twentieths of a point): 1440 = 1 inch, Letter usable width = 9360 DXA (with 1\" margins)\n- Apply borders to individual `TableCell` elements, NOT the `Table` itself\n\n**Precomputed Column Widths (Letter size with 1\" margins = 9360 DXA total):**\n- **2 columns:** `columnWidths: [4680, 4680]` (equal width)\n- **3 columns:** `columnWidths: [3120, 3120, 3120]` (equal width)\n\n## Links & Navigation\n```javascript\n// TOC (requires headings) - CRITICAL: Use HeadingLevel only, NOT custom styles\n// âŒ WRONG: new Paragraph({ heading: HeadingLevel.HEADING_1, style: \"customHeader\", children: [new TextRun(\"Title\")] })\n// âœ… CORRECT: new Paragraph({ heading: HeadingLevel.HEADING_1, children: [new TextRun(\"Title\")] })\nnew TableOfContents(\"Table of Contents\", { hyperlink: true, headingStyleRange: \"1-3\" }),\n\n// External link\nnew Paragraph({\n  children: [new ExternalHyperlink({\n    children: [new TextRun({ text: \"Google\", style: \"Hyperlink\" })],\n    link: \"https://www.google.com\"\n  })]\n}),\n\n// Internal link & bookmark\nnew Paragraph({\n  children: [new InternalHyperlink({\n    children: [new TextRun({ text: \"Go to Section\", style: \"Hyperlink\" })],\n    anchor: \"section1\"\n  })]\n}),\nnew Paragraph({\n  children: [new TextRun(\"Section Content\")],\n  bookmark: { id: \"section1\", name: \"section1\" }\n}),\n```\n\n## Images & Media\n```javascript\n// Basic image with sizing & positioning\n// CRITICAL: Always specify 'type' parameter - it's REQUIRED for ImageRun\nnew Paragraph({\n  alignment: AlignmentType.CENTER,\n  children: [new ImageRun({\n    type: \"png\", // NEW REQUIREMENT: Must specify image type (png, jpg, jpeg, gif, bmp, svg)\n    data: fs.readFileSync(\"image.png\"),\n    transformation: { width: 200, height: 150, rotation: 0 }, // rotation in degrees\n    altText: { title: \"Logo\", description: \"Company logo\", name: \"Name\" } // IMPORTANT: All three fields are required\n  })]\n})\n```\n\n## Page Breaks\n```javascript\n// Manual page break\nnew Paragraph({ children: [new PageBreak()] }),\n\n// Page break before paragraph\nnew Paragraph({\n  pageBreakBefore: true,\n  children: [new TextRun(\"This starts on a new page\")]\n})\n\n// âš ï¸ CRITICAL: NEVER use PageBreak standalone - it will create invalid XML that Word cannot open\n// âŒ WRONG: new PageBreak() \n// âœ… CORRECT: new Paragraph({ children: [new PageBreak()] })\n```\n\n## Headers/Footers & Page Setup\n```javascript\nconst doc = new Document({\n  sections: [{\n    properties: {\n      page: {\n        margin: { top: 1440, right: 1440, bottom: 1440, left: 1440 }, // 1440 = 1 inch\n        size: { orientation: PageOrientation.LANDSCAPE },\n        pageNumbers: { start: 1, formatType: \"decimal\" } // \"upperRoman\", \"lowerRoman\", \"upperLetter\", \"lowerLetter\"\n      }\n    },\n    headers: {\n      default: new Header({ children: [new Paragraph({ \n        alignment: AlignmentType.RIGHT,\n        children: [new TextRun(\"Header Text\")]\n      })] })\n    },\n    footers: {\n      default: new Footer({ children: [new Paragraph({ \n        alignment: AlignmentType.CENTER,\n        children: [new TextRun(\"Page \"), new TextRun({ children: [PageNumber.CURRENT] }), new TextRun(\" of \"), new TextRun({ children: [PageNumber.TOTAL_PAGES] })]\n      })] })\n    },\n    children: [/* content */]\n  }]\n});\n```\n\n## Brand Integration (PSD)\n\nApply Peninsula School District branding to documents using `brand-config.json`.\n\n### Load Brand Configuration\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load brand config\nconst brandConfigPath = path.join(__dirname, '..', 'psd-brand-guidelines', 'brand-config.json');\nconst brandConfig = JSON.parse(fs.readFileSync(brandConfigPath, 'utf-8'));\n\n// Extract colors (remove # prefix for docx)\nconst PSD_COLORS = {\n  seaGlass: brandConfig.colors.primary.seaGlass.hex.replace('#', ''),\n  pacific: brandConfig.colors.primary.pacific.hex.replace('#', ''),\n  skylight: brandConfig.colors.supporting.skylight.hex.replace('#', ''),\n  seaFoam: brandConfig.colors.supporting.seaFoam.hex.replace('#', ''),\n};\n\n// Get logo path\nfunction getLogoPath(background = 'light', space = 'horizontal') {\n  const basePath = path.join(__dirname, '..', 'psd-brand-guidelines', 'assets');\n  const colorVariant = background === 'dark' ? 'white' : '2color';\n  return path.join(basePath, `psd_logo-${colorVariant}-${space}.png`);\n}\n```\n\n### Add Logo to Header\n```javascript\nconst logoPath = getLogoPath('light', 'horizontal');\n\nconst doc = new Document({\n  sections: [{\n    headers: {\n      default: new Header({ children: [\n        new Paragraph({\n          alignment: AlignmentType.RIGHT,\n          children: [new ImageRun({\n            type: \"png\",\n            data: fs.readFileSync(logoPath),\n            transformation: { width: 150, height: 50 },\n            altText: { title: \"PSD Logo\", description: \"Peninsula School District Logo\", name: \"PSD-Logo\" }\n          })]\n        })\n      ]})\n    },\n    children: [/* document content */]\n  }]\n});\n```\n\n### Apply Brand Styles\n```javascript\nconst doc = new Document({\n  styles: {\n    default: {\n      document: {\n        run: { font: \"Arial\", size: 24, color: PSD_COLORS.pacific }  // Josefin Slab fallback\n      }\n    },\n    paragraphStyles: [\n      { id: \"Heading1\", name: \"Heading 1\", basedOn: \"Normal\", next: \"Normal\", quickFormat: true,\n        run: { size: 32, bold: true, color: PSD_COLORS.pacific, font: \"Arial\" },  // Josefin Sans fallback\n        paragraph: { spacing: { before: 240, after: 240 }, outlineLevel: 0 } },\n      { id: \"Heading2\", name: \"Heading 2\", basedOn: \"Normal\", next: \"Normal\", quickFormat: true,\n        run: { size: 28, bold: true, color: PSD_COLORS.seaGlass, font: \"Arial\" },\n        paragraph: { spacing: { before: 180, after: 180 }, outlineLevel: 1 } },\n    ]\n  },\n  sections: [/* ... */]\n});\n```\n\n### Logo Selection Guide\n\n| Background | Context | Logo Variant |\n|------------|---------|--------------|\n| White/Light | Letterhead, headers | `2color-horizontal` |\n| White/Light | Small space, footer | `2color-emblem` |\n| Dark/Pacific | Dark header bar | `white-horizontal` |\n| Tan/Driftwood | Subtle branding | `1color-green-horizontal` |\n\n**Important:** Never generate logos with image-gen. Always use actual logo files from `psd-brand-guidelines/assets/`.\n\n## Tabs\n```javascript\nnew Paragraph({\n  tabStops: [\n    { type: TabStopType.LEFT, position: TabStopPosition.MAX / 4 },\n    { type: TabStopType.CENTER, position: TabStopPosition.MAX / 2 },\n    { type: TabStopType.RIGHT, position: TabStopPosition.MAX * 3 / 4 }\n  ],\n  children: [new TextRun(\"Left\\tCenter\\tRight\")]\n})\n```\n\n## Constants & Quick Reference\n- **Underlines:** `SINGLE`, `DOUBLE`, `WAVY`, `DASH`\n- **Borders:** `SINGLE`, `DOUBLE`, `DASHED`, `DOTTED`  \n- **Numbering:** `DECIMAL` (1,2,3), `UPPER_ROMAN` (I,II,III), `LOWER_LETTER` (a,b,c)\n- **Tabs:** `LEFT`, `CENTER`, `RIGHT`, `DECIMAL`\n- **Symbols:** `\"2022\"` (â€¢), `\"00A9\"` (Â©), `\"00AE\"` (Â®), `\"2122\"` (â„¢), `\"00B0\"` (Â°), `\"F070\"` (âœ“), `\"F0FC\"` (âœ—)\n\n## Critical Issues & Common Mistakes\n- **CRITICAL: PageBreak must ALWAYS be inside a Paragraph** - standalone PageBreak creates invalid XML that Word cannot open\n- **ALWAYS use ShadingType.CLEAR for table cell shading** - Never use ShadingType.SOLID (causes black background).\n- Measurements in DXA (1440 = 1 inch) | Each table cell needs â‰¥1 Paragraph | TOC requires HeadingLevel styles only\n- **ALWAYS use custom styles** with Arial font for professional appearance and proper visual hierarchy\n- **ALWAYS set a default font** using `styles.default.document.run.font` - Arial recommended\n- **ALWAYS use columnWidths array for tables** + individual cell widths for compatibility\n- **NEVER use unicode symbols for bullets** - always use proper numbering configuration with `LevelFormat.BULLET` constant (NOT the string \"bullet\")\n- **NEVER use \\n for line breaks anywhere** - always use separate Paragraph elements for each line\n- **ALWAYS use TextRun objects within Paragraph children** - never use text property directly on Paragraph\n- **CRITICAL for images**: ImageRun REQUIRES `type` parameter - always specify \"png\", \"jpg\", \"jpeg\", \"gif\", \"bmp\", or \"svg\"\n- **CRITICAL for bullets**: Must use `LevelFormat.BULLET` constant, not string \"bullet\", and include `text: \"â€¢\"` for the bullet character\n- **CRITICAL for numbering**: Each numbering reference creates an INDEPENDENT list. Same reference = continues numbering (1,2,3 then 4,5,6). Different reference = restarts at 1 (1,2,3 then 1,2,3). Use unique reference names for each separate numbered section!\n- **CRITICAL for TOC**: When using TableOfContents, headings must use HeadingLevel ONLY - do NOT add custom styles to heading paragraphs or TOC will break\n- **Tables**: Set `columnWidths` array + individual cell widths, apply borders to cells not table\n- **Set table margins at TABLE level** for consistent cell padding (avoids repetition per cell)",
        "skills/docx/ooxml.md": "# Office Open XML Technical Reference\n\n**Important: Read this entire document before starting.** This document covers:\n- [Technical Guidelines](#technical-guidelines) - Schema compliance rules and validation requirements\n- [Document Content Patterns](#document-content-patterns) - XML patterns for headings, lists, tables, formatting, etc.\n- [Document Library (Python)](#document-library-python) - Recommended approach for OOXML manipulation with automatic infrastructure setup\n- [Tracked Changes (Redlining)](#tracked-changes-redlining) - XML patterns for implementing tracked changes\n\n## Technical Guidelines\n\n### Schema Compliance\n- **Element ordering in `<w:pPr>`**: `<w:pStyle>`, `<w:numPr>`, `<w:spacing>`, `<w:ind>`, `<w:jc>`\n- **Whitespace**: Add `xml:space='preserve'` to `<w:t>` elements with leading/trailing spaces\n- **Unicode**: Escape characters in ASCII content: `\"` becomes `&#8220;`\n  - **Character encoding reference**: Curly quotes `\"\"` become `&#8220;&#8221;`, apostrophe `'` becomes `&#8217;`, em-dash `â€”` becomes `&#8212;`\n- **Tracked changes**: Use `<w:del>` and `<w:ins>` tags with `w:author=\"Claude\"` outside `<w:r>` elements\n  - **Critical**: `<w:ins>` closes with `</w:ins>`, `<w:del>` closes with `</w:del>` - never mix\n  - **RSIDs must be 8-digit hex**: Use values like `00AB1234` (only 0-9, A-F characters)\n  - **trackRevisions placement**: Add `<w:trackRevisions/>` after `<w:proofState>` in settings.xml\n- **Images**: Add to `word/media/`, reference in `document.xml`, set dimensions to prevent overflow\n\n## Document Content Patterns\n\n### Basic Structure\n```xml\n<w:p>\n  <w:r><w:t>Text content</w:t></w:r>\n</w:p>\n```\n\n### Headings and Styles\n```xml\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"Title\"/>\n    <w:jc w:val=\"center\"/>\n  </w:pPr>\n  <w:r><w:t>Document Title</w:t></w:r>\n</w:p>\n\n<w:p>\n  <w:pPr><w:pStyle w:val=\"Heading2\"/></w:pPr>\n  <w:r><w:t>Section Heading</w:t></w:r>\n</w:p>\n```\n\n### Text Formatting\n```xml\n<!-- Bold -->\n<w:r><w:rPr><w:b/><w:bCs/></w:rPr><w:t>Bold</w:t></w:r>\n<!-- Italic -->\n<w:r><w:rPr><w:i/><w:iCs/></w:rPr><w:t>Italic</w:t></w:r>\n<!-- Underline -->\n<w:r><w:rPr><w:u w:val=\"single\"/></w:rPr><w:t>Underlined</w:t></w:r>\n<!-- Highlight -->\n<w:r><w:rPr><w:highlight w:val=\"yellow\"/></w:rPr><w:t>Highlighted</w:t></w:r>\n```\n\n### Lists\n```xml\n<!-- Numbered list -->\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"ListParagraph\"/>\n    <w:numPr><w:ilvl w:val=\"0\"/><w:numId w:val=\"1\"/></w:numPr>\n    <w:spacing w:before=\"240\"/>\n  </w:pPr>\n  <w:r><w:t>First item</w:t></w:r>\n</w:p>\n\n<!-- Restart numbered list at 1 - use different numId -->\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"ListParagraph\"/>\n    <w:numPr><w:ilvl w:val=\"0\"/><w:numId w:val=\"2\"/></w:numPr>\n    <w:spacing w:before=\"240\"/>\n  </w:pPr>\n  <w:r><w:t>New list item 1</w:t></w:r>\n</w:p>\n\n<!-- Bullet list (level 2) -->\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"ListParagraph\"/>\n    <w:numPr><w:ilvl w:val=\"1\"/><w:numId w:val=\"1\"/></w:numPr>\n    <w:spacing w:before=\"240\"/>\n    <w:ind w:left=\"900\"/>\n  </w:pPr>\n  <w:r><w:t>Bullet item</w:t></w:r>\n</w:p>\n```\n\n### Tables\n```xml\n<w:tbl>\n  <w:tblPr>\n    <w:tblStyle w:val=\"TableGrid\"/>\n    <w:tblW w:w=\"0\" w:type=\"auto\"/>\n  </w:tblPr>\n  <w:tblGrid>\n    <w:gridCol w:w=\"4675\"/><w:gridCol w:w=\"4675\"/>\n  </w:tblGrid>\n  <w:tr>\n    <w:tc>\n      <w:tcPr><w:tcW w:w=\"4675\" w:type=\"dxa\"/></w:tcPr>\n      <w:p><w:r><w:t>Cell 1</w:t></w:r></w:p>\n    </w:tc>\n    <w:tc>\n      <w:tcPr><w:tcW w:w=\"4675\" w:type=\"dxa\"/></w:tcPr>\n      <w:p><w:r><w:t>Cell 2</w:t></w:r></w:p>\n    </w:tc>\n  </w:tr>\n</w:tbl>\n```\n\n### Layout\n```xml\n<!-- Page break before new section (common pattern) -->\n<w:p>\n  <w:r>\n    <w:br w:type=\"page\"/>\n  </w:r>\n</w:p>\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"Heading1\"/>\n  </w:pPr>\n  <w:r>\n    <w:t>New Section Title</w:t>\n  </w:r>\n</w:p>\n\n<!-- Centered paragraph -->\n<w:p>\n  <w:pPr>\n    <w:spacing w:before=\"240\" w:after=\"0\"/>\n    <w:jc w:val=\"center\"/>\n  </w:pPr>\n  <w:r><w:t>Centered text</w:t></w:r>\n</w:p>\n\n<!-- Font change - paragraph level (applies to all runs) -->\n<w:p>\n  <w:pPr>\n    <w:rPr><w:rFonts w:ascii=\"Courier New\" w:hAnsi=\"Courier New\"/></w:rPr>\n  </w:pPr>\n  <w:r><w:t>Monospace text</w:t></w:r>\n</w:p>\n\n<!-- Font change - run level (specific to this text) -->\n<w:p>\n  <w:r>\n    <w:rPr><w:rFonts w:ascii=\"Courier New\" w:hAnsi=\"Courier New\"/></w:rPr>\n    <w:t>This text is Courier New</w:t>\n  </w:r>\n  <w:r><w:t> and this text uses default font</w:t></w:r>\n</w:p>\n```\n\n## File Updates\n\nWhen adding content, update these files:\n\n**`word/_rels/document.xml.rels`:**\n```xml\n<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering\" Target=\"numbering.xml\"/>\n<Relationship Id=\"rId5\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"media/image1.png\"/>\n```\n\n**`[Content_Types].xml`:**\n```xml\n<Default Extension=\"png\" ContentType=\"image/png\"/>\n<Override PartName=\"/word/numbering.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml\"/>\n```\n\n### Images\n**CRITICAL**: Calculate dimensions to prevent page overflow and maintain aspect ratio.\n\n```xml\n<!-- Minimal required structure -->\n<w:p>\n  <w:r>\n    <w:drawing>\n      <wp:inline>\n        <wp:extent cx=\"2743200\" cy=\"1828800\"/>\n        <wp:docPr id=\"1\" name=\"Picture 1\"/>\n        <a:graphic xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\">\n          <a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n            <pic:pic xmlns:pic=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n              <pic:nvPicPr>\n                <pic:cNvPr id=\"0\" name=\"image1.png\"/>\n                <pic:cNvPicPr/>\n              </pic:nvPicPr>\n              <pic:blipFill>\n                <a:blip r:embed=\"rId5\"/>\n                <!-- Add for stretch fill with aspect ratio preservation -->\n                <a:stretch>\n                  <a:fillRect/>\n                </a:stretch>\n              </pic:blipFill>\n              <pic:spPr>\n                <a:xfrm>\n                  <a:ext cx=\"2743200\" cy=\"1828800\"/>\n                </a:xfrm>\n                <a:prstGeom prst=\"rect\"/>\n              </pic:spPr>\n            </pic:pic>\n          </a:graphicData>\n        </a:graphic>\n      </wp:inline>\n    </w:drawing>\n  </w:r>\n</w:p>\n```\n\n### Links (Hyperlinks)\n\n**IMPORTANT**: All hyperlinks (both internal and external) require the Hyperlink style to be defined in styles.xml. Without this style, links will look like regular text instead of blue underlined clickable links.\n\n**External Links:**\n```xml\n<!-- In document.xml -->\n<w:hyperlink r:id=\"rId5\">\n  <w:r>\n    <w:rPr><w:rStyle w:val=\"Hyperlink\"/></w:rPr>\n    <w:t>Link Text</w:t>\n  </w:r>\n</w:hyperlink>\n\n<!-- In word/_rels/document.xml.rels -->\n<Relationship Id=\"rId5\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" \n              Target=\"https://www.example.com/\" TargetMode=\"External\"/>\n```\n\n**Internal Links:**\n\n```xml\n<!-- Link to bookmark -->\n<w:hyperlink w:anchor=\"myBookmark\">\n  <w:r>\n    <w:rPr><w:rStyle w:val=\"Hyperlink\"/></w:rPr>\n    <w:t>Link Text</w:t>\n  </w:r>\n</w:hyperlink>\n\n<!-- Bookmark target -->\n<w:bookmarkStart w:id=\"0\" w:name=\"myBookmark\"/>\n<w:r><w:t>Target content</w:t></w:r>\n<w:bookmarkEnd w:id=\"0\"/>\n```\n\n**Hyperlink Style (required in styles.xml):**\n```xml\n<w:style w:type=\"character\" w:styleId=\"Hyperlink\">\n  <w:name w:val=\"Hyperlink\"/>\n  <w:basedOn w:val=\"DefaultParagraphFont\"/>\n  <w:uiPriority w:val=\"99\"/>\n  <w:unhideWhenUsed/>\n  <w:rPr>\n    <w:color w:val=\"467886\" w:themeColor=\"hyperlink\"/>\n    <w:u w:val=\"single\"/>\n  </w:rPr>\n</w:style>\n```\n\n## Document Library (Python)\n\nUse the Document class from `scripts/document.py` for all tracked changes and comments. It automatically handles infrastructure setup (people.xml, RSIDs, settings.xml, comment files, relationships, content types). Only use direct XML manipulation for complex scenarios not supported by the library.\n\n**Working with Unicode and Entities:**\n- **Searching**: Both entity notation and Unicode characters work - `contains=\"&#8220;Company\"` and `contains=\"\\u201cCompany\"` find the same text\n- **Replacing**: Use either entities (`&#8220;`) or Unicode (`\\u201c`) - both work and will be converted appropriately based on the file's encoding (ascii â†’ entities, utf-8 â†’ Unicode)\n\n### Initialization\n\n**Find the docx skill root** (directory containing `scripts/` and `ooxml/`):\n```bash\n# Search for document.py to locate the skill root\n# Note: /mnt/skills is used here as an example; check your context for the actual location\nfind /mnt/skills -name \"document.py\" -path \"*/docx/scripts/*\" 2>/dev/null | head -1\n# Example output: /mnt/skills/docx/scripts/document.py\n# Skill root is: /mnt/skills/docx\n```\n\n**Run your script with PYTHONPATH** set to the docx skill root:\n```bash\nPYTHONPATH=/mnt/skills/docx python your_script.py\n```\n\n**In your script**, import from the skill root:\n```python\nfrom scripts.document import Document, DocxXMLEditor\n\n# Basic initialization (automatically creates temp copy and sets up infrastructure)\ndoc = Document('unpacked')\n\n# Customize author and initials\ndoc = Document('unpacked', author=\"John Doe\", initials=\"JD\")\n\n# Enable track revisions mode\ndoc = Document('unpacked', track_revisions=True)\n\n# Specify custom RSID (auto-generated if not provided)\ndoc = Document('unpacked', rsid=\"07DC5ECB\")\n```\n\n### Creating Tracked Changes\n\n**CRITICAL**: Only mark text that actually changes. Keep ALL unchanged text outside `<w:del>`/`<w:ins>` tags. Marking unchanged text makes edits unprofessional and harder to review.\n\n**Attribute Handling**: The Document class auto-injects attributes (w:id, w:date, w:rsidR, w:rsidDel, w16du:dateUtc, xml:space) into new elements. When preserving unchanged text from the original document, copy the original `<w:r>` element with its existing attributes to maintain document integrity.\n\n**Method Selection Guide**:\n- **Adding your own changes to regular text**: Use `replace_node()` with `<w:del>`/`<w:ins>` tags, or `suggest_deletion()` for removing entire `<w:r>` or `<w:p>` elements\n- **Partially modifying another author's tracked change**: Use `replace_node()` to nest your changes inside their `<w:ins>`/`<w:del>`\n- **Completely rejecting another author's insertion**: Use `revert_insertion()` on the `<w:ins>` element (NOT `suggest_deletion()`)\n- **Completely rejecting another author's deletion**: Use `revert_deletion()` on the `<w:del>` element to restore deleted content using tracked changes\n\n```python\n# Minimal edit - change one word: \"The report is monthly\" â†’ \"The report is quarterly\"\n# Original: <w:r w:rsidR=\"00AB12CD\"><w:rPr><w:rFonts w:ascii=\"Calibri\"/></w:rPr><w:t>The report is monthly</w:t></w:r>\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"The report is monthly\")\nrpr = tags[0].toxml() if (tags := node.getElementsByTagName(\"w:rPr\")) else \"\"\nreplacement = f'<w:r w:rsidR=\"00AB12CD\">{rpr}<w:t>The report is </w:t></w:r><w:del><w:r>{rpr}<w:delText>monthly</w:delText></w:r></w:del><w:ins><w:r>{rpr}<w:t>quarterly</w:t></w:r></w:ins>'\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Minimal edit - change number: \"within 30 days\" â†’ \"within 45 days\"\n# Original: <w:r w:rsidR=\"00XYZ789\"><w:rPr><w:rFonts w:ascii=\"Calibri\"/></w:rPr><w:t>within 30 days</w:t></w:r>\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"within 30 days\")\nrpr = tags[0].toxml() if (tags := node.getElementsByTagName(\"w:rPr\")) else \"\"\nreplacement = f'<w:r w:rsidR=\"00XYZ789\">{rpr}<w:t>within </w:t></w:r><w:del><w:r>{rpr}<w:delText>30</w:delText></w:r></w:del><w:ins><w:r>{rpr}<w:t>45</w:t></w:r></w:ins><w:r w:rsidR=\"00XYZ789\">{rpr}<w:t> days</w:t></w:r>'\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Complete replacement - preserve formatting even when replacing all text\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"apple\")\nrpr = tags[0].toxml() if (tags := node.getElementsByTagName(\"w:rPr\")) else \"\"\nreplacement = f'<w:del><w:r>{rpr}<w:delText>apple</w:delText></w:r></w:del><w:ins><w:r>{rpr}<w:t>banana orange</w:t></w:r></w:ins>'\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Insert new content (no attributes needed - auto-injected)\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"existing text\")\ndoc[\"word/document.xml\"].insert_after(node, '<w:ins><w:r><w:t>new text</w:t></w:r></w:ins>')\n\n# Partially delete another author's insertion\n# Original: <w:ins w:author=\"Jane Smith\" w:date=\"...\"><w:r><w:t>quarterly financial report</w:t></w:r></w:ins>\n# Goal: Delete only \"financial\" to make it \"quarterly report\"\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"5\"})\n# IMPORTANT: Preserve w:author=\"Jane Smith\" on the outer <w:ins> to maintain authorship\nreplacement = '''<w:ins w:author=\"Jane Smith\" w:date=\"2025-01-15T10:00:00Z\">\n  <w:r><w:t>quarterly </w:t></w:r>\n  <w:del><w:r><w:delText>financial </w:delText></w:r></w:del>\n  <w:r><w:t>report</w:t></w:r>\n</w:ins>'''\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Change part of another author's insertion\n# Original: <w:ins w:author=\"Jane Smith\"><w:r><w:t>in silence, safe and sound</w:t></w:r></w:ins>\n# Goal: Change \"safe and sound\" to \"soft and unbound\"\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"8\"})\nreplacement = f'''<w:ins w:author=\"Jane Smith\" w:date=\"2025-01-15T10:00:00Z\">\n  <w:r><w:t>in silence, </w:t></w:r>\n</w:ins>\n<w:ins>\n  <w:r><w:t>soft and unbound</w:t></w:r>\n</w:ins>\n<w:ins w:author=\"Jane Smith\" w:date=\"2025-01-15T10:00:00Z\">\n  <w:del><w:r><w:delText>safe and sound</w:delText></w:r></w:del>\n</w:ins>'''\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Delete entire run (use only when deleting all content; use replace_node for partial deletions)\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"text to delete\")\ndoc[\"word/document.xml\"].suggest_deletion(node)\n\n# Delete entire paragraph (in-place, handles both regular and numbered list paragraphs)\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph to delete\")\ndoc[\"word/document.xml\"].suggest_deletion(para)\n\n# Add new numbered list item\ntarget_para = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"existing list item\")\npPr = tags[0].toxml() if (tags := target_para.getElementsByTagName(\"w:pPr\")) else \"\"\nnew_item = f'<w:p>{pPr}<w:r><w:t>New item</w:t></w:r></w:p>'\ntracked_para = DocxXMLEditor.suggest_paragraph(new_item)\ndoc[\"word/document.xml\"].insert_after(target_para, tracked_para)\n# Optional: add spacing paragraph before content for better visual separation\n# spacing = DocxXMLEditor.suggest_paragraph('<w:p><w:pPr><w:pStyle w:val=\"ListParagraph\"/></w:pPr></w:p>')\n# doc[\"word/document.xml\"].insert_after(target_para, spacing + tracked_para)\n```\n\n### Adding Comments\n\n```python\n# Add comment spanning two existing tracked changes\n# Note: w:id is auto-generated. Only search by w:id if you know it from XML inspection\nstart_node = doc[\"word/document.xml\"].get_node(tag=\"w:del\", attrs={\"w:id\": \"1\"})\nend_node = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"2\"})\ndoc.add_comment(start=start_node, end=end_node, text=\"Explanation of this change\")\n\n# Add comment on a paragraph\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph text\")\ndoc.add_comment(start=para, end=para, text=\"Comment on this paragraph\")\n\n# Add comment on newly created tracked change\n# First create the tracked change\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"old\")\nnew_nodes = doc[\"word/document.xml\"].replace_node(\n    node,\n    '<w:del><w:r><w:delText>old</w:delText></w:r></w:del><w:ins><w:r><w:t>new</w:t></w:r></w:ins>'\n)\n# Then add comment on the newly created elements\n# new_nodes[0] is the <w:del>, new_nodes[1] is the <w:ins>\ndoc.add_comment(start=new_nodes[0], end=new_nodes[1], text=\"Changed old to new per requirements\")\n\n# Reply to existing comment\ndoc.reply_to_comment(parent_comment_id=0, text=\"I agree with this change\")\n```\n\n### Rejecting Tracked Changes\n\n**IMPORTANT**: Use `revert_insertion()` to reject insertions and `revert_deletion()` to restore deletions using tracked changes. Use `suggest_deletion()` only for regular unmarked content.\n\n```python\n# Reject insertion (wraps it in deletion)\n# Use this when another author inserted text that you want to delete\nins = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"5\"})\nnodes = doc[\"word/document.xml\"].revert_insertion(ins)  # Returns [ins]\n\n# Reject deletion (creates insertion to restore deleted content)\n# Use this when another author deleted text that you want to restore\ndel_elem = doc[\"word/document.xml\"].get_node(tag=\"w:del\", attrs={\"w:id\": \"3\"})\nnodes = doc[\"word/document.xml\"].revert_deletion(del_elem)  # Returns [del_elem, new_ins]\n\n# Reject all insertions in a paragraph\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph text\")\nnodes = doc[\"word/document.xml\"].revert_insertion(para)  # Returns [para]\n\n# Reject all deletions in a paragraph\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph text\")\nnodes = doc[\"word/document.xml\"].revert_deletion(para)  # Returns [para]\n```\n\n### Inserting Images\n\n**CRITICAL**: The Document class works with a temporary copy at `doc.unpacked_path`. Always copy images to this temp directory, not the original unpacked folder.\n\n```python\nfrom PIL import Image\nimport shutil, os\n\n# Initialize document first\ndoc = Document('unpacked')\n\n# Copy image and calculate full-width dimensions with aspect ratio\nmedia_dir = os.path.join(doc.unpacked_path, 'word/media')\nos.makedirs(media_dir, exist_ok=True)\nshutil.copy('image.png', os.path.join(media_dir, 'image1.png'))\nimg = Image.open(os.path.join(media_dir, 'image1.png'))\nwidth_emus = int(6.5 * 914400)  # 6.5\" usable width, 914400 EMUs/inch\nheight_emus = int(width_emus * img.size[1] / img.size[0])\n\n# Add relationship and content type\nrels_editor = doc['word/_rels/document.xml.rels']\nnext_rid = rels_editor.get_next_rid()\nrels_editor.append_to(rels_editor.dom.documentElement,\n    f'<Relationship Id=\"{next_rid}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"media/image1.png\"/>')\ndoc['[Content_Types].xml'].append_to(doc['[Content_Types].xml'].dom.documentElement,\n    '<Default Extension=\"png\" ContentType=\"image/png\"/>')\n\n# Insert image\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=100)\ndoc[\"word/document.xml\"].insert_after(node, f'''<w:p>\n  <w:r>\n    <w:drawing>\n      <wp:inline distT=\"0\" distB=\"0\" distL=\"0\" distR=\"0\">\n        <wp:extent cx=\"{width_emus}\" cy=\"{height_emus}\"/>\n        <wp:docPr id=\"1\" name=\"Picture 1\"/>\n        <a:graphic xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\">\n          <a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n            <pic:pic xmlns:pic=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n              <pic:nvPicPr><pic:cNvPr id=\"1\" name=\"image1.png\"/><pic:cNvPicPr/></pic:nvPicPr>\n              <pic:blipFill><a:blip r:embed=\"{next_rid}\"/><a:stretch><a:fillRect/></a:stretch></pic:blipFill>\n              <pic:spPr><a:xfrm><a:ext cx=\"{width_emus}\" cy=\"{height_emus}\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom></pic:spPr>\n            </pic:pic>\n          </a:graphicData>\n        </a:graphic>\n      </wp:inline>\n    </w:drawing>\n  </w:r>\n</w:p>''')\n```\n\n### Getting Nodes\n\n```python\n# By text content\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"specific text\")\n\n# By line range\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=range(100, 150))\n\n# By attributes\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:del\", attrs={\"w:id\": \"1\"})\n\n# By exact line number (must be line number where tag opens)\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=42)\n\n# Combine filters\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", line_number=range(40, 60), contains=\"text\")\n\n# Disambiguate when text appears multiple times - add line_number range\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"Section\", line_number=range(2400, 2500))\n```\n\n### Saving\n\n```python\n# Save with automatic validation (copies back to original directory)\ndoc.save()  # Validates by default, raises error if validation fails\n\n# Save to different location\ndoc.save('modified-unpacked')\n\n# Skip validation (debugging only - needing this in production indicates XML issues)\ndoc.save(validate=False)\n```\n\n### Direct DOM Manipulation\n\nFor complex scenarios not covered by the library:\n\n```python\n# Access any XML file\neditor = doc[\"word/document.xml\"]\neditor = doc[\"word/comments.xml\"]\n\n# Direct DOM access (defusedxml.minidom.Document)\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=5)\nparent = node.parentNode\nparent.removeChild(node)\nparent.appendChild(node)  # Move to end\n\n# General document manipulation (without tracked changes)\nold_node = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"original text\")\ndoc[\"word/document.xml\"].replace_node(old_node, \"<w:p><w:r><w:t>replacement text</w:t></w:r></w:p>\")\n\n# Multiple insertions - use return value to maintain order\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", line_number=100)\nnodes = doc[\"word/document.xml\"].insert_after(node, \"<w:r><w:t>A</w:t></w:r>\")\nnodes = doc[\"word/document.xml\"].insert_after(nodes[-1], \"<w:r><w:t>B</w:t></w:r>\")\nnodes = doc[\"word/document.xml\"].insert_after(nodes[-1], \"<w:r><w:t>C</w:t></w:r>\")\n# Results in: original_node, A, B, C\n```\n\n## Tracked Changes (Redlining)\n\n**Use the Document class above for all tracked changes.** The patterns below are for reference when constructing replacement XML strings.\n\n### Validation Rules\nThe validator checks that the document text matches the original after reverting Claude's changes. This means:\n- **NEVER modify text inside another author's `<w:ins>` or `<w:del>` tags**\n- **ALWAYS use nested deletions** to remove another author's insertions\n- **Every edit must be properly tracked** with `<w:ins>` or `<w:del>` tags\n\n### Tracked Change Patterns\n\n**CRITICAL RULES**:\n1. Never modify the content inside another author's tracked changes. Always use nested deletions.\n2. **XML Structure**: Always place `<w:del>` and `<w:ins>` at paragraph level containing complete `<w:r>` elements. Never nest inside `<w:r>` elements - this creates invalid XML that breaks document processing.\n\n**Text Insertion:**\n```xml\n<w:ins w:id=\"1\" w:author=\"Claude\" w:date=\"2025-07-30T23:05:00Z\" w16du:dateUtc=\"2025-07-31T06:05:00Z\">\n  <w:r w:rsidR=\"00792858\">\n    <w:t>inserted text</w:t>\n  </w:r>\n</w:ins>\n```\n\n**Text Deletion:**\n```xml\n<w:del w:id=\"2\" w:author=\"Claude\" w:date=\"2025-07-30T23:05:00Z\" w16du:dateUtc=\"2025-07-31T06:05:00Z\">\n  <w:r w:rsidDel=\"00792858\">\n    <w:delText>deleted text</w:delText>\n  </w:r>\n</w:del>\n```\n\n**Deleting Another Author's Insertion (MUST use nested structure):**\n```xml\n<!-- Nest deletion inside the original insertion -->\n<w:ins w:author=\"Jane Smith\" w:id=\"16\">\n  <w:del w:author=\"Claude\" w:id=\"40\">\n    <w:r><w:delText>monthly</w:delText></w:r>\n  </w:del>\n</w:ins>\n<w:ins w:author=\"Claude\" w:id=\"41\">\n  <w:r><w:t>weekly</w:t></w:r>\n</w:ins>\n```\n\n**Restoring Another Author's Deletion:**\n```xml\n<!-- Leave their deletion unchanged, add new insertion after it -->\n<w:del w:author=\"Jane Smith\" w:id=\"50\">\n  <w:r><w:delText>within 30 days</w:delText></w:r>\n</w:del>\n<w:ins w:author=\"Claude\" w:id=\"51\">\n  <w:r><w:t>within 30 days</w:t></w:r>\n</w:ins>\n```",
        "skills/drafts-manager/SKILL.md": "---\nname: drafts-manager\ndescription: Triage Drafts inbox and route notes to OmniFocus tasks or Obsidian documents\ntriggers:\n  - \"triage drafts\"\n  - \"process drafts\"\n  - \"check drafts\"\n  - \"what's in drafts\"\n  - \"drafts inbox\"\n  - \"clean up drafts\"\n  - \"export drafts\"\nallowed-tools: Read, Bash, Write\nversion: 0.1.0\n---\n\n# Drafts Manager Skill\n\nTriage the Drafts inbox using a hybrid AI + human confirmation workflow. Routes content to OmniFocus (tasks) or Obsidian (notes) based on content analysis.\n\n## When to Activate\n\nUse this skill when user wants to:\n- Triage or process their Drafts inbox\n- Route notes to OmniFocus or Obsidian\n- Check what's captured in Drafts\n- Clean up old drafts\n\n## Architecture\n\n**Two-Phase Hybrid Triage:**\n\n1. **Export & Analyze** - Drafts exports inbox â†’ Geoffrey analyzes â†’ presents suggestions\n2. **Confirm & Process** - User confirms routing â†’ Drafts processes each draft â†’ archives\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  URL   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  JSON   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Table  â”Œâ”€â”€â”€â”€â”€â”€â”\nâ”‚Geoffrey â”‚ â”€â”€â”€â”€â–º â”‚ Drafts  â”‚ â”€â”€â”€â”€â”€â–º â”‚Geoffrey â”‚ â”€â”€â”€â”€â”€â”€â–º â”‚ User â”‚\nâ”‚ trigger â”‚       â”‚ export  â”‚        â”‚ analyze â”‚        â”‚reviewâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”¬â”€â”€â”€â”˜\n                                                           â”‚\n                                                     Confirmed\n                                                           â”‚\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  URL   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Routes  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”\nâ”‚Geoffrey â”‚ â”€â”€â”€â”€â–º â”‚ Drafts  â”‚ â”€â”€â”€â”€â”€â”€â”€â–º â”‚OmniFocus â”‚   â”‚Process â”‚\nâ”‚ trigger â”‚       â”‚ process â”‚         â”‚ Obsidian â”‚   â”‚  list  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                       â”‚\n                   Archives\n```\n\n## Available Scripts\n\nScripts are in `./scripts/` directory. Run via:\n```bash\nbun ./scripts/script-name.js\n```\n\n### trigger_export.js\n\nTriggers the Drafts \"Geoffrey Export Inbox\" action via URL scheme.\n\n**Output:** Path to exported JSON file\n\n**Use when:** Starting triage\n\n### trigger_process.js\n\nTriggers the Drafts \"Geoffrey Process Draft\" action with routing instructions.\n\n**Parameters:** uuid, destination, project, tags, folder\n\n**Use when:** Processing confirmed drafts\n\n## Required Drafts Actions\n\n**IMPORTANT:** User must install these Drafts actions (found in `./actions/`):\n\n### Geoffrey Export Inbox\n\nExports all inbox drafts to a JSON file for Geoffrey to analyze.\n\n**Location:** `~/Library/Mobile Documents/iCloud~com~agiletortoise~Drafts5/Documents/geoffrey-export.json`\n\n**Output format:**\n```json\n{\n  \"exported\": \"2025-11-23T10:30:00Z\",\n  \"count\": 5,\n  \"drafts\": [\n    {\n      \"uuid\": \"ABC123\",\n      \"title\": \"First line of draft\",\n      \"content\": \"Full content...\",\n      \"tags\": [\"inbox\"],\n      \"createdAt\": \"2025-11-22T14:00:00Z\",\n      \"modifiedAt\": \"2025-11-22T14:00:00Z\",\n      \"isFlagged\": false\n    }\n  ]\n}\n```\n\n### Geoffrey Process Draft\n\nProcesses a single draft based on routing instructions from URL parameters.\n\n**URL Parameters:**\n- `uuid` - Draft to process\n- `destination` - \"omnifocus\", \"obsidian\", \"archive\", or \"trash\"\n- `project` - OmniFocus project (if destination=omnifocus)\n- `tags` - Comma-separated tags (if destination=omnifocus)\n- `dueDate` - Due date (if destination=omnifocus)\n- `folder` - Obsidian folder (if destination=obsidian)\n\n## Content Analysis Rules\n\nWhen analyzing drafts, look for these signals:\n\n### Route to OmniFocus (Task)\n\n**Signals:**\n- Starts with action verb: \"call\", \"email\", \"buy\", \"schedule\", \"review\", \"check\"\n- Contains: \"todo\", \"task\", \"@due\", \"@defer\"\n- Short (< 50 words)\n- Contains person names\n- Shopping lists or errands\n\n**Apply omnifocus-manager routing rules for project/tag assignment**\n\n### Route to Obsidian (Note)\n\n**Signals:**\n- Longer content (> 100 words)\n- Meeting notes: \"meeting with\", \"discussed\", \"attendees\"\n- Ideas/brainstorms: \"idea:\", \"thought:\", \"what if\"\n- Reference material: links, quotes, research\n- Journal entries: \"today I\", feelings, reflections\n\n### Archive in Drafts\n\n**Signals:**\n- Reference that may be needed again\n- Snippets of code or text\n- Temporary notes that are now done\n\n### Delete (Trash)\n\n**Signals:**\n- Empty or nearly empty\n- Test/scratch content\n- Duplicates\n- Outdated info no longer needed\n\n## Obsidian Routing Rules\n\n| Content Type | Folder | Frontmatter |\n|--------------|--------|-------------|\n| Meeting notes | `Meetings/` | date, attendees, topics |\n| Ideas/brainstorms | `Geoffrey/Inbox/` | tags, created |\n| Research | `Reference/` | source, tags, related |\n| Journal | `Journal/` | date |\n| General notes | `Geoffrey/Inbox/` | tags, created |\n\n**Frontmatter template:**\n```yaml\n---\ncreated: {{date}}\nsource: drafts\ntags: [from-drafts]\nrelated: []\n---\n```\n\n## Main Workflow: Triage Drafts\n\n### Phase 1: Export & Analyze\n\n1. **Trigger export:**\n   ```bash\n   open \"drafts://x-callback-url/runAction?action=Geoffrey%20Export%20Inbox\"\n   ```\n\n2. **Wait for export file** (2-3 seconds)\n\n3. **Read exported JSON:**\n   ```bash\n   cat ~/Library/Mobile\\ Documents/iCloud~com~agiletortoise~Drafts5/Documents/geoffrey-export.json\n   ```\n\n4. **Analyze each draft** using content signals above\n\n5. **Present suggestions table:**\n   ```markdown\n   ## Drafts Inbox Triage\n\n   Found **5 drafts** to process:\n\n   | # | Title | Suggestion | Destination | Details |\n   |---|-------|------------|-------------|---------|\n   | 1 | Call John about... | Task | OmniFocus | Project: Meetings, Tags: John, Follow Up |\n   | 2 | Meeting notes 11/22 | Note | Obsidian | Folder: Meetings/ |\n   | 3 | [empty] | Delete | Trash | Empty draft |\n   | 4 | Shopping list | Task | OmniFocus | Project: Single Actions, Tags: Chores |\n   | 5 | Idea for app... | Note | Obsidian | Folder: Geoffrey/Inbox/ |\n\n   **Questions:**\n   - #4: Should this go to a specific store location tag?\n\n   Which numbers need changes? (Or type \"process all\" to confirm)\n   ```\n\n### Phase 2: Process & Archive\n\n1. **For each confirmed draft**, trigger process action:\n   ```bash\n   # OmniFocus task\n   open \"drafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=ABC123&destination=omnifocus&project=Meetings&tags=John,Follow%20Up&dueDate=2025-11-30\"\n\n   # Obsidian note\n   open \"drafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=DEF456&destination=obsidian&folder=Meetings\"\n\n   # Archive\n   open \"drafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=GHI789&destination=archive\"\n\n   # Delete\n   open \"drafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=JKL012&destination=trash\"\n   ```\n\n2. **Report results:**\n   ```markdown\n   ## Summary\n   Processed 5 drafts from inbox\n\n   ## Actions\n   - 2 tasks created in OmniFocus\n   - 2 notes saved to Obsidian\n   - 1 draft deleted\n\n   ## Status\n   âœ… Complete\n\n   ## Next Steps\n   - Review tasks in OmniFocus inbox\n   - Check Obsidian notes in Geoffrey/Inbox/\n   ```\n\n## Error Handling\n\n**Drafts not running:**\n```\nStatus: âŒ Failed\nError: Drafts app is not running. Please open Drafts and try again.\n```\n\n**Action not installed:**\n```\nStatus: âŒ Failed\nError: Drafts action \"Geoffrey Export Inbox\" not found.\nPlease install from: skills/drafts-manager/actions/\n```\n\n**Export file not found:**\n```\nStatus: âš ï¸ Partial\nError: Export file not created. Drafts may have timed out.\nTry running the action manually in Drafts.\n```\n\n**OmniFocus not running:**\n```\nStatus: âš ï¸ Partial\nWarning: OmniFocus not running. Task creation may have failed.\nPlease verify tasks were created.\n```\n\n## Installation\n\n### 1. Install Drafts Actions\n\nImport the action files from `./actions/`:\n\n**Option A: Import from file**\n1. Open Drafts\n2. Go to Actions â†’ Manage Actions\n3. Import from `actions/geoffrey-export-inbox.draftsAction`\n4. Import from `actions/geoffrey-process-draft.draftsAction`\n\n**Option B: Create manually**\n1. Open Drafts\n2. Create new action \"Geoffrey Export Inbox\"\n3. Add Script step with code from `actions/geoffrey-export-inbox.js`\n4. Repeat for \"Geoffrey Process Draft\"\n\n### 2. Verify Installation\n\nRun: `open \"drafts://x-callback-url/runAction?action=Geoffrey%20Export%20Inbox\"`\n\nCheck for export file at:\n`~/Library/Mobile Documents/iCloud~com~agiletortoise~Drafts5/Documents/geoffrey-export.json`\n\n## Tips for Best Results\n\n### Tagging in Drafts\n\nUse these tags for manual pre-routing:\n- `task` - Force route to OmniFocus\n- `note` - Force route to Obsidian\n- `archive` - Keep in Drafts archive\n- `delete` - Trash without review\n\n### Quick Capture Patterns\n\nWhen capturing to Drafts, these patterns help AI routing:\n- Start tasks with verbs: \"Call\", \"Email\", \"Buy\"\n- Start notes with context: \"Meeting:\", \"Idea:\", \"Note:\"\n- Use @ for OmniFocus hints: \"@due(tomorrow)\", \"@project(Work)\"\n\n### Regular Triage\n\nBest practice: Triage Drafts daily to keep inbox small\n- Morning: Process yesterday's captures\n- Evening: Quick review of day's notes\n\n## Learned Routing Patterns\n\nThese patterns were learned through actual triage sessions with the user.\n\n### Content Type â†’ Destination\n\n| Content Type | Destination | Obsidian Folder | OmniFocus Details |\n|--------------|-------------|-----------------|-------------------|\n| Meeting notes | Obsidian | `Meetings/2025/` | - |\n| Conference notes | Obsidian | `Meetings/2025/` | - |\n| Development roadmap | Obsidian | `Work/[Project]/Roadmap.md` | Format as checklist |\n| API keys/credentials | **Delete** | - | Security risk |\n| Error logs/JSON junk | **Delete** | - | Cruft |\n| Random passwords | **Delete** | - | Cruft |\n| Contact info | Contacts app | - | Also create follow-up task |\n| Book recommendations | OmniFocus | - | Tags: Reading |\n| Gift ideas | OmniFocus | - | Tags: Chores, Shopping |\n| Action items from meetings | OmniFocus | - | Tags: Follow Up |\n| Reference links (AI, UDL) | Obsidian | `Reference/` | - |\n| Personal project ideas | OmniFocus | - | Tags: Coding |\n| Presentation schedules | Obsidian | `Work/Presentations/` | Future dates â†’ tasks |\n| Survey links | OmniFocus | - | Include links in notes |\n\n### Signals for Each Destination\n\n**â†’ OmniFocus Task:**\n- Starts with action verbs: \"Submit\", \"Call\", \"Email\", \"Build\", \"Add\"\n- Contains due date context: \"first week of December\", \"by end of year\"\n- Travel approvals, surveys to send, podcasts to record\n- Book to read, thing to buy, project to build\n- Multiple action items â†’ single task with checklist in notes\n\n**â†’ Obsidian Note:**\n- Meeting notes (look for date, attendees, discussion points)\n- Conference notes (look for session titles, speakers, links)\n- Development docs with code/commands (wrap in code blocks)\n- Reference material with links to external resources\n- Topic brainstorms and idea lists\n\n**â†’ Contacts App:**\n- Contains name + phone/email\n- Create contact AND follow-up task if there's an action\n\n**â†’ Delete:**\n- Empty or nearly empty\n- JSON/error logs\n- API keys (security)\n- Random strings/passwords\n- Test data that's no longer needed\n\n**â†’ Archive in Drafts:**\n- Outdated but potentially useful later\n- Reference that may be needed again\n\n### Project/Folder Mappings\n\n**Obsidian Folders:**\n- `Meetings/2025/` - All meeting and conference notes\n- `Work/AI-Studio/` - AI Studio development docs\n- `Work/Jocular-Kangaroo/` - Jocular Kangaroo project\n- `Work/Presentations/` - Presentation archives\n- `Geoffrey/` - Geoffrey roadmap and ideas\n- `Reference/` - Reference materials and links\n\n**OmniFocus Projects (go to Inbox if not found):**\n- CoSN Work - CoSN-related tasks\n- Meetings - Follow-ups with people\n- Research for Future Plans - Books, research tasks\n\n**OmniFocus Tags:**\n- Follow Up - Tasks requiring follow-up\n- Reading - Books to read\n- Chores - Shopping, errands\n- Coding - Development tasks\n- Geoffrey - AI-assistable tasks\n- Email - Tasks requiring email\n\n### Special Handling\n\n**Multi-item notes:**\n- If note contains multiple distinct items, either:\n  - Create single task with items as checklist in notes\n  - Split into separate tasks (ask user preference)\n\n**Development roadmaps:**\n- Format as Obsidian file with checkboxes\n- Use `- [ ]` for pending items\n- Use `- [x]` for completed items\n- Include code blocks for commands\n\n**Sensitive data:**\n- API keys â†’ Delete immediately\n- Student investigation data â†’ Archive carefully, don't expose\n- Credentials â†’ Delete or move to secure storage\n\n**Contact + Task pattern:**\n- Add to Contacts app via add_contact.js\n- Create follow-up task with contact details in notes\n- Example: \"Send maps to Kim Crowder\" with email in notes\n\n## Future Enhancements\n\n- [ ] Batch processing without confirmation for tagged drafts\n- [ ] Smart date extraction from draft content\n- [ ] Template matching for common note types\n- [ ] Sync with omnifocus-manager tag hierarchy\n- [ ] Obsidian template application\n- [ ] Draft content search/query\n- [ ] Auto-detect project roadmaps and format as checklists\n- [ ] Recognize CoSN, ACPE, Kiwanis contexts for project routing\n",
        "skills/drafts-manager/actions/README.md": "# Installing Drafts Actions\n\nThese actions must be installed in Drafts before the drafts-manager skill can work.\n\n## Quick Install\n\n### Geoffrey Export Inbox\n\n1. Open Drafts on your Mac\n2. Go to **Drafts â†’ Settings â†’ Actions â†’ Manage Actions**\n3. Click the **+** button to create a new action\n4. Set the name to: `Geoffrey Export Inbox`\n5. Click **Steps** â†’ Add **Script** step\n6. Copy the entire contents of `geoffrey-export-inbox.js` into the script editor\n7. Click **Done** to save\n\n### Geoffrey Process Draft\n\n1. Create another new action\n2. Set the name to: `Geoffrey Process Draft`\n3. Click **Steps** â†’ Add **Script** step\n4. Copy the entire contents of `geoffrey-process-draft.js` into the script editor\n5. **Important:** Click the gear icon on the action and set:\n   - After Success: **Do Nothing** (don't archive the draft - the script handles this)\n6. Click **Done** to save\n\n## Verification\n\nTest that the export action works:\n\n```bash\nopen \"drafts://x-callback-url/runAction?action=Geoffrey%20Export%20Inbox\"\n```\n\nCheck for the export file:\n\n```bash\nls -la ~/Library/Mobile\\ Documents/iCloud~com~agiletortoise~Drafts5/Documents/geoffrey-export.json\n```\n\nIf the file exists and was recently modified, the action is working.\n\n## Troubleshooting\n\n### \"Action not found\" error\n\n- Make sure the action names match exactly:\n  - `Geoffrey Export Inbox`\n  - `Geoffrey Process Draft`\n- Check for extra spaces or different capitalization\n\n### Export file not created\n\n- Open Drafts manually and run the action from the action list\n- Check for script errors in Drafts' action log\n\n### OmniFocus tasks not created\n\n- Make sure OmniFocus is running\n- The OmniFocus URL scheme needs the app to be open\n\n### Obsidian notes not created\n\n- Make sure Obsidian is running\n- Verify the vault name is \"Personal_Notes\"\n- Check that the folder path exists\n\n## Action Configuration\n\n### Template Tags\n\nThe process action uses Drafts template tags to receive parameters. When called via URL:\n\n```\ndrafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=ABC&destination=omnifocus\n```\n\nThe parameters become available as template tags in the script.\n\n### Customization\n\nThe action uses the Obsidian URL scheme, so it automatically finds your vault. No path configuration needed.\n\nTo change the default Obsidian folder, edit:\n\n```javascript\nlet folder = draft.getTemplateTag(\"folder\") || \"Geoffrey/Inbox\";\n```\n\n## URL Scheme Reference\n\n### Export\n\n```\ndrafts://x-callback-url/runAction?action=Geoffrey%20Export%20Inbox\n```\n\n### Process to OmniFocus\n\n```\ndrafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=UUID&destination=omnifocus&project=Project&tags=Tag1,Tag2&dueDate=2025-11-30\n```\n\n### Process to Obsidian\n\n```\ndrafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=UUID&destination=obsidian&folder=Meetings\n```\n\n### Archive\n\n```\ndrafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=UUID&destination=archive\n```\n\n### Trash\n\n```\ndrafts://x-callback-url/runAction?action=Geoffrey%20Process%20Draft&uuid=UUID&destination=trash\n```\n",
        "skills/elevenlabs-tts/SKILL.md": "---\nname: elevenlabs-tts\ndescription: Generate high-quality audio from text using Eleven Labs API. Use for podcasts, narration, voice-overs, and audio summaries.\ntriggers:\n  - \"generate audio\"\n  - \"text to speech\"\n  - \"create podcast\"\n  - \"eleven labs\"\n  - \"make audio\"\n  - \"narrate\"\n  - \"voice over\"\nallowed-tools: Read, Write, Bash\nversion: 1.0.0\n---\n\n# Eleven Labs Text-to-Speech\n\nGenerate high-quality audio from text using the Eleven Labs API. Ideal for podcast-style summaries, narration, and voice-overs.\n\n## Quick Start\n\n```bash\n# Generate audio with default voice (Rachel)\nuv run scripts/generate_audio.py --text \"Hello, this is a test.\"\n\n# Generate from a text file\nuv run scripts/generate_audio.py --file report.txt --output ~/Desktop/report.mp3\n\n# Use a specific voice\nuv run scripts/generate_audio.py --text \"Breaking news...\" --voice Josh\n\n# List available voices\nuv run scripts/list_voices.py\n```\n\n## Scripts\n\n### generate_audio.py\n\nMain script for TTS generation.\n\n**Arguments:**\n| Argument | Description | Default |\n|----------|-------------|---------|\n| `--text` | Text content to convert | - |\n| `--file` | Path to text file | - |\n| `--voice` | Voice name or ID | Rachel |\n| `--model` | Model ID | eleven_multilingual_v2 |\n| `--output` | Output file path | ~/Desktop/audio_TIMESTAMP.mp3 |\n\n**Features:**\n- Auto-chunks text >10k characters at sentence boundaries\n- Concatenates chunks into single MP3\n- Returns JSON with metadata (file path, voice, model, char count, chunks)\n\n### list_voices.py\n\nFetch and display available voices.\n\n**Arguments:**\n| Argument | Description | Default |\n|----------|-------------|---------|\n| `--all` | Show all voices (not just premade) | false |\n| `--json` | Output as JSON | false |\n\n## Curated Voices\n\nSix voices selected for variety (see `references/voices.md` for details):\n\n| Voice | Style | Best For |\n|-------|-------|----------|\n| **Rachel** | Calm, clear | Narration, podcasts (default) |\n| **Bella** | Soft, gentle | Storytelling, meditation |\n| **Elli** | Young, expressive | Casual content, tutorials |\n| **Josh** | Deep, authoritative | News, professional content |\n| **Adam** | Middle-aged, clear | Business, documentaries |\n| **Antoni** | Warm, versatile | General purpose |\n\nUse `list_voices.py` to discover additional voices.\n\n## Models\n\n| Model | ID | Best For | Char Limit |\n|-------|-----|----------|------------|\n| **Multilingual v2** | `eleven_multilingual_v2` | Long-form (default) | 10,000 |\n| Flash v2.5 | `eleven_flash_v2_5` | Quick, real-time | 40,000 |\n| Turbo v2.5 | `eleven_turbo_v2_5` | Balanced | 40,000 |\n| Eleven v3 | `eleven_v3` | Maximum expression | 3,000 |\n\n## Environment Setup\n\nRequires `ELEVENLABS_API_KEY` in:\n```\n~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/secrets/.env\n```\n\n## Examples\n\n### Daily Summary Podcast\n```bash\n# Generate individual segments\nuv run scripts/generate_audio.py --file weather.txt --voice Rachel --output ~/Desktop/weather.mp3\nuv run scripts/generate_audio.py --file news.txt --voice Josh --output ~/Desktop/news.mp3\nuv run scripts/generate_audio.py --file calendar.txt --voice Bella --output ~/Desktop/calendar.mp3\n```\n\n### Long Report\n```bash\n# Auto-chunks long text, concatenates into single file\nuv run scripts/generate_audio.py --file quarterly_report.txt --model eleven_turbo_v2_5 --output report.mp3\n```\n\n### Quick Test\n```bash\nuv run scripts/generate_audio.py --text \"Testing one two three\" --voice Adam\n```\n\n## Output\n\nDefault: `~/Desktop/audio_YYYY-MM-DD_HHMMSS.mp3`\n\nScript returns JSON:\n```json\n{\n  \"success\": true,\n  \"file\": \"/Users/user/Desktop/audio_2026-01-23_143022.mp3\",\n  \"voice\": \"Rachel\",\n  \"model\": \"eleven_multilingual_v2\",\n  \"characters\": 1234,\n  \"chunks\": 1\n}\n```\n\n## Limitations\n\n- Character limits vary by model (see table above)\n- One voice per generation (multi-voice requires separate files)\n- Output format: MP3 only\n",
        "skills/elevenlabs-tts/references/voices.md": "# Eleven Labs Voice Reference\n\n## Curated Voices\n\nSix voices selected for variety in podcast-style content:\n\n### Female Voices\n\n| Voice | ID | Description | Best For |\n|-------|-----|-------------|----------|\n| **Rachel** | `21m00Tcm4TlvDq8ikWAM` | Calm, clear, neutral American accent | Narration, podcasts, general purpose (default) |\n| **Bella** | `EXAVITQu4vr4xnSDxMaL` | Soft, gentle, soothing tone | Storytelling, meditation, ASMR |\n| **Elli** | `MF3mGyEYCl7XYWbV9V6O` | Young, energetic, expressive | Casual content, tutorials, social media |\n\n### Male Voices\n\n| Voice | ID | Description | Best For |\n|-------|-----|-------------|----------|\n| **Josh** | `TxGEqnHWrfWFTfGW9XjX` | Deep, authoritative, confident | News, announcements, professional content |\n| **Adam** | `pNInz6obpgDQGcFmaJgB` | Middle-aged, clear, articulate | Business, documentaries, educational |\n| **Antoni** | `ErXwobaYiN019PkySvjV` | Warm, well-rounded, friendly | General purpose, conversational |\n\n## Discovering More Voices\n\nList all available voices:\n```bash\nuv run scripts/list_voices.py --all\n```\n\nThe API provides many more voices including:\n- Different accents (British, Australian, etc.)\n- Character voices\n- Professional narrator voices\n- Community-created voices\n\n## Using Custom Voice IDs\n\nYou can use any voice ID directly:\n```bash\nuv run scripts/generate_audio.py --text \"Hello\" --voice YOUR_VOICE_ID\n```\n\nVoice IDs can be found via `list_voices.py` or in the Eleven Labs Voice Library.\n\n## Voice Settings\n\nThe script uses balanced settings:\n- **Stability**: 0.5 (balanced between consistent and expressive)\n- **Similarity Boost**: 0.75 (closer to original voice)\n\nThese can be modified in `generate_audio.py` if needed.\n\n## Voice Selection Tips\n\n1. **Match content tone**: Use Josh for serious news, Bella for gentle content\n2. **Consider length**: Rachel handles long-form content well\n3. **Test first**: Generate a short sample before committing to a long piece\n4. **Variety in podcasts**: Use different voices for different segments\n\n## Multi-Voice Content\n\nFor podcast-style content with multiple speakers:\n1. Generate each segment with a different voice\n2. Save as separate files\n3. Combine using audio editing software or ffmpeg:\n   ```bash\n   ffmpeg -i \"concat:intro.mp3|segment1.mp3|segment2.mp3\" -acodec copy output.mp3\n   ```\n",
        "skills/freshservice-manager/SKILL.md": "---\nname: freshservice-manager\ndescription: Manage Freshservice tickets, approvals, and get team performance reports across all workspaces\ntriggers:\n  - \"freshservice\"\n  - \"ticket\"\n  - \"helpdesk\"\n  - \"what happened in freshservice\"\n  - \"tech team metrics\"\n  - \"daily summary\"\n  - \"weekly summary\"\n  - \"approvals\"\n  - \"assign to\"\n  - \"add note to ticket\"\n  - \"close ticket\"\nallowed-tools: Read, Bash\nversion: 0.1.0\n---\n\n# Freshservice Manager Skill\n\n## Configuration\n\n- **Domain**: psd401.freshservice.com\n- **Agent ID**: 6000130414 (Kris Hagel)\n- **Primary Workspace**: 2 (Technology)\n- **API Key**: Stored in `~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/secrets/.env`\n\n## Workspaces\n\n| ID | Name |\n|----|------|\n| 2 | Technology (primary) |\n| 3 | Employee Support Services |\n| 4 | Business Services |\n| 5 | Teaching & Learning |\n| 6 | Maintenance |\n| 8 | Investigations |\n| 9 | Transportation |\n| 10 | Safety & Security |\n| 11 | Communications |\n| 13 | Software Development |\n\n## Team Context\n\n- **TSD Generic Account** (6000875582) - Shared by high school interns for Chromebook repairs\n- **David Edwards** - Desktop Support Tech, handles most varied workload including incidents\n- **Carol Winget** - Student Database Admin, PowerSchool specialist\n- **Laura Durkin** - Admin Secretary, handles new students and badges\n\n## Reports & Summaries\n\n### Daily Summary\nGet a narrative summary of what happened in Technology on a specific day.\n\n**Natural language triggers:**\n- \"What happened in Freshservice yesterday?\"\n- \"Give me today's tech summary\"\n- \"What did the team do on Wednesday?\"\n\n**Script:** `bun get_daily_summary.js [date]`\n\nDate options:\n- `today` (default)\n- `yesterday`\n- Day names: `monday`, `tuesday`, `wednesday`, etc.\n- `last wednesday`, `last friday`\n- Specific date: `2025-11-20`\n\n**Output includes:**\n- Total tickets closed\n- Breakdown by category (Chromebook, Schoology, Security Alert, etc.)\n- Breakdown by agent with their tickets\n- Automated ticket count (password resets)\n\n### Weekly Summary\nGet trends and metrics for the entire week.\n\n**Natural language triggers:**\n- \"Weekly tech summary\"\n- \"How did the team do this week?\"\n- \"Give me the weekly Freshservice report\"\n\n**Script:** `bun get_weekly_summary.js [weeks_ago]`\n\nOptions:\n- `0` = this week (default)\n- `1` = last week\n- `2` = two weeks ago\n\n**Output includes:**\n- Total closed and daily average\n- Peak day and slow day\n- Daily trend by volume\n- Category breakdown with percentages\n- Category trends (which days had spikes)\n- Top agents with ticket counts and focus areas\n- Agent daily breakdown\n\n### Narrative Style\n\nWhen presenting summaries, write a 1-minute narrative that:\n- Highlights the main story of the day/week (outages, big pushes, etc.)\n- Calls out specific people and what they handled\n- Notes any concerning patterns (security alerts, cut wires, etc.)\n- Converts UTC timestamps to Pacific time\n- Uses specific numbers and ticket counts\n\n## Ticket Operations\n\n### List Tickets\n```bash\nbun list_tickets.js '{\"workspace_id\": 2, \"filter\": \"new_and_my_open\"}'\n```\n\nFilters: `new_and_my_open`, `watching`, `spam`, `deleted`, `archived`\n\n### Search Tickets\n```bash\nbun search_tickets.js \"status:2 AND priority:3\" 2\n```\n\nQuery syntax: `field:value AND/OR field:value`\nFields: `status`, `priority`, `agent_id`, `group_id`, `created_at`, `updated_at`\n\n### Get Ticket Details\n```bash\nbun get_ticket.js <ticket_id>\n```\n\n### Get Service Request (with form data)\n```bash\nbun get_service_request.js <ticket_id>\n```\n\nIncludes requester info, custom form fields, requested items.\n\n### Create Ticket\n```bash\nbun create_ticket.js '<json>'\n```\n\nRequired: `subject`, `description`, `email` or `requester_id`\nOptional: `priority`, `status`, `workspace_id`\n\n### Update Ticket\n```bash\nbun update_ticket.js <ticket_id> '<json>'\n```\n\nCan update: `status`, `priority`, `responder_id`, `group_id`\n\n### Add Note\n```bash\nbun add_note.js <ticket_id> '{\"body\": \"Note text\", \"private\": true}'\n```\n\nOptional: `notify_emails` array to alert specific agents.\n\n## Agent Operations\n\n### List Agents\n```bash\nbun list_agents.js [query]\n```\n\nQuery filters by first name, last name, or email.\nReturns: id, name, email, job_title\n\nUse this to resolve \"assign to Mark\" â†’ find Mark's agent ID â†’ update ticket.\n\n### Get Agent by Email\n```bash\nbun get_agent.js <email>\n```\n\n## Approvals\n\n### Get Pending Approvals\n```bash\nbun get_approvals.js [status]\n```\n\nStatus: `requested` (default), `approved`, `rejected`, `cancelled`\n\n**Note:** Freshservice API does not support approving service requests programmatically. User must approve via:\n- Web UI: `https://psd401.freshservice.com/helpdesk/tickets/<id>`\n- Email reply to approval request\n\n## Common Workflows\n\n### \"Add a note to Jodi on ticket 151501\"\n1. Find Jodi's agent ID: `bun list_agents.js jodi` â†’ 6000542935\n2. Add note: `bun add_note.js 151501 '{\"body\": \"...\", \"notify_emails\": [\"miloj@psd401.net\"]}'`\n\n### \"Assign ticket to Mark\"\n1. Find Mark's ID: `bun list_agents.js mark`\n2. Update ticket: `bun update_ticket.js <id> '{\"responder_id\": <mark_id>}'`\n\n### \"What approvals do I have?\"\n1. Get approvals: `bun get_approvals.js`\n2. For each approval, get details: `bun get_service_request.js <ticket_id>`\n\n### Cross-skill workflow\n\"Add note to ticket, create OmniFocus task, reassign ticket\" - can combine Freshservice note + OmniFocus task creation + ticket update in one flow.\n\n## Category Detection\n\nTickets are auto-categorized by subject keywords:\n- **Password Reset**: \"password reset\"\n- **Security Alert**: \"security alert\", \"compromised\", \"breach\"\n- **Schoology**: \"schoology\"\n- **PowerSchool**: \"powerschool\"\n- **Promethean Board**: \"promethean\"\n- **Chromebook**: \"chromebook\"\n- **Phone/Voicemail**: \"phone\", \"voicemail\", \"ext.\"\n- **Badge Request**: \"badge\"\n- **New Student**: \"new student\", \"enrollee\"\n- **Intercom**: \"intercom\"\n- **Raptor**: \"raptor\"\n- **GoGuardian**: \"goguardian\", \"go guardian\"\n- **Access/Login**: \"login\", \"access\", \"mfa\"\n\n## Status Codes\n\n| Code | Status |\n|------|--------|\n| 2 | Open |\n| 3 | Pending |\n| 4 | Resolved |\n| 5 | Closed |\n\n## Priority Codes\n\n| Code | Priority |\n|------|----------|\n| 1 | Low |\n| 2 | Medium |\n| 3 | High |\n| 4 | Urgent |\n",
        "skills/google-workspace/SKILL.md": "---\nname: google-workspace\ndescription: Unified Google Workspace integration for managing email, calendar, files, and communication across multiple accounts\ntriggers:\n  # Gmail\n  - \"check email\"\n  - \"read email\"\n  - \"send email\"\n  - \"search email\"\n  - \"list emails\"\n  - \"unread emails\"\n  - \"inbox\"\n  # Calendar\n  - \"check calendar\"\n  - \"schedule meeting\"\n  - \"create event\"\n  - \"what's on my calendar\"\n  - \"free time\"\n  - \"upcoming meetings\"\n  # Drive\n  - \"find file\"\n  - \"search drive\"\n  - \"list documents\"\n  - \"open document\"\n  - \"create document\"\n  # Docs/Sheets/Slides\n  - \"create doc\"\n  - \"create spreadsheet\"\n  - \"create presentation\"\n  - \"edit document\"\n  # Tasks\n  - \"google tasks\"\n  - \"task list\"\n  # Chat\n  - \"send chat\"\n  - \"check chat\"\nallowed-tools: Read, Bash\nversion: 0.1.0\n---\n\n# Google Workspace Skill\n\n## Overview\n\nUnified Google Workspace integration for managing email, calendar, files, and communication across three accounts:\n\n| Alias | Purpose | Email |\n|-------|---------|-------|\n| `psd` | Work | PSD district email |\n| `kh` | Personal | Personal Gmail |\n| `hrg` | Business | Consulting & real estate |\n\n## Account Selection\n\n### Explicit\n- \"check my **psd** email\"\n- \"send email from **hrg**\"\n- \"**kh** calendar for tomorrow\"\n\n### Inferred\nGeoffrey will infer the appropriate account from context:\n- Work-related â†’ `psd`\n- Personal matters â†’ `kh`\n- Business/real estate â†’ `hrg`\n\n## Available Operations\n\n### Gmail\n\n| Script | Description | Example |\n|--------|-------------|---------|\n| `list_messages.js` | List inbox, unread, by label | \"show unread psd emails\" |\n| `read_message.js` | Get full message content | \"read that email\" |\n| `send_message.js` | Compose and send | \"send email to John about...\" |\n| `send_with_attachment.js` | Send with file attachment | \"email report with PDF attached\" |\n| `search_messages.js` | Search with Gmail operators | \"find emails from Sarah last week\" |\n| `get_unread_summary.js` | Unread count + top messages | \"how many unread emails?\" |\n\n### Calendar\n\n| Script | Description | Example |\n|--------|-------------|---------|\n| `list_events.js` | Get upcoming events | \"what's on my calendar today\" |\n| `create_event.js` | Schedule new events | \"schedule meeting tomorrow at 2pm\" |\n| `update_event.js` | Modify existing events | \"move that meeting to 3pm\" |\n| `search_events.js` | Find by criteria | \"find meetings with Mike\" |\n\n### Drive\n\n| Script | Description | Example |\n|--------|-------------|---------|\n| `list_files.js` | Browse/search files | \"find budget spreadsheet\" |\n| `read_file.js` | Get file content | \"show me that document\" |\n| `create_file.js` | Create new docs/sheets | \"create a new spreadsheet\" |\n| `upload_file.js` | Upload local file | \"upload this to drive\" |\n\n### Tasks\n\n| Script | Description | Example |\n|--------|-------------|---------|\n| `list_tasks.js` | Get task lists | \"show my google tasks\" |\n| `create_task.js` | Add new task | \"add task to google tasks\" |\n| `complete_task.js` | Mark done | \"complete that task\" |\n\n### Chat\n\n| Script | Description | Example |\n|--------|-------------|---------|\n| `list_spaces.js` | Get available spaces | \"list chat spaces\" |\n| `send_message.js` | Post to space | \"send message to team chat\" |\n| `read_messages.js` | Get chat history | \"show recent chat messages\" |\n\n## Usage Patterns\n\n### Running Scripts\n\nAll scripts use the token_manager for authentication:\n\n```javascript\nconst { getAuthClient } = require('./auth/token_manager');\n\nasync function main() {\n  const account = process.argv[2] || 'psd';\n  const auth = await getAuthClient(account);\n\n  // Use auth with Google API\n  const gmail = google.gmail({ version: 'v1', auth });\n  // ...\n}\n```\n\n### Output Format\n\nAll scripts return JSON:\n\n```json\n{\n  \"success\": true,\n  \"account\": \"psd\",\n  \"data\": { ... },\n  \"metadata\": {\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"count\": 5\n  }\n}\n```\n\n### Error Handling\n\n```json\n{\n  \"error\": \"Token expired\",\n  \"account\": \"psd\",\n  \"action\": \"Run: node token_manager.js refresh psd\"\n}\n```\n\n## Setup Required\n\nBefore using this skill:\n\n1. Complete Google Cloud Console setup (see `auth/GOOGLE_CLOUD_SETUP.md`)\n2. Add credentials to `~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/secrets/.env`\n3. Authenticate all three accounts\n4. For PSD account: allowlist OAuth app in Google Admin\n\n## Cross-Account Operations\n\nSome operations work across accounts:\n- \"Forward this to my personal email\"\n- \"Copy this file to my work drive\"\n- \"Add to both calendars\"\n\n## Gmail Search Operators\n\nSupport standard Gmail search:\n- `from:` - sender\n- `to:` - recipient\n- `subject:` - subject line\n- `has:attachment` - with attachments\n- `after:` / `before:` - date range\n- `is:unread` - unread only\n- `label:` - by label\n\nExample: \"search psd email for `from:boss@psd.org after:2024-01-01 has:attachment`\"\n\n## Notes\n\n- Access tokens expire after 1 hour (auto-refreshed)\n- Refresh tokens don't expire unless revoked\n- All API calls are rate-limited by Google\n- Keep API has limited availability (may not be enabled)\n",
        "skills/google-workspace/auth/GOOGLE_CLOUD_SETUP.md": "# Google Cloud Console Setup Guide\n\n## Step 1: Create Project\n\n1. Go to [Google Cloud Console](https://console.cloud.google.com/)\n2. Sign in with your **consulting account** (this will own the OAuth app)\n3. Click **Select a project** â†’ **New Project**\n4. Name: `Geoffrey Google Workspace`\n5. Click **Create**\n\n## Step 2: Enable APIs\n\nNavigate to **APIs & Services â†’ Library** and enable each:\n\n### Required APIs\n- [ ] Gmail API\n- [ ] Google Calendar API\n- [ ] Google Drive API\n- [ ] Google Docs API\n- [ ] Google Sheets API\n- [ ] Google Slides API\n- [ ] Google Forms API\n- [ ] Google Chat API\n- [ ] Tasks API\n- [ ] People API (for user info)\n\n### Optional APIs\n- [ ] Google Keep API (limited availability)\n- [ ] Gemini API (if using AI features)\n\n**Tip:** Search for each API name and click **Enable**\n\n## Step 3: Configure OAuth Consent Screen\n\n1. Go to **APIs & Services â†’ OAuth consent screen**\n2. Select **External** (unless all accounts are in same org)\n3. Click **Create**\n\n### App Information\n- App name: `Geoffrey`\n- User support email: Your consulting email\n- Developer contact: Your consulting email\n\n### Scopes\nClick **Add or Remove Scopes** and add:\n\n```\nhttps://www.googleapis.com/auth/gmail.modify\nhttps://www.googleapis.com/auth/calendar\nhttps://www.googleapis.com/auth/drive\nhttps://www.googleapis.com/auth/documents\nhttps://www.googleapis.com/auth/spreadsheets\nhttps://www.googleapis.com/auth/presentations\nhttps://www.googleapis.com/auth/forms.body\nhttps://www.googleapis.com/auth/chat.messages\nhttps://www.googleapis.com/auth/tasks\nhttps://www.googleapis.com/auth/userinfo.email\n```\n\n### Test Users\nAdd all three email addresses:\n- Your PSD email\n- Your personal email\n- Your consulting email\n\n**Note:** While in \"Testing\" mode, only these users can authorize.\n\n## Step 4: Create OAuth Credentials\n\n1. Go to **APIs & Services â†’ Credentials**\n2. Click **Create Credentials â†’ OAuth client ID**\n3. Application type: **Desktop app**\n4. Name: `Geoffrey CLI`\n5. Click **Create**\n6. Copy the **Client ID** and **Client Secret**\n7. Add to your iCloud secrets `.env` file:\n   ```\n   ~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/secrets/.env\n   ```\n\n   Add these lines:\n   ```\n   GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com\n   GOOGLE_CLIENT_SECRET=your-client-secret\n   ```\n\n## Step 5: PSD Domain Allowlisting\n\nYour PSD Google Workspace likely restricts third-party apps. To allow Geoffrey:\n\n### If You're a Google Admin:\n\n1. Go to [Google Admin Console](https://admin.google.com)\n2. Navigate to **Security â†’ Access and data control â†’ API controls**\n3. Click **Manage Third-Party App Access**\n4. Click **Add app â†’ OAuth App Name Or Client ID**\n5. Enter your OAuth Client ID (from Step 4)\n6. Select **Trusted** access\n\n### If You Need IT Approval:\n\nSend this to your IT team:\n\n```\nSubject: Request to Allow OAuth App for Personal Productivity Tool\n\nI need to allowlist a personal productivity app that integrates with Google Workspace.\n\nOAuth Client ID: [YOUR_CLIENT_ID_HERE]\n\nRequested scopes:\n- Gmail (read/send)\n- Calendar (read/write)\n- Drive (read/write)\n- Docs/Sheets/Slides (read/write)\n- Tasks (read/write)\n\nThis is a local CLI tool that runs only on my machine.\nNo data is sent to external servers.\n\nPlease add this client ID to the trusted apps list.\n```\n\n## Step 6: Authenticate Each Account\n\nOnce credentials are in your .env:\n\n```bash\ncd skills/google-workspace\n\n# Install dependencies\nbun install\n\n# Authenticate each account\nbun auth/oauth_setup.js psd    # Will open browser, sign in with PSD account\nbun auth/oauth_setup.js kh     # Will open browser, sign in with personal account\nbun auth/oauth_setup.js hrg    # Will open browser, sign in with consulting account\n\n# After each auth, store the tokens (copy the JSON output from oauth_setup)\nbun auth/token_manager.js store psd '<tokens-json-output>'\nbun auth/token_manager.js store kh '<tokens-json-output>'\nbun auth/token_manager.js store hrg '<tokens-json-output>'\n```\n\n## Step 7: Verify Setup\n\n```bash\n# List stored accounts\nbun auth/token_manager.js list\n\n# Test token retrieval\nbun auth/token_manager.js get psd\n```\n\n## Troubleshooting\n\n### \"Access blocked: This app's request is invalid\"\n- Check that redirect URI matches: `http://localhost:3000/oauth2callback`\n- Verify OAuth consent screen is configured\n\n### \"Access denied\" for PSD account\n- App needs to be allowlisted in PSD Google Admin\n- Contact IT with the client ID\n\n### \"Refresh token is null\"\n- Delete the app from your Google account's connected apps\n- Re-run oauth_setup.js with the account\n- The `prompt: 'consent'` should force a new refresh token\n\n### Token expires quickly\n- Access tokens last 1 hour\n- token_manager.js auto-refreshes using the refresh token\n- Refresh tokens don't expire unless revoked\n\n## Security Notes\n\n- Credentials stored in iCloud secrets `.env` (synced, but local to your devices)\n- Tokens stored in macOS Keychain (encrypted)\n- Each account has its own isolated tokens\n- Revoke access anytime from Google Account â†’ Security â†’ Third-party apps\n",
        "skills/image-gen/SKILL.md": "---\nname: image-gen\ndescription: Generate images using Google's Nano Banana Pro (Gemini 3 Pro Image) with workflow-based prompting\ntriggers:\n  - \"create image\"\n  - \"generate image\"\n  - \"make infographic\"\n  - \"create infographic\"\n  - \"generate diagram\"\n  - \"make diagram\"\n  - \"design visual\"\n  - \"create visual\"\nallowed-tools: Read, Write, Bash\nversion: 0.1.0\n---\n\n# Image Generation Skill\n\nGenerate professional images, infographics, and diagrams using Google's Nano Banana Pro model (gemini-3-pro-image-preview).\n\n## Model Capabilities\n\n**Nano Banana Pro** (released November 20, 2025):\n- **Text rendering** - Accurate, legible text in images\n- **Google Search grounding** - Real-time data (weather, stocks, etc.)\n- **Multi-turn conversation** - Iterative refinement\n- **Up to 14 reference images** - For composition and style transfer\n- **Resolutions**: 1K, 2K, 4K\n- **Aspect ratios**: 1:1, 2:3, 3:2, 4:3, 16:9, 21:9\n\n## Scripts\n\nAll scripts use Python via `uv run` with inline dependencies.\n\n### generate.py - Text to Image\n```bash\nuv run scripts/generate.py \"prompt\" output.png [aspect_ratio] [size]\n```\n\n**Examples:**\n```bash\n# Basic image\nuv run scripts/generate.py \"A cozy coffee shop in autumn\" coffee.png\n\n# Infographic with specific aspect ratio\nuv run scripts/generate.py \"Infographic explaining how neural networks work\" nn.png 16:9 2K\n\n# 4K professional image\nuv run scripts/generate.py \"Professional headshot, studio lighting\" headshot.png 3:2 4K\n```\n\n### edit.py - Image Editing\n```bash\nuv run scripts/edit.py input.png \"edit instructions\" output.png\n```\n\n**Examples:**\n```bash\n# Edit existing image\nuv run scripts/edit.py photo.png \"Change the background to a beach sunset\" edited.png\n```\n\n### compose.py - Multi-Image Composition\n```bash\nuv run scripts/compose.py \"prompt\" output.png --refs image1.png image2.png\n```\n\n**Examples:**\n```bash\n# Combine styles from multiple images\nuv run scripts/compose.py \"Combine these styles into a logo\" logo.png --refs style1.png style2.png\n```\n\n## Workflows\n\nWorkflows provide structured approaches for specific visual types. Each workflow follows the PAI 6-step editorial process:\n\n1. **Extract narrative** - Understand the complete story/concept\n2. **Derive visual concept** - Single metaphor with 2-3 physical objects\n3. **Apply aesthetic** - Define style, colors, mood\n4. **Construct prompt** - Build detailed generation instructions\n5. **Generate** - Execute via script\n6. **Validate** - Check against criteria, regenerate if needed\n\n### Available Workflows\n\n- **infographic.md** - Data visualization, statistics, explainers\n- **diagram.md** - Technical diagrams, flowcharts, architecture\n\n## Workflow Usage\n\nWhen generating images, follow the appropriate workflow:\n\n### For Infographics\n```markdown\n1. What data/concept needs visualization?\n2. What's the key insight or takeaway?\n3. Aspect ratio: 16:9 (landscape) recommended\n4. Include: clear hierarchy, minimal text, supporting icons\n5. Generate at 2K minimum for text clarity\n```\n\n### For Diagrams\n```markdown\n1. What system/process is being illustrated?\n2. What are the key components and relationships?\n3. Style: flat colors, clean lines, minimal detail\n4. Generate at 2K for label clarity\n```\n\n## Environment Setup\n\nRequires `GEMINI_API_KEY` environment variable. This should be set from Geoffrey's secrets:\n\n```bash\nsource ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/secrets/.env\n```\n\n## Best Practices\n\n### Infographics\n- Use simple, direct prompts: \"Infographic explaining how X works\"\n- Model auto-includes relevant icons/logos\n- 16:9 aspect ratio works best\n- Generate at 2K+ for readable text\n\n### General\n- Multi-turn refinement: generate, then ask for specific changes\n- Reference images improve consistency\n- Be specific about style, mood, lighting\n- SynthID watermark is automatic (Google provenance)\n\n## Output Location\n\nBy default, save images to `/tmp/` or user-specified paths. For persistent storage, use:\n```\n~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/images/\n```\n\n## âš ï¸ CRITICAL: Never Read Generated Images\n\n**DO NOT use the Read tool on generated images.**\n\nWhy:\n- 4K images (3840x2160) are within the 8000px limit\n- 2K images (2560x1440) are also safe\n- BUT: Do not Read them - they're for user consumption, not analysis\n- For edits, use edit.py script, not Read tool\n\nWorkflow:\n1. Generate image with script\n2. Return file path to user\n3. User views the high-quality output\n\n## Limitations\n\n- No photorealistic humans (safety filter)\n- No copyrighted characters\n- Maximum 14 reference images for composition\n- 4K only available with Nano Banana Pro\n\n## Pricing\n\n| Size | Cost per Image |\n|------|---------------|\n| 1K | Free tier / $0.04 |\n| 2K | $0.134 |\n| 4K | $0.24 |\n",
        "skills/image-gen/workflows/branded.md": "# Branded Image Workflow\n\nGenerate on-brand images that comply with organizational brand guidelines.\n\n## When to Use\n\nUse this workflow when creating images for:\n- School district communications\n- Official presentations and materials\n- Social media graphics\n- Event banners and promotional materials\n- Any context requiring organizational branding\n\n## Brand Enforcement\n\nWhen a brand is specified via `--brand`, the following rules are automatically enforced:\n\n### What Gets Blocked\n\nThe validation will **reject** prompts that attempt to generate:\n- Logos or emblems\n- District seals\n- Official branding elements\n- Stylized organization names\n\n**Why?** AI-generated logos are inconsistent and may hallucinate incorrect details. Always use actual logo files from the brand assets.\n\n### What's Allowed\n\nYou can freely generate:\n- Scenes and backgrounds\n- Infographics (without logos)\n- Illustrations\n- Abstract patterns\n- Any non-brand imagery\n\n## Usage\n\n### Basic Branded Generation\n\n```bash\n# Generate with PSD brand validation\nuv run generate.py \"school campus autumn scene\" campus.png 16:9 2K --brand psd\n```\n\n### Color Guidance\n\nWhen generating branded images, reference brand colors in your prompt:\n\n**PSD Colors:**\n- Sea Glass (#6CA18A) - Primary green\n- Pacific (#25424C) - Primary dark blue\n- Driftwood (#D7CDBE) - Neutral tan\n- Skylight (#FFFAEC) - Off-white/cream\n\n**Example prompts with color guidance:**\n```\n\"Abstract wave pattern in teal (#6CA18A) and navy (#25424C) tones\"\n\"School hallway scene with warm cream (#FFFAEC) lighting\"\n```\n\n## Adding Logos to Generated Images\n\nAfter generating an image, add the logo programmatically:\n\n### Get the Right Logo\n\n```python\nfrom brand import get_logo_path\n\n# For light backgrounds\nlogo = get_logo_path(background='light', space='small')\n\n# For dark backgrounds\nlogo = get_logo_path(background='dark', space='horizontal')\n```\n\n### Logo Selection Guide\n\n| Background | Space Available | Recommended |\n|------------|-----------------|-------------|\n| Light/white | Wide | 2color-fulllandscape |\n| Light/white | Small | 2color-emblem |\n| Dark/navy | Wide | white-horizontal |\n| Dark/navy | Small | white-emblem |\n| Medium/tan | Any | 1color-green-* |\n\n### Composite with Logo\n\nUse the `compose.py` script to overlay the logo:\n\n```bash\n# Add logo to generated image\nuv run compose.py \"Add the logo in the bottom right corner\" final.png --refs generated.png logo.png\n```\n\n## Workflow Example\n\n### Creating a PSD Event Banner\n\n1. **Generate base image:**\n   ```bash\n   uv run generate.py \"school gymnasium decorated for graduation ceremony, warm lighting\" gym.png 16:9 2K --brand psd\n   ```\n\n2. **Get appropriate logo:**\n   ```bash\n   # For the warm-lit scene, use 2-color horizontal\n   uv run ../psd-brand-guidelines/brand.py logo light wide\n   # Output: .../assets/psd_logo-2color-fulllandscape.png\n   ```\n\n3. **Composite final image:**\n   ```bash\n   uv run compose.py \"Place the logo discretely in the bottom right corner\" banner.png --refs gym.png /path/to/logo.png\n   ```\n\n## Error Handling\n\n### Brand Validation Failed\n\nIf you see \"Brand validation failed\", you attempted to generate a protected brand element:\n\n```\nBrand validation failed:\n  Cannot generate 'psd logo'. Use actual logo files from assets/ instead.\n\nSuggestion: Use get_logo_path() to get the appropriate logo file.\n```\n\n**Solution:** Remove logo/emblem requests from your prompt and use actual logo files.\n\n### Brand Not Found\n\n```\nWarning: Brand 'xyz' not found, skipping validation\n```\n\n**Solution:** Check available brands. Currently supported: `psd`\n\n## Best Practices\n\n1. **Never generate logos** - Always use actual logo files\n2. **Reference brand colors** - Include hex codes in prompts for color accuracy\n3. **Composite don't generate** - Generate backgrounds, add logos as overlays\n4. **Check validation first** - Run with `--brand` to catch issues early\n5. **Use appropriate logo variant** - Match logo color to background for contrast\n",
        "skills/image-gen/workflows/diagram.md": "# Diagram Workflow\n\nCreate technical diagrams, flowcharts, architecture diagrams, and process visualizations.\n\n## When to Use\n\n- System architecture documentation\n- Process flows and workflows\n- Technical explanations\n- Decision trees\n- Network topologies\n- Component relationships\n\n## 6-Step Process\n\n### Step 1: Extract Narrative\n\n**Goal:** Understand the system or process being illustrated.\n\nQuestions to answer:\n- What system/process is being shown?\n- What are the key components?\n- What are the relationships between components?\n- What is the flow direction (if any)?\n- What level of detail is needed?\n\n**Output:** Component list and relationship description.\n\n### Step 2: Derive Visual Concept\n\n**Goal:** Choose the right diagram type.\n\n**Diagram types:**\n| Type | Use When |\n|------|----------|\n| Flowchart | Sequential processes with decisions |\n| Architecture | System components and connections |\n| Sequence | Time-ordered interactions |\n| Network | Interconnected nodes |\n| Hierarchy | Parent-child relationships |\n| Venn | Overlapping categories |\n\n**Output:** Diagram type and layout direction.\n\n### Step 3: Apply Aesthetic\n\n**Goal:** Define visual style for clarity.\n\nRecommended for diagrams:\n- **Colors:** Limited palette (3-5 colors max)\n- **Style:** Flat, clean, no gradients\n- **Lines:** Consistent weight, clear arrows\n- **Shapes:** Simple geometric (rectangles, circles)\n- **Labels:** Sans-serif, high contrast\n\n**Color coding conventions:**\n- Blue: Primary components\n- Green: Success/positive flow\n- Red: Error/warning\n- Orange: External systems\n- Gray: Supporting elements\n\n**Output:** Color scheme and style notes.\n\n### Step 4: Construct Prompt\n\n**Goal:** Build the generation prompt.\n\n**Template:**\n```\nCreate a [diagram type] showing [system/process].\n\nComponents:\n- [Component 1]: [description]\n- [Component 2]: [description]\n- [Component 3]: [description]\n\nRelationships:\n- [Component 1] connects to [Component 2] via [connection type]\n- [Component 2] sends data to [Component 3]\n\nLayout: [direction - left-to-right, top-to-bottom, etc.]\n\nStyle: [aesthetic from Step 3]\n\nLabels to include:\n- [Label 1]\n- [Label 2]\n```\n\n**Output:** Complete prompt.\n\n### Step 5: Generate\n\n**Command:**\n```bash\nuv run scripts/generate.py \"[prompt]\" output.png [aspect_ratio] 2K\n```\n\n**Aspect ratio by diagram type:**\n- Flowcharts: 3:2 or 16:9 (horizontal flow)\n- Architecture: 4:3 or 1:1 (balanced)\n- Sequence: 2:3 (vertical flow)\n- Network: 1:1 (balanced)\n\n**Settings:**\n- Size: **2K minimum** for label clarity\n- Model: gemini-3-pro-image-preview\n\n### Step 6: Validate\n\n**Validation criteria:**\n\n| Criterion | Check |\n|-----------|-------|\n| Completeness | All components present |\n| Accuracy | Relationships correctly shown |\n| Readability | All labels legible |\n| Flow clarity | Direction is obvious |\n| Consistency | Shapes/colors used consistently |\n| Simplicity | No unnecessary elements |\n\n**If validation fails:**\n- Identify missing or incorrect elements\n- Adjust prompt\n- Regenerate (max 3 iterations)\n\n## Example Workflow\n\n**Request:** Create a diagram showing a CI/CD pipeline.\n\n### Step 1: Extract Narrative\n\"CI/CD pipeline with: code commit, build, test, deploy to staging, deploy to production. Shows automated flow with manual approval gates.\"\n\nComponents:\n- Git repository\n- Build server\n- Test suite\n- Staging environment\n- Production environment\n- Approval gates\n\n### Step 2: Visual Concept\nFlowchart, left-to-right horizontal flow. Linear pipeline with branching for approval.\n\n### Step 3: Aesthetic\n- Blue: Pipeline stages\n- Green: Success indicators\n- Orange: Approval gates\n- Gray: Arrows/connectors\n- Style: Flat rectangles with rounded corners, clear directional arrows\n\n### Step 4: Prompt\n```\nCreate a flowchart showing a CI/CD pipeline.\n\nComponents:\n- Git Repository: Code source\n- Build Server: Compiles code\n- Test Suite: Runs automated tests\n- Staging: Pre-production environment\n- Production: Live environment\n- Approval Gate: Manual review step\n\nFlow:\n- Git Repository -> Build Server -> Test Suite -> Staging -> Approval Gate -> Production\n\nLayout: Horizontal left-to-right flow\n\nStyle: Flat design with rounded rectangles. Blue for pipeline stages, green checkmarks for success, orange for approval gate, gray arrows between stages.\n\nLabels: \"Code\", \"Build\", \"Test\", \"Stage\", \"Approve\", \"Deploy\"\n```\n\n### Step 5: Generate\n```bash\nuv run scripts/generate.py \"Create a flowchart showing a CI/CD pipeline...\" cicd.png 16:9 2K\n```\n\n### Step 6: Validate\n- All 6 stages present\n- Flow direction clear\n- Labels readable\n- Approval gate distinguished\n\n## Tips for Better Results\n\n1. **Keep it simple** - Fewer components = clearer diagram\n2. **Be explicit about connections** - State what connects to what\n3. **Specify layout direction** - Avoid ambiguous layouts\n4. **Use consistent terminology** - Same names throughout prompt\n5. **Include all labels** - List exact text for each component\n\n## Common Issues\n\n| Issue | Solution |\n|-------|----------|\n| Missing components | List every component explicitly |\n| Unclear flow | State direction and connections |\n| Overlapping elements | Reduce components or use larger aspect ratio |\n| Inconsistent styling | Be more explicit about shapes/colors |\n| Wrong diagram type | Reconsider which type fits best |\n\n## Alternative: Mermaid Diagrams\n\nFor simple diagrams, consider generating Mermaid code instead:\n- More precise control\n- Version-controllable\n- Easily editable\n\nUse image generation for:\n- Visual appeal matters\n- Marketing/presentation use\n- Complex custom styling\n",
        "skills/image-gen/workflows/infographic.md": "# Infographic Workflow\n\nCreate data visualizations, explainers, and statistical infographics using the 6-step editorial process.\n\n## When to Use\n\n- Explaining concepts or processes\n- Visualizing data or statistics\n- Creating how-to guides\n- Summarizing reports or research\n- Making comparisons\n\n## 6-Step Process\n\n### Step 1: Extract Narrative\n\n**Goal:** Understand the complete story being told.\n\nQuestions to answer:\n- What is the main concept or data being explained?\n- What is the key insight or takeaway?\n- Who is the target audience?\n- What action should viewers take?\n\n**Output:** 2-3 sentence summary of the narrative.\n\n### Step 2: Derive Visual Concept\n\n**Goal:** Translate narrative into a single visual metaphor.\n\nGuidelines:\n- Choose 2-3 physical objects that represent the concept\n- Prefer familiar, universal metaphors\n- Avoid abstract shapes without meaning\n- Consider spatial relationships (hierarchy, flow, comparison)\n\n**Examples:**\n- Data growth â†’ Plant/tree growing\n- Security â†’ Shield/lock\n- Process â†’ Pipeline/conveyor belt\n- Comparison â†’ Balance scale\n\n**Output:** Visual metaphor description.\n\n### Step 3: Apply Aesthetic\n\n**Goal:** Define the visual style.\n\nRecommended for infographics:\n- **Colors:** Muted palette with 1-2 accent colors\n- **Style:** Flat design, clean lines\n- **Typography:** Sans-serif, clear hierarchy\n- **Layout:** Clear sections, visual flow\n- **Icons:** Simple, consistent style\n\n**Output:** Style description (2-3 sentences).\n\n### Step 4: Construct Prompt\n\n**Goal:** Build the generation prompt.\n\n**Template:**\n```\nCreate an infographic explaining [topic].\n\nVisual concept: [metaphor from Step 2]\n\nKey elements:\n- [Main data point or concept]\n- [Supporting element 1]\n- [Supporting element 2]\n\nStyle: [aesthetic from Step 3]\n\nLayout: [horizontal/vertical], [sections description]\n\nText to include:\n- Title: \"[title]\"\n- Key stat: \"[number or fact]\"\n- [Other text elements]\n```\n\n**Output:** Complete prompt.\n\n### Step 5: Generate\n\n**Command:**\n```bash\nuv run scripts/generate.py \"[prompt]\" output.png 16:9 2K\n```\n\n**Settings for infographics:**\n- Aspect ratio: **16:9** (landscape) - best for infographics\n- Size: **2K minimum** - ensures text readability\n- Model: gemini-3-pro-image-preview (Nano Banana Pro)\n\n### Step 6: Validate\n\n**Validation criteria:**\n\n| Criterion | Check |\n|-----------|-------|\n| Text legibility | All text is readable at 100% zoom |\n| Data accuracy | Numbers/facts are displayed correctly |\n| Visual hierarchy | Eye naturally flows through content |\n| Color contrast | Sufficient contrast for accessibility |\n| Completeness | All key elements are present |\n| Brand alignment | Matches intended style |\n\n**If validation fails:**\n- Identify specific issues\n- Modify prompt to address them\n- Regenerate\n- Maximum 3 iterations\n\n## Example Workflow\n\n**Request:** Create an infographic about how neural networks learn.\n\n### Step 1: Extract Narrative\n\"Neural networks learn by adjusting connection weights through forward propagation and backpropagation. Key insight: the process is iterative and improves over time. Audience: Technical beginners.\"\n\n### Step 2: Visual Concept\n\"A network of interconnected nodes with signals flowing through, showing adjustment dials on connections. Like a city's road network with traffic lights being adjusted.\"\n\n### Step 3: Aesthetic\n\"Flat design with dark blue background, bright connection lines in cyan and orange. Minimal, clean style with clear node shapes.\"\n\n### Step 4: Prompt\n```\nCreate an infographic explaining how neural networks learn.\n\nVisual concept: Network of connected nodes with adjustment dials on connections, signals flowing through like traffic.\n\nKey elements:\n- Input layer with data entering\n- Hidden layers with connection weights\n- Output layer with result\n- Feedback loop showing backpropagation\n\nStyle: Dark blue background, cyan and orange accents, flat design, clean minimalist style.\n\nLayout: Horizontal flow from left (input) to right (output), with backpropagation arrow below.\n\nText to include:\n- Title: \"How Neural Networks Learn\"\n- Labels: \"Input\", \"Hidden Layers\", \"Output\", \"Backpropagation\"\n```\n\n### Step 5: Generate\n```bash\nuv run scripts/generate.py \"Create an infographic explaining how neural networks learn...\" neural_network.png 16:9 2K\n```\n\n### Step 6: Validate\n- Text readable\n- Flow is clear left-to-right\n- Colors have good contrast\n- All labels present\n\n## Tips for Better Results\n\n1. **Simple prompts often work best** - \"Infographic explaining X\" can produce excellent results\n2. **Model understands context** - It will add relevant icons/imagery automatically\n3. **Be specific about text** - Include exact wording for titles and labels\n4. **Iterate with conversation** - Ask for specific changes after initial generation\n5. **Use reference images** - For style consistency across multiple infographics\n\n## Common Issues\n\n| Issue | Solution |\n|-------|----------|\n| Text too small | Increase size to 4K or reduce text amount |\n| Cluttered layout | Simplify to fewer elements |\n| Wrong style | Be more explicit about aesthetic |\n| Missing elements | List all required elements explicitly |\n",
        "skills/knowledge-manager/SKILL.md": "---\nname: knowledge-manager\ndescription: Manages user preferences and learned knowledge with confidence scoring\ntriggers:\n  - \"what do you know\"\n  - \"my preferences\"\n  - \"show preferences\"\n  - \"show my identity\"\n  - \"who am i\"\n  - \"remember that\"\n  - \"learn that\"\n  - \"forget that\"\n  - \"what have you learned\"\n  - \"check benefits\"\n  - \"credit card status\"\n  - \"expiring benefits\"\n  - \"card balances\"\n  - \"review identity\"\n  - \"quarterly review\"\nallowed-tools: Read, Write, Bash\nversion: 0.2.0\n---\n\n# Knowledge Manager Skill\n\nYou are Geoffrey's knowledge management system. Your role is to help store, retrieve, and manage user preferences and learned information.\n\n## Your Capabilities\n\n- **Store Preferences**: Save user preferences to the knowledge base\n- **Retrieve Preferences**: Read and display stored preferences\n- **Show Identity**: Display core identity (strengths, values, personality, mission)\n- **Check Review Status**: Determine if quarterly identity review is due\n- **Update Confidence**: Track how certain we are about each preference\n- **Validate Data**: Ensure data is properly formatted before storage\n- **Learn from Context**: Extract preferences from natural conversation\n\n## Knowledge Storage Location\n\nAll knowledge is stored in:\n```\n~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge/\nâ”œâ”€â”€ preferences.json              # Behavioral preferences with confidence scores\nâ”œâ”€â”€ identity-core.json            # Core identity: strengths, values, personality (Tier 1)\nâ”œâ”€â”€ personality-assessments/      # Detailed CliftonStrengths, Colors, Enneagram\nâ”‚   â”œâ”€â”€ clifton-strengths.json\nâ”‚   â”œâ”€â”€ colors-profile.json\nâ”‚   â””â”€â”€ enneagram-profile.json\nâ”œâ”€â”€ memory.jsonl                  # Conversation history (future)\nâ””â”€â”€ patterns.json                 # Detected patterns (future)\n```\n\n**Obsidian Identity Documents:**\n```\nGeoffrey/Identity/\nâ”œâ”€â”€ Personal-Constitution.md      # Philosophy, values, principles\nâ”œâ”€â”€ Personality-Profiles.md       # All assessments consolidated\nâ””â”€â”€ Identity-Evolution-Log.md     # Quarterly reviews and evolution tracking\n```\n\n## Preference Structure\n\nEach preference includes:\n- **Category**: Domain (travel, work, communication, etc.)\n- **Key**: Specific preference name\n- **Value**: The actual preference value\n- **Confidence**: 0.0-1.0 score\n  - 1.0 = Explicitly stated by user\n  - 0.8-0.9 = Strong pattern (5+ observations)\n  - 0.6-0.7 = Moderate pattern (3-4 observations)\n  - 0.4-0.5 = Weak pattern (1-2 observations)\n  - <0.4 = Insufficient data\n- **Learned From**: Array of sources (explicit, conversation, pattern)\n- **Last Updated**: Timestamp\n\n## How to Store a Preference\n\nWhen the user teaches you something:\n\n1. **Read current preferences**:\n   ```bash\n   cat ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge/preferences.json\n   ```\n\n2. **Parse and validate** the user's statement\n\n3. **Update the JSON** with new preference:\n   - Add to appropriate category\n   - Set confidence based on how it was learned\n   - Record the source\n   - Update timestamp\n\n4. **Write back** to the file\n\n5. **Confirm** to the user what was learned\n\n## Example Interactions\n\n### User teaches explicitly:\n```\nUser: \"I always prefer Marriott hotels. I'm Platinum Elite.\"\n\nResponse:\n\"I've learned your hotel preferences:\n- Primary chain: Marriott\n- Loyalty tier: Platinum Elite\n- Confidence: 1.0 (explicitly stated)\n\nStored in knowledge base. I'll use this for all future travel planning.\"\n```\n\n### User asks about preferences:\n```\nUser: \"What do you know about my travel preferences?\"\n\nResponse:\n\"Your travel preferences:\n\nHotels:\n- Primary chain: Marriott\n- Tier: Platinum Elite\n- Room preferences: High floor, away from elevator\n- Confidence: 1.0\n\nAirlines:\n- Primary: Alaska Airlines\n- Seat preference: Aisle\n- Confidence: 0.8 (observed pattern from 5 bookings)\n\nYou can update these anytime by telling me or using /preferences\"\n```\n\n## When to Activate\n\nUse this skill when:\n- User explicitly teaches you something (\"I prefer...\", \"Always...\", \"Never...\")\n- User asks about their preferences (\"What do you know about...\", \"Show my preferences\")\n- User asks about their identity (\"Show my identity\", \"Who am I\", \"What are my strengths\")\n- User wants to check if review is due (\"Review identity\", \"Quarterly review\")\n- User wants to update or delete knowledge\n- User asks \"What have you learned about me?\"\n- User triggers credit card benefits check\n\n## Identity Context (Always Load for Identity Queries)\n\nWhen user asks about identity (\"show my identity\", \"who am i\"), load core identity:\n\n```bash\ncat ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge/identity-core.json\n```\n\n**Display format for \"show my identity\":**\n\n```markdown\n## Core Identity Summary\n\n**Strengths:** [clifton_top_3]\n**Personality:** [colors_profile descriptor] â€¢ [enneagram full_designation]\n**Decision Style:** [decision_framework summary]\n**Communication:** [communication_preferences style]\n\n**Core Mission:** [telos_summary core_mission]\n\n**Top 3 Values:**\n1. [value 1]\n2. [value 2]\n3. [value 3]\n\n**Growth Edge:** [challenges and blind spots]\n\n**Next Review:** [next_review date] (quarterly)\n\n*Full details: identity-core.json (v[version]), Personal-Constitution.md, Personality-Profiles.md*\n```\n\n## Quarterly Review Check\n\nWhen user asks \"review identity\" or \"quarterly review\", run check script:\n\n```bash\nbun ~/non-ic-code/geoffrey/skills/knowledge-manager/scripts/check-review-due.js\n```\n\n**If review is due:**\n- Prompt user to run the review process\n- Reference Identity-Evolution-Log.md for review workflow\n- Offer to open the log in Obsidian\n\n**If not due yet:**\n- Show days until next review\n- Optionally summarize what will be reviewed\n\n## Important Guidelines\n\n- **Always confirm** before storing new preferences\n- **Never overwrite** high-confidence data with low-confidence data\n- **Ask for clarification** if uncertain\n- **Respect privacy**: Never share preferences outside this system\n- **Be transparent**: Always explain what was learned and why\n\n## Data Validation\n\nBefore storing, verify:\n- âœ… Category is appropriate (travel, work, communication, personal)\n- âœ… Value is valid for the key type\n- âœ… Confidence score is 0.0-1.0\n- âœ… Timestamp is ISO-8601 format\n- âœ… JSON is valid and well-formatted\n\n## Error Handling\n\nIf the knowledge file doesn't exist:\n- Create it with default structure\n- Initialize version 1.0\n- Add first preference\n\nIf JSON is malformed:\n- Report the error to user\n- Don't overwrite the file\n- Ask user to check file manually\n\n## Credit Card Benefits Tracking\n\n### Overview\nTrack credit card balances, expiring benefits, and annual credits across multiple accounts for both Hagel and Carrie.\n\n### Storage Location\n```\n~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge/credit-card-status.json\n```\n\n### Accounts to Track\n\n**Hagel:**\n- Chase Sapphire Reserve (...2502)\n- Marriott Bonvoy Amex (3 cards: ...81004, ...43001, ...61000)\n- Alaska/Atmos Rewards\n\n**Carrie:**\n- Alaska/Atmos account\n- Chase account(s)\n\n### Data Structure\n```json\n{\n  \"last_updated\": \"2025-11-22T20:00:00Z\",\n  \"accounts\": {\n    \"hagel\": {\n      \"chase\": {\n        \"ultimate_rewards_points\": 53254,\n        \"cards\": [{\n          \"name\": \"Sapphire Reserve\",\n          \"last_four\": \"2502\",\n          \"credits\": {\n            \"travel\": {\"total\": 300, \"used\": 0, \"resets\": \"anniversary\"},\n            \"doordash\": {\"total\": 50, \"used\": 0, \"expires\": \"2025-12-31\"},\n            \"instacart\": {\"total\": 15, \"used\": 0, \"expires\": \"2025-12-31\"},\n            \"lyft\": {\"total\": 0, \"used\": 0, \"expires\": \"2025-12-31\"}\n          }\n        }]\n      },\n      \"marriott\": {\n        \"points\": 215323,\n        \"status\": \"Titanium Elite\",\n        \"nights_this_year\": 92,\n        \"expiring_benefits\": [\n          {\"name\": \"Free Night Award (40k)\", \"expires\": \"2025-12-31\"},\n          {\"name\": \"Suite Night Award\", \"expires\": \"2025-12-31\"}\n        ]\n      },\n      \"alaska\": {\n        \"miles\": 469888,\n        \"status\": \"Atmos Platinum\",\n        \"companion_fare\": {\"available\": false, \"expires\": null}\n      }\n    },\n    \"carrie\": {\n      \"chase\": {},\n      \"alaska\": {}\n    }\n  },\n  \"alerts\": [\n    {\"account\": \"hagel.marriott\", \"item\": \"Free Night Award\", \"expires\": \"2025-12-31\", \"days_remaining\": 39}\n  ]\n}\n```\n\n### Check Benefits Workflow\n\nWhen user triggers \"check benefits\":\n\n1. **Use browser-control** to scrape each account:\n   - Chase: ultimaterewardspoints.chase.com + benefits page\n   - Marriott: marriott.com/loyalty/myAccount/activity.mi\n   - Alaska: alaskaair.com/account/wallet\n   - Amex: global.americanexpress.com/dashboard\n\n2. **Extract key data**:\n   - Point/mile balances\n   - Credit usage status\n   - Expiring benefits with dates\n   - Free night certificates\n\n3. **Save to status file** in iCloud\n\n4. **Generate alerts** for items expiring within 30 days\n\n5. **Report to user** with action items\n\n### Monthly Reminder\n\nA recurring OmniFocus task reminds Hagel to run the benefits check monthly. Task details:\n- Project: Personal\n- Due: 1st of each month\n- Tags: Organization\n- Note: \"Run 'check benefits' in Geoffrey to update credit card status\"\n\n## Future Enhancements\n\nIn later phases, this skill will:\n- Automatically extract preferences from conversations\n- Detect conflicting preferences\n- Suggest preference updates based on patterns\n- Track preference changes over time\n- Sync with conversation memory system\n- **Auto-alert on expiring benefits** via email or notification\n",
        "skills/legislative-tracker/SKILL.md": "---\nname: legislative-tracker\ndescription: >\n  Track Washington State K-12 education legislation using committee-based discovery\n  via SOAP API. Gets ALL bills from education committees - no keyword filtering\n  that might miss bills. Use when: checking legislature, tracking bills,\n  legislative updates, morning briefing legislative section.\ntriggers:\n  - legislative tracker\n  - leg tracker\n  - wa legislature\n  - check bills\n  - education legislation\n  - track bills\n  - legislative radar\nallowed-tools: Read, Bash, WebSearch, WebFetch, mcp__obsidian-vault__*\nversion: 0.2.0\n---\n\n# Legislative Tracker Skill\n\nTrack Washington State K-12 education legislation from leg.wa.gov using committee-based discovery. This approach queries committees directly via SOAP API to get ALL bills - not just keyword matches.\n\n## Why Committee-Based Discovery\n\n**Problem with keyword searching:** Bills with unexpected wording or indirect impacts get missed. A bill about \"unfunded mandates\" might never mention \"school\" but still affect districts.\n\n**Solution:** Query education committees directly. If a bill is in the House Education Committee or Senate Early Learning & K-12 Education Committee, it's education-related by definition.\n\n---\n\n## Discovery Strategy\n\n### Tier 1: Direct Education Bills (Comprehensive)\n\nQuery these committees to get **ALL** education bills:\n\n| Committee | Chamber | Query |\n|-----------|---------|-------|\n| Education | House | All bills - no filtering |\n| Early Learning & K-12 Education | Senate | All bills - no filtering |\n\n### Tier 2: Indirect Impact Bills (Candidates)\n\nQuery these committees and filter via WebFetch:\n\n| Committee | Chamber |\n|-----------|---------|\n| Appropriations | House |\n| Capital Budget | House |\n| Labor & Workplace Standards | House |\n| Ways & Means | Senate |\n| Labor & Commerce | Senate |\n| State Government, Tribal Affairs & Elections | Senate |\n\n**Workflow:** The SOAP API returns only bill IDs. Geoffrey must:\n1. Get all bill IDs from Tier 2 committees (~700 bills)\n2. WebFetch each bill's summary page to get the title/description\n3. Filter for education keywords in the description\n4. Add matching bills to the tracked list\n\n**Filter keywords:** school, student, teacher, education, k-12, district, ospi, classroom, principal, paraeducator, learning, instruction, curriculum, diploma, graduation, superintendent, levy, bond, capital, school construction\n\n### Tier 3: WebSearch Fallback\n\nIf SOAP API fails, use WebSearch:\n```\nsite:leg.wa.gov \"referred to Education\" 2025-26\nsite:leg.wa.gov \"Early Learning & K-12\" 2025-26\nsite:leg.wa.gov K-12 school district bill 2025\n```\n\n---\n\n## Workflow Phases\n\n### Phase 1: Committee Discovery (SOAP)\n\nRun the orchestrator script:\n\n```bash\nbun skills/legislative-tracker/scripts/get_bills.js\n```\n\nReturns two lists:\n- **confirmed_bills**: From Tier 1 education committees (definitely education-related)\n- **tier2_candidates**: From Tier 2 finance committees (need filtering)\n\n### Phase 2: WebFetch Confirmed Bills\n\nFor each bill in `confirmed_bills`:\n\n```\nURL: https://app.leg.wa.gov/billsummary?BillNumber={NUM}&Year=2025\n```\n\nExtract full details for analysis.\n\n### Phase 3: Filter Tier 2 Candidates\n\nFor each bill in `tier2_candidates`:\n\n1. WebFetch the bill summary page\n2. Check if title/description contains education keywords\n3. If relevant, add to tracked bills list\n\n**Education keywords:** school, student, teacher, education, k-12, district, ospi, classroom, principal, paraeducator, learning, instruction, curriculum, diploma, graduation, superintendent, levy, bond, capital\n\n### Phase 4: Analysis\n\nApply analysis framework to all tracked bills:\n- Assign priority level (HIGH/MEDIUM/LOW)\n- Categorize impact type (FISCAL/OPERATIONAL/WORKFORCE/GOVERNANCE)\n- Assess fiscal implications\n- Flag district legislator sponsorship\n\n### Phase 4: Output\n\nGenerate report in requested format and save to Obsidian:\n\n```\nPath: Work/PSD/Legislative/[YYYY-MM-DD].md\nTags: #legislation #psd #work\n```\n\n---\n\n## Script Usage\n\n### Main Orchestrator\n\n```bash\n# Full discovery (both tiers)\nbun skills/legislative-tracker/scripts/get_bills.js\n\n# Education committees only (Tier 1)\nbun skills/legislative-tracker/scripts/get_bills.js --tier 1\n\n# Finance committees only (Tier 2)\nbun skills/legislative-tracker/scripts/get_bills.js --tier 2\n\n# Briefing format for morning-briefing integration\nbun skills/legislative-tracker/scripts/get_bills.js --format briefing\n```\n\n### Committee Explorer\n\n```bash\n# List all active committees\nbun skills/legislative-tracker/scripts/get_committees.js\n\n# House committees only\nbun skills/legislative-tracker/scripts/get_committees.js --chamber house\n\n# Education committees only\nbun skills/legislative-tracker/scripts/get_committees.js --filter education\n```\n\n### Single Committee Query\n\n```bash\n# Get bills in a specific committee\nbun skills/legislative-tracker/scripts/get_committee_bills.js \\\n  --committee \"Education\" --agency House\n\n# Include referral history\nbun skills/legislative-tracker/scripts/get_committee_bills.js \\\n  --committee \"Education\" --agency House --referrals\n```\n\n### Single Bill Lookup\n\n```bash\n# Get WebFetch URL for a specific bill\nbun skills/legislative-tracker/scripts/get_bill_info.js HB 2551 --year 2025\nbun skills/legislative-tracker/scripts/get_bill_info.js \"SB 6247\" --year 2025\n```\n\n---\n\n## Analysis Framework\n\n### Priority Levels\n\n| Level | Symbol | Criteria |\n|-------|--------|----------|\n| HIGH | ðŸ”´ | Direct fiscal impact >$100K, immediate deadline (<7 days), new mandates affecting operations, sponsored by district legislator |\n| MEDIUM | ðŸŸ¡ | Moderate impact, compliance changes, deadline within 30 days |\n| LOW | ðŸŸ¢ | Minimal direct impact, monitoring only, distant timeline |\n\n### Impact Categories\n\n| Category | Keywords | Description |\n|----------|----------|-------------|\n| FISCAL | levy, bond, funding, appropriation | Funding formulas, levies, bonds, appropriations |\n| OPERATIONAL | procurement, transportation, facilities | Day-to-day operations, contracts, services |\n| WORKFORCE | staff, salary, certification, benefits | Staffing, compensation, certification requirements |\n| GOVERNANCE | reporting, accountability, board | Compliance, reporting, board authority |\n\n### Fiscal Impact Indicators\n\n| Indicator | Symbol | Meaning |\n|-----------|--------|---------|\n| COST INCREASE | â¬†ï¸ | Adds expense to district budget |\n| COST DECREASE | â¬‡ï¸ | Reduces costs or adds revenue |\n| RISK | âš ï¸ | Financial uncertainty or liability exposure |\n| NEUTRAL | âž¡ï¸ | No direct fiscal impact to district |\n\n---\n\n## Output Formats\n\n### Briefing JSON (for morning-briefing)\n\n```json\n{\n  \"summary\": {\n    \"total_bills\": 12,\n    \"new_this_period\": 3,\n    \"urgent\": 2,\n    \"by_priority\": { \"high\": 2, \"medium\": 5, \"low\": 5 }\n  },\n  \"priority_items\": [\n    {\n      \"bill\": \"HB 1234\",\n      \"title\": \"Concerning school construction funding\",\n      \"priority\": \"high\",\n      \"impact\": \"fiscal\",\n      \"fiscal_indicator\": \"cost_increase\",\n      \"next_action\": \"House vote 2026-01-30\",\n      \"summary\": \"Increases capital project funding requirements by 15%\"\n    }\n  ],\n  \"upcoming_deadlines\": [],\n  \"generated_at\": \"2026-01-27T08:00:00Z\"\n}\n```\n\n### Full Report Markdown\n\n```markdown\n# WA School Legislation Radar\nReport Date: 2026-01-27\nSession: 2025-26 Regular\nDiscovery: Committee-based (Tier 1 + Tier 2)\n\n## ðŸš¨ Priority Action Items\n\n### ðŸ”´ HIGH Priority\n\n#### HB 1234 - School Construction Funding\n- **Status:** Passed House, in Senate Education Committee\n- **Sponsors:** Rep. Smith (26th), Rep. Jones\n- **Impact:** FISCAL â¬†ï¸\n- **Summary:** Increases capital project funding requirements\n- **Next Action:** Senate hearing Feb 1\n\n## ðŸ“Š Legislative Dashboard\n\n### Discovery Summary\n| Source | Bills Found |\n|--------|-------------|\n| House Education | 15 |\n| Senate EL/K-12 | 12 |\n| Tier 2 (filtered) | 8 |\n| **Total Unique** | **28** |\n\n### By Priority\n| Priority | Count | Bills |\n|----------|-------|-------|\n| ðŸ”´ HIGH | 2 | HB 1234, SB 5678 |\n| ðŸŸ¡ MEDIUM | 5 | ... |\n| ðŸŸ¢ LOW | 5 | ... |\n\n## ðŸ“‹ All Tracked Bills\n\n[Per-bill details grouped by priority level]\n\n---\n*Generated by Geoffrey Legislative Tracker*\n*Discovery: Committee-based SOAP API*\n```\n\n---\n\n## Data Sources\n\n### SOAP API (Primary)\n\n**Endpoint:** `https://wslwebservices.leg.wa.gov/`\n\n| Service | Method | Purpose |\n|---------|--------|---------|\n| CommitteeService | GetActiveHouseCommittees | List House committee names |\n| CommitteeService | GetActiveSenateCommittees | List Senate committee names |\n| CommitteeActionService | GetInCommittee | Bills currently in committee |\n| CommitteeActionService | GetCommitteeReferralsByCommittee | All bills ever referred |\n\n**Parameters:**\n- `biennium`: \"2025-26\"\n- `agency`: \"House\" or \"Senate\"\n- `committeeName`: Exact name from GetActive*Committees\n\n### WebFetch (Bill Details)\n\n**URL Pattern:** `https://app.leg.wa.gov/billsummary?BillNumber={NUM}&Year=2025`\n\n---\n\n## District Configuration\n\nFrom `config/topics.yaml`:\n\n```yaml\ndistrict:\n  name: \"Peninsula School District\"\n  legislators:\n    - name: \"Sen. Emily Randall\"\n      district: 26\n      chamber: senate\n    - name: \"Rep. Spencer Hutchins\"\n      district: 26\n      chamber: house\n    - name: \"Rep. Adison Richards\"\n      district: 26\n      chamber: house\n```\n\nBills sponsored by district legislators get elevated priority consideration.\n\n---\n\n## Error Handling\n\n| Scenario | Response |\n|----------|----------|\n| SOAP timeout/error | Fall back to WebSearch (Tier 3) |\n| Committee not found | Check exact name via get_committees.js |\n| No bills in committee | Normal - committee may not have active bills |\n| Bill page unavailable | Skip bill, note in report |\n\n---\n\n## Session Scope\n\n- **Current biennium:** 2025-26\n- **Session types:** Regular, Special (1st, 2nd, 3rd)\n- **Year parameter for URLs:** 2025 (uses session start year)\n\n---\n\n## Related Skills\n\n- **morning-briefing:** Receives legislative JSON for audio summary\n- **obsidian-manager:** Stores full reports to vault\n- **omnifocus-manager:** (Optional) Could create tasks for urgent deadlines\n",
        "skills/local-tts/SKILL.md": "---\nname: local-tts\nversion: 1.0.0\ndescription: Local text-to-speech using MLX and Kokoro model\ntriggers:\n  - local-tts\n  - local tts\n  - generate audio locally\n  - kokoro tts\ndependencies:\n  - mlx-audio (via uv --with)\n  - pydub (via uv --with)\n---\n\n# Local TTS Skill\n\nGenerate high-quality speech audio locally using Apple Silicon MLX acceleration and the Kokoro-82M model. No API keys or recurring costs.\n\n## Quick Start\n\n```bash\n# Generate MP3 from text\nuv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n    --text \"Hello, this is a test.\" \\\n    --output ~/Desktop/test.mp3\n\n# Generate from file\nuv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n    --file /tmp/script.txt \\\n    --voice af_heart \\\n    --output ~/Desktop/podcast.mp3\n\n# List available voices\nuv run --with mlx-audio skills/local-tts/scripts/list_voices.py\n```\n\n## Parameters\n\n| Parameter | Required | Default | Description |\n|-----------|----------|---------|-------------|\n| `--text` | One of text/file | - | Text to convert |\n| `--file` | One of text/file | - | Path to text file |\n| `--voice` | No | `af_heart` | Voice preset |\n| `--output` | Yes | - | Output file path (.mp3, .wav) |\n| `--model` | No | `Kokoro-82M-bf16` | Model to use |\n| `--list-voices` | No | - | Show available voices |\n\n## Voice Presets\n\n### American English Female (prefix: af_)\n- `af_heart` - Warm, friendly **(default)**\n- `af_bella` - Soft, calm\n- `af_nova` - Clear, professional\n- `af_river` - Clear, confident\n- `af_sarah` - Soft, expressive\n\n### American English Male (prefix: am_)\n- `am_adam` - Clear, professional\n- `am_echo` - Deep, smooth\n- `am_liam` - Articulate, conversational\n- `am_michael` - Soft, measured\n\n### British English (prefix: bf_, bm_)\n- `bf_emma` - Clear, refined female\n- `bm_daniel` - Clear, professional male\n- `bm_george` - Distinguished male\n\nSee `references/voices.md` for full list.\n\n## Output Format\n\n```json\n{\n  \"success\": true,\n  \"file\": \"/Users/hagelk/Desktop/podcast.mp3\",\n  \"voice\": \"af_heart\",\n  \"model\": \"Kokoro-82M-bf16\",\n  \"characters\": 9824,\n  \"chunks\": 20,\n  \"duration_seconds\": 612.5,\n  \"generation_time\": 45.2\n}\n```\n\n## Performance\n\n| Hardware | Speed | Notes |\n|----------|-------|-------|\n| M3 Pro 36GB | ~3-4x realtime | First run slower (model loading) |\n| M1/M2 Mac Mini 8GB | ~1.5x realtime | Works well for briefings |\n| M1/M2 Mac Mini 16GB | ~2x realtime | Comfortable headroom |\n\n## Technical Details\n\n- **Model**: Kokoro-82M-bf16 (~200MB download on first run)\n- **Sample rate**: 24kHz mono\n- **Chunking**: Text split at ~400 chars per chunk for quality\n- **Concatenation**: Chunks joined seamlessly via pydub\n- **Formats**: MP3, WAV, M4A, OGG\n\n## Important Notes\n\n1. **MUST use `--with` flags** - Do not use PEP 723 inline deps. mlx-audio requires uv's cached environment.\n\n2. **First run is slower** - Model downloads ~200MB and espeak dependencies initialize.\n\n3. **Model cached at**: `~/.cache/huggingface/hub/models--mlx-community--Kokoro-82M-bf16/`\n\n## Integration with Morning Briefing\n\nThe morning-briefing skill uses this for podcast generation:\n\n```bash\nuv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n    --file /tmp/morning_briefing_podcast.txt \\\n    --voice af_heart \\\n    --output ~/Desktop/morning_briefing.mp3\n```\n",
        "skills/local-tts/docs/setup.md": "# Local TTS Setup Guide\n\n## Quick Start (Any Mac with Apple Silicon)\n\n1. **Ensure uv is installed**\n   ```bash\n   # Check if installed\n   uv --version\n\n   # Install if needed\n   curl -LsSf https://astral.sh/uv/install.sh | sh\n   ```\n\n2. **Test generation**\n   ```bash\n   uv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n       --text \"Hello, this is a test.\" \\\n       --output ~/Desktop/test.mp3\n   ```\n\n3. **Play the audio**\n   ```bash\n   afplay ~/Desktop/test.mp3\n   ```\n\n## First Run (Model Download)\n\nOn first run, the following are downloaded automatically:\n\n| Component | Size | Location |\n|-----------|------|----------|\n| Kokoro-82M model | ~200MB | `~/.cache/huggingface/hub/` |\n| spaCy en_core_web_sm | ~13MB | uv cache |\n| espeak-ng data | ~10MB | uv cache |\n\nTotal: ~225MB on first run, cached for subsequent runs.\n\n## Hardware Requirements\n\n| Mac | RAM | Performance | Notes |\n|-----|-----|-------------|-------|\n| M1/M2 Mac Mini (8GB) | OK | ~1.5x realtime | Sufficient for briefings |\n| M1/M2 Mac Mini (16GB) | Good | ~2x realtime | Comfortable headroom |\n| M3/M4 MacBook Pro (18GB+) | Excellent | ~3-4x realtime | Fast generation |\n| M3/M4 Pro/Max (36GB+) | Excellent | ~4x+ realtime | Very fast |\n\n**Realtime factor**: 2x means 10 minutes of audio generates in 5 minutes.\n\n## Troubleshooting\n\n### \"No module named pip\" warning\nThis is harmless - mlx-audio tries to use pip for optional deps but uv handles everything.\n\n### Model download fails\n```bash\n# Clear and retry\nrm -rf ~/.cache/huggingface/hub/models--mlx-community--Kokoro-82M-bf16\nuv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n    --text \"test\" --output /tmp/test.mp3\n```\n\n### pydub SyntaxWarning\n```\nSyntaxWarning: invalid escape sequence '\\('\n```\nThis is a pydub bug with Python 3.13+. Harmless, audio still generates correctly.\n\n### Audio sounds choppy\n- Increase chunk size in script (default 400 chars)\n- Longer chunks = smoother but may hit model limits\n\n### MP3 not generating (only WAV works)\nEnsure ffmpeg is installed:\n```bash\nbrew install ffmpeg\n```\n\n### Out of memory on 8GB Mac\n- Close other applications\n- Kokoro-82M uses ~0.8GB peak\n- Should work on 8GB with headroom\n\n## Mac Mini Setup (Home Automation)\n\nFor dedicated Mac Minis running morning briefings:\n\n1. **Initial setup** (one time):\n   ```bash\n   # Install uv\n   curl -LsSf https://astral.sh/uv/install.sh | sh\n\n   # Prime the cache by running once\n   uv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n       --text \"Hello, this is a setup test.\" \\\n       --output /tmp/setup_test.mp3\n   ```\n\n2. **Verify cache populated**:\n   ```bash\n   ls ~/.cache/huggingface/hub/models--mlx-community--Kokoro-82M-bf16\n   ```\n\n3. **Add to cron/launchd as needed**\n\n## Updating\n\nTo get newer models or library updates:\n```bash\n# Clear uv cache for mlx-audio\nuv cache clean mlx-audio\n\n# Run again to download fresh\nuv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n    --text \"test\" --output /tmp/test.mp3\n```\n\n## Alternative Models\n\nKokoro-82M is default. Other options in mlx-community:\n\n| Model | Size | Speed | Quality | Use Case |\n|-------|------|-------|---------|----------|\n| Kokoro-82M-bf16 | 82M | Fastest | High | **Default - briefings** |\n| Chatterbox | 350M | Fast | Highest | Emotion tags, cloning |\n| Dia | 1.6B | Medium | Very High | Premium quality |\n\nTo use a different model:\n```bash\nuv run --with mlx-audio --with pydub skills/local-tts/scripts/generate_audio.py \\\n    --model mlx-community/Chatterbox-bf16 \\\n    --text \"Hello\" --output ~/test.mp3\n```\n",
        "skills/local-tts/references/voices.md": "# Kokoro Voice Reference\n\n## Voice Naming Convention\n\nFormat: `{accent}{gender}_{name}`\n\n- **Accent**: `a` = American, `b` = British\n- **Gender**: `f` = female, `m` = male\n\n## American English Female (af_)\n\n| Voice | Style | Best For |\n|-------|-------|----------|\n| `af_heart` | Warm, friendly | **Morning briefings (default)** |\n| `af_bella` | Soft, calm | Meditation, relaxation |\n| `af_nicole` | Soft, hesitant | Conversational, casual |\n| `af_nova` | Clear, professional | News, business content |\n| `af_river` | Clear, confident | Instructions, how-to |\n| `af_sarah` | Soft, expressive | Storytelling, narrative |\n| `af_sky` | Youthful, energetic | Casual, upbeat content |\n\n## American English Male (am_)\n\n| Voice | Style | Best For |\n|-------|-------|----------|\n| `am_adam` | Clear, professional | Formal presentations |\n| `am_echo` | Deep, smooth | Narration, documentaries |\n| `am_eric` | Deep, measured | Serious content |\n| `am_liam` | Articulate, conversational | Podcasts, casual |\n| `am_michael` | Soft, measured | Calm delivery |\n| `am_onyx` | Deep, resonant | Dramatic, impactful |\n\n## British English Female (bf_)\n\n| Voice | Style | Best For |\n|-------|-------|----------|\n| `bf_emma` | Clear, refined | Professional UK content |\n| `bf_isabella` | Refined, elegant | Formal, upscale |\n| `bf_lily` | Soft, gentle | Calming content |\n\n## British English Male (bm_)\n\n| Voice | Style | Best For |\n|-------|-------|----------|\n| `bm_daniel` | Clear, professional | UK business content |\n| `bm_fable` | Narrative, storytelling | Audiobooks, stories |\n| `bm_george` | Distinguished | Formal, authoritative |\n| `bm_lewis` | Warm, friendly | Casual UK content |\n\n## Recommendations by Use Case\n\n| Use Case | Recommended Voice | Why |\n|----------|-------------------|-----|\n| Morning briefings | `af_heart` | Warm, engaging, easy to listen to |\n| News summaries | `af_nova` or `am_adam` | Clear, professional |\n| Audiobooks | `bm_fable` or `af_sarah` | Narrative style |\n| Instructions | `af_river` or `bf_emma` | Clear articulation |\n| Meditation | `af_bella` or `bf_lily` | Soft, calming |\n| Podcasts | `am_liam` or `af_heart` | Conversational |\n\n## Language Codes\n\nWhen using the API directly:\n- `a` = American English (use with af_*, am_* voices)\n- `b` = British English (use with bf_*, bm_* voices)\n\nThe generate_audio.py script auto-detects from voice prefix.\n\n## Additional Languages (Kokoro supports)\n\nKokoro also has voices for:\n- Japanese (ja)\n- Mandarin Chinese (zh)\n- French (fr)\n- Spanish (es)\n- Italian (it)\n- Portuguese (pt)\n- Hindi (hi)\n\nThese use different voice IDs. See mlx-audio documentation for full list.\n",
        "skills/morning-briefing/SKILL.md": "---\nname: morning-briefing\ndescription: Generate comprehensive morning briefing with calendar, tasks, tickets, news, and weather. Saves to Obsidian, sends email with audio podcast attached.\ntriggers:\n  - \"morning briefing\"\n  - \"daily briefing\"\n  - \"start my day\"\n  - \"what's on today\"\ndisable-model-invocation: true\nallowed-tools: Read, Write, Bash, WebSearch, WebFetch, mcp__obsidian-vault__*\nversion: 1.4.0\n---\n\n# Morning Briefing Workflow\n\n## Overview\n\nGenerates a daily morning briefing and delivers it three ways:\n1. **Terminal**: Summary displayed immediately\n2. **Obsidian**: Full briefing saved to daily note\n3. **Email**: Briefing text + audio podcast attachment\n\n## Location\n\n- **Gig Harbor, WA** - Use for weather queries\n\n## Phase 1: Gather Data\n\nExecute these data gathering steps:\n\n### 1.1 Calendar (Today's Events)\n\n```bash\ncd /Users/hagelk/non-ic-code/geoffrey/skills/google-workspace && bun calendar/list_events.js psd --today\n```\n\nReturns JSON with today's events including:\n- Event summary, location, start/end times\n- Attendees and response status\n- Hangout/meet links\n\n**Account**: Use `psd` for work calendar\n\n### 1.2 OmniFocus Tasks (Due & Flagged)\n\n```bash\nosascript -l JavaScript /Users/hagelk/non-ic-code/geoffrey/skills/morning-briefing/scripts/get_due_flagged.js\n```\n\nReturns tasks that are:\n- Due today or overdue\n- Flagged\n- Available (not blocked, not deferred to future)\n\n### 1.3 Recent Emails (Last 24 Hours)\n\n```bash\n# Get yesterday's date in Gmail query format\nYESTERDAY=$(date -v-1d +%Y/%m/%d)\ncd /Users/hagelk/non-ic-code/geoffrey/skills/google-workspace && bun gmail/list_messages.js psd --query \"in:inbox after:$YESTERDAY\" --max 15\n```\n\nReturns recent inbox messages with:\n- From, subject, date, snippet\n- Whether read or unread\n- Thread ID for context\n- Labels array\n\n**Filtering**: Only show emails still in inbox (not already labeled/processed).\n- Emails with custom labels (Label_XXXXX) have been sorted and should be excluded\n- Exception: Include emails with SaneCC or SaneLater labels (worth knowing about)\n- System labels (UNREAD, INBOX, CATEGORY_*, IMPORTANT) don't count as \"processed\"\n\n**Philosophy**: Any email still in inbox from last 24 hours needs attention, read or not.\n\n**Account**: Use `psd` for work email\n\n### 1.4 Open Freshservice Tickets\n\n```bash\nbun /Users/hagelk/non-ic-code/geoffrey/skills/freshservice-manager/scripts/list_tickets.js '{\"workspace_id\": 2, \"filter\": \"new_and_my_open\"}'\n```\n\nReturns open tickets assigned to or created by user in Technology workspace.\n\n### 1.5 Pending Approvals\n\n```bash\nbun /Users/hagelk/non-ic-code/geoffrey/skills/freshservice-manager/scripts/get_approvals.js requested\n```\n\nReturns service requests awaiting approval.\n\n### 1.6 Weather\n\nUse WebSearch:\n```\nGig Harbor WA weather today forecast\n```\n\nExtract:\n- Current conditions\n- High/low temperature\n- Precipitation chance\n- Any alerts\n\n### 1.7 EdTech News (with Synopses)\n\nUse WebSearch:\n```\nK-12 education technology news past 24 hours January 2026\n```\n\nFor each article found (3-5 articles):\n1. Use WebFetch to read the full article\n2. Extract a 2-3 sentence synopsis covering:\n   - What happened / what's new\n   - Why it matters for K-12 education\n   - Key takeaway or action item\n\n**Freshness check**: Verify article dates before including. Only include articles published within the last 24 hours. Skip older articles even if they appear in results.\n\n**Topics to cover:**\n- EdTech product launches and updates\n- School technology policy changes\n- Cybersecurity in schools\n- Digital learning trends\n\n### 1.8 AI News (with Synopses)\n\nUse WebSearch:\n```\nartificial intelligence news past 24 hours January 2026 latest\n```\n\nFor each article found (3-5 articles):\n1. Use WebFetch to read the full article\n2. Extract a 2-3 sentence synopsis covering:\n   - What's the development\n   - Industry impact\n   - Relevance to education/work\n\n**Freshness check**: Verify article dates before including. Only include articles published within the last 24 hours. Skip older articles even if they appear in results.\n\n**Topics to cover:**\n- Major AI model releases and capabilities\n- AI policy and regulation\n- Enterprise AI adoption\n- AI research breakthroughs\n\n### 1.9 K-12 Leadership News (with Synopses)\n\nUse WebSearch:\n```\nK-12 school leadership superintendent news past 24 hours January 2026\n```\n\nFor each article found (2-3 articles):\n1. Use WebFetch to read the full article\n2. Extract a 2-3 sentence synopsis covering:\n   - Policy or leadership development\n   - Impact on districts/schools\n   - Relevance to CIO/technology leadership\n\n**Freshness check**: Verify article dates before including. Only include articles published within the last 24 hours. Skip older articles even if they appear in results.\n\n**Topics to cover:**\n- State and federal education policy\n- Superintendent and board news\n- School funding and budgets\n- Workforce and staffing trends\n\n### 1.9b School Safety & Security News (with Synopses)\n\nUse WebSearch:\n```\nK-12 school safety security news past 24 hours January 2026\n```\n\nFor each article found (3 articles):\n1. Use WebFetch to read the full article\n2. Extract a 2-3 sentence synopsis covering:\n   - What happened / what's new\n   - Impact on school safety practices\n   - Key takeaway for districts\n\n**Freshness check**: Verify article dates before including. Only include articles published within the last 24 hours. Skip older articles even if they appear in results.\n\n**Topics to cover:**\n- School security incidents and responses\n- Safety policy changes\n- Emergency preparedness\n- Mental health and threat assessment\n- Physical security technology\n\n### 1.10 Technology Team EOD Messages (Last Business Day) - DETAILED\n\nGet end-of-day check-in messages from the Technology Staff space:\n\n```bash\ncd /Users/hagelk/non-ic-code/geoffrey/skills/google-workspace && bun chat/get_eod_messages.js psd spaces/AAAAxOtpv10 last-business-day\n```\n\n**CRITICAL - NO HALLUCINATION:**\n- ONLY use names that appear in the `sender` field of the script output\n- If script returns no messages, say \"No EOD messages found\"\n- If script returns messages with sender IDs instead of names, display the ID (e.g., \"users/12345...\")\n- NEVER invent names, locations, or accomplishments\n- Copy-paste approach: treat script output as source of truth\n\n**Before extracting team data:**\n1. Examine the raw JSON output from the script\n2. List the exact `sender` values returned\n3. Use ONLY those names - no paraphrasing, no \"improving\"\n\n**CRITICAL**: Extract FULL details from each team member's EOD message. Look for messages that contain \"Today:\" prefix - these are the detailed EOD summaries.\n\nFor each team member who posted an EOD summary:\n1. **Name**: Who posted (use EXACTLY the name from `sender` field)\n2. **Location(s)**: Where they worked (WFH, DCRC, school sites)\n3. **Key accomplishments**: Specific tasks completed (not just \"tickets\")\n4. **Notable items**: Interesting problems solved, projects worked on\n5. **Issues/blockers**: Any problems mentioned\n\n**Example extraction from raw message:**\n```\nBrad White:\n- Location: TSD (Tech Services)\n- Accomplished: Packaged Cinema 4D plugin for deployment, fixed OAuth blocking for Maxon App sign-in, created SwiftDialog notification for plugin installs, used Claude Code for first time to create Installomator label for Godot game engine\n- Notable: Working on Unity deployment troubleshooting, burning comp time leaving early\n```\n\n**Note**: If today is Monday, \"last business day\" = Friday (or Thursday if Friday was a holiday).\n\n### 1.10b Safety & Security Team EOD Messages (Last Business Day)\n\nGet end-of-day check-in messages from the Safety & Security Staff space:\n\n```bash\ncd /Users/hagelk/non-ic-code/geoffrey/skills/google-workspace && bun chat/get_eod_messages.js psd spaces/AAAAFpQaAnA last-business-day\n```\n\n**Space**: PSD Safety & Security Team\n\n**CRITICAL - NO HALLUCINATION:**\n- ONLY use names that appear in the `sender` field of the script output\n- If script returns no messages, say \"No EOD messages found\"\n- If script returns messages with sender IDs (e.g., \"users/12345...\") instead of names:\n  - Display as: **Unknown (users/123456...)** - [Location from message content]\n  - Add note: \"Name not in mapping - update chat_user_mapping.json\"\n- NEVER invent names, locations, or accomplishments\n- Copy-paste approach: treat script output as source of truth\n\n**Before extracting team data:**\n1. Examine the raw JSON output from the script\n2. List the exact `sender` values returned\n3. Use ONLY those names - no paraphrasing, no \"improving\"\n\nExtract using same format as Technology Team - names, locations, accomplishments, issues.\n\n**Note**: If today is Monday, \"last business day\" = Friday (or Thursday if Friday was a holiday).\n\n### 1.11 Team Completed Tickets (Last Business Day)\n\nGet tickets closed by the Technology team on the last business day:\n\n```bash\n# First get the last business day\nLAST_BIZ_DAY=$(bun /Users/hagelk/non-ic-code/geoffrey/skills/morning-briefing/scripts/get_last_business_day.js | jq -r '.date')\n\n# Then get daily summary for that date\nbun /Users/hagelk/non-ic-code/geoffrey/skills/freshservice-manager/scripts/get_daily_summary.js \"$LAST_BIZ_DAY\"\n```\n\n**CRITICAL - NO HALLUCINATION:**\n- ONLY use agent names that appear in the `byAgent` section of script output\n- Use EXACTLY the ticket counts returned by the script\n- NEVER invent names or ticket counts\n- If an agent's name shows as ID or email, display it as-is\n\n**Before reporting ticket stats:**\n1. Examine the raw JSON output from `get_daily_summary.js`\n2. List the exact agent names from `byAgent` field\n3. Use ONLY those names and counts\n\nReturns:\n- Total tickets closed\n- Breakdown by agent\n- Breakdown by category (Password Reset, Chromebook, etc.)\n- Automated vs agent-resolved\n\n**Workspace**: Technology (workspace_id: 2)\n\n### 1.12 Ticket Trends Analysis\n\nCompare last business day to previous days for trends:\n\n```bash\n# Get last 5 business days of summaries for trend analysis\n# The get_daily_summary.js script supports date parsing\nbun /Users/hagelk/non-ic-code/geoffrey/skills/freshservice-manager/scripts/get_daily_summary.js \"last monday\"\nbun /Users/hagelk/non-ic-code/geoffrey/skills/freshservice-manager/scripts/get_daily_summary.js \"last tuesday\"\n# etc.\n```\n\nAnalyze for:\n- Volume trends (increasing/decreasing)\n- Category spikes (sudden increase in specific issue types)\n- Agent workload distribution\n- Unusual patterns\n\n### 1.13 Software Development Workspace Tickets\n\nGet open tickets in the Software Development workspace:\n\n```bash\nbun /Users/hagelk/non-ic-code/geoffrey/skills/freshservice-manager/scripts/search_tickets.js \"status:2 OR status:3\" 13\n```\n\nReturns all open (status:2) and pending (status:3) tickets in the Software Development workspace.\n\n**Workspace ID**: 13 (Software Development)\n**Note**: This is the user's internal software development bug tracker for AI Studio and other PSD applications.\n\n### 1.14 Legislative Activity (Last Business Day)\n\nGet K-12 education bills with activity since the last business day:\n\n```bash\n# Get lookback info and bills to check\nbun /Users/hagelk/non-ic-code/geoffrey/skills/legislative-tracker/scripts/get_recent_bill_activity.js --last-business-day\n```\n\nThis returns:\n- Date range to check (last business day â†’ today)\n- List of ~143 confirmed education bill IDs\n- WebFetch instructions for each bill\n\n**Workflow:**\n1. Get the output from `get_recent_bill_activity.js`\n2. WebFetch each bill URL (batch 5-6 in parallel for speed)\n3. Extract latest action date from each bill page\n4. Filter to bills where latest_action_date >= lookback_start\n5. Apply priority framework (HIGH/MEDIUM/LOW based on district impact)\n6. Include summary of what each bill does\n\n**On Monday**: Lookback starts on Friday (or earlier if Friday was a holiday), so includes all weekend activity (hearings, votes, committee actions).\n\n**Example URLs to WebFetch:**\n- `https://app.leg.wa.gov/billsummary?BillNumber=1020&Year=2025`\n- `https://app.leg.wa.gov/billsummary?BillNumber=5038&Year=2025`\n\n**Note**: Only include bills that actually had activity. If no bills moved, output \"No legislative activity since [date]\".\n\n## Phase 2: Generate Briefing\n\n### 2.1 Analyze & Prioritize\n\nReview gathered data and identify:\n- **Conflicts**: Overlapping calendar events\n- **Urgencies**: Overdue tasks, high-priority tickets\n- **Themes**: Patterns across data sources\n\n### 2.2 Format Markdown Briefing\n\nUse this structure:\n\n```markdown\n# Daily Briefing - [DATE]\n\n## Weather\n[Current conditions, high/low, precipitation]\n\n## Today's Calendar\n| Time | Event | Location |\n|------|-------|----------|\n| ... | ... | ... |\n\n**Conflicts/Notes**: [any issues]\n\n## Priority Tasks\n### Due Today\n- [ ] Task 1\n- [ ] Task 2\n\n### Flagged\n- [ ] Task 3\n\n### Overdue\n- [ ] Task 4 (due [date])\n\n## Recent Emails (Last 24h)\n[X emails in inbox from last 24 hours]\n\n### Needs Response\n- From: [sender] - [subject] (snippet)\n- From: [sender] - [subject] (snippet)\n\n### FYI/Notifications\n- [sender] - [subject]\n\n## Freshservice\n### Technology Tickets: [count] open\n[Top 3-5 tickets by priority/age]\n\n### Software Development Tickets: [count] open\n[List tickets in Software Dev workspace]\n\n### Pending Approvals: [count]\n[List with ticket #, requester, summary]\n\n## Team Activity (Last Business Day: [DAY, DATE])\n\n**Data Source Verification (REQUIRED):**\n- Technology EOD script returned: [X] messages from [list exact sender names from JSON]\n- Safety & Security EOD script returned: [X] messages from [list exact sender names from JSON]\n- Freshservice daily summary returned: [X] tickets by [list exact agent names from JSON]\n\n*Use ONLY the names listed above. Never invent or paraphrase names.*\n\n### Technology Team EOD Summaries\n\n**[Name from sender field]** - [Location(s)]\n- [Key accomplishment 1 - be specific about what they did]\n- [Key accomplishment 2]\n- [Notable: any interesting problems solved or projects]\n\n**[Name from sender field]** - [Location(s)]\n- [Key accomplishment 1]\n- [Key accomplishment 2]\n- [Issues: any blockers or problems mentioned]\n\n*[Continue for each team member who posted an EOD summary]*\n\n### Safety & Security Team EOD Summaries\n\n**[Name from sender field]** - [Location(s)]\n- [Key accomplishment 1]\n- [Key accomplishment 2]\n- [Notable: any issues or incidents handled]\n\n*If sender shows as user ID (users/12345...), display: **Unknown (users/12345...)** - [Location]*\n\n*[Continue for each team member who posted an EOD summary]*\n\n### Tickets Completed by Team: [count]\n| Agent | Tickets | Top Categories |\n|-------|---------|----------------|\n| [Name from byAgent field] | X | Password Reset (Y), Chromebook (Z) |\n\n### Ticket Trends\n- Volume: [up/down/stable] vs previous days\n- Notable patterns: [any spikes or anomalies]\n\n## EdTech News\n\n### [Article Title 1] - [Source]\n[2-3 sentence synopsis: what happened, why it matters, key takeaway]\n\n### [Article Title 2] - [Source]\n[2-3 sentence synopsis]\n\n### [Article Title 3] - [Source]\n[2-3 sentence synopsis]\n\n## AI News\n\n### [Article Title 1] - [Source]\n[2-3 sentence synopsis: what's the development, industry impact, relevance]\n\n### [Article Title 2] - [Source]\n[2-3 sentence synopsis]\n\n### [Article Title 3] - [Source]\n[2-3 sentence synopsis]\n\n## K-12 Leadership News\n\n### [Article Title 1] - [Source]\n[2-3 sentence synopsis: policy/leadership development, impact, relevance to tech leadership]\n\n### [Article Title 2] - [Source]\n[2-3 sentence synopsis]\n\n## School Safety & Security News\n\n### [Article Title 1] - [Source]\n[2-3 sentence synopsis: what happened, impact on safety practices, takeaway for districts]\n\n### [Article Title 2] - [Source]\n[2-3 sentence synopsis]\n\n### [Article Title 3] - [Source]\n[2-3 sentence synopsis]\n\n## Legislative Activity ([Last Biz Day] - Today)\n\n[X] education bills had movement:\n\n### ðŸ”´ HIGH Priority\n\n#### [Bill ID] - [Short Title]\n**Action**: [What happened - hearing, vote, committee action, etc.]\n**Summary**: [1-2 sentences: what the bill does, potential district impact]\n\n### ðŸŸ¡ MEDIUM Priority\n\n#### [Bill ID] - [Short Title]\n**Action**: [What happened]\n**Summary**: [1-2 sentences]\n\n### ðŸŸ¢ LOW Priority\n- [Bill ID]: [Action type] - [One line summary]\n\n*No legislative activity since [date]* - if no bills moved\n\n## Quick Stats\n- Calendar events: X\n- Tasks overdue: X | Due today: X | Flagged: X\n- Open tickets (Tech): X\n- Open tickets (Software Dev): X\n- Pending approvals: X\n- Recent emails (24h): X\n- Team tickets closed [last biz day]: X\n- News articles: EdTech (X) | AI (X) | Leadership (X)\n- Legislative bills with activity: X\n```\n\n### 2.3 Generate Podcast Script (Extended Format)\n\nTransform the briefing into a comprehensive conversational audio script:\n- First person, casual professional tone\n- **10-15 minutes speaking time (~1500-2000 words)**\n- Address listener directly (\"Here's what you need to know today...\")\n\n**Required Sections (in order):**\n\n1. **Opening** (~100 words)\n   - Day, date, weather summary\n   - Quick preview of key items\n\n2. **Calendar & Schedule** (~150 words)\n   - Today's events with context\n   - Highlight key meetings/events\n   - Note any conflicts or prep needed\n\n3. **Tasks & Priorities** (~150 words)\n   - Overdue items that need attention\n   - Due today items\n   - Flagged priorities\n\n4. **Tickets & Service Desk** (~150 words)\n   - Open Technology tickets\n   - Software Development tickets\n   - Pending approvals\n\n5. **Team Activity - DETAILED** (~400 words)\n   - What the Technology team accomplished on last business day\n   - Highlight 3-5 team members by name with specifics\n   - Notable projects, interesting problems solved\n   - What the Safety & Security team accomplished\n   - Overall ticket closure stats\n\n   **CRITICAL - NO HALLUCINATION:**\n   - Use ONLY names from the script output `sender` fields\n   - Use ONLY ticket counts from the `get_daily_summary.js` output\n   - If script returned no messages, say \"No EOD messages were posted\"\n   - NEVER invent names, locations, or accomplishments\n\n6. **EdTech News** (~200 words)\n   - 2-3 articles with synopses\n   - Why each matters for K-12\n\n7. **AI News** (~200 words)\n   - 2-3 articles with synopses\n   - Industry impact and relevance\n\n8. **K-12 Leadership News** (~150 words)\n   - 1-2 articles with synopses\n   - Policy/leadership implications\n\n8b. **School Safety & Security News** (~150 words)\n   - 2-3 articles with synopses\n   - Safety practices and district implications\n\n9. **Legislative Update** (~150 words)\n   - Bills that had hearings, votes, or readings since last business day\n   - Highlight any with direct district impact (fiscal, operational, staffing)\n   - Note upcoming hearing dates if relevant\n   - On Mondays, include weekend activity summary\n\n10. **Closing** (~100 words)\n    - Top 3 priorities for the day\n    - Sign off\n\n**Style Guidelines:**\n- Use team members' first names when discussing their work\n- Include specific details (not \"worked on tickets\" but \"resolved 34 Chromebook repairs\")\n- Transition smoothly between sections\n- Add brief commentary/analysis on news items\n\nSave to `/tmp/morning_briefing_podcast.txt`\n\n## Phase 3: Create Podcast\n\n```bash\nuv run --with mlx-audio --with pydub /Users/hagelk/non-ic-code/geoffrey/skills/local-tts/scripts/generate_audio.py \\\n  --file /tmp/morning_briefing_podcast.txt \\\n  --voice af_heart \\\n  --output ~/Desktop/morning_briefing_[DATE].mp3\n```\n\n**Voice Selection**: af_heart (warm, friendly - good for morning briefing)\n**Note**: Uses local MLX TTS (Kokoro model) - no API costs\n\n## Phase 3.5: Generate Infographic (MANDATORY)\n\n**CRITICAL:** The infographic MUST be generated. Do not skip this phase.\n\nCreate a visual summary infographic using the image-gen skill.\n\n### 3.5.1 Build Infographic Prompt\n\nBased on gathered data, construct a prompt for the infographic:\n\n```\nCreate an infographic summarizing a daily work briefing for [DATE].\n\nVisual concept: A clean dashboard layout with distinct sections for different data categories.\n\nKey data to display:\n- Weather: [conditions], High [X]Â°F, Low [Y]Â°F\n- Calendar: [X] events today, highlight: [key meeting]\n- Tasks: [X] overdue, [Y] due today, [Z] flagged\n- Tickets: [X] Technology open, [Y] Software Dev open\n- Team Activity: [X] tickets closed by team yesterday\n- Emails: [X] in inbox from last 24h\n\nStyle: Professional, clean design with PSD brand colors (navy blue #003366, gold accent #FFD700).\nFlat design, clear sections, modern sans-serif typography.\n\nLayout: Horizontal 16:9, organized as a dashboard with weather top-left, calendar top-right,\ntasks and tickets in middle row, team stats at bottom.\n\nTitle: \"Daily Briefing - [DATE]\"\nSubtitle: \"Gig Harbor, WA\"\n```\n\n### 3.5.2 Generate Image\n\n```bash\nuv run /Users/hagelk/non-ic-code/geoffrey/skills/image-gen/scripts/generate.py \\\n  \"[infographic prompt]\" \\\n  ~/Desktop/morning_briefing_[DATE].png \\\n  16:9 \\\n  2K\n```\n\n**Settings:**\n- Aspect ratio: 16:9 (landscape dashboard)\n- Size: 2K (ensures text readability)\n- Output: `~/Desktop/morning_briefing_[DATE].png`\n\n## Phase 4: Save to Obsidian\n\n### 4.1 Copy Infographic to Obsidian Assets\n\n```bash\ncp ~/Desktop/morning_briefing_[DATE].png \\\n  ~/Library/Mobile\\ Documents/iCloud~md~obsidian/Documents/Personal_Notes/Geoffrey/Daily\\ Briefings/assets/\n```\n\n### 4.2 Add Infographic to Briefing Markdown\n\nAt the top of the briefing (after the title), add:\n\n```markdown\n![Daily Briefing Infographic](assets/morning_briefing_[DATE].png)\n```\n\n### 4.3 Save Briefing File\n\nUse Obsidian MCP tools:\n\n1. **Check if daily note exists**:\n   ```\n   mcp__obsidian-vault__get_vault_file\n   filename: \"Geoffrey/Daily Briefings/[YYYY-MM-DD].md\"\n   ```\n\n2. **Create or update**:\n   ```\n   mcp__obsidian-vault__create_vault_file\n   filename: \"Geoffrey/Daily Briefings/[YYYY-MM-DD].md\"\n   content: [full briefing markdown with infographic embed]\n   ```\n\n**File path pattern**: `Geoffrey/Daily Briefings/YYYY-MM-DD.md`\n\n**Fallback** (if MCP unavailable): Write directly to iCloud path:\n```bash\n/Users/hagelk/Library/Mobile Documents/iCloud~md~obsidian/Documents/Personal_Notes/Geoffrey/Daily Briefings/[YYYY-MM-DD].md\n```\n\n## Phase 5: Send Email (HTML with Inline Infographic)\n\n### 5.1 Generate HTML Email Body\n\nCreate a professional HTML email (NOT markdown). Use the template at `skills/morning-briefing/templates/email.html` as reference.\n\n**Key HTML structure:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; max-width: 600px; margin: 0 auto; }\n    .header { text-align: center; border-bottom: 2px solid #003366; padding: 16px; }\n    .stat-box { background: #f8f9fa; padding: 12px; text-align: center; }\n    /* ... more styles from template ... */\n  </style>\n</head>\n<body>\n  <!-- Infographic at TOP - referenced via cid:briefing_image -->\n  <img src=\"cid:briefing_image\" alt=\"Daily Briefing\" style=\"width: 100%; max-width: 600px; border-radius: 8px; margin-bottom: 20px;\">\n\n  <div class=\"header\">\n    <h1 style=\"color: #003366;\">Daily Briefing</h1>\n    <p>[DAY_OF_WEEK], [DATE_FORMATTED]</p>\n  </div>\n\n  <!-- Weather, Stats, Calendar, Tasks, Team, News sections -->\n  <!-- See templates/email.html for full structure -->\n\n  <div style=\"background: #e8f4f8; padding: 16px; border-radius: 8px; margin-top: 20px;\">\n    <strong>Attachments:</strong><br>\n    ðŸŽ§ Audio Podcast (~10-15 min)<br>\n    ðŸ“Š Infographic (also shown above)\n  </div>\n\n  <p style=\"text-align: center; color: #666; font-size: 12px;\">\n    Full briefing: Obsidian/Geoffrey/Daily Briefings/[DATE].md\n  </p>\n</body>\n</html>\n```\n\n**CRITICAL:** The `<img src=\"cid:briefing_image\">` displays the infographic inline at the top of the email.\n\nSave to `/tmp/morning_briefing_email.html`\n\n### 5.2 Send with Inline Image + Attachments\n\n```bash\ncd /Users/hagelk/non-ic-code/geoffrey/skills/google-workspace && bun gmail/send_with_attachments.js psd \\\n  --to \"hagelk@psd401.net\" \\\n  --subject \"Daily Briefing - [DATE]\" \\\n  --body-file /tmp/morning_briefing_email.html \\\n  --html \\\n  --inline-image \"~/Desktop/morning_briefing_[DATE].png\" \\\n  --attachments \"~/Desktop/morning_briefing_[DATE].mp3\"\n```\n\n**Options explained:**\n- `--html` - Treat body as HTML (required for formatting)\n- `--inline-image` - Embeds image at top of email (referenced as `cid:briefing_image`)\n- `--attachments` - Additional files to attach (podcast)\n\n**Result:**\n- Infographic displays INLINE at top of email (visible without downloading)\n- Podcast attached for download\n- Email renders nicely in Gmail with professional styling\n\n## Output\n\nReturn standardized summary:\n\n```markdown\n## Summary\nGenerated daily briefing for [DATE]\n\n## Actions\n- Gathered calendar events: X\n- Gathered tasks: X (Y due today, Z flagged)\n- Gathered Technology tickets: X open, Y approvals pending\n- Gathered Software Dev tickets: X open\n- Gathered team EOD messages: X from [last business day]\n- Gathered team completed tickets: X from [last business day]\n- Weather: [conditions]\n- News: X headlines\n- Generated podcast: ~/Desktop/morning_briefing_[DATE].mp3\n- Saved to Obsidian: Geoffrey/Daily Briefings/[DATE].md\n- Email: [sent/skipped - reason]\n\n## Status\n[Status emoji] [Complete/Partial]\n\n## Quick View\n[2-3 line summary of most important items]\n```\n\n## Error Handling\n\n### Missing Google Workspace Scripts\nIf calendar/email scripts don't exist:\n- Skip those sections\n- Note \"Integration pending\" in output\n- Continue with available data sources\n\n### OmniFocus Not Running\n```\nStatus: Partial\nNote: OmniFocus not running - task data unavailable\n```\n\n### Freshservice API Error\n```\nStatus: Partial\nNote: Freshservice API error - ticket data unavailable\n```\n\n### Local TTS Generation Failed\n```\nStatus: Partial\nNote: Audio generation failed - check mlx-audio setup\nBriefing saved to Obsidian without podcast\n```\n\n## Dependencies\n\n| Skill/Tool | Required For | Fallback |\n|------------|--------------|----------|\n| google-workspace | Calendar, email, team EOD | Skip sections |\n| omnifocus-manager | Tasks | Skip section |\n| freshservice-manager | Tickets, approvals, team stats | Skip section |\n| local-tts | Audio podcast | Text-only briefing |\n| obsidian-vault (MCP) | Save briefing | Display only |\n| WebSearch | News, weather | Skip sections |\n\n## Configuration\n\n### User Preferences\n- **Location**: Gig Harbor, WA (weather)\n- **Work Email**: psd account\n- **Technology Workspace**: workspace_id: 2\n- **Software Dev Workspace**: workspace_id: 13\n- **Technology Chat Space**: spaces/AAAAxOtpv10 (Technology Staff Check-Ins & Logs)\n- **Safety & Security Chat Space**: spaces/AAAAFpQaAnA (PSD Safety & Security Team)\n- **Voice**: af_heart (warm, friendly - local Kokoro TTS)\n- **Podcast Length**: 10-15 minutes (~1500-2000 words)\n\n### Customization\nUsers can request:\n- \"Skip news\" - omit news section\n- \"No podcast\" - text only\n- \"Just calendar and tasks\" - minimal briefing\n",
        "skills/morning-briefing/references/podcast-script-template.md": "# Podcast Script Template (Extended Format)\n\n## Guidelines\n\n**Target Length**: 1500-2000 words (~10-15 minutes spoken)\n\n**Tone**: Casual professional, first person, warm but substantive. Like a trusted colleague giving you a thorough briefing over coffee.\n\n**Key Principles**:\n- Use team members' first names\n- Include specific details, not generalizations\n- Provide context and analysis on news items\n- Smooth transitions between sections\n\n## Structure\n\n| Section | Words | Time |\n|---------|-------|------|\n| Opening | ~100 | 45 sec |\n| Calendar & Schedule | ~150 | 1 min |\n| Tasks & Priorities | ~150 | 1 min |\n| Tickets & Service Desk | ~150 | 1 min |\n| Team Activity (DETAILED) | ~400 | 3 min |\n| EdTech News | ~200 | 1.5 min |\n| AI News | ~200 | 1.5 min |\n| K-12 Leadership News | ~150 | 1 min |\n| Closing | ~100 | 45 sec |\n| **Total** | **~1600** | **~12 min** |\n\n## Template\n\n```\nGood morning. It's [WEEKDAY], [MONTH DAY spelled out].\n\n[WEATHER] - [Conditions] today with a high of [X]. [Any notable weather coming].\n\nHere's your comprehensive briefing for the day.\n\n---\n\nCALENDAR AND SCHEDULE\n\n[You've got X events on the calendar today / Today's calendar is [light/moderate/packed]].\n\n[For each significant event]:\n- [Time]: [Event name]. [Brief context - who's there, what it's about, any prep needed].\n\n[Note any conflicts, back-to-back situations, or key transitions needed].\n\n---\n\nTASKS AND PRIORITIES\n\nLet's talk about what needs your attention.\n\n[If overdue - be specific]:\nYou've got [X] overdue items. The most pressing: [Item 1 name] is now [X] days overdue - [brief context on why it matters]. Also overdue: [Item 2], [Item 3 if notable].\n\n[Due today]:\nFor today specifically, [X] tasks are due. [Describe briefly or note \"nothing due today\" if applicable].\n\n[Flagged]:\nYou've flagged [X] items for focus. [Mention any that deserve attention].\n\n---\n\nTICKETS AND SERVICE DESK\n\nOn Freshservice, here's where things stand.\n\nTechnology workspace: [X] open tickets. [Note any high priority or assigned to you].\n\nSoftware Development workspace: [X] open tickets. [Brief note on top issues if relevant].\n\nPending approvals: [X] waiting for your sign-off. [List briefly if important].\n\n---\n\nTEAM ACTIVITY FROM [DAY]\n\nLet's go through what the team accomplished on [last business day].\n\n[For each team member with a detailed EOD - use first names]:\n\n[Name] was at [location(s)]. [He/She] [accomplished X, Y, Z - be specific about tasks].\n[Include any notable projects, interesting problems solved, or issues mentioned].\n\n[Continue for 4-6 team members]\n\nOverall, the team closed [X] tickets on [day]. The biggest categories were [Category 1] at [X] tickets and [Category 2] at [X] tickets. [Any trend observations].\n\n---\n\nEDTECH NEWS\n\nA few stories worth knowing about in education technology.\n\nFirst, [Article title/topic]. [2-3 sentences: what happened, why it matters for K-12, key takeaway].\n\nSecond, [Article title/topic]. [2-3 sentences synopsis].\n\n[Third if notable]: Also worth noting, [Article topic]. [1-2 sentence synopsis].\n\n---\n\nAI NEWS\n\nIn the broader AI world, here's what's happening.\n\n[Article 1 topic]. [2-3 sentences: what's the development, industry impact, how it connects to your work].\n\n[Article 2 topic]. [2-3 sentences synopsis].\n\n[Article 3 if notable]: [1-2 sentence mention].\n\n---\n\nK-12 LEADERSHIP NEWS\n\nOn the leadership and policy front:\n\n[Article 1 topic]. [2-3 sentences: what's the policy or leadership development, impact on districts, relevance to tech leadership role].\n\n[Article 2 if notable]: [1-2 sentence mention].\n\n---\n\nCLOSING\n\nSo to wrap up, your top priorities today:\n\nFirst, [Priority 1 - most important meeting/task].\nSecond, [Priority 2].\nThird, [Priority 3].\n\nThat's your briefing for [WEEKDAY], [MONTH DAY]. Have a productive day.\n```\n\n## Example (Abbreviated)\n\n```\nGood morning. It's Monday, January twenty-sixth.\n\nExpect partly sunny skies today with a high of forty-seven. Rain's coming Tuesday night, so enjoy the dry weather while it lasts.\n\nHere's your comprehensive briefing for the day.\n\nCALENDAR AND SCHEDULE\n\nYou've got six events on the calendar today, including two significant ones.\n\nAt seven AM, you've got the dentist - that's a one hour appointment.\n\nAt noon, the RTM AI Panel prep call with Priya, Rachel, Marc, and Cody. Make sure you've reviewed that prep doc before the call.\n\nThen it gets busy in the evening. At four, you've got the levy info sharing at KPMS, followed immediately by the community presentation at Evergreen Elementary at six. Back-to-back levy events, so pace yourself.\n\nTASKS AND PRIORITIES\n\nLet's talk about what needs your attention.\n\nYou've got eighteen overdue items. The most pressing: The ACPE session proposal is now eleven days overdue - that deadline has passed and needs immediate action. The EdTech Advocacy Day travel approval is six days overdue along with several others including the Ashley meeting about Scholarship Granting Organizations.\n\nNothing specifically due today, but that overdue pile needs attention.\n\nTICKETS AND SERVICE DESK\n\nOn Freshservice, Technology workspace has three open tickets including two digital resource approvals assigned to you - Math Playground and Paw Patrol.\n\nSoftware Development workspace has ten open tickets, mostly bug reports from AI Studio users.\n\nOne pending approval waiting for your sign-off.\n\nTEAM ACTIVITY FROM FRIDAY\n\nLet's go through what the team accomplished on Friday.\n\nBrad was at Tech Services. He spent the day packaging Cinema 4D plugins for deployment, fixed an OAuth blocking issue for the Maxon App, and - this is interesting - used Claude Code for the first time to create an Installomator label for Godot, an open-source game engine requested for a Mac Lab at GHH. He also worked on Unity deployment troubleshooting and left early to burn some comp time.\n\nJodi was at DCRC. She helped an employee set up a new MacBook, supervised interns, processed invoices, and spent time helping Teresa fix a mistake in Destiny - apparently there were a lot of steps involved but she figured it all out.\n\nDavid was at DCRC and then TSD. He built a new Securly block for a student, replaced a printer in ESS, and noted a trend - once people update to the newest OS, Screen Share stops working with Prometheans until the app is updated via Self Service.\n\n[Continue for other team members...]\n\nOverall, the team closed one hundred twenty-seven tickets on Friday. The biggest categories were Chromebook repairs at thirty-four tickets and password resets at eleven.\n\nEDTECH NEWS\n\nA few stories worth knowing about in education technology.\n\nFirst, states are putting unprecedented attention on AI's role in schools. Several states are now requiring districts to develop AI policies, with Ohio mandating adoption by July first this year. This is moving from optional guidance to compliance requirements.\n\nSecond, EdSurge is tracking K-12 education trends for twenty twenty-six, with AI integration and digital equity remaining top priorities for technology leaders.\n\n[Continue with AI News and Leadership News...]\n\nCLOSING\n\nSo to wrap up, your top priorities today:\n\nFirst, nail that RTM panel prep call at noon - review the prep doc beforehand.\nSecond, bring your A-game for the back-to-back levy presentations this evening.\nThird, tackle that overdue ACPE session proposal when you get a chance.\n\nThat's your briefing for Monday, January twenty-sixth. Have a productive day.\n```\n\n## Voice Notes for ElevenLabs\n\n- Use \"Rachel\" voice (calm, clear, professional)\n- Numbers: Spell out one through ten, use words for larger numbers in speech context\n- Dates: \"January twenty-sixth\" not \"January 26\"\n- Contractions are fine: \"you've got\", \"it's\", \"don't\"\n- Use first names for team members\n- Pause indicators: Use \"---\" between major sections (will create natural pauses)\n- Avoid: Ticket numbers, technical jargon without context, acronyms on first use\n",
        "skills/multi-model-research/SKILL.md": "---\nname: multi-model-research\ndescription: Orchestrate multiple frontier LLMs (Claude, GPT-5.1, Gemini 3.0 Pro, Perplexity Sonar, Grok 4.1) for comprehensive research using LLM Council pattern with peer review and synthesis\ntriggers:\n  - \"deep dive\"\n  - \"research council\"\n  - \"multi-model research\"\n  - \"comprehensive research\"\n  - \"council research\"\nallowed-tools: Bash, Read, mcp__obsidian-vault__create_vault_file\nversion: 0.1.0\n---\n\n# Multi-Model Research Agent\n\nImplements Karpathy's LLM Council pattern for superior research through parallel queries, peer review, and chairman synthesis.\n\n## Architecture\n\n**Geoffrey/Claude (Native Council Member):**\n- Routes simple vs complex queries\n- Calls external API orchestrator (`research.py`)\n- Provides my own research response\n- Conducts peer review phase\n- Requests GPT-5.1 synthesis (chairman)\n- Saves final report to Obsidian\n\n**Python External API Orchestrator:**\n- Fetches responses from GPT-5.1, Gemini 3.0 Pro, Perplexity Sonar, Grok 4.1\n- Returns JSON with all external responses\n- I handle all orchestration and synthesis\n\n## When to Use This Skill\n\nUse multi-model research when:\n- **Complex analysis needed** - Multiple perspectives valuable\n- **Factual verification critical** - Cross-model validation\n- **Comprehensive coverage required** - No single model sufficient\n- **Current information essential** - Perplexity provides web grounding\n- **Contested topics** - Benefit from diverse model perspectives\n\n## Simple vs Council Mode\n\n**Simple Mode** (Perplexity only):\n- Factual lookups\n- Current events\n- Quick research with citations\n- Completes in <15 seconds\n\n**Council Mode** (Full council):\n- Comparative analysis\n- Deep research\n- Multiple perspectives needed\n- Strategic questions\n- Completes in <90 seconds\n\n## Workflow\n\n### Simple Query\n\n```\nUser: \"What are the latest developments in quantum computing?\"\n     â†“\nI decide: Simple query (factual, current)\n     â†“\nI call: uv run scripts/research.py --query \"...\" --models perplexity\n     â†“\nI read: JSON response from Perplexity\n     â†“\nI format: Markdown report with citations\n     â†“\nI save: To Obsidian Geoffrey/Research folder\n     â†“\nI return: Summary to user with Obsidian link\n```\n\n### Council Query\n\n```\nUser: \"Compare the AI strategies of OpenAI, Anthropic, and Google\"\n     â†“\nI decide: Council query (comparative, complex)\n     â†“\nI call: uv run scripts/research.py --query \"...\" --models gpt,gemini,perplexity,grok\n     â†“\nI read: JSON with all external responses\n     â†“\nI provide: My own (Claude) research response\n     â†“\nI conduct: Peer review (each model ranks others)\n     â†“\nI request: GPT-5.1 chairman synthesis\n     â†“\nI format: Comprehensive markdown report\n     â†“\nI save: To Obsidian Geoffrey/Research folder\n     â†“\nI return: Summary with Obsidian link\n```\n\n## Output Format\n\nAll research reports saved to Obsidian include:\n\n- **Executive Summary** (2-3 paragraphs)\n- **Key Findings** (organized by theme, inline citations)\n- **Confidence Assessment** (what's certain vs debated)\n- **References Section** (all sources with URLs and dates)\n\nCitations use numeric format: [1], [2], etc.\n\n## Technical Details\n\n**Python Script:**\n```bash\ncd skills/multi-model-research\nuv run scripts/research.py --query \"Your question\" --models perplexity --output /tmp/responses.json\n```\n\n**Config:**\n- `config.yaml` - Model settings, routing rules\n- `prompts/system_prompts.yaml` - Per-model system prompts\n- `prompts/peer_review.md` - Peer review template\n- `prompts/chairman_synthesis.md` - GPT-5.1 synthesis template\n\n**Dependencies:**\n- httpx (async HTTP client)\n- pyyaml (config parsing)\n- python-dotenv (env vars)\n- python-frontmatter (Obsidian frontmatter)\n\n**API Keys Required:**\n- OPENAI_API_KEY (GPT-5.1)\n- GEMINI_API_KEY (Gemini 3.0 Pro)\n- PERPLEXITY_API_KEY (Sonar Pro)\n- XAI_API_KEY (Grok 4.1)\n\nAll keys configured in `~/.env` file.\n\n## Examples\n\n**Simple Research:**\n```\nUser: \"What is RAG in AI?\"\n\nI route to: Simple mode (Perplexity)\nOutput: Concise explanation with current examples and citations\nTime: ~10 seconds\n```\n\n**Council Research:**\n```\nUser: \"Compare serverless vs containers for production ML workloads\"\n\nI route to: Council mode (all 4 external + me)\nProcess:\n  1. GPT-5.1: Provides comprehensive technical comparison\n  2. Gemini 3.0: Analyzes cost and performance trade-offs\n  3. Perplexity: Current industry trends and case studies\n  4. Grok 4.1: Developer sentiment from X/Twitter\n  5. Claude (me): Synthesize with nuanced analysis\n  6. Peer review: Each model ranks others\n  7. GPT-5.1 (chairman): Final synthesis\n\nOutput: Multi-perspective analysis with citations\nTime: ~60 seconds\n```\n\n## Limitations\n\n- **Cost**: Council mode uses 4-5 API calls per query\n- **Latency**: Council mode takes 60-90 seconds\n- **API Limits**: Rate limits may throttle parallel requests\n- **Citation Quality**: Non-Perplexity models require URL extraction\n\n## Future Enhancements\n\n- Streaming responses during deliberation\n- Cost tracking and budget limits\n- Query history and versioning\n- Custom model weights based on topic\n- Integration with Geoffrey's knowledge base\n\n---\n\n*This skill implements Karpathy's LLM Council pattern released November 22, 2025.*\n",
        "skills/multi-model-research/prompts/chairman_synthesis.md": "# Chairman Synthesis Prompt\n\nYou are the Chairman of an LLM Council. Multiple expert AI models have researched a topic and reviewed each other's work. Your task is to synthesize their contributions into a definitive response.\n\n## Original Query\n\n{query}\n\n## Council Responses and Peer Reviews\n\n{responses_with_reviews}\n\n## Available Citations\n\n{citations}\n\n---\n\n## Your Synthesis Task\n\n1. **Extract the best elements** from each council member's response\n2. **Resolve any conflicts** by favoring claims with stronger support\n3. **Maintain citations** - use [1], [2], etc. format for inline citations\n4. **Structure your response** with clear sections:\n   - Executive Summary (2-3 paragraphs)\n   - Key Findings (main body, organized by theme)\n   - Areas of Consensus\n   - Remaining Questions or Debates (if any)\n5. **Acknowledge uncertainty** where the council disagreed\n\n## Output Format\n\nProduce a comprehensive markdown response that represents the council's consensus view. This should be the definitive answer a user would want to read.\n\nStructure it as:\n\n```markdown\n## Executive Summary\n\n[2-3 paragraph overview]\n\n## Key Findings\n\n### [Topic 1]\n[Information with inline citations [1][2]]\n\n### [Topic 2]\n[Information with inline citations [3][4]]\n\n## Areas of Consensus\n\n- [Point where all models agreed]\n- [Another consensus point]\n\n## Remaining Questions\n\n- [Any debated or uncertain aspects]\n```\n\nMake this the best possible synthesis - clear, well-cited, and comprehensive.\n",
        "skills/multi-model-research/prompts/peer_review.md": "# Peer Review Prompt\n\nYou are evaluating research responses to the following query:\n\n**QUERY:** {query}\n\nBelow are anonymized responses from different AI research assistants labeled A, B, C, etc. Your task is to review each one critically and provide a ranking.\n\n## Responses\n\n{responses}\n\n---\n\n## Your Review Task\n\n1. **Rank the responses** from best to worst (by letter ID: A, B, C, etc.)\n\n2. **Evaluation criteria:**\n   - Factual accuracy and reliability\n   - Depth and completeness of coverage\n   - Quality of reasoning and analysis\n   - Clarity and organization\n   - Appropriate use of sources/citations\n   - Practical usefulness\n\n3. **Note any concerns:**\n   - Factual errors or unsupported claims\n   - Important gaps or omissions\n   - Potential biases or one-sided coverage\n   - Conflicts between sources\n\n## Response Format\n\nProvide your evaluation in this JSON format:\n\n```json\n{\n  \"ranking\": [\"A\", \"B\", \"C\"],\n  \"best_response_strengths\": \"What made the top response stand out\",\n  \"areas_for_improvement\": \"What could be better across all responses\",\n  \"factual_concerns\": [\"List any factual issues noted\"],\n  \"confidence\": \"high/medium/low\"\n}\n```\n\nBe specific and constructive in your feedback. Identify concrete examples to support your rankings.\n",
        "skills/multi-model-research/templates/research_report.md": "# Research Report: {title}\n\n**Query:** {query}\n**Generated:** {timestamp}\n**Mode:** {mode}\n**Models:** {models}\n\n---\n\n## Executive Summary\n\n{executive_summary}\n\n---\n\n## Key Findings\n\n{main_content}\n\n---\n\n{confidence_section}\n\n---\n\n## References\n\n{references}\n\n---\n\n*This report was generated by the Multi-Model Research Agent using the LLM Council pattern.*\n*Council members: {council_members}*\n",
        "skills/obsidian-manager/SKILL.md": "---\nname: obsidian-manager\ndescription: Manage Obsidian vault for persistent knowledge storage, search, and retrieval\ntriggers:\n  - \"save to obsidian\"\n  - \"search my notes\"\n  - \"find in vault\"\n  - \"check my readwise\"\n  - \"search readwise\"\n  - \"search snipd\"\n  - \"check my highlights\"\n  - \"create note\"\n  - \"add to obsidian\"\n  - \"what did I read about\"\n  - \"what podcasts mentioned\"\nallowed-tools: Read, Write, Bash, Glob, Grep\nversion: 0.1.0\n---\n\n# Obsidian Manager Skill\n\nManage the user's Obsidian vault as a persistent second brain. Read existing knowledge, write new content, and search across years of highlights and notes.\n\n## Vault Configuration\n\n**Path:** `~/Library/Mobile Documents/iCloud~md~obsidian/Documents/Personal_Notes/`\n\n**Write Mode:** Auto-create new files, confirm before updating existing files.\n\n## Vault Structure\n\n```\nPersonal_Notes/\nâ”œâ”€â”€ Geoffrey/              # Geoffrey-generated content\nâ”‚   â”œâ”€â”€ Mission Control.md # Central dashboard (Dataview queries)\nâ”‚   â”œâ”€â”€ Scheduled Tasks.md # Scheduler dashboard\nâ”‚   â”œâ”€â”€ Research/          # Research task outputs\nâ”‚   â”‚   â”œâ”€â”€ Daily AI Briefings/  # Daily automated research\nâ”‚   â”‚   â”œâ”€â”€ {Project}/     # Other research projects\nâ”‚   â”‚   â””â”€â”€ attachments/   # Research images\nâ”‚   â”œâ”€â”€ Reports/           # Generated reports and artifacts\nâ”‚   â”‚   â”œâ”€â”€ PSD/           # Peninsula School District reports\nâ”‚   â”‚   â”‚   â”œâ”€â”€ Discipline/    # Discipline reports and infographics\nâ”‚   â”‚   â”‚   â”œâ”€â”€ Enrollment/    # Enrollment reports\nâ”‚   â”‚   â”‚   â”œâ”€â”€ Tech Support/  # Tech support dashboards\nâ”‚   â”‚   â”‚   â””â”€â”€ {topic}/       # Other PSD topics\nâ”‚   â”‚   â”œâ”€â”€ HRG/           # Hat Rack Group (consulting LLC) reports\nâ”‚   â”‚   â”‚   â””â”€â”€ {topic}/       # HRG topics\nâ”‚   â”‚   â”œâ”€â”€ Personal/      # Personal reports\nâ”‚   â”‚   â”‚   â””â”€â”€ {topic}/       # Personal topics\nâ”‚   â”‚   â””â”€â”€ {org}/         # Other organizations as needed\nâ”‚   â”œâ”€â”€ Daily-Logs/        # Session summaries (YYYY-MM-DD.md)\nâ”‚   â”œâ”€â”€ Learnings/         # Extracted patterns (YYYY-MM-DD-topic.md)\nâ”‚   â””â”€â”€ Decisions/         # Major decisions with rationale (YYYY-MM-DD-topic.md)\nâ”œâ”€â”€ Meetings/              # Meeting notes (YYYY-MM-DD format)\nâ”œâ”€â”€ People/                # Contact profiles with metadata\nâ”œâ”€â”€ Readwise/              # Synced highlights (368 articles, 34 books)\nâ”‚   â”œâ”€â”€ Articles/\nâ”‚   â”œâ”€â”€ Books/\nâ”‚   â”œâ”€â”€ Podcasts/\nâ”‚   â””â”€â”€ Tweets/\nâ”œâ”€â”€ Snipd/                 # Podcast highlights (58+ episodes)\nâ”‚   â””â”€â”€ Data/              # Podcast folders > episodes\nâ””â”€â”€ Templates/             # Note templates\n```\n\n**CRITICAL:** See CLAUDE.md \"Obsidian Organizational Rules\" section for:\n- Strict folder structure requirements\n- File naming conventions\n- Routing rules by content type\n- Validation checklist before writing\n\nAlways validate folder placement before writing any files to Geoffrey folder.\n\n## Scripts\n\nAll scripts use Python via `uv run` with inline dependencies.\n\n### Search Scripts\n\n#### search.py - General Vault Search\n```bash\nuv run scripts/search.py \"query\" [folder] [--limit N]\n```\n\nSearch across the vault for keyword matches. Returns file paths and matching excerpts.\n\n**Examples:**\n```bash\n# Search entire vault\nuv run scripts/search.py \"prompt engineering\"\n\n# Search specific folder\nuv run scripts/search.py \"leadership\" People\n\n# Limit results\nuv run scripts/search.py \"AI\" Readwise/Articles --limit 10\n```\n\n#### search-readwise.py - Search Highlights\n```bash\nuv run scripts/search-readwise.py \"query\" [--author \"name\"] [--category articles|books|podcasts]\n```\n\nSearch Readwise highlights by topic, author, or category.\n\n**Examples:**\n```bash\n# Search by topic\nuv run scripts/search-readwise.py \"second brain\"\n\n# Search specific author\nuv run scripts/search-readwise.py \"AI\" --author \"Andrej Karpathy\"\n\n# Search books only\nuv run scripts/search-readwise.py \"habits\" --category books\n```\n\n#### search-snipd.py - Search Podcast Transcripts\n```bash\nuv run scripts/search-snipd.py \"query\" [--show \"podcast name\"]\n```\n\nSearch Snipd podcast transcripts and snips.\n\n**Examples:**\n```bash\n# Search all podcasts\nuv run scripts/search-snipd.py \"machine learning\"\n\n# Search specific show\nuv run scripts/search-snipd.py \"leadership\" --show \"Huberman Lab\"\n```\n\n### Creation Scripts\n\n#### create-note.py - Create New Note\n```bash\nuv run scripts/create-note.py \"title\" \"content\" [--folder Geoffrey/Research] [--tags tag1,tag2] [--related \"[[Note]]\"]\n```\n\nCreate a new note with proper frontmatter and optional backlinks.\n\n**Examples:**\n```bash\n# Create research note\nuv run scripts/create-note.py \"AI Model Comparison\" \"Content here...\" --folder Geoffrey/Research --tags research,ai\n\n# Create with backlinks\nuv run scripts/create-note.py \"Meeting Notes\" \"Content...\" --folder Meetings --related \"[[John Smith]],[[Project Alpha]]\"\n```\n\n#### open-in-obsidian.py - Open Note in Obsidian\n```bash\nuv run scripts/open-in-obsidian.py \"path/to/note.md\"\n```\n\nOpens the specified note in Obsidian using Actions URI.\n\n## Content Routing\n\n**CRITICAL:** When creating content, use these destinations. NEVER dump files directly into `Geoffrey/` - always use proper subfolders.\n\n| Content Type | Folder | Naming Pattern |\n|--------------|--------|----------------|\n| Research results | `Geoffrey/Research/` | `YYYY-MM-DD-topic.md` |\n| **Reports** | `Geoffrey/Reports/{org}/{topic}/` | Descriptive name with date |\n| **Images/Infographics** | Same as parent report | `Descriptive Name YYYY-MM-DD.png` |\n| Meeting notes | `Meetings/` | `Topic - YYYY-MM-DD.md` |\n| Daily summaries | `Geoffrey/Daily-Logs/` | `YYYY-MM-DD.md` |\n| Learnings | `Geoffrey/Learnings/` | `topic-slug.md` |\n| Decisions | `Geoffrey/Decisions/` | `YYYY-MM-DD-decision.md` |\n| Person updates | `People/` | Existing file name |\n\n**Naming Rules:**\n- All images/infographics MUST include date in filename\n- Format: `Descriptive Name YYYY-MM-DD.png` or `Descriptive Name YYYY-MM-DD to YYYY-MM-DD.png` for date ranges\n- Example: `Peninsula High School Discipline Report 2025-11-17 to 2025-11-20.png`\n\n**Reports Folder Structure:**\nPattern: `Geoffrey/Reports/{organization}/{topic}/`\n\nOrganizations:\n- **PSD** - Peninsula School District reports\n  - `Geoffrey/Reports/PSD/Discipline/`\n  - `Geoffrey/Reports/PSD/Enrollment/`\n  - `Geoffrey/Reports/PSD/Attendance/`\n  - `Geoffrey/Reports/PSD/{topic}/`\n\n- **HRG** - Hat Rack Group (consulting LLC) reports\n  - `Geoffrey/Reports/HRG/{topic}/`\n\n- **Personal** - Personal reports\n  - `Geoffrey/Reports/Personal/{topic}/`\n\n- **{org}** - Other organizations as needed\n\n## Frontmatter Standard\n\nAll Geoffrey-created notes should include:\n\n```yaml\n---\ncreated: 2025-11-23\ntags: [geoffrey, research]\nsource: geoffrey\nrelated:\n  - \"[[Related Note 1]]\"\n  - \"[[Related Note 2]]\"\n---\n```\n\n## When to Read from Vault\n\n- **Before research tasks:** Check if user has relevant Readwise highlights or existing notes\n- **When people mentioned:** Look up context in People folder\n- **For meeting prep:** Find past meetings and related notes\n- **For context:** Search Snipd transcripts for podcast discussions on topic\n\n## When to Write to Vault\n\n- **After research:** Save results to `Geoffrey/Research/`\n- **Learned patterns:** Extract insights to `Geoffrey/Learnings/`\n- **Major decisions:** Document with rationale in `Geoffrey/Decisions/`\n- **Session summaries:** Optional daily logs to `Geoffrey/Daily-Logs/`\n\n## Creating Backlinks\n\nAlways create backlinks to existing content:\n\n1. **Search before creating:** Find related notes first\n2. **Use wiki-links:** `[[Note Title]]` format\n3. **Add to frontmatter:** List in `related:` field\n4. **Reference sources:** Link to Readwise/Snipd sources when relevant\n\n**Example:**\n```markdown\nBased on insights from [[Readwise/Articles/Building a Second Brain]],\nand discussed in [[Snipd/Data/Huberman Lab/episode-123]],\nthe key pattern is...\n```\n\n## Readwise Content Format\n\nReadwise notes have this structure:\n\n```yaml\n---\nAuthor: \"Author Name\"\nFull Title: \"Article Title\"\nCategory: #articles\nSummary: \"AI-generated summary\"\n---\n\n## Highlights\n- Highlight text with optional tags like [[topic]]\n```\n\n## Snipd Content Format\n\nSnipd episodes have rich metadata:\n\n```yaml\n---\nepisode_show: \"Podcast Name\"\nepisode_publish_date: 2024-01-15\nmentioned_books: [\"Book 1\", \"Book 2\"]\nsnips_count: 5\n---\n\n### Snip 1\n**Timestamp:** 00:15:30\n> Quote text here\n\n**Transcript:** Full context...\n```\n\n## Actions URI Integration\n\nUse Actions URI to interact with Obsidian app:\n\n```bash\n# Open a note\nopen \"obsidian://actions-uri/note/open?vault=Personal_Notes&file=Geoffrey/Research/note.md\"\n\n# Create and open\nopen \"obsidian://actions-uri/note/create?vault=Personal_Notes&file=path&content=...\"\n```\n\n## Best Practices\n\n1. **Search before creating:** Always check for existing content\n2. **Link generously:** Create connections between notes\n3. **Use consistent tags:** Match existing tag patterns\n4. **Keep notes atomic:** One idea per note in Learnings\n5. **Include sources:** Always cite Readwise/Snipd sources\n6. **Respect existing structure:** Don't reorganize user's folders\n\n## Output Format\n\nWhen completing Obsidian operations:\n\n```markdown\n## Summary\nWhat was done\n\n## Files\n- Created: `path/to/new.md`\n- Updated: `path/to/existing.md` (if confirmed)\n\n## Related Content Found\n- [[Relevant Note 1]] - why it's relevant\n- [[Relevant Note 2]] - why it's relevant\n\n## Next Steps\n- Recommendations if any\n```\n",
        "skills/omnifocus-manager/SKILL.md": "---\nname: omnifocus-manager\ndescription: Manage OmniFocus tasks, projects, and inbox with proper tagging and organization\ntriggers:\n  - \"add task\"\n  - \"create task\"\n  - \"new task\"\n  - \"follow up with\"\n  - \"triage omnifocus\"\n  - \"triage my omnifocus\"\n  - \"omnifocus inbox\"\n  - \"clean up omnifocus\"\n  - \"check omnifocus\"\n  - \"show tasks\"\n  - \"what's due\"\n  - \"omnifocus review\"\nallowed-tools: Read, Bash\nversion: 0.1.0\n---\n\n# OmniFocus Manager Skill\n\nManage OmniFocus tasks with proper project assignment, tagging, and organization based on user preferences.\n\n## When to Activate\n\nUse this skill when user wants to:\n- Add/create tasks\n- Follow up with someone\n- Triage or review inbox\n- Clean up or organize tasks\n- Check what's due or available\n- Query task status\n\n## User Preferences\n\n**Task Creation Philosophy:**\n- Always assign to a project (never leave in Inbox)\n- Always set expected completion date\n- Tag with person + \"Follow Up\" for 1:1 discussions\n- Use location tags for shopping tasks\n\n## Working with OmniFocus Scripting\n\n### JXA vs AppleScript: When to Use Each\n\n**Use JXA (JavaScript for Automation) for:**\n- âœ… Reading data (tasks, projects, tags, inbox)\n- âœ… Creating/updating individual tasks\n- âœ… Adding tags to tasks\n- âœ… Moving tasks between projects\n- âœ… Fast, single-purpose operations\n\n**Use AppleScript for:**\n- âœ… Creating projects inside folders\n- âœ… Creating folders\n- âœ… Bulk operations on multiple projects\n- âœ… Complex nested structures (folder â†’ project â†’ tasks)\n\n**CRITICAL DIFFERENCE:**\n- **External JXA scripts** (via `osascript -l JavaScript`) have limitations\n- **OmniJS** (built-in JavaScript in OmniFocus app) has more capabilities\n- Documentation examples showing `new Project(name, folder)` work in OmniJS but **NOT in external JXA scripts**\n\n### Common Pitfalls & Solutions\n\n| Pitfall | Why It Happens | Solution |\n|---------|---------------|----------|\n| Projects created at root instead of in folder | JXA `parentFolder` property doesn't work externally | Use AppleScript with `tell folder` blocks |\n| Duplicate empty folders | Script creates folder but projects fail to nest | Always verify `count of projects of folder` after creation |\n| \"Can't convert types\" errors | JXA type mismatch between app objects and JavaScript | Use AppleScript for complex operations |\n| Projects appear created but aren't | Script reports success but verification shows 0 projects | Always verify after creation, never trust script output alone |\n| Can't delete folders via script | Folders don't support deletion commands | Manual cleanup in OmniFocus UI required |\n\n### Verification Patterns\n\n**ALWAYS verify operations that modify structure:**\n\n```applescript\n# After creating projects in folder\ntell application \"OmniFocus\"\n  tell default document\n    set projectCount to count of projects of folder \"Folder Name\"\n    if projectCount is 0 then\n      return \"ERROR: Projects not in folder!\"\n    else\n      return \"SUCCESS: \" & projectCount & \" projects created\"\n    end if\n  end tell\nend tell\n```\n\n**NEVER assume success based on:**\n- Script completing without errors\n- Return value claiming success\n- Absence of error messages\n\n**ALWAYS verify by:**\n- Counting items created\n- Checking container relationships\n- Querying actual data structure\n\n### Error Recovery Workflow\n\n**If you create projects incorrectly:**\n\n1. **STOP** - Don't create more until you understand the problem\n2. **VERIFY** - Check actual state: `projects of folder \"X\"`\n3. **CLEAN UP** - Drop wrong projects: `mark dropped proj`\n4. **NOTE** - Empty folders must be manually deleted in UI\n5. **FIX** - Use correct method (AppleScript for folders)\n6. **VERIFY AGAIN** - Confirm correction worked\n\n## Available Scripts\n\nScripts are in `./scripts/` directory.\n\n**For JXA scripts:**\n```bash\nosascript -l JavaScript ./scripts/script-name.js\n```\n\n**For AppleScript:**\n```bash\nosascript ./scripts/script-name.applescript\n```\n\n**IMPORTANT:** Always use pure JXA/AppleScript, NOT Omni Automation URL scheme. The URL scheme triggers security popups for every unique script. Direct scripting runs silently.\n\n### Key JXA Patterns (for individual tasks)\n\n- `doc.inboxTasks.push(task)` - create new tasks\n- `app.add(tag, {to: task.tags})` - add existing tags (not push!)\n- `task.assignedContainer = project` - move to project\n\n### get_inbox.js\nReturns remaining inbox tasks (matches OmniFocus Inbox perspective).\n\n**Filter logic:** Tasks with no project + not completed + not dropped + not deferred to future\n\n**Output:** JSON with count and task array (id, name, note, tags, dueDate)\n\n**Use when:** Starting inbox triage\n\n### get_tags.js\nReturns full tag hierarchy with groupings.\n\n**Output:** JSON with all 129 tags organized by parent/children\n\n**Use when:** Need to find correct tags for a task\n\n### get_projects.js\nReturns full project/folder structure.\n\n**Output:** JSON with projects and folder paths\n\n**Use when:** Need to find correct project for a task\n\n### add_task.js\nCreates a new task with proper tags and project.\n\n**Parameters:** name, project, tags[], dueDate, deferDate, note, flagged\n\n**Use when:** Creating new tasks\n\n### update_task.js\nUpdates any existing task (not just inbox).\n\n**Parameters:** name or id, project, tags[], dueDate, deferDate\n\n**Use when:** Triaging/moving tasks, adding tags\n\n### create_tag.js\nCreates a new tag, optionally under a parent.\n\n**Parameters:** name, parent (optional)\n\n**Use when:** Tag doesn't exist for a person or category\n\n### create_projects_in_folder.applescript\n**CRITICAL:** Creates projects INSIDE folders (not at root level).\n\n**WHY APPLESCRIPT, NOT JXA:**\nExternal JXA scripts (osascript -l JavaScript) **cannot reliably create projects in folders**. Projects appear created but end up at root level, not in the folder. This creates duplicate folders and organizational mess.\n\n**CORRECT PATTERN (AppleScript):**\n```applescript\ntell application \"OmniFocus\"\n  tell default document\n    set myFolder to make new folder with properties {name:\"Folder Name\"}\n    tell myFolder\n      set proj to make new project with properties {name:\"Project Name\", note:\"Description\"}\n      tell proj\n        make new task with properties {name:\"Task Name\"}\n      end tell\n    end tell\n  end tell\nend tell\n```\n\n**WRONG PATTERNS (DO NOT USE):**\n- âŒ JXA: `new Project(name, folderNamed('X'))` - only works in OmniJS, not external scripts\n- âŒ JXA: `project.folder = folder` - sets property but doesn't move\n- âŒ JXA: `project.parentFolder = folder` - projects still at root level\n- âŒ JXA: `folder.projects.push(project)` - fails silently\n\n**DELETION NOTES:**\n- Projects: Use AppleScript `mark dropped proj` command\n- Folders: **Cannot be deleted via script** - must delete manually in OmniFocus UI\n- Always verify folder contents before assuming success\n\n**Use when:** Creating multiple projects organized in folders (annual planning, strategic priorities, etc.)\n\n## Interface for Other Skills\n\nIf another skill needs to create OmniFocus projects/tasks, use these patterns:\n\n### Creating Individual Tasks\n\n**Call directly from other skill:**\n```bash\nosascript -l JavaScript /path/to/omnifocus-manager/scripts/add_task.js '{\n  \"name\": \"Task name\",\n  \"project\": \"Project Name\",\n  \"tags\": [\"Tag1\", \"Tag2\"],\n  \"dueDate\": \"2026-01-15\",\n  \"note\": \"Optional note\"\n}'\n```\n\n### Creating Folder with Multiple Projects\n\n**Build AppleScript dynamically:**\n\n1. **Generate AppleScript string** with folder + projects + tasks structure\n2. **Write to temp file:** `/tmp/create_projects_TIMESTAMP.applescript`\n3. **Execute:** `osascript /tmp/create_projects_TIMESTAMP.applescript`\n4. **Verify:** Check `count of projects of folder \"Folder Name\"` returns expected count\n5. **Clean up:** Remove temp file\n\n**Example structure:**\n```applescript\ntell application \"OmniFocus\"\n  tell default document\n    set targetFolder to make new folder with properties {name:\"FOLDER_NAME\"}\n    tell targetFolder\n      # Repeat for each project:\n      set proj to make new project with properties {name:\"PROJECT_NAME\", note:\"NOTE\"}\n      tell proj\n        # Repeat for each task:\n        make new task with properties {name:\"TASK_NAME\"}\n      end tell\n    end tell\n  end tell\nend tell\n```\n\n**CRITICAL:** Always verify after creation. Don't trust return values.\n\n## Best Practices for Folder/Project Creation\n\n### Pre-Creation Checklist\n\n**BEFORE creating projects in folders:**\n\n1. **Check for existing folders:**\n   ```applescript\n   tell application \"OmniFocus\"\n     tell default document\n       set folderNames to name of every folder\n       return folderNames\n     end tell\n   end tell\n   ```\n\n2. **Verify folder doesn't already exist** to avoid duplicates\n\n3. **Plan the complete structure** - folder name, all project names, all tasks\n\n### During Creation\n\n**CRITICAL RULES:**\n\n1. **Use AppleScript, NOT JXA** for external scripts creating projects in folders\n2. **Create folder FIRST** using `make new folder`\n3. **Use `tell folder` block** for all project creation\n4. **Nest `tell project` blocks** for task creation\n\n### Post-Creation Verification\n\n**ALWAYS verify projects are in folder:**\n\n```applescript\ntell application \"OmniFocus\"\n  tell default document\n    set folderProjects to projects of folder \"Folder Name\"\n    return \"Found \" & (count of folderProjects) & \" projects\"\n  end tell\nend tell\n```\n\n**If count is 0:**\n- Projects created at root level (wrong!)\n- Need to delete and recreate using correct AppleScript pattern\n\n### Cleanup After Errors\n\n**If you create projects incorrectly:**\n\n1. **Drop projects:** `mark dropped proj` for each wrong project\n2. **Empty folders cannot be deleted via script** - must delete manually in OmniFocus UI\n3. **Always verify** after cleanup before recreating\n\n### Complete Example: Creating Folder with Projects\n\n```bash\n# Build AppleScript dynamically\ncat > /tmp/create_folder_projects.applescript << 'EOF'\ntell application \"OmniFocus\"\n  tell default document\n    set myFolder to make new folder with properties {name:\"Project Folder\"}\n    tell myFolder\n      set proj1 to make new project with properties {name:\"Project 1\", note:\"Description\"}\n      tell proj1\n        make new task with properties {name:\"Task 1\"}\n        make new task with properties {name:\"Task 2\"}\n      end tell\n    end tell\n  end tell\nend tell\nEOF\n\n# Execute\nosascript /tmp/create_folder_projects.applescript\n\n# Verify\nosascript << 'VERIFY'\ntell application \"OmniFocus\"\n  tell default document\n    set projectCount to count of projects of folder \"Project Folder\"\n    return \"Created \" & projectCount & \" projects in folder\"\n  end tell\nend tell\nVERIFY\n```\n\n## Tag Hierarchy Reference\n\n**Top-level categories:**\n- **Activity** - What type of work (Creative, Coding, Writing, Reading, Research, etc.)\n- **Energy** - Required mental state (Full Focus, Short Dashes, Brain Dead, Low, High)\n- **Location** - Where to do it (Home, Grocery Stores, PSD Sites, Other Shopping)\n- **People** - Who's involved (Personal family, PSD staff by department)\n- **Groups** - Team meetings (Cabinet, Engineering Team, DLI Admin, etc.)\n- **Time** - When to do it (Morning, Afternoon, Evening)\n- **Communications** - How to communicate (Email, Phone, In Person, etc.)\n- **Online** - Online tools (Freshservice, Github, Google Docs)\n- **Standalone** - Follow Up, Waiting For, Waiting, Kiwanis\n\n**People â†’ PSD breakdown:**\n- Tech: Mel, Bill, Reese, Mark, Brad, Mason, Jordan, etc.\n- DCRC: Jodi, Terri, Laura\n- Comms: Danielle, Jake, Shana\n- ESC: Ashley, John Y, Patrick, Krestin, James, Wendy, Janna, etc.\n- SSOs: Moose, Brent\n\n**Special tags:**\n- Geoffrey - tasks that AI can assist with\n- Full Focus - requires dedicated focus time\n\n## Task Routing Rules\n\n### By Task Type â†’ Project\n\n| Task Type | Project | Default Due |\n|-----------|---------|-------------|\n| Discussions with people | Meetings | 7 days |\n| Phone calls | Meetings | 7 days |\n| CoSN-related | CoSN Work | 7 days |\n| Digital Promise work | Digital Promise | 7 days |\n| AI/automation projects | AI Studio | 7 days |\n| Coding/development | Coding Projects | 7 days |\n| Research/learning | Research for Future Plans | 7 days |\n| SOP/process development | Standard Operating Procedures | 14 days |\n| Form/procedure updates | Department Procedures | 7 days |\n| District reimbursements | Purchasing & Acquisitions | 7 days |\n| Travel approvals | (appropriate project) | 14 days |\n| Data governance | Data Governance | 14 days |\n| Tech support issues | â†’ Freshservice ticket | N/A |\n\n### By Task Type â†’ Tags\n\n| Task Type | Tags |\n|-----------|------|\n| Discussion with person | [Person name], Follow Up |\n| Phone call | Phone, Follow Up |\n| Research tasks | Research |\n| AI-assistable tasks | Geoffrey |\n| Focus time needed | Full Focus |\n| Admin/organizational | Organization |\n| Safety/security related | (relevant ESC person) |\n\n### Routing Signals\n\n**Goes to Meetings project:**\n- \"talk to [person]\"\n- \"discuss with\"\n- \"follow up with\"\n- \"check with\"\n- \"call [person/org]\"\n- \"get [thing] to [person]\"\n\n**Goes to Research for Future Plans:**\n- \"look at/into\"\n- \"what about\"\n- CISA resources\n- Training to consider\n- External resources to review\n\n**Goes to Coding Projects or AI Studio:**\n- AI/automation ideas\n- \"build a program\"\n- Geoffrey capabilities\n- Technical tools to explore\n\n**Needs Freshservice (skip for now):**\n- User-reported issues\n- Equipment requests\n- \"doesn't work/load\"\n- Form rebuild requests\n\n## Common Workflows\n\n### Add a Task\n\n1. Parse user request for: task name, person (if any), context clues\n\n2. Apply routing rules above to determine:\n   - **Project** - based on task type\n   - **Tags** - person + communication method + activity type\n   - **Due date** - based on task type timing\n\n3. If tag doesn't exist, create it with `create_tag.js`\n\n4. Run `add_task.js` with parameters\n\n5. Return standardized output\n\n**Example:**\n```\nUser: \"Follow up with Mel about the drone program\"\n\nActions:\n- Task: \"Follow up with Mel about the drone program\"\n- Project: PSD > General Technology > Digital Innovation Leads\n- Tags: Mel, Follow Up\n- Due: Next 1:1 date or 7 days\n```\n\n### Triage Inbox\n\n1. **Get inbox tasks:**\n   ```bash\n   osascript -l JavaScript ./scripts/get_inbox.js\n   ```\n   This returns only remaining tasks (no project, not completed, not dropped, not deferred)\n\n2. **Present assumptions in batches (10-15 tasks):**\n   - Read task notes for context clues\n   - Apply routing rules to suggest project, tags, due date\n   - Flag unclear tasks that need user input\n\n3. **Ask clarifying questions:**\n   - Who is [person/acronym]?\n   - Which project for [ambiguous task]?\n   - Should this be skipped (needs email context)?\n\n4. **Batch update confirmed tasks:**\n   ```bash\n   osascript -l JavaScript ./scripts/update_task.js '{\"name\":\"...\", \"project\":\"...\", \"tags\":[...], \"dueDate\":\"...\"}'\n   ```\n\n5. **Create missing tags/projects as needed:**\n   ```bash\n   osascript -l JavaScript ./scripts/create_tag.js '{\"name\":\"PersonName\", \"parent\":\"ESC\"}'\n   ```\n\n6. **Skip tasks that need:**\n   - Email context (user needs to read first)\n   - Freshservice ticket creation\n   - More information to route properly\n\n**Triage output format:**\n```markdown\n## My assumptions on remaining tasks:\n\n| # | Task | Project | Tags | Notes |\n|---|------|---------|------|-------|\n| 1 | task name | Meetings | Person, Follow Up | context |\n\n**Questions:**\n- #X: Who is [person]?\n- #Y: Which project for this?\n\nWhich numbers need correction?\n```\n\n### Clean Up Tasks\n\n1. Find tasks that are:\n   - Overdue\n   - Stale (no activity)\n   - Missing tags\n   - In wrong project\n2. Suggest actions:\n   - Complete\n   - Defer\n   - Delete\n   - Re-tag\n   - Move\n\n## Error Handling\n\n**If OmniFocus not running:**\n```\nStatus: âŒ Failed\nError: OmniFocus is not running. Please open OmniFocus and try again.\n```\n\n**If tag not found:**\n- Check for similar tags (fuzzy match)\n- Suggest creating new tag\n- Ask user to clarify\n\n**If project not found:**\n- List available projects in that domain\n- Suggest closest match\n- Ask user to specify\n\n## Output Format\n\nAlways use standardized format:\n\n```markdown\n## Summary\nCreated task with proper tags and project assignment\n\n## Actions\n- Created task: \"[task name]\"\n- Project: [full project path]\n- Tags: [tag1, tag2, tag3]\n- Due: [date]\n- Notes: [if any]\n\n## Status\nâœ… Complete\n\n## Next Steps\n- Task appears in [relevant perspective]\n- Follow up scheduled for [date if applicable]\n```\n\n## Future Enhancements\n\n- [ ] Batch task creation\n- [ ] Smart project suggestion based on content\n- [ ] Calendar integration for due dates\n- [ ] Recurring task patterns\n- [ ] Perspective queries\n- [ ] Task completion tracking\n",
        "skills/pai-monitor/SKILL.md": "---\nname: pai-monitor\ndescription: Monitor Personal AI Infrastructure repo for updates and identify improvement opportunities for Geoffrey. Use when you want to sync Geoffrey with PAI's latest patterns, packs, or architectural decisions.\ntriggers:\n  - \"pai monitor\"\n  - \"check pai\"\n  - \"compare to pai\"\n  - \"sync with pai\"\n  - \"pai updates\"\n  - \"personal ai infrastructure\"\nargument-hint: \"[optional: focus area - packs|hooks|skills|patterns]\"\nmodel: claude-opus-4-5-20251101\ncontext: fork\nagent: Explore\nallowed-tools:\n  - WebFetch\n  - WebSearch\n  - Read\n  - Grep\n  - Glob\nextended-thinking: true\nversion: 1.0.0\n---\n\n# PAI Monitor\n\nMonitor the [Personal AI Infrastructure](https://github.com/danielmiessler/Personal_AI_Infrastructure) repository and identify opportunities to improve Geoffrey.\n\n## Focus Areas\n\nWhen invoked with an argument, focus analysis on that area:\n- **packs** - Deep dive on PAI pack additions/changes\n- **hooks** - Hook system evolution and patterns\n- **skills** - Skill structure and patterns\n- **patterns** - Architectural patterns (memory, validation, etc.)\n\nWithout an argument, perform full analysis across all areas.\n\n---\n\n## Phase 1: Fetch PAI Current State\n\n### 1.1 Core Documentation\nFetch these from `github.com/danielmiessler/Personal_AI_Infrastructure`:\n- `README.md` - Overall structure and philosophy\n- `CLAUDE.md` - System instructions and principles\n- Check releases for version info\n\n### 1.2 Pack Structure\nExplore the Packs/ directory:\n- List all available packs\n- Sample key packs: hooks, algorithm, memory, skills\n- Note any new packs since last analysis\n\n### 1.3 Recent Changes\n- Check recent commits for significant updates\n- Look for new patterns or breaking changes\n- Note any announcements or migration guides\n\n---\n\n## Phase 2: Analyze Geoffrey Current State\n\n### 2.1 Core Architecture\nRead these Geoffrey files:\n- `CLAUDE.md` - Founding principles and guidelines\n- `README.md` - Current capabilities\n- `.claude-plugin/plugin.json` - Version info\n\n### 2.2 Skills Inventory\n```bash\n# Glob for all skills\nskills/*/SKILL.md\n```\nCreate inventory of current skills and their purposes.\n\n### 2.3 Pattern Identification\nIdentify Geoffrey's current patterns:\n- Hook system usage\n- Knowledge storage approach\n- Skill structure conventions\n- Validation patterns\n\n---\n\n## Phase 3: Gap Analysis\n\nCompare Geoffrey against PAI across these dimensions:\n\n### 3.1 Pack/Skill Coverage\n- What PAI packs do we lack equivalent skills for?\n- Which packs would provide highest value?\n- Are there redundant or outdated skills?\n\n### 3.2 Architectural Patterns\n- Hook system: How does PAI's compare to our hooks.json?\n- Memory system: Knowledge persistence patterns\n- Validation: Secret prevention, protected files\n\n### 3.3 Documentation Patterns\n- Does PAI use VERIFY.md, INSTALL.md, or other conventions?\n- Are there documentation patterns we should adopt?\n\n### 3.4 Principles Alignment\nCheck Geoffrey's adherence to PAI founding principles:\n- Scaffolding > Model\n- Code Before Prompts\n- Deterministic Output\n- Goal â†’ Code â†’ CLI â†’ Prompts\n- Test First\n\n### 3.5 New Features\n- Recent PAI additions worth adopting\n- Experimental features to watch\n\n---\n\n## Phase 4: Generate Report\n\nCreate a markdown report with this structure:\n\n```markdown\n# PAI Monitor Report\n\n**Geoffrey Version:** [from plugin.json]\n**PAI Version Analyzed:** [from releases or README]\n**Analysis Date:** [today's date]\n\n## Executive Summary\n[2-3 sentence summary of key findings]\n\n## PAI Recent Changes\n| Date | Change | Relevance to Geoffrey |\n|------|--------|----------------------|\n| ... | ... | ... |\n\n## Packs/Features We Could Adopt\n| Priority | Pack/Feature | Purpose | Complexity | Notes |\n|----------|-------------|---------|------------|-------|\n| High | ... | ... | ... | ... |\n| Medium | ... | ... | ... | ... |\n| Low | ... | ... | ... | ... |\n\n## Pattern Improvements\n\n### 1. [Pattern Name]\n- **PAI Implementation:** [how they do it]\n- **Geoffrey Current:** [how we do it / missing]\n- **Adoption Benefit:** [why adopt]\n- **Files to Modify:** [list]\n\n### 2. [Pattern Name]\n...\n\n## Principles Alignment Check\n| PAI Principle | Geoffrey Status | Gap |\n|--------------|-----------------|-----|\n| Scaffolding > Model | [status] | [gap if any] |\n| Code Before Prompts | [status] | [gap if any] |\n| ... | ... | ... |\n\n## Recommended Actions\n\n### Immediate (This Week)\n- [ ] Action 1\n- [ ] Action 2\n\n### Short-Term (This Month)\n- [ ] Action 1\n- [ ] Action 2\n\n### Long-Term (Explore)\n- [ ] Action 1\n- [ ] Action 2\n```\n\n---\n\n## Key PAI Areas to Monitor\n\nBased on repo structure, these are the primary areas:\n\n| Area | Description | Geoffrey Equivalent |\n|------|-------------|-------------------|\n| Packs/ | 24+ modular capability packages | skills/ |\n| Releases/ | Full system snapshots | plugin versions |\n| Hook System | 14+ event types | hooks.json |\n| Memory System | Knowledge persistence | Obsidian vault |\n| Algorithm System | ISC tracking, metrics | compound learnings |\n| Validation | `.pai-protected.json` | (none currently) |\n\n---\n\n## Execution Notes\n\n1. **Start with Phase 1** - Always fetch fresh PAI data, don't rely on cached knowledge\n2. **Be thorough in Phase 2** - Accurate self-assessment is critical for gap analysis\n3. **Prioritize in Phase 3** - Not all gaps need filling; focus on high-value opportunities\n4. **Actionable Phase 4** - Every recommendation should have clear next steps\n\nWhen focusing on a specific area, still provide brief context from other phases but concentrate analysis on the requested focus.\n",
        "skills/pdf-to-markdown/SKILL.md": "---\nname: pdf-to-markdown\ndescription: Convert PDF to clean Markdown with image content described as text. Use when user wants to convert a PDF to markdown, extract content from PDF, or prepare PDF content for AI tools.\nallowed-tools: Read, Bash\nversion: 1.0.0\n---\n\n# PDF to Markdown Converter\n\nConvert PDF files to clean, well-structured Markdown. Tables become markdown tables. Images and graphics are described as text (no image files generated).\n\n## Quick Start\n\n```bash\nuv run skills/pdf-to-markdown/scripts/convert_to_markdown.py input.pdf\n```\n\nOutput: `~/Desktop/{filename}.md`\n\n## Options\n\n| Flag | Description |\n|------|-------------|\n| `--no-llm` | Skip LLM processing (faster, images become `[Image]` placeholders) |\n| `--force-ocr` | Force OCR on all pages (for scanned PDFs) |\n| `--page-range \"0,5-10\"` | Process specific pages only |\n\n## Common Use Cases\n\n### Convert a PDF with default settings\n```bash\nuv run skills/pdf-to-markdown/scripts/convert_to_markdown.py ~/Documents/report.pdf\n```\n\n### Specify output location\n```bash\nuv run skills/pdf-to-markdown/scripts/convert_to_markdown.py report.pdf ~/Documents/report.md\n```\n\n### Fast conversion (no image descriptions)\n```bash\nuv run skills/pdf-to-markdown/scripts/convert_to_markdown.py --no-llm report.pdf\n```\n\n### Scanned PDF (force OCR)\n```bash\nuv run skills/pdf-to-markdown/scripts/convert_to_markdown.py --force-ocr scanned_doc.pdf\n```\n\n### Extract specific pages\n```bash\nuv run skills/pdf-to-markdown/scripts/convert_to_markdown.py --page-range \"0-5\" large_report.pdf\n```\n\n## Output\n\n- Pure Markdown text (no embedded images)\n- Tables converted to Markdown table format\n- Images/charts described as text using LLM\n- Clean formatting suitable for AI processing\n\n## Requirements\n\n- **GEMINI_API_KEY**: Required for LLM image descriptions (loaded from 1Password)\n- Use `--no-llm` flag if you don't have Gemini API access\n\n## First Run Note\n\nThe first run downloads ML models (~1-2GB) which are cached at `~/.cache/marker/`. Subsequent runs are faster.\n\n## Technical Details\n\nUses [Marker](https://github.com/VikParuchuri/marker) library:\n- 31k+ GitHub stars\n- Best-in-class PDF conversion accuracy\n- Surya OCR for 90+ languages\n- Gemini LLM integration for image understanding\n",
        "skills/pdf/SKILL.md": "---\nname: pdf\ndescription: Comprehensive PDF manipulation toolkit for extracting text and tables, creating new PDFs, merging/splitting documents, and handling forms. When Claude needs to fill in a PDF form or programmatically process, generate, or analyze PDF documents at scale.\ntriggers:\n  - \"pdf\"\n  - \"fill pdf form\"\n  - \"extract pdf\"\n  - \"merge pdf\"\n  - \"split pdf\"\n  - \".pdf\"\nallowed-tools: Read, Write, Edit, Bash, Glob\nversion: 1.0.0\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# PDF Processing Guide\n\n## Overview\n\nThis guide covers essential PDF processing operations using Python libraries and command-line tools. For advanced features, JavaScript libraries, and detailed examples, see reference.md. If you need to fill out a PDF form, read forms.md and follow its instructions.\n\n## Quick Start\n\n```python\nfrom pypdf import PdfReader, PdfWriter\n\n# Read a PDF\nreader = PdfReader(\"document.pdf\")\nprint(f\"Pages: {len(reader.pages)}\")\n\n# Extract text\ntext = \"\"\nfor page in reader.pages:\n    text += page.extract_text()\n```\n\n## Python Libraries\n\n### pypdf - Basic Operations\n\n#### Merge PDFs\n```python\nfrom pypdf import PdfWriter, PdfReader\n\nwriter = PdfWriter()\nfor pdf_file in [\"doc1.pdf\", \"doc2.pdf\", \"doc3.pdf\"]:\n    reader = PdfReader(pdf_file)\n    for page in reader.pages:\n        writer.add_page(page)\n\nwith open(\"merged.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n#### Split PDF\n```python\nreader = PdfReader(\"input.pdf\")\nfor i, page in enumerate(reader.pages):\n    writer = PdfWriter()\n    writer.add_page(page)\n    with open(f\"page_{i+1}.pdf\", \"wb\") as output:\n        writer.write(output)\n```\n\n#### Extract Metadata\n```python\nreader = PdfReader(\"document.pdf\")\nmeta = reader.metadata\nprint(f\"Title: {meta.title}\")\nprint(f\"Author: {meta.author}\")\nprint(f\"Subject: {meta.subject}\")\nprint(f\"Creator: {meta.creator}\")\n```\n\n#### Rotate Pages\n```python\nreader = PdfReader(\"input.pdf\")\nwriter = PdfWriter()\n\npage = reader.pages[0]\npage.rotate(90)  # Rotate 90 degrees clockwise\nwriter.add_page(page)\n\nwith open(\"rotated.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n### pdfplumber - Text and Table Extraction\n\n#### Extract Text with Layout\n```python\nimport pdfplumber\n\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    for page in pdf.pages:\n        text = page.extract_text()\n        print(text)\n```\n\n#### Extract Tables\n```python\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    for i, page in enumerate(pdf.pages):\n        tables = page.extract_tables()\n        for j, table in enumerate(tables):\n            print(f\"Table {j+1} on page {i+1}:\")\n            for row in table:\n                print(row)\n```\n\n#### Advanced Table Extraction\n```python\nimport pandas as pd\n\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    all_tables = []\n    for page in pdf.pages:\n        tables = page.extract_tables()\n        for table in tables:\n            if table:  # Check if table is not empty\n                df = pd.DataFrame(table[1:], columns=table[0])\n                all_tables.append(df)\n\n# Combine all tables\nif all_tables:\n    combined_df = pd.concat(all_tables, ignore_index=True)\n    combined_df.to_excel(\"extracted_tables.xlsx\", index=False)\n```\n\n### reportlab - Create PDFs\n\n#### Basic PDF Creation\n```python\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.pdfgen import canvas\n\nc = canvas.Canvas(\"hello.pdf\", pagesize=letter)\nwidth, height = letter\n\n# Add text\nc.drawString(100, height - 100, \"Hello World!\")\nc.drawString(100, height - 120, \"This is a PDF created with reportlab\")\n\n# Add a line\nc.line(100, height - 140, 400, height - 140)\n\n# Save\nc.save()\n```\n\n#### Create PDF with Multiple Pages\n```python\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer, PageBreak\nfrom reportlab.lib.styles import getSampleStyleSheet\n\ndoc = SimpleDocTemplate(\"report.pdf\", pagesize=letter)\nstyles = getSampleStyleSheet()\nstory = []\n\n# Add content\ntitle = Paragraph(\"Report Title\", styles['Title'])\nstory.append(title)\nstory.append(Spacer(1, 12))\n\nbody = Paragraph(\"This is the body of the report. \" * 20, styles['Normal'])\nstory.append(body)\nstory.append(PageBreak())\n\n# Page 2\nstory.append(Paragraph(\"Page 2\", styles['Heading1']))\nstory.append(Paragraph(\"Content for page 2\", styles['Normal']))\n\n# Build PDF\ndoc.build(story)\n```\n\n## Command-Line Tools\n\n### pdftotext (poppler-utils)\n```bash\n# Extract text\npdftotext input.pdf output.txt\n\n# Extract text preserving layout\npdftotext -layout input.pdf output.txt\n\n# Extract specific pages\npdftotext -f 1 -l 5 input.pdf output.txt  # Pages 1-5\n```\n\n### qpdf\n```bash\n# Merge PDFs\nqpdf --empty --pages file1.pdf file2.pdf -- merged.pdf\n\n# Split pages\nqpdf input.pdf --pages . 1-5 -- pages1-5.pdf\nqpdf input.pdf --pages . 6-10 -- pages6-10.pdf\n\n# Rotate pages\nqpdf input.pdf output.pdf --rotate=+90:1  # Rotate page 1 by 90 degrees\n\n# Remove password\nqpdf --password=mypassword --decrypt encrypted.pdf decrypted.pdf\n```\n\n### pdftk (if available)\n```bash\n# Merge\npdftk file1.pdf file2.pdf cat output merged.pdf\n\n# Split\npdftk input.pdf burst\n\n# Rotate\npdftk input.pdf rotate 1east output rotated.pdf\n```\n\n## Common Tasks\n\n### Extract Text from Scanned PDFs\n```python\n# Requires: pip install pytesseract pdf2image\nimport pytesseract\nfrom pdf2image import convert_from_path\n\n# Convert PDF to images\nimages = convert_from_path('scanned.pdf')\n\n# OCR each page\ntext = \"\"\nfor i, image in enumerate(images):\n    text += f\"Page {i+1}:\\n\"\n    text += pytesseract.image_to_string(image)\n    text += \"\\n\\n\"\n\nprint(text)\n```\n\n### Add Watermark\n```python\nfrom pypdf import PdfReader, PdfWriter\n\n# Create watermark (or load existing)\nwatermark = PdfReader(\"watermark.pdf\").pages[0]\n\n# Apply to all pages\nreader = PdfReader(\"document.pdf\")\nwriter = PdfWriter()\n\nfor page in reader.pages:\n    page.merge_page(watermark)\n    writer.add_page(page)\n\nwith open(\"watermarked.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n### Extract Images\n```bash\n# Using pdfimages (poppler-utils)\npdfimages -j input.pdf output_prefix\n\n# This extracts all images as output_prefix-000.jpg, output_prefix-001.jpg, etc.\n```\n\n### Password Protection\n```python\nfrom pypdf import PdfReader, PdfWriter\n\nreader = PdfReader(\"input.pdf\")\nwriter = PdfWriter()\n\nfor page in reader.pages:\n    writer.add_page(page)\n\n# Add password\nwriter.encrypt(\"userpassword\", \"ownerpassword\")\n\nwith open(\"encrypted.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n## Quick Reference\n\n| Task | Best Tool | Command/Code |\n|------|-----------|--------------|\n| Merge PDFs | pypdf | `writer.add_page(page)` |\n| Split PDFs | pypdf | One page per file |\n| Extract text | pdfplumber | `page.extract_text()` |\n| Extract tables | pdfplumber | `page.extract_tables()` |\n| Create PDFs | reportlab | Canvas or Platypus |\n| Command line merge | qpdf | `qpdf --empty --pages ...` |\n| OCR scanned PDFs | pytesseract | Convert to image first |\n| Fill PDF forms | pdf-lib or pypdf (see forms.md) | See forms.md |\n\n## Next Steps\n\n- For advanced pypdfium2 usage, see reference.md\n- For JavaScript libraries (pdf-lib), see reference.md\n- If you need to fill out a PDF form, follow the instructions in forms.md\n- For troubleshooting guides, see reference.md\n",
        "skills/pdf/forms.md": "**CRITICAL: You MUST complete these steps in order. Do not skip ahead to writing code.**\n\nIf you need to fill out a PDF form, first check to see if the PDF has fillable form fields. Run this script from this file's directory:\n `skills/pdf/scripts/check_fillable_fields <file.pdf>`, and depending on the result go to either the \"Fillable fields\" or \"Non-fillable fields\" and follow those instructions.\n\n# Fillable fields\nIf the PDF has fillable form fields:\n- Run this script from this file's directory: `skills/pdf/scripts/extract_form_field_info.py <input.pdf> <field_info.json>`. It will create a JSON file with a list of fields in this format:\n```\n[\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"rect\": ([left, bottom, right, top] bounding box in PDF coordinates, y=0 is the bottom of the page),\n    \"type\": (\"text\", \"checkbox\", \"radio_group\", or \"choice\"),\n  },\n  // Checkboxes have \"checked_value\" and \"unchecked_value\" properties:\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"type\": \"checkbox\",\n    \"checked_value\": (Set the field to this value to check the checkbox),\n    \"unchecked_value\": (Set the field to this value to uncheck the checkbox),\n  },\n  // Radio groups have a \"radio_options\" list with the possible choices.\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"type\": \"radio_group\",\n    \"radio_options\": [\n      {\n        \"value\": (set the field to this value to select this radio option),\n        \"rect\": (bounding box for the radio button for this option)\n      },\n      // Other radio options\n    ]\n  },\n  // Multiple choice fields have a \"choice_options\" list with the possible choices:\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"type\": \"choice\",\n    \"choice_options\": [\n      {\n        \"value\": (set the field to this value to select this option),\n        \"text\": (display text of the option)\n      },\n      // Other choice options\n    ],\n  }\n]\n```\n- Convert the PDF to PNGs (one image for each page) with this script (run from this file's directory):\n`skills/pdf/scripts/convert_pdf_to_images.py <file.pdf> <output_directory>`\nThen analyze the images to determine the purpose of each form field (make sure to convert the bounding box PDF coordinates to image coordinates).\n- Create a `field_values.json` file in this format with the values to be entered for each field:\n```\n[\n  {\n    \"field_id\": \"last_name\", // Must match the field_id from `extract_form_field_info.py`\n    \"description\": \"The user's last name\",\n    \"page\": 1, // Must match the \"page\" value in field_info.json\n    \"value\": \"Simpson\"\n  },\n  {\n    \"field_id\": \"Checkbox12\",\n    \"description\": \"Checkbox to be checked if the user is 18 or over\",\n    \"page\": 1,\n    \"value\": \"/On\" // If this is a checkbox, use its \"checked_value\" value to check it. If it's a radio button group, use one of the \"value\" values in \"radio_options\".\n  },\n  // more fields\n]\n```\n- Run the `fill_fillable_fields.py` script from this file's directory to create a filled-in PDF:\n`skills/pdf/scripts/fill_fillable_fields.py <input pdf> <field_values.json> <output pdf>`\nThis script will verify that the field IDs and values you provide are valid; if it prints error messages, correct the appropriate fields and try again.\n\n# Non-fillable fields\nIf the PDF doesn't have fillable form fields, you'll need to visually determine where the data should be added and create text annotations. Follow the below steps *exactly*. You MUST perform all of these steps to ensure that the the form is accurately completed. Details for each step are below.\n- Convert the PDF to PNG images and determine field bounding boxes.\n- Create a JSON file with field information and validation images showing the bounding boxes.\n- Validate the the bounding boxes.\n- Use the bounding boxes to fill in the form.\n\n## Step 1: Visual Analysis (REQUIRED)\n- Convert the PDF to PNG images. Run this script from this file's directory:\n`skills/pdf/scripts/convert_pdf_to_images.py <file.pdf> <output_directory>`\nThe script will create a PNG image for each page in the PDF.\n- Carefully examine each PNG image and identify all form fields and areas where the user should enter data. For each form field where the user should enter text, determine bounding boxes for both the form field label, and the area where the user should enter text. The label and entry bounding boxes MUST NOT INTERSECT; the text entry box should only include the area where data should be entered. Usually this area will be immediately to the side, above, or below its label. Entry bounding boxes must be tall and wide enough to contain their text.\n\nThese are some examples of form structures that you might see:\n\n*Label inside box*\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Name:                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\nThe input area should be to the right of the \"Name\" label and extend to the edge of the box.\n\n*Label before line*\n```\nEmail: _______________________\n```\nThe input area should be above the line and include its entire width.\n\n*Label under line*\n```\n_________________________\nName\n```\nThe input area should be above the line and include the entire width of the line. This is common for signature and date fields.\n\n*Label above line*\n```\nPlease enter any special requests:\n________________________________________________\n```\nThe input area should extend from the bottom of the label to the line, and should include the entire width of the line.\n\n*Checkboxes*\n```\nAre you a US citizen? Yes â–¡  No â–¡\n```\nFor checkboxes:\n- Look for small square boxes (â–¡) - these are the actual checkboxes to target. They may be to the left or right of their labels.\n- Distinguish between label text (\"Yes\", \"No\") and the clickable checkbox squares.\n- The entry bounding box should cover ONLY the small square, not the text label.\n\n### Step 2: Create fields.json and validation images (REQUIRED)\n- Create a file named `fields.json` with information for the form fields and bounding boxes in this format:\n```\n{\n  \"pages\": [\n    {\n      \"page_number\": 1,\n      \"image_width\": (first page image width in pixels),\n      \"image_height\": (first page image height in pixels),\n    },\n    {\n      \"page_number\": 2,\n      \"image_width\": (second page image width in pixels),\n      \"image_height\": (second page image height in pixels),\n    }\n    // additional pages\n  ],\n  \"form_fields\": [\n    // Example for a text field.\n    {\n      \"page_number\": 1,\n      \"description\": \"The user's last name should be entered here\",\n      // Bounding boxes are [left, top, right, bottom]. The bounding boxes for the label and text entry should not overlap.\n      \"field_label\": \"Last name\",\n      \"label_bounding_box\": [30, 125, 95, 142],\n      \"entry_bounding_box\": [100, 125, 280, 142],\n      \"entry_text\": {\n        \"text\": \"Johnson\", // This text will be added as an annotation at the entry_bounding_box location\n        \"font_size\": 14, // optional, defaults to 14\n        \"font_color\": \"000000\", // optional, RRGGBB format, defaults to 000000 (black)\n      }\n    },\n    // Example for a checkbox. TARGET THE SQUARE for the entry bounding box, NOT THE TEXT\n    {\n      \"page_number\": 2,\n      \"description\": \"Checkbox that should be checked if the user is over 18\",\n      \"entry_bounding_box\": [140, 525, 155, 540],  // Small box over checkbox square\n      \"field_label\": \"Yes\",\n      \"label_bounding_box\": [100, 525, 132, 540],  // Box containing \"Yes\" text\n      // Use \"X\" to check a checkbox.\n      \"entry_text\": {\n        \"text\": \"X\",\n      }\n    }\n    // additional form field entries\n  ]\n}\n```\n\nCreate validation images by running this script from this file's directory for each page:\n`skills/pdf/scripts/create_validation_image.py <page_number> <path_to_fields.json> <input_image_path> <output_image_path>\n\nThe validation images will have red rectangles where text should be entered, and blue rectangles covering label text.\n\n### Step 3: Validate Bounding Boxes (REQUIRED)\n#### Automated intersection check\n- Verify that none of bounding boxes intersect and that the entry bounding boxes are tall enough by checking the fields.json file with the `check_bounding_boxes.py` script (run from this file's directory):\n`skills/pdf/scripts/check_bounding_boxes.py <JSON file>`\n\nIf there are errors, reanalyze the relevant fields, adjust the bounding boxes, and iterate until there are no remaining errors. Remember: label (blue) bounding boxes should contain text labels, entry (red) boxes should not.\n\n#### Manual image inspection\n**CRITICAL: Do not proceed without visually inspecting validation images**\n- Red rectangles must ONLY cover input areas\n- Red rectangles MUST NOT contain any text\n- Blue rectangles should contain label text\n- For checkboxes:\n  - Red rectangle MUST be centered on the checkbox square\n  - Blue rectangle should cover the text label for the checkbox\n\n- If any rectangles look wrong, fix fields.json, regenerate the validation images, and verify again. Repeat this process until the bounding boxes are fully accurate.\n\n\n### Step 4: Add annotations to the PDF\nRun this script from this file's directory to create a filled-out PDF using the information in fields.json:\n`skills/pdf/scripts/fill_pdf_form_with_annotations.py <input_pdf_path> <path_to_fields.json> <output_pdf_path>\n",
        "skills/pdf/reference.md": "# PDF Processing Advanced Reference\n\nThis document contains advanced PDF processing features, detailed examples, and additional libraries not covered in the main skill instructions.\n\n## pypdfium2 Library (Apache/BSD License)\n\n### Overview\npypdfium2 is a Python binding for PDFium (Chromium's PDF library). It's excellent for fast PDF rendering, image generation, and serves as a PyMuPDF replacement.\n\n### Render PDF to Images\n```python\nimport pypdfium2 as pdfium\nfrom PIL import Image\n\n# Load PDF\npdf = pdfium.PdfDocument(\"document.pdf\")\n\n# Render page to image\npage = pdf[0]  # First page\nbitmap = page.render(\n    scale=2.0,  # Higher resolution\n    rotation=0  # No rotation\n)\n\n# Convert to PIL Image\nimg = bitmap.to_pil()\nimg.save(\"page_1.png\", \"PNG\")\n\n# Process multiple pages\nfor i, page in enumerate(pdf):\n    bitmap = page.render(scale=1.5)\n    img = bitmap.to_pil()\n    img.save(f\"page_{i+1}.jpg\", \"JPEG\", quality=90)\n```\n\n### Extract Text with pypdfium2\n```python\nimport pypdfium2 as pdfium\n\npdf = pdfium.PdfDocument(\"document.pdf\")\nfor i, page in enumerate(pdf):\n    text = page.get_text()\n    print(f\"Page {i+1} text length: {len(text)} chars\")\n```\n\n## JavaScript Libraries\n\n### pdf-lib (MIT License)\n\npdf-lib is a powerful JavaScript library for creating and modifying PDF documents in any JavaScript environment.\n\n#### Load and Manipulate Existing PDF\n```javascript\nimport { PDFDocument } from 'pdf-lib';\nimport fs from 'fs';\n\nasync function manipulatePDF() {\n    // Load existing PDF\n    const existingPdfBytes = fs.readFileSync('input.pdf');\n    const pdfDoc = await PDFDocument.load(existingPdfBytes);\n\n    // Get page count\n    const pageCount = pdfDoc.getPageCount();\n    console.log(`Document has ${pageCount} pages`);\n\n    // Add new page\n    const newPage = pdfDoc.addPage([600, 400]);\n    newPage.drawText('Added by pdf-lib', {\n        x: 100,\n        y: 300,\n        size: 16\n    });\n\n    // Save modified PDF\n    const pdfBytes = await pdfDoc.save();\n    fs.writeFileSync('modified.pdf', pdfBytes);\n}\n```\n\n#### Create Complex PDFs from Scratch\n```javascript\nimport { PDFDocument, rgb, StandardFonts } from 'pdf-lib';\nimport fs from 'fs';\n\nasync function createPDF() {\n    const pdfDoc = await PDFDocument.create();\n\n    // Add fonts\n    const helveticaFont = await pdfDoc.embedFont(StandardFonts.Helvetica);\n    const helveticaBold = await pdfDoc.embedFont(StandardFonts.HelveticaBold);\n\n    // Add page\n    const page = pdfDoc.addPage([595, 842]); // A4 size\n    const { width, height } = page.getSize();\n\n    // Add text with styling\n    page.drawText('Invoice #12345', {\n        x: 50,\n        y: height - 50,\n        size: 18,\n        font: helveticaBold,\n        color: rgb(0.2, 0.2, 0.8)\n    });\n\n    // Add rectangle (header background)\n    page.drawRectangle({\n        x: 40,\n        y: height - 100,\n        width: width - 80,\n        height: 30,\n        color: rgb(0.9, 0.9, 0.9)\n    });\n\n    // Add table-like content\n    const items = [\n        ['Item', 'Qty', 'Price', 'Total'],\n        ['Widget', '2', '$50', '$100'],\n        ['Gadget', '1', '$75', '$75']\n    ];\n\n    let yPos = height - 150;\n    items.forEach(row => {\n        let xPos = 50;\n        row.forEach(cell => {\n            page.drawText(cell, {\n                x: xPos,\n                y: yPos,\n                size: 12,\n                font: helveticaFont\n            });\n            xPos += 120;\n        });\n        yPos -= 25;\n    });\n\n    const pdfBytes = await pdfDoc.save();\n    fs.writeFileSync('created.pdf', pdfBytes);\n}\n```\n\n#### Advanced Merge and Split Operations\n```javascript\nimport { PDFDocument } from 'pdf-lib';\nimport fs from 'fs';\n\nasync function mergePDFs() {\n    // Create new document\n    const mergedPdf = await PDFDocument.create();\n\n    // Load source PDFs\n    const pdf1Bytes = fs.readFileSync('doc1.pdf');\n    const pdf2Bytes = fs.readFileSync('doc2.pdf');\n\n    const pdf1 = await PDFDocument.load(pdf1Bytes);\n    const pdf2 = await PDFDocument.load(pdf2Bytes);\n\n    // Copy pages from first PDF\n    const pdf1Pages = await mergedPdf.copyPages(pdf1, pdf1.getPageIndices());\n    pdf1Pages.forEach(page => mergedPdf.addPage(page));\n\n    // Copy specific pages from second PDF (pages 0, 2, 4)\n    const pdf2Pages = await mergedPdf.copyPages(pdf2, [0, 2, 4]);\n    pdf2Pages.forEach(page => mergedPdf.addPage(page));\n\n    const mergedPdfBytes = await mergedPdf.save();\n    fs.writeFileSync('merged.pdf', mergedPdfBytes);\n}\n```\n\n### pdfjs-dist (Apache License)\n\nPDF.js is Mozilla's JavaScript library for rendering PDFs in the browser.\n\n#### Basic PDF Loading and Rendering\n```javascript\nimport * as pdfjsLib from 'pdfjs-dist';\n\n// Configure worker (important for performance)\npdfjsLib.GlobalWorkerOptions.workerSrc = './pdf.worker.js';\n\nasync function renderPDF() {\n    // Load PDF\n    const loadingTask = pdfjsLib.getDocument('document.pdf');\n    const pdf = await loadingTask.promise;\n\n    console.log(`Loaded PDF with ${pdf.numPages} pages`);\n\n    // Get first page\n    const page = await pdf.getPage(1);\n    const viewport = page.getViewport({ scale: 1.5 });\n\n    // Render to canvas\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    canvas.height = viewport.height;\n    canvas.width = viewport.width;\n\n    const renderContext = {\n        canvasContext: context,\n        viewport: viewport\n    };\n\n    await page.render(renderContext).promise;\n    document.body.appendChild(canvas);\n}\n```\n\n#### Extract Text with Coordinates\n```javascript\nimport * as pdfjsLib from 'pdfjs-dist';\n\nasync function extractText() {\n    const loadingTask = pdfjsLib.getDocument('document.pdf');\n    const pdf = await loadingTask.promise;\n\n    let fullText = '';\n\n    // Extract text from all pages\n    for (let i = 1; i <= pdf.numPages; i++) {\n        const page = await pdf.getPage(i);\n        const textContent = await page.getTextContent();\n\n        const pageText = textContent.items\n            .map(item => item.str)\n            .join(' ');\n\n        fullText += `\\n--- Page ${i} ---\\n${pageText}`;\n\n        // Get text with coordinates for advanced processing\n        const textWithCoords = textContent.items.map(item => ({\n            text: item.str,\n            x: item.transform[4],\n            y: item.transform[5],\n            width: item.width,\n            height: item.height\n        }));\n    }\n\n    console.log(fullText);\n    return fullText;\n}\n```\n\n#### Extract Annotations and Forms\n```javascript\nimport * as pdfjsLib from 'pdfjs-dist';\n\nasync function extractAnnotations() {\n    const loadingTask = pdfjsLib.getDocument('annotated.pdf');\n    const pdf = await loadingTask.promise;\n\n    for (let i = 1; i <= pdf.numPages; i++) {\n        const page = await pdf.getPage(i);\n        const annotations = await page.getAnnotations();\n\n        annotations.forEach(annotation => {\n            console.log(`Annotation type: ${annotation.subtype}`);\n            console.log(`Content: ${annotation.contents}`);\n            console.log(`Coordinates: ${JSON.stringify(annotation.rect)}`);\n        });\n    }\n}\n```\n\n## Advanced Command-Line Operations\n\n### poppler-utils Advanced Features\n\n#### Extract Text with Bounding Box Coordinates\n```bash\n# Extract text with bounding box coordinates (essential for structured data)\npdftotext -bbox-layout document.pdf output.xml\n\n# The XML output contains precise coordinates for each text element\n```\n\n#### Advanced Image Conversion\n```bash\n# Convert to PNG images with specific resolution\npdftoppm -png -r 300 document.pdf output_prefix\n\n# Convert specific page range with high resolution\npdftoppm -png -r 600 -f 1 -l 3 document.pdf high_res_pages\n\n# Convert to JPEG with quality setting\npdftoppm -jpeg -jpegopt quality=85 -r 200 document.pdf jpeg_output\n```\n\n#### Extract Embedded Images\n```bash\n# Extract all embedded images with metadata\npdfimages -j -p document.pdf page_images\n\n# List image info without extracting\npdfimages -list document.pdf\n\n# Extract images in their original format\npdfimages -all document.pdf images/img\n```\n\n### qpdf Advanced Features\n\n#### Complex Page Manipulation\n```bash\n# Split PDF into groups of pages\nqpdf --split-pages=3 input.pdf output_group_%02d.pdf\n\n# Extract specific pages with complex ranges\nqpdf input.pdf --pages input.pdf 1,3-5,8,10-end -- extracted.pdf\n\n# Merge specific pages from multiple PDFs\nqpdf --empty --pages doc1.pdf 1-3 doc2.pdf 5-7 doc3.pdf 2,4 -- combined.pdf\n```\n\n#### PDF Optimization and Repair\n```bash\n# Optimize PDF for web (linearize for streaming)\nqpdf --linearize input.pdf optimized.pdf\n\n# Remove unused objects and compress\nqpdf --optimize-level=all input.pdf compressed.pdf\n\n# Attempt to repair corrupted PDF structure\nqpdf --check input.pdf\nqpdf --fix-qdf damaged.pdf repaired.pdf\n\n# Show detailed PDF structure for debugging\nqpdf --show-all-pages input.pdf > structure.txt\n```\n\n#### Advanced Encryption\n```bash\n# Add password protection with specific permissions\nqpdf --encrypt user_pass owner_pass 256 --print=none --modify=none -- input.pdf encrypted.pdf\n\n# Check encryption status\nqpdf --show-encryption encrypted.pdf\n\n# Remove password protection (requires password)\nqpdf --password=secret123 --decrypt encrypted.pdf decrypted.pdf\n```\n\n## Advanced Python Techniques\n\n### pdfplumber Advanced Features\n\n#### Extract Text with Precise Coordinates\n```python\nimport pdfplumber\n\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    page = pdf.pages[0]\n    \n    # Extract all text with coordinates\n    chars = page.chars\n    for char in chars[:10]:  # First 10 characters\n        print(f\"Char: '{char['text']}' at x:{char['x0']:.1f} y:{char['y0']:.1f}\")\n    \n    # Extract text by bounding box (left, top, right, bottom)\n    bbox_text = page.within_bbox((100, 100, 400, 200)).extract_text()\n```\n\n#### Advanced Table Extraction with Custom Settings\n```python\nimport pdfplumber\nimport pandas as pd\n\nwith pdfplumber.open(\"complex_table.pdf\") as pdf:\n    page = pdf.pages[0]\n    \n    # Extract tables with custom settings for complex layouts\n    table_settings = {\n        \"vertical_strategy\": \"lines\",\n        \"horizontal_strategy\": \"lines\",\n        \"snap_tolerance\": 3,\n        \"intersection_tolerance\": 15\n    }\n    tables = page.extract_tables(table_settings)\n    \n    # Visual debugging for table extraction\n    img = page.to_image(resolution=150)\n    img.save(\"debug_layout.png\")\n```\n\n### reportlab Advanced Features\n\n#### Create Professional Reports with Tables\n```python\nfrom reportlab.platypus import SimpleDocTemplate, Table, TableStyle, Paragraph\nfrom reportlab.lib.styles import getSampleStyleSheet\nfrom reportlab.lib import colors\n\n# Sample data\ndata = [\n    ['Product', 'Q1', 'Q2', 'Q3', 'Q4'],\n    ['Widgets', '120', '135', '142', '158'],\n    ['Gadgets', '85', '92', '98', '105']\n]\n\n# Create PDF with table\ndoc = SimpleDocTemplate(\"report.pdf\")\nelements = []\n\n# Add title\nstyles = getSampleStyleSheet()\ntitle = Paragraph(\"Quarterly Sales Report\", styles['Title'])\nelements.append(title)\n\n# Add table with advanced styling\ntable = Table(data)\ntable.setStyle(TableStyle([\n    ('BACKGROUND', (0, 0), (-1, 0), colors.grey),\n    ('TEXTCOLOR', (0, 0), (-1, 0), colors.whitesmoke),\n    ('ALIGN', (0, 0), (-1, -1), 'CENTER'),\n    ('FONTNAME', (0, 0), (-1, 0), 'Helvetica-Bold'),\n    ('FONTSIZE', (0, 0), (-1, 0), 14),\n    ('BOTTOMPADDING', (0, 0), (-1, 0), 12),\n    ('BACKGROUND', (0, 1), (-1, -1), colors.beige),\n    ('GRID', (0, 0), (-1, -1), 1, colors.black)\n]))\nelements.append(table)\n\ndoc.build(elements)\n```\n\n## Complex Workflows\n\n### Extract Figures/Images from PDF\n\n#### Method 1: Using pdfimages (fastest)\n```bash\n# Extract all images with original quality\npdfimages -all document.pdf images/img\n```\n\n#### Method 2: Using pypdfium2 + Image Processing\n```python\nimport pypdfium2 as pdfium\nfrom PIL import Image\nimport numpy as np\n\ndef extract_figures(pdf_path, output_dir):\n    pdf = pdfium.PdfDocument(pdf_path)\n    \n    for page_num, page in enumerate(pdf):\n        # Render high-resolution page\n        bitmap = page.render(scale=3.0)\n        img = bitmap.to_pil()\n        \n        # Convert to numpy for processing\n        img_array = np.array(img)\n        \n        # Simple figure detection (non-white regions)\n        mask = np.any(img_array != [255, 255, 255], axis=2)\n        \n        # Find contours and extract bounding boxes\n        # (This is simplified - real implementation would need more sophisticated detection)\n        \n        # Save detected figures\n        # ... implementation depends on specific needs\n```\n\n### Batch PDF Processing with Error Handling\n```python\nimport os\nimport glob\nfrom pypdf import PdfReader, PdfWriter\nimport logging\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\ndef batch_process_pdfs(input_dir, operation='merge'):\n    pdf_files = glob.glob(os.path.join(input_dir, \"*.pdf\"))\n    \n    if operation == 'merge':\n        writer = PdfWriter()\n        for pdf_file in pdf_files:\n            try:\n                reader = PdfReader(pdf_file)\n                for page in reader.pages:\n                    writer.add_page(page)\n                logger.info(f\"Processed: {pdf_file}\")\n            except Exception as e:\n                logger.error(f\"Failed to process {pdf_file}: {e}\")\n                continue\n        \n        with open(\"batch_merged.pdf\", \"wb\") as output:\n            writer.write(output)\n    \n    elif operation == 'extract_text':\n        for pdf_file in pdf_files:\n            try:\n                reader = PdfReader(pdf_file)\n                text = \"\"\n                for page in reader.pages:\n                    text += page.extract_text()\n                \n                output_file = pdf_file.replace('.pdf', '.txt')\n                with open(output_file, 'w', encoding='utf-8') as f:\n                    f.write(text)\n                logger.info(f\"Extracted text from: {pdf_file}\")\n                \n            except Exception as e:\n                logger.error(f\"Failed to extract text from {pdf_file}: {e}\")\n                continue\n```\n\n### Advanced PDF Cropping\n```python\nfrom pypdf import PdfWriter, PdfReader\n\nreader = PdfReader(\"input.pdf\")\nwriter = PdfWriter()\n\n# Crop page (left, bottom, right, top in points)\npage = reader.pages[0]\npage.mediabox.left = 50\npage.mediabox.bottom = 50\npage.mediabox.right = 550\npage.mediabox.top = 750\n\nwriter.add_page(page)\nwith open(\"cropped.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n## Performance Optimization Tips\n\n### 1. For Large PDFs\n- Use streaming approaches instead of loading entire PDF in memory\n- Use `qpdf --split-pages` for splitting large files\n- Process pages individually with pypdfium2\n\n### 2. For Text Extraction\n- `pdftotext -bbox-layout` is fastest for plain text extraction\n- Use pdfplumber for structured data and tables\n- Avoid `pypdf.extract_text()` for very large documents\n\n### 3. For Image Extraction\n- `pdfimages` is much faster than rendering pages\n- Use low resolution for previews, high resolution for final output\n\n### 4. For Form Filling\n- pdf-lib maintains form structure better than most alternatives\n- Pre-validate form fields before processing\n\n### 5. Memory Management\n```python\n# Process PDFs in chunks\ndef process_large_pdf(pdf_path, chunk_size=10):\n    reader = PdfReader(pdf_path)\n    total_pages = len(reader.pages)\n    \n    for start_idx in range(0, total_pages, chunk_size):\n        end_idx = min(start_idx + chunk_size, total_pages)\n        writer = PdfWriter()\n        \n        for i in range(start_idx, end_idx):\n            writer.add_page(reader.pages[i])\n        \n        # Process chunk\n        with open(f\"chunk_{start_idx//chunk_size}.pdf\", \"wb\") as output:\n            writer.write(output)\n```\n\n## Troubleshooting Common Issues\n\n### Encrypted PDFs\n```python\n# Handle password-protected PDFs\nfrom pypdf import PdfReader\n\ntry:\n    reader = PdfReader(\"encrypted.pdf\")\n    if reader.is_encrypted:\n        reader.decrypt(\"password\")\nexcept Exception as e:\n    print(f\"Failed to decrypt: {e}\")\n```\n\n### Corrupted PDFs\n```bash\n# Use qpdf to repair\nqpdf --check corrupted.pdf\nqpdf --replace-input corrupted.pdf\n```\n\n### Text Extraction Issues\n```python\n# Fallback to OCR for scanned PDFs\nimport pytesseract\nfrom pdf2image import convert_from_path\n\ndef extract_text_with_ocr(pdf_path):\n    images = convert_from_path(pdf_path)\n    text = \"\"\n    for i, image in enumerate(images):\n        text += pytesseract.image_to_string(image)\n    return text\n```\n\n## License Information\n\n- **pypdf**: BSD License\n- **pdfplumber**: MIT License\n- **pypdfium2**: Apache/BSD License\n- **reportlab**: BSD License\n- **poppler-utils**: GPL-2 License\n- **qpdf**: Apache License\n- **pdf-lib**: MIT License\n- **pdfjs-dist**: Apache License",
        "skills/personal-strategic-planning/SKILL.md": "---\nname: personal-strategic-planning\ndescription: Annual strategic review and goal-setting interview for personal life/work domains with quarterly progress check-ins\ntriggers:\n  - \"personal annual review\"\n  - \"personal strategic planning\"\n  - \"personal goals\"\n  - \"set personal goals\"\n  - \"quarterly check-in\"\n  - \"review my progress\"\n  - \"year in review\"\n  - \"plan for 2026\"\n  - \"plan for 2027\"\n  - \"personal planning\"\n  - \"life goals\"\nallowed-tools:\n  - Read\n  - Write\n  - Bash\n  - AskUserQuestion\n  - mcp__obsidian-vault__create_vault_file\n  - mcp__obsidian-vault__get_vault_file\nversion: 1.1.0\n---\n\n# Personal Strategic Planning Skill\n\nAnnual strategic review and goal-setting system combining interview-driven planning with evidence-based reflection across five personal life/work domains.\n\n> **Note:** For organizational/K-12 district strategic planning, use the `strategic-planning-manager` skill instead.\n\n## When to Activate\n\nThis skill activates when the user requests:\n\n**Annual Review (Primary Mode):**\n- \"Let's do my annual review\"\n- \"Help me plan for [year]\"\n- \"I want to do strategic planning\"\n- \"Set goals for next year\"\n\n**Quarterly Check-In (Lighter Mode):**\n- \"Quarterly check-in\"\n- \"Review my progress\"\n- \"How am I tracking against my goals?\"\n\n**Domain Modes:**\nEach review covers 5 domains:\n1. **CIO Role** (day job - Technology, Communications, Safety/Security)\n2. **Consulting/Speaking** (reputation building, CoSN board, conferences)\n3. **Product Development** (AI products: voice app, survey tool)\n4. **Real Estate Investing** (portfolio management)\n5. **Financial Planning** (entrepreneurial income, retirement prep)\n\n## Available Scripts\n\n### `scripts/generate_annual_review.py`\nGenerates formatted annual review markdown file in Obsidian.\n\n**Usage:**\n```bash\nuv run scripts/generate_annual_review.py '{json_data}' --year 2026\n```\n\n**Input:** JSON with interview data (all domains, goals, indicators)\n**Output:** Markdown file at `Personal_Notes/Reviews/Annual/{YEAR}-Annual-Review.md`\n\n### `scripts/generate_quarterly_review.py`\nGenerates quarterly check-in markdown file in Obsidian.\n\n**Usage:**\n```bash\nuv run scripts/generate_quarterly_review.py '{json_data}' --year 2026 --quarter Q1\n```\n\n**Input:** JSON with progress data per domain\n**Output:** Markdown file at `Personal_Notes/Reviews/Quarterly/{YEAR}-Q{N}-Review.md`\n\n### `scripts/sync_to_omnifocus.js`\nCreates OmniFocus projects and tasks from Priority Goals.\n\n**Usage:**\n```bash\nosascript -l JavaScript scripts/sync_to_omnifocus.js '{json_data}'\n```\n\n**Input:** JSON with goals, indicators, actions, milestones\n**Output:** OmniFocus projects created, returns confirmation JSON\n\n## Annual Review Workflow\n\nThe annual review follows a 6-phase interview pattern modeled after the `writer` skill.\n\n### Phase 1: Domain Selection & Context Loading\n\n**Objective:** Set scope and load relevant context for each domain.\n\n**Geoffrey:**\n1. Displays 5 domains with mission from `identity-core.json`:\n   - CIO Role â†’ TELOS Technology/Communications/Safety sections\n   - Consulting/Speaking â†’ TELOS Economics (reputation building)\n   - Product Development â†’ Short-term goals (AI products)\n   - Real Estate â†’ TELOS Economics (income streams)\n   - Financial â†’ Long-term goals (retirement, entrepreneurial income)\n\n2. Asks: \"Which domain(s) do you want to review?\" (allow multi-select for first run)\n\n3. For first annual review: Offer \"Retrospective (2025) + Prospective (2026)\" or \"Prospective only\"\n\n**Output:** List of selected domains with loaded context\n\n---\n\n### Phase 2: Year-in-Review Reflection (Per Domain)\n\n**Objective:** Ground planning in reality by examining what actually happened.\n\n**Interview Questions (one domain at a time):**\n\n**Q1:** \"What were your top 3 priorities in [domain] this year?\"\n\n**Q2:** \"For each priority, what actually happened?\"\n- **Challenge:** Require evidence/outcomes, not just activities\n- **Push for:** Specific metrics, concrete changes, measurable results\n\n**Q3:** \"What worked exceptionally well in [domain]?\"\n- **Challenge:** Require specifics, not generalities\n- **Push for:** Root causes of success, replicable patterns\n\n**Q4:** \"What underperformed or stalled?\"\n- **Challenge:** Require root causes, not just symptoms\n- **Push for:** Honest assessment, systemic barriers\n\n**Q5:** \"What surprised youâ€”positive or negative?\"\n\n**After all domains reviewed:**\n\n**Q6:** \"Looking across all domains, what patterns do you see?\"\n\n**Q7:** \"What's one lesson you'd apply everywhere next year?\"\n\n**Challenge Mechanisms:**\n- **Vague answer** â†’ \"Say more? What would that look like specifically?\"\n- **Activity-focused** â†’ \"That's what you did. What was the result?\"\n- **No evidence** â†’ \"What metric or outcome would prove that?\"\n\n---\n\n### Phase 3: Strategic Direction (Per Domain)\n\n**Objective:** Define clear vision for next year aligned with core mission.\n\n**Interview Questions (one domain at a time):**\n\n**Q1:** \"At the end of [next year], what does success look like in [domain]?\"\n- **Must be:** Specific, measurable, stakeholder-focused\n- **Challenge:** Push beyond vague aspirations to concrete outcomes\n\n**Q2:** \"Who are the primary stakeholders for [domain]?\"\n- **Follow-up:** \"For each stakeholder, what specifically changes for them if you succeed?\"\n\n**Q3:** \"How does [domain] success contribute to your core mission?\"\n- **Display:** Relevant TELOS section + constitution values\n- **Challenge:** If alignment is weak, ask \"Is this the right priority?\"\n\n**Q4:** \"What are 2-3 major initiatives or changes in [domain]?\"\n- **Challenge if >3:** \"Which would you protect if capacity gets constrained?\"\n- **Challenge if maintenance:** \"Is this strategic work or keeping lights on?\"\n\n**Q5:** \"What will you explicitly NOT do in [domain]?\"\n- **This is the hardest question** - use scaffolding if stuck:\n  1. \"What requests have you said no toâ€”or wish you had?\"\n  2. \"What did you consider but decide against?\"\n  3. \"If someone proposed adding [new initiative], what would you tell them?\"\n  4. \"What are you currently doing that you should stop?\"\n- **Why it matters:** \"Every 'yes' is an implicit 'no' to something else. If you can't name what you're not doing, you haven't made strategic choices.\"\n\n**Q6:** \"What's the biggest barrier to success in [domain]?\"\n- **Follow-up:** \"What needs to be true for you to succeed?\"\n\n**Q7:** \"What resources/support do you need that you don't have?\"\n- **Challenge if \"nothing\":** \"Most meaningful work requires time, development, or coordinationâ€”not just money.\"\n\n**Challenge Progression:**\n1. **Curious:** \"Say more?\" / \"What would that look like?\"\n2. **Gentle push:** \"Help me see this concretely. If I walked into your office in December [next year], what would I notice?\"\n3. **Direct challenge:** \"This is staying abstract. Let's get specificâ€”what's one concrete outcome?\"\n4. **Support scaffolding:** Offer frameworks, examples, different angles\n\n**After domain completed:**\n- Summarize strategic direction back to user\n- Get confirmation before moving to next domain\n\n---\n\n### Phase 4: Priority Goals with Success Indicators (Per Domain)\n\n**Objective:** Translate strategic direction into measurable progress.\n\n**Constraints:**\n- **Maximum 3 Priority Goals per domain** (hard cap)\n- Each goal requires **2-3 Success Indicators** with baselines + targets\n- Each goal requires **Key Actions** with owners, dependencies, timeline\n- Each goal requires **Quarterly Milestones**\n\n**Interview Process:**\n\n**For each domain:**\n\n1. **Establish Priority Goals:**\n   - \"Based on our conversation, what are your 2-3 Priority Goals for [domain]?\"\n   - **Challenge if >3:** \"You've listed [N]. Research shows more than 3 priorities means none get focus. Which would you cut?\"\n   - **Challenge if activity-focused:** Reframe as outcome (e.g., \"implement curriculum\" â†’ \"students demonstrate deeper engagement\")\n\n2. **Define Success Indicators (for each goal):**\n   - \"How will you know you're making progress on [goal]?\"\n   - **Require:** Current state (baseline) â†’ Target state (end of year)\n   - **Accept:** Both quantitative and qualitative\n     - Quantitative: \"Student re-enrollment: 92% â†’ 95%\"\n     - Qualitative: \"Faculty report feeling supported: 45% agree â†’ 70% agree\"\n   - **Challenge if no baseline:** \"How will you establish one?\" or \"Is this a learning year?\"\n   - **Challenge if vague target:** \"Too easy or unrealistic?\"\n   - **Challenge if activity metric:** \"That measures what you did, not the result. What outcome changes?\"\n\n3. **Identify Actions, Owners, Dependencies:**\n   - \"What are the key actions that will drive [goal]?\"\n   - For each action:\n     - **Action/Project:** What will be done\n     - **Owner:** Who is accountable (a person, not committee)\n     - **Dependencies:** Other people/teams/resources required\n     - **Timeline:** Q1/Q2/Q3/Q4 milestones\n\n4. **Map Quarterly Milestones:**\n   - \"What should be true by end of Q1 (Mar 31), Q2 (Jun 30), Q3 (Sep 30), Q4 (Dec 31)?\"\n\n**Challenge Mechanisms:**\n- **Activity â†’ Outcome reframing:** \"If you do X successfully, what changes? That's the priority.\"\n- **No baseline:** \"Can you establish one now? If not, note this as 'learning year' for baseline.\"\n- **Vague targets:** \"If you hit this target, would you be satisfied? What would failure look like?\"\n\n**After all domains completed:**\n\n5. **Confirm Alignment:**\n   - \"Looking at all your goals togetherâ€”do they clearly ladder up to your strategic direction AND to your core mission?\"\n   - **If weak alignment:** Work to adjust or note misalignment for discussion\n\n---\n\n### Phase 5: Cross-Domain Integration\n\n**Objective:** Portfolio view, trade-offs, advisor review, identity alignment.\n\n**Portfolio Questions:**\n\n**Q1:** \"Looking at all 5 domainsâ€”what's the overall story of [next year]?\"\n\n**Q2:** \"Where are you over-committed? What trade-offs do you need to make?\"\n\n**Q3:** \"Which domain gets your BEST energy? Which gets leftovers?\"\n\n**Q4:** \"If one domain had to be 'maintenance mode' in [next year], which and why?\"\n\n**Personal Board of Directors (optional but recommended):**\n\n**Q5:** \"Who are your 4-7 advisors across domains?\"\n- For each: Name, Domain expertise, What they help with, Last consulted\n- **Roles to consider:** Connector, Accountability Partner, Futurist, Subject Matter Expert\n\n**Q6:** \"Who's missing from your board?\"\n- **Prompt:** \"Do you have a Connector (network access), Futurist (trends), Accountability Partner?\"\n\n**Alignment with Identity:**\n\n**Q7:** \"Do these goals align with your Type 3w4 achievement pattern?\"\n- **Context:** Meaningful, competent, expert-level impact (from identity-core.json)\n\n**Q8:** \"Which goals leverage your Input/Analytical/Learner strengths?\"\n- **Display:** How each goal creates opportunities for information gathering, evidence-based thinking, mastery\n\n**Q9:** \"Any goals that require relationship building (your 0% Blue gap)?\"\n- **Follow-up:** \"How will you handle that? Who can help?\"\n\n**Q10:** \"Looking at your workloadâ€”where's the Type 3 stress risk?\"\n- **Context:** Type 3 pattern = push harder when stressed\n- **Prompt:** \"If things get overwhelming in Q2, what's your PAUSE trigger before pushing harder?\"\n\n---\n\n### Phase 6: Review & Finalize\n\n**Objective:** Generate output, get approval, save to systems.\n\n**Geoffrey:**\n\n1. **Display Complete Annual Review**\n   - Use `templates/annual-review-template.md` format\n   - Show full markdown output for review\n\n2. **Get User Approval**\n   - \"Does this capture your strategic plan for [year]?\"\n   - \"What would you adjust?\"\n   - Iterate until confirmed\n\n3. **Save to Obsidian**\n   - Run `scripts/generate_annual_review.py`\n   - Save to `Personal_Notes/Reviews/Annual/{YEAR}-Annual-Review.md`\n\n4. **Ask about OmniFocus**\n   - \"Create OmniFocus projects from your Priority Goals now or later?\"\n   - If now: Run `scripts/sync_to_omnifocus.js`\n\n5. **Review Personal User Guide for Updates**\n   - Read current User Guide: `~/Library/Mobile Documents/iCloud~md~obsidian/Documents/Personal_Notes/Geoffrey/Kris-Hagel-User-Guide.md`\n   - Compare to this year's review conversation:\n     - Role changes (meeting cadences, team structure, responsibilities)\n     - New growth areas identified\n     - Communication pattern shifts\n     - Changed priorities, frustrations, or energizers\n     - \"What drains me\" / \"What energizes me\" updates\n   - Propose specific, evidence-based updates:\n     - \"In this review you mentioned X, but your User Guide says Y. Should I update?\"\n     - \"You identified [growth area] but it's not documented. Should we add it?\"\n   - If updates approved: Edit the User Guide and confirm changes\n   - If significant changes: Suggest notifying team/peers\n\n6. **Schedule Quarterly Reviews**\n   - Confirm quarterly timing: Mar 31, Jun 30, Sep 30, Dec 31\n   - Add to OmniFocus as recurring tasks\n\n**Final Output:**\n- Annual review markdown file (Obsidian)\n- OmniFocus projects (if requested)\n- Confirmation message with file path\n\n---\n\n## Quarterly Check-In Workflow\n\nThe quarterly check-in is a lighter interview (15-20 min) focused on progress and adjustment.\n\n### Check-In Questions\n\n**For each domain with Priority Goals:**\n\n**Q1:** \"Progress status on [Goal]?\"\n- âœ… On track (will hit target)\n- âš ï¸ At risk (may miss target without intervention)\n- âŒ Off track (unlikely to hit target)\n\n**Q2:** \"What evidence supports your assessment?\"\n- Current state vs. Q{N} milestone\n- What happened this quarter?\n\n**Q3:** \"What's working? What's stalled?\"\n\n**Q4:** \"Do Success Indicators still make sense?\"\n- Adjust targets? (yes/no + rationale)\n- Add/remove indicators?\n\n**Q5:** \"What needs to change for Q{N+1}?\"\n- Actions to add/drop\n- Resources needed\n- Trade-offs with other domains\n\n**After all domains:**\n\n**Q6:** \"Overall portfolio health?\"\n- Energy distribution across domains\n- Over-committed anywhere?\n- Mid-course corrections needed?\n\n**Q7:** \"User Guide check against this quarter's insights\"\n- Read current User Guide: `~/Library/Mobile Documents/iCloud~md~obsidian/Documents/Personal_Notes/Geoffrey/Kris-Hagel-User-Guide.md`\n- Compare to quarterly progress discussion:\n  - Any communication preferences that changed?\n  - New frustrations or energizers to document?\n  - Growth areas with visible progress?\n- Propose specific updates based on evidence from this check-in\n- If updates approved: Edit and save\n\n### Check-In Output\n\n**Geoffrey:**\n\n1. Run `scripts/generate_quarterly_review.py`\n2. Save to `Personal_Notes/Reviews/Quarterly/{YEAR}-Q{N}-Review.md`\n3. Update annual review frontmatter with link to quarterly review\n4. Confirm adjustments to OmniFocus if targets/actions changed\n\n---\n\n## Output Format\n\n### Annual Review\n\nSee `templates/annual-review-template.md` for complete format.\n\n**Key sections:**\n- Year-in-Review Summary (cross-domain patterns, lessons)\n- Per Domain: Review + Strategic Direction + Priority Goals\n- Cross-Domain Integration (portfolio, trade-offs, advisors, alignment)\n- Next Steps (quarterly reviews, OmniFocus sync, advisor shares)\n\n### Quarterly Review\n\nSee `templates/quarterly-review-template.md` for complete format.\n\n**Key sections:**\n- Progress status per Priority Goal\n- Evidence of progress vs. milestones\n- What's working / what's stalled\n- Adjustments for next quarter\n- Portfolio health check\n\n---\n\n## Integration with Existing Systems\n\n### Obsidian\n\n**Storage locations:**\n```\nPersonal_Notes/\nâ””â”€â”€ Reviews/\n    â”œâ”€â”€ Annual/\n    â”‚   â””â”€â”€ YYYY-Annual-Review.md\n    â””â”€â”€ Quarterly/\n        â””â”€â”€ YYYY-QN-Review.md\n```\n\n**Frontmatter:**\n```yaml\n---\ncreated: {date}\nyear: {YEAR}\ndomains: [CIO, Consulting, Product, RealEstate, Financial]\nstatus: Draft | Final\nquarterly_reviews:\n  - Q1: [[YYYY-Q1-Review]]\n  - Q2: null\n  - Q3: null\n  - Q4: null\n---\n```\n\n### OmniFocus\n\n**Project structure:**\n- `[Domain] - [Goal Name]` (e.g., \"CIO Role - Improve AI Adoption\")\n- Tasks for each action (owner/dependencies in notes)\n- Milestones as tasks with Q1/Q2/Q3/Q4 due dates\n- Tags: domain name + \"2026 Goals\"\n\n### Personal User Guide\n\n**Location:**\n```\nPersonal_Notes/Geoffrey/Kris-Hagel-User-Guide.md\n```\n\n**Review triggers:**\n- Annual review (Phase 6) - comprehensive review\n- Quarterly check-ins - light evidence-based updates\n\n**Update approach:**\n- Evidence-based: Compare User Guide to review conversation\n- Specific proposals: Point out discrepancies with examples\n- User approval required before editing\n\n### Identity-Core Integration\n\n**Loads from:**\n- `~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge/identity-core.json`\n\n**References:**\n- TELOS mission per domain\n- Constitution values (equity, excellence, empathy, learning, innovation, integrity)\n- Strengths (Input, Significance, Analytical, Achiever, Learner)\n- Personality (Type 3w4, Green-Orange, 0% Blue relationship gap)\n- Decision framework, stress patterns, growth edges\n\n**Uses for:**\n- Alignment checks in Part 3 (Strategic Direction)\n- Challenge questions in Part 5 (Cross-Domain Integration)\n- Framing success in terms of Mastery + Legacy + Freedom\n\n---\n\n## Framework Integration\n\n### James Clear Systems Focus\n\n**Applied in:**\n- Success Indicators: Include leading (process) + lagging (outcome) metrics\n- During goal-setting: Ask \"What system/habit supports this goal?\"\n- Reframe outcome goals â†’ process goals where appropriate\n\n**Example:**\n- Outcome: \"Launch AI voice app\"\n- System: \"Ship feature every 2 weeks\" + \"User feedback session biweekly\"\n\n### Personal Board of Directors\n\n**Included in:** Part 5 (Cross-Domain Integration)\n\n**Tracks:**\n- 4-7 advisors across domains\n- Roles: Connector, Accountability Partner, Futurist, Subject Matter Expert\n- Last consulted date (accountability)\n\n### Life Map (Alex Lieberman)\n\n**Maps to 5 domains:**\n- Career â†’ CIO Role + Consulting/Speaking\n- Finances â†’ Real Estate + Financial Planning\n- Meaning â†’ Product Development (AI products = legacy)\n- Relationships â†’ Cross-domain question (0% Blue gap)\n- Health â†’ Not covered (note for future expansion)\n- Fun â†’ Not covered (note for future expansion)\n\n### Ideal Lifestyle Costing (Tim Ferriss)\n\n**Optional exercise in:** Financial Planning domain\n\n**Question:** \"What does your ideal [year] look like? Cost it out.\"\n**Use for:** Retirement planning milestone\n\n---\n\n## Error Handling\n\n### Common Scenarios\n\n**1. User can't answer \"what you will NOT do\" (Q5 in Strategic Direction):**\n- **Response:** Use scaffolding questions (see Phase 3)\n- **If still stuck:** \"Let's flag this and come back after Priority Goals are defined.\"\n- **Note in output:** \"Strategic exclusions to be determined\"\n\n**2. User has no baseline for Success Indicator:**\n- **Response:** \"Can you establish a baseline now? If not, we'll note this as a 'learning year' for baseline setting.\"\n- **Record:** Current = \"Baseline TBD\" â†’ Target = [value]\n\n**3. User proposes >3 Priority Goals:**\n- **Response:** \"You've listed [N] priorities. Research shows more than 3 means none get focus. Which would you cut?\"\n- **Enforce:** Hard cap at 3 per domain\n\n**4. User's goals don't align with strategic direction:**\n- **Response:** \"You said your strategic direction was [X], but this goal seems focused on [Y]. Help me see the connection.\"\n- **If misalignment remains:** Note in \"Potential Misalignments\" section for discussion\n\n**5. User wants to skip domains:**\n- **Response:** Allow skipping for quarterly check-ins\n- **For annual:** Recommend covering all 5, but allow \"maintenance mode\" designation\n\n**6. User wants to adjust targets mid-year (quarterly check-in):**\n- **Response:** \"What changed? What's the rationale for adjusting?\"\n- **Record:** Original target + Revised target with date/reason\n- **Update:** OmniFocus milestones if needed\n\n---\n\n## Future Enhancements\n\n- [ ] Add Health and Fun domains to Life Map coverage\n- [ ] Integrate with calendar for automatic quarterly review reminders\n- [ ] Add mid-year strategic adjustment session (July)\n- [ ] Create visualization dashboard for progress tracking\n- [ ] Add retrospective analysis comparing year-over-year patterns\n- [ ] Integration with knowledge-manager for automatic preference updates based on goals\n- [ ] Add voice AI option for conducting interview (user speaks, Geoffrey transcribes and challenges)\n\n---\n\n## Version History\n\n**v1.1.0** (2026-01-26)\n- Renamed from strategic-planning-manager to personal-strategic-planning\n- Updated triggers to avoid conflict with organizational planning skill\n- For organizational/K-12 strategic planning, use strategic-planning-manager\n\n**v1.0.0** (2026-01-02)\n- Initial release\n- Annual review interview (6 phases)\n- Quarterly check-in interview\n- Obsidian integration (Reviews folder)\n- OmniFocus integration (auto-create projects)\n- Identity-core alignment checks\n- Progressive challenge mechanisms\n- 5-domain structure\n",
        "skills/personal-strategic-planning/templates/annual-review-template.md": "---\ncreated: {date}\nyear: {YEAR}\ndomains: [CIO, Consulting, Product, RealEstate, Financial]\nstatus: Draft\nquarterly_reviews:\n  - Q1: null\n  - Q2: null\n  - Q3: null\n  - Q4: null\n---\n\n# {YEAR} Annual Strategic Review\n\n> **Mission Integration:** This review aligns with TELOS definition and Personal Constitution principles: advancing equity through innovation, achieving mastery + legacy + freedom.\n\n## Year-in-Review Summary\n\n### Cross-Domain Patterns\n\n**Recurring Themes Across Domains:**\n- {pattern_1}\n- {pattern_2}\n- {pattern_3}\n\n**Strengths Consistently Leveraged:**\n- Input: {how_information_gathering_supported_success}\n- Analytical: {how_evidence_based_thinking_drove_outcomes}\n- Learner: {how_continuous_learning_created_mastery}\n\n**Blind Spots Identified:**\n- {blind_spot_1}\n- {blind_spot_2}\n\n### Key Lessons for {NEXT_YEAR}\n\n1. **{lesson_1_title}:** {lesson_1_description}\n2. **{lesson_2_title}:** {lesson_2_description}\n3. **{lesson_3_title}:** {lesson_3_description}\n\n---\n\n## Domain: CIO Role\n\n### {PREV_YEAR} Review\n\n**Top 3 Priorities:**\n1. **{priority_1}** - *Outcome:* {what_actually_happened_1}\n2. **{priority_2}** - *Outcome:* {what_actually_happened_2}\n3. **{priority_3}** - *Outcome:* {what_actually_happened_3}\n\n**What Worked Exceptionally Well:**\n- **{success_1}:** {evidence_and_metrics}\n- **{success_2}:** {evidence_and_metrics}\n- **Root Causes:** {why_this_succeeded}\n\n**What Underperformed:**\n- **{gap_1}:** {what_fell_short}\n- **{gap_2}:** {what_fell_short}\n- **Root Causes:** {systemic_barriers_or_failures}\n\n**Surprises (Positive & Negative):**\n- âž• {positive_surprise}\n- âž– {negative_surprise}\n\n---\n\n### {YEAR} Strategic Direction\n\n**Vision of Success:**\n\n{specific_measurable_stakeholder_focused_outcome_for_year_end}\n\n**Primary Stakeholders & Impact:**\n\n| Stakeholder Group | What Changes for Them if We Succeed |\n|-------------------|-----------------------------------|\n| {stakeholder_1} | {specific_change_experienced} |\n| {stakeholder_2} | {specific_change_experienced} |\n| {stakeholder_3} | {specific_change_experienced} |\n\n**Alignment with Core Mission:**\n\n{how_cio_success_contributes_to_telos_technology_communications_safety_sections}\n\n{connection_to_constitution_values_equity_excellence_empathy_learning_innovation_integrity}\n\n**Major Initiatives (2-3):**\n\n1. **{initiative_1}:** {brief_description_and_expected_outcome}\n2. **{initiative_2}:** {brief_description_and_expected_outcome}\n3. **{initiative_3}:** {brief_description_and_expected_outcome}\n\n**What We Will NOT Do:**\n\n- âŒ {strategic_exclusion_1} - *Reason:* {why_not}\n- âŒ {strategic_exclusion_2} - *Reason:* {why_not}\n- âŒ {strategic_exclusion_3} - *Reason:* {why_not}\n\n**Biggest Barrier to Success:**\n\n{primary_obstacle}\n\n**What Needs to Be True:** {conditions_for_success}\n\n**Resources/Support Needed:**\n\n- {resource_1}: {why_needed}\n- {resource_2}: {why_needed}\n- {cross_department_dependency}: {what_required}\n\n---\n\n### {YEAR} Priority Goals\n\n#### Goal 1: {outcome_statement_not_activity}\n\n**Success Indicators:**\n\n| Indicator | Current (Baseline) | Target (EOY {YEAR}) | Measurement Method |\n|-----------|-------------------|---------------------|-------------------|\n| {indicator_1} | {baseline_value} | {target_value} | {how_measured} |\n| {indicator_2} | {baseline_value} | {target_value} | {how_measured} |\n| {indicator_3} | {baseline_value} | {target_value} | {how_measured} |\n\n**Key Actions:**\n\n| Action/Project | Owner | Dependencies | Timeline |\n|----------------|-------|--------------|----------|\n| {action_1} | {person_name} | {teams_systems_resources} | {Q1_Q2_Q3_Q4} |\n| {action_2} | {person_name} | {teams_systems_resources} | {Q1_Q2_Q3_Q4} |\n| {action_3} | {person_name} | {teams_systems_resources} | {Q1_Q2_Q3_Q4} |\n\n**Quarterly Milestones:**\n\n- **Q1 (Mar 31):** {what_should_be_true}\n- **Q2 (Jun 30):** {what_should_be_true}\n- **Q3 (Sep 30):** {what_should_be_true}\n- **Q4 (Dec 31):** {what_should_be_true}\n\n**System/Habit Support (James Clear):**\n\n{process_or_system_that_makes_this_goal_sustainable}\n\n---\n\n#### Goal 2: {outcome_statement}\n\n[Repeat structure from Goal 1]\n\n---\n\n#### Goal 3: {outcome_statement}\n\n[Repeat structure from Goal 1]\n\n---\n\n## Domain: Consulting/Speaking\n\n[Repeat full domain structure: Review, Strategic Direction, Priority Goals]\n\n---\n\n## Domain: Product Development\n\n[Repeat full domain structure: Review, Strategic Direction, Priority Goals]\n\n---\n\n## Domain: Real Estate Investing\n\n[Repeat full domain structure: Review, Strategic Direction, Priority Goals]\n\n---\n\n## Domain: Financial Planning & Investing\n\n[Repeat full domain structure: Review, Strategic Direction, Priority Goals]\n\n**Ideal Lifestyle Costing (Tim Ferriss):**\n\n| Ideal Lifestyle Element | Monthly Cost | Annual Cost |\n|------------------------|--------------|-------------|\n| {element_1} | ${cost} | ${annual} |\n| {element_2} | ${cost} | ${annual} |\n| **Total** | **${total_monthly}** | **${total_annual}** |\n\n**Path to Ideal Lifestyle:**\n\n{how_year_goals_move_toward_this_costed_vision}\n\n---\n\n## Cross-Domain Integration\n\n### Portfolio Story for {YEAR}\n\n**The Narrative:**\n\n{synthesized_story_across_all_5_domains_what_is_the_overarching_theme_or_direction}\n\n**Connection to 6-Year Vision:**\n\n{how_this_year_advances_toward_retirement_transition_international_speaking_entrepreneurial_income}\n\n---\n\n### Trade-Offs & Prioritization\n\n| Domain | Priority Level | Energy Allocation | Rationale |\n|--------|----------------|-------------------|-----------|\n| {CIO_Role} | {Primary/Secondary/Maintenance} | {percentage_or_description} | {why_this_level} |\n| {Consulting_Speaking} | {Primary/Secondary/Maintenance} | {percentage_or_description} | {why_this_level} |\n| {Product_Development} | {Primary/Secondary/Maintenance} | {percentage_or_description} | {why_this_level} |\n| {Real_Estate} | {Primary/Secondary/Maintenance} | {percentage_or_description} | {why_this_level} |\n| {Financial_Planning} | {Primary/Secondary/Maintenance} | {percentage_or_description} | {why_this_level} |\n\n**Over-Commitment Risk:**\n\n{where_youre_stretched_thin_and_need_to_make_trade_offs}\n\n**Maintenance Mode Domain:**\n\n{which_domain_if_any_gets_minimal_attention_this_year_and_why}\n\n---\n\n### Personal Board of Directors\n\n| Name | Domain Expertise | What They Help With | Last Consulted | Next Consultation |\n|------|-----------------|---------------------|----------------|-------------------|\n| {advisor_1} | {domain} | {role_connector_futurist_accountability_sme} | {date} | {planned_date} |\n| {advisor_2} | {domain} | {role} | {date} | {planned_date} |\n| {advisor_3} | {domain} | {role} | {date} | {planned_date} |\n| {advisor_4} | {domain} | {role} | {date} | {planned_date} |\n\n**Gaps in Advisory Board:**\n\n- Missing: {role_or_expertise_needed}\n- Potential advisor: {person_to_recruit}\n\n---\n\n### Alignment Assessment\n\n#### Strengths Leverage Analysis\n\n**Input (Information Gathering):**\n- Goals that leverage: {which_goals_create_opportunities_for_collecting_analyzing_archiving_information}\n- Application: {how_input_strength_supports_success}\n\n**Significance (Meaningful Impact):**\n- Goals that leverage: {which_goals_create_visible_recognized_important_contributions}\n- Application: {how_significance_strength_drives_motivation}\n\n**Analytical (Evidence-Based Thinking):**\n- Goals that leverage: {which_goals_require_data_proof_logical_reasoning}\n- Application: {how_analytical_strength_ensures_rigor}\n\n**Achiever (High Productivity):**\n- Goals that leverage: {which_goals_benefit_from_relentless_work_ethic}\n- Risk: {where_achiever_plus_type_3_could_lead_to_burnout}\n\n**Learner (Continuous Growth):**\n- Goals that leverage: {which_goals_create_mastery_opportunities}\n- Application: {how_learner_strength_sustains_engagement}\n\n#### Growth Edges & Risks\n\n**Relationship Building (0% Blue - Blind Spot):**\n- Goals requiring relationship focus: {which_goals_need_connection_collaboration_interpersonal_skills}\n- Mitigation strategy: {how_youll_handle_this_gap_who_can_help}\n\n**Type 3 Stress Pattern (Push Harder):**\n- High-risk scenarios: {when_you_might_default_to_overwork_instead_of_strategic_pause}\n- PAUSE triggers: {specific_signals_to_stop_and_assess_before_pushing_harder}\n  - Trigger 1: {observable_signal}\n  - Trigger 2: {observable_signal}\n  - Response: {what_to_do_instead_of_pushing}\n\n**Green-Orange Directness:**\n- Potential friction points: {where_direct_communication_style_might_create_tension}\n- Sensitivity checkpoint: {how_to_balance_candor_with_empathy}\n\n---\n\n### Overall Success Definition\n\n**Mastery (Competence & Excellence):**\n\n{how_year_goals_advance_expert_level_competence_in_key_domains}\n\n**Legacy (Lasting Contribution):**\n\n{how_year_goals_create_something_that_outlives_you_transforms_education_or_field}\n\n**Freedom (Financial Independence):**\n\n{how_year_goals_move_toward_entrepreneurial_income_retirement_security}\n\n**Integration Check:**\n\n{do_goals_balance_all_three_or_over_index_on_one_what_needs_adjustment}\n\n---\n\n## Potential Misalignments (If Any)\n\nâš ï¸ **Flagged Concerns:**\n\n- {goal_or_initiative_with_weak_connection_to_strategic_direction_or_mission}\n- *Discussion needed:* {what_to_clarify_or_adjust}\n\n---\n\n## Next Steps\n\n### Immediate Actions\n\n- [ ] Review this document and finalize status (change to \"Final\" when approved)\n- [ ] Share relevant sections with Personal Board of Directors advisors\n- [ ] Schedule quarterly reviews in calendar:\n  - Q1: March 31, {YEAR}\n  - Q2: June 30, {YEAR}\n  - Q3: September 30, {YEAR}\n  - Q4: December 31, {YEAR}\n- [ ] Create OmniFocus projects for all Priority Goals\n- [ ] Schedule mid-year strategic adjustment session (July {YEAR})\n\n### Quarterly Review Reminders\n\n**Purpose:** Track progress, make adjustments, maintain alignment\n\n**Format:** 15-20 min check-in per domain\n- Progress status (on track / at risk / off track)\n- Evidence vs. milestones\n- What's working / what's stalled\n- Adjustments for next quarter\n\n**Links to Quarterly Reviews:**\n- [[{YEAR}-Q1-Review|Q1 Review (Mar 31)]]\n- [[{YEAR}-Q2-Review|Q2 Review (Jun 30)]]\n- [[{YEAR}-Q3-Review|Q3 Review (Sep 30)]]\n- [[{YEAR}-Q4-Review|Q4 Review (Dec 31)]]\n\n---\n\n## Appendix: Framework References\n\n**James Clear (Systems > Goals):**\n\"You don't rise to the level of your goals, you fall to the level of your systems.\"\n\n**Personal Board of Directors Roles:**\n- **Connector:** Network access, introductions, reputation building\n- **Accountability Partner:** Keeps commitments, challenges excuses\n- **Futurist:** Trends, emerging opportunities, strategic foresight\n- **Subject Matter Expert:** Deep domain expertise, technical guidance\n\n**Life Map Domains (Alex Lieberman):**\n- Career, Relationships, Health, Meaning, Finances, Fun\n\n**Enneagram Type 3w4 (The Professional):**\n- Core desire: Meaningful achievement through competence\n- Growth: Integration to Type 6 (analytical, prepared)\n- Stress: Type 3 â†’ Type 9 (push harder, work more)\n\n---\n\n*Generated by Geoffrey Strategic Planning Manager v1.0.0*\n*Last updated: {date}*\n",
        "skills/personal-strategic-planning/templates/quarterly-review-template.md": "---\ncreated: {date}\nyear: {YEAR}\nquarter: Q{N}\ndomains_reviewed: {list_of_domains}\nstatus: Draft\nannual_review: [[{YEAR}-Annual-Review]]\nprevious_quarter: {link_to_previous_quarter_if_exists}\nnext_quarter: {link_to_next_quarter_if_planned}\n---\n\n# {YEAR} Q{N} Review\n\n> **Quick Check-In:** 15-20 min progress assessment and course correction\n\n**Review Period:** {quarter_start_date} to {quarter_end_date}\n**Linked to:** [[{YEAR}-Annual-Review|{YEAR} Annual Strategic Review]]\n\n---\n\n## Summary\n\n**Overall Portfolio Health:** {on_track_at_risk_off_track_assessment}\n\n**Key Wins This Quarter:**\n- {win_1}\n- {win_2}\n- {win_3}\n\n**Key Challenges This Quarter:**\n- {challenge_1}\n- {challenge_2}\n\n**Major Adjustments Needed:**\n- {adjustment_1}\n- {adjustment_2}\n\n---\n\n## Domain: {domain_name}\n\n### Priority Goal 1: {goal_name}\n\n**Progress Status:**\n- âœ… **On track** - will hit target\n- âš ï¸ **At risk** - may miss target without intervention\n- âŒ **Off track** - unlikely to hit target\n\n[Select one above based on interview]\n\n**Evidence of Progress:**\n\n| Success Indicator | Target (EOY {YEAR}) | Current State | Q{N} Milestone | Status |\n|-------------------|-------------------|---------------|----------------|--------|\n| {indicator_1} | {target} | {current} | {milestone} | {met_partial_missed} |\n| {indicator_2} | {target} | {current} | {milestone} | {met_partial_missed} |\n\n**What Happened This Quarter:**\n\n{concrete_outcomes_actions_completed_measurable_changes}\n\n**What's Working Well:**\n\n- {success_factor_1}: {why_this_is_working}\n- {success_factor_2}: {why_this_is_working}\n\n**What's Stalled:**\n\n- {blocker_1}: {root_cause_and_impact}\n- {blocker_2}: {root_cause_and_impact}\n\n**Do Success Indicators Still Make Sense?**\n\n- {yes_no}: {rationale}\n- Adjustments: {any_changes_to_targets_or_new_indicators}\n\n**Changes for Q{N+1}:**\n\n**Actions to Add:**\n- {new_action_1}: {owner_timeline}\n- {new_action_2}: {owner_timeline}\n\n**Actions to Drop/Defer:**\n- {action_to_stop}: {why}\n\n**Resources/Support Needed:**\n- {resource_1}\n- {dependency_or_help_needed}\n\n**Trade-offs with Other Domains:**\n- {if_this_domain_needs_more_focus_what_gets_less}\n\n---\n\n### Priority Goal 2: {goal_name}\n\n[Repeat structure from Goal 1]\n\n---\n\n### Priority Goal 3: {goal_name}\n\n[Repeat structure from Goal 1]\n\n---\n\n[Repeat for each domain with Priority Goals]\n\n---\n\n## Cross-Domain Portfolio Health\n\n### Energy Distribution This Quarter\n\n| Domain | Energy Invested | Results Achieved | ROI Assessment |\n|--------|----------------|------------------|----------------|\n| {domain_1} | {high_med_low} | {outcomes} | {worth_it_or_adjust} |\n| {domain_2} | {high_med_low} | {outcomes} | {worth_it_or_adjust} |\n| {domain_3} | {high_med_low} | {outcomes} | {worth_it_or_adjust} |\n| {domain_4} | {high_med_low} | {outcomes} | {worth_it_or_adjust} |\n| {domain_5} | {high_med_low} | {outcomes} | {worth_it_or_adjust} |\n\n**Over-Committed Anywhere?**\n\n{yes_no_assessment_if_yes_what_needs_to_give}\n\n**Under-Invested Anywhere?**\n\n{domains_that_got_leftover_energy_despite_being_priorities}\n\n---\n\n### Mid-Course Corrections\n\n**Strategic Adjustments:**\n\n1. **{adjustment_1}**\n   - Reason: {why_this_correction_is_needed}\n   - Impact: {what_changes_as_a_result}\n   - Timeline: {when_to_implement}\n\n2. **{adjustment_2}**\n   - Reason: {why_this_correction_is_needed}\n   - Impact: {what_changes_as_a_result}\n   - Timeline: {when_to_implement}\n\n**Alignment Check:**\n\n- Goals still aligned with annual vision? {yes_no_assessment}\n- Type 3 stress check: {are_you_pushing_harder_instead_of_pausing_to_assess}\n- PAUSE triggered? {yes_no_if_yes_what_did_you_do}\n\n---\n\n### Lessons Learned (Q{N})\n\n**What I'd Repeat:**\n\n- {pattern_or_practice_to_continue}\n\n**What I'd Change:**\n\n- {pattern_or_practice_to_stop_or_adjust}\n\n**Insight for Next Quarter:**\n\n{one_key_takeaway_to_apply_in_q_n_plus_1}\n\n---\n\n## Next Steps\n\n### Immediate Actions (Next 2 Weeks)\n\n- [ ] {action_1}\n- [ ] {action_2}\n- [ ] {action_3}\n\n### Update Annual Review\n\n- [ ] Update quarterly_reviews frontmatter in [[{YEAR}-Annual-Review]]\n- [ ] Link this Q{N} review to annual document\n\n### Update OmniFocus\n\n- [ ] Adjust milestones for goals with changed timelines\n- [ ] Add new actions identified in this review\n- [ ] Mark completed milestones as done\n\n### Prepare for Q{N+1}\n\n**Focus Areas:**\n- {domain_or_goal_needing_priority}\n- {domain_or_goal_needing_priority}\n\n**Key Milestones (End of Q{N+1}):**\n- {milestone_1}\n- {milestone_2}\n\n**Quarterly Review Date:**\n- {next_quarter_end_date} ({Mar_31_Jun_30_Sep_30_or_Dec_31})\n\n---\n\n## Quick Stats\n\n**Goals Reviewed:** {count}\n**On Track:** {count} ({percentage})\n**At Risk:** {count} ({percentage})\n**Off Track:** {count} ({percentage})\n\n**Adjustments Made:** {count}\n**New Actions Added:** {count}\n**Actions Dropped:** {count}\n\n---\n\n*Generated by Geoffrey Strategic Planning Manager v1.0.0*\n*Review completed: {date}*\n*Next review: {next_quarter_date}*\n",
        "skills/pptx/SKILL.md": "---\nname: pptx\ndescription: \"Presentation creation, editing, and analysis. When Claude needs to work with presentations (.pptx files) for: (1) Creating new presentations, (2) Modifying or editing content, (3) Working with layouts, (4) Adding comments or speaker notes, or any other presentation tasks\"\ntriggers:\n  - \"powerpoint\"\n  - \"presentation\"\n  - \"pptx\"\n  - \"slides\"\n  - \".pptx\"\n  - \"create presentation\"\nallowed-tools: Read, Write, Edit, Bash, Glob\nversion: 1.0.0\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# PPTX creation, editing, and analysis\n\n## Overview\n\nA user may ask you to create, edit, or analyze the contents of a .pptx file. A .pptx file is essentially a ZIP archive containing XML files and other resources that you can read or edit. You have different tools and workflows available for different tasks.\n\n## Reading and analyzing content\n\n### Text extraction\nIf you just need to read the text contents of a presentation, you should convert the document to markdown:\n\n```bash\n# Convert document to markdown\npython -m markitdown path-to-file.pptx\n```\n\n### Raw XML access\nYou need raw XML access for: comments, speaker notes, slide layouts, animations, design elements, and complex formatting. For any of these features, you'll need to unpack a presentation and read its raw XML contents.\n\n#### Unpacking a file\n`skills/pptx/ooxml/scripts/unpack.py <office_file> <output_dir>`\n\n**Note**: The unpack.py script is located at `skills/pptx/ooxml/scripts/unpack.py` relative to the project root. If the script doesn't exist at this path, use `find . -name \"unpack.py\"` to locate it.\n\n#### Key file structures\n* `ppt/presentation.xml` - Main presentation metadata and slide references\n* `ppt/slides/slide{N}.xml` - Individual slide contents (slide1.xml, slide2.xml, etc.)\n* `ppt/notesSlides/notesSlide{N}.xml` - Speaker notes for each slide\n* `ppt/comments/modernComment_*.xml` - Comments for specific slides\n* `ppt/slideLayouts/` - Layout templates for slides\n* `ppt/slideMasters/` - Master slide templates\n* `ppt/theme/` - Theme and styling information\n* `ppt/media/` - Images and other media files\n\n#### Typography and color extraction\n**When given an example design to emulate**: Always analyze the presentation's typography and colors first using the methods below:\n1. **Read theme file**: Check `ppt/theme/theme1.xml` for colors (`<a:clrScheme>`) and fonts (`<a:fontScheme>`)\n2. **Sample slide content**: Examine `ppt/slides/slide1.xml` for actual font usage (`<a:rPr>`) and colors\n3. **Search for patterns**: Use grep to find color (`<a:solidFill>`, `<a:srgbClr>`) and font references across all XML files\n\n## Creating a new PowerPoint presentation **without a template**\n\nWhen creating a new PowerPoint presentation from scratch, use the **html2pptx** workflow to convert HTML slides to PowerPoint with accurate positioning.\n\n### Design Principles\n\n**CRITICAL**: Before creating any presentation, analyze the content and choose appropriate design elements:\n1. **Consider the subject matter**: What is this presentation about? What tone, industry, or mood does it suggest?\n2. **Check for branding**: If the user mentions a company/organization, consider their brand colors and identity\n3. **Match palette to content**: Select colors that reflect the subject\n4. **State your approach**: Explain your design choices before writing code\n\n**Requirements**:\n- âœ… State your content-informed design approach BEFORE writing code\n- âœ… Use web-safe fonts only: Arial, Helvetica, Times New Roman, Georgia, Courier New, Verdana, Tahoma, Trebuchet MS, Impact\n- âœ… Create clear visual hierarchy through size, weight, and color\n- âœ… Ensure readability: strong contrast, appropriately sized text, clean alignment\n- âœ… Be consistent: repeat patterns, spacing, and visual language across slides\n\n#### Color Palette Selection\n\n**Choosing colors creatively**:\n- **Think beyond defaults**: What colors genuinely match this specific topic? Avoid autopilot choices.\n- **Consider multiple angles**: Topic, industry, mood, energy level, target audience, brand identity (if mentioned)\n- **Be adventurous**: Try unexpected combinations - a healthcare presentation doesn't have to be green, finance doesn't have to be navy\n- **Build your palette**: Pick 3-5 colors that work together (dominant colors + supporting tones + accent)\n- **Ensure contrast**: Text must be clearly readable on backgrounds\n\n**Example color palettes** (use these to spark creativity - choose one, adapt it, or create your own):\n\n1. **Classic Blue**: Deep navy (#1C2833), slate gray (#2E4053), silver (#AAB7B8), off-white (#F4F6F6)\n2. **Teal & Coral**: Teal (#5EA8A7), deep teal (#277884), coral (#FE4447), white (#FFFFFF)\n3. **Bold Red**: Red (#C0392B), bright red (#E74C3C), orange (#F39C12), yellow (#F1C40F), green (#2ECC71)\n4. **Warm Blush**: Mauve (#A49393), blush (#EED6D3), rose (#E8B4B8), cream (#FAF7F2)\n5. **Burgundy Luxury**: Burgundy (#5D1D2E), crimson (#951233), rust (#C15937), gold (#997929)\n6. **Deep Purple & Emerald**: Purple (#B165FB), dark blue (#181B24), emerald (#40695B), white (#FFFFFF)\n7. **Cream & Forest Green**: Cream (#FFE1C7), forest green (#40695B), white (#FCFCFC)\n8. **Pink & Purple**: Pink (#F8275B), coral (#FF574A), rose (#FF737D), purple (#3D2F68)\n9. **Lime & Plum**: Lime (#C5DE82), plum (#7C3A5F), coral (#FD8C6E), blue-gray (#98ACB5)\n10. **Black & Gold**: Gold (#BF9A4A), black (#000000), cream (#F4F6F6)\n11. **Sage & Terracotta**: Sage (#87A96B), terracotta (#E07A5F), cream (#F4F1DE), charcoal (#2C2C2C)\n12. **Charcoal & Red**: Charcoal (#292929), red (#E33737), light gray (#CCCBCB)\n13. **Vibrant Orange**: Orange (#F96D00), light gray (#F2F2F2), charcoal (#222831)\n14. **Forest Green**: Black (#191A19), green (#4E9F3D), dark green (#1E5128), white (#FFFFFF)\n15. **Retro Rainbow**: Purple (#722880), pink (#D72D51), orange (#EB5C18), amber (#F08800), gold (#DEB600)\n16. **Vintage Earthy**: Mustard (#E3B448), sage (#CBD18F), forest green (#3A6B35), cream (#F4F1DE)\n17. **Coastal Rose**: Old rose (#AD7670), beaver (#B49886), eggshell (#F3ECDC), ash gray (#BFD5BE)\n18. **Orange & Turquoise**: Light orange (#FC993E), grayish turquoise (#667C6F), white (#FCFCFC)\n\n#### Visual Details Options\n\n**Geometric Patterns**:\n- Diagonal section dividers instead of horizontal\n- Asymmetric column widths (30/70, 40/60, 25/75)\n- Rotated text headers at 90Â° or 270Â°\n- Circular/hexagonal frames for images\n- Triangular accent shapes in corners\n- Overlapping shapes for depth\n\n**Border & Frame Treatments**:\n- Thick single-color borders (10-20pt) on one side only\n- Double-line borders with contrasting colors\n- Corner brackets instead of full frames\n- L-shaped borders (top+left or bottom+right)\n- Underline accents beneath headers (3-5pt thick)\n\n**Typography Treatments**:\n- Extreme size contrast (72pt headlines vs 11pt body)\n- All-caps headers with wide letter spacing\n- Numbered sections in oversized display type\n- Monospace (Courier New) for data/stats/technical content\n- Condensed fonts (Arial Narrow) for dense information\n- Outlined text for emphasis\n\n**Chart & Data Styling**:\n- Monochrome charts with single accent color for key data\n- Horizontal bar charts instead of vertical\n- Dot plots instead of bar charts\n- Minimal gridlines or none at all\n- Data labels directly on elements (no legends)\n- Oversized numbers for key metrics\n\n**Layout Innovations**:\n- Full-bleed images with text overlays\n- Sidebar column (20-30% width) for navigation/context\n- Modular grid systems (3Ã—3, 4Ã—4 blocks)\n- Z-pattern or F-pattern content flow\n- Floating text boxes over colored shapes\n- Magazine-style multi-column layouts\n\n**Background Treatments**:\n- Solid color blocks occupying 40-60% of slide\n- Gradient fills (vertical or diagonal only)\n- Split backgrounds (two colors, diagonal or vertical)\n- Edge-to-edge color bands\n- Negative space as a design element\n\n### Layout Tips\n**When creating slides with charts or tables:**\n- **Two-column layout (PREFERRED)**: Use a header spanning the full width, then two columns below - text/bullets in one column and the featured content in the other. This provides better balance and makes charts/tables more readable. Use flexbox with unequal column widths (e.g., 40%/60% split) to optimize space for each content type.\n- **Full-slide layout**: Let the featured content (chart/table) take up the entire slide for maximum impact and readability\n- **NEVER vertically stack**: Do not place charts/tables below text in a single column - this causes poor readability and layout issues\n\n### Workflow\n1. **MANDATORY - READ ENTIRE FILE**: Read [`html2pptx.md`](html2pptx.md) completely from start to finish. **NEVER set any range limits when reading this file.** Read the full file content for detailed syntax, critical formatting rules, and best practices before proceeding with presentation creation.\n2. Create an HTML file for each slide with proper dimensions (e.g., 720pt Ã— 405pt for 16:9)\n   - Use `<p>`, `<h1>`-`<h6>`, `<ul>`, `<ol>` for all text content\n   - Use `class=\"placeholder\"` for areas where charts/tables will be added (render with gray background for visibility)\n   - **CRITICAL**: Rasterize gradients and icons as PNG images FIRST using Sharp, then reference in HTML\n   - **LAYOUT**: For slides with charts/tables/images, use either full-slide layout or two-column layout for better readability\n3. Create and run a JavaScript file using the [`html2pptx.js`](scripts/html2pptx.js) library to convert HTML slides to PowerPoint and save the presentation\n   - Use the `html2pptx()` function to process each HTML file\n   - Add charts and tables to placeholder areas using PptxGenJS API\n   - Save the presentation using `pptx.writeFile()`\n4. **Visual validation**: Generate thumbnails and inspect for layout issues\n   - Create thumbnail grid: `python scripts/thumbnail.py output.pptx workspace/thumbnails --cols 4`\n   - Read and carefully examine the thumbnail image for:\n     - **Text cutoff**: Text being cut off by header bars, shapes, or slide edges\n     - **Text overlap**: Text overlapping with other text or shapes\n     - **Positioning issues**: Content too close to slide boundaries or other elements\n     - **Contrast issues**: Insufficient contrast between text and backgrounds\n   - If issues found, adjust HTML margins/spacing/colors and regenerate the presentation\n   - Repeat until all slides are visually correct\n\n## Editing an existing PowerPoint presentation\n\nWhen edit slides in an existing PowerPoint presentation, you need to work with the raw Office Open XML (OOXML) format. This involves unpacking the .pptx file, editing the XML content, and repacking it.\n\n### Workflow\n1. **MANDATORY - READ ENTIRE FILE**: Read [`ooxml.md`](ooxml.md) (~500 lines) completely from start to finish.  **NEVER set any range limits when reading this file.**  Read the full file content for detailed guidance on OOXML structure and editing workflows before any presentation editing.\n2. Unpack the presentation: `skills/pptx/ooxml/scripts/unpack.py <office_file> <output_dir>`\n3. Edit the XML files (primarily `ppt/slides/slide{N}.xml` and related files)\n4. **CRITICAL**: Validate immediately after each edit and fix any validation errors before proceeding: `skills/pptx/ooxml/scripts/validate.py <dir> --original <file>`\n5. Pack the final presentation: `skills/pptx/ooxml/scripts/pack.py <input_directory> <office_file>`\n\n## Creating a new PowerPoint presentation **using a template**\n\nWhen you need to create a presentation that follows an existing template's design, you'll need to duplicate and re-arrange template slides before then replacing placeholder context.\n\n### Workflow\n1. **Extract template text AND create visual thumbnail grid**:\n   * Extract text: `python -m markitdown template.pptx > template-content.md`\n   * Read `template-content.md`: Read the entire file to understand the contents of the template presentation. **NEVER set any range limits when reading this file.**\n   * Create thumbnail grids: `python scripts/thumbnail.py template.pptx`\n   * See [Creating Thumbnail Grids](#creating-thumbnail-grids) section for more details\n\n2. **Analyze template and save inventory to a file**:\n   * **Visual Analysis**: Review thumbnail grid(s) to understand slide layouts, design patterns, and visual structure\n   * Create and save a template inventory file at `template-inventory.md` containing:\n     ```markdown\n     # Template Inventory Analysis\n     **Total Slides: [count]**\n     **IMPORTANT: Slides are 0-indexed (first slide = 0, last slide = count-1)**\n\n     ## [Category Name]\n     - Slide 0: [Layout code if available] - Description/purpose\n     - Slide 1: [Layout code] - Description/purpose\n     - Slide 2: [Layout code] - Description/purpose\n     [... EVERY slide must be listed individually with its index ...]\n     ```\n   * **Using the thumbnail grid**: Reference the visual thumbnails to identify:\n     - Layout patterns (title slides, content layouts, section dividers)\n     - Image placeholder locations and counts\n     - Design consistency across slide groups\n     - Visual hierarchy and structure\n   * This inventory file is REQUIRED for selecting appropriate templates in the next step\n\n3. **Create presentation outline based on template inventory**:\n   * Review available templates from step 2.\n   * Choose an intro or title template for the first slide. This should be one of the first templates.\n   * Choose safe, text-based layouts for the other slides.\n   * **CRITICAL: Match layout structure to actual content**:\n     - Single-column layouts: Use for unified narrative or single topic\n     - Two-column layouts: Use ONLY when you have exactly 2 distinct items/concepts\n     - Three-column layouts: Use ONLY when you have exactly 3 distinct items/concepts\n     - Image + text layouts: Use ONLY when you have actual images to insert\n     - Quote layouts: Use ONLY for actual quotes from people (with attribution), never for emphasis\n     - Never use layouts with more placeholders than you have content\n     - If you have 2 items, don't force them into a 3-column layout\n     - If you have 4+ items, consider breaking into multiple slides or using a list format\n   * Count your actual content pieces BEFORE selecting the layout\n   * Verify each placeholder in the chosen layout will be filled with meaningful content\n   * Select one option representing the **best** layout for each content section.\n   * Save `outline.md` with content AND template mapping that leverages available designs\n   * Example template mapping:\n      ```\n      # Template slides to use (0-based indexing)\n      # WARNING: Verify indices are within range! Template with 73 slides has indices 0-72\n      # Mapping: slide numbers from outline -> template slide indices\n      template_mapping = [\n          0,   # Use slide 0 (Title/Cover)\n          34,  # Use slide 34 (B1: Title and body)\n          34,  # Use slide 34 again (duplicate for second B1)\n          50,  # Use slide 50 (E1: Quote)\n          54,  # Use slide 54 (F2: Closing + Text)\n      ]\n      ```\n\n4. **Duplicate, reorder, and delete slides using `rearrange.py`**:\n   * Use the `scripts/rearrange.py` script to create a new presentation with slides in the desired order:\n     ```bash\n     python scripts/rearrange.py template.pptx working.pptx 0,34,34,50,52\n     ```\n   * The script handles duplicating repeated slides, deleting unused slides, and reordering automatically\n   * Slide indices are 0-based (first slide is 0, second is 1, etc.)\n   * The same slide index can appear multiple times to duplicate that slide\n\n5. **Extract ALL text using the `inventory.py` script**:\n   * **Run inventory extraction**:\n     ```bash\n     python scripts/inventory.py working.pptx text-inventory.json\n     ```\n   * **Read text-inventory.json**: Read the entire text-inventory.json file to understand all shapes and their properties. **NEVER set any range limits when reading this file.**\n\n   * The inventory JSON structure:\n      ```json\n        {\n          \"slide-0\": {\n            \"shape-0\": {\n              \"placeholder_type\": \"TITLE\",  // or null for non-placeholders\n              \"left\": 1.5,                  // position in inches\n              \"top\": 2.0,\n              \"width\": 7.5,\n              \"height\": 1.2,\n              \"paragraphs\": [\n                {\n                  \"text\": \"Paragraph text\",\n                  // Optional properties (only included when non-default):\n                  \"bullet\": true,           // explicit bullet detected\n                  \"level\": 0,               // only included when bullet is true\n                  \"alignment\": \"CENTER\",    // CENTER, RIGHT (not LEFT)\n                  \"space_before\": 10.0,     // space before paragraph in points\n                  \"space_after\": 6.0,       // space after paragraph in points\n                  \"line_spacing\": 22.4,     // line spacing in points\n                  \"font_name\": \"Arial\",     // from first run\n                  \"font_size\": 14.0,        // in points\n                  \"bold\": true,\n                  \"italic\": false,\n                  \"underline\": false,\n                  \"color\": \"FF0000\"         // RGB color\n                }\n              ]\n            }\n          }\n        }\n      ```\n\n   * Key features:\n     - **Slides**: Named as \"slide-0\", \"slide-1\", etc.\n     - **Shapes**: Ordered by visual position (top-to-bottom, left-to-right) as \"shape-0\", \"shape-1\", etc.\n     - **Placeholder types**: TITLE, CENTER_TITLE, SUBTITLE, BODY, OBJECT, or null\n     - **Default font size**: `default_font_size` in points extracted from layout placeholders (when available)\n     - **Slide numbers are filtered**: Shapes with SLIDE_NUMBER placeholder type are automatically excluded from inventory\n     - **Bullets**: When `bullet: true`, `level` is always included (even if 0)\n     - **Spacing**: `space_before`, `space_after`, and `line_spacing` in points (only included when set)\n     - **Colors**: `color` for RGB (e.g., \"FF0000\"), `theme_color` for theme colors (e.g., \"DARK_1\")\n     - **Properties**: Only non-default values are included in the output\n\n6. **Generate replacement text and save the data to a JSON file**\n   Based on the text inventory from the previous step:\n   - **CRITICAL**: First verify which shapes exist in the inventory - only reference shapes that are actually present\n   - **VALIDATION**: The replace.py script will validate that all shapes in your replacement JSON exist in the inventory\n     - If you reference a non-existent shape, you'll get an error showing available shapes\n     - If you reference a non-existent slide, you'll get an error indicating the slide doesn't exist\n     - All validation errors are shown at once before the script exits\n   - **IMPORTANT**: The replace.py script uses inventory.py internally to identify ALL text shapes\n   - **AUTOMATIC CLEARING**: ALL text shapes from the inventory will be cleared unless you provide \"paragraphs\" for them\n   - Add a \"paragraphs\" field to shapes that need content (not \"replacement_paragraphs\")\n   - Shapes without \"paragraphs\" in the replacement JSON will have their text cleared automatically\n   - Paragraphs with bullets will be automatically left aligned. Don't set the `alignment` property on when `\"bullet\": true`\n   - Generate appropriate replacement content for placeholder text\n   - Use shape size to determine appropriate content length\n   - **CRITICAL**: Include paragraph properties from the original inventory - don't just provide text\n   - **IMPORTANT**: When bullet: true, do NOT include bullet symbols (â€¢, -, *) in text - they're added automatically\n   - **ESSENTIAL FORMATTING RULES**:\n     - Headers/titles should typically have `\"bold\": true`\n     - List items should have `\"bullet\": true, \"level\": 0` (level is required when bullet is true)\n     - Preserve any alignment properties (e.g., `\"alignment\": \"CENTER\"` for centered text)\n     - Include font properties when different from default (e.g., `\"font_size\": 14.0`, `\"font_name\": \"Lora\"`)\n     - Colors: Use `\"color\": \"FF0000\"` for RGB or `\"theme_color\": \"DARK_1\"` for theme colors\n     - The replacement script expects **properly formatted paragraphs**, not just text strings\n     - **Overlapping shapes**: Prefer shapes with larger default_font_size or more appropriate placeholder_type\n   - Save the updated inventory with replacements to `replacement-text.json`\n   - **WARNING**: Different template layouts have different shape counts - always check the actual inventory before creating replacements\n\n   Example paragraphs field showing proper formatting:\n   ```json\n   \"paragraphs\": [\n     {\n       \"text\": \"New presentation title text\",\n       \"alignment\": \"CENTER\",\n       \"bold\": true\n     },\n     {\n       \"text\": \"Section Header\",\n       \"bold\": true\n     },\n     {\n       \"text\": \"First bullet point without bullet symbol\",\n       \"bullet\": true,\n       \"level\": 0\n     },\n     {\n       \"text\": \"Red colored text\",\n       \"color\": \"FF0000\"\n     },\n     {\n       \"text\": \"Theme colored text\",\n       \"theme_color\": \"DARK_1\"\n     },\n     {\n       \"text\": \"Regular paragraph text without special formatting\"\n     }\n   ]\n   ```\n\n   **Shapes not listed in the replacement JSON are automatically cleared**:\n   ```json\n   {\n     \"slide-0\": {\n       \"shape-0\": {\n         \"paragraphs\": [...] // This shape gets new text\n       }\n       // shape-1 and shape-2 from inventory will be cleared automatically\n     }\n   }\n   ```\n\n   **Common formatting patterns for presentations**:\n   - Title slides: Bold text, sometimes centered\n   - Section headers within slides: Bold text\n   - Bullet lists: Each item needs `\"bullet\": true, \"level\": 0`\n   - Body text: Usually no special properties needed\n   - Quotes: May have special alignment or font properties\n\n7. **Apply replacements using the `replace.py` script**\n   ```bash\n   python scripts/replace.py working.pptx replacement-text.json output.pptx\n   ```\n\n   The script will:\n   - First extract the inventory of ALL text shapes using functions from inventory.py\n   - Validate that all shapes in the replacement JSON exist in the inventory\n   - Clear text from ALL shapes identified in the inventory\n   - Apply new text only to shapes with \"paragraphs\" defined in the replacement JSON\n   - Preserve formatting by applying paragraph properties from the JSON\n   - Handle bullets, alignment, font properties, and colors automatically\n   - Save the updated presentation\n\n   Example validation errors:\n   ```\n   ERROR: Invalid shapes in replacement JSON:\n     - Shape 'shape-99' not found on 'slide-0'. Available shapes: shape-0, shape-1, shape-4\n     - Slide 'slide-999' not found in inventory\n   ```\n\n   ```\n   ERROR: Replacement text made overflow worse in these shapes:\n     - slide-0/shape-2: overflow worsened by 1.25\" (was 0.00\", now 1.25\")\n   ```\n\n## Creating Thumbnail Grids\n\nTo create visual thumbnail grids of PowerPoint slides for quick analysis and reference:\n\n```bash\npython scripts/thumbnail.py template.pptx [output_prefix]\n```\n\n**Features**:\n- Creates: `thumbnails.jpg` (or `thumbnails-1.jpg`, `thumbnails-2.jpg`, etc. for large decks)\n- Default: 5 columns, max 30 slides per grid (5Ã—6)\n- Custom prefix: `python scripts/thumbnail.py template.pptx my-grid`\n  - Note: The output prefix should include the path if you want output in a specific directory (e.g., `workspace/my-grid`)\n- Adjust columns: `--cols 4` (range: 3-6, affects slides per grid)\n- Grid limits: 3 cols = 12 slides/grid, 4 cols = 20, 5 cols = 30, 6 cols = 42\n- Slides are zero-indexed (Slide 0, Slide 1, etc.)\n\n**Use cases**:\n- Template analysis: Quickly understand slide layouts and design patterns\n- Content review: Visual overview of entire presentation\n- Navigation reference: Find specific slides by their visual appearance\n- Quality check: Verify all slides are properly formatted\n\n**Examples**:\n```bash\n# Basic usage\npython scripts/thumbnail.py presentation.pptx\n\n# Combine options: custom name, columns\npython scripts/thumbnail.py template.pptx analysis --cols 4\n```\n\n## Converting Slides to Images\n\nTo visually analyze PowerPoint slides, convert them to images using a two-step process:\n\n1. **Convert PPTX to PDF**:\n   ```bash\n   soffice --headless --convert-to pdf template.pptx\n   ```\n\n2. **Convert PDF pages to JPEG images**:\n   ```bash\n   pdftoppm -jpeg -r 150 template.pdf slide\n   ```\n   This creates files like `slide-1.jpg`, `slide-2.jpg`, etc.\n\nOptions:\n- `-r 150`: Sets resolution to 150 DPI (adjust for quality/size balance)\n- `-jpeg`: Output JPEG format (use `-png` for PNG if preferred)\n- `-f N`: First page to convert (e.g., `-f 2` starts from page 2)\n- `-l N`: Last page to convert (e.g., `-l 5` stops at page 5)\n- `slide`: Prefix for output files\n\nExample for specific range:\n```bash\npdftoppm -jpeg -r 150 -f 2 -l 5 template.pdf slide  # Converts only pages 2-5\n```\n\n## Code Style Guidelines\n**IMPORTANT**: When generating code for PPTX operations:\n- Write concise code\n- Avoid verbose variable names and redundant operations\n- Avoid unnecessary print statements\n\n## Dependencies\n\nRequired dependencies (should already be installed):\n\n- **markitdown**: `pip install \"markitdown[pptx]\"` (for text extraction from presentations)\n- **pptxgenjs**: `npm install -g pptxgenjs` (for creating presentations via html2pptx)\n- **playwright**: `npm install -g playwright` (for HTML rendering in html2pptx)\n- **react-icons**: `npm install -g react-icons react react-dom` (for icons)\n- **sharp**: `npm install -g sharp` (for SVG rasterization and image processing)\n- **LibreOffice**: `sudo apt-get install libreoffice` (for PDF conversion)\n- **Poppler**: `sudo apt-get install poppler-utils` (for pdftoppm to convert PDF to images)\n- **defusedxml**: `pip install defusedxml` (for secure XML parsing)",
        "skills/pptx/html2pptx.md": "# HTML to PowerPoint Guide\n\nConvert HTML slides to PowerPoint presentations with accurate positioning using the `html2pptx.js` library.\n\n## Table of Contents\n\n1. [Creating HTML Slides](#creating-html-slides)\n2. [Using the html2pptx Library](#using-the-html2pptx-library)\n3. [Using PptxGenJS](#using-pptxgenjs)\n\n---\n\n## Creating HTML Slides\n\nEvery HTML slide must include proper body dimensions:\n\n### Layout Dimensions\n\n- **16:9** (default): `width: 720pt; height: 405pt`\n- **4:3**: `width: 720pt; height: 540pt`\n- **16:10**: `width: 720pt; height: 450pt`\n\n### Supported Elements\n\n- `<p>`, `<h1>`-`<h6>` - Text with styling\n- `<ul>`, `<ol>` - Lists (never use manual bullets â€¢, -, *)\n- `<b>`, `<strong>` - Bold text (inline formatting)\n- `<i>`, `<em>` - Italic text (inline formatting)\n- `<u>` - Underlined text (inline formatting)\n- `<span>` - Inline formatting with CSS styles (bold, italic, underline, color)\n- `<br>` - Line breaks\n- `<div>` with bg/border - Becomes shape\n- `<img>` - Images\n- `class=\"placeholder\"` - Reserved space for charts (returns `{ id, x, y, w, h }`)\n\n### Critical Text Rules\n\n**ALL text MUST be inside `<p>`, `<h1>`-`<h6>`, `<ul>`, or `<ol>` tags:**\n- âœ… Correct: `<div><p>Text here</p></div>`\n- âŒ Wrong: `<div>Text here</div>` - **Text will NOT appear in PowerPoint**\n- âŒ Wrong: `<span>Text</span>` - **Text will NOT appear in PowerPoint**\n- Text in `<div>` or `<span>` without a text tag will be silently ignored\n\n**NEVER use manual bullet symbols (â€¢, -, *, etc.)** - Use `<ul>` or `<ol>` lists instead\n\n**ONLY use web-safe fonts that are universally available:**\n- âœ… Web-safe fonts: `Arial`, `Helvetica`, `Times New Roman`, `Georgia`, `Courier New`, `Verdana`, `Tahoma`, `Trebuchet MS`, `Impact`, `Comic Sans MS`\n- âŒ Wrong: `'Segoe UI'`, `'SF Pro'`, `'Roboto'`, custom fonts - **Might cause rendering issues**\n\n### Styling\n\n- Use `display: flex` on body to prevent margin collapse from breaking overflow validation\n- Use `margin` for spacing (padding included in size)\n- Inline formatting: Use `<b>`, `<i>`, `<u>` tags OR `<span>` with CSS styles\n  - `<span>` supports: `font-weight: bold`, `font-style: italic`, `text-decoration: underline`, `color: #rrggbb`\n  - `<span>` does NOT support: `margin`, `padding` (not supported in PowerPoint text runs)\n  - Example: `<span style=\"font-weight: bold; color: #667eea;\">Bold blue text</span>`\n- Flexbox works - positions calculated from rendered layout\n- Use hex colors with `#` prefix in CSS\n- **Text alignment**: Use CSS `text-align` (`center`, `right`, etc.) when needed as a hint to PptxGenJS for text formatting if text lengths are slightly off\n\n### Shape Styling (DIV elements only)\n\n**IMPORTANT: Backgrounds, borders, and shadows only work on `<div>` elements, NOT on text elements (`<p>`, `<h1>`-`<h6>`, `<ul>`, `<ol>`)**\n\n- **Backgrounds**: CSS `background` or `background-color` on `<div>` elements only\n  - Example: `<div style=\"background: #f0f0f0;\">` - Creates a shape with background\n- **Borders**: CSS `border` on `<div>` elements converts to PowerPoint shape borders\n  - Supports uniform borders: `border: 2px solid #333333`\n  - Supports partial borders: `border-left`, `border-right`, `border-top`, `border-bottom` (rendered as line shapes)\n  - Example: `<div style=\"border-left: 8pt solid #E76F51;\">`\n- **Border radius**: CSS `border-radius` on `<div>` elements for rounded corners\n  - `border-radius: 50%` or higher creates circular shape\n  - Percentages <50% calculated relative to shape's smaller dimension\n  - Supports px and pt units (e.g., `border-radius: 8pt;`, `border-radius: 12px;`)\n  - Example: `<div style=\"border-radius: 25%;\">` on 100x200px box = 25% of 100px = 25px radius\n- **Box shadows**: CSS `box-shadow` on `<div>` elements converts to PowerPoint shadows\n  - Supports outer shadows only (inset shadows are ignored to prevent corruption)\n  - Example: `<div style=\"box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);\">`\n  - Note: Inset/inner shadows are not supported by PowerPoint and will be skipped\n\n### Icons & Gradients\n\n- **CRITICAL: Never use CSS gradients (`linear-gradient`, `radial-gradient`)** - They don't convert to PowerPoint\n- **ALWAYS create gradient/icon PNGs FIRST using Sharp, then reference in HTML**\n- For gradients: Rasterize SVG to PNG background images\n- For icons: Rasterize react-icons SVG to PNG images\n- All visual effects must be pre-rendered as raster images before HTML rendering\n\n**Rasterizing Icons with Sharp:**\n\n```javascript\nconst React = require('react');\nconst ReactDOMServer = require('react-dom/server');\nconst sharp = require('sharp');\nconst { FaHome } = require('react-icons/fa');\n\nasync function rasterizeIconPng(IconComponent, color, size = \"256\", filename) {\n  const svgString = ReactDOMServer.renderToStaticMarkup(\n    React.createElement(IconComponent, { color: `#${color}`, size: size })\n  );\n\n  // Convert SVG to PNG using Sharp\n  await sharp(Buffer.from(svgString))\n    .png()\n    .toFile(filename);\n\n  return filename;\n}\n\n// Usage: Rasterize icon before using in HTML\nconst iconPath = await rasterizeIconPng(FaHome, \"4472c4\", \"256\", \"home-icon.png\");\n// Then reference in HTML: <img src=\"home-icon.png\" style=\"width: 40pt; height: 40pt;\">\n```\n\n**Rasterizing Gradients with Sharp:**\n\n```javascript\nconst sharp = require('sharp');\n\nasync function createGradientBackground(filename) {\n  const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1000\" height=\"562.5\">\n    <defs>\n      <linearGradient id=\"g\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n        <stop offset=\"0%\" style=\"stop-color:#COLOR1\"/>\n        <stop offset=\"100%\" style=\"stop-color:#COLOR2\"/>\n      </linearGradient>\n    </defs>\n    <rect width=\"100%\" height=\"100%\" fill=\"url(#g)\"/>\n  </svg>`;\n\n  await sharp(Buffer.from(svg))\n    .png()\n    .toFile(filename);\n\n  return filename;\n}\n\n// Usage: Create gradient background before HTML\nconst bgPath = await createGradientBackground(\"gradient-bg.png\");\n// Then in HTML: <body style=\"background-image: url('gradient-bg.png');\">\n```\n\n### Example\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n<style>\nhtml { background: #ffffff; }\nbody {\n  width: 720pt; height: 405pt; margin: 0; padding: 0;\n  background: #f5f5f5; font-family: Arial, sans-serif;\n  display: flex;\n}\n.content { margin: 30pt; padding: 40pt; background: #ffffff; border-radius: 8pt; }\nh1 { color: #2d3748; font-size: 32pt; }\n.box {\n  background: #70ad47; padding: 20pt; border: 3px solid #5a8f37;\n  border-radius: 12pt; box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.25);\n}\n</style>\n</head>\n<body>\n<div class=\"content\">\n  <h1>Recipe Title</h1>\n  <ul>\n    <li><b>Item:</b> Description</li>\n  </ul>\n  <p>Text with <b>bold</b>, <i>italic</i>, <u>underline</u>.</p>\n  <div id=\"chart\" class=\"placeholder\" style=\"width: 350pt; height: 200pt;\"></div>\n\n  <!-- Text MUST be in <p> tags -->\n  <div class=\"box\">\n    <p>5</p>\n  </div>\n</div>\n</body>\n</html>\n```\n\n## Using the html2pptx Library\n\n### Dependencies\n\nThese libraries have been globally installed and are available to use:\n- `pptxgenjs`\n- `playwright`\n- `sharp`\n\n### Basic Usage\n\n```javascript\nconst pptxgen = require('pptxgenjs');\nconst html2pptx = require('./html2pptx');\n\nconst pptx = new pptxgen();\npptx.layout = 'LAYOUT_16x9';  // Must match HTML body dimensions\n\nconst { slide, placeholders } = await html2pptx('slide1.html', pptx);\n\n// Add chart to placeholder area\nif (placeholders.length > 0) {\n    slide.addChart(pptx.charts.LINE, chartData, placeholders[0]);\n}\n\nawait pptx.writeFile('output.pptx');\n```\n\n### API Reference\n\n#### Function Signature\n```javascript\nawait html2pptx(htmlFile, pres, options)\n```\n\n#### Parameters\n- `htmlFile` (string): Path to HTML file (absolute or relative)\n- `pres` (pptxgen): PptxGenJS presentation instance with layout already set\n- `options` (object, optional):\n  - `tmpDir` (string): Temporary directory for generated files (default: `process.env.TMPDIR || '/tmp'`)\n  - `slide` (object): Existing slide to reuse (default: creates new slide)\n\n#### Returns\n```javascript\n{\n    slide: pptxgenSlide,           // The created/updated slide\n    placeholders: [                 // Array of placeholder positions\n        { id: string, x: number, y: number, w: number, h: number },\n        ...\n    ]\n}\n```\n\n### Validation\n\nThe library automatically validates and collects all errors before throwing:\n\n1. **HTML dimensions must match presentation layout** - Reports dimension mismatches\n2. **Content must not overflow body** - Reports overflow with exact measurements\n3. **CSS gradients** - Reports unsupported gradient usage\n4. **Text element styling** - Reports backgrounds/borders/shadows on text elements (only allowed on divs)\n\n**All validation errors are collected and reported together** in a single error message, allowing you to fix all issues at once instead of one at a time.\n\n### Working with Placeholders\n\n```javascript\nconst { slide, placeholders } = await html2pptx('slide.html', pptx);\n\n// Use first placeholder\nslide.addChart(pptx.charts.BAR, data, placeholders[0]);\n\n// Find by ID\nconst chartArea = placeholders.find(p => p.id === 'chart-area');\nslide.addChart(pptx.charts.LINE, data, chartArea);\n```\n\n### Complete Example\n\n```javascript\nconst pptxgen = require('pptxgenjs');\nconst html2pptx = require('./html2pptx');\n\nasync function createPresentation() {\n    const pptx = new pptxgen();\n    pptx.layout = 'LAYOUT_16x9';\n    pptx.author = 'Your Name';\n    pptx.title = 'My Presentation';\n\n    // Slide 1: Title\n    const { slide: slide1 } = await html2pptx('slides/title.html', pptx);\n\n    // Slide 2: Content with chart\n    const { slide: slide2, placeholders } = await html2pptx('slides/data.html', pptx);\n\n    const chartData = [{\n        name: 'Sales',\n        labels: ['Q1', 'Q2', 'Q3', 'Q4'],\n        values: [4500, 5500, 6200, 7100]\n    }];\n\n    slide2.addChart(pptx.charts.BAR, chartData, {\n        ...placeholders[0],\n        showTitle: true,\n        title: 'Quarterly Sales',\n        showCatAxisTitle: true,\n        catAxisTitle: 'Quarter',\n        showValAxisTitle: true,\n        valAxisTitle: 'Sales ($000s)'\n    });\n\n    // Save\n    await pptx.writeFile({ fileName: 'presentation.pptx' });\n    console.log('Presentation created successfully!');\n}\n\ncreatePresentation().catch(console.error);\n```\n\n## Using PptxGenJS\n\nAfter converting HTML to slides with `html2pptx`, you'll use PptxGenJS to add dynamic content like charts, images, and additional elements.\n\n### âš ï¸ Critical Rules\n\n#### Colors\n- **NEVER use `#` prefix** with hex colors in PptxGenJS - causes file corruption\n- âœ… Correct: `color: \"FF0000\"`, `fill: { color: \"0066CC\" }`\n- âŒ Wrong: `color: \"#FF0000\"` (breaks document)\n\n### Adding Images\n\nAlways calculate aspect ratios from actual image dimensions:\n\n```javascript\n// Get image dimensions: identify image.png | grep -o '[0-9]* x [0-9]*'\nconst imgWidth = 1860, imgHeight = 1519;  // From actual file\nconst aspectRatio = imgWidth / imgHeight;\n\nconst h = 3;  // Max height\nconst w = h * aspectRatio;\nconst x = (10 - w) / 2;  // Center on 16:9 slide\n\nslide.addImage({ path: \"chart.png\", x, y: 1.5, w, h });\n```\n\n### Adding Text\n\n```javascript\n// Rich text with formatting\nslide.addText([\n    { text: \"Bold \", options: { bold: true } },\n    { text: \"Italic \", options: { italic: true } },\n    { text: \"Normal\" }\n], {\n    x: 1, y: 2, w: 8, h: 1\n});\n```\n\n### Adding Shapes\n\n```javascript\n// Rectangle\nslide.addShape(pptx.shapes.RECTANGLE, {\n    x: 1, y: 1, w: 3, h: 2,\n    fill: { color: \"4472C4\" },\n    line: { color: \"000000\", width: 2 }\n});\n\n// Circle\nslide.addShape(pptx.shapes.OVAL, {\n    x: 5, y: 1, w: 2, h: 2,\n    fill: { color: \"ED7D31\" }\n});\n\n// Rounded rectangle\nslide.addShape(pptx.shapes.ROUNDED_RECTANGLE, {\n    x: 1, y: 4, w: 3, h: 1.5,\n    fill: { color: \"70AD47\" },\n    rectRadius: 0.2\n});\n```\n\n### Adding Charts\n\n**Required for most charts:** Axis labels using `catAxisTitle` (category) and `valAxisTitle` (value).\n\n**Chart Data Format:**\n- Use **single series with all labels** for simple bar/line charts\n- Each series creates a separate legend entry\n- Labels array defines X-axis values\n\n**Time Series Data - Choose Correct Granularity:**\n- **< 30 days**: Use daily grouping (e.g., \"10-01\", \"10-02\") - avoid monthly aggregation that creates single-point charts\n- **30-365 days**: Use monthly grouping (e.g., \"2024-01\", \"2024-02\")\n- **> 365 days**: Use yearly grouping (e.g., \"2023\", \"2024\")\n- **Validate**: Charts with only 1 data point likely indicate incorrect aggregation for the time period\n\n```javascript\nconst { slide, placeholders } = await html2pptx('slide.html', pptx);\n\n// CORRECT: Single series with all labels\nslide.addChart(pptx.charts.BAR, [{\n    name: \"Sales 2024\",\n    labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n    values: [4500, 5500, 6200, 7100]\n}], {\n    ...placeholders[0],  // Use placeholder position\n    barDir: 'col',       // 'col' = vertical bars, 'bar' = horizontal\n    showTitle: true,\n    title: 'Quarterly Sales',\n    showLegend: false,   // No legend needed for single series\n    // Required axis labels\n    showCatAxisTitle: true,\n    catAxisTitle: 'Quarter',\n    showValAxisTitle: true,\n    valAxisTitle: 'Sales ($000s)',\n    // Optional: Control scaling (adjust min based on data range for better visualization)\n    valAxisMaxVal: 8000,\n    valAxisMinVal: 0,  // Use 0 for counts/amounts; for clustered data (e.g., 4500-7100), consider starting closer to min value\n    valAxisMajorUnit: 2000,  // Control y-axis label spacing to prevent crowding\n    catAxisLabelRotate: 45,  // Rotate labels if crowded\n    dataLabelPosition: 'outEnd',\n    dataLabelColor: '000000',\n    // Use single color for single-series charts\n    chartColors: [\"4472C4\"]  // All bars same color\n});\n```\n\n#### Scatter Chart\n\n**IMPORTANT**: Scatter chart data format is unusual - first series contains X-axis values, subsequent series contain Y-values:\n\n```javascript\n// Prepare data\nconst data1 = [{ x: 10, y: 20 }, { x: 15, y: 25 }, { x: 20, y: 30 }];\nconst data2 = [{ x: 12, y: 18 }, { x: 18, y: 22 }];\n\nconst allXValues = [...data1.map(d => d.x), ...data2.map(d => d.x)];\n\nslide.addChart(pptx.charts.SCATTER, [\n    { name: 'X-Axis', values: allXValues },  // First series = X values\n    { name: 'Series 1', values: data1.map(d => d.y) },  // Y values only\n    { name: 'Series 2', values: data2.map(d => d.y) }   // Y values only\n], {\n    x: 1, y: 1, w: 8, h: 4,\n    lineSize: 0,  // 0 = no connecting lines\n    lineDataSymbol: 'circle',\n    lineDataSymbolSize: 6,\n    showCatAxisTitle: true,\n    catAxisTitle: 'X Axis',\n    showValAxisTitle: true,\n    valAxisTitle: 'Y Axis',\n    chartColors: [\"4472C4\", \"ED7D31\"]\n});\n```\n\n#### Line Chart\n\n```javascript\nslide.addChart(pptx.charts.LINE, [{\n    name: \"Temperature\",\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\"],\n    values: [32, 35, 42, 55]\n}], {\n    x: 1, y: 1, w: 8, h: 4,\n    lineSize: 4,\n    lineSmooth: true,\n    // Required axis labels\n    showCatAxisTitle: true,\n    catAxisTitle: 'Month',\n    showValAxisTitle: true,\n    valAxisTitle: 'Temperature (Â°F)',\n    // Optional: Y-axis range (set min based on data range for better visualization)\n    valAxisMinVal: 0,     // For ranges starting at 0 (counts, percentages, etc.)\n    valAxisMaxVal: 60,\n    valAxisMajorUnit: 20,  // Control y-axis label spacing to prevent crowding (e.g., 10, 20, 25)\n    // valAxisMinVal: 30,  // PREFERRED: For data clustered in a range (e.g., 32-55 or ratings 3-5), start axis closer to min value to show variation\n    // Optional: Chart colors\n    chartColors: [\"4472C4\", \"ED7D31\", \"A5A5A5\"]\n});\n```\n\n#### Pie Chart (No Axis Labels Required)\n\n**CRITICAL**: Pie charts require a **single data series** with all categories in the `labels` array and corresponding values in the `values` array.\n\n```javascript\nslide.addChart(pptx.charts.PIE, [{\n    name: \"Market Share\",\n    labels: [\"Product A\", \"Product B\", \"Other\"],  // All categories in one array\n    values: [35, 45, 20]  // All values in one array\n}], {\n    x: 2, y: 1, w: 6, h: 4,\n    showPercent: true,\n    showLegend: true,\n    legendPos: 'r',  // right\n    chartColors: [\"4472C4\", \"ED7D31\", \"A5A5A5\"]\n});\n```\n\n#### Multiple Data Series\n\n```javascript\nslide.addChart(pptx.charts.LINE, [\n    {\n        name: \"Product A\",\n        labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n        values: [10, 20, 30, 40]\n    },\n    {\n        name: \"Product B\",\n        labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n        values: [15, 25, 20, 35]\n    }\n], {\n    x: 1, y: 1, w: 8, h: 4,\n    showCatAxisTitle: true,\n    catAxisTitle: 'Quarter',\n    showValAxisTitle: true,\n    valAxisTitle: 'Revenue ($M)'\n});\n```\n\n### Chart Colors\n\n**CRITICAL**: Use hex colors **without** the `#` prefix - including `#` causes file corruption.\n\n**Align chart colors with your chosen design palette**, ensuring sufficient contrast and distinctiveness for data visualization. Adjust colors for:\n- Strong contrast between adjacent series\n- Readability against slide backgrounds\n- Accessibility (avoid red-green only combinations)\n\n```javascript\n// Example: Ocean palette-inspired chart colors (adjusted for contrast)\nconst chartColors = [\"16A085\", \"FF6B9D\", \"2C3E50\", \"F39C12\", \"9B59B6\"];\n\n// Single-series chart: Use one color for all bars/points\nslide.addChart(pptx.charts.BAR, [{\n    name: \"Sales\",\n    labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n    values: [4500, 5500, 6200, 7100]\n}], {\n    ...placeholders[0],\n    chartColors: [\"16A085\"],  // All bars same color\n    showLegend: false\n});\n\n// Multi-series chart: Each series gets a different color\nslide.addChart(pptx.charts.LINE, [\n    { name: \"Product A\", labels: [\"Q1\", \"Q2\", \"Q3\"], values: [10, 20, 30] },\n    { name: \"Product B\", labels: [\"Q1\", \"Q2\", \"Q3\"], values: [15, 25, 20] }\n], {\n    ...placeholders[0],\n    chartColors: [\"16A085\", \"FF6B9D\"]  // One color per series\n});\n```\n\n### Adding Tables\n\nTables can be added with basic or advanced formatting:\n\n#### Basic Table\n\n```javascript\nslide.addTable([\n    [\"Header 1\", \"Header 2\", \"Header 3\"],\n    [\"Row 1, Col 1\", \"Row 1, Col 2\", \"Row 1, Col 3\"],\n    [\"Row 2, Col 1\", \"Row 2, Col 2\", \"Row 2, Col 3\"]\n], {\n    x: 0.5,\n    y: 1,\n    w: 9,\n    h: 3,\n    border: { pt: 1, color: \"999999\" },\n    fill: { color: \"F1F1F1\" }\n});\n```\n\n#### Table with Custom Formatting\n\n```javascript\nconst tableData = [\n    // Header row with custom styling\n    [\n        { text: \"Product\", options: { fill: { color: \"4472C4\" }, color: \"FFFFFF\", bold: true } },\n        { text: \"Revenue\", options: { fill: { color: \"4472C4\" }, color: \"FFFFFF\", bold: true } },\n        { text: \"Growth\", options: { fill: { color: \"4472C4\" }, color: \"FFFFFF\", bold: true } }\n    ],\n    // Data rows\n    [\"Product A\", \"$50M\", \"+15%\"],\n    [\"Product B\", \"$35M\", \"+22%\"],\n    [\"Product C\", \"$28M\", \"+8%\"]\n];\n\nslide.addTable(tableData, {\n    x: 1,\n    y: 1.5,\n    w: 8,\n    h: 3,\n    colW: [3, 2.5, 2.5],  // Column widths\n    rowH: [0.5, 0.6, 0.6, 0.6],  // Row heights\n    border: { pt: 1, color: \"CCCCCC\" },\n    align: \"center\",\n    valign: \"middle\",\n    fontSize: 14\n});\n```\n\n#### Table with Merged Cells\n\n```javascript\nconst mergedTableData = [\n    [\n        { text: \"Q1 Results\", options: { colspan: 3, fill: { color: \"4472C4\" }, color: \"FFFFFF\", bold: true } }\n    ],\n    [\"Product\", \"Sales\", \"Market Share\"],\n    [\"Product A\", \"$25M\", \"35%\"],\n    [\"Product B\", \"$18M\", \"25%\"]\n];\n\nslide.addTable(mergedTableData, {\n    x: 1,\n    y: 1,\n    w: 8,\n    h: 2.5,\n    colW: [3, 2.5, 2.5],\n    border: { pt: 1, color: \"DDDDDD\" }\n});\n```\n\n### Table Options\n\nCommon table options:\n- `x, y, w, h` - Position and size\n- `colW` - Array of column widths (in inches)\n- `rowH` - Array of row heights (in inches)\n- `border` - Border style: `{ pt: 1, color: \"999999\" }`\n- `fill` - Background color (no # prefix)\n- `align` - Text alignment: \"left\", \"center\", \"right\"\n- `valign` - Vertical alignment: \"top\", \"middle\", \"bottom\"\n- `fontSize` - Text size\n- `autoPage` - Auto-create new slides if content overflows",
        "skills/pptx/ooxml.md": "# Office Open XML Technical Reference for PowerPoint\n\n**Important: Read this entire document before starting.** Critical XML schema rules and formatting requirements are covered throughout. Incorrect implementation can create invalid PPTX files that PowerPoint cannot open.\n\n## Technical Guidelines\n\n### Schema Compliance\n- **Element ordering in `<p:txBody>`**: `<a:bodyPr>`, `<a:lstStyle>`, `<a:p>`\n- **Whitespace**: Add `xml:space='preserve'` to `<a:t>` elements with leading/trailing spaces\n- **Unicode**: Escape characters in ASCII content: `\"` becomes `&#8220;`\n- **Images**: Add to `ppt/media/`, reference in slide XML, set dimensions to fit slide bounds\n- **Relationships**: Update `ppt/slides/_rels/slideN.xml.rels` for each slide's resources\n- **Dirty attribute**: Add `dirty=\"0\"` to `<a:rPr>` and `<a:endParaRPr>` elements to indicate clean state\n\n## Presentation Structure\n\n### Basic Slide Structure\n```xml\n<!-- ppt/slides/slide1.xml -->\n<p:sld>\n  <p:cSld>\n    <p:spTree>\n      <p:nvGrpSpPr>...</p:nvGrpSpPr>\n      <p:grpSpPr>...</p:grpSpPr>\n      <!-- Shapes go here -->\n    </p:spTree>\n  </p:cSld>\n</p:sld>\n```\n\n### Text Box / Shape with Text\n```xml\n<p:sp>\n  <p:nvSpPr>\n    <p:cNvPr id=\"2\" name=\"Title\"/>\n    <p:cNvSpPr>\n      <a:spLocks noGrp=\"1\"/>\n    </p:cNvSpPr>\n    <p:nvPr>\n      <p:ph type=\"ctrTitle\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <p:spPr>\n    <a:xfrm>\n      <a:off x=\"838200\" y=\"365125\"/>\n      <a:ext cx=\"7772400\" cy=\"1470025\"/>\n    </a:xfrm>\n  </p:spPr>\n  <p:txBody>\n    <a:bodyPr/>\n    <a:lstStyle/>\n    <a:p>\n      <a:r>\n        <a:t>Slide Title</a:t>\n      </a:r>\n    </a:p>\n  </p:txBody>\n</p:sp>\n```\n\n### Text Formatting\n```xml\n<!-- Bold -->\n<a:r>\n  <a:rPr b=\"1\"/>\n  <a:t>Bold Text</a:t>\n</a:r>\n\n<!-- Italic -->\n<a:r>\n  <a:rPr i=\"1\"/>\n  <a:t>Italic Text</a:t>\n</a:r>\n\n<!-- Underline -->\n<a:r>\n  <a:rPr u=\"sng\"/>\n  <a:t>Underlined</a:t>\n</a:r>\n\n<!-- Highlight -->\n<a:r>\n  <a:rPr>\n    <a:highlight>\n      <a:srgbClr val=\"FFFF00\"/>\n    </a:highlight>\n  </a:rPr>\n  <a:t>Highlighted Text</a:t>\n</a:r>\n\n<!-- Font and Size -->\n<a:r>\n  <a:rPr sz=\"2400\" typeface=\"Arial\">\n    <a:solidFill>\n      <a:srgbClr val=\"FF0000\"/>\n    </a:solidFill>\n  </a:rPr>\n  <a:t>Colored Arial 24pt</a:t>\n</a:r>\n\n<!-- Complete formatting example -->\n<a:r>\n  <a:rPr lang=\"en-US\" sz=\"1400\" b=\"1\" dirty=\"0\">\n    <a:solidFill>\n      <a:srgbClr val=\"FAFAFA\"/>\n    </a:solidFill>\n  </a:rPr>\n  <a:t>Formatted text</a:t>\n</a:r>\n```\n\n### Lists\n```xml\n<!-- Bullet list -->\n<a:p>\n  <a:pPr lvl=\"0\">\n    <a:buChar char=\"â€¢\"/>\n  </a:pPr>\n  <a:r>\n    <a:t>First bullet point</a:t>\n  </a:r>\n</a:p>\n\n<!-- Numbered list -->\n<a:p>\n  <a:pPr lvl=\"0\">\n    <a:buAutoNum type=\"arabicPeriod\"/>\n  </a:pPr>\n  <a:r>\n    <a:t>First numbered item</a:t>\n  </a:r>\n</a:p>\n\n<!-- Second level indent -->\n<a:p>\n  <a:pPr lvl=\"1\">\n    <a:buChar char=\"â€¢\"/>\n  </a:pPr>\n  <a:r>\n    <a:t>Indented bullet</a:t>\n  </a:r>\n</a:p>\n```\n\n### Shapes\n```xml\n<!-- Rectangle -->\n<p:sp>\n  <p:nvSpPr>\n    <p:cNvPr id=\"3\" name=\"Rectangle\"/>\n    <p:cNvSpPr/>\n    <p:nvPr/>\n  </p:nvSpPr>\n  <p:spPr>\n    <a:xfrm>\n      <a:off x=\"1000000\" y=\"1000000\"/>\n      <a:ext cx=\"3000000\" cy=\"2000000\"/>\n    </a:xfrm>\n    <a:prstGeom prst=\"rect\">\n      <a:avLst/>\n    </a:prstGeom>\n    <a:solidFill>\n      <a:srgbClr val=\"FF0000\"/>\n    </a:solidFill>\n    <a:ln w=\"25400\">\n      <a:solidFill>\n        <a:srgbClr val=\"000000\"/>\n      </a:solidFill>\n    </a:ln>\n  </p:spPr>\n</p:sp>\n\n<!-- Rounded Rectangle -->\n<p:sp>\n  <p:spPr>\n    <a:prstGeom prst=\"roundRect\">\n      <a:avLst/>\n    </a:prstGeom>\n  </p:spPr>\n</p:sp>\n\n<!-- Circle/Ellipse -->\n<p:sp>\n  <p:spPr>\n    <a:prstGeom prst=\"ellipse\">\n      <a:avLst/>\n    </a:prstGeom>\n  </p:spPr>\n</p:sp>\n```\n\n### Images\n```xml\n<p:pic>\n  <p:nvPicPr>\n    <p:cNvPr id=\"4\" name=\"Picture\">\n      <a:hlinkClick r:id=\"\" action=\"ppaction://media\"/>\n    </p:cNvPr>\n    <p:cNvPicPr>\n      <a:picLocks noChangeAspect=\"1\"/>\n    </p:cNvPicPr>\n    <p:nvPr/>\n  </p:nvPicPr>\n  <p:blipFill>\n    <a:blip r:embed=\"rId2\"/>\n    <a:stretch>\n      <a:fillRect/>\n    </a:stretch>\n  </p:blipFill>\n  <p:spPr>\n    <a:xfrm>\n      <a:off x=\"1000000\" y=\"1000000\"/>\n      <a:ext cx=\"3000000\" cy=\"2000000\"/>\n    </a:xfrm>\n    <a:prstGeom prst=\"rect\">\n      <a:avLst/>\n    </a:prstGeom>\n  </p:spPr>\n</p:pic>\n```\n\n### Tables\n```xml\n<p:graphicFrame>\n  <p:nvGraphicFramePr>\n    <p:cNvPr id=\"5\" name=\"Table\"/>\n    <p:cNvGraphicFramePr>\n      <a:graphicFrameLocks noGrp=\"1\"/>\n    </p:cNvGraphicFramePr>\n    <p:nvPr/>\n  </p:nvGraphicFramePr>\n  <p:xfrm>\n    <a:off x=\"1000000\" y=\"1000000\"/>\n    <a:ext cx=\"6000000\" cy=\"2000000\"/>\n  </p:xfrm>\n  <a:graphic>\n    <a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/table\">\n      <a:tbl>\n        <a:tblGrid>\n          <a:gridCol w=\"3000000\"/>\n          <a:gridCol w=\"3000000\"/>\n        </a:tblGrid>\n        <a:tr h=\"500000\">\n          <a:tc>\n            <a:txBody>\n              <a:bodyPr/>\n              <a:lstStyle/>\n              <a:p>\n                <a:r>\n                  <a:t>Cell 1</a:t>\n                </a:r>\n              </a:p>\n            </a:txBody>\n          </a:tc>\n          <a:tc>\n            <a:txBody>\n              <a:bodyPr/>\n              <a:lstStyle/>\n              <a:p>\n                <a:r>\n                  <a:t>Cell 2</a:t>\n                </a:r>\n              </a:p>\n            </a:txBody>\n          </a:tc>\n        </a:tr>\n      </a:tbl>\n    </a:graphicData>\n  </a:graphic>\n</p:graphicFrame>\n```\n\n### Slide Layouts\n\n```xml\n<!-- Title Slide Layout -->\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"ctrTitle\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Title content -->\n</p:sp>\n\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"subTitle\" idx=\"1\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Subtitle content -->\n</p:sp>\n\n<!-- Content Slide Layout -->\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"title\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Slide title -->\n</p:sp>\n\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"body\" idx=\"1\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Content body -->\n</p:sp>\n```\n\n## File Updates\n\nWhen adding content, update these files:\n\n**`ppt/_rels/presentation.xml.rels`:**\n```xml\n<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide\" Target=\"slides/slide1.xml\"/>\n<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster\" Target=\"slideMasters/slideMaster1.xml\"/>\n```\n\n**`ppt/slides/_rels/slide1.xml.rels`:**\n```xml\n<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout\" Target=\"../slideLayouts/slideLayout1.xml\"/>\n<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"../media/image1.png\"/>\n```\n\n**`[Content_Types].xml`:**\n```xml\n<Default Extension=\"png\" ContentType=\"image/png\"/>\n<Default Extension=\"jpg\" ContentType=\"image/jpeg\"/>\n<Override PartName=\"/ppt/slides/slide1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.slide+xml\"/>\n```\n\n**`ppt/presentation.xml`:**\n```xml\n<p:sldIdLst>\n  <p:sldId id=\"256\" r:id=\"rId1\"/>\n  <p:sldId id=\"257\" r:id=\"rId2\"/>\n</p:sldIdLst>\n```\n\n**`docProps/app.xml`:** Update slide count and statistics\n```xml\n<Slides>2</Slides>\n<Paragraphs>10</Paragraphs>\n<Words>50</Words>\n```\n\n## Slide Operations\n\n### Adding a New Slide\nWhen adding a slide to the end of the presentation:\n\n1. **Create the slide file** (`ppt/slides/slideN.xml`)\n2. **Update `[Content_Types].xml`**: Add Override for the new slide\n3. **Update `ppt/_rels/presentation.xml.rels`**: Add relationship for the new slide\n4. **Update `ppt/presentation.xml`**: Add slide ID to `<p:sldIdLst>`\n5. **Create slide relationships** (`ppt/slides/_rels/slideN.xml.rels`) if needed\n6. **Update `docProps/app.xml`**: Increment slide count and update statistics (if present)\n\n### Duplicating a Slide\n1. Copy the source slide XML file with a new name\n2. Update all IDs in the new slide to be unique\n3. Follow the \"Adding a New Slide\" steps above\n4. **CRITICAL**: Remove or update any notes slide references in `_rels` files\n5. Remove references to unused media files\n\n### Reordering Slides\n1. **Update `ppt/presentation.xml`**: Reorder `<p:sldId>` elements in `<p:sldIdLst>`\n2. The order of `<p:sldId>` elements determines slide order\n3. Keep slide IDs and relationship IDs unchanged\n\nExample:\n```xml\n<!-- Original order -->\n<p:sldIdLst>\n  <p:sldId id=\"256\" r:id=\"rId2\"/>\n  <p:sldId id=\"257\" r:id=\"rId3\"/>\n  <p:sldId id=\"258\" r:id=\"rId4\"/>\n</p:sldIdLst>\n\n<!-- After moving slide 3 to position 2 -->\n<p:sldIdLst>\n  <p:sldId id=\"256\" r:id=\"rId2\"/>\n  <p:sldId id=\"258\" r:id=\"rId4\"/>\n  <p:sldId id=\"257\" r:id=\"rId3\"/>\n</p:sldIdLst>\n```\n\n### Deleting a Slide\n1. **Remove from `ppt/presentation.xml`**: Delete the `<p:sldId>` entry\n2. **Remove from `ppt/_rels/presentation.xml.rels`**: Delete the relationship\n3. **Remove from `[Content_Types].xml`**: Delete the Override entry\n4. **Delete files**: Remove `ppt/slides/slideN.xml` and `ppt/slides/_rels/slideN.xml.rels`\n5. **Update `docProps/app.xml`**: Decrement slide count and update statistics\n6. **Clean up unused media**: Remove orphaned images from `ppt/media/`\n\nNote: Don't renumber remaining slides - keep their original IDs and filenames.\n\n\n## Common Errors to Avoid\n\n- **Encodings**: Escape unicode characters in ASCII content: `\"` becomes `&#8220;`\n- **Images**: Add to `ppt/media/` and update relationship files\n- **Lists**: Omit bullets from list headers\n- **IDs**: Use valid hexadecimal values for UUIDs\n- **Themes**: Check all themes in `theme` directory for colors\n\n## Validation Checklist for Template-Based Presentations\n\n### Before Packing, Always:\n- **Clean unused resources**: Remove unreferenced media, fonts, and notes directories\n- **Fix Content_Types.xml**: Declare ALL slides, layouts, and themes present in the package\n- **Fix relationship IDs**: \n   - Remove font embed references if not using embedded fonts\n- **Remove broken references**: Check all `_rels` files for references to deleted resources\n\n### Common Template Duplication Pitfalls:\n- Multiple slides referencing the same notes slide after duplication\n- Image/media references from template slides that no longer exist\n- Font embedding references when fonts aren't included\n- Missing slideLayout declarations for layouts 12-25\n- docProps directory may not unpack - this is optional",
        "skills/presentation-master/README.md": "# Presentation Master\n\n> **World-class presentation creation skill that embodies best practices from presentation masters and adapts to your needs.**\n\n## Overview\n\nPresentation Master is not just a presentation generatorâ€”it's a **presentation coach** that teaches world-class design principles while creating slides. Built on decades of wisdom from Garr Reynolds, Nancy Duarte, Guy Kawasaki, Seth Godin, TED speakers, Edward Tufte, and Steve Jobs, this skill ensures every presentation meets the highest standards.\n\n## Key Innovation\n\nInstead of just making slides, this skill:\n- **Teaches** presentation best practices through guided creation\n- **Validates** against proven design principles automatically\n- **Adapts** to different presentation types and audiences\n- **Coaches** you through checkpoints to ensure quality\n- **Learns** from each presentation to improve future recommendations\n\n## What Makes a Great Presentation?\n\nBased on research of thousands of successful presentations, the masters agree on these principles:\n\n1. **Simplicity** - Less is always more (Seth Godin: 6 words max per slide)\n2. **Visual Dominance** - Show, don't write (Garr Reynolds: Pictures > text)\n3. **Story Structure** - Random facts don't stick; stories do (Nancy Duarte: Sparkline)\n4. **One Idea Per Slide** - Cognitive load is real (Guy Kawasaki: 10 slides max)\n5. **Audience as Hero** - It's their transformation, not your information (Duarte)\n6. **Data Integrity** - Visual truth matters (Edward Tufte: Lie factor 0.95-1.05)\n\n## Features\n\n### Guided Creation with Checkpoints\n\n**Phase 1: Discovery & Context Analysis**\n- Analyzes topic, audience, duration, purpose\n- Detects presentation type (board update, keynote, training, TED-style)\n- Recommends story framework\n\n**Phase 2: Content Development**\n- Researches topic if needed\n- Extracts key concepts (max 10 per Kawasaki)\n- Drafts slide outline with one concept per slide\n- Identifies slides needing visuals\n\n**Phase 3: Visual Strategy**\n- Proposes image types (infographic, photo, diagram, data viz)\n- Suggests visual concepts and metaphors\n- Estimates generation costs\n- Gets approval before generating\n\n**Phase 4: Generation & Validation**\n- Generates approved images in parallel\n- Builds slides using selected format (PPTX/Slides/Canva)\n- Applies design rules automatically\n- Runs validation scoring (0-100)\n- Generates quality report\n\n**Phase 5: Iteration & Refinement** (if needed)\n- Applies requested changes\n- Re-validates quality\n- Saves to Obsidian with metadata\n- Documents learnings\n\n### Automatic Quality Validation\n\nEvery presentation is scored 0-100 against these criteria:\n\n- **Simplicity** (10pts): Word count, visual clutter\n- **Visual Dominance** (10pts): Image quality, text-to-visual ratio\n- **Story Structure** (10pts): Narrative arc, emotional beats\n- **One Idea/Slide** (10pts): Concept clarity\n- **Typography** (8pts): Size (30pt+ minimum), consistency\n- **Layout** (7pts): Hierarchy, whitespace, alignment\n- **Color/Contrast** (7pts): Readability (4.5:1 minimum)\n- **Media Quality** (8pts): Image resolution, relevance\n- **Cognitive Load** (20pts): Mayer's 12 multimedia principles\n- **Data Integrity** (10pts): Tufte principles (if applicable)\n\n**Target Score**: 85+ for high-quality presentations\n\n### Critical Violations (Auto-Fail)\n\n- Font size < 30pt\n- >10 core concepts\n- Bullet points detected\n- Paragraphs (>2 sentences)\n- Poor contrast (<4.5:1)\n- Default templates\n\n### Multi-Format Support\n\n**Phase 1 (Current)**: PPTX\n- Uses existing pptx skill\n- Direct PptxGenJS API for simple slides\n- Saves to Obsidian Research folder\n\n**Phase 2 (Coming)**: Google Slides\n- Google Slides API v1\n- Supports all 3 accounts (psd, kh, hrg)\n- Returns shareable link\n\n**Phase 3 (Future)**: Canva\n- Canva REST API\n- Auto-applies brand kits\n\n## Slide Patterns\n\nSix proven patterns that form the foundation of world-class presentations:\n\n### 1. Title Slide\n**Purpose**: Set tone, introduce topic\n**Elements**: 3-6 words, strong visual or clean typography\n**Best for**: Opening, section breaks\n\n### 2. One Big Idea\n**Purpose**: Maximum impact, single concept\n**Elements**: 1-3 words max, 60-120pt font\n**Best for**: Key insights, memorable moments (Seth Godin's 6-word rule)\n\n### 3. Visual + Caption\n**Purpose**: Visual storytelling with context\n**Elements**: Large high-quality image (70-80%), short caption (1 line)\n**Best for**: Concepts, examples, emotional moments\n\n### 4. Data Visualization\n**Purpose**: Show quantitative information clearly\n**Elements**: Clean charts following Tufte principles\n**Best for**: Evidence, trends, comparisons\n\n### 5. Timeline / Process\n**Purpose**: Show progression, sequence, chronology\n**Elements**: 3-7 steps, visual connections, minimal text\n**Best for**: Processes, roadmaps, historical progression\n\n### 6. Transition / Section Break\n**Purpose**: Signal major shifts\n**Elements**: 1-5 words, distinct visual treatment\n**Best for**: Moving between major sections\n\nSee `principles/slide-patterns.md` for comprehensive details on each pattern.\n\n## Story Frameworks\n\nChoose the right narrative structure for your presentation:\n\n### Nancy Duarte's Sparkline\n**Duration**: 20-30 minutes\n**Slides**: 18-25\n**Best for**: Keynotes, vision casting, inspirational talks\n**Structure**: Alternate \"what is\" (reality) with \"what could be\" (aspiration)\n\n### Steve Jobs' Rule of Three\n**Duration**: 15-30 minutes\n**Slides**: 12-18\n**Best for**: Product launches, demos, persuasive presentations\n**Structure**: Three main sections, three points per section\n\n### TED Talk Structure\n**Duration**: 15-20 minutes\n**Slides**: 12-18\n**Best for**: Idea-centric, inspirational talks\n**Structure**: Hook â†’ Personal â†’ Core Idea â†’ Call to Action â†’ Close\n\n### Classic Three-Act Structure\n**Duration**: 20-45 minutes\n**Slides**: 15-35\n**Best for**: Case studies, transformation narratives\n**Structure**: Setup (25%) â†’ Confrontation (50%) â†’ Resolution (25%)\n\nSee `principles/story-frameworks.md` for detailed breakdowns.\n\n## Adaptive Pattern Selection\n\nThe skill automatically recommends pattern distribution based on presentation type:\n\n**Board Update**: 40% Data Viz, 30% Visual+Caption, 20% Transitions, 10% Titles\n**Keynote**: 40% Big Ideas, 30% Visual+Caption, 20% Titles, 10% Transitions\n**Training**: 40% Process, 30% Data Viz, 20% Visual+Caption, 10% Titles\n**Pitch**: 30% Data Viz, 30% Big Ideas, 25% Visual+Caption, 15% Titles/Transitions\n\n## Image Generation Integration\n\nIntelligent visual recommendations based on slide content:\n\n- **Numeric data** â†’ Infographic\n- **Abstract concepts** â†’ Conceptual image/metaphor\n- **Concrete examples** â†’ Realistic photography\n- **Processes/flows** â†’ Diagrams\n- **Trends/comparisons** â†’ Data visualization\n\n**Cost Management**:\n- Shows estimated cost before generating ($0.13-$0.24 per image at 2K)\n- Allows opt-out of specific images\n- Tracks spending in presentation metadata\n\n**Naming Convention**:\n```\n{presentation-id}-slide-{number}-{type}.png\nExample: cybersecurity-2025-slide-02-threat-timeline.png\n```\n\n## Brand Integration\n\nAutomatically applies branding:\n- **PSD presentations**: Uses psd-brand-guidelines skill\n- **Personal presentations**: Uses personal brand (if defined)\n- **Client presentations**: Custom brand kit (future)\n\n## File Structure\n\n```\npresentation-master/\nâ”œâ”€â”€ SKILL.md                           # Main skill documentation\nâ”œâ”€â”€ README.md                          # This file\nâ”œâ”€â”€ package.json                       # Dependencies\nâ”œâ”€â”€ principles/\nâ”‚   â”œâ”€â”€ masters.md                     # Best practices from experts (1,200+ lines)\nâ”‚   â”œâ”€â”€ validation-rules.md            # Quality scoring system\nâ”‚   â”œâ”€â”€ slide-patterns.md              # Template library (3,500+ lines)\nâ”‚   â””â”€â”€ story-frameworks.md            # Narrative structures (5,000+ lines)\nâ”œâ”€â”€ scripts/\nâ”‚   â”œâ”€â”€ analyze-context.js             # âœ… Detect presentation type & recommend framework\nâ”‚   â”œâ”€â”€ validate-presentation.js       # âœ… Score presentation 0-100\nâ”‚   â””â”€â”€ suggest-images.js              # âœ… Visual recommendations & cost estimation\nâ””â”€â”€ adapters/\n    â”œâ”€â”€ pptx-adapter.js                # âœ… PowerPoint translation layer\n    â”œâ”€â”€ slides-adapter.js              # âœ… Google Slides translation layer\n    â””â”€â”€ canva-adapter.js               # (future) Canva integration\n```\n\n## Usage Examples\n\n### Example 1: Board Update\n\n```\nUser: \"Create presentation on cybersecurity trends for school board, 15 minutes\"\n\nGeoffrey:\n**Context Analysis**\n- Type: Board/Executive Update\n- Audience: School board (non-technical)\n- Duration: 15 minutes\n- Purpose: Inform + Recommend action\n\n**Recommended Structure**\nCurrent State â†’ Trends â†’ Implications â†’ Recommendations (10 slides)\n\n[After approval]\n\n**Draft Outline**\n1. Title: Cybersecurity Trends 2025\n2. Current Threat Landscape [visual: threat timeline]\n3. Trend 1: AI-Powered Attacks [visual: concept illustration]\n...\n\n**Visual Strategy**\n- 7 images recommended\n- Estimated cost: $0.94 (2K resolution)\n- Mix: 3 infographics, 2 charts, 1 diagram, 1 illustration\n\n[After approval and generation]\n\n**Quality Score: 91/100**\nâœ“ All fonts 36pt+\nâœ“ Avg 4.2 words/slide\nâœ“ High contrast (8.5:1)\nâš  Slide 8 has 7 words (rec: 6 max)\n\nCreated: /Obsidian/Research/cybersecurity-trends-2025-board.pptx\n```\n\n### Example 2: Keynote\n\n```\nUser: \"Create keynote on future of education for conference, 30 minutes\"\n\nGeoffrey:\n**Context Analysis**\n- Type: Keynote/TED-style\n- Audience: Education professionals + parents\n- Duration: 30 minutes\n- Purpose: Inspire + Shift perspective\n\n**Recommended Structures**\n1. Sparkline: What is â†’ What could be (12 slides) â­\n2. Rule of Three: Past â†’ Present â†’ Future (9 slides)\n3. Three-Act: Problem â†’ Trials â†’ New reality (10 slides)\n\n[Continues with guided creation...]\n```\n\n## Dependencies\n\n- `pptxgenjs`: PowerPoint generation library (current Phase 1)\n- `image-gen` skill: Visual content generation\n- `psd-brand-guidelines` skill: Brand colors/logos\n- `research` skill: Content development\n- `obsidian-manager` skill: Knowledge storage\n\n## Installation\n\nThis skill is part of Geoffrey's skill library. No separate installation needed.\n\nEnsure dependencies are installed:\n```bash\ncd /path/to/geoffrey/skills/presentation-master\nbun install\n```\n\n## Triggers\n\nNatural language activation:\n- \"create presentation\"\n- \"make presentation\"\n- \"build presentation\"\n- \"design deck\"\n- \"make slides\"\n- \"create slides\"\n- \"presentation for...\"\n- \"slides for...\"\n\n## Version\n\n**Current**: 1.2.0 (Phases 1-3 Complete)\n- âœ… Phase 1: PPTX support via pptx skill\n- âœ… Phase 2: Visual Intelligence (analyze-context, suggest-images, validate-presentation scripts)\n- âœ… Phase 3: Google Slides support via google-workspace skill\n**Future**: 1.3.0 (Canva integration)\n\n## Learning & Iteration\n\nAfter each presentation, metadata is saved to Obsidian:\n\n```json\n{\n  \"presentation_id\": \"cybersecurity-2025-board\",\n  \"type\": \"board-update\",\n  \"duration\": \"15min\",\n  \"slides\": 10,\n  \"quality_score\": 91,\n  \"images_generated\": 7,\n  \"generation_cost\": 0.94,\n  \"user_edits\": [\"slide-8-wording\"],\n  \"effectiveness\": \"approved-minor-changes\",\n  \"created\": \"2025-11-24\",\n  \"learnings\": \"Board prefers data charts over concept graphics\"\n}\n```\n\nThis enables:\n- Quality score trending\n- Pattern library expansion\n- User preference learning\n- Cost optimization\n\n## Philosophy\n\n**Code Before Prompts** (Geoffrey Principle):\n- Deterministic design rules codified in software\n- AI orchestrates, doesn't improvise design\n- Validation is automatic, not subjective\n\n**Progressive Disclosure** (Geoffrey Principle):\n- Tier 1: Core workflow (always loaded)\n- Tier 2: Detailed principles (loaded when skill activates)\n- Tier 3: Scripts and data (fetched just-in-time)\n\n**Checkpoints Are Non-Negotiable**:\n- Structure approval before content development\n- Outline approval before visual strategy\n- Visual approval before generation\n- Quality review before finalization\n\n## References\n\n**Books**:\n- *Presentation Zen* by Garr Reynolds\n- *Resonate* by Nancy Duarte\n- *slide:ology* by Nancy Duarte\n- *The Visual Display of Quantitative Information* by Edward Tufte\n- *Multimedia Learning* by Richard Mayer\n\n**Articles**:\n- Guy Kawasaki: The 10/20/30 Rule of PowerPoint\n- Seth Godin: Really Bad PowerPoint\n- TED: Create + Prepare Slides Guide\n\n**Principles Documentation**:\n- `principles/masters.md` - Comprehensive best practices\n- `principles/validation-rules.md` - Quality scoring details\n- `principles/slide-patterns.md` - Pattern specifications\n- `principles/story-frameworks.md` - Narrative structures\n\n## Future Enhancements\n\n**Phase 4: Canva Integration**\n- Canva REST API adapter\n- Auto-apply brand kits\n- Template library integration\n\n**Phase 5: Advanced Features**\n- Auto-generate speaker notes\n- Rehearsal timing suggestions\n- A/B test different structures\n- Effectiveness tracking\n- Personal pattern library from successes\n\n## Contributing\n\nImprovements welcome! When adding new features:\n1. Follow existing architectural patterns\n2. Document in appropriate principles file\n3. Add examples to SKILL.md\n4. Update version in package.json\n5. Add learning to metadata tracking\n\n## License\n\nMIT License - See LICENSE file for details\n\n---\n\n**Remember**: The best presentations are simple, visual, story-driven, and focused on the audience's transformationâ€”not the speaker's information.\n\nBuilt with â¤ï¸ by Geoffrey\n",
        "skills/presentation-master/SKILL.md": "---\nname: presentation-master\ndescription: World-class presentation creation embodying principles from Garr Reynolds, Nancy Duarte, Guy Kawasaki, Seth Godin, and TED\ntriggers:\n  - \"create presentation\"\n  - \"make presentation\"\n  - \"build presentation\"\n  - \"design deck\"\n  - \"make slides\"\n  - \"create slides\"\n  - \"build deck\"\n  - \"presentation for\"\n  - \"slides for\"\nallowed-tools: Read, Write, Bash, WebSearch, Skill, AskUserQuestion\nversion: 1.0.0\n---\n\n# Presentation Master\n\nWorld-class presentation creation skill that embodies best practices from presentation masters and adapts to your needs.\n\n## Philosophy\n\n**Key Innovation**: This isn't just a presentation generatorâ€”it's a presentation *coach* that teaches world-class design while creating slides.\n\nPrinciples from:\n- **Garr Reynolds** (Presentation Zen) - Simplicity and visual storytelling\n- **Nancy Duarte** (Resonate) - Story structure and audience as hero\n- **Guy Kawasaki** - 10/20/30 rule (10 slides, 20 minutes, 30pt fonts)\n- **Seth Godin** - 6 words maximum per slide\n- **TED** - Visual-first, minimal text, high impact\n- **Edward Tufte** - Data integrity and information design\n- **Steve Jobs** - Rule of Three and surprise moments\n\n## Workflow: Guided Creation with Checkpoints\n\n### Phase 1: Discovery & Context Analysis\n\n**User provides**: Topic + Audience + Duration\n\n**Skill analyzes**:\n- Presentation type (board update, keynote, training, TED-style)\n- Audience level (technical, executive, general public)\n- Key message and desired transformation\n- Story framework recommendation\n\n**Checkpoint 1**: Present 3 structure options with rationale â†’ user approves\n\n### Phase 2: Content Development\n\n**Skill develops**:\n- Research topic if needed (web search, Obsidian knowledge)\n- Extract maximum 10 core concepts (Kawasaki rule)\n- Apply \"what is / what could be\" alternation (Duarte)\n- Draft slide outline with one concept per slide\n- Identify slides needing visuals\n\n**Checkpoint 2**: Present outline + visual plan â†’ user approves\n\n### Phase 3: Visual Strategy\n\n**Skill proposes** for each visual slide:\n- Image type (infographic, photo, diagram, data visualization)\n- Visual concept/metaphor\n- Aesthetic direction (colors from brand, style, mood)\n- Estimated generation cost ($0.13-$0.24 per image)\n\n**Checkpoint 3**: Present visual strategy â†’ user approves images to generate\n\n### Phase 4: Generation & Validation\n\n**Skill executes**:\n1. Generate approved images in parallel using image-gen skill\n2. Build slides using selected adapter (PPTX/Google Slides/Canva)\n3. Apply design rules automatically:\n   - 30pt+ fonts minimum\n   - <6 words per slide (Godin standard)\n   - High contrast (4.5:1 minimum)\n   - No bullet points\n   - No paragraphs\n4. Run validation scoring (0-100 scale)\n5. Generate quality report\n\n**Checkpoint 4**: Present presentation + quality report â†’ user reviews\n\n### Phase 5: Iteration & Refinement (if needed)\n\n**Skill refines**:\n- Apply requested changes\n- Re-validate quality score\n- Save final presentation to Obsidian Research folder\n- Document learnings and metadata\n\n## Validation Scoring (0-100)\n\n### CRITICAL Violations (Auto-fail)\n- Font size < 30pt\n- >10 core concepts\n- Bullet points detected\n- Paragraphs (>2 consecutive sentences)\n- Poor contrast ratio (<4.5:1)\n- Default template usage\n\n### WARNING Flags\n- >6 words per slide\n- >15 slides for 20-min presentation\n- No images in presentation\n- Text-heavy slides (>3 lines)\n- Inconsistent fonts (>2 families)\n- Low-resolution images\n\n### Quality Score Breakdown\n- **Simplicity** (10pts): Word count, visual clutter\n- **Visual Dominance** (10pts): Image quality, text-to-visual ratio\n- **Story Structure** (10pts): Narrative arc, emotional beats\n- **One Idea/Slide** (10pts): Concept clarity\n- **Typography** (8pts): Size, consistency\n- **Layout** (7pts): Hierarchy, whitespace, alignment\n- **Color/Contrast** (7pts): Readability, brand consistency\n- **Media Quality** (8pts): Image resolution, relevance\n- **Cognitive Load** (20pts): Mayer's 12 multimedia principles\n- **Data Integrity** (10pts): Tufte principles (if data present)\n\n**Target Score**: 85+ for high-quality presentations\n\n## Slide Pattern Library\n\n### Six Core Patterns\n\n1. **Title Slide** - Minimal text, strong visual, sets tone\n2. **One Big Idea** - Single word/number/image, max 6 words\n3. **Visual + Caption** - Large high-quality image, short caption\n4. **Data Visualization** - Charts following Tufte principles (maximize data-ink ratio)\n5. **Timeline/Process** - Linear flow, minimal text per step\n6. **Transition/Section Break** - Single word or phrase, signals shift\n\n### Adaptive Pattern Selection\n\n**Board/Executive Update**: Patterns 3, 4, 6 (data-focused, professional)\n**Keynote/TED-style**: Patterns 1, 2, 3 (story-focused, visual-first)\n**Training/Education**: Patterns 4, 5 (process-focused, clarity)\n**Pitch/Demo**: Patterns 2, 3, 4 (impact-focused, evidence-based)\n\n## Story Frameworks\n\n### Nancy Duarte's Sparkline\n- Alternate \"what is\" (current reality) with \"what could be\" (aspiration)\n- Build tension through contrast between present and future\n- End with transformation and new reality\n\n### The Rule of Three (Steve Jobs)\n- Break presentation into 3 main sections\n- 3 key features/points per section\n- Memorable and dramatic\n\n### TED Structure\n- Hook (first 30 seconds) - Grab attention\n- Personal connection - Why this matters to you\n- Core idea with evidence - The meat\n- Call to action - What next\n- Strong close - Never end with Q&A\n\n## Output Format Support\n\n### Current: PPTX (Phase 1)\n- Uses existing pptx skill\n- Direct PptxGenJS API for simple slides\n- html2pptx.js for complex layouts\n- Saves to Obsidian Research folder\n- Generates quality validation report\n\n### Coming: Google Slides (Phase 2)\n- Google Slides API v1\n- Integrates with google-workspace skill\n- Supports all 3 accounts (psd, kh, hrg)\n- Returns shareable link\n\n### Future: Canva (Phase 3)\n- Canva REST API\n- Auto-apply brand kits\n- Returns shareable link\n\n## Image Generation Integration\n\n### Intelligent Visual Recommendations\n\nFor each slide, analyzes:\n- **Numeric data** â†’ Infographic recommendation\n- **Abstract concepts** â†’ Conceptual image/metaphor (especially for keynotes)\n- **Concrete examples** â†’ Photo/realistic imagery\n- **Processes/flows** â†’ Diagram recommendation\n- **Trends/comparisons** â†’ Chart/data visualization\n\n### Prompt Generation (6-Step Process)\n\nFrom image-gen skill:\n1. Extract narrative from slide content\n2. Choose visual concept/metaphor\n3. Apply aesthetic (brand colors, presentation style)\n4. Construct detailed prompt\n5. Execute generation\n6. Validate output\n\n### Cost Management\n- Show total estimated cost before generating\n- Allow opt-out of specific images\n- Cache generated images for reuse\n- Track spending in presentation metadata\n\n### Naming Convention\n```\n{presentation-id}-slide-{number}-{type}.png\n\nExamples:\ncybersecurity-2025-slide-02-threat-timeline.png\nport-ai-2025-slide-04-breakthroughs.png\n```\n\n## Brand Integration\n\nAutomatically detects and applies branding:\n- **PSD presentations**: Use psd-brand-guidelines skill (Sea Glass, Pacific, etc.)\n- **Personal presentations**: Use personal brand (if defined)\n- **Client presentations**: Custom brand kit (future)\n\nApplies to:\n- Color palettes\n- Typography choices\n- Logo placement\n- Overall aesthetic\n\n## Learning & Metadata Tracking\n\nAfter each presentation, save metadata to Obsidian:\n\n```json\n{\n  \"presentation_id\": \"cybersecurity-2025-board\",\n  \"type\": \"board-update\",\n  \"audience\": \"school-board\",\n  \"duration\": \"15min\",\n  \"slides\": 10,\n  \"quality_score\": 91,\n  \"images_generated\": 7,\n  \"generation_cost\": 0.94,\n  \"validation_warnings\": 1,\n  \"user_edits\": [\"slide-8-wording\"],\n  \"effectiveness\": \"approved-minor-changes\",\n  \"created\": \"2025-11-24\",\n  \"tools_used\": [\"research\", \"image-gen\", \"pptx\"],\n  \"learnings\": \"Board prefers data charts over concept graphics\"\n}\n```\n\n## Integration with Existing Skills\n\n**Dependencies**:\n- `image-gen` - Visual content generation\n- `pptx` - PowerPoint creation (Phase 1)\n- `google-workspace` - Google Slides (Phase 2)\n- `psd-brand-guidelines` - Brand colors/logos\n- `research` - Content development\n- `obsidian-manager` - Knowledge storage\n\n**Coordination Pattern**:\n```\npresentation-master (orchestrator)\nâ”œâ”€â”€ calls research for content depth\nâ”œâ”€â”€ calls image-gen for visuals\nâ”œâ”€â”€ calls pptx/slides/canva adapter for output\nâ”œâ”€â”€ calls psd-brand-guidelines for colors/logos\nâ””â”€â”€ calls obsidian-manager to save final + metadata\n```\n\n## Usage Examples\n\n### Example 1: Board Update\n```\nUser: \"Create presentation on cybersecurity trends for school board, 15 minutes\"\n\nGeoffrey: I'll create a board update presentation on cybersecurity trends.\n\n**Context Analysis**\n- Type: Board/Executive Update\n- Audience: School board (non-technical)\n- Duration: 15 minutes\n- Purpose: Inform + Recommend action\n\n**Recommended Structures**\n1. Problem â†’ Solution â†’ Action (8 slides)\n2. Current State â†’ Trends â†’ Implications â†’ Recommendations (10 slides) â­\n3. Story: Recent incident â†’ Broader context â†’ Our response (7 slides)\n\nWhich structure resonates?\n\n[User selects #2]\n\n**Draft Outline** (10 slides, one concept each)\n1. Title: Cybersecurity Trends 2025\n2. Current Threat Landscape [visual: threat timeline]\n3. Trend 1: AI-Powered Attacks [visual: concept illustration]\n4. Trend 2: Ransomware Evolution [visual: data chart]\n5. Trend 3: Supply Chain Risks [visual: network diagram]\n6. Impact on Education Sector [visual: stat infographic]\n7. Our Current Posture [visual: assessment chart]\n8. Gaps & Vulnerabilities [text-focused, high contrast]\n9. Recommended Actions [visual: roadmap]\n10. Investment & Timeline [visual: budget chart]\n\n**Visual Strategy**\n- 7 images recommended\n- Estimated cost: $0.94 (2K resolution)\n- Mix: 3 infographics, 2 charts, 1 diagram, 1 illustration\n\nApprove and proceed?\n\n[User approves]\n\nGenerating 7 visuals in parallel...\nâœ“ All generated (0.94 total)\n\nBuilding presentation with PSD brand colors...\nValidating against best practices...\n\n**Quality Score: 91/100**\nâœ“ All fonts 36pt+\nâœ“ Avg 4.2 words/slide\nâœ“ High contrast (8.5:1)\nâœ“ Story arc present\nâœ“ Cognitive load optimized\nâš  Slide 8 has 7 words (rec: 6 max)\n\nCreated: /Obsidian/Research/cybersecurity-trends-2025-board.pptx\n```\n\n### Example 2: Keynote\n```\nUser: \"Create keynote on future of education for conference, 30 minutes\"\n\nGeoffrey: I'll create a TED-style keynote on the future of education.\n\n**Context Analysis**\n- Type: Keynote/TED-style\n- Audience: Education professionals + parents\n- Duration: 30 minutes\n- Purpose: Inspire + Shift perspective\n\n**Recommended Structures** (Nancy Duarte's Sparkline)\n1. What education is today â†’ What it could be â†’ Transformation (12 slides) â­\n2. Steve Jobs Rule of Three: Past â†’ Present â†’ Future (9 slides)\n3. Hero's Journey: Problem â†’ Trials â†’ New reality (10 slides)\n\nWhich framework?\n\n[Continues with guided creation...]\n```\n\n## Quality Checklist\n\nBefore presenting to user, verify:\n\n**Content**\n- [ ] One main idea per slide\n- [ ] Clear story arc (beginning/middle/end)\n- [ ] Audience positioned as hero\n- [ ] Emotional connection established\n- [ ] Maximum 10 core concepts\n\n**Design**\n- [ ] All fonts 30pt+ minimum\n- [ ] High contrast (4.5:1+)\n- [ ] No bullet points\n- [ ] No paragraphs\n- [ ] Maximum 6 words per slide (or justified exception)\n- [ ] All images high-resolution\n- [ ] Consistent fonts/colors/alignment\n- [ ] No transitions or animations\n\n**Data Visualization** (if applicable)\n- [ ] Lie factor 0.95-1.05\n- [ ] Maximum data-ink ratio\n- [ ] Clear, detailed labeling\n- [ ] No chart junk (3D effects, unnecessary borders)\n\n**Structure**\n- [ ] Follows chosen framework (Duarte/Jobs/TED)\n- [ ] Creates tension and resolution\n- [ ] Includes surprise/memorable moments\n- [ ] Ends strong (not with Q&A)\n- [ ] Appropriate length for time\n\n## Advanced Features\n\n### Context Detection\n\nAutomatically infers presentation type from cues:\n- \"board meeting\" â†’ Board update (data-focused)\n- \"keynote\" or \"conference\" â†’ Keynote (story-focused)\n- \"training\" or \"workshop\" â†’ Educational (process-focused)\n- \"pitch\" or \"investor\" â†’ Pitch (evidence-focused)\n\n### Smart Defaults\n\nBased on detected type:\n- **Board update**: 10 slides, 8 with visuals, professional tone\n- **Keynote**: 12-15 slides, minimal text, emotional arc\n- **Training**: 15-20 slides, process diagrams, step-by-step\n- **Pitch**: 10 slides (Kawasaki rule), data-driven, ROI focus\n\n### Accessibility\n\nEnsures presentations are accessible:\n- High contrast text (4.5:1 minimum, aim for 7:1)\n- Large fonts (30pt minimum, 36pt+ preferred)\n- Clear hierarchy and flow\n- Alt text for images (future enhancement)\n\n## Limitations & Future Enhancements\n\n**Current Limitations**:\n- No animation support (by design - Godin principle)\n- No video embedding yet (future enhancement)\n- No speaker notes generation (Phase 2)\n- No slide master editing (uses templates)\n\n**Future Enhancements**:\n- Auto-generate speaker notes from slide content\n- Suggest rehearsal timing\n- A/B test different structures\n- Track presentation effectiveness scores\n- Build personal pattern library from successful presentations\n\n## References\n\nFull principles documentation in:\n- `principles/masters.md` - Expert best practices\n- `principles/validation-rules.md` - Quality scoring system\n- `principles/slide-patterns.md` - Template library\n- `principles/story-frameworks.md` - Narrative structures\n\nScripts and adapters:\n- `scripts/analyze-context.js` - Type detection\n- `adapters/pptx-adapter.js` - PowerPoint output\n- `adapters/slides-adapter.js` - Google Slides (Phase 2)\n- `adapters/canva-adapter.js` - Canva (Phase 3)\n\n---\n\n**Remember**: The best presentations are simple, visual, story-driven, and focused on the audience's transformationâ€”not the speaker's information.\n",
        "skills/presentation-master/principles/masters.md": "# Presentation Masters - Best Practices\n\nCodified wisdom from the world's best presenters and presentation designers.\n\n## Core Universal Principles\n\n### 1. Simplicity Above All\n\n**Garr Reynolds (Presentation Zen)**\n> \"Restraint in preparation, simplicity in design, naturalness in delivery\"\n\n**Seth Godin**\n- Maximum 6 words per slide\n- No bullet points\n- No transitions/animations\n\n**TED Guidelines**\n- Eliminate headlines and bullet points\n- Image-rich, minimal text\n- Rather than one complex slide, show several slides with each containing one idea\n\n**Steve Jobs**\n- Sometimes just 19 total words in entire presentations\n- Single image or thought per slide\n\n**Universal Rule**: Less is always more. Every element must earn its place.\n\n---\n\n### 2. Visual Over Textual\n\n**Garr Reynolds**\n> \"Narration with pictures is better than narration alone\"\n\n**Richard Mayer (Multimedia Principle)**\n> \"People learn better from words and pictures than from words alone\"\n\n**Universal Rule**: Show, don't write. Slides support speech, they don't replace it.\n\n**Application**:\n- Use full-bleed images\n- Minimal text overlays\n- Let visuals carry 80% of the message\n\n---\n\n### 3. Audience as Hero\n\n**Nancy Duarte**\n> \"The audience is the hero, the speaker is the mentor\"\n\n**Application**:\n- Focus on transformation, not information\n- What will the audience be able to do after?\n- Their journey, not your expertise\n\n**Universal Rule**: The presentation is about the audience's journey, not your content.\n\n---\n\n### 4. Story Structure Matters\n\n**Nancy Duarte's Sparkline**\n- Alternate \"what is\" (current reality) with \"what could be\" (aspiration)\n- Build tension through contrast\n- End with transformation\n\n**Steve Jobs' Rule of Three**\n- Every presentation in three parts\n- Three key features per product\n- More dramatic than two, easier to remember than six\n\n**TED Structure**\n- Hook (first 30 seconds)\n- Personal connection\n- Core idea with evidence\n- Call to action\n- Strong close (never end with Q&A)\n\n**Universal Rule**: Structure creates meaning. Random facts don't stick; stories do.\n\n---\n\n### 5. One Idea Per Slide\n\n**TED**\n> \"Rather than one complex slide, show several slides with each containing one idea\"\n\n**Guy Kawasaki**\n- 10 slides maximum for hour presentation\n- One concept per slide\n\n**Seth Godin**\n- 6 words maximum = one focused thought\n\n**Universal Rule**: Cognitive load is real. One slide, one concept, one moment.\n\n---\n\n### 6. Rehearsal Is Non-Negotiable\n\n**Steve Jobs**\n- Rehearsed weeks in advance\n- Every gesture choreographed\n- Nothing left to chance\n\n**TED**\n> \"Rehearse, rehearse, rehearse\"\n\n**Universal Rule**: Natural delivery requires unnatural preparation.\n\n---\n\n## Design Principles\n\n### Typography\n\n**Font Size Minimums**:\n- **TED**: 42 points minimum\n- **Guy Kawasaki**: 30 points minimum (the \"30\" in 10/20/30 rule)\n- **Our Standard**: 30pt minimum, 36pt+ preferred\n\n**Font Choice**:\n- **TED**: Sans serif (Helvetica, Verdana) over serif for readability\n- **2025 Trends**: Bold serifs and character-filled sans-serifs as design elements\n- Limit to 1-2 font families maximum\n\n**Text Limits**:\n- **Seth Godin**: 6 words maximum per slide\n- **TED**: 1-2 lines ideal, 6 lines absolute maximum\n- No paragraphs, ever\n\n---\n\n### Color & Contrast\n\n**High Contrast Essential**:\n- Minimum 4.5:1 ratio (WCAG AA standard)\n- Aim for 7:1+ ratio (WCAG AAA standard)\n- Test in bright room conditions\n\n**Steve Jobs Approach**:\n- Large white fonts on dark gradient backgrounds\n- Simple, bold color palette\n\n**Consistency**:\n- Use same color palette throughout\n- Colors should reinforce brand and message\n\n---\n\n### Layout & Spacing\n\n**Visual Hierarchy** (Garr Reynolds):\n- Make most important information the focal point\n- Use size, color, position to guide eye\n\n**Reading Patterns**:\n- Z-pattern for Western audiences (top-left â†’ top-right â†’ bottom-left â†’ bottom-right)\n- F-pattern for text-heavy slides (avoid these!)\n\n**Whitespace** (Essential):\n- Creates hierarchy by isolating key points\n- Essential for emphasis\n- Don't fear empty space\n\n**CRAP Principles**:\n- **C**ontrast: Make different elements very different\n- **R**epetition: Repeat design elements for unity\n- **A**lignment: Every element should align with something\n- **P**roximity: Related items should be grouped\n\n---\n\n### Images\n\n**Quality Requirements**:\n- High-resolution only (TED requirement)\n- Must own or have permission\n- Avoid generic stock photos\n- Images must enhance message, not decorate\n\n**Types of Images**:\n- Data visualizations (charts, graphs)\n- Conceptual illustrations\n- Real-world photography\n- Diagrams and infographics\n\n---\n\n## Guy Kawasaki's 10/20/30 Rule\n\n**Originally for VC Pitches, Applicable to All Presentations**:\n\n**10 Slides Maximum**\n- Audiences can't comprehend more than 10 concepts in one sitting\n- Forces you to identify truly important points\n\n**20 Minutes Maximum**\n- Shorter is better\n- Leaves time for discussion\n- Respects audience attention span\n\n**30-Point Font Minimum**\n- If you need smaller fonts, you have too much content\n- Forces simplicity\n- Ensures readability from back of room\n\n---\n\n## Edward Tufte's Data Visualization Principles\n\n### Graphical Integrity\n\n**Lie Factor**: Visual representation must tell the truth\n- Formula: (Size of effect shown in graphic) / (Size of effect in data)\n- Acceptable range: 0.95 to 1.05\n- Outside this range = distortion\n\n**Rules**:\n- Don't use area to show one-dimensional data\n- Use consistent scales\n- Representations of numbers should be proportional to numerical quantities\n\n---\n\n### Maximize Data-Ink Ratio\n\n**Data-Ink Ratio** = Data-ink / Total ink used in graphic\n\n**Eliminate**:\n- Chartjunk (unnecessary decoration)\n- 3D effects\n- Unnecessary grid lines\n- Excessive borders\n- Non-data backgrounds\n\n**Maximize**:\n- Data points\n- Trend lines\n- Comparisons\n- Actual information\n\n---\n\n### Small Multiples\n\nInstead of one complex chart, use series of small charts with same axes to show:\n- Changes over time\n- Comparisons across categories\n- Pattern recognition\n\n---\n\n## Mayer's 12 Principles of Multimedia Learning\n\n### Reducing Extraneous Processing\n\n1. **Coherence**: Remove extraneous material\n2. **Signaling**: Highlight organization and essential material\n3. **Redundancy**: Don't show text + say same text verbatim\n4. **Spatial Contiguity**: Put related elements near each other\n5. **Temporal Contiguity**: Present related elements simultaneously\n\n### Managing Essential Processing\n\n6. **Segmentation**: Break into logical chunks\n7. **Pretraining**: Introduce key concepts early\n8. **Modality**: Graphics + narration better than graphics + on-screen text\n\n### Fostering Generative Processing\n\n9. **Multimedia**: Use words + pictures together\n10. **Personalization**: Use conversational style\n11. **Voice**: Informal voice over formal\n12. **Image**: Speaker image not required (focus on content)\n\n---\n\n## Steve Jobs Presentation Techniques\n\n### Create Moments\n\n**The Surprise**:\n- MacBook Air pulled from envelope\n- \"One more thing...\"\n- Rehearsed spontaneity\n\n**The Demo**:\n- Live product demonstrations\n- Make it real and tangible\n- Show, don't just tell\n\n**The Analogy**:\n- \"1,000 songs in your pocket\" (not \"5GB MP3 player\")\n- Make it relatable\n- Connect to audience experience\n\n---\n\n### The Rule of Three\n\n**Three Acts**:\n- Setup â†’ Conflict â†’ Resolution\n- Past â†’ Present â†’ Future\n- Problem â†’ Journey â†’ Solution\n\n**Three Features**:\n- Never showed more than 3 key features\n- Each feature given dedicated focus\n- Memorable and digestible\n\n---\n\n## Common Mistakes to Avoid\n\n### Critical Errors\n\n1. **Reading from slides** - Slides support, don't replace you\n2. **Too much text** - Paragraphs and long bullets\n3. **Poor contrast** - Can't read from back of room\n4. **Information overload** - Trying to fit too much\n5. **Default templates** - Generic and forgettable\n6. **Ending with Q&A** - Always end strong with your message\n\n---\n\n### Design Flaws\n\n1. **Chart junk** - 3D effects, unnecessary decoration\n2. **Inconsistent styling** - Random fonts, colors\n3. **Low-res images** - Pixelated, stretched photos\n4. **Excessive transitions** - Distracting animations\n5. **Bullet point addiction** - Lazy content organization\n\n---\n\n### Content Issues\n\n1. **Not tailoring to audience** - One size fits all approach\n2. **No emotional connection** - Just facts and figures\n3. **Missing story arc** - Disjointed information\n4. **Too many concepts** - Violating 10-concept rule\n5. **Insufficient rehearsal** - \"Winging it\"\n\n---\n\n## Presentation Type Guidelines\n\n### Board/Executive Update\n\n**Characteristics**:\n- Data-driven\n- Professional tone\n- Clear recommendations\n- Time-efficient\n\n**Best Practices**:\n- 8-10 slides maximum\n- Heavy use of data visualizations\n- Clear \"What/So What/Now What\" structure\n- Executive summary up front\n\n---\n\n### Keynote/TED-Style\n\n**Characteristics**:\n- Story-driven\n- Emotional connection\n- Inspirational\n- Transformative\n\n**Best Practices**:\n- 12-15 slides\n- Minimal text (<3 words often)\n- Personal stories\n- Strong emotional arc\n- Surprise moments\n\n---\n\n### Training/Educational\n\n**Characteristics**:\n- Process-focused\n- Step-by-step\n- Retention-optimized\n- Practice-oriented\n\n**Best Practices**:\n- 15-20 slides\n- Clear progression\n- Mayer's principles critical\n- Examples and exercises\n- Summaries and reviews\n\n---\n\n### Pitch/Sales\n\n**Characteristics**:\n- Problem-solution focused\n- Evidence-based\n- ROI-driven\n- Competitive positioning\n\n**Best Practices**:\n- 10 slides (Kawasaki rule)\n- Clear problem statement\n- Unique value proposition\n- Market validation\n- Call to action\n\n---\n\n## Quality Assessment Questions\n\nBefore presenting, ask:\n\n**Content**:\n- Can I explain the core message in one sentence?\n- Is there exactly one idea per slide?\n- Does each slide support the overall story?\n- Is the audience positioned as the hero?\n\n**Design**:\n- Can I read all text from 10 feet away?\n- Have I eliminated all non-essential elements?\n- Is the visual hierarchy clear?\n- Are related elements grouped together?\n\n**Data** (if applicable):\n- Is my lie factor between 0.95-1.05?\n- Have I maximized data-ink ratio?\n- Are all charts clearly labeled?\n- Can I explain the \"so what\" for each visualization?\n\n**Story**:\n- Does my presentation have clear beginning/middle/end?\n- Is there tension and resolution?\n- Will the audience remember the key message?\n- Have I included a surprise or memorable moment?\n\n---\n\n## Sources & Further Reading\n\n**Books**:\n- Presentation Zen by Garr Reynolds\n- Resonate by Nancy Duarte\n- slide:ology by Nancy Duarte\n- The Visual Display of Quantitative Information by Edward Tufte\n- Multimedia Learning by Richard Mayer\n\n**Articles**:\n- Guy Kawasaki: The 10/20/30 Rule of PowerPoint\n- Seth Godin: Really Bad PowerPoint\n- TED: How to Create Slides for Your TED Talk\n\n**Websites**:\n- presentationzen.com\n- duarte.com\n- ted.com/participate/organize-a-local-tedx-event/tedx-organizer-guide/speakers-program/prepare-your-speaker\n\n---\n\n**Remember**: These principles are not rigid rulesâ€”they're wisdom distilled from thousands of successful presentations. Adapt them to your context, but respect the underlying truths they represent.\n",
        "skills/presentation-master/principles/slide-patterns.md": "# Slide Pattern Library - Comprehensive Guide\n\nThis document provides detailed specifications for six proven slide patterns that form the foundation of world-class presentations. Each pattern has been validated across thousands of successful presentations by masters like Garr Reynolds, Nancy Duarte, and Steve Jobs.\n\n---\n\n## Pattern 1: Title Slide\n\n### Purpose\nSet the tone for the entire presentation and create immediate visual impact. The title slide is the audience's first impression and should establish both the topic and the emotional tenor of what's to come.\n\n### Core Elements\n\n**Text Requirements**:\n- Title: 3-6 words maximum (Godin principle)\n- Subtitle (optional): 5-10 words providing context\n- Attribution: Speaker name, date, or organization (minimal, small font)\n- Font size: Title 48-72pt, Subtitle 24-36pt, Attribution 14-18pt\n\n**Visual Treatment**:\n- **Option A - Image-Based**: Full-bleed high-quality photograph or illustration that emotionally connects to the topic\n- **Option B - Typography-Based**: Bold, clean typography on solid background color (brand color preferred)\n- **Option C - Minimalist**: Simple text on white/black background with subtle accent element\n\n**Layout Specifications**:\n- Title positioned in vertical center or upper third (golden ratio positioning)\n- Ample whitespace around all elements (minimum 10% margins)\n- If using image, ensure text has sufficient contrast (overlay, shadow, or positioning)\n\n### Design Principles\n\n**Contrast**:\n- Text must have minimum 7:1 contrast ratio against background\n- Use overlay gradient (70% opacity recommended) if text on image\n- Dark text on light background OR light text on dark background - never midtones\n\n**Alignment**:\n- Center alignment for maximum impact and formality\n- Left alignment for more conversational, approachable tone\n- Never right-align title slides\n\n**Color Psychology**:\n- Board presentations: Navy, charcoal, or brand primary (professional, trustworthy)\n- Keynotes: Bold accent colors (energetic, memorable)\n- Training: Lighter, accessible colors (approachable, educational)\n- Pitches: Confident colors aligned with brand (credible, distinctive)\n\n### Examples by Presentation Type\n\n**Board/Executive Update**:\n```\nTitle: \"Cybersecurity Update\"\nSubtitle: \"Q4 2025 Board Meeting\"\nBackground: Navy (#25424C) with subtle geometric pattern\nFont: Sans-serif, bold, 64pt title / 28pt subtitle\nAlignment: Center\n```\n\n**Keynote/TED-Style**:\n```\nTitle: \"The Future of Learning\"\nSubtitle: (none - let title stand alone)\nBackground: Full-bleed image of engaged students\nOverlay: 60% black gradient from bottom\nFont: Modern sans-serif, white, 72pt\nAlignment: Lower third positioning\n```\n\n**Training/Educational**:\n```\nTitle: \"Excel Fundamentals\"\nSubtitle: \"Session 1: Getting Started\"\nBackground: Light gray (#F5F5F5)\nAccent: Brand color bar on left (10% width)\nFont: Friendly sans-serif, dark gray, 56pt / 24pt\nAlignment: Left with padding\n```\n\n**Pitch/Sales**:\n```\nTitle: \"Revolutionizing EdTech\"\nSubtitle: \"Series A Pitch - November 2025\"\nBackground: Brand primary color with product screenshot (20% opacity)\nFont: Brand font, white, 60pt / 22pt\nAlignment: Center\n```\n\n### Common Mistakes to Avoid\n\n1. **Too much text**: More than 10 words total dilutes impact\n2. **Cluttered layout**: Logo, tagline, disclaimer, date all competing\n3. **Poor image quality**: Low-resolution or generic stock photos\n4. **Weak contrast**: Text hard to read against busy background\n5. **Mixed messages**: Image doesn't relate to topic\n6. **Default templates**: PowerPoint/Keynote standard templates scream amateur\n\n### Variations\n\n**Simple Title Only**:\n- Just the presentation title, nothing else\n- Maximum impact, extreme minimalism\n- Best for confident presenters with strong topic\n\n**Title + Provocative Question**:\n- Title as question that creates curiosity\n- Example: \"What if AI could learn like humans?\"\n- Engages audience immediately\n\n**Title + Powerful Statistic**:\n- Title with supporting shocking fact\n- Example: \"The Education Crisis\" + \"73% of students unprepared\"\n- Creates urgency\n\n---\n\n## Pattern 2: One Big Idea\n\n### Purpose\nCommunicate a single concept with maximum impact. This pattern is the embodiment of Seth Godin's \"6 words or less\" principle and creates the most memorable moments in presentations.\n\n### Core Elements\n\n**Text Requirements**:\n- Absolute maximum: 6 words\n- Ideal: 1-3 words\n- Font size: 60-120pt (yes, that large)\n- Font weight: Bold or heavy preferred\n- No punctuation unless essential (question mark, exclamation acceptable)\n\n**Visual Treatment**:\n- **Option A - Text Only**: Massive typography fills the slide\n- **Option B - Text + Single Icon**: One simple, clear icon supporting the word\n- **Option C - Text + Full-Bleed Image**: Bold text over compelling photograph\n- **Option D - Isolated Number**: Giant statistic with minimal context\n\n**Layout Specifications**:\n- Text occupies 40-60% of slide area\n- Positioned using rule of thirds or dead center\n- Whitespace is essential - minimum 30% empty space\n- If using image, ensure it doesn't compete with text\n\n### Design Principles\n\n**Emphasis Through Size**:\n- Text should be readable from 50+ feet away\n- Use optical sizing - adjust for visual balance not mathematical precision\n- Heavy font weights prevent text from looking weak at large sizes\n\n**Color Strategy**:\n- Monochromatic: Single color on contrasting background (safest, cleanest)\n- Accent color: Key word in accent color, rest neutral (draws eye strategically)\n- Brand palette: Use brand colors for consistency\n\n**Typography Selection**:\n- Sans-serif for modern, clean impact (Helvetica, Avenir, Gotham)\n- Bold serif for traditional, authoritative feel (Playfair, Garamond Bold)\n- Display fonts acceptable if highly readable (avoid decorative)\n\n### Use Cases\n\n**Key Statistics**:\n```\n\"83%\"\n(That's it. Let the number sink in. Explain verbally.)\n```\n\n**Transitions**:\n```\n\"But...\"\n(Signals shift in narrative)\n```\n\n**Memorable Phrases**:\n```\n\"10x Growth\"\n(Bold claim that demands attention)\n```\n\n**Questions**:\n```\n\"Why?\"\n(Provokes thought, creates curiosity)\n```\n\n**Moments of Impact**:\n```\n\"Everything Changed\"\n(Emotional turning point)\n```\n\n### Examples by Context\n\n**Board Update - Key Metric**:\n```\nText: \"$2.4M\"\nSubtitle (small, 18pt): \"Cost savings achieved Q4\"\nBackground: White\nText color: Brand primary\nFont: Bold sans-serif, 100pt\nPosition: Center\n```\n\n**Keynote - Provocative Statement**:\n```\nText: \"Obsolete\"\nBackground: Dark red (#8B0000)\nText color: White\nFont: Heavy sans-serif, 120pt\nPosition: Center\nEffect: One word conveys urgency of change\n```\n\n**Training - Concept Introduction**:\n```\nText: \"Pivot Tables\"\nIcon: Simple table/grid icon above text\nBackground: Light background\nText color: Dark gray\nFont: Bold sans-serif, 80pt\nPosition: Center with icon\n```\n\n**Pitch - Vision Statement**:\n```\nText: \"Accessible\"\nBackground: Full-bleed image of diverse students\nOverlay: 40% black from edges\nText color: White\nFont: Bold serif, 90pt\nPosition: Lower third\n```\n\n### Common Mistakes to Avoid\n\n1. **Too many words**: Seven+ words destroys the impact\n2. **Too small**: Font under 60pt defeats the purpose\n3. **Complexity**: Adding unnecessary elements dilutes focus\n4. **Weak fonts**: Thin or light weights disappear at distance\n5. **Poor word choice**: Generic words lack punch (\"Important\" vs \"Critical\")\n6. **Overuse**: Every slide can't be \"one big idea\" - save for key moments\n\n### Advanced Techniques\n\n**Progressive Revelation**:\n- Start with one word\n- Next slide adds second word\n- Builds phrase progressively\n- Creates narrative momentum\n\n**Numerical Sequences**:\n```\nSlide 1: \"3\"\nSlide 2: \"Breakthroughs\"\nSlide 3: \"That Changed Everything\"\n```\n\n**Contrasting Pairs**:\n```\nSlide 1: \"Then\" (old way)\nSlide 2: \"Now\" (new way)\nCreates before/after impact\n```\n\n---\n\n## Pattern 3: Visual + Caption\n\n### Purpose\nCombine the power of imagery with minimal explanatory text. This is the workhorse pattern for visual storytelling - the image carries 80% of the message, the caption provides critical context.\n\n### Core Elements\n\n**Visual Requirements**:\n- High-resolution image: Minimum 1920x1080 for 16:9, ideally 2K or 4K\n- Image quality: Professional photography or high-quality illustration\n- Relevance: Image must directly relate to and reinforce the message\n- Composition: Clear focal point, uncluttered background\n- Aspect ratio: Should fill 70-90% of slide area\n\n**Caption Specifications**:\n- Text length: 5-15 words maximum (one line ideal)\n- Font size: 24-36pt\n- Position: Usually bottom third, sometimes top or side\n- Background treatment: Solid bar, gradient, or none if contrast sufficient\n- Alignment: Usually left-aligned, centered for impact\n\n**Layout Options**:\n\n**Option A - Full Bleed with Bottom Caption**:\n```\nImage: Fills entire slide\nCaption: Bottom 15% of slide\nCaption background: Semi-transparent bar (70-80% opacity)\nText: White or light color\nPadding: 20pt all sides of caption\n```\n\n**Option B - Image with Side Caption**:\n```\nImage: Left 70% of slide\nCaption area: Right 30%\nCaption background: Solid brand color\nText: Contrasting color\nVertical alignment: Center\n```\n\n**Option C - Image with Floating Caption**:\n```\nImage: Full slide\nCaption: Positioned over negative space in image\nBackground: Subtle shadow or outline for legibility\nText: Color depends on background\n```\n\n### Design Principles\n\n**Image Selection Criteria**:\n1. **Authenticity**: Prefer real photos over generic stock imagery\n2. **Emotion**: Image should evoke appropriate emotional response\n3. **Simplicity**: Clear subject, uncluttered composition\n4. **Quality**: Crisp, well-lit, professionally captured\n5. **Relevance**: Obvious connection to message (avoid metaphors audience must decode)\n\n**Caption Writing**:\n- **Descriptive**: \"Students engaged in hands-on learning\"\n- **Interpretive**: \"This is what transformation looks like\"\n- **Statistical**: \"73% improvement in engagement scores\"\n- **Narrative**: \"Where it all began - June 2020\"\n- **Provocative**: \"Everything you know is wrong\"\n\n**Color Coordination**:\n- Extract dominant colors from image for caption background\n- Ensure caption doesn't clash with image colors\n- Use complementary colors for accent and harmony\n\n### Use Cases by Presentation Type\n\n**Board Update - Evidence**:\n```\nImage: Bar chart showing growth trend\nCaption: \"Revenue up 34% year-over-year\"\nLayout: Full-bleed chart\nCaption: Bottom bar, white text on dark background\nPurpose: Concrete evidence of success\n```\n\n**Keynote - Emotional Moment**:\n```\nImage: Powerful photograph of impact (students, customers, etc.)\nCaption: \"This is why we do what we do\"\nLayout: Full-bleed image\nCaption: Lower third, white text with subtle shadow\nPurpose: Create emotional connection\n```\n\n**Training - Example**:\n```\nImage: Screenshot or diagram showing concept\nCaption: \"Notice how the formula references cell A1\"\nLayout: Image fills slide\nCaption: Top banner, dark text on light background\nPurpose: Clear visual instruction\n```\n\n**Pitch - Problem Illustration**:\n```\nImage: Photograph showing problem state\nCaption: \"Current classroom reality\"\nLayout: Full-bleed image\nCaption: Bottom, white text on semi-transparent overlay\nPurpose: Establish problem before solution\n```\n\n### Examples\n\n**Example 1: Impact Story**\n```\nVisual: Close-up photo of student working intently on project\nCaption: \"Engagement increased 89% with new curriculum\"\nLayout: Full-bleed image\nCaption Position: Bottom third\nCaption Background: Black bar, 75% opacity\nText: White, 28pt, left-aligned with 30pt left padding\nEffect: Human face + concrete data = compelling evidence\n```\n\n**Example 2: Before/After**\n```\nSlide 1:\nVisual: Dated classroom with rows of desks\nCaption: \"Traditional learning environment\"\nLayout: Full-bleed\nCaption: Simple bottom text, white with drop shadow\n\nSlide 2:\nVisual: Modern collaborative learning space\nCaption: \"Reimagined for 2025\"\nLayout: Same as Slide 1\nEffect: Visual contrast reinforces transformation narrative\n```\n\n**Example 3: Process Step**\n```\nVisual: Diagram or photo showing specific step\nCaption: \"Step 3: Connect the data sources\"\nLayout: Image 80% of slide\nCaption: Right sidebar, brand color background\nText: White, 24pt\nIcon: Small numbered circle \"3\" above text\nEffect: Clear, sequential instruction\n```\n\n### Common Mistakes to Avoid\n\n1. **Generic stock photos**: Fake-looking people with forced smiles\n2. **Caption too long**: Paragraph of text defeats the visual-first purpose\n3. **Poor image quality**: Pixelated, stretched, or low-resolution images\n4. **Competing elements**: Image and caption fight for attention\n5. **Illegible text**: Caption lacks sufficient contrast with background\n6. **Irrelevant imagery**: Image is decorative, not meaningful\n7. **Busy backgrounds**: Too much visual noise distracts from message\n\n### Advanced Techniques\n\n**Ken Burns Effect** (if presenting digitally):\n- Slow zoom on static image\n- Creates motion and maintains interest\n- Use sparingly - can be distracting if overused\n\n**Split Image**:\n```\nLeft 50%: Before image\nRight 50%: After image\nCaption: Center, spanning both - \"6-month transformation\"\nEffect: Direct visual comparison\n```\n\n**Image Series**:\n```\nThree images on one slide (each 33% width)\nSingle caption below: \"Three approaches to the same problem\"\nEffect: Comparison without clutter\n```\n\n**Annotated Images**:\n```\nImage: Screenshot or diagram\nAnnotations: Minimal callouts (arrows, circles, labels)\nCaption: \"Focus on the highlighted section\"\nEffect: Guides attention to specific elements\n```\n\n---\n\n## Pattern 4: Data Visualization\n\n### Purpose\nPresent quantitative information in the clearest, most truthful, and most impactful way possible. This pattern follows Edward Tufte's principles of graphical integrity and maximum data-ink ratio.\n\n### Core Principles (Tufte)\n\n**Graphical Integrity**:\n1. **Lie Factor** = (Size of effect shown in graphic) / (Size of effect in data)\n   - Acceptable range: 0.95 to 1.05\n   - Outside this range = distortion\n2. **Representation of numbers should be proportional to numerical quantities**\n3. **Use clear, detailed labeling** - avoid ambiguity\n4. **Show data variation, not design variation**\n\n**Maximize Data-Ink Ratio**:\n- **Data-ink**: Ink used to display actual data\n- **Non-data-ink**: Everything else (borders, backgrounds, decorations)\n- **Goal**: Maximize (data-ink / total ink)\n- **Method**: Remove everything that isn't data\n\n### Chart Type Selection\n\n**Line Charts**:\n- **Best for**: Trends over time, continuous data\n- **When to use**: Showing change, trajectory, patterns\n- **Data requirements**: At least 5-7 data points for meaningful trend\n- **Key features**: Clear axis labels, legend if multiple lines, gridlines minimal\n\n**Bar Charts**:\n- **Best for**: Comparing discrete categories\n- **When to use**: Comparing quantities across categories\n- **Orientation**: Vertical (column) for time-based, horizontal for categorical\n- **Key features**: Bars should touch or have minimal spacing, start axis at zero\n\n**Scatter Plots**:\n- **Best for**: Showing relationships between two variables\n- **When to use**: Correlation analysis, clustering, outlier detection\n- **Key features**: Clear axis scaling, trend line if appropriate, labeled outliers\n\n**Pie Charts** (use rarely):\n- **Best for**: Parts of a whole (ONLY if <5 segments)\n- **When to use**: Showing simple proportions (avoid if possible)\n- **Better alternative**: Bar chart is almost always clearer\n- **If must use**: Start at 12 o'clock, go clockwise, label directly\n\n**Small Multiples**:\n- **Best for**: Comparing patterns across multiple categories\n- **When to use**: Same data structure repeated across segments\n- **Key features**: Identical scales, same chart type, grid layout\n- **Example**: Sales trends for each region, same date range\n\n### Design Specifications\n\n**Typography for Data**:\n- Axis labels: 14-18pt, sans-serif\n- Data labels: 12-16pt, shown sparingly (only key values)\n- Title: 24-28pt, descriptive not generic\n- Source citation: 10-12pt, bottom right corner\n\n**Color for Data**:\n- **Single series**: One color, varying shade for emphasis\n- **Multiple series**: Distinct colors (colorblind-safe palette)\n- **Diverging data**: Blue-white-red or similar\n- **Categorical**: Distinct hues with sufficient contrast\n- **Avoid**: Traffic light colors (red/yellow/green) unless truly stop/caution/go\n\n**Elements to Eliminate** (Chart Junk):\n1. 3D effects - distort perception of quantities\n2. Unnecessary gridlines - use sparingly, light gray\n3. Bold borders around chart area - use minimal or none\n4. Decorative backgrounds - solid white or very light gray only\n5. Default color gradients - use flat colors\n6. Excessive tick marks - show only necessary intervals\n7. Redundant labels - if in legend, don't label each bar\n\n**Elements to Emphasize**:\n1. Data points/bars/lines - these are the story\n2. Key values - highlight the insight\n3. Trend lines - if they reveal pattern\n4. Annotations - explain anomalies or key points\n5. Scale - always clear what units represent\n\n### Example Specifications\n\n**Example 1: Revenue Growth (Line Chart)**\n```\nChart Type: Line chart\nData: Quarterly revenue, 2023-2025\nLayout: Chart fills 80% of slide\nTitle: \"34% Revenue Growth Over 3 Years\"\nX-Axis: Quarters (Q1 2023 â†’ Q4 2025)\nY-Axis: Revenue ($M), starting at 0\nLine: Bold (3pt), brand primary color\nGridlines: Horizontal only, light gray (10% opacity), major intervals\nAnnotation: Arrow pointing to Q3 2025 â†’ \"New product launch\"\nData labels: Start, end, and peak values only\nBackground: White\nFont: Sans-serif throughout\n```\n\n**Example 2: Category Comparison (Bar Chart)**\n```\nChart Type: Horizontal bar chart\nData: Student performance by subject (5 subjects)\nLayout: Chart fills 75% of slide, centered\nTitle: \"Math Scores Lead Academic Performance\"\nX-Axis: Percentage (0-100%)\nY-Axis: Subject names\nBars: All same color except highest (Math) - highlighted in brand accent\nSpacing: Minimal between bars\nData labels: End of each bar showing exact percentage\nGridlines: Vertical, light gray, every 20%\nBackground: Light gray (#F5F5F5)\n```\n\n**Example 3: Comparison Across Segments (Small Multiples)**\n```\nChart Type: 4 identical line charts in 2x2 grid\nData: Usage patterns for 4 customer segments\nLayout: Each chart 45% of slide width/height\nTitles: Customer segment name above each\nShared Y-axis: Usage frequency (0-100)\nShared X-axis: Months (Jan-Dec)\nLines: Same brand color in all four\nGridlines: Minimal, shared scales\nAnnotation: Overall title \"Usage Patterns Vary By Segment\"\nBackground: White with subtle dividing lines between charts\n```\n\n### Common Mistakes to Avoid\n\n1. **Non-zero baseline**: Bar charts not starting at zero distort perception\n2. **Dual-axis abuse**: Two Y-axes can manipulate correlation appearance\n3. **Too many data series**: More than 4-5 lines becomes spaghetti chart\n4. **Missing context**: No title, source, or units\n5. **Misleading scales**: Logarithmic when linear expected, or truncated range\n6. **Decorative over functional**: Prioritizing aesthetics over clarity\n7. **3D pie charts**: The worst offender - distorts all proportions\n8. **Tiny fonts**: Data labels too small to read\n9. **Rainbow colors**: Using every color destroys visual hierarchy\n10. **Chart junk**: Unnecessary backgrounds, borders, shadows, gradients\n\n### Advanced Techniques\n\n**Sparklines** (Tufte):\n- Tiny line charts embedded in text or tables\n- Show trend without axes or labels\n- Effective for showing many trends simultaneously\n- Example: \"Revenue $2.4M [tiny trend line showing up/down]\"\n\n**Slopegraphs**:\n- Compare two points in time\n- Lines connect same category across time periods\n- Slope shows change (up/down/flat)\n- Cleaner than bar chart for before/after\n\n**Dot Plots**:\n- Alternative to bar charts\n- Shows value as positioned dot\n- Reduces ink, increases clarity\n- Especially good for many categories\n\n**Annotated Charts**:\n- Add explanatory text directly on chart\n- Arrow pointing to significant data point\n- \"Here's where policy changed\"\n- Makes insight explicit, not just implied\n\n---\n\n## Pattern 5: Timeline / Process\n\n### Purpose\nShow progression, sequence, or chronological flow. This pattern makes complex processes understandable and temporal relationships clear.\n\n### Core Elements\n\n**Structure Requirements**:\n- 3-7 steps maximum (cognitive load limit)\n- Each step labeled clearly\n- Visual connection between steps (arrows, lines, numbers)\n- Minimal text per step (5-10 words)\n- Consistent visual treatment across all steps\n\n**Visual Treatment Options**:\n\n**Option A - Horizontal Linear**:\n```\n[Step 1] â†’ [Step 2] â†’ [Step 3] â†’ [Step 4]\nLeft to right progression (Western reading)\nEqual spacing between elements\nArrow or line connecting\n```\n\n**Option B - Vertical Linear**:\n```\n[Step 1]\n    â†“\n[Step 2]\n    â†“\n[Step 3]\n```\nTop to bottom (natural gravity/sequence)\nGood for processes with sub-steps\n```\n\n**Option C - Circular/Cyclical**:\n```\n        [Step 1]\n       â†™       â†–\n  [Step 4]    [Step 2]\n       â†–       â†™\n        [Step 3]\n```\nFor processes that repeat\nShows no definitive end\n```\n\n**Option D - Timeline with Dates**:\n```\n2020 ----â€¢---- 2022 ----â€¢---- 2024 ----â€¢---- 2026\n         Event       Event       Event      Future\nHistorical progression\nSpecific dates marked\n```\n\n### Design Specifications\n\n**Step Containers**:\n- Shape: Rectangles, circles, or rounded rectangles (consistent)\n- Size: Large enough for text (minimum 150pt x 150pt)\n- Color: Sequential (lightest to darkest) OR consistent with one highlighted\n- Border: Optional, 2-4pt if used\n- Spacing: 40-60pt between containers\n\n**Connectors**:\n- Arrows: Bold (4-6pt), simple style\n- Lines: Straight or curved, 3-5pt thickness\n- Color: Neutral gray or brand color\n- Style: Avoid fancy arrowheads - simple is best\n\n**Text Treatment**:\n- Step number/label: Bold, 18-24pt\n- Step description: Regular, 14-18pt\n- Alignment: Centered within container\n- Line spacing: 1.3-1.5x\n\n**Icons** (optional):\n- Simple, flat design icons\n- Positioned above or beside step label\n- Size: 40-60pt\n- Color: Match step container or accent color\n\n### Use Cases\n\n**Project Roadmap**:\n```\nQ1 2025: Discovery â†’ Q2 2025: Design â†’ Q3 2025: Build â†’ Q4 2025: Launch\nEach quarter as step\nTimeline shows progression\nCurrent position highlighted\n```\n\n**Process Flow**:\n```\n1. Intake â†’ 2. Assessment â†’ 3. Planning â†’ 4. Implementation â†’ 5. Review\nClear sequential process\nNumbered steps\nArrows show direction\n```\n\n**Historical Timeline**:\n```\n2020: Founded â†’ 2022: Series A â†’ 2024: Expansion â†’ 2026: IPO (projected)\nCompany milestones\nMix of past and future\nVisual distinction between actual and planned\n```\n\n**Instructional Steps**:\n```\nStep 1           Step 2           Step 3\nâ†“                â†“                â†“\n[Screenshot 1]   [Screenshot 2]   [Screenshot 3]\n\"Click File\"     \"Select Export\"   \"Choose PDF\"\nVisual + textual instruction\n```\n\n### Examples by Presentation Type\n\n**Board Update - Quarterly Progress**:\n```\nVisual: Horizontal timeline\nSteps: 4 quarters\nDesign:\n- Q1-Q3: Filled circles (completed)\n- Q4: Outlined circle (current)\n- Each with 2-line label: \"Q3 2025\" / \"Product Beta\"\n- Line connecting all\nColor: Completed = brand green, Current = brand primary\nBackground: White\n```\n\n**Keynote - Transformation Journey**:\n```\nVisual: Ascending diagonal path\nSteps: 3 major phases\nDesign:\n- Large numbers (1, 2, 3) in circles\n- Short phase name below each\n- Arrow path between\n- Increasing opacity to show progression\nText: Bold numbers (48pt), labels (24pt)\nBackground: Gradient light to dark\nEffect: Visual metaphor of climbing/growing\n```\n\n**Training - Process Steps**:\n```\nVisual: Vertical flowchart\nSteps: 5 sequential actions\nDesign:\n- Rounded rectangles\n- Numbered 1-5\n- Down arrows between\n- Each step: Icon + label + brief description\n- Current step highlighted in different color\nBackground: Light background\nEffect: Clear, easy to follow instruction\n```\n\n**Pitch - Traction Timeline**:\n```\nVisual: Horizontal timeline with milestones\nSteps: Key achievements from founding to present\nDesign:\n- Timeline bar at bottom\n- Milestones as points above bar\n- Date labels below bar\n- Achievement labels above\n- Exponential growth implied by increasing frequency\nColor: Milestones in accent color, bar in neutral\n```\n\n### Common Mistakes to Avoid\n\n1. **Too many steps**: More than 7 becomes overwhelming\n2. **Inconsistent spacing**: Irregular gaps imply irregular timing (unless intentional)\n3. **Unclear sequence**: Ambiguous flow direction\n4. **Too much text**: Paragraph descriptions defeat visual flow purpose\n5. **Weak connectors**: Arrows too thin or unclear\n6. **Visual clutter**: Mixing too many icon styles, shapes, colors\n7. **Poor hierarchy**: All steps look equally important when some are not\n8. **Missing context**: Timeline without dates, process without start/end labels\n\n### Advanced Techniques\n\n**Branching Paths**:\n```\n        Step 1\n          â†“\n    â†™    â†“    â†˜\nOption A  B   C\n    â†˜    â†“    â†™\n      Outcome\n```\nShows decision points\nMultiple paths to result\n```\n\n**Parallel Processes**:\n```\nProcess A: Step 1 â†’ Step 2 â†’ Step 3\n             â†“        â†“        â†“\nProcess B: Step 1 â†’ Step 2 â†’ Step 3\n```\nTwo simultaneous workflows\nVertical alignment shows synchronization\n```\n\n**Swimlane Diagram**:\n```\nCustomer:  Action â†’ Wait â†’ Receive\nCompany:   Receive â†’ Process â†’ Deliver\nSystem:    Log â†’ Notify â†’ Archive\n```\nWho does what when\nHorizontal lanes by actor\n```\n\n---\n\n## Pattern 6: Transition / Section Break\n\n### Purpose\nSignal major shifts in the presentation narrative. These slides are the chapter breaks in your presentation story - they give the audience a mental pause and prepare them for a new direction.\n\n### Core Elements\n\n**Text Requirements**:\n- Absolute minimum: 1 word\n- Maximum: 5 words\n- Font size: 60-100pt\n- Weight: Bold to Extra Bold\n- Purpose: Signal change, not inform\n\n**Visual Treatment**:\n- **Option A - Simple Text**: One word/phrase on solid background\n- **Option B - Visual Metaphor**: Image representing the transition\n- **Option C - Chapter Number**: \"Part 2\" or \"03\" with section name\n- **Option D - Question**: Provocative question leading to next section\n\n**Color Strategy**:\n- Different from surrounding slides (signals change)\n- Often higher contrast or inverted from main deck\n- Brand color acceptable but not required\n\n### Design Specifications\n\n**Minimal Approach**:\n```\nText: \"But...\"\nBackground: Solid color (inverted from previous slides)\nFont: Bold sans-serif, 80pt\nPosition: Dead center\nEffect: Creates pause, signals shift\n```\n\n**Chapter Style**:\n```\nText: \"Part 2\" (small, 24pt, top) + \"The Solution\" (large, 64pt, center)\nBackground: Full-bleed image or gradient\nDesign: Number and title stacked\nEffect: Clear chapter structure\n```\n\n**Metaphorical**:\n```\nText: \"The Turning Point\"\nVisual: Image of path diverging, door opening, bridge, etc.\nOverlay: Text over image with sufficient contrast\nEffect: Visual reinforces narrative shift\n```\n\n### Use Cases\n\n**From Problem to Solution**:\n```\nTransition: \"The Answer\"\nColor: Shift from dark (problem) to light (solution)\nFont: Bold, optimistic\nPosition: Center\n```\n\n**Between Main Sections**:\n```\nPart 1 slides â†’ Transition: \"Part 2\" â†’ Part 2 slides\nVisual: Different background color for transition\nText: Large number + section name\n```\n\n**Rhetorical Question**:\n```\nText: \"What if we could?\"\nBackground: Thought-provoking image\nEffect: Creates anticipation for next section\n```\n\n**Timeline Break**:\n```\nPast slides â†’ Transition: \"Today\" â†’ Future slides\nVisual: Timeline element or calendar icon\nColor: Distinct from both past and future\n```\n\n### Examples by Presentation Type\n\n**Board Update - Section Break**:\n```\nBetween: \"Results\" and \"Recommendations\"\nText: \"Looking Forward\"\nBackground: Brand primary color\nFont: Brand font, white, 72pt, center\nDuration: Brief pause, no narration needed\nEffect: Signals shift from analysis to action\n```\n\n**Keynote - Emotional Shift**:\n```\nAfter: Series of problem slides\nTransition: \"But what if...\"\nBackground: Black\nText: White, italic, 64pt, center\nVisual: Slight pause in delivery\nEffect: Creates dramatic tension before solution reveal\n```\n\n**Training - Module Break**:\n```\nBetween: Module 1 and Module 2\nText: \"Module 2\" (top, 24pt) + \"Data Analysis\" (center, 56pt)\nBackground: Light gray with module icon\nInclude: Progress indicator (2 of 5)\nEffect: Clear structure, shows progress\n```\n\n**Pitch - Credibility Shift**:\n```\nAfter: Product demo slides\nBefore: Team/traction slides\nText: \"Who We Are\"\nBackground: Team photo (blurred) with overlay\nFont: Bold, confident\nEffect: Transition from what to who\n```\n\n### Common Mistakes to Avoid\n\n1. **Too much information**: Transition slide with paragraph of text\n2. **Inconsistent use**: Only some sections have breaks\n3. **Weak visual distinction**: Looks too similar to content slides\n4. **Too frequent**: Transition after every slide dilutes impact\n5. **Unnecessary decoration**: Fancy animations or effects\n6. **Missing purpose**: Generic \"Next\" instead of meaningful signal\n\n### Advanced Techniques\n\n**Countdown Structure**:\n```\n\"3 Reasons This Matters\"\nâ†’ [Reason 1 slide]\nâ†’ \"2 More Reasons\"\nâ†’ [Reason 2 slide]\nâ†’ \"Final Reason\"\nâ†’ [Reason 3 slide]\n```\nCreates anticipation\nShows progress through list\n```\n\n**Perspective Shift**:\n```\n\"From the outside...\"\nâ†’ [External viewpoint slides]\nâ†’ \"From the inside...\"\nâ†’ [Internal perspective slides]\n```\n\n**Time Travel**:\n```\n\"Five Years Ago\"\nâ†’ [Historical slides]\nâ†’ \"Today\"\nâ†’ [Current slides]\nâ†’ \"Five Years From Now\"\nâ†’ [Future slides]\n```\n\n---\n\n## Pattern Selection Matrix\n\n| Presentation Type | Pattern 1 (Title) | Pattern 2 (Big Idea) | Pattern 3 (Visual+Caption) | Pattern 4 (Data) | Pattern 5 (Timeline) | Pattern 6 (Transition) |\n|-------------------|-------------------|----------------------|----------------------------|------------------|----------------------|------------------------|\n| **Board Update** | 10% | 10% | 30% | 40% | 5% | 5% |\n| **Keynote** | 10% | 40% | 30% | 5% | 10% | 5% |\n| **Training** | 10% | 5% | 20% | 30% | 30% | 5% |\n| **Pitch** | 10% | 30% | 25% | 30% | 5% | 0% |\n\n---\n\n## Mixing Patterns Effectively\n\n**Rule of Variation**:\n- Never use same pattern for more than 3 consecutive slides\n- Alternate between high-impact (Pattern 2) and supportive (Pattern 3, 4)\n- Use transitions (Pattern 6) to reset audience attention\n\n**Visual Rhythm**:\n- Pattern 1 (Title) â†’ Pattern 3 â†’ Pattern 3 â†’ Pattern 6 â†’ Pattern 2 â†’ Pattern 4 â†’ Pattern 3...\n- Creates flow: Introduction â†’ Evidence â†’ Evidence â†’ Shift â†’ Impact â†’ Data â†’ Evidence\n\n**Energy Management**:\n- High energy: Patterns 1, 2, 6\n- Medium energy: Pattern 3\n- Lower energy: Patterns 4, 5 (require more processing)\n- Alternate to maintain engagement\n\n---\n\n## Accessibility Considerations\n\n**For All Patterns**:\n- Minimum font size: 30pt (preferably 36pt+)\n- Contrast ratio: 4.5:1 minimum (7:1 preferred)\n- Color: Never rely solely on color to convey meaning\n- Alt text: Describe images for screen readers (future enhancement)\n- Animations: Avoid or allow pause/control\n\n---\n\nThis comprehensive pattern library provides the foundation for creating presentations that are simultaneously beautiful, clear, and impactful. Master these six patterns and their variations, and you'll have the tools to create world-class presentations for any context.\n",
        "skills/presentation-master/principles/story-frameworks.md": "# Story Frameworks - Comprehensive Guide\n\nGreat presentations aren't collections of slidesâ€”they're stories. This document details proven narrative structures from the world's best presenters and storytellers, providing specific frameworks you can apply to any presentation.\n\n---\n\n## Why Story Structure Matters\n\n### The Science\n\n**Cognitive Processing**:\n- Stories activate more parts of the brain than facts alone\n- Narrative structure helps memory consolidation\n- Emotional engagement increases retention by 65-70%\n- Pattern recognition makes information easier to recall\n\n**Psychological Impact**:\n- Stories create empathy and connection\n- Narrative arc sustains attention through tension/resolution\n- Relatable characters (even abstract ones) engage audience\n- Transformation provides satisfying conclusion\n\n**Communication Efficiency**:\n- Structure eliminates \"what comes next?\" confusion\n- Clear framework helps presenter stay on track\n- Audience can follow complex information more easily\n- Memorable structure aids post-presentation recall\n\n### The Problem with \"Information Dumps\"\n\n**Why Random Facts Fail**:\n- No connective tissue between points\n- Audience can't predict where you're going\n- Equal weight given to all information\n- No emotional journey\n- Forgettable within hours\n\n**What Structure Provides**:\n- Predictable (but interesting) flow\n- Rising and falling action\n- Emphasis through positioning\n- Emotional engagement\n- Memorable narrative\n\n---\n\n## Framework 1: Nancy Duarte's Sparkline\n\n### Overview\n\nNancy Duarte analyzed hundreds of successful presentations and discovered a pattern: the best presenters alternate between \"what is\" (current reality) and \"what could be\" (aspirational future), creating a sparkline that builds tension until resolving in a transformed new reality.\n\n### The Structure\n\n```\nWhat Is (Reality) â”€â”€â”€â”€â”\n                      â†“\n                   What Could Be (Aspiration)\n                      â†‘\nWhat Is (Obstacle) â”€â”€â”€â”˜\n                      â†“\n                   What Could Be (Vision)\n                      â†‘\nWhat Is (Challenge) â”€â”€â”˜\n                      â†“\n                   What Could Be (Transformation)\n                      â†‘\n                   â”€â”€â”€â”˜\n                New Bliss (Transformed Reality)\n```\n\n**The Pattern**:\n1. Start with current reality (what is)\n2. Contrast with what could be\n3. Return to reality to show obstacle\n4. Present vision of overcoming it\n5. Show another challenge\n6. Present bigger vision\n7. Build to crescendo\n8. End with new transformed reality\n\n### Detailed Breakdown\n\n**Act 1: What Is (Current Reality)**\n- **Purpose**: Establish baseline, create identification\n- **Duration**: 10-15% of presentation\n- **Content**: Current state, familiar situation, status quo\n- **Tone**: Matter-of-fact, relatable\n- **Example**: \"Today, students spend 6 hours in traditional classrooms...\"\n\n**Act 2: What Could Be (First Aspiration)**\n- **Purpose**: Create contrast, spark imagination\n- **Duration**: 5-10% of presentation\n- **Content**: Brief glimpse of possibility\n- **Tone**: Hopeful, intriguing\n- **Example**: \"Imagine if they could learn at their own pace, exploring what they're curious about...\"\n\n**Act 3: What Is (First Obstacle)**\n- **Purpose**: Acknowledge challenges, build credibility\n- **Duration**: 10-15% of presentation\n- **Content**: Real barriers, legitimate concerns\n- **Tone**: Honest, not dismissive\n- **Example**: \"But our current infrastructure doesn't support personalized learning at scale...\"\n\n**Act 4: What Could Be (Expanded Vision)**\n- **Purpose**: Show how obstacle can be overcome\n- **Duration**: 10-15% of presentation\n- **Content**: Specific solutions, evidence\n- **Tone**: Confident, inspiring\n- **Example**: \"With adaptive learning platforms, each student could have a customized curriculum...\"\n\n**Act 5: What Is (Deeper Challenge)**\n- **Purpose**: Raise stakes, show full scope\n- **Duration**: 10-15% of presentation\n- **Content**: Systemic issues, harder problems\n- **Tone**: Serious, urgent\n- **Example**: \"The real challenge isn't technologyâ€”it's transforming teacher mindset and assessment methods...\"\n\n**Act 6: What Could Be (Ultimate Vision)**\n- **Purpose**: Present comprehensive transformation\n- **Duration**: 15-20% of presentation\n- **Content**: Full picture of change, compelling future\n- **Tone**: Bold, inspiring\n- **Example**: \"When we reimagine education entirely, students don't just learnâ€”they discover who they are...\"\n\n**Act 7: New Bliss (Transformed Reality)**\n- **Purpose**: Land the vision, call to action\n- **Duration**: 10-15% of presentation\n- **Content**: What life looks like after transformation\n- **Tone**: Aspirational, actionable\n- **Example**: \"This is the future of learningâ€”and it starts with what we decide today.\"\n\n### Application Guidelines\n\n**Best Used For**:\n- Keynote speeches\n- Vision presentations\n- Change management\n- Inspirational talks\n- Fundraising pitches\n- Long-form presentations (20+ minutes)\n\n**Not Recommended For**:\n- Quick updates (under 10 minutes)\n- Pure data presentations\n- Training/how-to sessions\n- Time-constrained board meetings\n\n**Slide Count Implications**:\n- Minimum: 12-15 slides\n- Optimal: 18-25 slides\n- Pattern: 2-3 slides per \"what is,\" 2-3 slides per \"what could be\"\n\n### Example: Education Technology Pitch\n\n**Slide 1-2 (What Is)**: Current education systemâ€”standardized, one-size-fits-all\n**Slide 3-4 (What Could Be)**: Personalized learning paths\n**Slide 5-6 (What Is)**: Current technology inadequate, teacher resistance\n**Slide 7-9 (What Could Be)**: Our platform + professional development\n**Slide 10-11 (What Is)**: Broader systemic challenges\n**Slide 12-15 (What Could Be)**: Complete transformation vision\n**Slide 16-17 (New Bliss)**: Students thriving, teachers empowered, results proven\n**Slide 18 (Call to Action)**: Join us in transforming education\n\n### Tips for Success\n\n**Create Real Contrast**:\n- Don't make \"what is\" too bleak or \"what could be\" too unrealistic\n- Contrast should be significant but believable\n- Use specific examples, not generalities\n\n**Build Tension**:\n- Each \"what is\" should raise slightly different challenges\n- Don't repeat same obstacle\n- Escalate the stakes progressively\n\n**Earn the Vision**:\n- Don't jump to big vision too early\n- Build credibility through smaller contrasts first\n- Show you understand obstacles before presenting solutions\n\n**Visual Representation**:\n- Use darker colors/images for \"what is\" slides\n- Use lighter/brighter for \"what could be\" slides\n- Visual distinction reinforces narrative contrast\n\n---\n\n## Framework 2: Steve Jobs' Rule of Three\n\n### Overview\n\nSteve Jobs structured every presentation around the number three. Three main sections. Three key features. Three supporting points. This wasn't arbitraryâ€”it's rooted in cognitive science and storytelling tradition.\n\n### Why Three Works\n\n**Cognitive Load**:\n- Two items: Too simple, lacks pattern\n- Three items: Perfect pattern recognition\n- Four+ items: Difficult to remember\n- Three balances complexity with memorability\n\n**Storytelling Tradition**:\n- Three-act structure (setup, confrontation, resolution)\n- Three wishes in fairy tales\n- Three little pigs, three bears, three musketeers\n- Cultural familiarity makes it instantly recognizable\n\n**Rhetorical Power**:\n- \"Life, liberty, and the pursuit of happiness\"\n- \"Government of the people, by the people, for the people\"\n- \"Blood, sweat, and tears\"\n- Tricolon creates rhythm and emphasis\n\n### The Structure\n\n**Level 1: Three Main Sections**\n```\nACT 1: Setup (25% of presentation)\n  â””â”€ Establish context, introduce topic\n\nACT 2: Confrontation (50% of presentation)\n  â””â”€ Explore depth, show features/evidence\n\nACT 3: Resolution (25% of presentation)\n  â””â”€ Conclusion, call to action\n```\n\n**Level 2: Three Points Per Section**\n```\nACT 1: Setup\n  â”œâ”€ Point 1: Current situation\n  â”œâ”€ Point 2: Problem/opportunity\n  â””â”€ Point 3: Why now matters\n\nACT 2: Confrontation\n  â”œâ”€ Point 1: First key feature/benefit\n  â”œâ”€ Point 2: Second key feature/benefit\n  â””â”€ Point 3: Third key feature/benefit\n\nACT 3: Resolution\n  â”œâ”€ Point 1: What this means\n  â”œâ”€ Point 2: What you should do\n  â””â”€ Point 3: What the future looks like\n```\n\n**Level 3: Three Supporting Elements Per Point**\n```\nFeature 1\n  â”œâ”€ What it is\n  â”œâ”€ Why it matters\n  â””â”€ Proof/example\n```\n\n### Detailed Breakdown\n\n**Act 1: Setup (Minutes 1-5 of 20-minute presentation)**\n\n*Purpose: Hook attention, establish relevance*\n\n**Point 1: The Hook (1-2 minutes)**\n- Surprising statistic, provocative question, or bold statement\n- Creates immediate engagement\n- Example: \"73% of students can't apply what they learn in school\"\n\n**Point 2: The Context (1-2 minutes)**\n- Why this topic matters now\n- Broader landscape or trend\n- Example: \"As AI transforms the workplace, education must evolve\"\n\n**Point 3: The Promise (1-2 minutes)**\n- What audience will get from this presentation\n- Sets expectations\n- Example: \"Today I'll show you three ways we're solving this\"\n\n**Act 2: Confrontation (Minutes 6-15 of 20-minute presentation)**\n\n*Purpose: Deliver core value, show evidence*\n\n**Feature/Point 1 (3-4 minutes)**\n- Introduction: What is this feature/point?\n- Explanation: How does it work?\n- Demo/Example: Show it in action\n- Benefit: Why does it matter?\n\n**Feature/Point 2 (3-4 minutes)**\n- Same structure as Feature 1\n- Should build on or complement first point\n- Adds new dimension, doesn't repeat\n\n**Feature/Point 3 (3-4 minutes)**\n- Same structure\n- Often the most powerful or surprising\n- \"One more thing...\" moment if applicable\n- Culmination of the three\n\n**Act 3: Resolution (Minutes 16-20 of 20-minute presentation)**\n\n*Purpose: Land the message, inspire action*\n\n**Summary (1-2 minutes)**\n- Quickly recap the three main points\n- Reinforce core message\n- Example: \"We've seen how personalization, engagement, and measurement transform learning\"\n\n**Implication (1-2 minutes)**\n- What this means for audience\n- Broader significance\n- Example: \"This isn't just better educationâ€”it's preparing students for an unknowable future\"\n\n**Call to Action (1-2 minutes)**\n- Specific next steps\n- Clear ask\n- Inspiring close\n- Example: \"Join us in reimagining education. Let's talk after about pilot opportunities.\"\n\n### Application Guidelines\n\n**Best Used For**:\n- Product launches\n- Feature demonstrations\n- Persuasive presentations\n- Short-to-medium presentations (15-30 minutes)\n- When you have natural groupings of concepts\n\n**Not Recommended For**:\n- Complex technical deep-dives requiring more categories\n- Highly detailed training\n- Presentations where content doesn't naturally group into threes\n\n**Slide Count Implications**:\n- Minimum: 10 slides (following Kawasaki's 10/20/30 rule)\n- Typical: 12-18 slides\n- Pattern:\n  - Act 1: 3-4 slides\n  - Act 2: 6-9 slides (2-3 per feature)\n  - Act 3: 3-4 slides\n\n### Example: Product Launch\n\n**ACT 1: Setup (Slides 1-3)**\n- Slide 1 (Title): Product name and tagline\n- Slide 2 (Problem): Current pain pointâ€”\"Students forget 70% within 24 hours\"\n- Slide 3 (Promise): \"Three breakthroughs that change everything\"\n\n**ACT 2: Three Features (Slides 4-12)**\n- Slides 4-6 (Feature 1): Adaptive spaced repetition\n  - Slide 4: What it is\n  - Slide 5: How it works (demo)\n  - Slide 6: Resultsâ€”\"85% retention improvement\"\n- Slides 7-9 (Feature 2): Real-time engagement tracking\n  - Slide 7: What it is\n  - Slide 8: Dashboard demo\n  - Slide 9: Teacher testimonial\n- Slides 10-12 (Feature 3): AI-generated practice problems\n  - Slide 10: What it is\n  - Slide 11: Examples\n  - Slide 12: Student success story\n\n**ACT 3: Resolution (Slides 13-15)**\n- Slide 13: Quick recapâ€”\"Remember: Adapt, Track, Practice\"\n- Slide 14: Visionâ€”\"This is the future of learning\"\n- Slide 15: Call to actionâ€”\"Available nowâ€”let's get your students started\"\n\n### Jobs' Additional Techniques\n\n**The \"One More Thing\"**:\n- After seemingly concluding\n- Introduce surprise fourth element\n- Works because you've established the three pattern\n- Violates expectation in delightful way\n- Use sparinglyâ€”once per presentation maximum\n\n**The Superlative**:\n- \"This is the best [X] we've ever made\"\n- \"The most important [Y]\"\n- Bold claims create memorable moments\n- Must be backed by evidence\n\n**The Human Moment**:\n- Demo goes wrong â†’ handle gracefully\n- Personal story interlude\n- Audience interaction\n- Breaks script pattern, feels authentic\n\n---\n\n## Framework 3: TED Talk Structure\n\n### Overview\n\nTED enforces strict format: 18 minutes maximum, focus on \"ideas worth spreading.\" Thousands of talks have revealed common patterns among the most successful presentations.\n\n### The Structure\n\n```\nPart 1: HOOK (30-90 seconds)\n  â””â”€ Grab attention immediately\n\nPart 2: PERSONAL CONNECTION (1-3 minutes)\n  â””â”€ Why this matters to speaker\n\nPart 3: CORE IDEA (10-12 minutes)\n  â”œâ”€ The insight/discovery\n  â”œâ”€ Evidence and examples\n  â””â”€ Implications\n\nPart 4: CALL TO ACTION (2-3 minutes)\n  â””â”€ What audience should do\n\nPart 5: MEMORABLE CLOSE (30-60 seconds)\n  â””â”€ Full circle back to hook OR powerful statement\n```\n\n### Detailed Breakdown\n\n**Part 1: The Hook (30-90 seconds)**\n\n*Purpose: Capture attention in first 30 seconds or lose audience*\n\n**Hook Types**:\n\n1. **Provocative Question**\n   - \"What if I told you everything you know about [X] is wrong?\"\n   - Must be genuinely interesting, not rhetorical fluff\n   - Should connect to core idea\n\n2. **Surprising Statistic**\n   - \"73% of teachers report...\"\n   - Must be truly surprising, not common knowledge\n   - Contextual setup in 1-2 sentences max\n\n3. **Personal Anecdote**\n   - Brief story (60 seconds max at this stage)\n   - Must relate directly to topic\n   - Should be unexpected or emotionally engaging\n\n4. **Bold Declaration**\n   - \"Everything is about to change\"\n   - \"We've been solving the wrong problem\"\n   - Must be backed upâ€”don't make claims you can't support\n\n5. **Visual Surprise**\n   - Striking image with no context\n   - \"This is [unexpected thing]\"\n   - Explain connection to topic\n\n**Critical Elements**:\n- Start immediatelyâ€”no \"thanks for having me\" preamble\n- No agenda slideâ€”jump right in\n- Create curiosity gap that demands resolution\n- Under 90 seconds total\n\n**Part 2: Personal Connection (1-3 minutes)**\n\n*Purpose: Establish credibility and authentic investment*\n\n**What to Share**:\n- How you discovered this topic\n- Why it matters personally to you\n- Moment of realization or transformation\n- Authentic vulnerability (not staged)\n\n**What NOT to Share**:\n- Full resume/credentials (boring)\n- Lengthy backstory (self-indulgent)\n- Unrelated personal details\n- False humility\n\n**Structure**:\n```\n\"I first encountered this problem when...\"\n  â†“\n\"It challenged everything I believed about...\"\n  â†“\n\"That's when I realized...\"\n```\n\n**Example**:\n\"Five years ago, my daughter came home from school and said, 'I'm stupid at math.' She's brilliantâ€”but the system had convinced her otherwise. That moment launched my obsession with understanding why our brightest students lose confidence. What I discovered shocked me.\"\n\n**Part 3: Core Idea (10-12 minutes)**\n\n*Purpose: Deliver the insight, backed by evidence*\n\n**Sub-Structure**:\n\n**A. State the Idea Clearly (1 minute)**\n- One sentence summary\n- No jargon, plain language\n- Memorable phrasing\n- Example: \"We've been teaching subjects when we should be teaching thinking\"\n\n**B. Explain Why Current Understanding is Wrong/Incomplete (2-3 minutes)**\n- What's the prevailing view?\n- Why does it persist?\n- What are we missing?\n- Use specific examples\n\n**C. Present Your Insight (3-4 minutes)**\n- How did you discover this?\n- What's the evidence?\n- Show, don't just tell\n- Use visuals, demos, examples\n\n**D. Address Skepticism (2-3 minutes)**\n- Anticipate objections\n- Provide counter-evidence\n- Show edge cases or limitations\n- Builds credibility through honesty\n\n**E. Expand Implications (2-3 minutes)**\n- If this is true, what else becomes possible?\n- Connect to broader themes\n- Show systemic impact\n- Paint the bigger picture\n\n**Pacing**:\n- Vary between explanation and example\n- Use visuals liberally (minimal text)\n- Build complexity gradually\n- Create \"aha\" moments through revelation\n\n**Part 4: Call to Action (2-3 minutes)**\n\n*Purpose: Make the idea actionable*\n\n**Not Generic**:\n- âŒ \"Think about this differently\"\n- âŒ \"Spread the word\"\n- âŒ \"Let's make a change\"\n\n**Specific and Achievable**:\n- âœ… \"Tomorrow, ask your child what they're curious about, not what they learned\"\n- âœ… \"Visit this website and take the 5-minute assessment\"\n- âœ… \"Share one thing you're uncertain about at your next team meeting\"\n\n**Scaling Calls to Action**:\n1. **Individual**: What can one person do?\n2. **Collective**: What can we do together?\n3. **Systemic**: What policy/institutional change is needed?\n\n**Format**:\n```\n\"Here's what I'm asking you to do...\"\n  â†“\n[Specific action]\n  â†“\n\"If enough of us do this...\"\n  â†“\n[Collective impact]\n```\n\n**Part 5: Memorable Close (30-60 seconds)**\n\n*Purpose: Leave lasting impression*\n\n**Closing Techniques**:\n\n1. **Full Circle**\n   - Return to opening hook\n   - Show how it's now understood differently\n   - \"Remember that question I asked? Now you know the answer.\"\n\n2. **Vision of Future**\n   - Paint specific picture of transformed world\n   - Make it tangible and emotional\n   - \"Imagine a world where...\"\n\n3. **Powerful Quote**\n   - From relevant source\n   - Must genuinely add insight, not decorative\n   - Brief setup, then quote\n\n4. **Personal Commitment**\n   - What you're dedicating yourself to\n   - Inspires through example\n   - \"I'm going to spend the next decade...\"\n\n5. **Direct Challenge**\n   - Bold ask or provocative question\n   - Leaves them thinking\n   - \"So I ask you: what are you willing to question?\"\n\n**Critical Elements**:\n- NEVER end with Q&A\n- NEVER end with \"Thank you\"\n- NEVER trail off or rush\n- End with power and intention\n\n### Application Guidelines\n\n**Best Used For**:\n- Conference keynotes\n- Inspirational talks\n- Idea-centric presentations (vs. product/sales)\n- 15-20 minute time slots\n- Presentations that will be recorded/shared\n\n**Not Recommended For**:\n- Internal updates\n- Highly technical content\n- Sales pitches (too obvious)\n- Very short presentations (<10 minutes)\n\n**Slide Count Implications**:\n- Minimum: 8-10 slides\n- Typical: 12-18 slides\n- Maximum: 25 slides\n- Heavy visual focusâ€”many slides with single images\n\n### Example: Education Innovation\n\n**Hook (Slide 1)**: Photo of frustrated student. \"What if school is making kids less curious, not more?\"\n\n**Personal (Slides 2-3)**:\n- Slide 2: Photo of speaker's daughter\n- Slide 3: Story of her losing interest in learning\n\n**Core Idea (Slides 4-12)**:\n- Slide 4: \"We're teaching answers. We should teach questions.\"\n- Slide 5-6: Research on curiosity and learning\n- Slide 7-8: Examples of question-driven classrooms\n- Slide 9: Data on outcomes\n- Slide 10: Addressing \"but standards...\" objection\n- Slide 11-12: Bigger implications for society\n\n**Call to Action (Slides 13-14)**:\n- Slide 13: \"Three questions to ask tomorrow\"\n- Slide 14: How to join the movement\n\n**Close (Slide 15)**: Back to daughter's photo. \"She's asking questions again. Let's make sure every kid can.\"\n\n---\n\n## Framework 4: Classic Three-Act Structure\n\n### Overview\n\nThe oldest storytelling structure, dating back to Aristotle. Still relevant because it mirrors natural narrative arc and audience expectations.\n\n### The Structure\n\n```\nACT 1: SETUP (25% of presentation)\n  â”œâ”€ Introduce \"characters\" (people, problems, concepts)\n  â”œâ”€ Establish ordinary world/current state\n  â””â”€ Inciting incident (why this matters now)\n\nACT 2: CONFRONTATION (50% of presentation)\n  â”œâ”€ Explore problem deeply\n  â”œâ”€ Failed attempts or challenges\n  â”œâ”€ Rising action and complications\n  â”œâ”€ Midpoint revelation or shift\n  â””â”€ Escalation to crisis point\n\nACT 3: RESOLUTION (25% of presentation)\n  â”œâ”€ Climax (solution or insight)\n  â”œâ”€ Falling action (how it works)\n  â””â”€ Denouement (new equilibrium)\n```\n\n### Detailed Breakdown\n\n**Act 1: Setup (25%)**\n\n*Purpose: Establish context and create investment*\n\n**1.1 Ordinary World (5-8% of presentation)**\n- Current state of affairs\n- Familiar, relatable situation\n- Establishes baseline for measuring change\n- Example: \"For 150 years, education has looked like this...\"\n\n**1.2 Introduction of \"Characters\" (5-8%)**\n- Who is affected? (students, teachers, parents)\n- What are their goals and challenges?\n- Make audience care about these people\n- Example: \"Meet Sarah, a third-grade teacher who...\"\n\n**1.3 Inciting Incident (10-12%)**\n- The catalystâ€”why now?\n- What changed or was discovered?\n- Creates urgency and forward momentum\n- Example: \"Then COVID-19 forced the entire system online overnight...\"\n\n**Act 2: Confrontation (50%)**\n\n*Purpose: Explore depth, build tension, earn the resolution*\n\n**2.1 Exploring the Problem (10-15%)**\n- Dig deeper into challenges\n- Show why obvious solutions don't work\n- Build complexity and nuance\n- Example: \"Virtual learning exposed three fundamental flaws...\"\n\n**2.2 Failed Attempts / Obstacles (10-15%)**\n- What's been tried?\n- Why didn't it work?\n- Shows understanding of difficulty\n- Builds credibility\n- Example: \"Districts spent millions on tablets. Engagement actually decreased...\"\n\n**2.3 Midpoint Shift (5-8%)**\n- New information or perspective\n- \"What we discovered changed everything\"\n- Turning point in understanding\n- Example: \"But one school tried something different...\"\n\n**2.4 Escalating Complexity (10-15%)**\n- Deeper implications emerge\n- Stakes get higher\n- \"It's not just about X, it's about Y\"\n- Example: \"This isn't a technology problemâ€”it's an identity crisis for educators...\"\n\n**2.5 Crisis Point (5-8%)**\n- Moment of maximum tension\n- \"We have to choose\"\n- Forces decision or action\n- Example: \"We can keep pretending this works, or we can reimagine education entirely\"\n\n**Act 3: Resolution (25%)**\n\n*Purpose: Deliver payoff, show path forward*\n\n**3.1 Climax (8-10%)**\n- The solution, insight, or breakthrough\n- Moment of greatest revelation\n- \"Here's what actually works\"\n- Example: \"When we let students drive their own learning...\"\n\n**3.2 How It Works (10-12%)**\n- Practical implementation\n- Evidence and examples\n- Concrete details\n- Example: \"Here's what it looks like in practice...\"\n\n**3.3 New Equilibrium (7-8%)**\n- What's different now?\n- How has world transformed?\n- Call to action\n- Future vision\n- Example: \"This is education for 2025 and beyond. Here's how we get there...\"\n\n### Application Guidelines\n\n**Best Used For**:\n- Story-driven presentations\n- Case studies\n- Transformation narratives\n- Problem-solution structures\n- Medium to long presentations (20-45 minutes)\n\n**Not Recommended For**:\n- Pure data presentations\n- Quick updates\n- Highly technical content without narrative\n- Very short presentations (<15 minutes)\n\n**Slide Count Implications**:\n- Short version (20 min): 15-20 slides\n  - Act 1: 4-5 slides\n  - Act 2: 8-10 slides\n  - Act 3: 4-5 slides\n- Long version (45 min): 25-35 slides\n  - Act 1: 6-9 slides\n  - Act 2: 13-18 slides\n  - Act 3: 6-9 slides\n\n---\n\n## Framework Comparison Matrix\n\n| Framework | Duration | Slide Count | Best For | Emotional Arc | Complexity |\n|-----------|----------|-------------|----------|---------------|------------|\n| **Sparkline** | 20-30 min | 18-25 | Keynotes, vision casting | High peaks and valleys | High |\n| **Rule of Three** | 15-30 min | 12-18 | Product launches, demos | Steady building | Medium |\n| **TED Structure** | 15-20 min | 12-18 | Idea-centric, inspirational | Single climactic peak | Medium-High |\n| **Three-Act** | 20-45 min | 15-35 | Case studies, narratives | Rising to climax, resolution | High |\n\n---\n\n## Choosing the Right Framework\n\n### Decision Tree\n\n**Start Here**: What's your primary goal?\n\n**If INSPIRE/TRANSFORM**:\n- Duration 20+ minutes â†’ Sparkline\n- Duration <20 minutes â†’ TED Structure\n\n**If PERSUADE/SELL**:\n- Product-focused â†’ Rule of Three\n- Story-driven â†’ Three-Act Structure\n\n**If INFORM/EDUCATE**:\n- Problem-solution â†’ Three-Act Structure\n- Feature demonstration â†’ Rule of Three\n\n**If QUICK UPDATE**:\n- None of theseâ€”use simple structure\n- Opening â†’ Key Points â†’ Close\n\n### Hybrid Approaches\n\nYou can combine frameworks:\n\n**Sparkline + Rule of Three**:\n- Use sparkline emotional arc\n- Organize \"what could be\" sections into three main points\n- Example: Three visions of future, each contrasted with reality\n\n**TED + Three-Act**:\n- Hook and personal connection (Act 1)\n- Core idea as confrontation (Act 2)\n- Call to action as resolution (Act 3)\n- Natural alignment\n\n**Rule of Three + Sparkline**:\n- Three main features/points\n- Each point uses mini sparkline (is/could be contrast)\n- Builds to overall transformation\n\n---\n\n## Common Mistakes Across All Frameworks\n\n### Structural Errors\n\n1. **Starting with agenda slide**\n   - Kills momentum\n   - Signals boring presentation\n   - Better: Jump right into hook\n\n2. **No clear inciting incident**\n   - Presentation lacks urgency\n   - \"Why now?\" is unclear\n   - Audience questions relevance\n\n3. **Unearned climax**\n   - Big reveal without proper buildup\n   - Audience isn't prepared to appreciate it\n   - Falls flat\n\n4. **Multiple climaxes**\n   - Trying to make everything important\n   - Dilutes actual peak moments\n   - Confuses audience\n\n5. **Weak ending**\n   - Trailing off\n   - \"Any questions?\" as close\n   - Not landing the message\n\n### Content Errors\n\n1. **Too much setup**\n   - Spending 40% on background\n   - Audience loses patience\n   - Core message gets rushed\n\n2. **No conflict/tension**\n   - All smooth sailing\n   - Boring, not engaging\n   - No stakes\n\n3. **Ignoring obstacles**\n   - Presenting solution without acknowledging challenges\n   - Seems naive or dishonest\n   - Reduces credibility\n\n4. **Missing emotional beats**\n   - All facts, no feeling\n   - Cognitively exhausting\n   - Forgettable\n\n---\n\n## Advanced Techniques\n\n### The Nested Story\n\nEmbed smaller stories within main framework:\n\n```\nMain Framework: Three-Act Structure\n  Act 2 includes:\n    â†’ Customer story (mini three-act)\n    â†’ Team journey (mini three-act)\n    â†’ Product development (mini three-act)\n```\n\nEach nested story has own arc but serves larger narrative.\n\n### The Recurring Motif\n\nIntroduce element in opening, revisit throughout:\n\n- Physical object that represents theme\n- Phrase that gains new meaning\n- Image that appears multiple times\n- Question that gets progressively answered\n\nExample: \"What makes a teacher great?\" asked at start, explored through presentation, answered with new depth at end.\n\n### The Parallel Structure\n\nTell two stories simultaneously that converge:\n\n```\nStory A (Problem): Traditional education path\nStory B (Solution): New approach\n  â†“                    â†“\nConverge: Shows contrast\n```\n\nSlides alternate between Story A and Story B until they meet.\n\n### The Revelation Sequence\n\nWithhold key information, reveal progressively:\n\n```\nSlide 1: \"We tested 10 approaches\"\nSlide 2: \"9 failed\"\nSlide 3: \"But one...\"\nSlide 4: [The one that worked]\n```\n\nBuilds suspense through controlled information release.\n\n---\n\n## Testing Your Structure\n\n### Before Finalizing\n\n**The Elevator Test**:\n- Can you summarize arc in 30 seconds?\n- If not, structure is too complex\n\n**The Emotional Check**:\n- Map emotional intensity across slides\n- Should have valleys and peaks, not flat line\n- Highest peak should be near end (not middle)\n\n**The \"So What?\" Test**:\n- After each major section: \"So what?\"\n- If you can't answer, section doesn't earn its place\n\n**The Memory Test**:\n- What will audience remember 24 hours later?\n- Structure should make key points memorable\n- If everything is equally important, nothing is\n\n### After First Rehearsal\n\n**The Timing Test**:\n- Does reality match planned percentages?\n- If Act 1 is taking 40% of time, rebalance\n\n**The Flow Test**:\n- Do transitions feel natural?\n- Is there a clear through-line?\n- Can you feel the momentum?\n\n**The Engagement Test**:\n- Present to test audience\n- Where do they lean in?\n- Where do they check out?\n- Adjust structure accordingly\n\n---\n\nThis comprehensive guide to story frameworks provides the architectural foundation for presentations that aren't just informativeâ€”they're transformative. Master these structures, and you'll never wonder \"what comes next?\" again.\n",
        "skills/presentation-master/principles/validation-rules.md": "# Validation Rules & Scoring System\n\nAutomatic quality assessment for presentations.\n\n## Scoring Formula (0-100)\n\n### Simplicity (10 points)\n- **Word count per slide**: 0-3 words = 10pts, 4-6 words = 8pts, 7-10 words = 5pts, >10 words = 0pts\n- **Visual clutter**: Single element = 10pts, 2-3 elements = 8pts, 4-5 elements = 5pts, >5 elements = 0pts\n\n### Visual Dominance (10 points)\n- **Image quality**: All high-res = 10pts, some low-res = 5pts, no images = 0pts\n- **Text-to-visual ratio**: 20/80 or better = 10pts, 50/50 = 5pts, 80/20 = 0pts\n\n### Story Structure (10 points)\n- **Narrative arc**: Clear beginning/middle/end = 10pts, partial = 5pts, none = 0pts\n- **Emotional beats**: 3+ moments = 10pts, 1-2 moments = 5pts, none = 0pts\n\n### One Idea Per Slide (10 points)\n- **Concept clarity**: All slides single-concept = 10pts, most = 7pts, mixed = 3pts, confused = 0pts\n\n### Typography (8 points)\n- **Font size**: All 36pt+ = 8pts, all 30pt+ = 6pts, some <30pt = 2pts, any <24pt = 0pts\n- **Consistency**: 1 font family = 8pts, 2 families = 6pts, 3+ families = 0pts\n\n### Layout (7 points)\n- **Visual hierarchy**: Clear focal points = 7pts, somewhat clear = 4pts, unclear = 0pts\n- **Whitespace**: 40%+ = 7pts, 20-40% = 4pts, <20% = 0pts\n- **Alignment**: All aligned = 7pts, mostly = 4pts, inconsistent = 0pts\n\n### Color/Contrast (7 points)\n- **Readability**: 7:1+ contrast = 7pts, 4.5:1+ = 5pts, <4.5:1 = 0pts\n- **Consistency**: Single palette = 7pts, mixed = 3pts, chaotic = 0pts\n\n### Media Quality (8 points)\n- **Image resolution**: All 2K+ = 8pts, all 1K+ = 6pts, some low-res = 2pts\n- **Relevance**: All relevant = 8pts, mostly = 5pts, decorative = 0pts\n\n### Cognitive Load (20 points)\n- **Mayer's 12 principles adherence**: 10-12 = 20pts, 7-9 = 15pts, 4-6 = 10pts, 1-3 = 5pts, 0 = 0pts\n\n### Data Integrity (10 points, if applicable)\n- **Lie factor**: 0.95-1.05 = 10pts, 0.90-1.10 = 7pts, 0.80-1.20 = 3pts, outside = 0pts\n- **Data-ink ratio**: Maximized = 10pts, good = 7pts, poor = 3pts, terrible = 0pts\n\n## Critical Violations (Auto-Fail)\n\nThese cause immediate score reduction or failure:\n\n1. **Font size < 30pt** â†’ -20 points\n2. **>10 core concepts** â†’ -15 points (Kawasaki violation)\n3. **Bullet points detected** â†’ -10 points per slide\n4. **Paragraphs (>2 sentences)** â†’ -10 points per slide\n5. **Contrast ratio <4.5:1** â†’ -15 points\n6. **Default template detected** â†’ -20 points\n\n## Warning Flags\n\nThese reduce score but don't fail:\n\n1. **>6 words per slide** â†’ -2 points per violation (Godin standard)\n2. **>15 slides for 20-min presentation** â†’ -5 points\n3. **No images** â†’ -10 points\n4. **Text-heavy slides (>3 lines)** â†’ -3 points per slide\n5. **Inconsistent fonts (>2 families)** â†’ -5 points\n6. **Low-res images** â†’ -3 points per image\n\n## Score Interpretation\n\n- **90-100**: Exceptional - TED/Keynote quality\n- **80-89**: Excellent - Professional standard\n- **70-79**: Good - Solid presentation\n- **60-69**: Acceptable - Needs improvement\n- **<60**: Poor - Major revisions needed\n\n## Automated Checks (JavaScript)\n\n```javascript\nfunction validatePresentation(slides) {\n  let score = 0;\n  const issues = [];\n\n  // Check each slide\n  slides.forEach((slide, i) => {\n    const wordCount = slide.text.split(' ').length;\n    const fontSize = slide.minFontSize;\n    const hasBullets = slide.text.includes('â€¢') || slide.text.includes('-');\n\n    // Word count scoring\n    if (wordCount <= 3) score += 10 / slides.length;\n    else if (wordCount <= 6) score += 8 / slides.length;\n    else if (wordCount <= 10) score += 5 / slides.length;\n    else issues.push(`Slide ${i+1}: ${wordCount} words (recommend â‰¤6)`);\n\n    // Font size critical check\n    if (fontSize < 30) {\n      score -= 20;\n      issues.push(`CRITICAL: Slide ${i+1} has ${fontSize}pt font (minimum 30pt)`);\n    }\n\n    // Bullet point check\n    if (hasBullets) {\n      score -= 10;\n      issues.push(`CRITICAL: Slide ${i+1} has bullet points (use individual slides)`);\n    }\n  });\n\n  return { score: Math.max(0, Math.min(100, score)), issues };\n}\n```\n\n## Quality Report Template\n\n```markdown\n# Presentation Quality Report\n\n**Overall Score**: {score}/100\n**Status**: {Exceptional|Excellent|Good|Acceptable|Poor}\n\n## Strengths\n- {List what scores well}\n\n## Critical Issues\n- {Font size violations}\n- {Bullet points}\n- {Contrast problems}\n\n## Warnings\n- {Word count}\n- {Slide count}\n- {Consistency issues}\n\n## Recommendations\n1. {Highest priority fix}\n2. {Second priority}\n3. {Third priority}\n\n## Score Breakdown\n- Simplicity: {score}/10\n- Visual Dominance: {score}/10\n- Story Structure: {score}/10\n- One Idea/Slide: {score}/10\n- Typography: {score}/8\n- Layout: {score}/7\n- Color/Contrast: {score}/7\n- Media Quality: {score}/8\n- Cognitive Load: {score}/20\n- Data Integrity: {score}/10 (if applicable)\n```\n",
        "skills/psd-brand-guidelines/SKILL.md": "---\nname: psd-brand-guidelines\ndescription: Apply Peninsula School District official brand colors, typography, and logos to artifacts\ntriggers:\n  - \"psd brand\"\n  - \"district branding\"\n  - \"psd colors\"\n  - \"psd logo\"\n  - \"peninsula school district style\"\n  - \"brand guide\"\n  - \"on-brand\"\nallowed-tools: Read, Write, Edit, Bash\nversion: 0.2.0\n---\n\n# PSD Brand Guidelines Skill\n\nThis skill applies Peninsula School District's official brand identity to artifacts including presentations, documents, graphics, and other materials.\n\n## CRITICAL: Enforcement Rules\n\n### NEVER Generate\n\n**NEVER** use image-gen or any AI tool to generate:\n- District logos or emblems\n- \"Peninsula School District\" in stylized/logo text\n- Bridge/landscape imagery meant to represent the district logo\n- Any official-looking district branding elements\n- District seals or official marks\n\n**Why?** AI-generated logos are inconsistent and may hallucinate incorrect details (wrong colors, wrong name, made-up imagery). Always use actual logo files.\n\n### ALWAYS Use Actual Files\n\nFor any branded materials:\n1. Use logo files from `assets/` directory\n2. Use colors from `brand-config.json`\n3. Use `brand.py` utilities to select the right assets\n\n### Programmatic Access\n\n**Machine-readable brand data:** `brand-config.json`\n**Python utilities:** `brand.py`\n\n```bash\n# Get colors\nuv run brand.py colors\n\n# Get appropriate logo path\nuv run brand.py logo light wide\nuv run brand.py logo dark small\n\n# Validate prompt before image generation\nuv run brand.py validate \"create an infographic about enrollment\"\n```\n\n### Image Generation with Brand\n\nWhen generating images for PSD materials, always use the `--brand` flag:\n\n```bash\n# This validates the prompt and blocks logo generation attempts\nuv run generate.py \"school campus scene\" campus.png --brand psd\n```\n\n## Purpose\n\nEnsure professional and consistent use of the Peninsula School District brand across all communications. The brand reflects the stunning beauty of the Pacific Northwest and the Puget Sound region.\n\n## Typography\n\n### Headings & Logo Text: Josefin Sans\n\nModern geometric, elegant font with a vintage 1920s feel. Use **Bold** weight for district name and all headings.\n\n- **Font:** Josefin Sans Bold\n- **Source:** https://fonts.google.com/specimen/Josefin+Sans\n- **Fallback:** Arial, sans-serif\n\n### Body Text: Josefin Slab\n\nPerfect pairing to Josefin Sans, highly legible at smaller sizes due to slab serif and typewriter-style attributes.\n\n- **Font:** Josefin Slab\n- **Source:** https://fonts.google.com/specimen/Josefin+Slab\n- **Fallback:** Georgia, serif\n\n## Color Palette\n\n### Logo Colors (Primary)\n\n| Name | Hex | RGB | Usage |\n|------|-----|-----|-------|\n| **Sea Glass** | #6CA18A | rgb(108, 161, 138) | Primary green, landscape elements |\n| **Pacific** | #25424C | rgb(37, 66, 76) | Primary dark blue, text, headers |\n| **Driftwood** | #D7CDBE | rgb(215, 205, 190) | Neutral tan, backgrounds |\n\n### Supporting Brand Colors\n\n| Name | Hex | RGB | Usage |\n|------|-----|-----|-------|\n| **Cedar** | #466857 | rgb(70, 104, 87) | Dark green accent |\n| **Whulge** | #346780 | rgb(52, 103, 128) | Medium blue (Coast Salish word for sound of waves) |\n| **Sea Foam** | #EEEBE4 | rgb(238, 235, 228) | Light background |\n| **Meadow** | #5D9068 | rgb(93, 144, 104) | Green accent |\n| **Ocean** | #7396A9 | rgb(115, 150, 169) | Light blue accent |\n| **Skylight** | #FFFAEC | rgb(255, 250, 236) | Off-white/cream background |\n\n### Color Selection Guidelines\n\n- **Light backgrounds:** Use Pacific (#25424C) or 2-color logo\n- **Dark backgrounds:** Use Sea Glass (#6CA18A) or white logo\n- **Neutral backgrounds:** Choose based on contrast needs\n- When adding colors, choose natural, complementary colors that reflect Pacific Northwest landscape tones\n\n## Logo Options\n\n### Available Formats\n\n1. **Full Landscape** - Bridge connecting peninsula landscape, district name contained within\n2. **Horizontal** - For when name/tagline would be too small\n3. **Emblem** - Round versions, perfect for square spaces or tight fits\n4. **Stacked** - Vertical layout with name separated from brandmark\n\n### Color Variants\n\n- **2-color** - Sea Glass + Pacific (primary use)\n- **1-color Pacific Blue** - For light backgrounds\n- **1-color Sea Glass** - For medium backgrounds\n- **White** - For dark backgrounds\n\n### File Types\n\n| Format | Use Cases |\n|--------|-----------|\n| **EPS (Vector)** | Professional printing, large scaling, Adobe programs |\n| **PNG (Raster)** | Microsoft Office, websites, social media, email signatures |\n\n### Logo Location\n\n**Local assets folder:** `skills/psd-brand-guidelines/assets/`\n\n**PNG files (19)** - for web, Office, email:\n- `psd_logo-2color-{emblem,fulllandscape,stacked,horizontal,square}.png`\n- `psd_logo-1color-blue-{emblem,fulllandscape,stacked,horizontal,square}.png`\n- `psd_logo-1color-green-{emblem,fulllandscape,stacked,horizontal,square}.png`\n- `psd_logo-white-{emblem,stacked,horizontal,square}.png`\n\n**EPS files (19)** - for professional printing, Adobe programs:\n- Same variants as PNG, with `.eps` extension\n\n**Reference:**\n- `PSD_Branding_Guide.pdf` - full brand guide document\n\n**Google Drive source:**\n- **Logos Folder ID:** `1YhjxX_pOwZJppZebIIC7QW_UHF4bvo79`\n- **Brand Guide Folder:** `1ufOB6rrKDbAaH7HapdLadJzWy8ho5hTb`\n\n## Logo Usage Rules\n\n### Do's\n\n- Maintain original proportions\n- Ensure sufficient contrast with background\n- Use appropriate color variant for background\n- Use emblem/stacked logo for small sizes\n\n### Don'ts\n\n- Don't shrink full landscape logo below 1.5\" wide (print) or 300px (web)\n- Don't rotate the logo\n- Don't apply effects (drop shadows, mirroring, etc.)\n- Don't stretch or squish\n- Don't use non-brand fonts with logo\n- Don't place on backgrounds with insufficient contrast\n\n## Applying Brand to Artifacts\n\n### Presentations\n\n```css\n/* Title slides */\nbackground-color: #25424C;  /* Pacific */\ncolor: #FFFAEC;             /* Skylight */\nfont-family: 'Josefin Sans', Arial, sans-serif;\n\n/* Content slides */\nbackground-color: #EEEBE4;  /* Sea Foam */\ncolor: #25424C;             /* Pacific */\nfont-family: 'Josefin Slab', Georgia, serif;\n\n/* Accent elements */\nborder-color: #6CA18A;      /* Sea Glass */\n```\n\n### Documents\n\n- **Headings:** Josefin Sans Bold, Pacific (#25424C)\n- **Body:** Josefin Slab, Pacific (#25424C)\n- **Links/Highlights:** Whulge (#346780)\n- **Backgrounds:** Sea Foam (#EEEBE4) or Skylight (#FFFAEC)\n\n### Digital/Web\n\n- Primary buttons: Sea Glass (#6CA18A)\n- Secondary buttons: Whulge (#346780)\n- Text on light: Pacific (#25424C)\n- Text on dark: Skylight (#FFFAEC)\n\n## Brand Contact\n\nFor questions or special needs:\n- **Danielle Chastaine**, Digital Media Coordinator\n- chastained@psd401.net\n\n## Quick Reference\n\n### Programmatic API (Python)\n\n```python\nfrom brand import get_logo_path, get_colors, validate_prompt, get_color\n\n# Get all colors as hex dict\ncolors = get_colors()  # {'seaGlass': '#6CA18A', 'pacific': '#25424C', ...}\n\n# Get single color with metadata\ncolor = get_color('pacific')  # {'hex': '#25424C', 'rgb': [37, 66, 76], 'usage': '...'}\n\n# Get logo path based on context\nlogo = get_logo_path(background='dark', space='wide')   # Returns white-horizontal path\nlogo = get_logo_path(background='light', space='small')  # Returns 2color-emblem path\n\n# Validate prompt before image generation\nvalid, errors = validate_prompt(\"create a school event banner\")\nif not valid:\n    print(errors)  # Lists violations and suggestions\n```\n\n### Machine-Readable Config\n\nAll brand data is available in `brand-config.json`:\n- Colors with hex, RGB, and usage notes\n- Typography specifications\n- Logo paths with selection rules\n- Forbidden generation patterns\n- Application guidelines per context\n\n### Legacy Quick Reference\n\n```javascript\nconst PSD_BRAND = {\n  colors: {\n    // Logo colors\n    seaGlass: '#6CA18A',\n    pacific: '#25424C',\n    driftwood: '#D7CDBE',\n    // Supporting colors\n    cedar: '#466857',\n    whulge: '#346780',\n    seaFoam: '#EEEBE4',\n    meadow: '#5D9068',\n    ocean: '#7396A9',\n    skylight: '#FFFAEC'\n  },\n  fonts: {\n    heading: \"'Josefin Sans', Arial, sans-serif\",\n    body: \"'Josefin Slab', Georgia, serif\"\n  },\n  logos: {\n    localPath: 'skills/psd-brand-guidelines/assets/',\n    driveFolder: '1YhjxX_pOwZJppZebIIC7QW_UHF4bvo79'\n  }\n};\n```\n\n---\n\n*Last updated: January 14, 2025*\n*Source: PSD Branding Guide 06.14.2024.pdf, brand-config.json*\n",
        "skills/psd-instructional-vision/SKILL.md": "---\nname: psd-instructional-vision\ndescription: Peninsula School District's instructional framework and pedagogical beliefs. Use when creating graphics about PSD instruction, designing AI assistants for educators, writing about good teaching practices, or sharing PSD's educational philosophy with external systems.\ntriggers:\n  - \"instructional essentials\"\n  - \"psd pedagogy\"\n  - \"instructional vision\"\n  - \"teaching practices\"\n  - \"good instruction\"\n  - \"rigor and inclusion\"\n  - \"data-driven decisions\"\n  - \"continuous growth\"\n  - \"educational philosophy\"\n  - \"tier 1 instruction\"\nallowed-tools: Read\nversion: 1.0.0\n---\n\n# PSD Instructional Vision\n\nPeninsula School District's framework for rigorous, inclusive, and future-focused learning.\n\n**Full Reference:** See `references/playbook.md` for complete details, classroom examples, and role-based responsibilities.\n\n---\n\n## Vision Statement\n\n> **We are dedicated to providing rigorous, standards-based instruction that ensures every student achieves grade-level proficiency and is prepared for future success.**\n\n---\n\n## The Four Instructional Essentials\n\n| Essential | Core Belief |\n|-----------|-------------|\n| **Rigor & Inclusion** | All students access grade-level content through responsive, high-expectation instruction |\n| **Data-Driven Decisions** | Multiple sources of evidence inform real-time instructional adjustments |\n| **Continuous Growth** | Ongoing reflection, collaboration, and professional learning deepen outcomes |\n| **Innovation** | Forward-thinking instruction integrates real-world connections and student voice |\n\n---\n\n## The 8 Tier 1 Practices\n\n### Rigor & Inclusion\n\n**1. Building Academic Background**\n- Connect new learning to prior knowledge, culture, and identity\n- Use shared experiences, culturally relevant hooks, multimodal vocabulary\n\n**2. Scaffolding & Differentiation**\n- Flexible grouping based on data\n- Temporary supports that maintain rigor\n- Multiple paths to same high expectations\n\n### Data-Driven Decisions\n\n**3. Formative Assessment & Feedback**\n- Frequent checks for understanding\n- Specific, actionable feedback aligned to success criteria\n- Instruction adjusts based on data patterns\n\n**4. Student Self-Assessment**\n- Clear learning targets in student-friendly language\n- Regular reflection routines\n- Students set goals and track progress\n\n### Continuous Growth\n\n**5. Collaborative Professional Learning**\n- Student work anchors PLC discussions\n- Reflective practice individually and collectively\n- New learning applied and reported back\n\n**6. Actionable Observation & Feedback Cycles**\n- Evidence-based, non-evaluative feedback\n- Short-cycle model with timely response\n- Two-way dialogue and goal setting\n\n### Innovation\n\n**7. Real-World Connections**\n- Authentic problems and contexts\n- Student voice and choice\n- Community, career, and cultural connections\n\n**8. Intentional Use of Technology**\n- Tech personalizes learning paths\n- Tools enable collaboration and creation\n- Accessibility features ensure universal access\n\n---\n\n## Quick Reference for Graphics & Communications\n\nWhen creating visuals about PSD instruction, include:\n\n**Key Terms:**\n- Instructional Essentials (the framework)\n- Tier 1 Practices (the 8 strategies)\n- Grade-level rigor with appropriate scaffolds\n- Evidence-informed instruction\n- Student agency and voice\n\n**Core Messages:**\n- Every student deserves engaging, rigorous, inclusive learning every day\n- High expectations WITH high support\n- Data informsâ€”not just documentsâ€”instruction\n- Innovation serves learning, not the other way around\n\n**Visual Framework:**\nThe four essentials form a cycle around the PSD logo:\n- Rigor & Inclusion (top-left, green)\n- Data-Driven Decisions (top-right, blue-gray)\n- Continuous Growth (bottom-right, light blue)\n- Innovation (bottom-left, dark green)\n\n---\n\n## For AI Assistants & External Systems\n\nWhen building an AI assistant that should embody PSD's instructional philosophy, inject these beliefs:\n\n### System Prompt Injection\n\n```\nYou are aligned with Peninsula School District's Instructional Essentials:\n\nCORE BELIEF: Every student deserves engaging, rigorous, and inclusive learning every day.\n\nINSTRUCTIONAL PRINCIPLES:\n1. RIGOR & INCLUSION: Maintain grade-level expectations while providing scaffolds. Never lower the barâ€”build the ladder.\n2. DATA-DRIVEN: Recommendations should be based on evidence. Suggest formative checks and adjustment strategies.\n3. CONTINUOUS GROWTH: Model reflection. Ask \"What worked? What could improve?\" Frame feedback constructively.\n4. INNOVATION: Connect to real-world contexts. Encourage student voice and choice. Technology serves learning.\n\nPEDAGOGICAL STANCE:\n- Scaffolds are temporary supports, not permanent crutches\n- Differentiation means different paths to the SAME high standard\n- Feedback should be specific, actionable, and tied to success criteria\n- Student self-assessment builds agency and metacognition\n- Collaboration among educators improves outcomes for ALL students\n```\n\n### Key Practices to Reference\n\n| If the assistant is about... | Emphasize these practices |\n|------------------------------|---------------------------|\n| Lesson planning | Building academic background, scaffolding, formative assessment |\n| Assessment | Formative feedback, student self-assessment, data patterns |\n| Coaching/PD | Collaborative learning, observation cycles, reflective practice |\n| Student engagement | Real-world connections, technology, student voice |\n| Differentiation | Flexible grouping, scaffolding, multiple paths to standards |\n\n---\n\n## When to Load Full Playbook\n\nRead `references/playbook.md` when you need:\n- Specific classroom examples for a practice\n- Role-based responsibilities (teachers, principals, central office)\n- Indicators of success for a practice\n- Educator reflection questions\n- Implementation guidance\n",
        "skills/psd-instructional-vision/references/playbook.md": "# PSD Instructional Essentials Playbook\n\n**Tier 1 Instructional Practices Supporting Rigorous, Inclusive, and Future-Focused Learning for All Students**\n\nTeaching & Learning, Peninsula School District\n\n---\n\n## Introduction\n\n### Bringing Our Instructional Essentials to Life\n\nIn the Peninsula School District, we are united by a shared belief: **every student deserves engaging, rigorous, and inclusive learning every day.** The Instructional Essentials have been collaboratively developed to move closer to this vision in every school and every classroom - clear, actionable priorities that guide how we teach, lead, and support learning across our system.\n\nThe Instructional Essentials represent the most important practices and commitments that will help ensure instructional quality, coherence, and equity throughout the district.\n\n### The Four Instructional Essentials\n\n| Essential | Description |\n|-----------|-------------|\n| **Rigor & Inclusion** | All students have access to grade-level content and are supported to succeed through responsive, high-expectation instruction. |\n| **Data-Driven Decisions** | Student learning and progress are actively monitored using multiple sources of evidence to adjust instruction in real time to meet student needs. |\n| **Continuous Growth** | Both students and educators engage in ongoing reflection, collaboration, and professional learning to improve and deepen learning outcomes. |\n| **Innovation** | Instruction is forward-thinking and dynamic. It integrates real-world connections, student voice, and new ideas that prepare learners for the future. |\n\nEach Essential is aligned to specific roles and responsibilities for central office administrators, principals, and teachers - because meaningful improvement requires shared leadership and ownership at every level.\n\n---\n\n## Vision Statement\n\n**We are dedicated to providing rigorous, standards-based instruction that ensures every student achieves grade-level proficiency and is prepared for future success.**\n\n---\n\n## Practices Overview\n\nThe 8 Tier 1 practices mapped to the four essentials:\n\n### Rigor & Inclusion\n- Building Academic Background\n- Scaffolding & Differentiation\n\n### Data-Driven Decisions\n- Formative Assessment & Feedback\n- Student Self-Assessment\n\n### Continuous Growth\n- Collaborative Professional Learning\n- Actionable Observation & Feedback Cycles\n\n### Innovation\n- Real-World Connections\n- Intentional Use of Technology\n\n---\n\n## Practice 1: Building Academic Background\n\n**Instructional Essential:** Rigor & Inclusion\n\n**Core Outcome:** All students are able to access grade-level content through intentional connections to prior knowledge, lived experiences, language, and identity.\n\n**Definition:** Building academic background means teachers actively link new learning to what students already know, drawing from their cultural context, lived experiences, and previous learning to create a strong foundation for success with rigorous, grade-level content.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Activate Prior Knowledge Through Shared Experiences** | Launch new learning by engaging students in a shared experienceâ€”visual, tactile, or community-basedâ€”that creates a common reference point and bridges new content to existing schema. | Before beginning a science unit on erosion, students examine a sand-and-water simulation as a class. This hands-on experience becomes a reference point for vocabulary and later learning. |\n| **Integrate Culturally Relevant and Identity-Affirming Hooks** | Intentionally connect new content to students' cultures, languages, or lived experiences to increase engagement and make learning meaningful and inclusive. | In a middle school ELA unit on personal narrative, students first explore oral storytelling traditions from various cultures, including their own, to see themselves in the writing process. |\n| **Pre-Teach Academic Vocabulary Using Multimodal Tools** | Explicitly introduce key terms before diving into complex texts or tasks using visuals, gestures, real-world examples, and multilingual support. | In a high school biology class, students use bilingual vocabulary cards, images, and short videos to learn terms like \"photosynthesis\" and \"chloroplast\" before reading a dense science text. |\n\n### Indicators of Success\n- Students refer to personal or community knowledge during class discussions\n- Student work shows increased accuracy and depth due to a strong conceptual foundation\n- Academic vocabulary is evident in student talk and writing\n- Students demonstrate confidence in participating early in a new unit or complex task\n\n### Educator Reflection Questions\n- What cultural, linguistic, or community knowledge do my students bring that connects to this content?\n- Which academic vocabulary will be most challengingâ€”and how can I make it stick?\n- How can I use a shared experience to create common ground before diving into the unit?\n\n### How Principals Bring This Strategy to Life\n- Observe for evidence of background-building during classroom walkthroughs (e.g., Are students referencing known concepts? Is vocabulary supported visually or contextually?)\n- Lead PD focused on activating background knowledge and cultural responsiveness (e.g., using student identity maps, integrating real-world hooks)\n- Structure PLC time for teams to co-plan scaffolds, shared experiences, and vocabulary routines for upcoming units\n- Model strategy use in staff learning (e.g., begin staff PD with identity questions or personal connections to the topic)\n\n### How the District Supports Implementation\n- Provide training and exemplars that demonstrate how to build background through inclusive, identity-affirming strategies\n- Ensure curriculum adoption and materials include supports for background knowledge building (e.g., visuals, multilingual supports, culturally relevant content)\n- Fund professional learning on scaffolding and vocabulary instruction\n- Build partnerships with community organizations to bring in speakers, artifacts, or cultural perspectives that enrich content\n\n---\n\n## Practice 2: Scaffolding & Differentiation\n\n**Instructional Essential:** Rigor & Inclusion\n\n**Core Outcome:** All students are challenged and supported to access and engage deeply with grade-level learning through intentional scaffolding and differentiated instruction.\n\n**Definition:** Scaffolding and differentiation involve intentionally designing instruction so that all studentsâ€”regardless of readiness, language background, or learning needsâ€”can access rigorous content and engage in meaningful learning. Scaffolds are temporary supports; differentiation addresses ongoing learner needs by offering multiple paths to learning.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Use Flexible, Data-Informed Grouping** | Group students based on readiness, language proficiency, interest, or specific skillsâ€”and adjust groups frequently based on formative data. This ensures targeted support and promotes equity in participation. | In a 5th-grade math class, students are grouped after a quick check on multi-digit multiplication. Some work on basic strategies with manipulatives, while others apply their skills to multi-step word problems. Groups shift weekly. |\n| **Break Down Complex Tasks with Temporary Supports (Scaffolding)** | Make challenging content accessible by breaking it into smaller steps and providing supports like checklists, models, sentence frames, or guided practiceâ€”then gradually remove supports as independence grows. | In a high school civics class, students analyze a Supreme Court case. The teacher provides a graphic organizer with sentence stems to help students summarize and critique arguments before transitioning to independent analysis. |\n| **Differentiate Content, Process, or Product Based on Student Needs** | Adapt instruction to provide choice or varied levels of supportâ€”while maintaining the same high expectations for all students. Differentiation honors learner variability without compromising rigor. | In a middle school science project, all students must explain an ecosystem. One group creates a stop-motion animation, another writes an article, and another builds a physical model with labeled components. |\n\n### Indicators of Success\n- Student engagement is high across varying ability levels\n- All students complete rigorous tasks with appropriate supports\n- Students can articulate what helps them learn or what tools they use\n- Groupings and scaffolds are fluid and responsive to learning progress\n\n### Educator Reflection Questions\n- What scaffolds can I provide to support access, without reducing the rigor?\n- Are my groupings flexible and responsive, or static and fixed?\n- How can I provide entry points into this task while keeping the learning target consistent?\n\n### How Principals Bring This Strategy to Life\n- Observe for evidence of scaffolding and flexible grouping during walkthroughs (e.g., Do students have different tools or tasks? Are groupings purposeful?)\n- Encourage and model differentiation in staff meetings or PD (e.g., using breakout groups based on role, choice-based activities)\n- Schedule collaborative time for staff to plan scaffolds together (e.g., common sentence stems, multilingual supports, task breakdowns)\n- Provide coaching and feedback focused on ensuring supports are intentional and temporaryâ€”not simply reducing task complexity\n\n### How the District Supports Implementation\n- Provide professional learning on scaffolding strategies (e.g., gradual release, language supports, tiered questioning)\n- Ensure curriculum materials include supports and extensions to differentiate within Tier 1\n- Share exemplars and tools (e.g., sample tiered tasks, graphic organizers, digital differentiation platforms)\n- Monitor implementation trends and offer coaching support in schools with persistent achievement gaps\n\n---\n\n## Practice 3: Formative Assessment & Feedback\n\n**Instructional Essential:** Data-Driven Decisions\n\n**Core Outcome:** Educators use timely evidence of student learning to adjust instruction, provide actionable feedback, and support every student's progress toward grade-level outcomes.\n\n**Definition:** Formative assessment is an ongoing process of gathering evidence of learning, providing students with actionable feedback, and adjusting instruction in real time. The goal is to improve student understanding and ensure all learners stay on track to meet grade-level standards.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Embed Frequent Checks for Understanding** | Teachers use quick, low-stakes strategies during instruction to gather evidence of student thinking and identify misconceptions early. | During a 6th-grade lesson on fractions, the teacher uses mini whiteboards for students to solve a problem. Based on responses, the teacher immediately re-teaches to a small group. |\n| **Provide Specific, Actionable Feedback** | Feedback is timely, aligned to success criteria, and gives students clear next steps to move their learning forward. | In a high school English class, the teacher provides margin comments on a rough draft like, \"Your claim is strongâ€”now revise the evidence to more clearly connect to your thesis.\" |\n| **Adjust Instruction Based on Data Patterns** | Teachers analyze patterns in formative assessments to adjust pacing, groupings, or instructional strategies. | After reviewing exit tickets, a 3rd-grade teacher sees that students are struggling with regrouping in subtraction and plans a hands-on reteach the next day using base-10 blocks. |\n\n### Indicators of Success\n- Students can articulate what they are learning and how they know they're making progress\n- Feedback given during class is specific, tied to the learning goal, and prompts visible revision or improvement\n- Instruction visibly shifts based on student needs (e.g., pacing, grouping, additional supports) within or across lessons\n- Student work improves over time in response to feedback, as seen in drafts, performance tasks, or discussions\n- Formative checks are embedded throughout instructionâ€”not just at the end of a lesson\n\n### Educator Reflection Questions\n- Am I checking for understanding frequently enough during instructionâ€”not just at the end?\n- Is my feedback helping students take specific next steps toward success?\n- How am I using formative data to adjust instruction for individuals and groups?\n\n### How Principals Bring This Strategy to Life\n- Establish a data-informed culture by making formative assessment a routine topic in PLCs, coaching cycles, and leadership team meetings\n- Model the use of success criteria and goal-oriented feedback in staff meetings and professional learning\n- Observe for evidence of formative assessment in classroom walkthroughs (e.g., Are teachers gathering real-time data and adjusting instruction accordingly?)\n- Provide tools and structures for teachers to reflect on formative evidence (e.g., exit ticket analysis protocols, collaborative scoring opportunities)\n\n### How the District Supports Implementation\n- Offer professional learning on high-impact formative assessment strategies, feedback practices, and data analysis routines\n- Provide tools and technology that support formative data collection and analysis (e.g., student response systems, feedback rubrics, dashboards)\n- Support PLC structures with protocols for reviewing student work and using data to plan instruction\n- Model the district's commitment to formative feedback by collecting and responding to staff input, showcasing promising practices across schools\n\n---\n\n## Practice 4: Student Self-Assessment\n\n**Instructional Essential:** Data-Driven Decisions\n\n**Core Outcome:** Students take an active role in their learning by reflecting on their progress, identifying next steps, and using data to make meaningful decisions about how to improve.\n\n**Definition:** Student self-assessment is the process of students evaluating their own learning relative to clear goals and criteria. When students monitor their progress and reflect on their strengths and areas for growth, they become more engaged, metacognitive, and invested in improving.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Use Clear Learning Targets and Success Criteria** | Post and reference learning goals in student-friendly language; co-create or unpack success criteria so students understand what success looks like. | In a 4th-grade writing lesson, the teacher reviews the success criteria for strong introductions, and students highlight examples in their own writing to self-assess. |\n| **Incorporate Regular Reflection Routines** | Create structured opportunities for students to reflect on what they've learned and where they need to grow. | In a high school science lab, students complete a reflection log identifying what went well and what they would revise before the next investigation. |\n| **Teach Students to Set Goals and Track Progress** | Students identify personal goals, monitor their own growth using tools like rubrics or checklists, and use the information to adjust effort or strategy. | In a middle school math class, students use a mastery tracking chart to color in learning targets they've mastered and set a weekly goal for improvement. |\n\n### Indicators of Success\n- Students refer to learning goals and success criteria during work time, independently or with peers\n- Student reflections show understanding of their own progress, including both strengths and areas for growth\n- Students can articulate how they are improving and what strategies help them learn best\n- Students use checklists, rubrics, or progress trackers to make instructional choices (e.g., revising work, asking for support, selecting practice)\n- Teachers use student self-assessment data to support goal-setting conferences, grouping decisions, or reteaching priorities\n\n### Educator Reflection Questions\n- Do my students understand the learning goals and what success looks like?\n- How often do my students reflect on their progress?\n- What tools or routines help my students assess their own learning and set goals?\n\n### How Principals Bring This Strategy to Life\n- Model self-assessment practices during staff meetings and PD (e.g., use of self-reflection tools, feedback protocols)\n- Encourage the use of success criteria and student reflection across content areas\n- Include student voice and reflection evidence as part of classroom walkthrough look-fors\n- Support professional learning around metacognition, goal setting, and student agency as part of MTSS Tier 1 instruction\n\n### How the District Supports Implementation\n- Provide professional development on student self-assessment strategies that connect to formative feedback, UDL, and goal-setting frameworks\n- Ensure curriculum materials and assessments include reflection prompts, progress monitoring tools, and rubric-based feedback structures\n- Highlight and share models of student self-assessment practices across schools and grade bands\n- Support development of digital tools (e.g., student dashboards, goal trackers, e-portfolios) that increase student ownership and visibility of progress\n\n---\n\n## Practice 5: Collaborative Professional Learning\n\n**Instructional Essential:** Continuous Growth\n\n**Core Outcome:** Educators engage in ongoing, collaborative learning that leads to improved instruction, deeper reflection, and increased student achievement.\n\n**Definition:** Collaborative professional learning involves educators working togetherâ€”regularly and intentionallyâ€”to reflect on their practice, analyze student work, and apply new strategies that lead to improved outcomes for all learners. This work is grounded in shared responsibility, data-informed dialogue, and collective efficacy.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Use Student Work as the Anchor** | Teachers collaboratively examine student work or data to identify trends, assess rigor, and align expectations. | In a 2nd-grade PLC, teachers bring writing samples and use a common rubric to calibrate scoring and plan next steps for conferring. |\n| **Engage in Reflective Practice** | Teachers reflect on their instructional movesâ€”individually and collectivelyâ€”to refine practice. | After a co-taught lesson, two 8th-grade teachers debrief using a reflection protocol focused on student engagement and questioning techniques. |\n| **Apply New Learning to Practice** | Teachers commit to implementing new strategies learned in PLCs, coaching sessions, or PDâ€”and report back on results. | Teachers commit to implementing new strategies learned in PLCs, coaching sessions, or PDâ€”and report back on results. |\n\n### Indicators of Success\n- Collaborative time is grounded in student learningâ€”not logistics or administrative tasks\n- Teachers bring evidence (student work, data, planning artifacts) and engage in purposeful analysis\n- Teams reflect on the implementation of new strategies and adjust based on what works\n- Teachers feel a sense of shared responsibility for all studentsâ€”not just their own\n- Instruction across classrooms becomes more coherent and aligned to grade-level expectations\n\n### Educator Reflection Questions\n- Are we using collaborative time to focus on student learning or just logistics?\n- What evidence are we using to drive our conversations and decisions?\n- How are we measuring whether our shared practices are improving student outcomes?\n\n### How Principals Bring This Strategy to Life\n- Protect time for regular PLCs, learning walks, and professional inquiryâ€”aligned to instructional priorities\n- Model the use of protocols and reflection in staff learning (e.g., student work analysis, lesson study, or \"what worked/why\" debriefs)\n- Support team goal-setting focused on student learning (e.g., SMART goals or improvement cycles)\n- Monitor implementation of new strategies and celebrate visible impact on student outcomes\n\n### How the District Supports Implementation\n- Provide coaching and facilitation training for teacher leaders and principals to lead high-quality collaborative learning\n- Develop shared protocols, templates, and norms for PLCs and collaborative data use\n- Offer cross-site collaboration opportunities (e.g., grade-band learning labs, vertical alignment teams, teacher cohorts)\n- Highlight and scale effective collaboration models through site visits, professional learning days, or instructional rounds\n\n---\n\n## Practice 6: Actionable Observation & Feedback Cycles\n\n**Instructional Essential:** Continuous Growth\n\n**Core Outcome:** Educators receive timely, targeted feedback based on evidence of practice, which leads to reflection, professional learning, and improved student outcomes.\n\n**Definition:** Actionable observation and feedback cycles provide teachers with focused, non-evaluative input on instructional practices. When grounded in evidence and followed by timely reflection and goal setting, these cycles foster growth, innovation, and alignment to instructional priorities.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Anchor Feedback to Evidence and District Priorities** | Observers focus feedback on specific look-fors aligned to the district's instructional essentials or school goals. | During a classroom visit, the principal documents student interactions and later shares feedback focused on inclusive questioning and academic discourse, aligned to Rigor & Inclusion. |\n| **Use a Short-Cycle, Non-Evaluative Model** | Frequent, informal observations paired with timely feedback foster trust and encourage continuous growth. | An instructional coach visits a 5th-grade classroom weekly for 10-minute pop-ins, leaving short notes focused on a goal the teacher selected. They debrief briefly each Friday. |\n| **Include Time for Reflection and Two-Way Dialogue** | Feedback becomes more impactful when paired with conversation, goal setting, and teacher voice. | After a peer observation, two high school science teachers meet to reflect using a plus/delta protocol and plan how to refine their lab facilitation strategies. |\n\n### Indicators of Success\n- Feedback is timely (within 24â€“48 hours) and aligned to instructional goals or school-wide practices\n- Teachers can articulate a clear focus area or goal they're working on\n- Observation and feedback cycles are seen as developmental, not evaluative\n- Teachers apply feedback in visible, actionable ways that impact instruction\n- Feedback is part of an ongoing cycle, not a one-time event\n\n### Educator Reflection Questions\n- What instructional goal am I currently working on, and how do I know if I'm making progress?\n- How has recent feedback informed changes in my practice?\n- What kind of feedback is most helpful to meâ€”and how can I ask for it?\n\n### How Principals Bring This Strategy to Life\n- Conduct regular, brief instructional walkthroughs tied to instructional essentials (e.g., scaffolding, academic language, engagement)\n- Use clear look-for tools or success criteria to anchor evidence and feedback\n- Hold short debrief conversations focused on reflection, refinement, and celebrating growth\n- Use feedback trends to identify needs for whole-staff PD or targeted coaching support\n\n### How the District Supports Implementation\n- Provide observation and feedback training for principals, coaches, and teacher leaders focused on evidence-based, strengths-oriented practice\n- Develop shared look-for tools aligned to the instructional essentials that are used across schools\n- Create systems for feedback calibration (e.g., co-observations, inter-rater reliability sessions, feedback protocol training)\n- Celebrate and scale effective cycles by highlighting examples from schools using observation feedback as a tool for growth\n\n---\n\n## Practice 7: Real-World Connections\n\n**Instructional Essential:** Innovation\n\n**Core Outcome:** Students engage deeply with learning that is meaningful, relevant, and connected to the real worldâ€”preparing them to apply knowledge beyond the classroom.\n\n**Definition:** Making real-world connections involves designing learning experiences that reflect authentic problems, scenarios, or applications students may encounter in their lives, communities, or future careers. These connections foster engagement, critical thinking, and purpose.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Frame Learning Around Authentic Problems or Contexts** | Anchor instruction in real-world scenarios that mirror issues students care about or may encounter beyond school. | A 7th-grade science teacher launches a unit on water pollution by asking, \"How clean is the water in our local streams?\" Students test water samples and report findings. |\n| **Incorporate Student Voice and Choice** | Invite students to co-construct learning experiences that connect to their interests, identities, or future goals. | In a high school English class, students choose between writing a letter to a policymaker, creating a podcast, or designing a visual PSA to share their perspective on a current social issue. |\n| **Engage Community, Career, or Cultural Connections** | Connect learning to professionals, family knowledge, or community experiences to enhance relevance and application. | An elementary teacher invites local architects to share blueprints with students designing a model city during a geometry unit. Students present their work at a community showcase. |\n\n### Indicators of Success\n- Students can clearly articulate how their learning connects to the world beyond school\n- Tasks include elements of student voice, purpose, and choice\n- Guest speakers, local contexts, or community issues are integrated into instruction\n- Student products have audiences beyond the teacher (e.g., presentations, exhibits, publications)\n- Engagement increases as students see relevance and value in what they're learning\n\n### Educator Reflection Questions\n- What's the purpose behind this learning, and do my students understand it?\n- How can I connect this content to something relevant or important in my students' lives?\n- What voices, resources, or perspectives outside the classroom could enhance this experience?\n\n### How Principals Bring This Strategy to Life\n- Celebrate and share examples of real-world learning across classrooms\n- Encourage interdisciplinary collaboration around common authentic problems or themes\n- Support flexible use of time, space, or resources to allow for extended, student-driven projects\n- Build partnerships with families, local businesses, and organizations to support instruction with real-world perspectives\n\n### How the District Supports Implementation\n- Develop districtwide partnerships with local industry, civic leaders, and cultural organizations to support real-world learning\n- Provide PD on project-based learning, inquiry, and career-connected instruction with classroom examples\n- Ensure curriculum adoption and instructional materials include relevance, application, and opportunities for transfer\n- Highlight and scale models of authentic, real-world learning from across the district through showcases, newsletters, or collaborative planning\n\n---\n\n## Practice 8: Intentional Use of Technology\n\n**Instructional Essential:** Innovation\n\n**Core Outcome:** Educators integrate technology in purposeful, learner-centered ways that deepen understanding, personalize learning, and expand access to real-world experiences.\n\n**Definition:** Intentional technology use means selecting tools and platforms that meaningfully support instructional goals, not just digitize traditional tasks. Technology should enhanceâ€”not replaceâ€”strong instruction by promoting engagement, collaboration, creativity, accessibility, and student agency.\n\n### What This Looks Like in Practice\n\n| Practice | Description | Classroom Example |\n|----------|-------------|-------------------|\n| **Use Technology to Personalize Learning** | Offer students multiple pathways and tools to access content, practice skills, or demonstrate understanding. | In a 4th-grade classroom, students choose from digital read-alouds, interactive vocabulary games, or voice-recorded responses to demonstrate comprehension. |\n| **Leverage Tools for Collaboration and Creation** | Use platforms that allow students to co-create, provide peer feedback, and publish work for real audiences. | Middle school students collaborate in Google Slides to design a virtual exhibit on civil rights movements, embedding video clips, photos, and narration. |\n| **Increase Accessibility and Engagement Through Tech Features** | Use built-in supports (e.g., text-to-speech, closed captions, audio tools) to ensure every student can access learning. | A high school history teacher shares articles in multiple reading levels using immersive reader tools. Multilingual learners highlight unfamiliar words and translate them in real time. |\n\n### Indicators of Success\n- Technology use is clearly aligned to instructional goalsâ€”not used for its own sake\n- Students use digital tools to explore, create, and collaborateâ€”not just consume\n- Tools are selected to enhance accessibility, personalize learning, or offer flexible expression\n- Students can explain how the technology supports their learning\n- Classrooms reflect a blend of tech-enhanced and hands-on learningâ€”technology is a tool, not the focus\n\n### Educator Reflection Questions\n- Is this technology helping students think more deeply, engage more meaningfully, or access learning more easily?\n- Are students using this tool in ways that promote creativity, collaboration, or personalization?\n- How does this tech tool fit into the broader goals of my lesson or unit?\n\n### How Principals Bring This Strategy to Life\n- Model tech-enhanced professional learning (e.g., use of interactive platforms during PD or meetings)\n- Highlight classroom examples of meaningful technology integration in newsletters, walkthroughs, or staff meetings\n- Support experimentation by protecting time for teachers to explore new tools and reflect on their impact\n- Ensure infrastructure and access (e.g., working devices, bandwidth, equitable access across classrooms)\n\n### How the District Supports Implementation\n- Vet and provide high-quality digital tools and platforms aligned to curriculum and student needs\n- Offer tiered PD for educators at various levels of tech integration comfort (e.g., intro, intermediate, and advanced use)\n- Analyze digital access and usage trends to address equity, impact, and professional learning needs\n\n---\n\n## Role-Based Responsibilities\n\n### Central Office Administrators\n\n**Rigor & Inclusion:**\n- Provide training and resources for building leaders and educators on inclusive instructional strategies that foster academic excellence and equity\n- Guide the adoption and support of high-quality, standards-based curricular materials that are culturally responsive and align with state and district goals\n- Support principals in ensuring all schools implement rigorous and accessible instruction\n- Build partnerships with community organizations to support professional learning and transparency\n\n**Data-Driven Decisions:**\n- Facilitate professional learning on effective data use for improvement that ensures all students grow and achieve at high levels\n- Create district-wide systems for collecting, analyzing, and sharing data to monitor student achievement and more effectively allocate resources\n- Lead efforts to identify systemic barriers and close achievement gaps across and within schools\n- Ensure transparency by sharing district-wide performance metrics with families, community organizations, and industry partners\n\n**Continuous Growth:**\n- Seek feedback from educators, families, and students and engage in reflective practices to refine district priorities and practices\n- Design and implement professional learning that aligns with strategic goals and support educators in improving student outcomes\n- Allocate resources equitably to ensure that staff have access to tools, training, and time for professional growth and collaboration that will directly impact student learning and improve efficiency\n- Promote a culture of continuous learning by recognizing and scaling effective practices across the district\n\n**Innovation:**\n- Champion pilot programs that explore innovative instructional practices, technologies, and curriculum designs to improve student outcomes\n- Support and provide examples of educators integrating real-world learning opportunities when appropriate to align with district goals\n- Collaborate with families, community organizations, and industry partners to design initiatives that prepare students for future academic and career success\n- Evaluate the impact of innovations and ensure successful initiatives are scaled district-wide\n\n### Principals\n\n**Rigor & Inclusion:**\n- Lead professional development that equips educators with strategies to create culturally responsive and inclusive learning environments that affirm student identities and support diverse learning needs\n- Ensure systems and schedules that support the implementation of high-quality, standards-based curriculum with fidelity, to support alignment with grade-level expectations across classrooms\n- Observe instruction and provide actionable feedback on practices to ensure lessons are rigorous, relevant, and accessible to all students\n- Promote and model the use of differentiated instruction and scaffolding to challenge and support every learner, fostering equity in achievement outcomes\n\n**Data-Driven Decisions:**\n- Monitor performance trends at individual, group, and school-wide levels to identify strengths, gaps, and opportunities for targeted interventions or extensions\n- Facilitate regular collaboration where educators analyze formative and summative assessment data to make informed instructional adjustments and support school improvement\n- Support the use of data tools to enhance the understanding of student learning progress and outcomes\n- Ensure transparency by sharing insights with staff, families, and stakeholders to focus on growth and equity\n\n**Continuous Growth:**\n- Model professional curiosity and growth by seeking feedback from staff, students, and families to refine leadership strategies and school priorities\n- Establish a culture of professional learning by providing opportunities for educators to engage in reflective practices, peer observations, and coaching sessions\n- Support educators in creating actionable professional growth plans aligned with both individual goals and the broader district vision\n- Recognize and celebrate instructional successes and milestones to inspire continued improvement and build a positive school climate\n\n**Innovation:**\n- Empower educators to take professional risks to integrate innovative teaching practices and technologies that personalize learning and promote critical thinking, creativity, and problem-solving\n- Provide resources, training, and time for educators to explore and implement new instructional strategies and tools\n- Champion and support interdisciplinary collaboration and experiences that connect academic content to real-world contexts\n- Lead the adoption of future-focused initiatives to ensure students are prepared for evolving academic and career landscapes\n\n### Teachers\n\n**Rigor & Inclusion:**\n- Deliver high-quality, standards-based instruction using guaranteed and viable curriculum with fidelity that aligns with grade-level expectations and challenges all students to think critically and deeply engage with content\n- Create responsive, inclusive, and safe learning environments that affirm student identities and incorporate varied perspectives to make learning relevant and meaningful\n- Employ scaffolding techniques, flexible grouping, and differentiation strategies to ensure both accessibility and challenge for all learners\n- Promote student agency through authentic inquiry-based tasks that encourage collaboration, creativity, and problem-solving in real-world contexts\n\n**Data-Driven Decisions:**\n- Regularly collect, analyze, and respond to formative and summative assessment data to inform and adapt instruction to meet diverse student needs\n- Use data to identify trends, track individual and group progress, and target interventions or extensions for students at various levels of mastery\n- Involve students in self-assessment and reflection to build their ability to monitor their own progress and set meaningful learning goals\n- Collaborate with colleagues to review data and develop actionable strategies to enhance collective student outcomes and promote equity\n\n**Continuous Growth:**\n- Engage in ongoing professional learning, including reflective practices and collegial discussions, to refine instructional strategies and address areas of growth\n- Incorporate feedback from students, families, and peers to continually improve lesson effectiveness and classroom culture\n- Model curiosity and professional growth by adapting teaching practices based on emerging evidence in education, ensuring alignment with district goals and priorities\n- Foster a classroom environment that encourages resilience, curiosity, and a love for lifelong learning in students\n\n**Innovation:**\n- Leverage advanced technologies to personalize learning, provide diverse methods of engagement, and facilitate exploration of complex ideas\n- Develop and implement innovative instructional practices that address barriers to learning and support diverse pathways to achieving grade-level proficiency\n- Collaborate with students to co-design learning experiences that integrate interdisciplinary connections and foster a sense of ownership over their education\n- Explore new methods and tools that enhance critical thinking, creativity, and real-world application, ensuring that students are prepared for the future\n\n---\n\n## Why This Work Matters\n\nThe Instructional Essentials were developed with feedback from educators, principals, and central office administrators. They reflect what we value most: instruction that is inclusive, evidence-informed, and future-focused. They also serve as the district-wide foundation for:\n\n- Professional learning and coaching\n- Curriculum adoption and implementation\n- Instructional walkthroughs and feedback\n- School improvement planning\n- Leadership development\n\nBy aligning our work to these Essentials, we create a stronger, more coherent experience for every student and every educator in our district.\n\n---\n\n## How to Use This Guide\n\nThis document is your roadmap to putting the Instructional Essentials into practice. It includes:\n\n- High-leverage Tier 1 instructional strategies connected to each essential\n- Clear examples to support implementation in classrooms and schools\n- A shared language that supports collaboration and reflection across roles\n\nWhether you are a teacher designing a lesson, a principal supporting a PLC, or a district leader planning professional learning, this guide will help you bring the Instructional Essentials to life.\n",
        "skills/redrover-manager/SKILL.md": "---\nname: redrover-manager\ndescription: Access Red Rover absence management data for PSD staff attendance tracking and reporting\ntriggers:\n  - \"redrover\"\n  - \"red rover\"\n  - \"absences\"\n  - \"staff attendance\"\n  - \"teacher absences\"\n  - \"substitute\"\n  - \"sub coverage\"\n  - \"unfilled positions\"\nallowed-tools: Read, Bash\nversion: 0.1.0\n---\n\n# Red Rover Manager Skill\n\n## Overview\n\nRed Rover is an absence management system used by PSD to track staff absences and substitute coverage. This skill provides access to absence data for reporting and analysis.\n\n## Configuration\n\n- **Base URL**: `https://connect.redroverk12.com/`\n- **Org ID**: 1305 (Peninsula School District)\n- **Authentication**: HTTP Basic Auth + API Key header\n- **Credentials**: Stored in 1Password as \"RedRover\"\n- **Rate Limit**: 100 requests/minute\n\n## Authentication\n\nAll requests require both:\n1. `Authorization: Basic [base64(username:password)]` header\n2. `apiKey: [key]` header (obtained from organization endpoint)\n\nThe organization endpoint returns a dynamic API key that should be used for subsequent requests.\n\n## Scripts\n\nAll scripts are in `skills/redrover-manager/scripts/`. Run with `bun`:\n\n### get_organization.js\nFetch organization info and validate credentials.\n\n```bash\nbun get_organization.js\n```\n\nReturns: Organization ID, name, and API key.\n\n### get_absences.js\nFetch raw absence/vacancy data for a date range.\n\n```bash\nbun get_absences.js <start_date> <end_date> [filled|unfilled|all]\n```\n\nExamples:\n```bash\nbun get_absences.js 2026-01-20 2026-01-27\nbun get_absences.js 2026-01-27 2026-01-27 unfilled\n```\n\n**Note:** Max date range is 31 days.\n\n### get_daily_summary.js\nGet daily absence summary (all staff) with counts by school, reason, and fill status.\n\n```bash\nbun get_daily_summary.js [date]\n```\n\nDate options:\n- `today` (default)\n- `yesterday`\n- Day names: `monday`, `tuesday`, etc.\n- `last wednesday`, `last friday`\n- Specific date: `2026-01-27`\n\n### get_certificated_summary.js\nGet daily absence summary for **certificated staff only** (Teachers, ESA, CTE).\n\n```bash\nbun get_certificated_summary.js [date]\n```\n\nSame date options as above. This is the most commonly requested report - focuses on classroom coverage.\n\n### get_weekly_summary.js\nGet weekly trends and patterns.\n\n```bash\nbun get_weekly_summary.js [weeks_ago]\n```\n\nOptions:\n- `0` = this week (default)\n- `1` = last week\n- `2` = two weeks ago\n\n## API Endpoints Used\n\n### Organization\n```\nGET /api/v1/organization\nSecurity: Basic Auth\nReturns: Array with org info including dynamic apiKey\n```\n\n### Vacancy Details (Primary data endpoint)\n```\nGET /api/v1/{orgId}/Vacancy/details\nSecurity: Basic Auth + apiKey header\nQuery Params:\n  - fromDate: datetime (required)\n  - toDate: datetime (required)\n  - filled: boolean (optional - filter filled/unfilled)\n  - pageSize: int (default 10, max 100)\n  - page: int (default 1)\nReturns: Paginated vacancy/absence data\n```\n\n## Common Workflows\n\n### \"How many absences yesterday?\"\n```bash\nbun get_daily_summary.js yesterday\n```\n\n### \"Show unfilled positions for today\"\n```bash\nbun get_daily_summary.js today\n# Look at unfilled_positions array in output\n```\n\n### \"Weekly absence trends\"\n```bash\nbun get_weekly_summary.js\n```\n\n### \"Last week's summary\"\n```bash\nbun get_weekly_summary.js 1\n```\n\n## Output Format\n\n### Daily Summary\n```json\n{\n  \"date\": \"yesterday\",\n  \"date_iso\": \"2026-01-26\",\n  \"total_absences\": 110,\n  \"filled\": 75,\n  \"unfilled\": 35,\n  \"fill_rate\": 68,\n  \"by_school\": {\n    \"PENINSULA HIGH SCHOOL\": 13,\n    \"GIG HARBOR HIGH SCHOOL\": 10\n  },\n  \"by_reason\": {\n    \"SICK LV > 1 SICK\": 54,\n    \"OTH PAID LV > PERSONAL\": 15\n  },\n  \"by_position_type\": {\n    \"Teacher\": 55,\n    \"Paraprofessional\": 36\n  },\n  \"unfilled_positions\": [\n    {\n      \"school\": \"PENINSULA HIGH SCHOOL\",\n      \"position\": \"MATH\",\n      \"employee\": \"JANE DOE\",\n      \"start\": \"2026-01-26T07:00:00\",\n      \"end\": \"2026-01-26T14:30:00\"\n    }\n  ]\n}\n```\n\n### Weekly Summary\n```json\n{\n  \"week\": \"Jan 20-24, 2026\",\n  \"week_label\": \"this week\",\n  \"total_absences\": 450,\n  \"daily_average\": 90,\n  \"filled\": 380,\n  \"unfilled\": 70,\n  \"fill_rate\": 84,\n  \"peak_day\": { \"day\": \"Monday\", \"count\": 120 },\n  \"slow_day\": { \"day\": \"Friday\", \"count\": 65 },\n  \"by_day\": {\n    \"Monday\": 120,\n    \"Tuesday\": 95,\n    \"Wednesday\": 90,\n    \"Thursday\": 80,\n    \"Friday\": 65\n  },\n  \"trends\": [\n    { \"type\": \"info\", \"message\": \"Monday had 120 absences (50%+ above average)\" }\n  ]\n}\n```\n\n## Data Fields\n\nKey fields in vacancy data:\n- `absenceDetail.employee` - Employee who is absent\n- `absenceDetail.reasons[0].name` - Reason category (SICK, PERSONAL, etc.)\n- `location.name` - School name\n- `position.title` - Position title\n- `position.positionType.name` - Position category (Teacher, Paraprofessional, etc.)\n- `substitute` - If present, position is filled\n- `start` / `end` - Absence time range\n- `needsReplacement` - Whether sub is required\n\n## Schools in PSD\n\nCommon school names in data:\n- PENINSULA HIGH SCHOOL\n- GIG HARBOR HIGH SCHOOL\n- HENDERSON BAY HIGH SCHOOL\n- GOODMAN MIDDLE SCHOOL\n- HARBOR RIDGE MIDDLE SCHOOL\n- KEY PENINSULA MIDDLE SCHOOL\n- KOPACHUCK MIDDLE SCHOOL\n- ARTONDALE ELEMENTARY SCHOOL\n- DISCOVERY ELEMENTARY SCHOOL\n- EVERGREEN ELEMENTARY SCHOOL\n- HARBOR HEIGHTS ELEMENTARY SCHOOL\n- MINTER CREEK ELEMENTARY SCHOOL\n- PIONEER ELEMENTARY SCHOOL\n- PURDY ELEMENTARY SCHOOL\n- SWIFT WATER ELEMENTARY SCHOOL\n- VAUGHN ELEMENTARY SCHOOL\n- VOYAGER ELEMENTARY SCHOOL\n",
        "skills/research/RESEARCH_ENHANCEMENT.md": "# Research Skill Enhancement - Requirements\n\n## Core Principles\n\n1. **Discovery-driven, not list-driven** - Find best sources wherever they are\n2. **Context-aware** - Grounded in user's domain preferences\n3. **Finds unknowns** - Value is in discovering what user doesn't know\n4. **No time limits** - Can run 30 min to 3 hours\n5. **Exhaustive** - Don't stop until topic is exhausted\n\n## Domain Contexts\n\n### What Context Provides\n- **Relevance filtering** - what matters to this user\n- **Constraint awareness** - their specific resources/limitations\n- **Optimization targets** - what to maximize for them\n\n### Domain: Travel\n- Loyalty: Alaska MVP Gold 75K, Marriott Titanium Elite\n- Points: Current balances (fetch via browser-control)\n- Credit cards: Alaska card, Marriott Amex, Chase Sapphire Preferred\n- Memberships: Epic Pass\n- Preferences: \"Luxury at rock-bottom prices\", never book only research\n\n### Domain: Shopping\n- Quality standards\n- Budget ranges\n- Brand preferences\n\n### Domain: Work/Education\n- PSD context (CIO role)\n- UDL expertise\n- Edtech landscape\n- District priorities\n\n### Domain: AI/Coding\n- Tech stack preferences\n- Languages/frameworks\n- Architecture patterns\n\n### Domain: Consulting\n- Service offerings\n- Client contexts\n\n## Research Engine Architecture\n\n### Phase 1: Query Understanding\n- Detect domain from query\n- Load relevant context\n- Decompose into sub-questions (5-10 angles)\n- Identify what types of sources needed (academic, forum, video, etc.)\n\n### Phase 2: Parallel Multi-Source Discovery\n- Launch multiple search strategies simultaneously:\n  - Multiple search engines (Google, Bing, DuckDuckGo)\n  - Multiple query formulations\n  - Different source types (articles, forums, videos, podcasts)\n- Use multiple LLMs for different perspectives:\n  - Perplexity: Current web info with citations\n  - Gemini: Multi-perspective synthesis\n  - OpenAI: Structured analysis\n  - Claude: Deep reasoning\n\n### Phase 3: Source Evaluation & Expansion\n- Evaluate each source for:\n  - Credibility (author expertise, publication reputation)\n  - Recency (when published/updated)\n  - Depth (surface vs comprehensive)\n  - Citations (does it cite others? is it cited?)\n- Follow promising leads:\n  - Sources referenced by good sources\n  - Authors who appear multiple times\n  - Cross-referenced claims\n\n### Phase 4: Deep Scraping\n- Don't stop at first page of results\n- Go 5-10 pages deep on good queries\n- Use browser-control for:\n  - JS-rendered content (Reddit, forums)\n  - Authenticated pages (user accounts)\n  - Sites that block scrapers\n- Follow internal links on valuable sources\n\n### Phase 5: Multimedia Discovery\n- YouTube videos\n- TikTok content\n- Podcasts (Spotify, Apple)\n- Not just text articles\n\n### Phase 6: Synthesis\n- Organize by theme/question\n- Every claim cited\n- Note consensus vs disagreement\n- Include multimedia resources\n- Provide actionable recommendations\n- Flag what's still uncertain\n\n## Output Format\n\n```markdown\n## Research: [Topic]\n\n### Context Applied\n- [Domain context that was loaded]\n- [Dynamic data fetched - e.g., current point balances]\n\n### Executive Summary\n[2-3 paragraph overview of key findings]\n\n### Detailed Findings\n\n#### [Sub-topic 1]\n[Deep analysis with inline citations]\n\n#### [Sub-topic 2]\n[Deep analysis with inline citations]\n\n### Multimedia Resources\n- [Video: Title](url) - description\n- [Podcast: Title](url) - description\n- [TikTok: @user](url) - description\n\n### Recommendations\n1. [Actionable recommendation based on user's context]\n2. [Another recommendation]\n\n### What I Discovered You Might Not Know\n- [Surprising finding 1]\n- [Surprising finding 2]\n\n### Confidence Assessment\n- High confidence: [topics]\n- Needs verification: [topics]\n- Conflicting information: [topics]\n\n### All Sources\n[Complete list of every URL referenced]\n```\n\n## Technical Implementation\n\n### Files to Create/Modify\n- [ ] Update preferences.json with domain contexts\n- [ ] Create domain context loader\n- [ ] Create multi-LLM research orchestrator\n- [ ] Create source evaluator\n- [ ] Create deep scraper (uses browser-control)\n- [ ] Create multimedia searcher\n- [ ] Create synthesis engine\n- [ ] Update SKILL.md with new architecture\n\n### API Keys Needed\n- PERPLEXITY_API_KEY\n- GEMINI_API_KEY\n- OPENAI_API_KEY\n- (Claude runs natively)\n\n### Browser-Control Integration\n- Fetch current balances (Marriott, Alaska, Chase)\n- Scrape full forum threads\n- Access authenticated content\n- Handle JS-rendered sites\n\n## Success Criteria\n\n1. Can run a travel research query and get:\n   - Current point balances fetched\n   - Transfer bonus opportunities identified\n   - 5-6 hotel options with points AND cash prices\n   - Flight options with miles needed\n   - Deep user reviews from forums\n   - Video content discovered\n   - Optimization recommendations\n\n2. Report takes 30-60 minutes to generate (not 5 minutes)\n\n3. Sources include things user didn't know existed\n\n4. Every claim is cited\n\n5. Recommendations are specific to user's context\n",
        "skills/research/SKILL.md": "---\nname: research\ndescription: Multi-LLM parallel research with query decomposition and synthesis\ntriggers:\n  - \"research\"\n  - \"find out about\"\n  - \"investigate\"\n  - \"look into\"\n  - \"what do you know about\"\n  - \"deep dive\"\n  - \"analyze\"\n  - \"compare\"\n  - \"find information\"\n  - \"learn about\"\nallowed-tools: Read, Bash, WebSearch, WebFetch, Task\nversion: 0.1.0\n---\n\n# Research Skill\n\nDiscovery-driven, exhaustive research using parallel LLM agents for comprehensive, current information gathering.\n\n## Core Principles\n\n**CRITICAL:** These principles define how research works.\n\n### 1. Discovery-Driven, Not List-Driven\n- Find the BEST sources, not just known sources\n- Don't limit to predefined source lists\n- The internet is huge - explore it\n- Value is in finding what user doesn't already know\n\n### 2. Context-Aware\n- Load user's domain context from preferences\n- Research is RELEVANT to their specific situation\n- But context doesn't limit WHERE you search\n\n### 3. Exhaustive\n- No time limits - can take 30 minutes to 3 hours\n- Don't stop at first page of results\n- Keep going until topic is exhausted\n- Follow promising links deeper\n\n### 4. Multimedia\n- Not just text articles\n- Videos (YouTube), TikTok, podcasts\n- Real user experiences from forums\n\n### 5. Highly Cited\n- Every claim must have a citation\n- Multiple sources for important claims\n- Note when sources conflict\n\n### 6. Clarifying Questions First\nBefore diving into research, ask deep, thought-provoking questions to understand:\n- What's the actual goal? (not just the surface request)\n- What constraints exist? (budget, time, preferences)\n- What would success look like?\n- What have they already tried or considered?\n- Are there hidden requirements?\n\nExample: \"Research Japan ski trip\" should prompt:\n- \"What skill level are you and Carrie? Blue runs, black diamonds?\"\n- \"Is aprÃ¨s-ski culture important, or pure skiing focus?\"\n- \"Do you need English-friendly areas, or comfortable with Japanese-only?\"\n- \"Any specific dates that are fixed vs flexible?\"\n- \"Besides skiing, anything else you want to do (onsen, food tours)?\"\n\n## Domain Context Loading\n\nResearch automatically loads relevant context from preferences based on detected domain.\n\n### How It Works\n1. Detect domain from query (travel, shopping, work, etc.)\n2. Load `research_domains.[domain]` from preferences\n3. Load referenced context keys\n4. Fetch any dynamic data (point balances, etc.)\n5. Apply domain-specific research patterns\n\n### Available Domains\n- **travel** - Loads loyalty programs, credit cards, ski passes, fetches point balances\n- **work_education** - Loads PSD context, CoSN membership, K-12 patterns\n- **shopping** - Price comparison, quality patterns\n- **ai_coding** - Tech stack, GitHub/HN patterns\n- **consulting** - Strategic recommendations patterns\n\n### Dynamic Data Fetching\nFor travel research, use browser-control to fetch current:\n- Marriott points balance\n- Alaska miles balance\n- Chase points balance\n- Active transfer bonus promotions\n\n## When to Activate\n\nUse this skill when user needs:\n- Current information (credit card perks, travel deals, policies)\n- Multi-perspective analysis (comparing options)\n- Deep investigation of complex topics\n- Fact-checking or verification\n- Market research or trend analysis\n\n## Travel Research Requirements\n\n**CRITICAL:** Travel research MUST include user-generated content:\n\n### Required Sections for Travel\n1. **User Reviews** - TripAdvisor, FlyerTalk, Reddit feedback\n2. **\"What I Wish I Knew\"** - Common mistakes and gotchas\n3. **Real Experiences** - Actual trip reports from similar travelers\n4. **Restaurant/Hotel Reviews** - With prices and quality feedback\n5. **Transportation Tips** - Real user experiences with logistics\n\n### Sources to Search\n- TripAdvisor reviews and forums\n- FlyerTalk (for points/miles properties)\n- Reddit (r/JapanTravel, r/skiing, r/churning, etc.)\n- Ski forums and trip reports\n- Points/miles blogs with personal reviews\n\n### Browser Access for Deep Research\n\nUse the **browser-control** skill to scrape full threads and reviews that require:\n- JavaScript rendering (Reddit, modern forums)\n- Authentication (FlyerTalk, logged-in content)\n- Dynamic content loading\n\n**Prerequisites:**\n1. Brave must be running: `cd skills/browser-control && ./scripts/launch-chrome.sh`\n2. User must be logged into relevant sites in the Brave Geoffrey profile\n\n**Available Scripts** (in `skills/browser-control/scripts/`):\n\n```bash\n# Navigate and get page content\nbun navigate.js \"https://www.reddit.com/r/JapanTravel/comments/...\"\n\n# Extract specific content\nbun extract.js \"https://flyertalk.com/forum/thread\" \".post-content\" --all\n\n# Search travel sites directly\nbun search.js reddit \"Hakuba ski resort tips\"\nbun search.js flyertalk \"Marriott Bonvoy Japan redemption\"\n\n# Capture current page without navigating\nbun capture.js /tmp/screenshot.png\n```\n\n**When to Use Browser Control:**\n- Reddit threads (full comments, not just preview)\n- FlyerTalk forum posts (complete thread content)\n- Hotel/airline pages requiring login (availability, points pricing)\n- Sites that block web scraping but allow browsers\n\n### Research Tool Decision Tree\n\n**Start with WebSearch/WebFetch** for:\n- General facts and information\n- Blog posts and news articles\n- Static content that's publicly accessible\n- Quick lookups\n\n**Escalate to browser-control** when:\n- WebFetch returns truncated/incomplete content (JS-rendered sites)\n- Need authenticated access (user's Marriott/Alaska account)\n- Need real-time prices or availability\n- Forum threads show only previews\n- Site blocks scraping but allows browsers\n\n**Example Flow:**\n1. User asks: \"What do people say about Westin Rusutsu?\"\n2. Start with `WebSearch` for blog reviews\n3. Find promising Reddit/FlyerTalk threads\n4. Use `browser-control` to get full thread content\n5. Synthesize findings with citations\n\n## Citation Requirements\n\n**CRITICAL:** All research output MUST include citations.\n\n### Inline Citations\nEvery factual claim must link to its source:\n- \"The Westin Rusutsu costs 70,000 points peak ([Point Hacks](url))\"\n- \"Shinkansen to Nagano takes 1.5 hours ([Corritrip](url))\"\n\n### Source Section\nEvery research report must end with a complete \"Sources\" section listing all URLs used.\n\n### Why This Matters\n- User needs to verify information\n- Information changes frequently (credit card perks, prices)\n- Establishes credibility\n- Allows deeper exploration\n\n### No Citation = Don't Include\nIf you can't cite a source for a claim, either:\n1. Find a source\n2. Mark it as \"unverified\"\n3. Don't include it\n\n## Architecture\n\n### Query Decomposition\nBreak complex questions into 3-7 sub-queries covering different angles:\n- Factual/definitional\n- Comparative\n- Current state\n- Expert opinions\n- User experiences\n- Edge cases\n\n### Parallel Agent Execution\nLaunch multiple researcher agents simultaneously:\n- **Perplexity** - Best for current web information, citations\n- **Gemini** - Good for multi-perspective synthesis\n- **OpenAI** - Strong structured analysis\n- **Claude** - Deep reasoning, nuanced analysis\n\n### Result Synthesis\n- Collect all findings\n- Identify consensus vs conflicts\n- Score confidence per finding\n- Cite sources\n- Provide actionable recommendations\n\n## Available Agents\n\nAgents are in `./agents/` directory:\n\n| Agent | Best For | API Required |\n|-------|----------|--------------|\n| `perplexity-researcher.md` | Current web info, citations | PERPLEXITY_API_KEY |\n| `gemini-researcher.md` | Multi-angle comparison | GEMINI_API_KEY |\n| `openai-researcher.md` | Structured analysis | OPENAI_API_KEY |\n| `claude-researcher.md` | Deep reasoning | Native (Claude Code) |\n\n## Usage\n\n### Basic Research\n```\nUser: \"Research the best ways to maximize Alaska Airlines miles for Japan flights\"\n\nGeoffrey:\n1. Decomposes into sub-queries:\n   - Current Alaska redemption rates to Japan\n   - Partner airline options (JAL, etc.)\n   - Sweet spots and award availability patterns\n   - Credit card earning strategies\n   - Recent devaluations or changes\n\n2. Launches 4 agents in parallel\n\n3. Synthesizes findings with confidence scores\n```\n\n### Workflow Command\nUse `/conduct-research [topic]` to trigger full parallel research workflow.\n\n## Output Format\n\n```markdown\n## Research: [Topic]\n\n### Context Applied\n- Domain: [travel/shopping/work/etc]\n- User context loaded: [what was loaded from preferences]\n- Dynamic data fetched: [current point balances, etc]\n\n### Executive Summary\n[2-3 paragraph overview of key findings and main recommendation]\n\n### Detailed Findings\n\n#### Sub-topic 1\nInformation with citations throughout. For example, \"The Westin Rusutsu\ncosts 70,000 points peak\" ([Point Hacks](url)) and \"offers ski-in/ski-out\naccess\" ([Marriott](url)).\n\n#### Sub-topic 2\nMore information with inline citations...\n\n### Multimedia Resources\n- [Video: Title](url) - brief description\n- [Podcast: Episode](url) - brief description\n- [TikTok: @user](url) - brief description\n\n### What I Discovered You Might Not Know\n- Surprising finding 1 that user likely didn't know\n- Surprising finding 2\n- New source or perspective discovered\n\n### Recommendations\n1. Actionable recommendation specific to user's context\n2. Another action based on their situation\n\n### Confidence Assessment\n- High confidence: [topics with multiple agreeing sources]\n- Needs verification: [topics with limited sources]\n- Conflicting information: [where sources disagree]\n\n### All Sources\nComplete list of every URL referenced:\n- [Source Name 1](full-url)\n- [Source Name 2](full-url)\n- [Source Name 3](full-url)\n```\n\n**Note:** Every factual claim needs an inline citation. The \"All Sources\" section at the end provides a consolidated reference list.\n\n## Saving Research Reports\n\n**ALWAYS save research reports to Google Docs** after completing research.\n\n### Default Behavior\n1. Create Google Doc in Geoffrey/Research folder\n2. Use appropriate account (hrg for personal, psd for work)\n3. Apply markdown formatting (headers, bold, links)\n4. Return link to user\n\n### How to Save\n```bash\ncd skills/google-workspace\nbun docs/create_doc.js <account> --title \"<Research Topic>\" --folder Research --content \"<markdown>\"\n```\n\n### Account Selection\n- **hrg** - Personal travel, consulting\n- **psd** - Work-related research\n- **kh** - Personal projects\n\n### Future: Obsidian Integration\nWill also save to local Obsidian vault (when skill is built).\n\n## API Configuration\n\nKeys stored in: `~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/secrets/.env`\n\n```bash\nPERPLEXITY_API_KEY=pplx-...\nGEMINI_API_KEY=...\nOPENAI_API_KEY=sk-...\n# Note: Claude runs natively in Claude Code, no API key needed\n```\n\n## Performance\n\n- **Time**: 30 minutes to 3 hours for exhaustive research (not 15-45 seconds)\n- **Depth**: Exhaustive - multiple search pages, follow links, multimedia\n- **Sources**: Discover new sources, not just known lists\n- **Accuracy**: Cross-referenced with confidence scoring, all claims cited\n\n## Limitations\n\n- API rate limits may throttle parallel requests\n- Costs accrue per API call\n- Not all agents may have access to same sources\n- Real-time data (stock prices, availability) needs direct API access\n\n## Future Enhancements\n\n- Caching frequent research topics\n- Learning which agents are best for which domains\n- Automatic source credibility scoring\n- Research history and versioning\n",
        "skills/research/agents/claude-researcher.md": "# Claude Researcher Agent\n\nYou are a research specialist using Claude's native capabilities for deep reasoning and nuanced analysis.\n\n## Strengths\n- Deep reasoning and analysis\n- Nuanced understanding of context\n- Strong at identifying implications\n- Excellent at synthesis and recommendations\n\n## Best For\n- Complex, multi-faceted questions\n- \"What should I do\" recommendations\n- Understanding implications and consequences\n- Synthesizing information into actionable insights\n\n## Execution\n\nThis agent runs natively within Claude Code - no external API call needed.\n\nWhen given a research query:\n\n1. **Use Built-in Tools**\n   - WebSearch for current information\n   - WebFetch for specific page content\n   - Task tool for parallel sub-queries if needed\n\n2. **Deep Analysis Approach**\n   - Consider the question from multiple angles\n   - Identify unstated assumptions\n   - Consider edge cases and exceptions\n   - Think about implications and consequences\n\n3. **Synthesize and Recommend**\n   - Combine findings into coherent narrative\n   - Weigh trade-offs explicitly\n   - Provide actionable recommendations\n   - Note confidence levels\n\n## Output Format\n\n```markdown\n## Claude Research Results\n\n### Query\n[The specific question researched]\n\n### Analysis\n\n#### Context\n[Background and framing]\n\n#### Key Findings\n1. **Finding 1**: [Detail]\n   - Implication: ...\n   - Confidence: High/Medium/Low\n\n2. **Finding 2**: [Detail]\n   - Implication: ...\n   - Confidence: High/Medium/Low\n\n#### Nuances\n- Important exceptions or edge cases\n- When this advice might not apply\n- Assumptions being made\n\n### Recommendations\n\n**Primary Recommendation**\n[What to do and why]\n\n**Alternatives**\n- Option B: [When this might be better]\n- Option C: [When this might be better]\n\n### Confidence Assessment\n- What I'm confident about: ...\n- What's uncertain: ...\n- What needs more research: ...\n\n### Sources\n- [Source](url) - What it contributed\n```\n\n## Important\n\n- Think deeply before responding\n- Consider the user's specific context (Hagel's preferences)\n- Be explicit about confidence levels\n- Provide actionable recommendations, not just information\n- Don't hedge excessively - give clear guidance when possible\n",
        "skills/research/agents/gemini-researcher.md": "# Gemini Researcher Agent\n\nYou are a research specialist using Google Gemini for multi-perspective analysis.\n\n## Strengths\n- Multi-angle investigation\n- Good at comparisons and trade-offs\n- Access to Google's knowledge\n- Strong at synthesizing diverse viewpoints\n\n## Best For\n- \"Compare X vs Y\" questions\n- Pros/cons analysis\n- Market comparisons\n- Understanding different perspectives\n\n## Execution\n\nWhen given a research query:\n\n1. **Load API Key**\n   ```bash\n   source ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/secrets/.env\n   ```\n\n2. **Execute Gemini Query**\n   Use the Gemini API for research.\n\n   ```bash\n   curl -X POST \"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent?key=$GEMINI_API_KEY\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n       \"contents\": [{\n         \"parts\": [{\n           \"text\": \"Research the following topic thoroughly, providing multiple perspectives and trade-offs: YOUR_QUERY_HERE\"\n         }]\n       }],\n       \"generationConfig\": {\n         \"temperature\": 0.7,\n         \"maxOutputTokens\": 4096\n       }\n     }'\n   ```\n\n3. **Extract and Format Results**\n   - Identify different perspectives\n   - Note trade-offs and considerations\n   - Highlight consensus points\n   - Flag controversial or debated aspects\n\n## Output Format\n\n```markdown\n## Gemini Research Results\n\n### Query\n[The specific question researched]\n\n### Perspectives\n\n**Perspective 1: [Name/Angle]**\n- Key points\n- Supporting evidence\n\n**Perspective 2: [Name/Angle]**\n- Key points\n- Supporting evidence\n\n### Trade-offs\n| Option | Pros | Cons |\n|--------|------|------|\n| A | ... | ... |\n| B | ... | ... |\n\n### Consensus Points\n- What most sources agree on\n\n### Debated Points\n- Where opinions differ and why\n\n### Notes\n- Limitations of this analysis\n- Areas needing deeper investigation\n```\n\n## Important\n\n- Present multiple viewpoints fairly\n- Don't favor one perspective without evidence\n- Note when something is opinion vs fact\n- Identify areas of genuine uncertainty\n",
        "skills/research/agents/openai-researcher.md": "# OpenAI Researcher Agent\n\nYou are a research specialist using OpenAI GPT-4 for structured analysis and reasoning.\n\n## Strengths\n- Structured, systematic analysis\n- Strong at categorization and frameworks\n- Good at step-by-step reasoning\n- Excellent at summarization\n\n## Best For\n- \"How does X work\" questions\n- Process and workflow analysis\n- Creating frameworks and mental models\n- Structured comparisons\n\n## Execution\n\nWhen given a research query:\n\n1. **Load API Key**\n   ```bash\n   source ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/secrets/.env\n   ```\n\n2. **Execute OpenAI Query**\n   Use the OpenAI API for research.\n\n   ```bash\n   curl -X POST \"https://api.openai.com/v1/chat/completions\" \\\n     -H \"Authorization: Bearer $OPENAI_API_KEY\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n       \"model\": \"gpt-4-turbo-preview\",\n       \"messages\": [\n         {\"role\": \"system\", \"content\": \"You are a research analyst. Provide structured, systematic analysis with clear categorization and frameworks. Break down complex topics into understandable components.\"},\n         {\"role\": \"user\", \"content\": \"YOUR_QUERY_HERE\"}\n       ],\n       \"temperature\": 0.7,\n       \"max_tokens\": 4096\n     }'\n   ```\n\n3. **Extract and Format Results**\n   - Create clear structure/framework\n   - Break into logical categories\n   - Provide step-by-step explanations\n   - Summarize key takeaways\n\n## Output Format\n\n```markdown\n## OpenAI Research Results\n\n### Query\n[The specific question researched]\n\n### Framework/Structure\n\n#### Category 1: [Name]\n- Key point A\n- Key point B\n- How it relates to other categories\n\n#### Category 2: [Name]\n- Key point A\n- Key point B\n\n### Process/Workflow\n1. Step one\n2. Step two\n3. Step three\n\n### Key Concepts\n| Concept | Definition | Relevance |\n|---------|------------|-----------|\n| X | ... | ... |\n| Y | ... | ... |\n\n### Summary\n[Concise summary of findings]\n\n### Notes\n- Assumptions made\n- Limitations of this framework\n- When this analysis might not apply\n```\n\n## Important\n\n- Prioritize clarity and structure\n- Use frameworks when helpful\n- Break complex topics into digestible parts\n- Be explicit about assumptions\n",
        "skills/research/agents/perplexity-researcher.md": "# Perplexity Researcher Agent\n\nYou are a research specialist using Perplexity AI for web-based information gathering.\n\n## Strengths\n- Current web information with citations\n- Real-time data and recent changes\n- Source attribution\n- Fact-checking against live sources\n\n## Best For\n- \"What are the current...\" questions\n- Policy changes and updates\n- Recent news and announcements\n- Verification of claims\n\n## Execution\n\nWhen given a research query:\n\n1. **Load API Key**\n   ```bash\n   source ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/secrets/.env\n   ```\n\n2. **Execute Perplexity Query**\n   Use the Perplexity API to search for current information.\n\n   ```bash\n   curl -X POST \"https://api.perplexity.ai/chat/completions\" \\\n     -H \"Authorization: Bearer $PERPLEXITY_API_KEY\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n       \"model\": \"llama-3.1-sonar-large-128k-online\",\n       \"messages\": [\n         {\"role\": \"system\", \"content\": \"You are a research assistant. Provide detailed, factual information with source citations. Focus on current, accurate data.\"},\n         {\"role\": \"user\", \"content\": \"YOUR_QUERY_HERE\"}\n       ]\n     }'\n   ```\n\n3. **Extract and Format Results**\n   - Pull out key facts\n   - Note all source URLs\n   - Flag any conflicting information\n   - Note publication dates\n\n## Output Format\n\n```markdown\n## Perplexity Research Results\n\n### Query\n[The specific question researched]\n\n### Findings\n- Fact 1 [Source](url)\n- Fact 2 [Source](url)\n- etc.\n\n### Key Sources\n1. [Source Name](url) - Date accessed\n2. [Source Name](url) - Date accessed\n\n### Notes\n- Any caveats or limitations\n- Conflicting information found\n- Areas needing further research\n```\n\n## Important\n\n- Always include source citations\n- Note when information might be outdated\n- Flag paywalled or inaccessible sources\n- Distinguish facts from opinions\n",
        "skills/research/commands/conduct-research.md": "# Conduct Research Command\n\nOrchestrate parallel multi-LLM research on a topic.\n\n## Usage\n```\n/conduct-research [topic or question]\n```\n\n## Workflow\n\n### Step 1: Query Decomposition\n\nBreak the research topic into 3-7 focused sub-queries. Consider:\n- **Factual**: What are the basic facts?\n- **Current**: What's the latest information?\n- **Comparative**: How does it compare to alternatives?\n- **Practical**: How does it work in practice?\n- **Optimization**: What are the best strategies?\n- **Gotchas**: What are common mistakes or pitfalls?\n\nExample for \"maximize Alaska Airlines miles for Japan\":\n1. Current Alaska redemption rates to Japan partners\n2. JAL vs Cathay vs other OneWorld options for Japan routes\n3. Best credit card strategies for earning Alaska miles\n4. Award availability patterns and booking tips\n5. Recent program changes or devaluations\n\n### Step 2: Parallel Agent Execution\n\nLaunch researcher agents in parallel using the Task tool. Each agent gets relevant sub-queries:\n\n**Perplexity Agent** (current info)\n- Sub-queries about recent changes, current rates, latest news\n\n**Gemini Agent** (comparisons)\n- Sub-queries comparing options, trade-offs\n\n**OpenAI Agent** (structure)\n- Sub-queries about processes, frameworks, how things work\n\n**Claude Agent** (synthesis)\n- Sub-queries about recommendations, implications\n\nUse this pattern:\n```\nLaunch 4 Task agents in parallel:\n- Task: perplexity-researcher with [sub-queries 1, 2]\n- Task: gemini-researcher with [sub-queries 3, 4]\n- Task: openai-researcher with [sub-query 5]\n- Task: claude-researcher with [synthesis query]\n```\n\n### Step 3: Result Collection\n\nGather results from all agents (typically 15-45 seconds).\n\n### Step 4: Synthesis\n\nCombine all findings into a cohesive report:\n\n1. **Identify Consensus** - What do multiple sources agree on?\n2. **Flag Conflicts** - Where do sources disagree?\n3. **Score Confidence** - High (4/4 agree), Medium (3/4), Low (2/4 or conflicting)\n4. **Extract Actions** - What should the user actually do?\n\n### Step 5: Final Report\n\nFormat output as:\n\n```markdown\n## Research Report: [Topic]\n\n### Executive Summary\n[2-3 sentence overview of key findings]\n\n### Key Findings\n\n#### High Confidence (Multiple Sources Agree)\n- Finding 1\n- Finding 2\n\n#### Medium Confidence\n- Finding 3\n- Finding 4\n\n#### Needs Verification\n- Finding 5 (sources conflict)\n\n### Detailed Analysis\n[Organized by sub-topic with source attribution]\n\n### Sources\n- [Source 1](url) - via Perplexity\n- [Source 2](url) - via Gemini\n- etc.\n\n### Recommendations\n1. **Do This First**: [Action]\n2. **Then Consider**: [Action]\n3. **Watch Out For**: [Gotcha]\n\n### Research Metadata\n- Agents used: Perplexity, Gemini, OpenAI, Claude\n- Time: [X seconds]\n- Date: [Today's date]\n- Confidence: Overall High/Medium/Low\n```\n\n## API Requirements\n\nEnsure these are configured in `~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/secrets/.env`:\n- PERPLEXITY_API_KEY\n- GEMINI_API_KEY\n- OPENAI_API_KEY\n\n## Notes\n\n- If an API fails, continue with remaining agents\n- Note which agents were used in final report\n- For time-sensitive topics, prioritize Perplexity results\n- Consider user preferences when making recommendations (check knowledge-manager)\n",
        "skills/skill-creator/SKILL.md": "---\nname: skill-creator\ndescription: Guide for creating effective skills. This skill should be used when users want to create a new skill (or update an existing skill) that extends Claude's capabilities with specialized knowledge, workflows, or tool integrations.\ntriggers:\n  - \"create a skill\"\n  - \"build a skill\"\n  - \"make a skill\"\n  - \"new skill for\"\n  - \"design a skill\"\n  - \"update skill\"\n  - \"improve skill\"\nallowed-tools: Read, Write, Edit, Bash, Glob\nversion: 1.0.0\nlicense: Complete terms in LICENSE.txt\n---\n\n# Skill Creator\n\nThis skill provides guidance for creating effective skills.\n\n## About Skills\n\nSkills are modular, self-contained packages that extend Claude's capabilities by providing\nspecialized knowledge, workflows, and tools. Think of them as \"onboarding guides\" for specific\ndomains or tasksâ€”they transform Claude from a general-purpose agent into a specialized agent\nequipped with procedural knowledge that no model can fully possess.\n\n### What Skills Provide\n\n1. Specialized workflows - Multi-step procedures for specific domains\n2. Tool integrations - Instructions for working with specific file formats or APIs\n3. Domain expertise - Company-specific knowledge, schemas, business logic\n4. Bundled resources - Scripts, references, and assets for complex and repetitive tasks\n\n## Core Principles\n\n### Concise is Key\n\nThe context window is a public good. Skills share the context window with everything else Claude needs: system prompt, conversation history, other Skills' metadata, and the actual user request.\n\n**Default assumption: Claude is already very smart.** Only add context Claude doesn't already have. Challenge each piece of information: \"Does Claude really need this explanation?\" and \"Does this paragraph justify its token cost?\"\n\nPrefer concise examples over verbose explanations.\n\n### Set Appropriate Degrees of Freedom\n\nMatch the level of specificity to the task's fragility and variability:\n\n**High freedom (text-based instructions)**: Use when multiple approaches are valid, decisions depend on context, or heuristics guide the approach.\n\n**Medium freedom (pseudocode or scripts with parameters)**: Use when a preferred pattern exists, some variation is acceptable, or configuration affects behavior.\n\n**Low freedom (specific scripts, few parameters)**: Use when operations are fragile and error-prone, consistency is critical, or a specific sequence must be followed.\n\nThink of Claude as exploring a path: a narrow bridge with cliffs needs specific guardrails (low freedom), while an open field allows many routes (high freedom).\n\n### Anatomy of a Skill\n\nEvery skill consists of a required SKILL.md file and optional bundled resources:\n\n```\nskill-name/\nâ”œâ”€â”€ SKILL.md (required)\nâ”‚   â”œâ”€â”€ YAML frontmatter metadata (required)\nâ”‚   â”‚   â”œâ”€â”€ name: (required)\nâ”‚   â”‚   â””â”€â”€ description: (required)\nâ”‚   â””â”€â”€ Markdown instructions (required)\nâ””â”€â”€ Bundled Resources (optional)\n    â”œâ”€â”€ scripts/          - Executable code (Python/Bash/etc.)\n    â”œâ”€â”€ references/       - Documentation intended to be loaded into context as needed\n    â””â”€â”€ assets/           - Files used in output (templates, icons, fonts, etc.)\n```\n\n#### SKILL.md (required)\n\nEvery SKILL.md consists of:\n\n- **Frontmatter** (YAML): Contains `name` and `description` fields. These are the only fields that Claude reads to determine when the skill gets used, thus it is very important to be clear and comprehensive in describing what the skill is, and when it should be used.\n- **Body** (Markdown): Instructions and guidance for using the skill. Only loaded AFTER the skill triggers (if at all).\n\n#### Bundled Resources (optional)\n\n##### Scripts (`scripts/`)\n\nExecutable code (Python/Bash/etc.) for tasks that require deterministic reliability or are repeatedly rewritten.\n\n- **When to include**: When the same code is being rewritten repeatedly or deterministic reliability is needed\n- **Example**: `scripts/rotate_pdf.py` for PDF rotation tasks\n- **Benefits**: Token efficient, deterministic, may be executed without loading into context\n- **Note**: Scripts may still need to be read by Claude for patching or environment-specific adjustments\n\n##### References (`references/`)\n\nDocumentation and reference material intended to be loaded as needed into context to inform Claude's process and thinking.\n\n- **When to include**: For documentation that Claude should reference while working\n- **Examples**: `references/finance.md` for financial schemas, `references/mnda.md` for company NDA template, `references/policies.md` for company policies, `references/api_docs.md` for API specifications\n- **Use cases**: Database schemas, API documentation, domain knowledge, company policies, detailed workflow guides\n- **Benefits**: Keeps SKILL.md lean, loaded only when Claude determines it's needed\n- **Best practice**: If files are large (>10k words), include grep search patterns in SKILL.md\n- **Avoid duplication**: Information should live in either SKILL.md or references files, not both. Prefer references files for detailed information unless it's truly core to the skillâ€”this keeps SKILL.md lean while making information discoverable without hogging the context window. Keep only essential procedural instructions and workflow guidance in SKILL.md; move detailed reference material, schemas, and examples to references files.\n\n##### Assets (`assets/`)\n\nFiles not intended to be loaded into context, but rather used within the output Claude produces.\n\n- **When to include**: When the skill needs files that will be used in the final output\n- **Examples**: `assets/logo.png` for brand assets, `assets/slides.pptx` for PowerPoint templates, `assets/frontend-template/` for HTML/React boilerplate, `assets/font.ttf` for typography\n- **Use cases**: Templates, images, icons, boilerplate code, fonts, sample documents that get copied or modified\n- **Benefits**: Separates output resources from documentation, enables Claude to use files without loading them into context\n\n#### What to Not Include in a Skill\n\nA skill should only contain essential files that directly support its functionality. Do NOT create extraneous documentation or auxiliary files, including:\n\n- README.md\n- INSTALLATION_GUIDE.md\n- QUICK_REFERENCE.md\n- CHANGELOG.md\n- etc.\n\nThe skill should only contain the information needed for an AI agent to do the job at hand. It should not contain auxilary context about the process that went into creating it, setup and testing procedures, user-facing documentation, etc. Creating additional documentation files just adds clutter and confusion.\n\n### Progressive Disclosure Design Principle\n\nSkills use a three-level loading system to manage context efficiently:\n\n1. **Metadata (name + description)** - Always in context (~100 words)\n2. **SKILL.md body** - When skill triggers (<5k words)\n3. **Bundled resources** - As needed by Claude (Unlimited because scripts can be executed without reading into context window)\n\n#### Progressive Disclosure Patterns\n\nKeep SKILL.md body to the essentials and under 500 lines to minimize context bloat. Split content into separate files when approaching this limit. When splitting out content into other files, it is very important to reference them from SKILL.md and describe clearly when to read them, to ensure the reader of the skill knows they exist and when to use them.\n\n**Key principle:** When a skill supports multiple variations, frameworks, or options, keep only the core workflow and selection guidance in SKILL.md. Move variant-specific details (patterns, examples, configuration) into separate reference files.\n\n**Pattern 1: High-level guide with references**\n\n```markdown\n# PDF Processing\n\n## Quick start\n\nExtract text with pdfplumber:\n[code example]\n\n## Advanced features\n\n- **Form filling**: See [FORMS.md](FORMS.md) for complete guide\n- **API reference**: See [REFERENCE.md](REFERENCE.md) for all methods\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for common patterns\n```\n\nClaude loads FORMS.md, REFERENCE.md, or EXAMPLES.md only when needed.\n\n**Pattern 2: Domain-specific organization**\n\nFor Skills with multiple domains, organize content by domain to avoid loading irrelevant context:\n\n```\nbigquery-skill/\nâ”œâ”€â”€ SKILL.md (overview and navigation)\nâ””â”€â”€ reference/\n    â”œâ”€â”€ finance.md (revenue, billing metrics)\n    â”œâ”€â”€ sales.md (opportunities, pipeline)\n    â”œâ”€â”€ product.md (API usage, features)\n    â””â”€â”€ marketing.md (campaigns, attribution)\n```\n\nWhen a user asks about sales metrics, Claude only reads sales.md.\n\nSimilarly, for skills supporting multiple frameworks or variants, organize by variant:\n\n```\ncloud-deploy/\nâ”œâ”€â”€ SKILL.md (workflow + provider selection)\nâ””â”€â”€ references/\n    â”œâ”€â”€ aws.md (AWS deployment patterns)\n    â”œâ”€â”€ gcp.md (GCP deployment patterns)\n    â””â”€â”€ azure.md (Azure deployment patterns)\n```\n\nWhen the user chooses AWS, Claude only reads aws.md.\n\n**Pattern 3: Conditional details**\n\nShow basic content, link to advanced content:\n\n```markdown\n# DOCX Processing\n\n## Creating documents\n\nUse docx-js for new documents. See [DOCX-JS.md](DOCX-JS.md).\n\n## Editing documents\n\nFor simple edits, modify the XML directly.\n\n**For tracked changes**: See [REDLINING.md](REDLINING.md)\n**For OOXML details**: See [OOXML.md](OOXML.md)\n```\n\nClaude reads REDLINING.md or OOXML.md only when the user needs those features.\n\n**Important guidelines:**\n\n- **Avoid deeply nested references** - Keep references one level deep from SKILL.md. All reference files should link directly from SKILL.md.\n- **Structure longer reference files** - For files longer than 100 lines, include a table of contents at the top so Claude can see the full scope when previewing.\n\n## Skill Creation Process\n\nSkill creation involves these steps:\n\n1. Understand the skill with concrete examples\n2. Plan reusable skill contents (scripts, references, assets)\n3. Initialize the skill (run init_skill.py)\n4. Edit the skill (implement resources and write SKILL.md)\n5. Package the skill (run package_skill.py)\n6. Iterate based on real usage\n\nFollow these steps in order, skipping only if there is a clear reason why they are not applicable.\n\n### Step 1: Understanding the Skill with Concrete Examples\n\nSkip this step only when the skill's usage patterns are already clearly understood. It remains valuable even when working with an existing skill.\n\nTo create an effective skill, clearly understand concrete examples of how the skill will be used. This understanding can come from either direct user examples or generated examples that are validated with user feedback.\n\nFor example, when building an image-editor skill, relevant questions include:\n\n- \"What functionality should the image-editor skill support? Editing, rotating, anything else?\"\n- \"Can you give some examples of how this skill would be used?\"\n- \"I can imagine users asking for things like 'Remove the red-eye from this image' or 'Rotate this image'. Are there other ways you imagine this skill being used?\"\n- \"What would a user say that should trigger this skill?\"\n\nTo avoid overwhelming users, avoid asking too many questions in a single message. Start with the most important questions and follow up as needed for better effectiveness.\n\nConclude this step when there is a clear sense of the functionality the skill should support.\n\n### Step 2: Planning the Reusable Skill Contents\n\nTo turn concrete examples into an effective skill, analyze each example by:\n\n1. Considering how to execute on the example from scratch\n2. Identifying what scripts, references, and assets would be helpful when executing these workflows repeatedly\n\nExample: When building a `pdf-editor` skill to handle queries like \"Help me rotate this PDF,\" the analysis shows:\n\n1. Rotating a PDF requires re-writing the same code each time\n2. A `scripts/rotate_pdf.py` script would be helpful to store in the skill\n\nExample: When designing a `frontend-webapp-builder` skill for queries like \"Build me a todo app\" or \"Build me a dashboard to track my steps,\" the analysis shows:\n\n1. Writing a frontend webapp requires the same boilerplate HTML/React each time\n2. An `assets/hello-world/` template containing the boilerplate HTML/React project files would be helpful to store in the skill\n\nExample: When building a `big-query` skill to handle queries like \"How many users have logged in today?\" the analysis shows:\n\n1. Querying BigQuery requires re-discovering the table schemas and relationships each time\n2. A `references/schema.md` file documenting the table schemas would be helpful to store in the skill\n\nTo establish the skill's contents, analyze each concrete example to create a list of the reusable resources to include: scripts, references, and assets.\n\n### Step 3: Initializing the Skill\n\nAt this point, it is time to actually create the skill.\n\nSkip this step only if the skill being developed already exists, and iteration or packaging is needed. In this case, continue to the next step.\n\nWhen creating a new skill from scratch, always run the `init_skill.py` script. The script conveniently generates a new template skill directory that automatically includes everything a skill requires, making the skill creation process much more efficient and reliable.\n\nUsage:\n\n```bash\npython skills/skill-creator/scripts/init_skill.py <skill-name> --path <output-directory>\n```\n\nThe script:\n\n- Creates the skill directory at the specified path\n- Generates a SKILL.md template with proper frontmatter and TODO placeholders\n- Creates example resource directories: `scripts/`, `references/`, and `assets/`\n- Adds example files in each directory that can be customized or deleted\n\nAfter initialization, customize or remove the generated SKILL.md and example files as needed.\n\n#### Register the Skill in CLAUDE.md\n\nAfter creating a new skill, register it in CLAUDE.md's skill list:\n\n1. Open `CLAUDE.md`\n2. Find the \"Available Skills\" table in the \"Skill Locations\" section\n3. Add a new row: `| {skill-name} | \\`skills/{skill-name}/SKILL.md\\` |`\n4. Keep the table alphabetically sorted\n\nThis ensures subagents can find the skill without filesystem searches.\n\n**Note:** The `init_skill.py` script automatically handles this registration.\n\n### Step 4: Edit the Skill\n\nWhen editing the (newly-generated or existing) skill, remember that the skill is being created for another instance of Claude to use. Include information that would be beneficial and non-obvious to Claude. Consider what procedural knowledge, domain-specific details, or reusable assets would help another Claude instance execute these tasks more effectively.\n\n#### Learn Proven Design Patterns\n\nConsult these helpful guides based on your skill's needs:\n\n- **Multi-step processes**: See references/workflows.md for sequential workflows and conditional logic\n- **Specific output formats or quality standards**: See references/output-patterns.md for template and example patterns\n\nThese files contain established best practices for effective skill design.\n\n#### Start with Reusable Skill Contents\n\nTo begin implementation, start with the reusable resources identified above: `scripts/`, `references/`, and `assets/` files. Note that this step may require user input. For example, when implementing a `brand-guidelines` skill, the user may need to provide brand assets or templates to store in `assets/`, or documentation to store in `references/`.\n\nAdded scripts must be tested by actually running them to ensure there are no bugs and that the output matches what is expected. If there are many similar scripts, only a representative sample needs to be tested to ensure confidence that they all work while balancing time to completion.\n\nAny example files and directories not needed for the skill should be deleted. The initialization script creates example files in `scripts/`, `references/`, and `assets/` to demonstrate structure, but most skills won't need all of them.\n\n#### Update SKILL.md\n\n**Writing Guidelines:** Always use imperative/infinitive form.\n\n##### Frontmatter\n\nWrite the YAML frontmatter with `name` and `description`:\n\n- `name`: The skill name\n- `description`: This is the primary triggering mechanism for your skill, and helps Claude understand when to use the skill.\n  - Include both what the Skill does and specific triggers/contexts for when to use it.\n  - Include all \"when to use\" information here - Not in the body. The body is only loaded after triggering, so \"When to Use This Skill\" sections in the body are not helpful to Claude.\n  - Example description for a `docx` skill: \"Comprehensive document creation, editing, and analysis with support for tracked changes, comments, formatting preservation, and text extraction. Use when Claude needs to work with professional documents (.docx files) for: (1) Creating new documents, (2) Modifying or editing content, (3) Working with tracked changes, (4) Adding comments, or any other document tasks\"\n\nDo not include any other fields in YAML frontmatter.\n\n##### Body\n\nWrite instructions for using the skill and its bundled resources.\n\n### Step 5: Packaging a Skill\n\nOnce development of the skill is complete, it must be packaged into a distributable .skill file that gets shared with the user. The packaging process automatically validates the skill first to ensure it meets all requirements:\n\n```bash\npython skills/skill-creator/scripts/package_skill.py <path/to/skill-folder>\n```\n\nOptional output directory specification:\n\n```bash\npython skills/skill-creator/scripts/package_skill.py <path/to/skill-folder> ./dist\n```\n\nThe packaging script will:\n\n1. **Validate** the skill automatically, checking:\n\n   - YAML frontmatter format and required fields\n   - Skill naming conventions and directory structure\n   - Description completeness and quality\n   - File organization and resource references\n\n2. **Package** the skill if validation passes, creating a .skill file named after the skill (e.g., `my-skill.skill`) that includes all files and maintains the proper directory structure for distribution. The .skill file is a zip file with a .skill extension.\n\nIf validation fails, the script will report the errors and exit without creating a package. Fix any validation errors and run the packaging command again.\n\n### Step 6: Iterate\n\nAfter testing the skill, users may request improvements. Often this happens right after using the skill, with fresh context of how the skill performed.\n\n**Iteration workflow:**\n\n1. Use the skill on real tasks\n2. Notice struggles or inefficiencies\n3. Identify how SKILL.md or bundled resources should be updated\n4. Implement changes and test again\n",
        "skills/skill-creator/references/output-patterns.md": "# Output Patterns\n\nUse these patterns when skills need to produce consistent, high-quality output.\n\n## Template Pattern\n\nProvide templates for output format. Match the level of strictness to your needs.\n\n**For strict requirements (like API responses or data formats):**\n\n```markdown\n## Report structure\n\nALWAYS use this exact template structure:\n\n# [Analysis Title]\n\n## Executive summary\n[One-paragraph overview of key findings]\n\n## Key findings\n- Finding 1 with supporting data\n- Finding 2 with supporting data\n- Finding 3 with supporting data\n\n## Recommendations\n1. Specific actionable recommendation\n2. Specific actionable recommendation\n```\n\n**For flexible guidance (when adaptation is useful):**\n\n```markdown\n## Report structure\n\nHere is a sensible default format, but use your best judgment:\n\n# [Analysis Title]\n\n## Executive summary\n[Overview]\n\n## Key findings\n[Adapt sections based on what you discover]\n\n## Recommendations\n[Tailor to the specific context]\n\nAdjust sections as needed for the specific analysis type.\n```\n\n## Examples Pattern\n\nFor skills where output quality depends on seeing examples, provide input/output pairs:\n\n```markdown\n## Commit message format\n\nGenerate commit messages following these examples:\n\n**Example 1:**\nInput: Added user authentication with JWT tokens\nOutput:\n```\nfeat(auth): implement JWT-based authentication\n\nAdd login endpoint and token validation middleware\n```\n\n**Example 2:**\nInput: Fixed bug where dates displayed incorrectly in reports\nOutput:\n```\nfix(reports): correct date formatting in timezone conversion\n\nUse UTC timestamps consistently across report generation\n```\n\nFollow this style: type(scope): brief description, then detailed explanation.\n```\n\nExamples help Claude understand the desired style and level of detail more clearly than descriptions alone.\n",
        "skills/skill-creator/references/workflows.md": "# Workflow Patterns\n\n## Sequential Workflows\n\nFor complex tasks, break operations into clear, sequential steps. It is often helpful to give Claude an overview of the process towards the beginning of SKILL.md:\n\n```markdown\nFilling a PDF form involves these steps:\n\n1. Analyze the form (run analyze_form.py)\n2. Create field mapping (edit fields.json)\n3. Validate mapping (run validate_fields.py)\n4. Fill the form (run fill_form.py)\n5. Verify output (run verify_output.py)\n```\n\n## Conditional Workflows\n\nFor tasks with branching logic, guide Claude through decision points:\n\n```markdown\n1. Determine the modification type:\n   **Creating new content?** â†’ Follow \"Creation workflow\" below\n   **Editing existing content?** â†’ Follow \"Editing workflow\" below\n\n2. Creation workflow: [steps]\n3. Editing workflow: [steps]\n```",
        "skills/strategic-planning-manager/SKILL.md": "---\nname: strategic-planning-manager\ndescription: Organizational strategic planning for K-12 school districts using a hybrid CoSN/research-backed 7-phase process\ntriggers:\n  - \"strategic planning\"\n  - \"district strategic plan\"\n  - \"k-12 strategic planning\"\n  - \"school district planning\"\n  - \"strategic plan\"\n  - \"SWOT analysis\"\n  - \"practical vision\"\n  - \"strategic directions\"\n  - \"strategic retreat\"\n  - \"organizational planning\"\nallowed-tools:\n  - Read\n  - Write\n  - Bash\n  - Edit\n  - Glob\n  - Grep\n  - AskUserQuestion\n  - WebSearch\n  - mcp__obsidian-vault__create_vault_file\n  - mcp__obsidian-vault__get_vault_file\n  - mcp__obsidian-vault__search_vault_simple\nversion: 1.0.0\n---\n\n# Strategic Planning Manager Skill\n\nOrganizational strategic planning system for K-12 school districts, combining the CoSN Technology of Participation (ToP) methodology with research-backed best practices from ThoughtExchange, Education Elements, Hanover Research, and AASA.\n\n> **Quick Start:** New to this skill? Read `guides/quick-start.md` first for practical entry points and common workflows.\n\n> **Note:** For personal life/work strategic planning, use the `personal-strategic-planning` skill instead.\n\n## When to Activate\n\nThis skill activates when the user requests:\n\n**Full Strategic Planning Process:**\n- \"Help me create a strategic plan for our district\"\n- \"We need to do strategic planning\"\n- \"Let's start the district strategic planning process\"\n- \"Facilitate our strategic planning retreat\"\n\n**Phase-Specific Work:**\n- \"Analyze our survey data for strategic planning\"\n- \"Help me process focus group transcripts\"\n- \"Generate a SWOT analysis\"\n- \"Create a practical vision\"\n- \"Identify underlying contradictions\"\n- \"Define strategic directions\"\n- \"Build our implementation timeline\"\n\n**Plan Update Mode:**\n- \"Update our existing strategic plan\"\n- \"It's time to refresh our strategic plan\"\n- \"Annual strategic plan review\"\n\n## Skill Modes\n\n### Mode 1: Full Process Guide\nWalk through all 7 phases sequentially, prompting for data inputs and facilitating each step.\n- Best for: New strategic plans, comprehensive planning retreats\n\n### Mode 2: Phase-Specific Entry\nJump directly into any specific phase with appropriate inputs.\n- Best for: Working on one component, picking up where you left off\n\n### Mode 3: Data Analysis Only\nProcess surveys, transcripts, and documents without running the full planning process.\n- Best for: Pre-work, discovery phase, feeding data into existing processes\n\n### Mode 4: Plan Update\nStart from an existing plan, analyze progress, update for a new cycle.\n- Best for: Annual reviews, mid-cycle adjustments, refresh cycles\n\n---\n\n## The 7-Phase Strategic Planning Process\n\nBased on CoSN's Technology of Participation (ToP) methodology enhanced with K-12 best practices.\n\n### Phase 1: Discovery & Data Collection\n**AI Role:** Primary executor | **Human Role:** Data provider\n\n**Purpose:** Gather and synthesize all available data about the current state.\n\n**Data Sources Processed:**\n- Survey data (CSV, JSON, Excel)\n- Focus group transcripts (text files)\n- Existing strategic plan documents\n- Board meeting minutes\n- Community feedback compilations\n- Demographic and enrollment data\n\n**AI Actions:**\n1. Ingest and validate data files\n2. Extract themes using NLP analysis\n3. Identify sentiment patterns\n4. Cross-reference findings across sources\n5. Generate initial theme clusters\n6. Create Discovery Summary Report\n\n**Available Scripts:**\n```bash\n# Analyze survey data\nuv run skills/strategic-planning-manager/scripts/analyze_surveys.py \\\n  --input survey_results.csv \\\n  --output-dir ./discovery\n\n# Process focus group transcripts\nuv run skills/strategic-planning-manager/scripts/process_transcripts.py \\\n  --input-dir ./transcripts \\\n  --output ./discovery/transcript-themes.json\n\n# Generate combined discovery report\nuv run skills/strategic-planning-manager/scripts/generate_discovery.py \\\n  --data-dir ./discovery \\\n  --output ./outputs/discovery-report.md\n```\n\n**Outputs:**\n- Discovery Summary Report (`templates/discovery-report.md`)\n- Theme Analysis with supporting evidence\n- Stakeholder sentiment analysis\n- Initial data-driven SWOT draft\n\n**Interview Questions (for context):**\n1. \"What data sources do you have available?\" (surveys, transcripts, documents)\n2. \"What's the timeframe for the data?\" (when collected, relevance)\n3. \"Who are the key stakeholder groups represented?\"\n4. \"What do you already know/suspect about the findings?\"\n\n---\n\n### Phase 2: Environmental Analysis (SWOT)\n**AI Role:** Synthesis and preparation | **Human Role:** Validation and refinement\n\n**Purpose:** Develop comprehensive understanding of internal and external factors.\n\n**AI Actions:**\n1. Generate SWOT from discovery data\n2. Create \"Where Will We Invest?\" analysis (Strengths Ã— Opportunities)\n3. Create \"What's Holding Us Back?\" analysis (Weaknesses focus)\n4. Prepare briefing materials for human sessions\n\n**Human Session Support:**\n- Provide facilitator guide with session agenda\n- Suggest small group discussion prompts\n- Capture and organize human additions\n\n**Outputs:**\n- SWOT Analysis Matrix (`templates/swot-template.md`)\n- Investment Priority Grid (SÃ—O quadrant)\n- Barriers Analysis (W focus)\n- Facilitator Guide (`guides/phase2-swot-guide.md`)\n\n**CoSN Format Reference:**\n| Strengths | Weaknesses |\n|-----------|------------|\n| What we do well | What limits us |\n| What others see as strengths | Where we're vulnerable |\n\n| Opportunities | Threats |\n|---------------|---------|\n| External factors to leverage | External risks to navigate |\n| Trends we can capitalize on | Competitive/regulatory concerns |\n\n**Key Questions:**\n- \"Where Will We Invest?\" (top SÃ—O opportunities)\n- \"What's Holding Us Back?\" (key weaknesses to address)\n\n---\n\n### Phase 3: Practical Vision Development\n**AI Role:** Facilitation support | **Human Role:** Primary creator\n\n**Purpose:** Define what success looks like 3 years from now through collaborative brainstorming.\n\n**The CoSN Approach:**\n1. **Individual brainstorming:** \"What do we want to see in 3 years?\"\n2. **Small group sharing:** Combine and refine ideas\n3. **Large group clustering:** Organize into 8-10 thematic columns\n4. **Naming columns:** Give each vision cluster a descriptive title\n\n**AI Support Actions:**\n1. Provide vision prompts based on discovery themes\n2. Suggest initial category groupings as ideas emerge\n3. Capture and organize inputs in real-time\n4. Ensure all voices are represented\n\n**Vision Categories (Common in K-12):**\n- Student Achievement & Learning\n- Equity & Access\n- Staff Quality & Development\n- Community Engagement\n- Technology & Innovation\n- Facilities & Resources\n- Safety & Wellness\n- Fiscal Sustainability\n\n**Outputs:**\n- Practical Vision Matrix (`templates/practical-vision.md`)\n- Vision statement narratives per category\n- Facilitator Guide (`guides/phase3-vision-guide.md`)\n\n**Matrix Format (CoSN slide 11 style):**\n| Learning | Equity | Staff | Community | Technology | Facilities | Safety | Finance |\n|----------|--------|-------|-----------|------------|------------|--------|---------|\n| Vision items... | Vision items... | ... | ... | ... | ... | ... | ... |\n\n---\n\n### Phase 4: Underlying Contradictions\n**AI Role:** Pattern identification | **Human Role:** Primary creator\n\n**Purpose:** Identify the deep tensions (not just barriers) that must be resolved for the vision to be realized.\n\n**Key Distinction:**\n- **Barriers** = obstacles to remove\n- **Contradictions** = tensions that need resolution, often involving trade-offs\n\n**Examples of Contradictions:**\n- \"Need for innovation\" vs \"Risk aversion in district culture\"\n- \"Desire for personalized learning\" vs \"Standardized testing requirements\"\n- \"Staff wanting autonomy\" vs \"Need for consistent practices\"\n\n**AI Actions:**\n1. Suggest potential contradictions based on discovery data\n2. Help frame contradictions (not just barriers)\n3. Organize and categorize as groups work\n4. Identify patterns across stakeholder groups\n\n**Human Session Support:**\n1. Small group brainstorming of contradictions\n2. Large group clustering and naming\n3. Identification of root tensions\n\n**Outputs:**\n- Underlying Contradictions Matrix (`templates/contradictions.md`)\n- Root tension analysis\n- Facilitator Guide (`guides/phase4-contradictions-guide.md`)\n\n**Matrix Format (CoSN slide 20 style):**\n| Category | Contradiction | Impact on Vision |\n|----------|---------------|------------------|\n| Culture | [Tension description] | [Which vision areas affected] |\n| Resources | [Tension description] | [Which vision areas affected] |\n\n---\n\n### Phase 5: Strategic Directions\n**AI Role:** Synthesis support | **Human Role:** Decision making\n\n**Purpose:** Define innovative actions that resolve contradictions and move toward the vision.\n\n**Key Principle:**\nStrategic directions are NOT just goalsâ€”they are the actions and approaches that will resolve the underlying contradictions while advancing the practical vision.\n\n**AI Actions:**\n1. Map contradictions to potential strategic directions\n2. Suggest evidence-based actions from K-12 research\n3. Ensure each direction addresses multiple contradictions\n4. Connect directions to vision categories\n\n**Human Session Support:**\n1. Define 4-6 major strategic directions\n2. Prioritize based on impact and feasibility\n3. Assign preliminary ownership\n4. Validate contradiction resolution\n\n**Outputs:**\n- Strategic Directions Framework (`templates/strategic-directions.md`)\n- Direction-to-Contradiction mapping\n- Direction-to-Vision alignment matrix\n- Facilitator Guide (`guides/phase5-directions-guide.md`)\n\n**Framework Format (CoSN slide 22 style):**\n| Strategic Direction | Contradictions Addressed | Vision Categories Served |\n|---------------------|--------------------------|--------------------------|\n| [Direction 1] | [C1, C2, C3] | [Learning, Equity, Staff] |\n| [Direction 2] | [C2, C4] | [Technology, Community] |\n\n---\n\n### Phase 6: Focused Implementation\n**AI Role:** Structure and tracking | **Human Role:** Validation and commitment\n\n**Purpose:** Translate strategic directions into concrete, time-bound implementation plans.\n\n**The CoSN Three-Column Approach:**\nFor each strategic direction, define:\n1. **Current Reality:** Where are we now?\n2. **1-Year Accomplishments:** What will be true in 12 months?\n3. **3-Year Outcomes:** What will be true at plan completion?\n\n**AI Actions:**\n1. Generate implementation framework structure\n2. Create Current Reality â†’ 1-Year â†’ 3-Year tables\n3. Suggest success indicators and metrics\n4. Draft quarterly timeline for Year 1\n\n**Human Session Support:**\n1. Confirm current reality assessments\n2. Commit to 1-year accomplishments\n3. Define measurable success indicators\n4. Assign ownership and accountability\n\n**Outputs:**\n- Focused Implementation Tables (`templates/focused-implementation.md`)\n- First-Year Timeline (`templates/first-year-timeline.md`)\n- Success Indicators Matrix\n- Facilitator Guide (`guides/phase6-implementation-guide.md`)\n\n**Implementation Table Format (CoSN slides 24-26 style):**\n| Strategic Direction: [Name] |\n|----------------------------|\n| **Current Reality** | **1-Year Accomplishments** | **3-Year Outcomes** |\n| [Where we are] | [What's true in 12 months] | [What's true in 36 months] |\n\n**First-Year Timeline Format (CoSN slide 27 style):**\n| Strategic Direction | Q1 | Q2 | Q3 | Q4 |\n|---------------------|----|----|----|----|\n| [Direction 1] | [Actions] | [Actions] | [Actions] | [Actions] |\n\n---\n\n### Phase 7: Plan Document Generation\n**AI Role:** Primary executor | **Human Role:** Review and approval\n\n**Purpose:** Compile all outputs into professional, stakeholder-ready documents.\n\n**AI Actions:**\n1. Compile all phase outputs into cohesive plan document\n2. Generate executive summary for board presentation\n3. Create stakeholder-specific versions (board, staff, community)\n4. Build monitoring dashboard structure\n\n**Outputs:**\n- Full Strategic Plan Document (`templates/full-strategic-plan.md`)\n- Executive Summary (`templates/executive-summary.md`)\n- Board presentation outline\n- Staff communication version\n- Community-facing summary\n\n**Document Structure:**\n1. Executive Summary\n2. Planning Process Overview\n3. Discovery Findings\n4. Environmental Analysis (SWOT)\n5. Practical Vision\n6. Underlying Contradictions\n7. Strategic Directions\n8. Implementation Plan\n9. Year-One Timeline\n10. Success Metrics & Monitoring\n11. Appendices (data, methodology)\n\n---\n\n## Available Scripts\n\n### Survey Analysis\n```bash\nuv run skills/strategic-planning-manager/scripts/analyze_surveys.py \\\n  --input data.csv \\\n  --format csv \\\n  --output-dir ./discovery\n```\n\n**Supported formats:** CSV, JSON, Excel (.xlsx, .xls)\n\n**Analysis includes:**\n- Response distribution statistics\n- Sentiment analysis per question\n- Theme extraction from open-ended responses\n- Stakeholder group comparisons (if demographics provided)\n- Word frequency and phrase analysis\n\n### Transcript Processing\n```bash\nuv run skills/strategic-planning-manager/scripts/process_transcripts.py \\\n  --input-dir ./transcripts \\\n  --output ./discovery/transcript-themes.json\n```\n\n**Analysis includes:**\n- Theme extraction using NLP\n- Sentiment patterns\n- Speaker/stakeholder attribution (if labeled)\n- Quote extraction for evidence\n- Cross-transcript pattern identification\n\n### SWOT Generation\n```bash\nuv run skills/strategic-planning-manager/scripts/generate_swot.py \\\n  --discovery-dir ./discovery \\\n  --output ./outputs/swot-analysis.md\n```\n\n**Generates:**\n- Data-driven SWOT matrix\n- Supporting evidence citations\n- Investment priority recommendations\n- Barrier analysis\n\n### Plan Synthesis\n```bash\nuv run skills/strategic-planning-manager/scripts/synthesize_plan.py \\\n  --work-dir ./planning \\\n  --output ./outputs/strategic-plan.md \\\n  --format full  # or 'executive', 'board', 'staff', 'community'\n```\n\n**Generates:**\n- Complete strategic plan document\n- Multiple stakeholder versions\n- Executive summary\n- Board presentation outline\n\n---\n\n## Facilitator Guides\n\nDetailed guides for each human session:\n\n| Guide | Purpose | Duration |\n|-------|---------|----------|\n| `phase1-discovery-guide.md` | Data collection interviews, survey design | Varies |\n| `phase2-swot-guide.md` | SWOT workshop facilitation | 2-3 hours |\n| `phase3-vision-guide.md` | Practical vision brainstorming | 3-4 hours |\n| `phase4-contradictions-guide.md` | Contradiction identification | 2-3 hours |\n| `phase5-directions-guide.md` | Strategic direction development | 3-4 hours |\n| `phase6-implementation-guide.md` | Implementation planning | 3-4 hours |\n| `retreat-agenda-2day.md` | Full 2-day retreat structure | 2 days |\n| `retreat-agenda-condensed.md` | Condensed 1-day format | 1 day |\n\nEach guide includes:\n- Detailed agenda with timing\n- Facilitator prompts and questions\n- Small group and large group activities\n- Materials needed\n- Expected outputs\n- Common challenges and solutions\n\n---\n\n## Data Storage (Obsidian)\n\nStrategic plans are stored in the Obsidian vault:\n\n```\nPersonal_Notes/Geoffrey/Strategic-Plans/\nâ”œâ”€â”€ {District-Name}/\nâ”‚   â”œâ”€â”€ {Year}-Strategic-Plan.md\nâ”‚   â”œâ”€â”€ Discovery-Report.md\nâ”‚   â”œâ”€â”€ SWOT-Analysis.md\nâ”‚   â”œâ”€â”€ Practical-Vision.md\nâ”‚   â”œâ”€â”€ Contradictions-Analysis.md\nâ”‚   â”œâ”€â”€ Strategic-Directions.md\nâ”‚   â”œâ”€â”€ Implementation-Plan.md\nâ”‚   â””â”€â”€ Facilitator-Guides/\nâ”‚       â””â”€â”€ [Generated guides for this district]\n```\n\n**Frontmatter:**\n```yaml\n---\ntype: strategic-plan\ndistrict: {District Name}\nyear: {YYYY}\nphase: {1-7 or complete}\nstatus: draft | in-progress | final\ncreated: {date}\nupdated: {date}\n---\n```\n\n---\n\n## Common K-12 Strategic Themes\n\nPre-loaded from `config/k12-themes.yaml`:\n\n| Theme | Prevalence | Key Metrics |\n|-------|------------|-------------|\n| Student Achievement | 90%+ | Test scores, graduation rates, college readiness |\n| Equity & Access | 90% | Gap reduction, program access, representation |\n| Staff Quality & Retention | 80% | Hiring, development, turnover rates |\n| Parent/Community Engagement | 80% | Participation, satisfaction, partnerships |\n| Facilities & Technology | 75% | Infrastructure, device ratios, connectivity |\n| Fiscal Sustainability | 70% | Budget balance, reserves, cost efficiency |\n| Social-Emotional Learning | Growing | SEL metrics, climate surveys, wellness |\n| Safety & Security | Variable | Incident rates, preparedness, climate |\n\n---\n\n## Research Foundations\n\nThis skill synthesizes best practices from:\n\n**ThoughtExchange 3 Models:**\n- Plan on a Page\n- VMOSA (Vision â†’ Mission â†’ Objectives â†’ Strategies â†’ Action Plan)\n- Five-Step Model\n\n**Education Elements (7 Steps):**\n- Pre-Planning Assessment\n- Community Engagement Strategy\n- Strategic Planning Team Formation\n- Build Common Understanding\n- Design Solutions (prioritization matrix)\n- Communication Planning\n- Monitoring and Adaptation\n\n**Hanover Research (5 Phases):**\n- Discovery (surveys, benchmarking)\n- Analysis (SWOT synthesis)\n- Visioning (workshops)\n- Goal Setting (SMART goals)\n- Implementation Roadmap (KPIs)\n\n**AASA 10-Step Framework:**\n- Comprehensive district leadership approach\n- Emphasis on board/superintendent buy-in\n- Quarterly monitoring, annual evaluation\n\n**ICA Technology of Participation (ToP):**\n- ORID Method (Objective â†’ Reflective â†’ Interpretive â†’ Decisional)\n- Focused Conversation\n- Consensus Workshop\n- Strategic Planning Matrix\n\n**CoSN Strategic Planning (Direct Experience):**\n- Discovery Findings\n- SWOT â†’ Investment/Barriers\n- Practical Vision (3-year, categorized)\n- Underlying Contradictions\n- Strategic Directions\n- Focused Implementation (Current â†’ 1-Year â†’ 3-Year)\n- First-Year Timeline\n\n---\n\n## Example Workflow\n\n### Starting a New Strategic Plan\n\n```\nUser: \"Help me create a strategic plan for our district\"\n\nGeoffrey:\n1. Ask which mode: Full Process, Phase-Specific, or Data Analysis\n2. If Full Process:\n   - Ask about available data (surveys, transcripts, existing docs)\n   - Ask about timeline (retreat dates, board presentation date)\n   - Ask about stakeholder groups to involve\n3. Begin Phase 1: Discovery\n   - Ingest provided data files\n   - Generate Discovery Report\n4. Continue through phases with appropriate AI/human balance\n5. Generate final plan documents\n6. Save to Obsidian vault\n```\n\n### Analyzing Survey Data Only\n\n```\nUser: \"I have survey results I need to analyze for our strategic planning\"\n\nGeoffrey:\n1. Ask for data file(s) and format\n2. Run analyze_surveys.py\n3. Present findings:\n   - Key themes\n   - Stakeholder differences\n   - Sentiment analysis\n   - Suggested SWOT inputs\n4. Ask if user wants to continue to SWOT generation\n```\n\n### Updating an Existing Plan\n\n```\nUser: \"We need to update our strategic plan for year 2\"\n\nGeoffrey:\n1. Load existing plan from Obsidian\n2. Ask about progress on Year 1 accomplishments\n3. Collect new data/feedback\n4. Identify what's on track, at risk, off track\n5. Recommend adjustments to timeline/directions\n6. Generate updated plan document\n```\n\n---\n\n## Error Handling\n\n**1. No data provided for discovery:**\n- Offer to conduct discovery interviews directly\n- Suggest data collection templates\n- Proceed with qualitative input only\n\n**2. Insufficient stakeholder representation:**\n- Flag which groups are missing\n- Recommend targeted data collection\n- Note limitation in final report\n\n**3. Conflicting stakeholder priorities:**\n- Surface contradictions explicitly in Phase 4\n- Use as input for strategic direction decisions\n- Document minority viewpoints\n\n**4. Unrealistic implementation timeline:**\n- Flag capacity concerns\n- Suggest prioritization/phasing\n- Recommend reducing scope or extending timeline\n\n**5. Plan update with no progress data:**\n- Conduct progress interview\n- Use qualitative assessment\n- Note \"self-reported\" vs \"measured\" progress\n\n---\n\n## Version History\n\n**v1.0.0** (2026-01-26)\n- Initial release\n- 7-phase CoSN/ToP methodology\n- 4 skill modes (Full, Phase-Specific, Data Analysis, Update)\n- Python scripts for data analysis\n- Facilitator guides for human sessions\n- Obsidian integration for plan storage\n- K-12 themes and metrics library\n- Research-backed framework synthesis\n",
        "skills/strategic-planning-manager/guides/phase1-discovery-guide.md": "# Phase 1: Discovery & Data Collection\n## Facilitator Guide\n\n---\n\n## Overview\n\n**Purpose:** Gather comprehensive data about the current state of the district from multiple sources and stakeholders.\n\n**Duration:** 2-4 weeks (depending on data collection methods)\n\n**AI Role:** Primary executor for analysis\n**Human Role:** Data collection, relationship management, context provision\n\n---\n\n## Pre-Session Preparation\n\n### Data Inventory Checklist\n\n- [ ] Existing strategic plan documents\n- [ ] Recent survey data (climate, satisfaction, etc.)\n- [ ] Board meeting minutes (last 12 months)\n- [ ] Budget documents\n- [ ] Enrollment/demographic data\n- [ ] Assessment results\n- [ ] Staff turnover data\n- [ ] Community feedback compilations\n- [ ] Previous planning documents\n- [ ] Accreditation reports\n\n### Stakeholder Mapping\n\n| Stakeholder Group | Target # | Method | Lead | Status |\n|-------------------|----------|--------|------|--------|\n| Students (HS) | 50-100 | Survey + Focus Group | | |\n| Students (MS) | 50-100 | Survey + Focus Group | | |\n| Parents/Families | 200+ | Survey | | |\n| Teachers | All | Survey + Focus Group | | |\n| Classified Staff | All | Survey + Focus Group | | |\n| Administrators | All | Survey + Interviews | | |\n| Community Members | 50+ | Survey + Town Hall | | |\n| Board Members | All | Interviews | | |\n\n---\n\n## Survey Design Guidelines\n\n### Core Question Categories\n\n1. **Satisfaction/Climate**\n   - Overall satisfaction with district direction\n   - School climate and culture\n   - Communication effectiveness\n\n2. **Strengths & Successes**\n   - \"What does our district do well?\"\n   - \"What should we definitely keep doing?\"\n   - \"What makes you proud of our district?\"\n\n3. **Areas for Improvement**\n   - \"What concerns you about our district?\"\n   - \"What should we do differently?\"\n   - \"What's missing that students need?\"\n\n4. **Future Vision**\n   - \"In 3 years, what do you hope our district looks like?\"\n   - \"What's most important for student success?\"\n\n5. **Priorities**\n   - Ranking of priority areas (use common K-12 themes)\n   - Resource allocation preferences\n\n### Survey Tips\n\n- Keep surveys under 15 minutes\n- Mix quantitative (ratings) with qualitative (open-ended)\n- Offer multiple languages if needed\n- Provide online and paper options\n- Allow anonymous responses\n- Include demographic questions for analysis\n\n---\n\n## Focus Group Protocol\n\n### Session Structure (90 minutes)\n\n| Time | Activity | Purpose |\n|------|----------|---------|\n| 0:00-0:10 | Welcome & Ground Rules | Set context |\n| 0:10-0:30 | Warm-Up: Successes | Build positive energy |\n| 0:30-0:60 | Core Discussion | Gather insights |\n| 0:60-0:80 | Future Vision | Forward thinking |\n| 0:80-0:90 | Closing & Next Steps | Thank participants |\n\n### Ground Rules to Establish\n\n1. All perspectives are valued\n2. Speak from your own experience\n3. Respect confidentiality\n4. One person speaks at a time\n5. It's okay to disagree respectfully\n6. No \"right\" answersâ€”we want honest input\n\n### Facilitator Prompts\n\n**Opening:**\n\"Thank you for being here. Your voice matters in shaping our district's future. We're in the discovery phase of strategic planning, gathering insights from across our community.\"\n\n**Successes Question:**\n\"Let's start with what's working. Think about the past yearâ€”what has gone well in our district? What are you proud of?\"\n\n*Follow-up:* \"What made that successful? Why did that work?\"\n\n**Concerns Question:**\n\"Now let's talk about challenges. What concerns you about our district? What's not working as well as it could?\"\n\n*Follow-up:* \"What impact does that have? Who is affected?\"\n\n**Vision Question:**\n\"Imagine it's [3 years from now]. What would you love to see in our district? What would be different?\"\n\n*Follow-up:* \"What would that look like for students? For families? For staff?\"\n\n**Priority Question:**\n\"If you could change ONE thing about our district, what would it be? Why?\"\n\n### Recording Focus Groups\n\n- Designate a note-taker (not the facilitator)\n- Capture key quotes verbatim when possible\n- Note speaker type (parent, teacher, etc.) not names\n- Record themes as they emerge\n- Ask permission before audio recording\n- Store notes securely\n\n---\n\n## Interview Protocol (Board/Administrators)\n\n### Session Structure (45-60 minutes)\n\n**Opening (5 min):**\n\"Thank you for your time. I'm gathering input for our strategic planning process. Your leadership perspective is essential. This conversation is confidentialâ€”I'll share themes, not attributions.\"\n\n**Questions:**\n\n1. \"What are the district's greatest strengths right now?\"\n\n2. \"What keeps you up at night about our district?\"\n\n3. \"Where do you see the biggest opportunities for improvement?\"\n\n4. \"What should we absolutely protect or continue?\"\n\n5. \"If we're wildly successful in 3 years, what will be different?\"\n\n6. \"What barriers or challenges will we need to overcome?\"\n\n7. \"Is there anything else you want me to know as we plan?\"\n\n---\n\n## Document Review Checklist\n\n### For Each Document, Extract:\n\n- [ ] Key goals/priorities stated\n- [ ] Metrics/indicators mentioned\n- [ ] Stated successes\n- [ ] Stated challenges\n- [ ] Resource allocations\n- [ ] Community feedback referenced\n- [ ] Policy changes noted\n\n### Documents to Review\n\n| Document | Source | Key Insights |\n|----------|--------|--------------|\n| Previous Strategic Plan | | |\n| Board Goals | | |\n| Budget Summary | | |\n| Climate Survey Results | | |\n| Accreditation Report | | |\n| State Report Card | | |\n\n---\n\n## Data Analysis Process\n\n### Step 1: Data Cleaning\n\n- Remove incomplete responses\n- Check for duplicates\n- Standardize formats\n- Organize by source\n\n### Step 2: Quantitative Analysis\n\n- Calculate response rates\n- Compute means/distributions for ratings\n- Compare across stakeholder groups\n- Identify significant differences\n\n### Step 3: Qualitative Analysis\n\n- Read through all responses\n- Code responses by theme\n- Count theme frequency\n- Extract representative quotes\n- Note sentiment (positive/negative/neutral)\n\n### Step 4: Synthesis\n\n- Cross-reference findings across sources\n- Identify patterns that appear in multiple places\n- Note areas of agreement/disagreement\n- Flag gaps in data\n\n---\n\n## Discovery Report Outline\n\n1. **Executive Summary**\n   - Key takeaways (3-5 bullets)\n   - Stakeholder participation summary\n\n2. **Methodology**\n   - Data sources used\n   - Response rates\n   - Limitations noted\n\n3. **Findings by Theme**\n   - Strengths (with evidence)\n   - Areas for improvement (with evidence)\n   - Opportunities identified\n   - Concerns raised\n\n4. **Stakeholder Voice**\n   - Representative quotes\n   - Group-specific findings\n\n5. **Initial SWOT Inputs**\n   - Suggested strengths\n   - Suggested weaknesses\n   - Suggested opportunities\n   - Suggested threats\n\n6. **Recommendations for Next Phase**\n   - Key issues to explore in SWOT\n   - Data gaps to address\n\n---\n\n## Common Challenges & Solutions\n\n| Challenge | Solution |\n|-----------|----------|\n| Low survey response | Multiple reminders, incentives, shorter survey |\n| Dominant voices in focus groups | Use round-robin, small groups first |\n| Contradictory data | Note both perspectives, explore in SWOT |\n| Missing stakeholder groups | Targeted outreach, alternative methods |\n| Sensitive findings | Report themes, not individuals |\n\n---\n\n## Handoff to Phase 2\n\nBefore moving to SWOT Analysis:\n\n- [ ] Discovery Report completed\n- [ ] Key findings validated with leadership\n- [ ] Initial SWOT inputs prepared\n- [ ] Planning team briefed on findings\n- [ ] Data files organized for AI analysis\n\n---\n\n*Phase 1 Guide - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/guides/phase2-swot-guide.md": "# Phase 2: Environmental Analysis (SWOT)\n## Facilitator Guide\n\n---\n\n## Overview\n\n**Purpose:** Synthesize discovery findings into a comprehensive understanding of internal and external factors affecting the district.\n\n**Duration:** 2-3 hours for workshop session\n\n**AI Role:** Pre-generate draft SWOT from data, support synthesis\n**Human Role:** Validate, refine, prioritize, add tacit knowledge\n\n---\n\n## Pre-Session Preparation\n\n### Materials Needed\n\n- [ ] Discovery Report summary (copies for all)\n- [ ] Draft SWOT from AI analysis\n- [ ] Large post-its or chart paper\n- [ ] Markers\n- [ ] Dot stickers for voting\n- [ ] SWOT template handouts\n- [ ] Laptop/projector for display\n\n### Room Setup\n\n- Tables arranged for small groups (4-6 per table)\n- Wall space for posting charts\n- Visible timer\n- Flip chart at front\n\n### Pre-Work for Participants\n\nSend 2-3 days before:\n- Discovery Report summary\n- Draft SWOT for review\n- Request: \"Come prepared with additions/edits\"\n\n---\n\n## Session Agenda (2.5 hours)\n\n| Time | Activity | Duration | Notes |\n|------|----------|----------|-------|\n| 0:00 | Welcome & Context | 10 min | |\n| 0:10 | Review Discovery Findings | 15 min | |\n| 0:25 | SWOT Validation - Small Groups | 40 min | |\n| 1:05 | Break | 10 min | |\n| 1:15 | SWOT Synthesis - Large Group | 30 min | |\n| 1:45 | Investment & Barriers Analysis | 30 min | |\n| 2:15 | Next Steps & Close | 15 min | |\n| 2:30 | End | | |\n\n---\n\n## Facilitation Script\n\n### Welcome & Context (10 min)\n\n**Say:**\n\"Welcome to our SWOT analysis session. Today we're taking everything we learned in discovery and organizing it into a strategic framework.\n\nSWOT stands for Strengths, Weaknesses, Opportunities, and Threats:\n- **Strengths** are internal, positiveâ€”what we do well\n- **Weaknesses** are internal, negativeâ€”where we're limited\n- **Opportunities** are external, positiveâ€”factors we can leverage\n- **Threats** are external, negativeâ€”risks we need to navigate\n\nOur goal today is to validate the draft SWOT, add your expertise, prioritize, and identify where we'll invest our energy.\"\n\n### Review Discovery Findings (15 min)\n\n**Say:**\n\"Let me highlight key findings from our discovery phase...\"\n\nWalk through:\n- Participation summary (who we heard from)\n- Top 3-5 themes that emerged\n- Areas of strong agreement\n- Areas of divergence\n\n**Ask:**\n\"Any surprises? Anything missing from what you've heard in our community?\"\n\n### SWOT Validation - Small Groups (40 min)\n\n**Instructions:**\n\"At your tables, you have the draft SWOT. Your job is to:\n1. Review each quadrant (10 min each)\n2. Add anything missing from your knowledge\n3. Flag anything that doesn't belong\n4. Star the 3 most important items in each quadrant\n\nWork through all four quadrants. I'll keep time.\"\n\n**Timing:**\n- Strengths: 10 min\n- Weaknesses: 10 min\n- Opportunities: 10 min\n- Threats: 10 min\n\n**Circulate and prompt:**\n- \"What about [specific area]?\"\n- \"Is there evidence for that?\"\n- \"How significant is this?\"\n\n### SWOT Synthesis - Large Group (30 min)\n\n**Process:**\n1. Each table reports their top 3 per quadrant (5 min each)\n2. Facilitator captures on chart paper\n3. Look for patterns across tables\n4. Discuss any contested items\n5. Dot voting on priorities (3 dots per person per quadrant)\n\n**Say:**\n\"Let's hear from each table. Share your top 3 for Strengths...\"\n\nAfter all input:\n\"Looking at what's on the wallâ€”what patterns do you see? Where do we agree strongly?\"\n\n### Investment & Barriers Analysis (30 min)\n\n**Part 1: Where Will We Invest? (15 min)**\n\n**Say:**\n\"Now let's look at strategic opportunities. We do this by pairing Strengths with Opportunities.\n\nThe question is: What strengths can we leverage to capture opportunities?\n\nExample: If our strength is 'Strong teacher professional learning culture' and our opportunity is 'Growing interest in personalized learning'â€”we might invest in 'Teacher-led innovation in personalization.'\"\n\n**Small group activity:**\n\"Identify 2-3 investment opportunities by pairing S+O. Write on chart paper.\"\n\nReport out and capture.\n\n**Part 2: What's Holding Us Back? (15 min)**\n\n**Say:**\n\"Now let's identify our biggest barriersâ€”the weaknesses that most limit our ability to achieve our vision.\n\nThese aren't just problemsâ€”they're the things that will block our strategic directions if we don't address them.\"\n\n**Ask:**\n\"Looking at our weaknesses, which 3-5 are most critical to address? Which ones, if left unaddressed, will undermine everything else?\"\n\nDot vote or discuss to prioritize.\n\n### Next Steps & Close (15 min)\n\n**Say:**\n\"Excellent work today. Here's what happens next:\n\n1. I'll compile our SWOT into a clean document\n2. You'll receive it for final review\n3. At our next session, we'll develop our Practical Vision\n4. Today's investment priorities and barriers will inform our strategic directions\"\n\n**Ask:**\n\"Any final thoughts before we close?\"\n\n---\n\n## Key Facilitation Tips\n\n### For Strengths Discussion\n\n- Push beyond vague (\"great teachers\") to specific (\"98% of teachers engaged in PLCs weekly\")\n- Ask \"What evidence supports this?\"\n- Consider \"Would outsiders agree this is a strength?\"\n\n### For Weaknesses Discussion\n\n- Create psychological safetyâ€”this isn't blame\n- Focus on systemic issues, not individuals\n- Ask \"What's the impact of this weakness?\"\n\n### For Opportunities Discussion\n\n- Look beyond district boundaries\n- Consider trends, demographics, policy, funding\n- Ask \"Is this within our influence to capture?\"\n\n### For Threats Discussion\n\n- Be realistic, not alarmist\n- Consider timeline (immediate vs. emerging)\n- Ask \"What's our ability to mitigate this?\"\n\n---\n\n## Common Challenges\n\n| Challenge | Response |\n|-----------|----------|\n| Confusion between S/W and O/T | \"Is this about us (internal) or about our environment (external)?\" |\n| Everything seems like a weakness | \"Let's pauseâ€”what ARE we doing well? What would we protect?\" |\n| Generic/vague items | \"Can you make that more specific? What's an example?\" |\n| Dominant voices | \"Let's hear from someone who hasn't spoken yet.\" |\n| Disagreement on an item | \"Let's capture both perspectives and note the disagreement.\" |\n\n---\n\n## Output Checklist\n\nBy end of session:\n- [ ] Validated/refined SWOT matrix\n- [ ] Prioritized items (via dot voting)\n- [ ] 3-5 investment opportunities identified (SÃ—O)\n- [ ] 3-5 critical barriers identified (W focus)\n- [ ] Agreement on next steps\n\n---\n\n## Post-Session Actions\n\n1. Compile clean SWOT document\n2. Send to participants for review (48-hour window)\n3. Incorporate feedback\n4. Prepare materials for Phase 3 (Practical Vision)\n5. Share key points with broader stakeholders\n\n---\n\n*Phase 2 Guide - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/guides/phase3-vision-guide.md": "# Phase 3: Practical Vision Development\n## Facilitator Guide\n\n---\n\n## Overview\n\n**Purpose:** Define what success looks like in 3 years through collaborative brainstorming and consensus building.\n\n**Duration:** 3-4 hours for workshop session\n\n**AI Role:** Provide prompts, capture input, suggest groupings\n**Human Role:** Primary creators of vision content\n\n---\n\n## Key Principle\n\nA **Practical Vision** is NOT:\n- A mission statement\n- Vague aspirations\n- What we're doing now\n\nA **Practical Vision** IS:\n- Concrete, observable outcomes\n- What will be different in 3 years\n- Stakeholder-focused changes\n- Achievable but ambitious\n\n**The Test:** \"If I walked into this district in 3 years, what would I see, hear, and experience?\"\n\n---\n\n## Pre-Session Preparation\n\n### Materials Needed\n\n- [ ] SWOT summary (for reference)\n- [ ] Large sticky notes (4x6 or larger)\n- [ ] Markers (thick, dark colors)\n- [ ] Large wall space or boards (8-10 column spaces)\n- [ ] Masking tape\n- [ ] Category header cards (blank)\n- [ ] Timer\n- [ ] Laptops for real-time capture (optional)\n\n### Room Setup\n\n- Tables for small groups (4-6 per table)\n- Large wall space for clustering (essential)\n- Clear sight lines to wall\n- Space for people to move around\n\n### Pre-Work\n\nSend 2-3 days before:\n- SWOT summary\n- Question to reflect on: \"It's [3 years from now]. What do you see in our district that makes you proud?\"\n\n---\n\n## Session Agenda (3.5 hours)\n\n| Time | Activity | Duration | Notes |\n|------|----------|----------|-------|\n| 0:00 | Welcome & Context | 10 min | |\n| 0:10 | Individual Brainstorm | 15 min | |\n| 0:25 | Pair Share | 10 min | |\n| 0:35 | Table Consolidation | 20 min | |\n| 0:55 | Wall Posting | 10 min | |\n| 1:05 | Break | 10 min | |\n| 1:15 | Clustering Round 1 | 25 min | |\n| 1:40 | Clustering Round 2 | 20 min | |\n| 2:00 | Naming Categories | 25 min | |\n| 2:25 | Vision Narrative | 20 min | |\n| 2:45 | Validation & Close | 15 min | |\n| 3:00 | End | | |\n\n---\n\n## Facilitation Script\n\n### Welcome & Context (10 min)\n\n**Say:**\n\"Today we're building our Practical Visionâ€”a concrete picture of what our district looks like in 3 years if we're successful.\n\nThis isn't about what we're doing now, or vague hopes. It's about specific, observable outcomes. Think about:\n- What students will experience\n- What families will see\n- What staff will be doing differently\n- What our community will notice\n\nThe key question: **It's [year + 3]. You walk into our district. What do you see that makes you proud?**\"\n\n### Individual Brainstorm (15 min)\n\n**Say:**\n\"Take 15 minutes. On your sticky notes, write ONE idea per note. Complete this sentence: 'In 3 years, I see...'\n\nWrite as many as you can. Aim for at least 8-10 ideas. They can be about any aspect of the districtâ€”learning, climate, staff, community, anything.\n\nBe specific. Not 'good instruction' but 'teachers using data to personalize learning for every student.'\n\nGo.\"\n\n**Circulate and prompt:**\n- \"What about students? What will they experience?\"\n- \"What will families notice?\"\n- \"What about staff culture?\"\n- \"Think about equityâ€”what will be different?\"\n\n### Pair Share (10 min)\n\n**Say:**\n\"Turn to a partner. Share your ideas. Look for overlaps and build on each other's thinking. Combine similar ideas onto one note if you'd like.\"\n\n### Table Consolidation (20 min)\n\n**Say:**\n\"At your table, share all your ideas. Group similar ones together. As a table, identify your TOP 10-12 ideas to post on the wall.\n\nWrite clearlyâ€”these will be read from a distance. One idea per note.\"\n\n### Wall Posting (10 min)\n\n**Say:**\n\"One person from each table, bring your notes to the wall and post them. Don't organize yetâ€”just post them all in your table's section.\"\n\n### Break (10 min)\n\n**Say:**\n\"Take a break. When you come back, walk the wall. Read what other tables wrote. Notice patterns.\"\n\n### Clustering Round 1 (25 min)\n\n**Say:**\n\"Now we cluster. Without talking, move notes that seem related closer together. If you see two ideas that belong together, put them near each other.\n\nDon't create formal categories yetâ€”just cluster by similarity. Work silently for 10 minutes.\"\n\nAfter silent clustering:\n\n**Say:**\n\"Now you can talk. Discuss the clusters you see forming. Continue to refine groupings. What themes are emerging?\"\n\n### Clustering Round 2 (20 min)\n\n**Say:**\n\"Let's formalize the clusters. We're aiming for 8-10 distinct categories.\n\nWork as a group to:\n1. Define clear cluster boundaries\n2. Move any outliers to where they fit best\n3. Identify any gapsâ€”is something missing?\"\n\n**Facilitate:**\n- \"Is this one cluster or two?\"\n- \"Where does this note belong?\"\n- \"What's the common thread in this cluster?\"\n\n### Naming Categories (25 min)\n\n**Say:**\n\"Now we name each cluster. The name should capture the essence of what's in that column.\n\nNot just 'Technology' but 'Technology That Empowers Learning'\nNot just 'Staff' but 'Supported, Growing Professionals'\n\nWork in pairs or small groupsâ€”each pair takes 2-3 columns. Write a name on the header card.\"\n\nAfter naming:\n**Large group review each name:**\n- \"Does this name capture what's here?\"\n- \"Is it aspirational enough?\"\n- \"Is it too vague?\"\n\n### Vision Narrative (20 min)\n\n**Say:**\n\"For each category, let's create a 2-3 sentence narrative. What's the story of this vision area?\n\nI'll capture these as we discuss. Let's start with [first category]...\"\n\n**For each category, ask:**\n- \"In plain language, what does this mean for our district?\"\n- \"What will people experience?\"\n- \"How will we know we've achieved this?\"\n\n### Validation & Close (15 min)\n\n**Say:**\n\"Let's step back and look at our complete Practical Vision.\n\nQuestions:\n- Is anything major missing?\n- Does this feel ambitious but achievable in 3 years?\n- Will stakeholders recognize their input here?\n- Does this align with our SWOTâ€”leveraging strengths, addressing weaknesses, capturing opportunities?\"\n\n**Close:**\n\"This is excellent work. I'll compile this into our Practical Vision document. You'll receive it for review.\n\nNext session: Underlying Contradictionsâ€”what tensions must we resolve to make this vision real?\"\n\n---\n\n## Vision Prompt Ideas\n\nIf groups need prompts, offer these by category:\n\n**Learning & Achievement:**\n- What does student learning look like?\n- How are students prepared for their futures?\n- What assessment practices exist?\n\n**Equity & Access:**\n- Who is succeeding? (Everyone!)\n- What barriers have been removed?\n- What opportunities are available to all?\n\n**Staff & Culture:**\n- How do staff feel about working here?\n- What professional growth exists?\n- How do people collaborate?\n\n**Community & Families:**\n- How do families engage with schools?\n- What partnerships exist?\n- How is the district perceived?\n\n**Technology & Innovation:**\n- How is technology used for learning?\n- What innovations are happening?\n- How is data used?\n\n**Facilities & Resources:**\n- What do learning spaces look like?\n- How are resources allocated?\n- What infrastructure exists?\n\n**Safety & Wellness:**\n- How do students/staff feel at school?\n- What supports exist for wellness?\n- How is climate measured?\n\n**Fiscal & Operations:**\n- How are resources used efficiently?\n- What fiscal health exists?\n- How are operations supporting learning?\n\n---\n\n## Common Challenges\n\n| Challenge | Response |\n|-----------|----------|\n| Ideas too vague | \"Make it observable. What would I see?\" |\n| Ideas too small | \"Think bigger. What's the vision, not the task?\" |\n| Getting stuck | Offer prompts by category |\n| Too many clusters | \"Can any of these combine? What's the broader theme?\" |\n| Disagreement on categories | \"Both can be true. Let's capture the nuance.\" |\n| Dominant contributors | \"Let's hear from someone who hasn't spoken.\" |\n\n---\n\n## Output Checklist\n\nBy end of session:\n- [ ] 8-10 vision categories defined\n- [ ] Each category has specific vision items\n- [ ] Category names are aspirational and clear\n- [ ] Brief narrative for each category\n- [ ] Group consensus on complete vision\n\n---\n\n## Post-Session Actions\n\n1. Compile Practical Vision document\n2. Send to participants for review (48-hour window)\n3. Cross-reference with SWOT for alignment\n4. Prepare materials for Phase 4 (Contradictions)\n5. Create visual summary for broader sharing\n\n---\n\n*Phase 3 Guide - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/guides/phase4-contradictions-guide.md": "# Phase 4: Underlying Contradictions\n## Facilitator Guide\n\n---\n\n## Overview\n\n**Purpose:** Identify deep tensions that must be resolvedâ€”not just barriers to overcomeâ€”for the vision to be achieved.\n\n**Duration:** 2-3 hours for workshop session\n\n**AI Role:** Pattern identification, framing suggestions\n**Human Role:** Primary identification and prioritization\n\n---\n\n## Key Concept: Contradictions vs. Barriers\n\nThis is the most commonly misunderstood phase. Clarify early and often:\n\n**Barriers** are obstacles to remove:\n- \"We don't have enough funding\"\n- \"Our technology is outdated\"\n- \"We lack training in X\"\n\n**Contradictions** are tensions to resolve:\n- \"We want innovation BUT our culture is risk-averse\"\n- \"We value personalization BUT we're measured by standardized tests\"\n- \"We need collaboration BUT staff are siloed and protective\"\n\n**The Test:** A contradiction typically has \"but\" or \"vs\" in it. Both sides have validity. It's not a problem to solve but a tension to navigate.\n\n---\n\n## Pre-Session Preparation\n\n### Materials Needed\n\n- [ ] Practical Vision summary (visible on wall)\n- [ ] SWOT summary (reference)\n- [ ] Large sticky notes\n- [ ] Markers\n- [ ] Wall space for clustering\n- [ ] Category cards (blank)\n- [ ] Timer\n\n### Room Setup\n\n- Tables for small groups (4-6 per table)\n- Vision display visible to all\n- Wall space for contradiction clustering\n- Flip chart for examples\n\n### Pre-Work\n\nSend 2-3 days before:\n- Practical Vision summary\n- Prompt: \"Looking at our vision, what tensions or contradictions might make it hard to achieve? What pulls us in opposite directions?\"\n\n---\n\n## Session Agenda (2.5 hours)\n\n| Time | Activity | Duration | Notes |\n|------|----------|----------|-------|\n| 0:00 | Welcome & Concept Teaching | 15 min | Critical! |\n| 0:15 | Individual Brainstorm | 15 min | |\n| 0:30 | Small Group Sharing | 20 min | |\n| 0:50 | Wall Posting & Clustering | 20 min | |\n| 1:10 | Break | 10 min | |\n| 1:20 | Naming Contradictions | 25 min | |\n| 1:45 | Prioritization | 20 min | |\n| 2:05 | Impact Mapping | 20 min | |\n| 2:25 | Close & Next Steps | 10 min | |\n| 2:35 | End | | |\n\n---\n\n## Facilitation Script\n\n### Welcome & Concept Teaching (15 min)\n\n**Say:**\n\"Today we're doing something differentâ€”and it might feel uncomfortable. We're identifying the underlying contradictions that could prevent our vision from becoming reality.\n\nThese aren't just problems or barriers. They're tensionsâ€”places where two things we want pull us in opposite directions.\n\nLet me give you examples...\"\n\n**Example 1:**\n\"We want teachers to take risks and innovate. But we also have a culture that punishes mistakes and values proven practices. That's a contradictionâ€”both things are true, and they create tension.\"\n\n**Example 2:**\n\"We want personalized learning for every student. But we're measured by standardized tests that assume everyone learns the same things at the same pace. Contradiction.\"\n\n**Example 3:**\n\"We want to be one unified district. But our schools have strong identities and resist central direction. Both are real, both have value, and they're in tension.\"\n\n**Ask:**\n\"Does this distinction make sense? A barrier is something to remove. A contradiction is a tension to resolveâ€”often by finding a creative way to honor both sides.\"\n\n### Individual Brainstorm (15 min)\n\n**Say:**\n\"Look at our Practical Vision on the wall. For the next 15 minutes, think about what could prevent this vision from becoming real.\n\nBut here's the twistâ€”focus on tensions, not just obstacles.\n\nComplete this frame: 'We want _____, BUT _____.'\"\n\n**On each sticky note, write one contradiction. Aim for 6-8.**\n\n**Circulate and prompt:**\n- \"Think about our cultureâ€”what tensions exist?\"\n- \"Think about resourcesâ€”where do we face trade-offs?\"\n- \"Think about stakeholdersâ€”where do different groups want different things?\"\n- \"Think about policyâ€”where does external pressure conflict with what we want?\"\n\n### Small Group Sharing (20 min)\n\n**Say:**\n\"At your tables, share your contradictions. Look for similar tensionsâ€”combine where appropriate.\n\nAs a table, identify your TOP 8-10 contradictions to post.\n\nWrite them clearly in the 'We want X, BUT Y' format.\"\n\n### Wall Posting & Clustering (20 min)\n\n**Say:**\n\"Post your contradictions on the wall. Then, as a group, cluster similar contradictions together. Work silently first, then discuss.\"\n\n**Facilitate:**\n- \"Is this the same tension expressed differently?\"\n- \"Are these related or distinct contradictions?\"\n- \"What's the deeper tension beneath these?\"\n\n### Naming Contradictions (25 min)\n\n**Say:**\n\"Now let's name each cluster. We're giving each contradiction a title that captures the tension.\n\nNot just 'Resources' but 'Innovation vs. Risk Aversion' or 'Centralization vs. School Autonomy'\"\n\n**For each cluster, ask:**\n- \"What's the core tension here?\"\n- \"What are the two sides pulling against each other?\"\n- \"Can we capture this in a short title?\"\n\n**Refine language together:**\n\"We need a name that honors both sides of the tension, not one that implies one side is wrong.\"\n\n### Prioritization (20 min)\n\n**Say:**\n\"Not all contradictions are equal. Some are fundamentalâ€”if we don't resolve them, nothing else matters. Others are secondary.\n\nLet's prioritize using two criteria:\n1. **Impact:** How much does this block our vision?\n2. **Tractability:** How much is within our power to address?\"\n\n**Dot voting:**\nGive each person 3 dots. Vote for the contradictions that are MOST critical to resolve.\n\n**Count and rank:**\n- High votes = high priority contradictions\n- These will drive strategic direction development\n\n### Impact Mapping (20 min)\n\n**Say:**\n\"For our top 3-5 contradictions, let's map their impact on our vision.\n\nFor each one:\n- Which vision categories does it affect?\n- How severe is the blockage?\n- What happens if we don't resolve it?\"\n\n**Create a matrix:**\n\n| Contradiction | Vision Areas Affected | Severity | Cost of Inaction |\n|---------------|----------------------|----------|------------------|\n| C1 | Learning, Equity | High | Vision fails |\n| C2 | Staff, Culture | Medium | Progress slowed |\n\n### Close & Next Steps (10 min)\n\n**Say:**\n\"This was important work. We've named the tensions that could derail our vision.\n\nNext session: Strategic Directions. We'll design innovative approaches that resolve these contradictions while advancing our vision.\n\nThe strategic directions will specifically address these tensionsâ€”not avoid them.\"\n\n---\n\n## Contradiction Prompts by Category\n\nIf groups get stuck, offer these prompts:\n\n**Culture & Mindset:**\n- \"Where do our stated values conflict with our actual behavior?\"\n- \"What do we say we want but resist when it requires change?\"\n\n**Resources & Capacity:**\n- \"Where do we face trade-offs between competing priorities?\"\n- \"What do we want to do but lack resources for?\"\n\n**Structure & Policy:**\n- \"Where do external requirements conflict with what we believe?\"\n- \"Where does our organizational structure create tension?\"\n\n**Stakeholders:**\n- \"Where do different groups want different things?\"\n- \"Where do adult needs conflict with student needs?\"\n\n**Time:**\n- \"Where do short-term demands conflict with long-term goals?\"\n- \"Where does urgent crowd out important?\"\n\n---\n\n## Common K-12 Contradictions\n\nUse as examples or validation:\n\n| Contradiction | Tension |\n|---------------|---------|\n| Standardization vs. Personalization | \"We want personalized learning BUT we're measured by standardized tests\" |\n| Innovation vs. Risk Aversion | \"We want innovation BUT our culture punishes failure\" |\n| Collaboration vs. Autonomy | \"We want collaboration BUT staff value their independence\" |\n| Equity vs. Excellence | \"We want to serve all students BUT high performers feel held back\" |\n| Central vs. Local | \"We want consistency BUT schools want autonomy\" |\n| Speed vs. Inclusion | \"We want inclusive decisions BUT we also need to move fast\" |\n| Work-Life vs. Dedication | \"We want sustainable workloads BUT the work is endless\" |\n| Data vs. Privacy | \"We want data-informed decisions BUT we value privacy\" |\n\n---\n\n## Common Challenges\n\n| Challenge | Response |\n|-----------|----------|\n| Listing barriers instead | \"That's a problem to solve. What's the underlying tension?\" |\n| One-sided framing | \"What's the other side? Why does this tension exist?\" |\n| Too abstract | \"Give me a concrete example of this tension in action\" |\n| Blame-focused | \"Let's focus on the tension, not who caused it\" |\n| Avoidance/discomfort | \"This is meant to be uncomfortable. We're naming the hard truths.\" |\n\n---\n\n## Output Checklist\n\nBy end of session:\n- [ ] 8-12 contradictions identified\n- [ ] Each framed as \"We want X, BUT Y\"\n- [ ] Contradictions clustered and named\n- [ ] Top 3-5 prioritized\n- [ ] Impact on vision mapped\n- [ ] Group acknowledgment of tensions\n\n---\n\n## Post-Session Actions\n\n1. Compile Contradictions document\n2. Cross-reference with SWOT weaknesses\n3. Prepare for Phase 5 (Strategic Directions)\n4. Share with leadership for validation\n5. Ensure contradictions inform direction development\n\n---\n\n*Phase 4 Guide - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/guides/phase5-directions-guide.md": "# Phase 5: Strategic Directions\n## Facilitator Guide\n\n---\n\n## Overview\n\n**Purpose:** Define innovative actions that resolve contradictions and advance the practical vision.\n\n**Duration:** 3-4 hours for workshop session\n\n**AI Role:** Suggest evidence-based approaches, ensure coverage\n**Human Role:** Decision-making, prioritization, ownership\n\n---\n\n## Key Concept: What Makes a Strategic Direction\n\nStrategic Directions are NOT:\n- Goals (outcomes we want)\n- Tactics (specific activities)\n- Business as usual (what we already do)\n\nStrategic Directions ARE:\n- Innovative approaches (new ways of working)\n- Contradiction resolvers (address tensions identified)\n- Vision enablers (create conditions for success)\n- Multi-year commitments (sustained effort)\n\n**The Test:** \"Does this resolve a contradiction while advancing our vision? Is it a fundamentally different approach, not just more of what we do?\"\n\n---\n\n## Pre-Session Preparation\n\n### Materials Needed\n\n- [ ] Practical Vision summary (displayed)\n- [ ] Contradictions list (displayed)\n- [ ] SWOT investment priorities (reference)\n- [ ] Large chart paper\n- [ ] Markers (multiple colors)\n- [ ] Direction template handouts\n- [ ] Dot stickers for voting\n- [ ] Timer\n\n### Room Setup\n\n- Tables for small groups (4-6 per table)\n- Vision and Contradictions visible on walls\n- Flip charts for direction development\n- Space for gallery walk\n\n### Pre-Work\n\nSend 2-3 days before:\n- Vision summary\n- Prioritized contradictions\n- Prompt: \"Given our contradictions, what innovative approaches might resolve them while advancing our vision?\"\n\n---\n\n## Session Agenda (3.5 hours)\n\n| Time | Activity | Duration | Notes |\n|------|----------|----------|-------|\n| 0:00 | Welcome & Framework | 15 min | |\n| 0:15 | Contradiction-Vision Mapping | 20 min | |\n| 0:35 | Direction Brainstorm | 25 min | |\n| 1:00 | Direction Development (Small Groups) | 40 min | |\n| 1:40 | Break | 10 min | |\n| 1:50 | Gallery Walk & Feedback | 25 min | |\n| 2:15 | Direction Refinement | 20 min | |\n| 2:35 | Prioritization & Alignment | 25 min | |\n| 3:00 | Ownership & Close | 20 min | |\n| 3:20 | End | | |\n\n---\n\n## Facilitation Script\n\n### Welcome & Framework (15 min)\n\n**Say:**\n\"Today we define HOW we'll achieve our vision. We're developing Strategic Directionsâ€”innovative approaches that resolve our contradictions while advancing toward our vision.\n\nStrategic Directions answer: 'What will we do differently?'\n\nNot what we'll achieve (that's the vision).\nNot specific activities (that's implementation).\nBut the fundamental approaches we'll take.\"\n\n**Show framework:**\n\n```\nVISION          â†’  What we want to see\nCONTRADICTIONS  â†’  Tensions blocking us\nDIRECTIONS      â†’  How we'll navigate (TODAY)\nIMPLEMENTATION  â†’  What we'll do specifically\n```\n\n**Say:**\n\"Each strategic direction should:\n1. Resolve at least one major contradiction\n2. Advance multiple vision categories\n3. Be innovativeâ€”not just 'do more of X'\n4. Be sustainable over 3 years\"\n\n### Contradiction-Vision Mapping (20 min)\n\n**Say:**\n\"Before we brainstorm directions, let's map how our contradictions block specific parts of our vision.\"\n\n**Create matrix on flip chart:**\n\n| Contradiction | Vision Areas Blocked |\n|---------------|----------------------|\n| C1: [name] | [categories] |\n| C2: [name] | [categories] |\n| C3: [name] | [categories] |\n\n**Ask:**\n\"For each contradiction, which vision categories are affected? Where do we see the most overlapâ€”contradictions that block multiple vision areas?\"\n\n**Identify hotspots:**\n\"These are our highest-leverage opportunitiesâ€”directions that address these will have the most impact.\"\n\n### Direction Brainstorm (25 min)\n\n**Say:**\n\"Now let's brainstorm potential directions. Think about each major contradiction and ask: 'What innovative approach could resolve this tension while advancing our vision?'\n\nWrite each idea on a sticky note. Focus on approaches, not activities.\n\nNot: 'Train teachers in differentiation'\nBut: 'Create a culture of teacher innovation with permission to experiment'\"\n\n**Circulate and prompt:**\n- \"How might you honor BOTH sides of that tension?\"\n- \"What would fundamentally change how you work?\"\n- \"What do high-performing districts do here?\"\n- \"What would be truly innovative for your context?\"\n\n**After 15 minutes:**\n\"Share at your tables. Look for similar directions. Combine where appropriate.\"\n\n### Direction Development (Small Groups) (40 min)\n\n**Say:**\n\"Each table will develop 1-2 strategic directions in depth. Use this template...\"\n\n**Template on flip chart:**\n\n```\nSTRATEGIC DIRECTION: [Name]\n\nStatement: [1-2 sentence description of the approach]\n\nContradictions Resolved:\n- C#: [How this resolves it]\n- C#: [How this resolves it]\n\nVision Categories Advanced:\n- [Category]: [How this advances it]\n- [Category]: [How this advances it]\n\nKey Strategies (3-5):\n1. [Strategy]\n2. [Strategy]\n3. [Strategy]\n\nWhat's Different:\n[How is this fundamentally different from current practice?]\n\nResources Required:\n[High-level resource implications]\n```\n\n**Assign tables:**\n\"Table 1, develop directions for contradictions C1 and C2.\nTable 2, focus on C3 and C4.\nTable 3, focus on C5 and the vision areas not yet covered.\"\n\n### Gallery Walk & Feedback (25 min)\n\n**Say:**\n\"Post your directions on the wall. We'll do a gallery walk. Leave feedback using sticky notes:\n- Green = 'I love this'\n- Yellow = 'Question about this'\n- Pink = 'Concern about this'\"\n\n**Walk protocol:**\n- 5 min per station\n- Read, discuss at your group, leave feedback\n- Rotate\n\n### Direction Refinement (20 min)\n\n**Say:**\n\"Return to your own directions. Review the feedback. Discuss as a table:\n- What resonated?\n- What concerns should we address?\n- How do we strengthen this direction?\"\n\n**Revise flip charts based on feedback.**\n\n### Prioritization & Alignment (25 min)\n\n**Part 1: Coverage Check (10 min)**\n\n**Say:**\n\"Let's check: Are all major contradictions addressed? Are all vision categories supported?\"\n\n**Create alignment matrix:**\n\n| Direction | C1 | C2 | C3 | C4 | C5 | Vision Coverage |\n|-----------|----|----|----|----|----|----|\n| SD1 | âœ“ | | âœ“ | | | Learning, Equity |\n| SD2 | | âœ“ | | âœ“ | | Staff, Culture |\n| ... | | | | | | |\n\n**Identify gaps:**\n\"Where do we see gaps? Do we need another direction, or can we expand existing ones?\"\n\n**Part 2: Prioritization (15 min)**\n\n**Say:**\n\"If we could only do 3 things, which would have the most impact? Let's prioritize.\"\n\n**Criteria for voting:**\n1. Impact on vision achievement\n2. Resolution of critical contradictions\n3. Feasibility within 3 years\n\n**Dot vote:** 3 dots per person. Vote for the directions that best meet these criteria.\n\n### Ownership & Close (20 min)\n\n**Say:**\n\"For our top-priority directions, let's identify preliminary ownership.\"\n\n**For each direction:**\n- \"Who should lead this? (Cabinet-level owner)\"\n- \"What departments are essential?\"\n- \"What external support might be needed?\"\n\n**Close:**\n\"We now have our Strategic Directionsâ€”the innovative approaches that will resolve our contradictions and achieve our vision.\n\nNext session: Implementation Planning. We'll map these to specific actions, timelines, and success indicators.\"\n\n---\n\n## Direction Quality Checklist\n\nFor each direction, verify:\n\n- [ ] Is it an approach, not just a goal?\n- [ ] Does it resolve at least one major contradiction?\n- [ ] Does it advance multiple vision categories?\n- [ ] Is it innovative for this context?\n- [ ] Is it sustainable over 3 years?\n- [ ] Is it within the district's sphere of influence?\n- [ ] Does it have clear resource implications understood?\n\n---\n\n## Common Challenges\n\n| Challenge | Response |\n|-----------|----------|\n| Directions too vague | \"Make it actionable. What would you actually DO differently?\" |\n| Directions too tactical | \"Zoom out. This is the approach, not the activity.\" |\n| Doesn't address contradiction | \"How does this resolve the tension? Show the connection.\" |\n| Too ambitious | \"Is this achievable in 3 years with focused effort?\" |\n| Same as current practice | \"What's fundamentally DIFFERENT about this?\" |\n| Too many directions | \"Focus is power. Which 4-6 will have the most impact?\" |\n\n---\n\n## Example Strategic Directions\n\nFor reference/prompting:\n\n| Direction | Resolves | Advances |\n|-----------|----------|----------|\n| \"Create a Culture of Continuous Improvement with Safe-to-Fail Experiments\" | Innovation vs. Risk Aversion | Staff, Learning |\n| \"Build Flexible Pathways That Honor Individual Growth and Common Standards\" | Personalization vs. Standardization | Learning, Equity |\n| \"Develop Distributed Leadership That Balances Autonomy with Coherence\" | Central vs. Local | Staff, Culture |\n| \"Establish Community Partnerships as Core Strategy, Not Add-On\" | Resource Constraints | Community, Learning |\n\n---\n\n## Output Checklist\n\nBy end of session:\n- [ ] 4-6 strategic directions developed\n- [ ] Each direction has clear statement\n- [ ] Contradiction resolution mapped\n- [ ] Vision alignment confirmed\n- [ ] Key strategies identified\n- [ ] Preliminary ownership assigned\n- [ ] Priorities established\n\n---\n\n## Post-Session Actions\n\n1. Compile Strategic Directions document\n2. Verify alignment matrix is complete\n3. Share with broader leadership for input\n4. Prepare materials for Phase 6 (Implementation)\n5. Begin resource estimation\n\n---\n\n*Phase 5 Guide - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/guides/phase6-implementation-guide.md": "# Phase 6: Focused Implementation\n## Facilitator Guide\n\n---\n\n## Overview\n\n**Purpose:** Translate strategic directions into concrete, time-bound implementation plans with clear accountability.\n\n**Duration:** 3-4 hours for workshop session\n\n**AI Role:** Structure creation, timeline drafting, metric suggestions\n**Human Role:** Reality testing, commitment making, ownership assignment\n\n---\n\n## Key Concept: The Three-Column Approach\n\nFor each strategic direction, we map:\n\n| Current Reality | 1-Year Accomplishments | 3-Year Outcomes |\n|-----------------|------------------------|-----------------|\n| Where we are now | What's true in 12 months | What's true at plan end |\n| Honest assessment | Achievable milestones | Vision alignment |\n| Evidence-based | Measurable progress | Transformation complete |\n\n**Why this works:**\n- Forces honest assessment of current state\n- Creates accountability for Year 1\n- Maintains focus on 3-year outcomes\n- Makes progress visible and measurable\n\n---\n\n## Pre-Session Preparation\n\n### Materials Needed\n\n- [ ] Strategic Directions summary (displayed)\n- [ ] Large format three-column templates (1 per direction)\n- [ ] Markers (multiple colors)\n- [ ] Success indicator templates\n- [ ] Quarterly timeline template\n- [ ] Timer\n- [ ] Laptops for capture (optional)\n\n### Room Setup\n\n- Tables for direction-specific groups\n- Each table has their direction displayed\n- Wall space for posting completed templates\n- Central timeline display\n\n### Pre-Work\n\nSend 2-3 days before:\n- Strategic Directions summary\n- Prompt: \"For your assigned direction, come prepared to honestly assess current state and propose Year 1 milestones\"\n- Assign participants to directions based on expertise\n\n---\n\n## Session Agenda (3.5 hours)\n\n| Time | Activity | Duration | Notes |\n|------|----------|----------|-------|\n| 0:00 | Welcome & Three-Column Training | 15 min | |\n| 0:15 | Current Reality Assessment | 30 min | |\n| 0:45 | 3-Year Outcomes Definition | 25 min | |\n| 1:10 | Break | 10 min | |\n| 1:20 | 1-Year Accomplishments | 35 min | |\n| 1:55 | Success Indicators | 25 min | |\n| 2:20 | Year 1 Timeline (Quarterly) | 30 min | |\n| 2:50 | Cross-Direction Integration | 20 min | |\n| 3:10 | Commitment & Close | 15 min | |\n| 3:25 | End | | |\n\n---\n\n## Facilitation Script\n\n### Welcome & Three-Column Training (15 min)\n\n**Say:**\n\"Today we make our strategic directions real. We're creating implementation plans that will guide our work for the next three years.\n\nWe use a three-column approach:\n1. **Current Reality:** Where are we NOWâ€”honestly\n2. **3-Year Outcomes:** Where we'll BE when the plan is complete\n3. **1-Year Accomplishments:** What must be true after Year 1\n\nWhy this order? We start with honesty about now, define the destination, then identify Year 1 progress.\"\n\n**Show example:**\n\n```\nSTRATEGIC DIRECTION: Culture of Continuous Improvement\n\nCURRENT REALITY           | 1-YEAR ACCOMPLISHMENTS      | 3-YEAR OUTCOMES\n--------------------------|-----------------------------|-----------------\nTeachers hesitant to      | 50% of teams running        | Innovation is\ntry new approaches        | improvement cycles          | embedded in culture\n\nNo safe-to-fail          | 3 school pilots of          | All schools have\nexperimentation          | innovation zones            | innovation structures\n\nMistakes are hidden      | Monthly \"learning from      | Failures shared as\n                        | failure\" sessions           | learning opportunities\n```\n\n### Current Reality Assessment (30 min)\n\n**Say:**\n\"At your direction tables, honestly assess where we are NOW. Not where we wish we were. Not where we're supposed to be. Where we ACTUALLY are.\n\nUse evidence:\n- What does data tell us?\n- What would staff honestly say?\n- What would students/families experience?\n\nWrite 5-8 current reality statements for your direction.\"\n\n**Circulate and prompt:**\n- \"Is this really true, or is this aspirational?\"\n- \"What evidence supports this?\"\n- \"Would skeptics agree with this assessment?\"\n- \"What are we avoiding saying?\"\n\n**Challenge overly positive assessments:**\n\"If things were that good, would we need a strategic direction here?\"\n\n### 3-Year Outcomes Definition (25 min)\n\n**Say:**\n\"Now define the 3-year outcomes. By the end of Year 3, what will be true?\n\nThese should:\n- Connect directly to the vision\n- Be observable and measurable\n- Represent meaningful transformation\n- Be ambitious but achievable\n\nWrite 5-8 outcome statements that match your current reality statements.\"\n\n**Facilitate:**\n- \"How does this connect to our practical vision?\"\n- \"Is this achievable in 3 years with focused effort?\"\n- \"How would we know this outcome was achieved?\"\n\n### 1-Year Accomplishments (35 min)\n\n**Say:**\n\"Now the critical bridge: Year 1 accomplishments. These are what must be true 12 months from now.\n\nYear 1 is about foundation and momentum:\n- What infrastructure needs to be in place?\n- What pilots or proofs of concept will we run?\n- What learning will we capture?\n- What capacity will we build?\n\nYear 1 accomplishments should be a credible bridge from current reality to 3-year outcomes.\"\n\n**For each row in your template:**\n\"If this is current reality, and this is Year 3, what must be true at the end of Year 1?\"\n\n**Quality check:**\n- \"Is this achievable in 12 months?\"\n- \"Is this ambitious enough to show real progress?\"\n- \"Will this set us up for Years 2-3?\"\n\n### Success Indicators (25 min)\n\n**Say:**\n\"For each direction, we need 3-5 success indicatorsâ€”measurable ways to track progress.\n\nFor each indicator, define:\n- What we measure\n- Current baseline (Year 0)\n- Year 1 target\n- Year 3 target\n- How we'll measure it\"\n\n**Template:**\n\n| Indicator | Baseline | Y1 Target | Y3 Target | Measurement |\n|-----------|----------|-----------|-----------|-------------|\n| | | | | |\n\n**Facilitate:**\n- \"Is this actually measurable?\"\n- \"Do we have baseline data, or do we need to collect it?\"\n- \"Will movement on this indicator show real progress?\"\n- \"Are these leading or lagging indicators?\"\n\n**Push for balance:**\n- Some quantitative (numbers)\n- Some qualitative (surveys, perceptions)\n- Mix of leading (activity) and lagging (outcome)\n\n### Year 1 Timeline (30 min)\n\n**Say:**\n\"Now let's break Year 1 into quarters. What happens when?\n\nFor each quarter, identify:\n- Key actions\n- Milestones\n- Dependencies\n- Owner\"\n\n**Template:**\n\n| Q1 (Jul-Sep) | Q2 (Oct-Dec) | Q3 (Jan-Mar) | Q4 (Apr-Jun) |\n|--------------|--------------|--------------|--------------|\n| Focus: | Focus: | Focus: | Focus: |\n| Actions: | Actions: | Actions: | Actions: |\n| Milestones: | Milestones: | Milestones: | Milestones: |\n| Owner: | Owner: | Owner: | Owner: |\n\n**Reality check:**\n- \"Is this realistic given the school calendar?\"\n- \"When do we need budget for this?\"\n- \"What about summer work?\"\n- \"How does this sequence with other directions?\"\n\n### Cross-Direction Integration (20 min)\n\n**Say:**\n\"Now let's look across all directions. Where do we have:\n- Shared resources needed?\n- Dependencies between directions?\n- Potential conflicts in timing?\n- Opportunities for synergy?\"\n\n**Create master view:**\nPost all direction timelines on the wall. Look for:\n- Resource conflicts (same people needed in multiple places)\n- Logical dependencies (Direction A must happen before B)\n- Integration opportunities (combine related work)\n\n**Adjust as needed:**\n\"Where do we need to sequence differently?\"\n\"Where can we combine efforts?\"\n\n### Commitment & Close (15 min)\n\n**Say:**\n\"Let's make this real with commitments.\n\nFor each direction:\n- Who is the Cabinet-level owner?\n- Who are the key leads?\n- When is the first milestone due?\"\n\n**Go around the room:**\n\"For [Direction], [Name] is committing to deliver [milestone] by [date].\"\n\n**Close:**\n\"We now have implementation plans for all strategic directions. These will guide our work for the next three years.\n\nFinal steps:\n1. I'll compile these into the Implementation Plan document\n2. You'll review and finalize\n3. We'll develop detailed Year 1 action plans\n4. Board presentation for approval\n5. Launch!\"\n\n---\n\n## Quality Checks\n\nFor each implementation plan, verify:\n\n- [ ] Current reality is honest and evidence-based\n- [ ] 3-year outcomes align with vision\n- [ ] Year 1 accomplishments are achievable and meaningful\n- [ ] Success indicators are measurable\n- [ ] Quarterly timeline is realistic\n- [ ] Owner is identified and committed\n- [ ] Resources are estimated\n- [ ] Dependencies are noted\n\n---\n\n## Common Challenges\n\n| Challenge | Response |\n|-----------|----------|\n| Current reality too optimistic | \"Would a skeptic agree? What would critics say?\" |\n| 3-year outcomes too vague | \"How would we know this happened? What would we observe?\" |\n| Year 1 too ambitious | \"Is this actually achievable in 12 months? What if we hit 70%?\" |\n| Year 1 too modest | \"Will this create enough momentum? Will stakeholders see progress?\" |\n| No baseline data | \"Can we collect baseline in Q1? What's our estimate now?\" |\n| Overlapping ownership | \"Who is THE owner? Others can support, but one person is accountable.\" |\n\n---\n\n## Resource Estimation Guide\n\nFor each direction, estimate:\n\n**Personnel:**\n- New positions needed?\n- Existing staff time redirected?\n- Outside expertise required?\n\n**Budget:**\n- Direct costs (materials, technology, contracts)\n- Professional development\n- Substitute coverage for release time\n\n**Time:**\n- Meeting/collaboration time\n- Implementation hours\n- Learning/iteration cycles\n\n---\n\n## Output Checklist\n\nBy end of session:\n- [ ] Three-column template for each direction\n- [ ] 3-5 success indicators per direction with baselines\n- [ ] Quarterly Year 1 timeline per direction\n- [ ] Cross-direction integration noted\n- [ ] Owners identified and committed\n- [ ] Resource estimates drafted\n\n---\n\n## Post-Session Actions\n\n1. Compile Implementation Plan document\n2. Create First-Year Timeline summary\n3. Develop detailed Q1 action plans\n4. Prepare board presentation materials\n5. Create communication materials for launch\n\n---\n\n*Phase 6 Guide - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/guides/quick-start.md": "# Strategic Planning Manager - Quick Start Guide\n\n## What This Skill Does\n\nHelps facilitate K-12 district strategic planning using a 7-phase process. The AI handles data analysis and document generation; humans drive vision and decision-making.\n\n**For personal life/work planning:** Use `/personal-strategic-planning` instead.\n\n---\n\n## Choose Your Entry Point\n\n### \"I'm starting from scratch\"\nâ†’ **Full Process Guide** (Mode 1)\n\nSay: *\"Help me create a strategic plan for our district\"*\n\nGeoffrey will walk you through all 7 phases:\n1. Discovery (gather/analyze data)\n2. SWOT Analysis\n3. Practical Vision\n4. Underlying Contradictions\n5. Strategic Directions\n6. Implementation Planning\n7. Document Generation\n\n**Time commitment:** Multiple sessions over 2-4 weeks\n\n---\n\n### \"I have survey data to analyze\"\nâ†’ **Data Analysis Mode** (Mode 3)\n\nSay: *\"Analyze our strategic planning survey data\"*\n\nProvide your CSV/Excel/JSON file and Geoffrey will:\n- Extract themes from responses\n- Run sentiment analysis\n- Compare stakeholder groups\n- Suggest SWOT inputs\n\n**Time commitment:** 15-30 minutes per dataset\n\n---\n\n### \"I need to facilitate a retreat\"\nâ†’ **Facilitator Support**\n\nSay: *\"Help me prepare for our strategic planning retreat\"*\n\nGeoffrey will provide:\n- Detailed agendas (1-day or 2-day options)\n- Facilitator prompts for each session\n- Materials checklists\n- Timing guidance\n\n**Available agendas:**\n- `guides/retreat-agenda-2day.md` - Full 2-day retreat\n- `guides/retreat-agenda-condensed.md` - 1-day version\n\n---\n\n### \"I'm working on one specific phase\"\nâ†’ **Phase-Specific Mode** (Mode 2)\n\nSay what you need:\n- *\"Help me create a SWOT analysis\"* â†’ Phase 2\n- *\"Let's develop our practical vision\"* â†’ Phase 3\n- *\"We need to identify underlying contradictions\"* â†’ Phase 4\n- *\"Help define our strategic directions\"* â†’ Phase 5\n- *\"Create our implementation timeline\"* â†’ Phase 6\n\nGeoffrey will focus on just that phase.\n\n---\n\n### \"We have an existing plan to update\"\nâ†’ **Plan Update Mode** (Mode 4)\n\nSay: *\"Update our existing strategic plan for year 2\"*\n\nGeoffrey will:\n- Load your existing plan from Obsidian\n- Ask about progress on Year 1 goals\n- Identify what's on track / at risk\n- Recommend adjustments\n- Generate updated documents\n\n---\n\n## Common Workflows\n\n### Workflow A: Pre-Retreat Data Analysis\n\n**Scenario:** You have survey results and want themes before the retreat.\n\n1. Say: *\"I have survey results to analyze for strategic planning\"*\n2. Upload/provide the CSV file\n3. Review the theme analysis\n4. (Optional) Say: *\"Generate a draft SWOT from this data\"*\n5. Use outputs as pre-reading for retreat participants\n\n**Scripts used:**\n```bash\nuv run skills/strategic-planning-manager/scripts/analyze_surveys.py --input data.csv --output-dir ./discovery\n```\n\n---\n\n### Workflow B: Facilitated Retreat Support\n\n**Scenario:** You're facilitating a 2-day retreat and want AI support.\n\n1. Say: *\"Help me prepare for our 2-day strategic planning retreat\"*\n2. Review the agenda in `guides/retreat-agenda-2day.md`\n3. For each session, ask: *\"What prompts should I use for the SWOT session?\"*\n4. During the retreat, dictate outputs and Geoffrey will capture them\n5. After the retreat: *\"Compile our retreat outputs into a plan document\"*\n\n---\n\n### Workflow C: Focus Group Transcript Processing\n\n**Scenario:** You conducted focus groups and have transcripts to analyze.\n\n1. Say: *\"Process our focus group transcripts\"*\n2. Provide the transcript files (text/Word)\n3. Review extracted themes and quotes\n4. Say: *\"Add these findings to our discovery report\"*\n\n**Script used:**\n```bash\nuv run skills/strategic-planning-manager/scripts/process_transcripts.py --input-dir ./transcripts --output themes.json\n```\n\n---\n\n### Workflow D: Generate Final Plan Document\n\n**Scenario:** You've completed all phases and need the final document.\n\n1. Say: *\"Generate our strategic plan document\"*\n2. Geoffrey compiles all outputs into a cohesive plan\n3. Request specific versions:\n   - *\"Create a board executive summary\"*\n   - *\"Create a staff-facing version\"*\n   - *\"Create a community summary\"*\n\n---\n\n## The 7 Phases - Quick Reference\n\n| Phase | Who Does the Work | What You Get |\n|-------|-------------------|--------------|\n| 1. Discovery | **AI analyzes** your data | Theme report, initial SWOT draft |\n| 2. SWOT | **Humans validate**, AI refines | SWOT matrix, investment priorities |\n| 3. Vision | **Humans create**, AI captures | Vision matrix (8-10 categories) |\n| 4. Contradictions | **Humans identify**, AI patterns | Tension analysis |\n| 5. Directions | **Humans decide**, AI maps | 4-6 strategic directions |\n| 6. Implementation | **Humans commit**, AI structures | Timeline, success indicators |\n| 7. Documents | **AI generates**, humans approve | Full plan, summaries, presentations |\n\n---\n\n## Tips for Best Results\n\n1. **Provide real data** - The more survey/transcript data you provide, the better the analysis\n2. **Be specific about your district** - Name, context, existing priorities\n3. **Save as you go** - Geoffrey stores work in Obsidian (`Geoffrey/Strategic-Plans/`)\n4. **Use facilitator guides** - They have the exact prompts and timing\n5. **Phase-specific is fine** - You don't have to do all 7 phases in one session\n\n---\n\n## Quick Commands\n\n| What you want | What to say |\n|---------------|-------------|\n| Start full process | \"Help me create a district strategic plan\" |\n| Analyze surveys | \"Analyze our survey data for strategic planning\" |\n| Process transcripts | \"Process our focus group transcripts\" |\n| Generate SWOT | \"Create a SWOT analysis from our discovery data\" |\n| Prepare for retreat | \"Help me prepare for our strategic planning retreat\" |\n| Get facilitator prompts | \"What prompts should I use for the vision session?\" |\n| Generate final plan | \"Compile everything into a strategic plan document\" |\n| Update existing plan | \"Update our strategic plan for year 2\" |\n\n---\n\n## File Locations\n\n**Templates:** `skills/strategic-planning-manager/templates/`\n**Facilitator Guides:** `skills/strategic-planning-manager/guides/`\n**Config (themes, metrics):** `skills/strategic-planning-manager/config/`\n**Scripts:** `skills/strategic-planning-manager/scripts/`\n\n**Your plans saved to:** `Obsidian/Geoffrey/Strategic-Plans/{District-Name}/`\n\n---\n\n*Quick Start Guide - Strategic Planning Manager v1.0.0*\n",
        "skills/strategic-planning-manager/guides/retreat-agenda-2day.md": "# Strategic Planning Retreat\n## 2-Day Comprehensive Agenda\n\n---\n\n## Overview\n\n**Purpose:** Complete strategic planning Phases 2-6 in an intensive retreat format.\n\n**Pre-Requisite:** Phase 1 Discovery complete and shared with participants.\n\n**Participants:** 20-40 planning team members representing all stakeholder groups.\n\n**Outcomes by End of Day 2:**\n- Validated SWOT analysis\n- Complete Practical Vision\n- Prioritized Underlying Contradictions\n- Defined Strategic Directions\n- Initial Implementation Framework\n\n---\n\n## Pre-Retreat Preparation\n\n### 2 Weeks Before\n\n- [ ] Send Discovery Report summary to all participants\n- [ ] Send pre-reading: SWOT draft, vision prompts\n- [ ] Collect RSVPs and dietary requirements\n- [ ] Assign small group compositions (mixed stakeholder groups)\n- [ ] Prepare all materials and supplies\n\n### 1 Week Before\n\n- [ ] Send final agenda and logistics\n- [ ] Confirm venue setup\n- [ ] Prepare name tags with group assignments\n- [ ] Print all handouts and templates\n- [ ] Test technology (projector, audio, etc.)\n\n### Day Before\n\n- [ ] Set up room with materials at each table\n- [ ] Post vision categories on walls\n- [ ] Prepare flip charts\n- [ ] Confirm catering\n- [ ] Run through facilitation plan\n\n---\n\n## Venue Requirements\n\n**Room Setup:**\n- Tables for groups of 6 (round or rectangular)\n- Large wall space (minimum 20 feet) for posting\n- Projector and screen\n- Breakout space for small groups\n- Accessible to all participants\n\n**Supplies Per Table:**\n- Large sticky notes (4x6)\n- Markers (thick, multiple colors)\n- Dot stickers (4 colors)\n- Small sticky notes\n- Tape\n- Direction template handouts\n\n**Wall Supplies:**\n- Chart paper (20+ sheets)\n- Masking tape\n- Category header cards\n- Voting dot stations\n\n---\n\n## Day 1 Agenda\n\n### Morning Session: Foundation & SWOT\n\n| Time | Activity | Duration | Lead |\n|------|----------|----------|------|\n| 8:00 | Registration & Breakfast | 30 min | |\n| 8:30 | Welcome & Context Setting | 20 min | Superintendent |\n| 8:50 | Planning Process Overview | 15 min | Facilitator |\n| 9:05 | Team Building Activity | 15 min | Facilitator |\n| 9:20 | Discovery Findings Presentation | 25 min | Facilitator |\n| 9:45 | Table Discussion: Discovery Reactions | 15 min | Tables |\n| 10:00 | **BREAK** | 15 min | |\n| 10:15 | SWOT Framework Introduction | 10 min | Facilitator |\n| 10:25 | SWOT Validation - Small Groups | 40 min | Tables |\n| 11:05 | SWOT Synthesis - Large Group | 30 min | Facilitator |\n| 11:35 | Investment & Barriers Analysis | 25 min | Facilitator |\n| 12:00 | **LUNCH** | 60 min | |\n\n### Afternoon Session: Practical Vision\n\n| Time | Activity | Duration | Lead |\n|------|----------|----------|------|\n| 1:00 | Energizer | 10 min | Facilitator |\n| 1:10 | Practical Vision Introduction | 15 min | Facilitator |\n| 1:25 | Individual Brainstorm | 15 min | Individual |\n| 1:40 | Pair Share | 10 min | Pairs |\n| 1:50 | Table Consolidation | 20 min | Tables |\n| 2:10 | Wall Posting | 10 min | All |\n| 2:20 | **BREAK** | 15 min | |\n| 2:35 | Silent Clustering | 15 min | All |\n| 2:50 | Discussion Clustering | 20 min | All |\n| 3:10 | Naming Categories | 25 min | All |\n| 3:35 | Vision Narrative Development | 20 min | Tables |\n| 3:55 | Vision Validation | 20 min | All |\n| 4:15 | Day 1 Synthesis & Preview | 15 min | Facilitator |\n| 4:30 | End Day 1 | | |\n\n### Evening (Optional)\n\n| Time | Activity |\n|------|----------|\n| 6:00 | Group Dinner |\n| 7:30 | Informal Discussion: Reactions to Day 1 |\n\n---\n\n## Day 2 Agenda\n\n### Morning Session: Contradictions & Directions\n\n| Time | Activity | Duration | Lead |\n|------|----------|----------|------|\n| 8:00 | Breakfast | 30 min | |\n| 8:30 | Day 1 Recap & Day 2 Preview | 15 min | Facilitator |\n| 8:45 | Contradictions Framework Introduction | 15 min | Facilitator |\n| 9:00 | Individual Contradiction Brainstorm | 15 min | Individual |\n| 9:15 | Table Sharing & Consolidation | 20 min | Tables |\n| 9:35 | Wall Posting & Clustering | 20 min | All |\n| 9:55 | **BREAK** | 15 min | |\n| 10:10 | Naming Contradictions | 20 min | All |\n| 10:30 | Prioritization (Dot Voting) | 15 min | All |\n| 10:45 | Contradiction-Vision Mapping | 15 min | All |\n| 11:00 | Strategic Directions Introduction | 15 min | Facilitator |\n| 11:15 | Direction Brainstorm | 20 min | Tables |\n| 11:35 | Direction Development (Assigned) | 25 min | Tables |\n| 12:00 | **LUNCH** | 60 min | |\n\n### Afternoon Session: Directions & Implementation\n\n| Time | Activity | Duration | Lead |\n|------|----------|----------|------|\n| 1:00 | Energizer | 10 min | Facilitator |\n| 1:10 | Direction Development (Continued) | 30 min | Tables |\n| 1:40 | Gallery Walk & Feedback | 25 min | All |\n| 2:05 | Direction Refinement | 20 min | Tables |\n| 2:25 | **BREAK** | 15 min | |\n| 2:40 | Direction Prioritization & Alignment | 20 min | All |\n| 3:00 | Implementation Framework Introduction | 15 min | Facilitator |\n| 3:15 | Three-Column Development (Per Direction) | 35 min | Tables |\n| 3:50 | Success Indicators | 20 min | Tables |\n| 4:10 | Cross-Direction Integration | 15 min | All |\n| 4:25 | Ownership Commitments | 15 min | All |\n| 4:40 | Retreat Synthesis & Next Steps | 20 min | Superintendent/Facilitator |\n| 5:00 | Closing & Thanks | 10 min | Superintendent |\n| 5:10 | End | | |\n\n---\n\n## Detailed Session Notes\n\n### Day 1 Morning: Discovery & SWOT\n\n**8:30 - Welcome (Superintendent)**\n- Thank participants for commitment\n- Emphasize importance of their voice\n- Set expectation: honest, respectful dialogue\n- Commit to honoring the work\n\n**8:50 - Process Overview (Facilitator)**\n- Show 7-phase framework\n- Explain we're doing Phases 2-6 in retreat\n- Preview Day 1 and Day 2 outcomes\n- Establish ground rules\n\n**9:05 - Team Building**\n- Quick activity to energize and mix groups\n- Option: \"Two truths and a lie\" about your role\n- Option: \"Why I care about education\" in 30 seconds\n\n**9:20 - Discovery Presentation**\n- Key findings only (not full report)\n- Highlight: Strengths, Areas for Growth, Themes\n- Representative stakeholder quotes\n- Set up SWOT by previewing initial inputs\n\n**9:45 - Table Discussion**\nPrompt: \"What resonates? What surprises? What's missing?\"\nReport out 1-2 key points per table.\n\n**10:25 - SWOT Validation (See Phase 2 Guide)**\n- 10 min per quadrant at tables\n- Add, flag, star priorities\n\n**11:05 - SWOT Synthesis**\n- Tables share top 3 per quadrant\n- Facilitator captures on wall\n- Dot vote on priorities\n\n**11:35 - Investment & Barriers**\n- Small groups identify SÃ—O investments\n- Identify critical W barriers\n- Report to full group\n\n### Day 1 Afternoon: Practical Vision\n\n**1:10 - Vision Introduction**\n- Explain practical vs. aspirational vision\n- Give examples of observable outcomes\n- \"In 3 years, what do you see?\"\n\n**1:25-2:10 - Brainstorm through Posting (See Phase 3 Guide)**\n- Individual â†’ Pairs â†’ Tables â†’ Wall\n\n**2:35-3:35 - Clustering through Naming (See Phase 3 Guide)**\n- Silent cluster â†’ Discussion â†’ Names\n\n**3:35 - Vision Narratives**\n- Tables take 2-3 categories each\n- Write 2-3 sentence narrative\n- Share with full group\n\n### Day 2 Morning: Contradictions & Directions\n\n**8:45 - Contradictions Introduction**\n- Critical distinction: Barriers vs. Contradictions\n- Examples of K-12 contradictions\n- \"We want X, BUT Y\"\n\n**9:00-10:10 - Contradiction Development (See Phase 4 Guide)**\n- Individual â†’ Table â†’ Wall â†’ Cluster\n\n**10:10-10:45 - Naming & Prioritization**\n- Name each contradiction cluster\n- Dot vote on priority\n- Map impact on vision\n\n**11:00 - Strategic Directions Introduction**\n- Explain what makes a direction (not goal, not tactic)\n- Show connection to contradictions and vision\n- Examples\n\n**11:15-11:35 - Direction Brainstorm & Development**\n- Brainstorm potential directions\n- Assign 1-2 contradictions per table\n- Begin developing directions using template\n\n### Day 2 Afternoon: Directions & Implementation\n\n**1:10-2:05 - Direction Development & Gallery (See Phase 5 Guide)**\n- Complete direction templates\n- Gallery walk with feedback\n- Refine based on input\n\n**2:40 - Prioritization & Alignment**\n- Check coverage (all contradictions, all vision)\n- Dot vote on priorities\n- Establish 4-6 final directions\n\n**3:00-3:50 - Implementation Framework (See Phase 6 Guide)**\n- Three-column templates per direction\n- Current Reality â†’ Year 1 â†’ Year 3\n\n**3:50 - Success Indicators**\n- 3-5 indicators per direction\n- Baseline, Year 1, Year 3 targets\n\n**4:10 - Cross-Direction Integration**\n- Look for dependencies\n- Identify shared resources\n- Note sequencing needs\n\n**4:25 - Ownership Commitments**\n- Cabinet owner per direction\n- Key leads identified\n- First milestone committed\n\n---\n\n## Facilitation Tips\n\n### Energy Management\n\n| Time of Day | Energy Level | Approach |\n|-------------|--------------|----------|\n| Morning start | Medium | High engagement activity |\n| 10:00-10:30 | Peak | Complex analytical work |\n| Pre-lunch | Dipping | Movement, small group work |\n| Post-lunch | Low | Energizer required |\n| 2:00-3:00 | Rising | Collaborative work |\n| End of day | Fatigued | Synthesis, not new work |\n\n### Engagement Techniques\n\n- Change formats every 20-30 minutes\n- Alternate individual â†’ small group â†’ large group\n- Use movement (gallery walks, posting)\n- Mix tables between days\n- Call on different voices\n- Use think-pair-share before full group\n\n### Managing Time\n\n- Keep strict time; use visible timer\n- Have \"parking lot\" for off-topic issues\n- Know what to cut if running behind\n- Build in buffer before major transitions\n\n---\n\n## Materials Checklist\n\n### Per Table (6 people)\n- 50 large sticky notes\n- 12 markers (thick)\n- 30 small sticky notes\n- 1 roll masking tape\n- 6 direction template packets\n- 6 name tents\n- 6 agendas\n\n### Wall/Room\n- 30 sheets chart paper\n- 200+ dot stickers (4 colors)\n- 10 category header cards (blank)\n- Vision category labels\n- Masking tape (3 rolls)\n- Projector & screen\n- Flip chart stand\n- Timer (visible)\n\n### Handouts\n- Discovery summary (all)\n- SWOT draft (all)\n- Vision template (all)\n- Contradiction template (all)\n- Direction template (all)\n- Implementation template (all)\n\n---\n\n## Post-Retreat Actions\n\n### Immediately After\n- [ ] Photograph all wall work\n- [ ] Collect all written materials\n- [ ] Send thank-you to participants\n- [ ] Debrief with co-facilitators\n\n### Within 1 Week\n- [ ] Compile all outputs into draft documents\n- [ ] Send draft to participants for review\n- [ ] Schedule follow-up for Implementation details\n- [ ] Begin Year 1 timeline development\n\n### Within 2 Weeks\n- [ ] Finalize plan documents\n- [ ] Prepare board presentation\n- [ ] Develop communication materials\n- [ ] Schedule board approval meeting\n\n---\n\n*2-Day Retreat Agenda - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/guides/retreat-agenda-condensed.md": "# Strategic Planning Retreat\n## Condensed 1-Day Agenda\n\n---\n\n## Overview\n\n**Purpose:** Complete core strategic planning elements in a focused one-day format.\n\n**Pre-Requisite:**\n- Phase 1 Discovery complete\n- Draft SWOT pre-reviewed by participants\n- Initial vision brainstorm completed as pre-work\n\n**Participants:** 15-25 planning team members.\n\n**Outcomes by End of Day:**\n- Validated SWOT with priorities\n- Practical Vision framework\n- Key Underlying Contradictions\n- Draft Strategic Directions\n- Next steps for implementation\n\n**Trade-offs:** This condensed format sacrifices depth for efficiency. Implementation planning will require a follow-up session.\n\n---\n\n## Pre-Retreat Requirements\n\n### Critical Pre-Work (Required)\n\n**2 weeks before - Send to all participants:**\n\n1. **Discovery Report Summary** (2-3 pages)\n2. **Draft SWOT** for review with instructions:\n   - \"Review and come prepared to add/edit\"\n3. **Vision Pre-Work Assignment:**\n   - \"Write 5-10 ideas completing: 'In 3 years, I see...'\"\n   - \"Bring your ideas on sticky notes\"\n\n### 1 Week Before\n\n- [ ] Confirm pre-work completion\n- [ ] Prepare condensed materials\n- [ ] Assign table groups (mixed stakeholders)\n- [ ] Confirm venue and catering\n\n---\n\n## Agenda\n\n### Morning: SWOT & Vision\n\n| Time | Activity | Duration | Notes |\n|------|----------|----------|-------|\n| 8:00 | Arrival & Breakfast | 30 min | |\n| 8:30 | Welcome & Context | 15 min | Superintendent |\n| 8:45 | Discovery Highlights (Key Findings Only) | 15 min | Facilitator |\n| 9:00 | SWOT Quick Validation | 30 min | Tables review, add, prioritize |\n| 9:30 | SWOT Synthesis & Voting | 20 min | Large group |\n| 9:50 | Investment & Barriers (Quick) | 15 min | Identify top 3 each |\n| 10:05 | **BREAK** | 15 min | |\n| 10:20 | Vision Introduction | 10 min | |\n| 10:30 | Vision Sharing (From Pre-Work) | 15 min | Tables share pre-work |\n| 10:45 | Wall Posting & Clustering | 25 min | All |\n| 11:10 | Naming Vision Categories | 20 min | All |\n| 11:30 | Vision Quick Narrative | 15 min | 1-2 sentences per category |\n| 11:45 | Vision Validation | 10 min | Gut check |\n| 11:55 | Morning Synthesis | 5 min | Facilitator |\n| 12:00 | **LUNCH** | 45 min | |\n\n### Afternoon: Contradictions & Directions\n\n| Time | Activity | Duration | Notes |\n|------|----------|----------|-------|\n| 12:45 | Energizer | 10 min | |\n| 12:55 | Contradictions Introduction | 10 min | Key concept only |\n| 1:05 | Rapid Contradiction Brainstorm | 15 min | \"We want X, BUT Y\" |\n| 1:20 | Table Sharing & Top 3 | 15 min | Each table's top 3 |\n| 1:35 | Contradiction Clustering & Naming | 20 min | All |\n| 1:55 | Contradiction Prioritization | 10 min | Dot vote - top 5 |\n| 2:05 | **BREAK** | 15 min | |\n| 2:20 | Strategic Directions Introduction | 10 min | |\n| 2:30 | Direction Brainstorm (Per Contradiction) | 20 min | Tables |\n| 2:50 | Direction Development (Template) | 30 min | 1-2 directions per table |\n| 3:20 | Quick Share & Feedback | 20 min | 2 min per direction |\n| 3:40 | Direction Prioritization | 15 min | Dot vote, alignment check |\n| 3:55 | Implementation Preview | 10 min | Three-column intro |\n| 4:05 | Next Steps & Commitments | 15 min | What happens next |\n| 4:20 | Closing | 10 min | Superintendent |\n| 4:30 | End | | |\n\n---\n\n## Session Details\n\n### 8:45 - Discovery Highlights (15 min)\n\n**Focus on:**\n- Top 3 strengths (evidence-based)\n- Top 3 areas for improvement\n- 2-3 key themes from stakeholder input\n- 1-2 powerful quotes\n\n**Skip:**\n- Detailed methodology\n- Full data presentation\n- Deep dives into any area\n\n**Say:**\n\"You have the full report. Here are the highlights that should inform today's work...\"\n\n### 9:00 - SWOT Quick Validation (30 min)\n\n**Condensed approach:**\n- Tables have draft SWOT\n- 5 min per quadrant (not 10)\n- Focus on: Add anything missing, flag anything wrong, star top 3\n- No deep discussionâ€”that happened in pre-work\n\n**Timing:**\n- Strengths: 5 min\n- Weaknesses: 5 min\n- Opportunities: 5 min\n- Threats: 5 min\n- Cross-check and finalize: 10 min\n\n### 9:30 - SWOT Synthesis (20 min)\n\n**Fast approach:**\n- Each table calls out their top 2 per quadrant (not full list)\n- Facilitator captures on flip chart\n- Dot vote immediately: 3 dots per person per quadrant\n- Identify top 5 per quadrant\n\n### 9:50 - Investment & Barriers (15 min)\n\n**Quick version:**\n- \"What 3 Strength Ã— Opportunity investments should we prioritize?\"\n- \"What 3 Weaknesses most threaten our ability to succeed?\"\n- Tables discuss 5 min, report 1-2 each\n\n### 10:30 - Vision Sharing (15 min)\n\n**Because pre-work was done:**\n- Tables share pre-work sticky notes\n- Quickly group similar ideas\n- Identify table's top 10-12 to post\n\n### 10:45 - Wall Posting & Clustering (25 min)\n\n**Condensed:**\n- Post all at once (5 min)\n- Silent clustering (10 min)\n- Discussion clustering (10 min)\n\n### 11:10 - Naming Vision Categories (20 min)\n\n**Aim for 6-8 categories (not 8-10)**\n- Combine where possible\n- Quick name generation\n- Don't over-perfect\n\n### 1:05 - Rapid Contradiction Brainstorm (15 min)\n\n**Frame tightly:**\n- \"Given our vision, what tensions exist?\"\n- \"We want X, BUT Y\"\n- Individual: 5 min\n- Table share: 10 min\n\n### 1:35 - Contradiction Clustering & Naming (20 min)\n\n**Fast approach:**\n- Post table top 3s on wall\n- Quick cluster by similarity\n- Name clusters immediately\n- Aim for 5-7 contradictions (not 8-12)\n\n### 2:30 - Direction Brainstorm (20 min)\n\n**Assign:**\n- Each table gets 1-2 contradictions\n- Brainstorm approaches that resolve them\n- Identify 1-2 strongest direction ideas\n\n### 2:50 - Direction Development (30 min)\n\n**Simplified template:**\n```\nDIRECTION NAME:\n\nStatement (1-2 sentences):\n\nResolves Contradiction(s):\n\nAdvances Vision Categories:\n\n3 Key Strategies:\n1.\n2.\n3.\n\nResource Level: Low / Medium / High\n```\n\n### 3:20 - Quick Share (20 min)\n\n**2 min per direction:**\n- Read name and statement\n- Which contradiction does it resolve?\n- Any quick clarifying questions (not debate)\n\n### 3:55 - Implementation Preview (10 min)\n\n**Set up follow-up session:**\n- Show three-column framework\n- Explain what will happen in next session\n- This is NOT done today\n\n**Say:**\n\"We've done the strategic thinking. Implementation planningâ€”the specifics of what, when, whoâ€”will happen in our follow-up session. Today we've built the foundation.\"\n\n### 4:05 - Next Steps (15 min)\n\n**Clarify:**\n1. Facilitator compiles outputs this week\n2. Participants review within [timeframe]\n3. Follow-up session scheduled for implementation\n4. Board presentation date\n5. Launch timeline\n\n**Commitment round:**\n\"What's your commitment to this process going forward?\"\n\n---\n\n## What Gets Cut\n\nCompared to 2-day retreat, this 1-day format sacrifices:\n\n| Element | 2-Day | 1-Day | Impact |\n|---------|-------|-------|--------|\n| SWOT depth | 2.5 hrs | 1.25 hrs | Less refinement |\n| Vision development | 3+ hrs | 2 hrs | Less narrative |\n| Contradiction analysis | 2.5 hrs | 1.25 hrs | Fewer identified |\n| Direction refinement | 2+ hrs | 1.5 hrs | Less polished |\n| Implementation planning | 2+ hrs | 0 hrs | Requires follow-up |\n| Cross-integration | Multiple | Minimal | Less synthesis |\n| Breaks/networking | Ample | Minimal | More fatigue |\n\n---\n\n## Mitigating Strategies\n\n### For Less Depth\n\n- Rely heavily on pre-work\n- Prioritize ruthlessly (do 5 things well, not 10 poorly)\n- Accept \"draft\" quality; refine later\n- Capture parking lot items for follow-up\n\n### For Energy Management\n\n- Keep sessions short (max 30 min per activity)\n- Lots of movement (posting, gallery walks)\n- Energizers after lunch critical\n- End by 4:30 (cognitive fatigue real)\n\n### For Implementation Gap\n\n- Schedule follow-up within 2 weeks\n- Assign direction leads to do pre-work\n- Have them draft three-column before next session\n\n---\n\n## Follow-Up Session Requirements\n\n**Schedule within 2 weeks.**\n\n**Duration:** 2-3 hours\n\n**Focus:**\n- Three-column development per direction\n- Success indicators\n- Year 1 quarterly timeline\n- Ownership assignments\n\n**Who attends:**\n- Direction leads (mandatory)\n- Cabinet members\n- Key implementers\n\n---\n\n## Materials (Condensed)\n\n### Per Table\n- 30 large sticky notes\n- 8 markers\n- 20 small sticky notes\n- 1 roll tape\n- 6 templates (simplified)\n\n### Room\n- 15 sheets chart paper\n- 150 dot stickers\n- Visible timer\n- Projector\n\n---\n\n*1-Day Condensed Agenda - Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/templates/contradictions.md": "---\ntype: underlying-contradictions\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\n---\n\n# Underlying Contradictions\n\n> Tensions that must be resolvedâ€”not just barriers to removeâ€”for the vision to be achieved.\n\n---\n\n## Understanding Contradictions\n\n**Key Distinction:**\n- **Barriers** = Obstacles to remove or overcome\n- **Contradictions** = Tensions between competing priorities or values that require resolution\n\nContradictions often take the form: \"We need X, but Y pulls us the opposite direction.\"\n\n---\n\n## Contradiction Summary\n\n| # | Contradiction | Category | Severity | Vision Areas Affected |\n|---|---------------|----------|----------|----------------------|\n| C1 | {brief} | {cat} | High | {areas} |\n| C2 | {brief} | {cat} | High | {areas} |\n| C3 | {brief} | {cat} | Medium | {areas} |\n| C4 | {brief} | {cat} | Medium | {areas} |\n| C5 | {brief} | {cat} | Medium | {areas} |\n\n---\n\n## Detailed Contradiction Analysis\n\n### C1: {Contradiction Title}\n\n**The Tension:**\n> \"{One side of the tension}\" vs. \"{The other side}\"\n\n**Description:**\n{Full explanation of the contradiction and why it creates tension}\n\n**Evidence:**\n- From discovery: {quote or finding}\n- From SWOT: Connects to W{#}, T{#}\n\n**Vision Areas Blocked:**\n- {Vision category 1}\n- {Vision category 2}\n\n**Why This Is Hard:**\n{Explanation of why this can't simply be \"fixed\"}\n\n**Potential Resolution Approaches:**\n1. {Approach 1}\n2. {Approach 2}\n\n---\n\n### C2: {Contradiction Title}\n\n**The Tension:**\n> \"{Side A}\" vs. \"{Side B}\"\n\n**Description:**\n{Explanation}\n\n**Evidence:**\n- {evidence}\n\n**Vision Areas Blocked:**\n- {category}\n\n**Why This Is Hard:**\n{explanation}\n\n**Potential Resolution Approaches:**\n1. {approach}\n2. {approach}\n\n---\n\n### C3: {Contradiction Title}\n\n[Repeat structure]\n\n---\n\n### C4: {Contradiction Title}\n\n[Repeat structure]\n\n---\n\n### C5: {Contradiction Title}\n\n[Repeat structure]\n\n---\n\n## Contradiction Categories\n\n### Culture & Mindset\n\n| Contradiction | Tension |\n|---------------|---------|\n| C{#} | {brief tension} |\n\n### Resources & Capacity\n\n| Contradiction | Tension |\n|---------------|---------|\n| C{#} | {brief tension} |\n\n### Policy & Structure\n\n| Contradiction | Tension |\n|---------------|---------|\n| C{#} | {brief tension} |\n\n### External Factors\n\n| Contradiction | Tension |\n|---------------|---------|\n| C{#} | {brief tension} |\n\n---\n\n## Contradiction Clusters\n\nSome contradictions are related and may be addressed together:\n\n### Cluster 1: {Cluster Theme}\n\n**Related Contradictions:** C{#}, C{#}, C{#}\n\n**Common Thread:** {What connects these}\n\n**Combined Impact:** {How they reinforce each other}\n\n**Strategic Implication:** {One strategic direction might address multiple}\n\n---\n\n### Cluster 2: {Cluster Theme}\n\n**Related Contradictions:** C{#}, C{#}\n\n**Common Thread:** {Connection}\n\n**Combined Impact:** {Impact}\n\n**Strategic Implication:** {Implication}\n\n---\n\n## Priority Matrix\n\n| | Low Effort to Resolve | High Effort to Resolve |\n|---|----------------------|------------------------|\n| **High Impact** | C{#}, C{#} | C{#} |\n| **Medium Impact** | C{#} | C{#}, C{#} |\n\n**Recommendation:** Focus strategic directions on high-impact contradictions, regardless of effort.\n\n---\n\n## Validation Notes\n\n**Process Used:**\n- Individual brainstorming: {method}\n- Small group clustering: {method}\n- Large group naming: {method}\n\n**Stakeholder Validation:**\n- [ ] Validated with planning team\n- [ ] Validated with broader stakeholders\n- [ ] Approved for strategic direction development\n\n**Unresolved Questions:**\n- {question}\n\n---\n\n## Next Steps\n\n1. [ ] Confirm prioritization of contradictions\n2. [ ] Move to Strategic Directions phase\n3. [ ] Ensure each direction addresses at least one high-priority contradiction\n4. [ ] Monitor whether resolutions create new contradictions\n\n---\n\n*Contradictions identified through collaborative analysis*\n*{DATE}*\n",
        "skills/strategic-planning-manager/templates/discovery-report.md": "---\ntype: discovery-report\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\ndata_sources:\n  - surveys: {count}\n  - focus_groups: {count}\n  - documents_reviewed: {count}\n---\n\n# Discovery Phase Report\n\n> Summary of data collection and initial findings for {DISTRICT_NAME} strategic planning.\n\n---\n\n## Executive Summary\n\n**Key Takeaways:**\n1. {takeaway_1}\n2. {takeaway_2}\n3. {takeaway_3}\n\n**Stakeholders Engaged:** {total_participants}\n\n**Data Collection Period:** {start_date} to {end_date}\n\n---\n\n## Data Sources\n\n### Surveys\n\n| Survey | Respondents | Response Rate | Period |\n|--------|-------------|---------------|--------|\n| {survey_name} | {n} | {rate}% | {dates} |\n| {survey_name} | {n} | {rate}% | {dates} |\n\n### Focus Groups\n\n| Group | Participants | Date | Duration |\n|-------|--------------|------|----------|\n| {group_type} | {n} | {date} | {minutes} min |\n| {group_type} | {n} | {date} | {minutes} min |\n\n### Documents Reviewed\n\n- {document_1}\n- {document_2}\n- {document_3}\n\n---\n\n## Survey Findings\n\n### Quantitative Results\n\n#### Highest Rated Areas\n\n| Area | Mean Rating | n |\n|------|-------------|---|\n| {area} | {rating}/5 | {n} |\n| {area} | {rating}/5 | {n} |\n| {area} | {rating}/5 | {n} |\n\n#### Lowest Rated Areas\n\n| Area | Mean Rating | n |\n|------|-------------|---|\n| {area} | {rating}/5 | {n} |\n| {area} | {rating}/5 | {n} |\n| {area} | {rating}/5 | {n} |\n\n### Qualitative Themes\n\n**Common Themes (by frequency):**\n\n1. **{theme}** - {mention_count} mentions\n2. **{theme}** - {mention_count} mentions\n3. **{theme}** - {mention_count} mentions\n\n**Sentiment Analysis:**\n\n| Category | Positive | Neutral | Negative |\n|----------|----------|---------|----------|\n| Overall | {%} | {%} | {%} |\n| By Topic | ... | ... | ... |\n\n---\n\n## Focus Group Findings\n\n### Key Themes by Stakeholder Group\n\n#### Parents/Families\n\n**Strengths identified:**\n- {strength}\n- {strength}\n\n**Concerns raised:**\n- {concern}\n- {concern}\n\n**Representative quote:**\n> \"{quote}\"\n\n#### Teachers/Staff\n\n**Strengths identified:**\n- {strength}\n- {strength}\n\n**Concerns raised:**\n- {concern}\n- {concern}\n\n**Representative quote:**\n> \"{quote}\"\n\n#### Students\n\n**Strengths identified:**\n- {strength}\n- {strength}\n\n**Concerns raised:**\n- {concern}\n- {concern}\n\n**Representative quote:**\n> \"{quote}\"\n\n#### Community/Partners\n\n**Strengths identified:**\n- {strength}\n- {strength}\n\n**Concerns raised:**\n- {concern}\n- {concern}\n\n**Representative quote:**\n> \"{quote}\"\n\n---\n\n## Cross-Cutting Themes\n\nThemes that appeared across multiple stakeholder groups:\n\n### 1. {Theme Name}\n\n**Prevalence:** Mentioned by {X} of {Y} stakeholder groups\n\n**Evidence:**\n- Parents: \"{quote or finding}\"\n- Teachers: \"{quote or finding}\"\n- Students: \"{quote or finding}\"\n\n**Implications for planning:**\n{implications}\n\n### 2. {Theme Name}\n\n[Repeat structure]\n\n---\n\n## Areas of Alignment\n\nWhere stakeholder groups agree:\n\n| Topic | Parent View | Staff View | Student View |\n|-------|-------------|------------|--------------|\n| {topic} | {summary} | {summary} | {summary} |\n\n---\n\n## Areas of Divergence\n\nWhere stakeholder groups differ:\n\n| Topic | Parent View | Staff View | Gap |\n|-------|-------------|------------|-----|\n| {topic} | {summary} | {summary} | {description} |\n\n---\n\n## Initial SWOT Inputs\n\nBased on discovery data, the following are suggested inputs for SWOT analysis:\n\n### Suggested Strengths\n- {strength with evidence}\n- {strength with evidence}\n\n### Suggested Weaknesses\n- {weakness with evidence}\n- {weakness with evidence}\n\n### Suggested Opportunities\n- {opportunity with evidence}\n\n### Suggested Threats\n- {threat with evidence}\n\n---\n\n## Data Quality Notes\n\n**Limitations:**\n- {limitation_1}\n- {limitation_2}\n\n**Representation gaps:**\n- {gap_1}\n\n**Additional data recommended:**\n- {recommendation}\n\n---\n\n## Next Steps\n\n1. [ ] Present discovery findings to planning team\n2. [ ] Validate findings with stakeholder representatives\n3. [ ] Proceed to SWOT analysis phase\n4. [ ] Address any data gaps identified\n\n---\n\n*Discovery Report generated by Geoffrey Strategic Planning Manager*\n*{DATE}*\n",
        "skills/strategic-planning-manager/templates/executive-summary.md": "---\ntype: executive-summary\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\nplan_horizon: {YEAR} - {YEAR + 3}\n---\n\n# {DISTRICT_NAME} Strategic Plan\n## Executive Summary for Board of Education\n\n---\n\n## Purpose\n\nThis executive summary presents the key elements of {DISTRICT_NAME}'s three-year strategic plan, developed through extensive community engagement.\n\n---\n\n## At a Glance\n\n| Element | Summary |\n|---------|---------|\n| **Plan Horizon** | {YEAR} - {YEAR + 3} |\n| **Strategic Directions** | {N} major focus areas |\n| **Stakeholders Engaged** | {Number} participants |\n| **Total Investment** | ${Amount} over 3 years |\n| **Planning Method** | Technology of Participation (ToP) |\n\n---\n\n## Our Vision\n\nBy {YEAR + 3}, {DISTRICT_NAME} will be a district where:\n\n{2-3 sentence vision statement capturing the practical vision}\n\n---\n\n## Strategic Directions\n\n### 1. {Strategic Direction Name}\n{One-sentence description}\n- **Year 3 Target:** {Key outcome}\n\n### 2. {Strategic Direction Name}\n{One-sentence description}\n- **Year 3 Target:** {Key outcome}\n\n### 3. {Strategic Direction Name}\n{One-sentence description}\n- **Year 3 Target:** {Key outcome}\n\n### 4. {Strategic Direction Name}\n{One-sentence description}\n- **Year 3 Target:** {Key outcome}\n\n### 5. {Strategic Direction Name}\n{One-sentence description}\n- **Year 3 Target:** {Key outcome}\n\n---\n\n## Key Findings from Discovery\n\n**Strengths to Leverage:**\n- {Strength 1}\n- {Strength 2}\n- {Strength 3}\n\n**Areas for Improvement:**\n- {Area 1}\n- {Area 2}\n- {Area 3}\n\n**Community Priorities:**\n- {Priority 1}\n- {Priority 2}\n- {Priority 3}\n\n---\n\n## Year One Priorities\n\n| Quarter | Focus |\n|---------|-------|\n| Q1 (Jul-Sep) | Launch and foundation |\n| Q2 (Oct-Dec) | Implementation ramp-up |\n| Q3 (Jan-Mar) | Mid-year assessment |\n| Q4 (Apr-Jun) | Year-end evaluation |\n\n**Key Year 1 Deliverables:**\n1. {Deliverable}\n2. {Deliverable}\n3. {Deliverable}\n\n---\n\n## Resource Implications\n\n### Budget Summary\n\n| Year | Investment | Notes |\n|------|------------|-------|\n| Year 1 | ${Amount} | Foundation/Launch |\n| Year 2 | ${Amount} | Acceleration |\n| Year 3 | ${Amount} | Sustainability |\n| **Total** | **${Amount}** | |\n\n### Funding Sources\n\n| Source | Amount | Status |\n|--------|--------|--------|\n| General Fund | ${Amount} | Confirmed |\n| {Grant Name} | ${Amount} | {Status} |\n| {Other Source} | ${Amount} | {Status} |\n\n### Personnel Implications\n\n- New positions: {Number}\n- Role adjustments: {Number}\n- Professional development: {Hours/Focus}\n\n---\n\n## Success Measures\n\n| Strategic Direction | Key Indicator | Baseline | Year 3 Target |\n|---------------------|---------------|----------|---------------|\n| SD1 | {Indicator} | {Value} | {Target} |\n| SD2 | {Indicator} | {Value} | {Target} |\n| SD3 | {Indicator} | {Value} | {Target} |\n| SD4 | {Indicator} | {Value} | {Target} |\n| SD5 | {Indicator} | {Value} | {Target} |\n\n---\n\n## Accountability Structure\n\n| Review Level | Frequency | Focus |\n|--------------|-----------|-------|\n| Cabinet | Monthly | Operational progress |\n| Board | Quarterly | Strategic oversight |\n| Community | Semi-annual | Transparency reporting |\n\n---\n\n## Recommended Board Actions\n\nThe administration recommends that the Board of Education:\n\n1. **Approve** the {DISTRICT_NAME} Strategic Plan {YEAR}-{YEAR + 3} as presented\n\n2. **Direct** the Superintendent to:\n   - Implement Year One activities as outlined\n   - Allocate budgeted resources\n   - Report quarterly on progress\n\n3. **Authorize**:\n   - Communication of the plan to all stakeholders\n   - Necessary staffing adjustments\n   - Professional development investments\n\n4. **Schedule**:\n   - Quarterly progress updates at regular board meetings\n   - Annual comprehensive review each June\n\n---\n\n## Next Steps Upon Approval\n\n| Action | Timeline | Owner |\n|--------|----------|-------|\n| Staff communication | Week 1 | Superintendent |\n| Community announcement | Week 2 | Communications |\n| Implementation team formation | Month 1 | Cabinet |\n| Baseline data collection | Month 1-2 | Assessment |\n| Q1 actions launch | Month 1 | Direction Leads |\n\n---\n\n## Questions for Discussion\n\n1. {Question about priorities}\n2. {Question about resources}\n3. {Question about timeline}\n\n---\n\n*Presented to the Board of Education: {Date}*\n*Prepared by: {Name}, Superintendent*\n\n---\n\n## Appendix: Planning Process Summary\n\n**Timeline:**\n- Discovery: {Dates}\n- SWOT Analysis: {Dates}\n- Visioning Sessions: {Dates}\n- Direction Development: {Dates}\n- Implementation Planning: {Dates}\n\n**Participants:**\n- {Number} survey respondents\n- {Number} focus group participants\n- {Number} planning committee members\n- {Number} community forum attendees\n\n**Methodology:**\nTechnology of Participation (ToP) strategic planning, incorporating best practices from K-12 education research.\n",
        "skills/strategic-planning-manager/templates/first-year-timeline.md": "---\ntype: first-year-timeline\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\nfiscal_year: {YEAR}-{YEAR + 1}\n---\n\n# First-Year Implementation Timeline\n\n> Quarterly breakdown of Year 1 actions for {DISTRICT_NAME} Strategic Plan.\n\n---\n\n## Timeline Overview\n\n| Strategic Direction | Q1 (Jul-Sep) | Q2 (Oct-Dec) | Q3 (Jan-Mar) | Q4 (Apr-Jun) |\n|---------------------|--------------|--------------|--------------|--------------|\n| SD1: {name} | {focus} | {focus} | {focus} | {focus} |\n| SD2: {name} | {focus} | {focus} | {focus} | {focus} |\n| SD3: {name} | {focus} | {focus} | {focus} | {focus} |\n| SD4: {name} | {focus} | {focus} | {focus} | {focus} |\n| SD5: {name} | {focus} | {focus} | {focus} | {focus} |\n\n---\n\n## Q1: Foundation & Launch (July - September {YEAR})\n\n**Theme:** Establish infrastructure, communicate plan, begin foundational work\n\n### Key Milestones\n\n| Milestone | Target Date | Owner | Status |\n|-----------|-------------|-------|--------|\n| {milestone} | {date} | {owner} | â˜ |\n| {milestone} | {date} | {owner} | â˜ |\n| {milestone} | {date} | {owner} | â˜ |\n\n### Actions by Strategic Direction\n\n#### SD1: {Name}\n\n| Action | Owner | Start | End | Resources | Dependencies |\n|--------|-------|-------|-----|-----------|--------------|\n| {action} | {role} | {date} | {date} | {resources} | {deps} |\n| {action} | {role} | {date} | {date} | {resources} | {deps} |\n\n**Q1 Deliverables:**\n- [ ] {deliverable}\n- [ ] {deliverable}\n\n#### SD2: {Name}\n\n| Action | Owner | Start | End | Resources | Dependencies |\n|--------|-------|-------|-----|-----------|--------------|\n| {action} | {role} | {date} | {date} | {resources} | {deps} |\n\n**Q1 Deliverables:**\n- [ ] {deliverable}\n\n[Repeat for SD3-SD5]\n\n### Q1 Review Checkpoint\n\n**Date:** End of September {YEAR}\n\n**Questions to Answer:**\n1. Are foundational elements in place?\n2. Is communication reaching stakeholders?\n3. Are resources adequate?\n4. Any early warning signs?\n\n---\n\n## Q2: Implementation Ramp-Up (October - December {YEAR})\n\n**Theme:** Build momentum, address early learnings, visible progress\n\n### Key Milestones\n\n| Milestone | Target Date | Owner | Status |\n|-----------|-------------|-------|--------|\n| {milestone} | {date} | {owner} | â˜ |\n| {milestone} | {date} | {owner} | â˜ |\n\n### Actions by Strategic Direction\n\n#### SD1: {Name}\n\n| Action | Owner | Start | End | Resources | Dependencies |\n|--------|-------|-------|-----|-----------|--------------|\n| {action} | {role} | {date} | {date} | {resources} | {deps} |\n\n**Q2 Deliverables:**\n- [ ] {deliverable}\n\n[Repeat for each SD]\n\n### Q2 Review Checkpoint\n\n**Date:** End of December {YEAR}\n\n**Questions to Answer:**\n1. Mid-year progress on success indicators?\n2. Budget tracking on target?\n3. Staff capacity adequate?\n4. Course corrections needed?\n\n---\n\n## Q3: Mid-Year Assessment (January - March {YEAR + 1})\n\n**Theme:** Evaluate progress, make adjustments, sustain momentum\n\n### Key Milestones\n\n| Milestone | Target Date | Owner | Status |\n|-----------|-------------|-------|--------|\n| {milestone} | {date} | {owner} | â˜ |\n| {milestone} | {date} | {owner} | â˜ |\n\n### Mid-Year Progress Report\n\n**Required by:** {date}\n\n**Contents:**\n- Progress on each strategic direction\n- Success indicator updates\n- Budget status\n- Challenges encountered\n- Recommended adjustments\n\n### Actions by Strategic Direction\n\n#### SD1: {Name}\n\n| Action | Owner | Start | End | Resources | Dependencies |\n|--------|-------|-------|-----|-----------|--------------|\n| {action} | {role} | {date} | {date} | {resources} | {deps} |\n\n**Q3 Deliverables:**\n- [ ] {deliverable}\n\n[Repeat for each SD]\n\n### Q3 Review Checkpoint\n\n**Date:** End of March {YEAR + 1}\n\n**Questions to Answer:**\n1. On track for Year 1 accomplishments?\n2. What's working well?\n3. What needs to change for Q4?\n4. Year 2 planning considerations?\n\n---\n\n## Q4: Year-End Evaluation (April - June {YEAR + 1})\n\n**Theme:** Complete Year 1, evaluate outcomes, prepare for Year 2\n\n### Key Milestones\n\n| Milestone | Target Date | Owner | Status |\n|-----------|-------------|-------|--------|\n| Complete Year 1 actions | {date} | All leads | â˜ |\n| Year-end evaluation | {date} | {owner} | â˜ |\n| Year 2 planning | {date} | {owner} | â˜ |\n| Board presentation | {date} | Supt | â˜ |\n\n### Actions by Strategic Direction\n\n#### SD1: {Name}\n\n| Action | Owner | Start | End | Resources | Dependencies |\n|--------|-------|-------|-----|-----------|--------------|\n| {action} | {role} | {date} | {date} | {resources} | {deps} |\n\n**Q4 Deliverables:**\n- [ ] {deliverable}\n\n[Repeat for each SD]\n\n### Year 1 Evaluation\n\n**Date:** June {YEAR + 1}\n\n**Evaluation Questions:**\n1. Did we achieve Year 1 accomplishments?\n2. Progress on success indicators (baseline â†’ current â†’ target)?\n3. What worked? What didn't?\n4. Budget variance analysis\n5. Stakeholder perception\n\n### Year 2 Planning\n\n**To Complete in Q4:**\n- [ ] Review Year 1 data\n- [ ] Adjust Year 2 targets if needed\n- [ ] Update action plans\n- [ ] Confirm resource allocations\n- [ ] Communicate Year 2 focus\n\n---\n\n## Cross-Quarter Elements\n\n### Ongoing Throughout Year\n\n| Activity | Frequency | Owner | Notes |\n|----------|-----------|-------|-------|\n| Cabinet progress review | Monthly | Supt | First Monday |\n| Board updates | Quarterly | Supt | Regular meetings |\n| Staff communication | Monthly | Comms | Newsletter |\n| Community updates | Quarterly | Comms | Website/meetings |\n| Data collection | Ongoing | Assessment | Per measurement plan |\n\n### Professional Development Calendar\n\n| PD Focus | Timing | Audience | Connections |\n|----------|--------|----------|-------------|\n| {pd topic} | {when} | {who} | SD{#} |\n| {pd topic} | {when} | {who} | SD{#} |\n\n### Communication Calendar\n\n| Communication | Timing | Audience | Channel |\n|---------------|--------|----------|---------|\n| Launch announcement | Jul {YEAR} | All | Multi-channel |\n| Q1 update | Oct {YEAR} | Staff/Families | Newsletter |\n| Mid-year report | Jan {YEAR + 1} | Board/Community | Presentation |\n| Year-end report | Jun {YEAR + 1} | All | Report/Presentation |\n\n---\n\n## Resource Allocation by Quarter\n\n### Personnel\n\n| Role | Q1 | Q2 | Q3 | Q4 |\n|------|----|----|----|----|\n| {role} | {%} | {%} | {%} | {%} |\n\n### Budget\n\n| Category | Q1 | Q2 | Q3 | Q4 | Total |\n|----------|----|----|----|----|-------|\n| Personnel | ${} | ${} | ${} | ${} | ${} |\n| PD | ${} | ${} | ${} | ${} | ${} |\n| Materials | ${} | ${} | ${} | ${} | ${} |\n| **Total** | **${}** | **${}** | **${}** | **${}** | **${}** |\n\n---\n\n## Risk Monitoring\n\n| Risk | Trigger | Response | Owner |\n|------|---------|----------|-------|\n| {risk} | {warning sign} | {action to take} | {owner} |\n| {risk} | {warning sign} | {action to take} | {owner} |\n\n---\n\n## Success Criteria for Year 1\n\nBy June {YEAR + 1}, we will have:\n\n- [ ] Completed all Q1-Q4 deliverables for each strategic direction\n- [ ] Achieved Year 1 targets on {#} of {#} success indicators\n- [ ] Remained within budget allocation\n- [ ] Maintained positive stakeholder engagement\n- [ ] Established strong foundation for Years 2-3\n\n---\n\n*First-Year Timeline developed with strategic planning team*\n*{DATE}*\n",
        "skills/strategic-planning-manager/templates/focused-implementation.md": "---\ntype: focused-implementation\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\nplan_start: {YEAR}\nplan_end: {YEAR + 3}\n---\n\n# Focused Implementation Plan\n\n> From current reality to three-year outcomes for each strategic direction.\n\n---\n\n## Implementation Overview\n\n| Strategic Direction | Current State | Year 1 Focus | Year 3 Outcome |\n|---------------------|---------------|--------------|----------------|\n| SD1: {name} | {brief} | {brief} | {brief} |\n| SD2: {name} | {brief} | {brief} | {brief} |\n| SD3: {name} | {brief} | {brief} | {brief} |\n| SD4: {name} | {brief} | {brief} | {brief} |\n| SD5: {name} | {brief} | {brief} | {brief} |\n\n---\n\n## SD1: {Strategic Direction Name}\n\n### Three-Column Implementation\n\n| Current Reality ({YEAR}) | 1-Year Accomplishments ({YEAR + 1}) | 3-Year Outcomes ({YEAR + 3}) |\n|--------------------------|-------------------------------------|------------------------------|\n| {What is true today} | {What will be true in 12 months} | {What will be true in 36 months} |\n| {Current state item} | {Accomplishment} | {Outcome} |\n| {Current state item} | {Accomplishment} | {Outcome} |\n| {Current state item} | {Accomplishment} | {Outcome} |\n\n### Success Indicators\n\n| Indicator | Baseline ({YEAR}) | Year 1 Target | Year 3 Target | Measurement |\n|-----------|-------------------|---------------|---------------|-------------|\n| {indicator} | {value} | {target} | {target} | {how measured} |\n| {indicator} | {value} | {target} | {target} | {how measured} |\n| {indicator} | {value} | {target} | {target} | {how measured} |\n\n### Year 1 Action Plan\n\n| Action | Owner | Q1 | Q2 | Q3 | Q4 | Resources |\n|--------|-------|----|----|----|----|-----------|\n| {action} | {person/role} | âœ“ | âœ“ | | | {resources} |\n| {action} | {person/role} | | âœ“ | âœ“ | | {resources} |\n| {action} | {person/role} | | | âœ“ | âœ“ | {resources} |\n\n### Resource Requirements\n\n| Resource Type | Year 1 | Year 2 | Year 3 |\n|---------------|--------|--------|--------|\n| Personnel (FTE) | {#} | {#} | {#} |\n| Budget | ${amount} | ${amount} | ${amount} |\n| Professional Development | {hours/type} | {hours/type} | {hours/type} |\n| External Support | {description} | {description} | {description} |\n\n### Risks & Mitigation\n\n| Risk | Likelihood | Impact | Mitigation Strategy |\n|------|------------|--------|---------------------|\n| {risk} | High/Med/Low | High/Med/Low | {strategy} |\n| {risk} | High/Med/Low | High/Med/Low | {strategy} |\n\n---\n\n## SD2: {Strategic Direction Name}\n\n### Three-Column Implementation\n\n| Current Reality ({YEAR}) | 1-Year Accomplishments ({YEAR + 1}) | 3-Year Outcomes ({YEAR + 3}) |\n|--------------------------|-------------------------------------|------------------------------|\n| {current} | {year 1} | {year 3} |\n| {current} | {year 1} | {year 3} |\n| {current} | {year 1} | {year 3} |\n\n### Success Indicators\n\n| Indicator | Baseline | Year 1 | Year 3 | Measurement |\n|-----------|----------|--------|--------|-------------|\n| {ind} | {val} | {tgt} | {tgt} | {how} |\n\n### Year 1 Action Plan\n\n| Action | Owner | Q1 | Q2 | Q3 | Q4 | Resources |\n|--------|-------|----|----|----|----|-----------|\n| {action} | {owner} | | | | | |\n\n### Resource Requirements\n\n| Resource Type | Year 1 | Year 2 | Year 3 |\n|---------------|--------|--------|--------|\n| Personnel | | | |\n| Budget | | | |\n\n---\n\n## SD3: {Strategic Direction Name}\n\n[Repeat structure from SD1/SD2]\n\n---\n\n## SD4: {Strategic Direction Name}\n\n[Repeat structure]\n\n---\n\n## SD5: {Strategic Direction Name}\n\n[Repeat structure]\n\n---\n\n## Cross-Direction Integration\n\n### Shared Resources\n\n| Resource | Directions Using | Coordination Needed |\n|----------|------------------|---------------------|\n| {resource} | SD1, SD3 | {description} |\n| {resource} | SD2, SD4, SD5 | {description} |\n\n### Dependencies\n\n| Prerequisite | Enables | Timeline Impact |\n|--------------|---------|-----------------|\n| SD1 Q2 milestone | SD3 can begin | SD3 delayed if SD1 late |\n| {prerequisite} | {enables} | {impact} |\n\n### Synergies\n\n| Directions | Synergy | Leverage Opportunity |\n|------------|---------|----------------------|\n| SD1 + SD2 | {synergy} | {how to leverage} |\n| SD3 + SD5 | {synergy} | {how to leverage} |\n\n---\n\n## Resource Summary\n\n### Personnel\n\n| Role/Position | Current | Year 1 | Year 2 | Year 3 | Notes |\n|---------------|---------|--------|--------|--------|-------|\n| {role} | {#} | {#} | {#} | {#} | {notes} |\n| **Total New FTE** | | {#} | {#} | {#} | |\n\n### Budget\n\n| Category | Year 1 | Year 2 | Year 3 | 3-Year Total |\n|----------|--------|--------|--------|--------------|\n| Personnel | ${} | ${} | ${} | ${} |\n| Professional Development | ${} | ${} | ${} | ${} |\n| Technology | ${} | ${} | ${} | ${} |\n| Materials/Supplies | ${} | ${} | ${} | ${} |\n| External Consultants | ${} | ${} | ${} | ${} |\n| **Total** | **${}** | **${}** | **${}** | **${}** |\n\n### Funding Sources\n\n| Source | Amount | Status | Timing |\n|--------|--------|--------|--------|\n| General Fund | ${} | {confirmed/pending} | {ongoing/one-time} |\n| Grant: {name} | ${} | {status} | {timing} |\n| {source} | ${} | {status} | {timing} |\n\n---\n\n## Monitoring & Accountability\n\n### Governance Structure\n\n| Level | Frequency | Focus | Participants |\n|-------|-----------|-------|--------------|\n| Cabinet | Monthly | Progress review | Superintendent, Asst. Supts |\n| Board | Quarterly | Strategic updates | Board members |\n| Community | Semi-annual | Transparency reports | Public |\n\n### Progress Review Cycle\n\n**Monthly:**\n- Direction leads report on action plan progress\n- Identify blockers and resource needs\n- Adjust tactics as needed\n\n**Quarterly:**\n- Review success indicators\n- Assess milestone achievement\n- Board progress report\n\n**Annual:**\n- Comprehensive progress assessment\n- Year-over-year comparison\n- Plan adjustment recommendations\n\n---\n\n## Implementation Risks\n\n| Risk | Probability | Impact | Owner | Mitigation |\n|------|-------------|--------|-------|------------|\n| Budget constraints | Medium | High | CFO | Prioritization framework |\n| Staff turnover | Medium | Medium | HR | Succession planning |\n| Community resistance | Low | Medium | Comms | Engagement strategy |\n| {risk} | {prob} | {impact} | {owner} | {mitigation} |\n\n---\n\n## Communication Plan\n\n| Audience | Message Focus | Channel | Frequency |\n|----------|---------------|---------|-----------|\n| Board | Progress, decisions needed | Board meetings | Monthly |\n| Staff | What's changing, support available | Staff meetings, email | Ongoing |\n| Families | What this means for students | Newsletter, website | Quarterly |\n| Community | Progress, engagement opportunities | Public meetings, media | Semi-annual |\n\n---\n\n## Next Steps\n\n1. [ ] Finalize Year 1 action plans with owners\n2. [ ] Confirm budget allocations\n3. [ ] Create detailed Year 1 timeline\n4. [ ] Establish baseline measurements\n5. [ ] Launch communication plan\n\n---\n\n*Implementation Plan developed collaboratively*\n*{DATE}*\n",
        "skills/strategic-planning-manager/templates/full-strategic-plan.md": "---\ntype: strategic-plan\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\nplan_horizon: {YEAR} - {YEAR + 3}\nversion: 1.0\n---\n\n# {DISTRICT_NAME} Strategic Plan\n## {YEAR} - {YEAR + 3}\n\n---\n\n# Table of Contents\n\n1. [Message from Superintendent](#message-from-superintendent)\n2. [Executive Summary](#executive-summary)\n3. [About Our District](#about-our-district)\n4. [Planning Process](#planning-process)\n5. [Discovery Findings](#discovery-findings)\n6. [Environmental Analysis](#environmental-analysis)\n7. [Our Vision for {YEAR + 3}](#our-vision)\n8. [Underlying Contradictions](#underlying-contradictions)\n9. [Strategic Directions](#strategic-directions)\n10. [Implementation Plan](#implementation-plan)\n11. [Year One Focus](#year-one-focus)\n12. [Monitoring & Accountability](#monitoring-and-accountability)\n13. [Acknowledgments](#acknowledgments)\n14. [Appendices](#appendices)\n\n---\n\n# Message from Superintendent\n\nDear {DISTRICT_NAME} Community,\n\n{Personalized message about the strategic plan, the process, and the vision}\n\n{Signature}\n{Name}, Superintendent\n\n---\n\n# Executive Summary\n\n## Our Vision\n\n{2-3 sentence vision statement for the district in {YEAR + 3}}\n\n## Strategic Priorities\n\n| Priority | Focus |\n|----------|-------|\n| **{Strategic Direction 1}** | {Brief description} |\n| **{Strategic Direction 2}** | {Brief description} |\n| **{Strategic Direction 3}** | {Brief description} |\n| **{Strategic Direction 4}** | {Brief description} |\n| **{Strategic Direction 5}** | {Brief description} |\n\n## Key Outcomes by {YEAR + 3}\n\n- {Outcome 1}\n- {Outcome 2}\n- {Outcome 3}\n- {Outcome 4}\n\n## Investment Summary\n\n| Category | 3-Year Investment |\n|----------|-------------------|\n| {Category} | ${Amount} |\n| {Category} | ${Amount} |\n| **Total** | **${Amount}** |\n\n---\n\n# About Our District\n\n## District Profile\n\n| Metric | Value |\n|--------|-------|\n| Students | {Number} |\n| Schools | {Number} |\n| Staff | {Number} |\n| Established | {Year} |\n\n## Mission Statement\n\n{District mission statement}\n\n## Core Values\n\n- **{Value 1}:** {Description}\n- **{Value 2}:** {Description}\n- **{Value 3}:** {Description}\n\n## Community Context\n\n{Brief description of community demographics, economy, and context}\n\n---\n\n# Planning Process\n\n## Methodology\n\nThis strategic plan was developed using the Technology of Participation (ToP) methodology, a collaborative approach that ensures diverse stakeholder voices shape our direction.\n\n### Planning Phases\n\n1. **Discovery & Data Collection**\n   - Surveys, focus groups, document analysis\n   - {Number} stakeholders engaged\n\n2. **Environmental Analysis**\n   - SWOT synthesis and prioritization\n   - Investment and barrier identification\n\n3. **Practical Vision Development**\n   - Collaborative visioning sessions\n   - 8-10 vision categories identified\n\n4. **Underlying Contradictions**\n   - Tension identification and clustering\n   - Root cause analysis\n\n5. **Strategic Directions**\n   - Action definition and prioritization\n   - Resource planning\n\n6. **Implementation Planning**\n   - Three-year roadmap development\n   - Accountability structures\n\n7. **Plan Synthesis**\n   - Document development\n   - Stakeholder approval\n\n## Stakeholder Engagement\n\n| Stakeholder Group | Participation | Methods |\n|-------------------|---------------|---------|\n| Students | {Number} | {Methods} |\n| Parents/Families | {Number} | {Methods} |\n| Teachers | {Number} | {Methods} |\n| Staff | {Number} | {Methods} |\n| Administrators | {Number} | {Methods} |\n| Community Members | {Number} | {Methods} |\n| Board Members | {Number} | {Methods} |\n\n## Planning Team\n\n{List of planning committee members with roles}\n\n---\n\n# Discovery Findings\n\n## What We Learned\n\n### Strengths\n\n{Summary of key strengths identified}\n\n### Areas for Growth\n\n{Summary of key areas needing improvement}\n\n### Key Themes\n\n1. **{Theme}:** {Description with evidence}\n2. **{Theme}:** {Description with evidence}\n3. **{Theme}:** {Description with evidence}\n\n### Stakeholder Voices\n\n> \"{Representative quote}\"\n> â€” {Stakeholder group}\n\n> \"{Representative quote}\"\n> â€” {Stakeholder group}\n\n---\n\n# Environmental Analysis\n\n## SWOT Summary\n\n| Strengths | Weaknesses |\n|-----------|------------|\n| {S1} | {W1} |\n| {S2} | {W2} |\n| {S3} | {W3} |\n\n| Opportunities | Threats |\n|---------------|---------|\n| {O1} | {T1} |\n| {O2} | {T2} |\n| {O3} | {T3} |\n\n## Where We Will Invest\n\n{Description of key investment priorities based on SÃ—O analysis}\n\n## Barriers to Address\n\n{Description of key barriers that must be overcome}\n\n---\n\n# Our Vision for {YEAR + 3}\n\n## Vision Statement\n\nBy {YEAR + 3}, {DISTRICT_NAME} will be a district where...\n\n{Narrative vision statement}\n\n## Vision by Category\n\n### {Category 1}: {Theme}\n\n{Vision description and key outcomes}\n\n### {Category 2}: {Theme}\n\n{Vision description and key outcomes}\n\n### {Category 3}: {Theme}\n\n{Vision description and key outcomes}\n\n[Continue for all vision categories]\n\n---\n\n# Underlying Contradictions\n\n## Understanding Our Challenges\n\nStrategic planning revealed tensions that must be resolvedâ€”not just obstacles to overcome, but competing priorities that require thoughtful resolution.\n\n### Contradiction 1: {Title}\n\n**The Tension:** {Description}\n\n**Impact:** {How this affects our vision}\n\n### Contradiction 2: {Title}\n\n**The Tension:** {Description}\n\n**Impact:** {How this affects our vision}\n\n[Continue for key contradictions]\n\n---\n\n# Strategic Directions\n\n## Our Five Priorities\n\n### Strategic Direction 1: {Title}\n\n**What We Will Do:**\n{Description of the strategic direction}\n\n**Why It Matters:**\n{Connection to vision and contradictions resolved}\n\n**Key Strategies:**\n1. {Strategy}\n2. {Strategy}\n3. {Strategy}\n\n**Success Indicators:**\n| Indicator | Baseline | Year 3 Target |\n|-----------|----------|---------------|\n| {Indicator} | {Value} | {Target} |\n\n---\n\n### Strategic Direction 2: {Title}\n\n[Repeat structure]\n\n---\n\n### Strategic Direction 3: {Title}\n\n[Repeat structure]\n\n---\n\n### Strategic Direction 4: {Title}\n\n[Repeat structure]\n\n---\n\n### Strategic Direction 5: {Title}\n\n[Repeat structure]\n\n---\n\n# Implementation Plan\n\n## Three-Year Roadmap\n\n### Year 1: Foundation ({YEAR}-{YEAR + 1})\n\n**Focus:** Establish infrastructure and launch initiatives\n\n| Strategic Direction | Year 1 Accomplishments |\n|---------------------|------------------------|\n| SD1 | {Key outcomes} |\n| SD2 | {Key outcomes} |\n| SD3 | {Key outcomes} |\n| SD4 | {Key outcomes} |\n| SD5 | {Key outcomes} |\n\n### Year 2: Acceleration ({YEAR + 1}-{YEAR + 2})\n\n**Focus:** Build momentum and deepen implementation\n\n| Strategic Direction | Year 2 Accomplishments |\n|---------------------|------------------------|\n| SD1 | {Key outcomes} |\n| SD2 | {Key outcomes} |\n| SD3 | {Key outcomes} |\n| SD4 | {Key outcomes} |\n| SD5 | {Key outcomes} |\n\n### Year 3: Sustainability ({YEAR + 2}-{YEAR + 3})\n\n**Focus:** Achieve outcomes and ensure sustainability\n\n| Strategic Direction | Year 3 Outcomes |\n|---------------------|-----------------|\n| SD1 | {Key outcomes} |\n| SD2 | {Key outcomes} |\n| SD3 | {Key outcomes} |\n| SD4 | {Key outcomes} |\n| SD5 | {Key outcomes} |\n\n## Resource Allocation\n\n| Category | Year 1 | Year 2 | Year 3 | Total |\n|----------|--------|--------|--------|-------|\n| Personnel | ${} | ${} | ${} | ${} |\n| Programs | ${} | ${} | ${} | ${} |\n| Technology | ${} | ${} | ${} | ${} |\n| Facilities | ${} | ${} | ${} | ${} |\n| **Total** | **${}** | **${}** | **${}** | **${}** |\n\n---\n\n# Year One Focus\n\n## Quarterly Priorities\n\n| Quarter | Focus |\n|---------|-------|\n| **Q1** (Jul-Sep) | {Focus} |\n| **Q2** (Oct-Dec) | {Focus} |\n| **Q3** (Jan-Mar) | {Focus} |\n| **Q4** (Apr-Jun) | {Focus} |\n\n## Key Year 1 Milestones\n\n- [ ] {Milestone} - {Target Date}\n- [ ] {Milestone} - {Target Date}\n- [ ] {Milestone} - {Target Date}\n- [ ] {Milestone} - {Target Date}\n\n---\n\n# Monitoring & Accountability\n\n## Governance Structure\n\n| Level | Frequency | Purpose |\n|-------|-----------|---------|\n| Cabinet | Monthly | Progress monitoring |\n| Board | Quarterly | Strategic oversight |\n| Community | Semi-annual | Transparency reporting |\n\n## Success Indicators Dashboard\n\n| Strategic Direction | Indicator | Baseline | Y1 | Y2 | Y3 |\n|---------------------|-----------|----------|----|----|-----|\n| SD1 | {Indicator} | {Val} | {Tgt} | {Tgt} | {Tgt} |\n| SD2 | {Indicator} | {Val} | {Tgt} | {Tgt} | {Tgt} |\n| SD3 | {Indicator} | {Val} | {Tgt} | {Tgt} | {Tgt} |\n| SD4 | {Indicator} | {Val} | {Tgt} | {Tgt} | {Tgt} |\n| SD5 | {Indicator} | {Val} | {Tgt} | {Tgt} | {Tgt} |\n\n## Annual Review Process\n\nEach year, the district will:\n1. Assess progress against success indicators\n2. Gather stakeholder feedback\n3. Adjust tactics while maintaining strategic focus\n4. Report progress to the board and community\n\n---\n\n# Acknowledgments\n\nThis strategic plan represents the collective wisdom and aspirations of the {DISTRICT_NAME} community. We extend our gratitude to:\n\n**Planning Committee:**\n{Names}\n\n**Focus Group Participants:**\n{Groups}\n\n**Survey Respondents:**\n{Number} community members who shared their perspectives\n\n**Board of Education:**\n{Names}\n\n---\n\n# Appendices\n\n## Appendix A: Detailed Data Analysis\n\n{Additional charts and data}\n\n## Appendix B: Survey Instruments\n\n{Survey questions used}\n\n## Appendix C: Focus Group Protocols\n\n{Discussion guides}\n\n## Appendix D: Complete SWOT Analysis\n\n{Full SWOT details}\n\n## Appendix E: Glossary\n\n| Term | Definition |\n|------|------------|\n| {Term} | {Definition} |\n\n---\n\n*{DISTRICT_NAME} Strategic Plan {YEAR}-{YEAR + 3}*\n*Adopted by the Board of Education: {Date}*\n*Board Resolution: {Number}*\n\n---\n\n*Developed with assistance from Geoffrey Strategic Planning Manager*\n",
        "skills/strategic-planning-manager/templates/practical-vision.md": "---\ntype: practical-vision\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\nvision_horizon: {YEAR + 3}\n---\n\n# Practical Vision\n\n> What we want to see in {YEAR + 3} - concrete, observable outcomes that define success.\n\n---\n\n## Vision at a Glance\n\nBy {YEAR + 3}, {DISTRICT_NAME} will be a district where:\n\n1. **{Category 1 Name}:** {one-sentence vision summary}\n2. **{Category 2 Name}:** {one-sentence vision summary}\n3. **{Category 3 Name}:** {one-sentence vision summary}\n4. **{Category 4 Name}:** {one-sentence vision summary}\n5. **{Category 5 Name}:** {one-sentence vision summary}\n6. **{Category 6 Name}:** {one-sentence vision summary}\n\n---\n\n## Vision Matrix\n\n*Organized by category with specific vision elements*\n\n| Learning | Equity | Staff | Community | Technology | Facilities | Safety | Finance |\n|----------|--------|-------|-----------|------------|------------|--------|---------|\n| {item} | {item} | {item} | {item} | {item} | {item} | {item} | {item} |\n| {item} | {item} | {item} | {item} | {item} | {item} | {item} | {item} |\n| {item} | {item} | {item} | {item} | {item} | {item} | {item} | {item} |\n| {item} | {item} | {item} | {item} | {item} | {item} | {item} | {item} |\n\n---\n\n## Category Details\n\n### 1. {Category Name}: {Vision Theme}\n\n**Vision Statement:**\n{Narrative description of what this looks like in 3 years}\n\n**Observable Outcomes:**\n- [ ] {Specific, observable outcome}\n- [ ] {Specific, observable outcome}\n- [ ] {Specific, observable outcome}\n- [ ] {Specific, observable outcome}\n\n**Evidence of Success:**\n- {What we would see/hear/measure}\n- {What stakeholders would experience}\n\n**Connection to SWOT:**\n- Leverages: S{#}, S{#}\n- Addresses: W{#}\n- Captures: O{#}\n\n---\n\n### 2. {Category Name}: {Vision Theme}\n\n**Vision Statement:**\n{Narrative description}\n\n**Observable Outcomes:**\n- [ ] {Outcome}\n- [ ] {Outcome}\n- [ ] {Outcome}\n\n**Evidence of Success:**\n- {Evidence}\n\n**Connection to SWOT:**\n- Leverages: S{#}\n- Addresses: W{#}\n- Captures: O{#}\n\n---\n\n### 3. {Category Name}: {Vision Theme}\n\n[Repeat structure]\n\n---\n\n### 4. {Category Name}: {Vision Theme}\n\n[Repeat structure]\n\n---\n\n### 5. {Category Name}: {Vision Theme}\n\n[Repeat structure]\n\n---\n\n### 6. {Category Name}: {Vision Theme}\n\n[Repeat structure]\n\n---\n\n## Cross-Category Themes\n\nPatterns that appear across multiple vision categories:\n\n### Theme: {Cross-cutting theme}\n\n**Appears in:** {Category 1}, {Category 3}, {Category 5}\n\n**Unifying idea:** {Description of how this connects}\n\n**Implication:** {What this means for strategic directions}\n\n---\n\n### Theme: {Another cross-cutting theme}\n\n**Appears in:** {Categories}\n\n**Unifying idea:** {Description}\n\n**Implication:** {Strategic implication}\n\n---\n\n## Vision Validation\n\n### Stakeholder Input Summary\n\n| Category | Parent Input | Staff Input | Student Input | Community Input |\n|----------|--------------|-------------|---------------|-----------------|\n| {cat} | âœ“ | âœ“ | âœ“ | |\n| {cat} | âœ“ | âœ“ | | âœ“ |\n\n### Alignment Check\n\n**Aligns with district mission:** â˜ Yes / â˜ Needs adjustment\n\n**Aligns with board priorities:** â˜ Yes / â˜ Needs adjustment\n\n**Achievable in 3 years:** â˜ Yes / â˜ Needs adjustment\n\n---\n\n## From Vision to Action\n\nThis practical vision will guide the development of:\n\n1. **Underlying Contradictions** - What tensions must we resolve?\n2. **Strategic Directions** - What innovative actions will get us there?\n3. **Implementation Plan** - How will we make progress year by year?\n\n---\n\n## Participant Input Record\n\n### Vision Brainstorming Contributions\n\n*Organized by source*\n\n**Individual Ideas (Pre-Work):**\n- {idea}\n- {idea}\n\n**Small Group Synthesis:**\n- {idea}\n- {idea}\n\n**Large Group Refinements:**\n- {refinement}\n- {refinement}\n\n---\n\n*Practical Vision developed through collaborative process*\n*{DATE}*\n",
        "skills/strategic-planning-manager/templates/strategic-directions.md": "---\ntype: strategic-directions\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\ndirection_count: {N}\n---\n\n# Strategic Directions\n\n> Innovative actions that resolve contradictions and advance the practical vision.\n\n---\n\n## Strategic Directions Overview\n\n| # | Strategic Direction | Contradictions Addressed | Vision Categories Served |\n|---|---------------------|--------------------------|--------------------------|\n| SD1 | {Direction name} | C1, C3 | Learning, Equity |\n| SD2 | {Direction name} | C2, C4 | Staff, Community |\n| SD3 | {Direction name} | C1, C5 | Technology, Learning |\n| SD4 | {Direction name} | C3, C4 | Facilities, Safety |\n| SD5 | {Direction name} | C2 | Finance, Equity |\n\n---\n\n## What Makes a Strategic Direction\n\nStrategic directions are NOT just goals. They are:\n\n- **Innovative Actions** - New approaches, not business as usual\n- **Contradiction Resolvers** - Address the tensions identified\n- **Vision Enablers** - Create conditions for vision achievement\n- **Multi-Year Commitments** - Sustained effort over the plan period\n\n---\n\n## Strategic Direction Details\n\n### SD1: {Strategic Direction Title}\n\n**Direction Statement:**\n{Clear, action-oriented statement of what we will do differently}\n\n**What This Means:**\n{Narrative description of this direction in practice}\n\n**Contradictions Addressed:**\n\n| Contradiction | How This Direction Resolves It |\n|---------------|-------------------------------|\n| C{#}: {name} | {explanation} |\n| C{#}: {name} | {explanation} |\n\n**Vision Categories Advanced:**\n\n| Category | How This Direction Contributes |\n|----------|-------------------------------|\n| {category} | {contribution} |\n| {category} | {contribution} |\n\n**Key Strategies:**\n1. {Strategy 1}\n2. {Strategy 2}\n3. {Strategy 3}\n\n**Success Indicators:**\n- {Indicator with baseline â†’ target}\n- {Indicator with baseline â†’ target}\n\n**Resource Implications:**\n- Staff: {implications}\n- Budget: {implications}\n- Time: {implications}\n\n**Ownership:**\n- **Lead:** {Role/position}\n- **Support:** {Roles/departments}\n\n---\n\n### SD2: {Strategic Direction Title}\n\n**Direction Statement:**\n{Statement}\n\n**What This Means:**\n{Description}\n\n**Contradictions Addressed:**\n\n| Contradiction | Resolution |\n|---------------|------------|\n| C{#} | {how} |\n\n**Vision Categories Advanced:**\n\n| Category | Contribution |\n|----------|--------------|\n| {cat} | {how} |\n\n**Key Strategies:**\n1. {Strategy}\n2. {Strategy}\n\n**Success Indicators:**\n- {Indicator}\n\n**Resource Implications:**\n- {implications}\n\n**Ownership:**\n- **Lead:** {role}\n\n---\n\n### SD3: {Strategic Direction Title}\n\n[Repeat structure]\n\n---\n\n### SD4: {Strategic Direction Title}\n\n[Repeat structure]\n\n---\n\n### SD5: {Strategic Direction Title}\n\n[Repeat structure]\n\n---\n\n## Direction Alignment Matrix\n\n### Contradictions Coverage\n\n| Direction | C1 | C2 | C3 | C4 | C5 |\n|-----------|----|----|----|----|-----|\n| SD1 | âœ“ | | âœ“ | | |\n| SD2 | | âœ“ | | âœ“ | |\n| SD3 | âœ“ | | | | âœ“ |\n| SD4 | | | âœ“ | âœ“ | |\n| SD5 | | âœ“ | | | |\n\n**Gap Check:** All contradictions should have at least one âœ“\n\n### Vision Coverage\n\n| Direction | Learning | Equity | Staff | Community | Technology | Facilities | Safety | Finance |\n|-----------|----------|--------|-------|-----------|------------|------------|--------|---------|\n| SD1 | âœ“ | âœ“ | | | | | | |\n| SD2 | | | âœ“ | âœ“ | | | | |\n| SD3 | âœ“ | | | | âœ“ | | | |\n| SD4 | | | | | | âœ“ | âœ“ | |\n| SD5 | | âœ“ | | | | | | âœ“ |\n\n**Gap Check:** Primary vision categories should have coverage\n\n---\n\n## Direction Prioritization\n\n| Priority | Direction | Rationale |\n|----------|-----------|-----------|\n| 1 | SD{#} | {Why this is highest priority} |\n| 2 | SD{#} | {Rationale} |\n| 3 | SD{#} | {Rationale} |\n| 4 | SD{#} | {Rationale} |\n| 5 | SD{#} | {Rationale} |\n\n---\n\n## Direction Dependencies\n\n```\nSD1 â”€â”€â”€â”€â”€â”€â–º SD3 (SD1 enables SD3)\n    â”‚\n    â””â”€â”€â”€â”€â”€â–º SD2\n            â”‚\n            â””â”€â–º SD5\n\nSD4 (independent)\n```\n\n**Implication for Implementation:** {sequence considerations}\n\n---\n\n## Resource Summary\n\n| Direction | FTE Impact | Budget Est. | External Support |\n|-----------|------------|-------------|------------------|\n| SD1 | {impact} | ${range} | {needs} |\n| SD2 | {impact} | ${range} | {needs} |\n| SD3 | {impact} | ${range} | {needs} |\n| SD4 | {impact} | ${range} | {needs} |\n| SD5 | {impact} | ${range} | {needs} |\n| **Total** | **{total}** | **${total}** | |\n\n---\n\n## Validation\n\n**Development Process:**\n- Date developed: {date}\n- Participants: {count}\n- Method: {collaborative workshop/etc.}\n\n**Validation Status:**\n- [ ] Planning team approval\n- [ ] Cabinet review\n- [ ] Board review\n- [ ] Community input\n\n---\n\n## Next Steps\n\n1. [ ] Finalize direction statements\n2. [ ] Develop detailed implementation plans per direction\n3. [ ] Create Year 1 timeline\n4. [ ] Assign detailed ownership and accountability\n\n---\n\n*Strategic Directions developed collaboratively*\n*{DATE}*\n",
        "skills/strategic-planning-manager/templates/swot-template.md": "---\ntype: swot-analysis\ndistrict: {DISTRICT_NAME}\ncreated: {DATE}\nstatus: draft\n---\n\n# SWOT Analysis\n\n> Environmental analysis for {DISTRICT_NAME} strategic planning.\n\n---\n\n## Summary Matrix\n\n| **Strengths** | **Weaknesses** |\n|---------------|----------------|\n| S1: {brief} | W1: {brief} |\n| S2: {brief} | W2: {brief} |\n| S3: {brief} | W3: {brief} |\n| S4: {brief} | W4: {brief} |\n| S5: {brief} | W5: {brief} |\n\n| **Opportunities** | **Threats** |\n|-------------------|-------------|\n| O1: {brief} | T1: {brief} |\n| O2: {brief} | T2: {brief} |\n| O3: {brief} | T3: {brief} |\n| O4: {brief} | T4: {brief} |\n| O5: {brief} | T5: {brief} |\n\n---\n\n## Strengths (Internal, Positive)\n\n*What we do well; what others see as our strengths*\n\n### S1: {Strength Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {data point or quote}\n- {data point or quote}\n\n**Source:** {survey/focus group/document}\n\n---\n\n### S2: {Strength Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {data point or quote}\n\n**Source:** {source}\n\n---\n\n[Repeat for S3-S5+]\n\n---\n\n## Weaknesses (Internal, Negative)\n\n*What limits us; where we're vulnerable*\n\n### W1: {Weakness Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {data point or quote}\n- {data point or quote}\n\n**Source:** {survey/focus group/document}\n\n**Impact:** {how this affects the district}\n\n---\n\n### W2: {Weakness Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {data point or quote}\n\n**Source:** {source}\n\n**Impact:** {impact}\n\n---\n\n[Repeat for W3-W5+]\n\n---\n\n## Opportunities (External, Positive)\n\n*External factors we can leverage; trends to capitalize on*\n\n### O1: {Opportunity Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {trend data or external factor}\n\n**Timeframe:** {immediate/short-term/long-term}\n\n**Potential Impact:** {what we could achieve}\n\n---\n\n### O2: {Opportunity Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {data}\n\n**Timeframe:** {timeframe}\n\n---\n\n[Repeat for O3-O5+]\n\n---\n\n## Threats (External, Negative)\n\n*External risks to navigate; competitive or regulatory concerns*\n\n### T1: {Threat Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {trend data or external factor}\n\n**Severity:** {high/medium/low}\n\n**Mitigation Options:** {how we might address}\n\n---\n\n### T2: {Threat Title}\n\n**Description:** {detailed description}\n\n**Evidence:**\n- {data}\n\n**Severity:** {severity}\n\n---\n\n[Repeat for T3-T5+]\n\n---\n\n## Where Will We Invest? (S Ã— O)\n\n*Strategic opportunities that leverage our strengths*\n\n### Investment Priority 1\n\n**Leverage:** S{#} - {strength name}\n**To Pursue:** O{#} - {opportunity name}\n\n**Recommendation:** {specific action or initiative}\n\n**Rationale:** {why this pairing makes sense}\n\n---\n\n### Investment Priority 2\n\n**Leverage:** S{#} - {strength name}\n**To Pursue:** O{#} - {opportunity name}\n\n**Recommendation:** {action}\n\n**Rationale:** {why}\n\n---\n\n### Investment Priority 3\n\n[Repeat structure]\n\n---\n\n## What's Holding Us Back? (W Focus)\n\n*Key barriers that must be addressed to achieve our vision*\n\n### ðŸ”´ Critical Barrier 1: {name}\n\n**Weakness:** W{#} - {weakness name}\n\n**Impact on Vision:** {how this blocks progress}\n\n**Compounded by:** {related threats if any}\n\n**Suggested Approach:** {how to address}\n\n---\n\n### ðŸŸ¡ Significant Barrier 2: {name}\n\n**Weakness:** W{#} - {weakness name}\n\n**Impact on Vision:** {impact}\n\n**Suggested Approach:** {approach}\n\n---\n\n### ðŸŸ¡ Significant Barrier 3\n\n[Repeat structure]\n\n---\n\n## Validation Notes\n\n**Stakeholders who reviewed:**\n- {name/role}\n- {name/role}\n\n**Refinements made:**\n- {change}\n- {change}\n\n**Remaining questions:**\n- {question}\n\n---\n\n## Next Steps\n\n1. [ ] Present SWOT to full planning team\n2. [ ] Validate with additional stakeholders\n3. [ ] Prioritize investment areas\n4. [ ] Proceed to Practical Vision phase\n\n---\n\n*SWOT Analysis generated with Geoffrey Strategic Planning Manager*\n*Requires human validation before proceeding*\n",
        "skills/writer/README.md": "# Writer Skill\n\nGenerate content in your authentic voice across emails, blogs, social media, and reports.\n\n## Overview\n\nThe Writer skill learns from your writing samples and generates content that authentically sounds like you. Unlike generic AI content generation, this skill:\n- Maintains 6 distinct voice profiles (work email, personal email, blog, LinkedIn, Twitter, reports)\n- Interviews you like a Pulitzer-winning journalist to understand your message\n- Validates output against your authentic patterns\n- Saves versioned drafts to Obsidian\n\n**Key Innovation**: Uses Claude's native LLM capabilities for voice analysis - no complex NLP libraries needed. Scripts just fetch samples, Geoffrey analyzes them.\n\n## Quick Start\n\n### 1. Initial Setup (Before First Use)\n\nGather writing samples for voice profile creation:\n\n```bash\ncd ~/non-ic-code/geoffrey/skills/writer/scripts\n\n# Extract email samples (3 accounts)\nbun extract-email-samples.js --account psd --date-range \"2024-06-01:2025-12-06\" --max-samples 100 --output \"/tmp/email-psd.json\"\nbun extract-email-samples.js --account kh --date-range \"2024-06-01:2025-12-06\" --max-samples 50 --output \"/tmp/email-kh.json\"\nbun extract-email-samples.js --account hrg --date-range \"2024-06-01:2025-12-06\" --max-samples 50 --output \"/tmp/email-hrg.json\"\n\n# Extract blog samples (requires Geoffrey Chrome)\ncd ~/non-ic-code/geoffrey/skills/browser-control && ./scripts/launch-chrome.sh\ncd ~/non-ic-code/geoffrey/skills/writer/scripts\nbun extract-blog-samples.js --urls \"https://psd401.ai/blog/post1,https://blog.krishagel.com/post2,...\" --output \"/tmp/blog-samples.json\"\n\n# Extract social samples (requires login to LinkedIn/X in Geoffrey Chrome)\nbun extract-social-samples.js --platform linkedin --profile-url \"https://linkedin.com/in/krishagel\" --max-posts 50 --output \"/tmp/social-linkedin.json\"\nbun extract-social-samples.js --platform twitter --profile-url \"https://x.com/KrisHagel\" --max-posts 50 --output \"/tmp/social-twitter.json\"\n```\n\nThen ask Geoffrey to analyze samples and create voice profiles:\n```\nAnalyze my writing samples and create voice profiles.\n\nEmail: /tmp/email-psd.json, /tmp/email-kh.json, /tmp/email-hrg.json\nBlog: /tmp/blog-samples.json\nSocial: /tmp/social-linkedin.json, /tmp/social-twitter.json\n```\n\n**Estimated time**: 30-45 minutes\n\n### 2. Using the Skill\n\nOnce voice profiles are created:\n\n```\nwrite blog post about our AI implementation journey\n```\n\nor\n\n```\nwrite email to my team about next week's meeting\n```\n\nor\n\n```\nwrite LinkedIn post about Stanford AI Tinkery visit\n```\n\nGeoffrey will:\n1. Load your voice profile\n2. Interview you about the content\n3. Create an outline for approval\n4. Generate a draft in your voice\n5. Validate against your patterns\n6. Save to Obsidian\n\n## File Structure\n\n```\nskills/writer/\nâ”œâ”€â”€ SKILL.md                            # Main skill definition with 6-phase workflow\nâ”œâ”€â”€ scripts/\nâ”‚   â”œâ”€â”€ extract-email-samples.js        # Fetch Gmail emails\nâ”‚   â”œâ”€â”€ extract-blog-samples.js         # Fetch blog posts\nâ”‚   â”œâ”€â”€ extract-social-samples.js       # Fetch LinkedIn/Twitter posts\nâ”‚   â””â”€â”€ README.md                       # Script documentation\nâ”œâ”€â”€ templates/\nâ”‚   â”œâ”€â”€ interview-questions.json        # Question sets per content type\nâ”‚   â””â”€â”€ voice-profile-template.json     # Empty profile structure\nâ””â”€â”€ README.md                           # This file\n```\n\n**Data Storage**:\n- Voice profiles: `~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge/writing-voice.json`\n\n**Obsidian Drafts**:\n- `~/Library/Mobile Documents/iCloud~md~obsidian/Documents/Personal_Notes/Geoffrey/Writing/`\n  - `Blog/`\n  - `Email/`\n  - `Social/`\n  - `Reports/`\n\n## Voice Profiles\n\nSix distinct profiles capture different writing contexts:\n\n| Profile | Source | Target Samples | Confidence |\n|---------|--------|----------------|------------|\n| `email_work` | PSD Gmail (sent, 6mo) | 50+ emails | Check writing-voice.json |\n| `email_personal` | Personal/HRG Gmail | 50+ emails | Check writing-voice.json |\n| `blog_technical` | psd401.ai + blog.krishagel.com | 10+ posts | Check writing-voice.json |\n| `social_linkedin` | LinkedIn posts | 30+ posts | Check writing-voice.json |\n| `social_twitter` | X/Twitter posts | 30+ posts | Check writing-voice.json |\n| `report_formal` | User-provided samples | 5-10 reports | Check writing-voice.json |\n\n**Confidence Levels**:\n- **High (0.85+)**: 50+ samples - voice well established\n- **Moderate (0.70-0.84)**: 20-49 samples - patterns emerging\n- **Low (<0.70)**: <20 samples - insufficient, warn user\n\n## 6-Phase Workflow\n\n1. **Voice Profile Selection & Validation**\n   - Detect content type\n   - Load profile from writing-voice.json\n   - Check confidence, warn if low\n\n2. **Deep Interview (Adaptive)**\n   - 3-5 questions for tweets/social\n   - 4-8 questions for emails\n   - 8-12 questions for blogs\n   - 15+ questions for reports\n\n3. **Content Planning & Outline**\n   - Create structure based on interview + content type\n   - Apply voice preferences\n   - User approves outline\n\n4. **Draft Generation**\n   - Load identity from identity-core.json\n   - Apply voice characteristics (tone, structure, vocabulary)\n   - Write naturally with voice context\n\n5. **Validation & Refinement**\n   - Geoffrey self-validates against voice profile\n   - Score 0-100 on tone, structure, vocab, formatting\n   - Refine if score <85\n\n6. **Storage & Versioning**\n   - Save to Obsidian with frontmatter\n   - Return text for copy/paste\n   - Offer to open in Obsidian\n\n## Integration Points\n\n- **knowledge-manager**: Load identity context for personality alignment\n- **google-workspace**: Fetch email samples from Gmail\n- **browser-control**: Scrape blog/social posts\n- **obsidian-manager**: Save versioned drafts\n\n## Example Usage\n\n### Quick Work Email\n```\nYou: write email to my team about next week's leadership meeting\n\nGeoffrey:\n- Uses email_work profile (confidence: 0.92)\n- Quick interview (4 questions)\n- Generates ~200 word email\n- Direct, bullet-point style\n- Validation score: 89/100\n```\n\n### Blog Post\n```\nYou: write blog about our AI implementation journey\n\nGeoffrey:\n- Uses blog_technical profile (confidence: 0.78)\n- Standard interview (11 questions)\n- Generates ~850 word post\n- Accessible tone, staff quotes, chronological\n- Validation score: 87/100\n- Saves to Geoffrey/Writing/Blog/2025-12-06-ai-implementation.md\n```\n\n### LinkedIn Post\n```\nYou: LinkedIn post about Stanford AI Tinkery visit\n\nGeoffrey:\n- Uses social_linkedin profile (confidence: 0.91)\n- Quick interview (5 questions)\n- Generates ~180 word post\n- Thought leadership tone\n- Validation score: 92/100\n```\n\n## Maintenance\n\n### Quarterly Voice Refresh\n\nVoice profiles should be refreshed every 3 months as writing styles evolve:\n\n```bash\n# Re-extract recent samples\nbun scripts/extract-email-samples.js --account psd --date-range \"2025-09-01:2025-12-06\" --output \"/tmp/email-refresh.json\"\n\n# Ask Geoffrey to update profile\n\"Update my email_work profile with /tmp/email-refresh.json\"\n```\n\nGeoffrey will auto-warn if profiles are >12 months old.\n\n## Troubleshooting\n\nSee `scripts/README.md` for detailed troubleshooting.\n\nCommon issues:\n- **\"No voice profile found\"**: Run initial setup to create profiles\n- **\"Low confidence warning\"**: Gather more samples (target 50+ for emails, 10+ for blogs)\n- **\"Geoffrey Chrome not running\"**: `cd ~/non-ic-code/geoffrey/skills/browser-control && ./scripts/launch-chrome.sh`\n- **\"Failed to extract social posts\"**: Log into LinkedIn/X in Geoffrey Chrome first\n\n## Development\n\n**Architecture**:\n- Scripts fetch raw writing samples (email, blog, social)\n- Geoffrey analyzes samples natively using LLM capabilities\n- No NLP libraries - cleaner, more maintainable\n- Voice profiles store samples + Geoffrey's analysis\n\n**Adding New Content Types**:\n1. Create extraction script if needed\n2. Add profile to `voice-profile-template.json`\n3. Add interview questions to `interview-questions.json`\n4. Update SKILL.md workflow\n5. Extract samples and ask Geoffrey to analyze\n\n## Future Enhancements\n\n- Real-time learning (auto-analyze new emails monthly)\n- A/B testing (generate 2 versions, learn from choices)\n- Collaborative voice (blend user + co-author)\n- Multi-language (Spanish voice profiles)\n- Performance tracking (voice drift detection)\n- Audience-aware sub-profiles\n\n## Version\n\n**v0.1.0** - Initial implementation\n- 6 voice profiles\n- Sample extraction scripts\n- 6-phase workflow with checkpoints\n- Native LLM validation\n- Obsidian integration\n",
        "skills/writer/SKILL.md": "---\nname: writer\ndescription: Generate content in your authentic voice across emails, blogs, social media, and reports\ntriggers:\n  - \"write\"\n  - \"draft\"\n  - \"compose\"\n  - \"help me write\"\n  - \"in my voice\"\n  - \"write blog\"\n  - \"write email\"\n  - \"write post\"\nallowed-tools: Read, Write, Bash, Skill, AskUserQuestion\nversion: 0.1.0\n---\n\n# Writer Skill\n\nGenerate content in your authentic voice by analyzing writing samples and applying learned voice patterns through adaptive interviewing and voice-matched generation.\n\n## Philosophy\n\n**Key Innovation**: This isn't a generic AI writer - it's YOUR voice, learned from YOUR writing.\n\nUnlike generic AI content generation, this skill:\n- Learns from 6 distinct voice profiles (work email, personal email, blog, LinkedIn, Twitter, reports)\n- Interviews you like a Pulitzer-winning journalist to deeply understand your message\n- Validates output against your authentic patterns (not generic \"good writing\")\n- Saves versioned drafts to Obsidian for iteration and history\n\n**Simplicity**: Geoffrey's native LLM capabilities analyze your voice. Scripts just fetch samples. No complex NLP libraries - clean, maintainable architecture.\n\n---\n\n## When to Activate\n\nUse this skill when you need to:\n- Write emails that sound like you (not generic AI)\n- Draft blog posts in your established voice\n- Create social media content consistent with your style\n- Generate reports matching your professional tone\n- Ensure content authentically represents your perspective and voice\n\n**DON'T use for**:\n- Quick factual responses (use native Claude)\n- Content in someone else's voice\n- Generic templates\n\n---\n\n## Voice Profiles\n\nSix distinct profiles capture different contexts:\n\n| Profile | Source | Sample Target | Status |\n|---------|--------|---------------|--------|\n| `email_work` | PSD Gmail (sent emails, 6mo) | 50+ emails | Check writing-voice.json |\n| `email_personal` | Personal/HRG Gmail (sent, 6mo) | 50+ emails | Check writing-voice.json |\n| `blog_technical` | psd401.ai + blog.krishagel.com | 10+ posts | Check writing-voice.json |\n| `social_linkedin` | LinkedIn profile posts | 30+ posts | Check writing-voice.json |\n| `social_twitter` | X/Twitter posts | 30+ posts | Check writing-voice.json |\n| `report_formal` | User-provided samples | 5-10 reports | Check writing-voice.json |\n\n**Confidence Levels**:\n- **High (0.85+)**: 50+ samples - voice well established\n- **Moderate (0.70-0.84)**: 20-49 samples - patterns emerging\n- **Low (<0.70)**: <20 samples - insufficient data, warn user\n\n---\n\n## 6-Phase Workflow\n\n### Phase 1: Voice Profile Selection & Validation\n\n**Goal**: Load the right voice profile and verify it's ready\n\n**Process**:\n1. Detect content type from user request:\n   - \"write email\" â†’ `email_work` or `email_personal` (ask which)\n   - \"blog post\" â†’ `blog_technical`\n   - \"LinkedIn post\" â†’ `social_linkedin`\n   - \"tweet\" â†’ `social_twitter`\n   - \"report\" â†’ `report_formal`\n\n2. Load voice profile:\n   ```bash\n   cat ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge/writing-voice.json\n   ```\n\n3. Check confidence and sample count:\n   - If confidence â‰¥ 0.85: Proceed with confidence\n   - If confidence 0.70-0.84: Proceed with note\n   - If confidence < 0.70: Warn user, offer options\n\n**Low Confidence Response**:\n```\nOnly {sample_count} {content_type} samples (confidence: {confidence}).\nTarget: {target_samples}+ samples for 0.85+ confidence.\n\nOptions:\n1. Gather more samples (recommended)\n2. Use {alternative_profile} voice as proxy (confidence: {alt_confidence})\n3. Proceed anyway (may not fully match your voice)\n\nPreference?\n```\n\n**Checkpoint 1**: User confirms profile or gathers more samples\n\n---\n\n### Phase 2: Deep Interview (Adaptive)\n\n**Goal**: Deeply understand what you want to communicate\n\n**Process**:\n1. Load interview questions from `templates/interview-questions.json`\n\n2. Adapt depth to content type:\n   - **Tweet/Social**: 3-5 questions (~2-3 min)\n   - **Email Quick**: 4 questions (~3 min)\n   - **Email Complex**: 8 questions (~5 min)\n   - **Blog**: 8-12 questions (~5-8 min)\n   - **Report**: 15+ questions (~10-15 min)\n\n3. Interview like a journalist:\n   - Ask follow-up questions for vague answers\n   - Probe for examples, data, evidence\n   - Clarify ambiguities\n   - Build structured understanding\n\n**Email Interview Example** (complex):\n```\n1. Who are the recipient(s) and what's the context?\n   â†’ [User answers]\n\n2. What's the primary goal?\n   â†’ [User answers]\n   [If vague: \"Can you be more specific about the outcome you want?\"]\n\n3. What background do they need?\n   â†’ [User answers]\n\n4. What are the key points? (Max 3-5)\n   â†’ [User answers]\n   [If >5: \"Let's focus on the most critical 3-5 points.\"]\n\n... continue through 8 questions\n```\n\n**Blog Interview Example**:\n```\n1. What's your central message?\n2. Why does this matter right now?\n3. What should readers do/think/feel after?\n4. What evidence supports this?\n5. Any stories or case studies?\n6. Main counterarguments?\n7. How should it open?\n8. Key sections (3-5)?\n9. How should it close?\n10. Primary audience and technical level?\n11. Desired tone?\n```\n\n**Checkpoint 2**: Review interview summary, add missing details\n\n---\n\n### Phase 3: Content Planning & Outline\n\n**Goal**: Create a clear structure before writing\n\n**Process**:\n1. Create outline based on:\n   - Interview responses\n   - Content type structure (email: intro + points + ask, blog: hook + body + conclusion)\n   - Voice profile preferences (e.g., blog uses chronological flow, staff quotes)\n\n2. Apply voice-specific patterns:\n   - Email: Opening pattern, bullet points for key points, clear ask\n   - Blog: Subheadings for scannability, narrative flow, reflective close\n   - Social: Hook first line, call-to-action\n\n3. Suggest length from profile:\n   - Email avg: Check profile examples\n   - Blog avg: Check profile examples\n   - Social: Platform limits (LinkedIn 1300 chars, Twitter 280 chars)\n\n**Email Outline Example**:\n```\n## Email Plan\n\n**Subject**: [Based on purpose]\n\n**Opening**: [Use opening pattern from profile, e.g., \"I've reviewed {topic}...\"]\n\n**Body**:\n- Point 1: [From interview]\n- Point 2: [From interview]\n- Point 3: [From interview]\n\n**Ask**: [Specific call-to-action from interview]\n\n**Closing**: [Use closing pattern from profile, e.g., \"Let me know if...\"]\n\n**Tone**: Direct, professional, action-oriented\n**Length**: ~200 words (typical for email_work)\n```\n\n**Blog Outline Example**:\n```\n## Blog Plan\n\n**Title**: [Derived from central message]\n\n**Structure**:\n1. Opening: [Hook strategy - context-setting or reflective quote]\n2. Background & Context\n3. [Main section 1]\n4. [Main section 2]\n5. [Main section 3]\n6. Impact & Results\n7. Closing: [Forward-looking reflection]\n\n**Voice elements**:\n- Staff quotes (use throughout)\n- Chronological narrative flow\n- Subheadings for scannability\n- Accessible but authoritative tone\n\n**Length**: ~850 words (typical for blog_technical)\n```\n\n**Checkpoint 3**: User approves outline\n\n---\n\n### Phase 4: Draft Generation\n\n**Goal**: Write content that authentically sounds like you\n\n**Process**:\n1. Load identity context:\n   ```bash\n   cat ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge/identity-core.json\n   ```\n\n   Use for personality alignment:\n   - `communication_preferences.style` â†’ Direct, no-nonsense, concise\n   - `decision_framework` â†’ Analytical, evidence-based\n   - `telos_summary.top_3_values` â†’ Equity, excellence, empathy\n\n2. Apply voice characteristics as generation guidelines:\n   - **Tone**: From `voice_characteristics.tone`\n   - **Sentence structure**: From `voice_characteristics.sentence_structure`\n   - **Vocabulary**: Common terms, avoided terms\n   - **Formatting**: Bullet points, markdown, emphasis patterns\n   - **Opening**: Use patterns from `opening_patterns`\n   - **Closing**: Use patterns from `closing_patterns`\n   - **Argument structure**: Lead with conclusion, use evidence\n\n3. Write content naturally:\n   - Use Geoffrey's native writing capabilities\n   - Guided by voice profile (not rigid pattern matching)\n   - Weave in interview content (examples, data, stories)\n   - Match typical length from profile examples\n\n4. Reference example emails/posts from profile for inspiration\n\n**Generation Approach** (Hybrid):\n- Write naturally with rich voice context\n- Don't mechanically apply patterns\n- Let voice characteristics inform style, not constrain creativity\n\n---\n\n### Phase 5: Validation & Refinement\n\n**Goal**: Ensure draft authentically matches your voice\n\n**Native LLM Validation** (no script needed):\n\n1. **Geoffrey self-validates** by comparing draft to voice profile:\n   - Read the draft I just generated\n   - Read the voice profile (`voice_characteristics` + `examples`)\n   - Compare tone, structure, vocabulary, formatting\n   - Score alignment 0-100\n\n2. **Scoring criteria** (weighted):\n   - Tone match (20%)\n   - Sentence structure - length, complexity (15%)\n   - Vocabulary - common/avoided terms (15%)\n   - Formatting - bullets, markdown, emphasis (10%)\n   - Opening pattern match (10%)\n   - Closing pattern match (10%)\n   - Argument structure - conclusion placement, evidence use (10%)\n   - Stylistic markers - contractions, punctuation, framing (10%)\n\n3. **Identify specific deviations**:\n   - \"Sentences 15% longer than typical (avg 16 words vs typical 14)\"\n   - \"Missing characteristic bullet points (you use them 67% of time)\"\n   - \"Tone slightly more formal than usual\"\n\n4. **Scoring thresholds**:\n   - 85-100: Excellent match, present draft\n   - 70-84: Good match with minor deviations, note them\n   - <70: Significant deviations, propose refinements\n\n**Refinement** (if score < 85):\n```\nVoice Validation: {score}/100\n\nIssues:\n- {Issue 1 with specific evidence}\n- {Issue 2 with specific evidence}\n- {Issue 3 with specific evidence}\n\nShould I refine to better match your voice?\n```\n\nIf user approves refinement:\n- Apply specific fixes identified\n- Re-validate\n- Present refined draft\n\n**Checkpoint 4**: User accepts, requests refinement, or manually edits\n\n---\n\n### Phase 6: Storage & Versioning\n\n**Goal**: Save draft to Obsidian with proper versioning\n\n**Process**:\n1. Determine file path:\n   ```\n   ~/Library/Mobile Documents/iCloud~md~obsidian/Documents/Personal_Notes/Geoffrey/Writing/{ContentType}/{date}-{slug}.md\n   ```\n\n   Content types:\n   - Blog â†’ `Geoffrey/Writing/Blog/`\n   - Email â†’ `Geoffrey/Writing/Email/`\n   - Social â†’ `Geoffrey/Writing/Social/`\n   - Reports â†’ `Geoffrey/Writing/Reports/`\n\n2. Generate frontmatter:\n   ```yaml\n   ---\n   created: 2025-12-06\n   type: blog\n   profile: blog_technical\n   topic: AI implementation\n   status: draft\n   version: 1.0\n   validation_score: 87\n   word_count: 847\n   tags: [geoffrey, writing, ai]\n   source: geoffrey-writer\n   interview_date: 2025-12-06\n   ---\n   ```\n\n3. Save file using Obsidian MCP tools:\n   ```\n   mcp__obsidian-vault__create_vault_file\n   ```\n\n4. Also return text directly (copy-paste ready)\n\n5. Offer to open in Obsidian:\n   ```\n   mcp__obsidian-vault__show_file_in_obsidian\n   ```\n\n**Versioning**:\n- Initial: `version: 1.0`\n- Refinements: `version: 1.1`, `1.2`\n- Major rewrites: `version: 2.0`\n\n**Output to user**:\n```\n## Draft Complete\n\n**Validation Score**: 87/100 âœ“\n**Word Count**: 847\n**Profile**: blog_technical\n\n**Saved to**: Geoffrey/Writing/Blog/2025-12-06-ai-implementation.md\n\n[Full draft text here]\n\nActions:\n1. Open in Obsidian\n2. Request refinements\n3. Mark as final\n```\n\n---\n\n## Voice Learning Process\n\n### Initial Setup (Before First Use)\n\n**Required**: Gather writing samples for each profile you'll use\n\n**Step 1: Email Samples** (3 accounts)\n```bash\n# PSD work emails\nbun scripts/extract-email-samples.js \\\n  --account psd \\\n  --date-range \"2024-06-01:2025-12-06\" \\\n  --max-samples 100 \\\n  --output \"/tmp/email-samples-psd.json\"\n\n# Personal emails\nbun scripts/extract-email-samples.js \\\n  --account kh \\\n  --date-range \"2024-06-01:2025-12-06\" \\\n  --max-samples 50 \\\n  --output \"/tmp/email-samples-kh.json\"\n\n# Business/consulting emails\nbun scripts/extract-email-samples.js \\\n  --account hrg \\\n  --date-range \"2024-06-01:2025-12-06\" \\\n  --max-samples 50 \\\n  --output \"/tmp/email-samples-hrg.json\"\n```\n\n**Step 2: Blog Samples**\n```bash\n# Launch Geoffrey Chrome (for personal blog access)\ncd ~/non-ic-code/geoffrey/skills/browser-control\n./scripts/launch-chrome.sh\n\n# Extract blog posts\ncd ~/non-ic-code/geoffrey/skills/writer\nbun scripts/extract-blog-samples.js \\\n  --urls \"https://psd401.ai/blog/stanford-ai-tinkery-2025,https://psd401.ai/blog/why-this-website,https://blog.krishagel.com/post1,https://blog.krishagel.com/post2\" \\\n  --output \"/tmp/blog-samples.json\"\n```\n\n**Step 3: Social Media Samples** (requires login)\n```bash\n# IMPORTANT: Manually log into LinkedIn and X in Geoffrey Chrome first\n\n# LinkedIn\nbun scripts/extract-social-samples.js \\\n  --platform linkedin \\\n  --profile-url \"https://linkedin.com/in/krishagel\" \\\n  --max-posts 50 \\\n  --output \"/tmp/social-linkedin.json\"\n\n# Twitter/X\nbun scripts/extract-social-samples.js \\\n  --platform twitter \\\n  --profile-url \"https://x.com/KrisHagel\" \\\n  --max-posts 50 \\\n  --output \"/tmp/social-twitter.json\"\n```\n\n**Step 4: Geoffrey Analyzes**\n\nTell Geoffrey:\n```\nAnalyze my writing samples and create voice profiles.\n\nEmail samples: /tmp/email-samples-psd.json, /tmp/email-samples-kh.json, /tmp/email-samples-hrg.json\nBlog samples: /tmp/blog-samples.json\nSocial samples: /tmp/social-linkedin.json, /tmp/social-twitter.json\n```\n\nGeoffrey will:\n1. Read all sample files\n2. Analyze each profile's:\n   - Tone and voice\n   - Sentence structure patterns\n   - Vocabulary (common/avoided terms)\n   - Formatting preferences\n   - Opening/closing patterns\n   - Argument structure\n   - Distinctive markers\n3. Select representative examples\n4. Calculate confidence scores\n5. Write to `writing-voice.json`:\n   ```\n   ~/Library/Mobile Documents/com~apple~CloudDocs/Geoffrey/knowledge/writing-voice.json\n   ```\n\n**Estimated time**: 30-45 min initial setup\n\n---\n\n## Integration Points\n\n### knowledge-manager â†’ Identity Context\n\n**When**: Phase 4 (Draft Generation)\n\n**Purpose**: Ensure voice reflects personality (analytical, direct, impact-driven)\n\n**How**:\n```bash\ncat ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge/identity-core.json\n```\n\n**Use**:\n- `communication_preferences` â†’ Tone, style, dislikes\n- `decision_framework` â†’ Analytical, evidence-based approach\n- `telos_summary` â†’ Values (equity, excellence, empathy), mission\n- `strengths_essence` â†’ Input (collector), Significance (impact), Analytical\n\n---\n\n### google-workspace â†’ Email Samples\n\n**When**: Initial voice creation + quarterly refresh\n\n**Scripts**: `search_messages.js`, `read_message.js`\n\n**Process**:\n1. Search sent emails\n2. Filter automated, short, quoted\n3. Clean signatures, HTML\n4. Extract plain text + metadata\n5. Save to JSON for Geoffrey to analyze\n\n---\n\n### browser-control â†’ Blog/Social Samples\n\n**When**: Initial voice creation + ad-hoc updates\n\n**Prerequisites**: Geoffrey Chrome running with logins\n\n**Process**:\n1. Navigate to blog/profile URL\n2. Extract article/post content\n3. Handle scrolling/lazy-loading (social)\n4. Parse and clean content\n5. Save to JSON\n\n---\n\n### obsidian-manager â†’ Draft Storage\n\n**When**: Phase 6 (Storage)\n\n**Folder structure**:\n```\nGeoffrey/Writing/\nâ”œâ”€â”€ Blog/\nâ”œâ”€â”€ Email/\nâ”œâ”€â”€ Social/\nâ””â”€â”€ Reports/\n```\n\n**File format**: `YYYY-MM-DD-{slug}.md` with frontmatter\n\n---\n\n## Edge Cases & Handling\n\n### Insufficient Samples\n\n**Scenario**: User requests email, but only 12 samples (confidence 0.62)\n\n**Response**:\n```\nOnly 12 email_work samples (0.62 confidence). Target: 50+ for 0.85+ confidence.\n\nOptions:\n1. Gather ~40 more email samples from recent sent (recommended)\n2. Use email_personal as proxy (if similar, confidence: 0.88)\n3. Proceed with low confidence (may not fully match your voice)\n\nNote: Voice profiles improve with more samples. I can still write, but authenticity may vary.\n\nPreference?\n```\n\n---\n\n### Voice Drift (Outdated Profile)\n\n**Scenario**: Profile last updated 18 months ago\n\n**Detection**: Check `last_updated` in writing-voice.json\n\n**Response**:\n```\nYour email_work profile is 18 months old (last updated: 2024-06-15).\nWriting styles evolve over time.\n\nRecommendation: Refresh with recent samples (past 6 months)\n\nRun:\nbun scripts/extract-email-samples.js --account psd --date-range \"2024-06-01:2025-12-06\" --max-samples 100 --output \"/tmp/email-refresh.json\"\n\nThen ask me to analyze and update the profile.\n\nProceed with current profile or refresh first?\n```\n\n---\n\n### Contradictory Samples\n\n**Scenario**: Email samples vary significantly (45% formal, 35% casual, 20% mixed)\n\n**Geoffrey analyzes** and responds:\n```\nYour email_work voice varies significantly across samples:\n- 45% formal (board, superintendent, external)\n- 35% casual (staff, peers, project teams)\n- 20% mixed\n\nOptions:\n1. Split into email_work_formal and email_work_casual profiles\n2. Choose dominant style (formal) as default\n3. Let me dynamically adjust based on recipient (you specify each time)\n\nPreference?\n```\n\n---\n\n### Low Validation Score\n\n**Scenario**: Draft scores 62/100\n\n**Response**:\n```\nVoice Validation: 62/100 âš ï¸\n\nIssues:\n- Tone too formal (target: direct, action-oriented)\n  Example: \"It would be appreciated if you could consider...\" vs typical \"Please review and confirm.\"\n\n- Sentences 35% longer (avg 19 words vs typical 14)\n  Example: Draft paragraph 2 avg 21 words, your emails avg 14 words.\n\n- Missing bullet points (you use bullets 67% of the time for key points)\n  Draft uses prose for 5 key points, you typically bullet them.\n\nShould I refine to better match your voice?\n```\n\n---\n\n### New Content Type\n\n**Scenario**: User requests \"write a press release\"\n\n**Response**:\n```\nI don't have a press_release voice profile yet.\n\nOptions:\n1. Use report_formal profile as starting point (confidence: 0.83)\n2. Provide 5-10 past press releases for me to analyze\n3. Write without voice matching (generic professional press release style)\n\nNote: If you provide samples, I can create a new press_release profile.\n\nPreference?\n```\n\n---\n\n## Usage Examples\n\n### Example 1: Quick Work Email\n\n**User**: \"Write email to my team about next week's leadership meeting\"\n\n**Geoffrey**:\n```\nI'll use your email_work profile (confidence: 0.92, 156 samples).\n\nQuick interview (4 questions):\n\n1. Who's the team and what's your relationship?\n   â†’ [User: Direct reports - IT leadership team]\n\n2. Purpose? (inform, request, respond, update)\n   â†’ [User: Inform and request prep]\n\n3. Key information?\n   â†’ [User: Meeting Tuesday 2pm, agenda items: budget, staffing, AI roadmap. Need their input on AI priorities.]\n\n4. Tone?\n   â†’ [User: Professional but casual - these are my directs]\n```\n\n[Generates outline] â†’ User approves\n\n[Generates draft, validates (score: 89), presents to user]\n\n---\n\n### Example 2: Blog Post\n\n**User**: \"Write blog post about our AI implementation journey\"\n\n**Geoffrey**:\n```\nI'll use your blog_technical profile (confidence: 0.78, 4 samples).\n\nNote: Only 4 blog samples. Recommend 6+ more for 0.85+ confidence.\nProceed or gather more samples first?\n\nâ†’ [User: Proceed]\n\nStandard interview (11 questions):\n\n1. Central message?\n   â†’ [User: ...]\n\n2. Why now?\n   â†’ [User: ...]\n\n[... continues through 11 questions ...]\n```\n\n[Creates detailed outline] â†’ User approves\n\n[Generates ~850 word draft with staff quotes, chronological flow, reflective close]\n\n[Validates (score: 87), presents draft]\n\n[Saves to Geoffrey/Writing/Blog/2025-12-06-ai-implementation-journey.md]\n\n---\n\n### Example 3: LinkedIn Post\n\n**User**: \"LinkedIn post about Stanford AI Tinkery visit\"\n\n**Geoffrey**:\n```\nI'll use your social_linkedin profile (confidence: 0.91, 48 posts).\n\nQuick interview (5 questions):\n\n1. Main point (1-2 sentences)?\n   â†’ [User: Visited Stanford's AI Tinkery with district team. Collaborative learning happening everywhere, not just at elite institutions.]\n\n2. Target audience?\n   â†’ [User: Ed tech leaders, superintendents]\n\n3. Tone?\n   â†’ [User: Inspirational, reflective]\n\n4. Call-to-action?\n   â†’ [User: Encourage others to build their own learning networks]\n\n5. Link or visual?\n   â†’ [User: No link, maybe photo but I'll add later]\n```\n\n[Generates ~180 word LinkedIn post]\n\n[Validates (score: 92), presents]\n\n---\n\n## Limitations\n\n### Known Constraints\n\n1. **Sample Dependency**: Voice quality directly tied to sample quantity and quality\n   - Low samples (<20) = low accuracy\n   - Poor quality samples = poor voice matching\n\n2. **Voice Drift**: Styles evolve over time\n   - Recommend quarterly refresh (every 3 months)\n   - Auto-warn if profile >12 months old\n\n3. **New Contexts**: No profile for content types you haven't written before\n   - Press releases, technical docs, grant proposals require new samples\n   - Can adapt existing profiles but may not match perfectly\n\n4. **Platform Nuances**: Social media scraping limitations\n   - LinkedIn/X may change selectors\n   - Requires manual login\n   - May violate ToS (user accepted risk)\n\n5. **Multilingual**: Currently English only\n   - No Spanish email profile (even though you write Spanish emails)\n   - Could add with Spanish samples\n\n6. **Collaborative Writing**: Single voice only\n   - Can't blend your voice + co-author\n   - Future enhancement\n\n---\n\n## Validation & Quality\n\n### Success Metrics\n\n**Quantitative**:\n- Voice alignment: 85+ for established profiles (0.85+ confidence)\n- Sample size: 50+ emails, 10+ blogs, 30+ social per profile\n- User acceptance: >80% drafts accepted with minor/no edits\n- Refinement iterations: <2 average\n\n**Qualitative**:\n- User feedback: \"This sounds like me\"\n- Consistent voice across topics within profile\n- Authentic, not mechanical or formulaic\n\n### Quality Checklist\n\nBefore presenting draft:\n- âœ“ Matches tone from voice profile\n- âœ“ Sentence structure within 20% of typical length\n- âœ“ Uses common vocabulary, avoids avoided terms\n- âœ“ Follows formatting preferences (bullets, markdown)\n- âœ“ Opening/closing match typical patterns\n- âœ“ Argument structure aligned (conclusion placement, evidence use)\n- âœ“ Validation score â‰¥85 (or explained deviations if <85)\n- âœ“ Word count within typical range for content type\n\n---\n\n## Future Enhancements (Out of Scope)\n\n1. **Real-time Learning**: Auto-analyze new sent emails monthly\n2. **A/B Testing**: Generate 2 versions, learn from user choices\n3. **Collaborative Voice**: Blend user + co-author voices\n4. **Multi-language**: Spanish voice profiles\n5. **Performance Tracking**: Voice drift detection over time\n6. **Audience-Aware**: Sub-profiles (email_work_superintendent vs email_work_staff)\n7. **Feedback Loop**: User rates content, Geoffrey learns from scores\n\n---\n\n## Troubleshooting\n\n### \"No voice profile found\"\n\n**Cause**: writing-voice.json doesn't exist or profile type missing\n\n**Solution**:\n1. Check if file exists:\n   ```bash\n   cat ~/Library/Mobile\\ Documents/com~apple~CloudDocs/Geoffrey/knowledge/writing-voice.json\n   ```\n2. If missing: Run initial setup (extract samples + ask Geoffrey to analyze)\n3. If file exists but profile missing: Add samples for that content type\n\n---\n\n### \"Low confidence warning\"\n\n**Cause**: Fewer than 20 samples for profile\n\n**Solution**:\n1. Gather more samples using extraction scripts\n2. Ask Geoffrey to re-analyze with new samples\n3. Or: Proceed with caveat that voice may not fully match\n\n---\n\n### \"Geoffrey Chrome not running\"\n\n**Cause**: Social/blog extraction requires Geoffrey Chrome with remote debugging\n\n**Solution**:\n```bash\ncd ~/non-ic-code/geoffrey/skills/browser-control\n./scripts/launch-chrome.sh\n```\n\n---\n\n### \"Failed to extract social posts\"\n\n**Cause**: Not logged into LinkedIn/X, or selectors changed\n\n**Solution**:\n1. Open Geoffrey Chrome manually\n2. Navigate to LinkedIn/X and log in\n3. Verify posts load\n4. Re-run extraction script\n5. If still fails: Platform may have changed selectors (update script)\n\n---\n\n## Notes\n\n- **Progressive Disclosure**: Load only the profile needed for current task (not all 6)\n- **Identity Alignment**: Always cross-reference identity-core.json for personality consistency\n- **Checkpoints**: 4 user approval points prevent wasted effort\n- **Versioning**: All drafts saved to Obsidian with version numbers\n- **Native Analysis**: Geoffrey's LLM capabilities analyze voice - no complex libraries needed\n",
        "skills/writer/scripts/README.md": "# Writer Skill Scripts\n\nSample extraction scripts for voice profile creation.\n\n## Prerequisites\n\n### For Email Extraction\n- Google Workspace Gmail access configured\n- OAuth tokens in macOS Keychain\n- Accounts: `psd`, `kh`, `hrg`\n\n### For Blog Extraction\n- Geoffrey Chrome profile (for sites that block WebFetch)\n- Browser-control skill available\n\n### For Social Extraction\n- Geoffrey Chrome profile running: `./scripts/launch-chrome.sh`\n- Manually logged into LinkedIn and X/Twitter in Geoffrey Chrome\n- Playwright installed (via bun)\n\n## Scripts\n\n### extract-email-samples.js\n\nFetches sent emails from Gmail accounts.\n\n**Usage**:\n```bash\nbun extract-email-samples.js \\\n  --account psd \\\n  --date-range \"2024-06-01:2025-12-06\" \\\n  --min-words 50 \\\n  --max-samples 100 \\\n  --output \"/tmp/email-samples-psd.json\"\n```\n\n**Arguments**:\n- `--account`: Gmail account (psd, kh, hrg)\n- `--date-range`: Date range \"YYYY-MM-DD:YYYY-MM-DD\"\n- `--min-words`: Minimum word count (default: 50)\n- `--max-samples`: Maximum samples (default: 100)\n- `--output`: Output JSON file path\n\n**Filters**:\n- Excludes automated emails (noreply@, calendar notifications)\n- Removes signatures, quoted replies, forwarded content\n- Filters emails shorter than min-words\n\n**Output Format**:\n```json\n{\n  \"success\": true,\n  \"account\": \"psd\",\n  \"date_range\": \"2024-06-01:2025-12-06\",\n  \"metadata\": {\n    \"total_found\": 245,\n    \"total_extracted\": 100\n  },\n  \"samples\": [\n    {\n      \"id\": \"18d123...\",\n      \"date\": \"Mon, 15 Jan 2024 10:30:00 -0800\",\n      \"subject\": \"AI Policy Update\",\n      \"to\": \"team@psd.org\",\n      \"body\": \"...\",\n      \"word_count\": 187\n    }\n  ]\n}\n```\n\n---\n\n### extract-blog-samples.js\n\nFetches blog posts using browser-control.\n\n**Usage**:\n```bash\nbun extract-blog-samples.js \\\n  --urls \"https://psd401.ai/blog/post1,https://blog.krishagel.com/post2\" \\\n  --output \"/tmp/blog-samples.json\"\n```\n\n**Arguments**:\n- `--urls`: Comma-separated blog post URLs\n- `--output`: Output JSON file path\n\n**Extraction Method**:\n1. Try `navigate.js` (primary)\n2. Fallback to `extract.js` with domain-specific selectors\n3. Clean content (remove nav, headers, footers)\n\n**Domain-Specific Selectors**:\n- Medium/blog.krishagel.com: `article`, `.post-content`\n- psd401.ai: `article`, `.blog-post`\n- Generic: `article`, `main`, `.entry-content`\n\n**Output Format**:\n```json\n{\n  \"success\": true,\n  \"metadata\": {\n    \"total_urls\": 4,\n    \"total_extracted\": 4\n  },\n  \"samples\": [\n    {\n      \"url\": \"https://...\",\n      \"title\": \"Post Title\",\n      \"date\": \"2024-11-15\",\n      \"content\": \"...\",\n      \"word_count\": 847\n    }\n  ]\n}\n```\n\n---\n\n### extract-social-samples.js\n\nFetches social media posts from LinkedIn or X/Twitter.\n\n**Usage**:\n```bash\n# LinkedIn\nbun extract-social-samples.js \\\n  --platform linkedin \\\n  --profile-url \"https://linkedin.com/in/krishagel\" \\\n  --max-posts 50 \\\n  --output \"/tmp/social-linkedin.json\"\n\n# Twitter/X\nbun extract-social-samples.js \\\n  --platform twitter \\\n  --profile-url \"https://x.com/KrisHagel\" \\\n  --max-posts 50 \\\n  --output \"/tmp/social-twitter.json\"\n```\n\n**Arguments**:\n- `--platform`: `linkedin` or `twitter`\n- `--profile-url`: User profile URL\n- `--max-posts`: Maximum posts to extract (default: 50)\n- `--output`: Output JSON file path\n\n**Prerequisites**:\n1. Geoffrey Chrome running: `cd ~/non-ic-code/geoffrey/skills/browser-control && ./scripts/launch-chrome.sh`\n2. Manually log into LinkedIn/X in Geoffrey Chrome browser\n\n**Extraction Method**:\n1. Connect to Geoffrey Chrome via CDP (port 9222)\n2. Navigate to profile\n3. Scroll and extract posts (handles lazy-loading)\n4. Extract post text, date, engagement (optional)\n\n**Platform-Specific Selectors**:\n- LinkedIn: `.feed-shared-update-v2`, `.feed-shared-text`\n- Twitter: `article[data-testid=\"tweet\"]`, `[data-testid=\"tweetText\"]`\n\n**Output Format**:\n```json\n{\n  \"success\": true,\n  \"platform\": \"linkedin\",\n  \"profile_url\": \"https://linkedin.com/in/krishagel\",\n  \"metadata\": {\n    \"total_extracted\": 48\n  },\n  \"samples\": [\n    {\n      \"platform\": \"linkedin\",\n      \"post_number\": 1,\n      \"date\": \"2024-12-01\",\n      \"text\": \"...\",\n      \"word_count\": 145\n    }\n  ]\n}\n```\n\n---\n\n## Troubleshooting\n\n### Email Extraction\n\n**Error**: \"Failed to connect to Gmail\"\n- **Solution**: Check OAuth tokens in macOS Keychain\n- **Solution**: Re-authenticate account via google-workspace skill\n\n**Error**: \"No messages found\"\n- **Solution**: Verify date range format: \"YYYY-MM-DD:YYYY-MM-DD\"\n- **Solution**: Check if account has sent emails in that range\n\n---\n\n### Blog Extraction\n\n**Error**: \"Failed to fetch URL (403)\"\n- **Solution**: Use browser-control (Geoffrey Chrome) instead of WebFetch\n- **Solution**: Ensure Geoffrey Chrome is running\n\n**Error**: \"Too short (X words)\"\n- **Solution**: Content extraction may have failed - check selectors\n- **Solution**: Try different URL or manual inspection\n\n---\n\n### Social Extraction\n\n**Error**: \"Failed to connect to Geoffrey Chrome\"\n- **Solution**: Run `./scripts/launch-chrome.sh` in browser-control directory\n- **Solution**: Check port 9222 not in use: `lsof -i :9222`\n\n**Error**: \"Posts not found. Are you logged in?\"\n- **Solution**: Manually open Geoffrey Chrome and log into LinkedIn/X\n- **Solution**: Verify posts load in browser before running script\n- **Solution**: Selectors may have changed - update in script\n\n---\n\n## Initial Setup Workflow\n\n**Full sample gathering for all 6 profiles**:\n\n```bash\ncd ~/non-ic-code/geoffrey/skills/writer/scripts\n\n# 1. Email samples (3 accounts)\nbun extract-email-samples.js --account psd --date-range \"2024-06-01:2025-12-06\" --max-samples 100 --output \"/tmp/email-psd.json\"\nbun extract-email-samples.js --account kh --date-range \"2024-06-01:2025-12-06\" --max-samples 50 --output \"/tmp/email-kh.json\"\nbun extract-email-samples.js --account hrg --date-range \"2024-06-01:2025-12-06\" --max-samples 50 --output \"/tmp/email-hrg.json\"\n\n# 2. Blog samples\ncd ~/non-ic-code/geoffrey/skills/browser-control\n./scripts/launch-chrome.sh  # If needed\n\ncd ~/non-ic-code/geoffrey/skills/writer/scripts\nbun extract-blog-samples.js \\\n  --urls \"https://psd401.ai/blog/stanford-ai-tinkery-2025,https://psd401.ai/blog/why-this-website,https://blog.krishagel.com/post1,https://blog.krishagel.com/post2\" \\\n  --output \"/tmp/blog-samples.json\"\n\n# 3. Social samples (requires manual login first!)\n# Open Geoffrey Chrome, log into LinkedIn and X\nbun extract-social-samples.js --platform linkedin --profile-url \"https://linkedin.com/in/krishagel\" --max-posts 50 --output \"/tmp/social-linkedin.json\"\nbun extract-social-samples.js --platform twitter --profile-url \"https://x.com/KrisHagel\" --max-posts 50 --output \"/tmp/social-twitter.json\"\n\n# 4. Ask Geoffrey to analyze\n# Tell Claude Code: \"Analyze my writing samples and create voice profiles\"\n# Provide paths to all JSON files\n```\n\n**Estimated time**: 30-45 minutes\n\n---\n\n## Notes\n\n- Scripts output JSON to stdout (success/error) and detailed logs to stderr\n- All scripts support `bun` runtime (not `node`)\n- Email extraction integrates with existing google-workspace Gmail scripts\n- Blog/social extraction uses browser-control Playwright scripts\n- Social extraction may violate LinkedIn/X ToS - user accepted risk\n",
        "skills/xlsx/SKILL.md": "---\nname: xlsx\ndescription: \"Comprehensive spreadsheet creation, editing, and analysis with support for formulas, formatting, data analysis, and visualization. When Claude needs to work with spreadsheets (.xlsx, .xlsm, .csv, .tsv, etc) for: (1) Creating new spreadsheets with formulas and formatting, (2) Reading or analyzing data, (3) Modify existing spreadsheets while preserving formulas, (4) Data analysis and visualization in spreadsheets, or (5) Recalculating formulas\"\ntriggers:\n  - \"excel\"\n  - \"spreadsheet\"\n  - \"xlsx\"\n  - \"csv\"\n  - \".xlsx\"\n  - \"formulas\"\nallowed-tools: Read, Write, Edit, Bash, Glob\nversion: 1.0.0\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# Requirements for Outputs\n\n## All Excel files\n\n### Zero Formula Errors\n- Every Excel model MUST be delivered with ZERO formula errors (#REF!, #DIV/0!, #VALUE!, #N/A, #NAME?)\n\n### Preserve Existing Templates (when updating templates)\n- Study and EXACTLY match existing format, style, and conventions when modifying files\n- Never impose standardized formatting on files with established patterns\n- Existing template conventions ALWAYS override these guidelines\n\n## Financial models\n\n### Color Coding Standards\nUnless otherwise stated by the user or existing template\n\n#### Industry-Standard Color Conventions\n- **Blue text (RGB: 0,0,255)**: Hardcoded inputs, and numbers users will change for scenarios\n- **Black text (RGB: 0,0,0)**: ALL formulas and calculations\n- **Green text (RGB: 0,128,0)**: Links pulling from other worksheets within same workbook\n- **Red text (RGB: 255,0,0)**: External links to other files\n- **Yellow background (RGB: 255,255,0)**: Key assumptions needing attention or cells that need to be updated\n\n### Number Formatting Standards\n\n#### Required Format Rules\n- **Years**: Format as text strings (e.g., \"2024\" not \"2,024\")\n- **Currency**: Use $#,##0 format; ALWAYS specify units in headers (\"Revenue ($mm)\")\n- **Zeros**: Use number formatting to make all zeros \"-\", including percentages (e.g., \"$#,##0;($#,##0);-\")\n- **Percentages**: Default to 0.0% format (one decimal)\n- **Multiples**: Format as 0.0x for valuation multiples (EV/EBITDA, P/E)\n- **Negative numbers**: Use parentheses (123) not minus -123\n\n### Formula Construction Rules\n\n#### Assumptions Placement\n- Place ALL assumptions (growth rates, margins, multiples, etc.) in separate assumption cells\n- Use cell references instead of hardcoded values in formulas\n- Example: Use =B5*(1+$B$6) instead of =B5*1.05\n\n#### Formula Error Prevention\n- Verify all cell references are correct\n- Check for off-by-one errors in ranges\n- Ensure consistent formulas across all projection periods\n- Test with edge cases (zero values, negative numbers)\n- Verify no unintended circular references\n\n#### Documentation Requirements for Hardcodes\n- Comment or in cells beside (if end of table). Format: \"Source: [System/Document], [Date], [Specific Reference], [URL if applicable]\"\n- Examples:\n  - \"Source: Company 10-K, FY2024, Page 45, Revenue Note, [SEC EDGAR URL]\"\n  - \"Source: Company 10-Q, Q2 2025, Exhibit 99.1, [SEC EDGAR URL]\"\n  - \"Source: Bloomberg Terminal, 8/15/2025, AAPL US Equity\"\n  - \"Source: FactSet, 8/20/2025, Consensus Estimates Screen\"\n\n# XLSX creation, editing, and analysis\n\n## Overview\n\nA user may ask you to create, edit, or analyze the contents of an .xlsx file. You have different tools and workflows available for different tasks.\n\n## Important Requirements\n\n**LibreOffice Required for Formula Recalculation**: You can assume LibreOffice is installed for recalculating formula values using the `recalc.py` script. The script automatically configures LibreOffice on first run\n\n## Reading and analyzing data\n\n### Data analysis with pandas\nFor data analysis, visualization, and basic operations, use **pandas** which provides powerful data manipulation capabilities:\n\n```python\nimport pandas as pd\n\n# Read Excel\ndf = pd.read_excel('file.xlsx')  # Default: first sheet\nall_sheets = pd.read_excel('file.xlsx', sheet_name=None)  # All sheets as dict\n\n# Analyze\ndf.head()      # Preview data\ndf.info()      # Column info\ndf.describe()  # Statistics\n\n# Write Excel\ndf.to_excel('output.xlsx', index=False)\n```\n\n## Excel File Workflows\n\n## CRITICAL: Use Formulas, Not Hardcoded Values\n\n**Always use Excel formulas instead of calculating values in Python and hardcoding them.** This ensures the spreadsheet remains dynamic and updateable.\n\n### âŒ WRONG - Hardcoding Calculated Values\n```python\n# Bad: Calculating in Python and hardcoding result\ntotal = df['Sales'].sum()\nsheet['B10'] = total  # Hardcodes 5000\n\n# Bad: Computing growth rate in Python\ngrowth = (df.iloc[-1]['Revenue'] - df.iloc[0]['Revenue']) / df.iloc[0]['Revenue']\nsheet['C5'] = growth  # Hardcodes 0.15\n\n# Bad: Python calculation for average\navg = sum(values) / len(values)\nsheet['D20'] = avg  # Hardcodes 42.5\n```\n\n### âœ… CORRECT - Using Excel Formulas\n```python\n# Good: Let Excel calculate the sum\nsheet['B10'] = '=SUM(B2:B9)'\n\n# Good: Growth rate as Excel formula\nsheet['C5'] = '=(C4-C2)/C2'\n\n# Good: Average using Excel function\nsheet['D20'] = '=AVERAGE(D2:D19)'\n```\n\nThis applies to ALL calculations - totals, percentages, ratios, differences, etc. The spreadsheet should be able to recalculate when source data changes.\n\n## Common Workflow\n1. **Choose tool**: pandas for data, openpyxl for formulas/formatting\n2. **Create/Load**: Create new workbook or load existing file\n3. **Modify**: Add/edit data, formulas, and formatting\n4. **Save**: Write to file\n5. **Recalculate formulas (MANDATORY IF USING FORMULAS)**: Use the recalc.py script\n   ```bash\n   skills/xlsx/recalc.py output.xlsx\n   ```\n6. **Verify and fix any errors**: \n   - The script returns JSON with error details\n   - If `status` is `errors_found`, check `error_summary` for specific error types and locations\n   - Fix the identified errors and recalculate again\n   - Common errors to fix:\n     - `#REF!`: Invalid cell references\n     - `#DIV/0!`: Division by zero\n     - `#VALUE!`: Wrong data type in formula\n     - `#NAME?`: Unrecognized formula name\n\n### Creating new Excel files\n\n```python\n# Using openpyxl for formulas and formatting\nfrom openpyxl import Workbook\nfrom openpyxl.styles import Font, PatternFill, Alignment\n\nwb = Workbook()\nsheet = wb.active\n\n# Add data\nsheet['A1'] = 'Hello'\nsheet['B1'] = 'World'\nsheet.append(['Row', 'of', 'data'])\n\n# Add formula\nsheet['B2'] = '=SUM(A1:A10)'\n\n# Formatting\nsheet['A1'].font = Font(bold=True, color='FF0000')\nsheet['A1'].fill = PatternFill('solid', start_color='FFFF00')\nsheet['A1'].alignment = Alignment(horizontal='center')\n\n# Column width\nsheet.column_dimensions['A'].width = 20\n\nwb.save('output.xlsx')\n```\n\n### Editing existing Excel files\n\n```python\n# Using openpyxl to preserve formulas and formatting\nfrom openpyxl import load_workbook\n\n# Load existing file\nwb = load_workbook('existing.xlsx')\nsheet = wb.active  # or wb['SheetName'] for specific sheet\n\n# Working with multiple sheets\nfor sheet_name in wb.sheetnames:\n    sheet = wb[sheet_name]\n    print(f\"Sheet: {sheet_name}\")\n\n# Modify cells\nsheet['A1'] = 'New Value'\nsheet.insert_rows(2)  # Insert row at position 2\nsheet.delete_cols(3)  # Delete column 3\n\n# Add new sheet\nnew_sheet = wb.create_sheet('NewSheet')\nnew_sheet['A1'] = 'Data'\n\nwb.save('modified.xlsx')\n```\n\n## Recalculating formulas\n\nExcel files created or modified by openpyxl contain formulas as strings but not calculated values. Use the provided `recalc.py` script to recalculate formulas:\n\n```bash\nskills/xlsx/recalc.py <excel_file> [timeout_seconds]\n```\n\nExample:\n```bash\nskills/xlsx/recalc.py output.xlsx 30\n```\n\nThe script:\n- Automatically sets up LibreOffice macro on first run\n- Recalculates all formulas in all sheets\n- Scans ALL cells for Excel errors (#REF!, #DIV/0!, etc.)\n- Returns JSON with detailed error locations and counts\n- Works on both Linux and macOS\n\n## Formula Verification Checklist\n\nQuick checks to ensure formulas work correctly:\n\n### Essential Verification\n- [ ] **Test 2-3 sample references**: Verify they pull correct values before building full model\n- [ ] **Column mapping**: Confirm Excel columns match (e.g., column 64 = BL, not BK)\n- [ ] **Row offset**: Remember Excel rows are 1-indexed (DataFrame row 5 = Excel row 6)\n\n### Common Pitfalls\n- [ ] **NaN handling**: Check for null values with `pd.notna()`\n- [ ] **Far-right columns**: FY data often in columns 50+ \n- [ ] **Multiple matches**: Search all occurrences, not just first\n- [ ] **Division by zero**: Check denominators before using `/` in formulas (#DIV/0!)\n- [ ] **Wrong references**: Verify all cell references point to intended cells (#REF!)\n- [ ] **Cross-sheet references**: Use correct format (Sheet1!A1) for linking sheets\n\n### Formula Testing Strategy\n- [ ] **Start small**: Test formulas on 2-3 cells before applying broadly\n- [ ] **Verify dependencies**: Check all cells referenced in formulas exist\n- [ ] **Test edge cases**: Include zero, negative, and very large values\n\n### Interpreting recalc.py Output\nThe script returns JSON with error details:\n```json\n{\n  \"status\": \"success\",           // or \"errors_found\"\n  \"total_errors\": 0,              // Total error count\n  \"total_formulas\": 42,           // Number of formulas in file\n  \"error_summary\": {              // Only present if errors found\n    \"#REF!\": {\n      \"count\": 2,\n      \"locations\": [\"Sheet1!B5\", \"Sheet1!C10\"]\n    }\n  }\n}\n```\n\n## Best Practices\n\n### Library Selection\n- **pandas**: Best for data analysis, bulk operations, and simple data export\n- **openpyxl**: Best for complex formatting, formulas, and Excel-specific features\n\n### Working with openpyxl\n- Cell indices are 1-based (row=1, column=1 refers to cell A1)\n- Use `data_only=True` to read calculated values: `load_workbook('file.xlsx', data_only=True)`\n- **Warning**: If opened with `data_only=True` and saved, formulas are replaced with values and permanently lost\n- For large files: Use `read_only=True` for reading or `write_only=True` for writing\n- Formulas are preserved but not evaluated - use recalc.py to update values\n\n### Working with pandas\n- Specify data types to avoid inference issues: `pd.read_excel('file.xlsx', dtype={'id': str})`\n- For large files, read specific columns: `pd.read_excel('file.xlsx', usecols=['A', 'C', 'E'])`\n- Handle dates properly: `pd.read_excel('file.xlsx', parse_dates=['date_column'])`\n\n## Code Style Guidelines\n**IMPORTANT**: When generating Python code for Excel operations:\n- Write minimal, concise Python code without unnecessary comments\n- Avoid verbose variable names and redundant operations\n- Avoid unnecessary print statements\n\n**For Excel files themselves**:\n- Add comments to cells with complex formulas or important assumptions\n- Document data sources for hardcoded values\n- Include notes for key calculations and model sections"
      },
      "plugins": [
        {
          "name": "geoffrey",
          "source": "./",
          "description": "Personal AI infrastructure with learning-enabled assistance for work, travel, and personal tasks",
          "version": "0.19.1",
          "category": "productivity",
          "keywords": [
            "personal-ai",
            "learning",
            "preferences",
            "assistant",
            "travel",
            "productivity",
            "strategic-planning",
            "omnifocus"
          ],
          "categories": [
            "assistant",
            "learning",
            "omnifocus",
            "personal-ai",
            "preferences",
            "productivity",
            "strategic-planning",
            "travel"
          ],
          "install_commands": [
            "/plugin marketplace add krishagel/geoffrey",
            "/plugin install geoffrey@geoffrey"
          ]
        }
      ]
    }
  ]
}