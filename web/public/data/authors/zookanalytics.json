{
  "author": {
    "id": "zookanalytics",
    "display_name": "zookanalytics",
    "avatar_url": "https://avatars.githubusercontent.com/u/20464940?v=4"
  },
  "marketplaces": [
    {
      "name": "claude-devcontainer",
      "version": null,
      "description": "Plugins from the claude-devcontainer project",
      "repo_full_name": "zookanalytics/claude-devcontainer",
      "repo_url": "https://github.com/zookanalytics/claude-devcontainer",
      "repo_description": "Secure, opinionated Claude Code-ready devcontainer base image with firewall domain allowlisting",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-29T06:20:01Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-devcontainer\",\n  \"metadata\": {\n    \"description\": \"Plugins from the claude-devcontainer project\"\n  },\n  \"owner\": {\n    \"name\": \"Zook Analytics\",\n    \"url\": \"https://github.com/zookanalytics\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"git-workflow\",\n      \"description\": \"Git workflow skills with enforcement hooks for commits, PRs, and code review\",\n      \"version\": \"0.1.0\",\n      \"source\": \"./packages/git-workflow\"\n    },\n    {\n      \"name\": \"bmad-orchestrator\",\n      \"description\": \"BMAD workflow orchestration for AI-driven development\",\n      \"version\": \"0.1.0\",\n      \"source\": \"./packages/bmad-orchestrator\"\n    },\n    {\n      \"name\": \"claude-instance\",\n      \"description\": \"Multi-instance management with session purpose tracking\",\n      \"version\": \"0.1.0\",\n      \"source\": \"./packages/claude-instance\"\n    }\n  ]\n}\n",
        "README.md": "# Claude DevContainer\n\nA secure, AI-agent-ready development container base image for Claude Code and Gemini CLI.\n\n## Features\n\n- Node.js 22 with pnpm\n- Claude Code and Gemini CLI pre-installed\n- Firewall with domain allowlisting (iptables/ipset)\n- Security hooks to prevent common mistakes\n- ZSH with Powerlevel10k theme\n- tmux for persistent terminal sessions\n\n## Quick Start\n\nRun this in your project root to initialize:\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/zookanalytics/claude-devcontainer/main/scripts/init-project.sh | bash\n```\n\nThis creates:\n- `.devcontainer/devcontainer.json` - configured for the base image\n- `.devcontainer/allowed-domains.txt` - template for project-specific domains\n- `.devcontainer/post-create-project.sh` - template for project setup\n\nThen open in VS Code and \"Reopen in Container\".\n\n### Manual Setup\n\nAlternatively, add to your project's `.devcontainer/devcontainer.json`:\n\n```json\n{\n  \"name\": \"${localEnv:PROJECT_NAME}-${localWorkspaceFolderBasename}\",\n  \"image\": \"ghcr.io/zookanalytics/claude-devcontainer:latest\",\n  \"runArgs\": [\n    \"--cap-add=NET_ADMIN\",\n    \"--cap-add=NET_RAW\",\n    \"--cap-add=SYSLOG\"\n  ],\n  \"remoteUser\": \"node\",\n  \"workspaceMount\": \"source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=delegated\",\n  \"workspaceFolder\": \"/workspace\",\n  \"mounts\": [\n    \"source=${localEnv:PROJECT_NAME}-node-modules-${localWorkspaceFolderBasename},target=/workspace/node_modules,type=volume\",\n    \"source=${localEnv:PROJECT_NAME}-claude-config,target=/home/node/.claude,type=volume\",\n    \"source=${localEnv:PROJECT_NAME}-gemini-config,target=/home/node/.gemini,type=volume\",\n    \"source=pnpm-store,target=/workspace/.pnpm-store,type=volume\"\n  ],\n  \"postCreateCommand\": \"/usr/local/bin/post-create.sh\"\n}\n```\n\n## Extending Domain Allowlist\n\nThe base image includes common domains (npm, GitHub, Anthropic, Google, etc.). Add project-specific domains in `.devcontainer/allowed-domains.txt`:\n\n```\n# Project-specific domains\napi.your-service.com\nyour-backend.example.com\n```\n\n## Project-Specific Setup\n\nCreate `.devcontainer/post-create-project.sh` for project-specific initialization:\n\n```bash\n#!/bin/bash\nset -e\n\n# Install project dependencies\npnpm install\n\n# Install Playwright browsers\npnpm exec playwright install\n\n# Any other project-specific setup\necho \"Project setup complete!\"\n```\n\nThe base `post-create.sh` will automatically call this script if it exists.\n\n## Security Hooks\n\nBoth Claude Code and Gemini CLI are configured with security hooks that prevent:\n\n- Pushing directly to main/master branches\n- Using `--no-verify` to bypass pre-commit hooks\n- Using `--admin` to bypass GitHub branch protection\n- Leaking sensitive environment variables\n- Accessing sensitive files (.env, credentials, keys)\n\nHooks are installed at:\n- `/etc/claude-code/hooks/` - Claude Code hooks\n- `/etc/gemini-code/hooks/` - Gemini CLI hooks (symlinks to Claude hooks)\n\n## Gemini CLI Setup\n\nThe base image includes Gemini CLI and security hooks. For project-level Gemini config, create `.gemini/settings.json`:\n\n```json\n{\n  \"tools\": {\n    \"enableHooks\": true\n  },\n  \"hooks\": {\n    \"BeforeTool\": [\n      {\n        \"matcher\": \"run_shell_command\",\n        \"hooks\": [\n          {\n            \"name\": \"prevent-main-push\",\n            \"type\": \"command\",\n            \"command\": \"/etc/gemini-code/hooks/prevent-main-push.sh\",\n            \"timeout\": 10000\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\nSee `/etc/gemini-code/settings.json` for the full template.\n\n## Examples\n\nSee the `examples/` directory for:\n- `devcontainer.json` - Full consumer configuration template\n- `allowed-domains.txt` - Example project-specific domain allowlist\n\n## License\n\nMIT\n",
        "packages/bmad-orchestrator/README.md": "# BMAD Orchestrator\n\nA Claude Code plugin that automates BMAD (Breakthrough Method for Agile AI-Driven Development) workflow orchestration for AI-driven software development.\n\n## What It Does\n\n- **Phase Detection**: Automatically detects when Claude completes a workflow phase (story creation, development, code review)\n- **Story Progression**: Advances stories through the BMAD lifecycle (backlog → ready-for-dev → in-progress → review → done)\n- **Multi-Instance Coordination**: Dispatches work to devcontainer instances and tracks progress\n- **Status Dashboard**: Terminal-based view of sprint progress and next actions\n\n## Architecture\n\nbmad-cli has two operating modes with different installation requirements:\n\n| Commands | Runs Where | Purpose |\n|----------|------------|---------|\n| `next`, `restart`, `menu` (dispatch) | **Host only** | Orchestrate work across multiple containers |\n| `run-story`, `run-epic`, `menu` (execute) | **Container only** | Execute workflows inside devcontainer |\n| `status`, `audit` | Either | View status, check health |\n\nThe orchestrator commands require Docker access to discover and dispatch to containers. The executor commands require being inside a devcontainer with Claude Code installed.\n\n## Installation\n\n### Host Installation (for orchestration)\n\nInstall globally on your host machine to dispatch work to containers:\n\n```bash\nnpm install -g @zookanalytics/bmad-orchestrator\n```\n\nThis provides the `bmad-cli` command with orchestration capabilities:\n- `bmad-cli next` - Dispatch next story to an available container\n- `bmad-cli restart <id>` - Resume a stale dispatch\n- `bmad-cli menu` - Interactive orchestration menu\n\n### Container Installation (for execution)\n\nWhen using the `claude-devcontainer` Docker image, bmad-cli is pre-installed at `/usr/local/bin/bmad-cli`.\n\nTo enable the Stop hook for phase detection, add to your `.devcontainer/devcontainer.json`:\n\n```json\n{\n  \"image\": \"ghcr.io/zookanalytics/claude-devcontainer:latest\",\n  \"containerEnv\": {\n    \"ENABLE_BMAD_ORCHESTRATOR\": \"true\"\n  }\n}\n```\n\nThis enables:\n- `bmad-cli run-story <id>` - Run a story through all phases\n- `bmad-cli run-epic <id>` - Run all stories in an epic\n- Phase completion detection via Stop hook\n\n### As a Claude Code Plugin (alternative)\n\nIf not using the devcontainer image, add to your project's `.claude/settings.json`:\n\n```json\n{\n  \"enabledPlugins\": {\n    \"bmad-orchestrator@claude-devcontainer\": true\n  },\n  \"extraKnownMarketplaces\": {\n    \"claude-devcontainer\": {\n      \"source\": {\n        \"source\": \"directory\",\n        \"path\": \"/path/to/claude-devcontainer\"\n      }\n    }\n  }\n}\n```\n\n## Usage\n\n### Interactive Menu (Recommended)\n\n```bash\nbmad-cli              # Opens interactive menu with smart defaults\n```\n\nThe menu adapts based on environment:\n- **On host**: Shows orchestration options (dispatch, restart, audit)\n- **In container**: Shows execution options (run story, run epic)\n\n### Host Commands (Orchestration)\n\nRun these on your host machine to manage work across containers:\n\n```bash\nbmad-cli              # Interactive orchestration menu\nbmad-cli next         # Dispatch next story to an available container\nbmad-cli restart ID   # Resume a stale/dead dispatch\nbmad-cli audit        # Check for stale dispatches, optionally fix\nbmad-cli status       # Show sprint status and next action\n```\n\n### Container Commands (Execution)\n\nRun these inside a devcontainer to execute workflows:\n\n```bash\nbmad-cli              # Interactive execution menu\nbmad-cli run-story ID # Run a story through all phases to completion\nbmad-cli run-epic ID  # Run all stories in an epic sequentially\nbmad-cli status       # Show sprint status\n```\n\n## How It Works\n\n### Phase Completion Detection\n\n1. When a BMAD workflow runs, the orchestrator creates a lock file tracking the story and starting status\n2. A Stop hook fires when Claude stops responding\n3. The hook compares the starting status against current `sprint-status.yaml`\n4. If status changed, a signal file is written\n5. The executor detects the signal and terminates Claude gracefully to proceed to the next phase\n\n### Story Lifecycle\n\n```\nbacklog → ready-for-dev → in-progress → review → done\n```\n\nEach transition triggers the appropriate BMAD workflow:\n- `backlog → ready-for-dev`: create-story\n- `ready-for-dev → in-progress`: dev-story\n- `in-progress → review`: dev-story completion\n- `review → done`: code-review\n\n## Requirements\n\n- Python 3.10+\n- Claude Code CLI\n- BMAD Method installed in your project\n- `jq` for JSON parsing in hooks (fallback to grep if unavailable)\n\n## Project Structure\n\n```\nbmad-orchestrator/\n├── plugin.json           # Claude Code plugin metadata\n├── marketplace.json      # Plugin marketplace entry\n├── hooks/\n│   ├── hooks.json        # Hook definitions\n│   └── scripts/\n│       └── bmad-phase-complete.sh\n├── scripts/\n│   ├── bmad-cli          # CLI entry point\n│   └── bmad/\n│       ├── __init__.py\n│       ├── cli.py        # Command implementations\n│       ├── status.py     # Sprint status reader\n│       └── executor.py   # Workflow execution\n└── docs/\n    ├── research/         # Design research and proposals\n    └── implementation/   # Technical specifications\n```\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "git-workflow",
          "description": "Git workflow skills with enforcement hooks for commits, PRs, and code review",
          "version": "0.1.0",
          "source": "./packages/git-workflow",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add zookanalytics/claude-devcontainer",
            "/plugin install git-workflow@claude-devcontainer"
          ]
        },
        {
          "name": "bmad-orchestrator",
          "description": "BMAD workflow orchestration for AI-driven development",
          "version": "0.1.0",
          "source": "./packages/bmad-orchestrator",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add zookanalytics/claude-devcontainer",
            "/plugin install bmad-orchestrator@claude-devcontainer"
          ]
        },
        {
          "name": "claude-instance",
          "description": "Multi-instance management with session purpose tracking",
          "version": "0.1.0",
          "source": "./packages/claude-instance",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add zookanalytics/claude-devcontainer",
            "/plugin install claude-instance@claude-devcontainer"
          ]
        }
      ]
    }
  ]
}