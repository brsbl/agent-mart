{
  "author": {
    "id": "qmu",
    "display_name": "qmu Co., Inc.",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/17471154?v=4",
    "url": "https://github.com/qmu",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 3,
      "total_skills": 15,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "workaholic",
      "version": "1.0.24",
      "description": "Standard Claude Code Configuration in qmu",
      "owner_info": {
        "name": "tamurayoshiya",
        "email": "a@qmu.jp"
      },
      "keywords": [],
      "repo_full_name": "qmu/workaholic",
      "repo_url": "https://github.com/qmu/workaholic",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-29T04:06:59Z",
        "created_at": "2026-01-15T06:50:22Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 525
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 219
        },
        {
          "path": "plugins/core/README.md",
          "type": "blob",
          "size": 3484
        },
        {
          "path": "plugins/core/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/agents/changelog-writer.md",
          "type": "blob",
          "size": 698
        },
        {
          "path": "plugins/core/agents/history-discoverer.md",
          "type": "blob",
          "size": 929
        },
        {
          "path": "plugins/core/agents/performance-analyst.md",
          "type": "blob",
          "size": 685
        },
        {
          "path": "plugins/core/agents/pr-creator.md",
          "type": "blob",
          "size": 640
        },
        {
          "path": "plugins/core/agents/release-readiness.md",
          "type": "blob",
          "size": 959
        },
        {
          "path": "plugins/core/agents/source-discoverer.md",
          "type": "blob",
          "size": 876
        },
        {
          "path": "plugins/core/agents/spec-writer.md",
          "type": "blob",
          "size": 1206
        },
        {
          "path": "plugins/core/agents/story-writer.md",
          "type": "blob",
          "size": 2126
        },
        {
          "path": "plugins/core/agents/terms-writer.md",
          "type": "blob",
          "size": 1257
        },
        {
          "path": "plugins/core/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/commands/drive.md",
          "type": "blob",
          "size": 3138
        },
        {
          "path": "plugins/core/commands/story.md",
          "type": "blob",
          "size": 4110
        },
        {
          "path": "plugins/core/commands/ticket.md",
          "type": "blob",
          "size": 2863
        },
        {
          "path": "plugins/core/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/hooks/hooks.json",
          "type": "blob",
          "size": 338
        },
        {
          "path": "plugins/core/hooks/validate-ticket.sh",
          "type": "blob",
          "size": 4855
        },
        {
          "path": "plugins/core/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/analyze-performance",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/analyze-performance/SKILL.md",
          "type": "blob",
          "size": 2945
        },
        {
          "path": "plugins/core/skills/archive-ticket",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/archive-ticket/SKILL.md",
          "type": "blob",
          "size": 2850
        },
        {
          "path": "plugins/core/skills/assess-release-readiness",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/assess-release-readiness/SKILL.md",
          "type": "blob",
          "size": 1855
        },
        {
          "path": "plugins/core/skills/create-branch",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/create-branch/SKILL.md",
          "type": "blob",
          "size": 542
        },
        {
          "path": "plugins/core/skills/create-pr",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/create-pr/SKILL.md",
          "type": "blob",
          "size": 1049
        },
        {
          "path": "plugins/core/skills/create-ticket",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/create-ticket/SKILL.md",
          "type": "blob",
          "size": 4233
        },
        {
          "path": "plugins/core/skills/discover-history",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/discover-history/SKILL.md",
          "type": "blob",
          "size": 962
        },
        {
          "path": "plugins/core/skills/discover-source",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/discover-source/SKILL.md",
          "type": "blob",
          "size": 753
        },
        {
          "path": "plugins/core/skills/drive-workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/drive-workflow/SKILL.md",
          "type": "blob",
          "size": 6309
        },
        {
          "path": "plugins/core/skills/generate-changelog",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/generate-changelog/SKILL.md",
          "type": "blob",
          "size": 1161
        },
        {
          "path": "plugins/core/skills/translate",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/translate/SKILL.md",
          "type": "blob",
          "size": 3875
        },
        {
          "path": "plugins/core/skills/write-changelog",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/write-changelog/SKILL.md",
          "type": "blob",
          "size": 1146
        },
        {
          "path": "plugins/core/skills/write-spec",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/write-spec/SKILL.md",
          "type": "blob",
          "size": 3981
        },
        {
          "path": "plugins/core/skills/write-story",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/write-story/SKILL.md",
          "type": "blob",
          "size": 7757
        },
        {
          "path": "plugins/core/skills/write-terms",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/write-terms/SKILL.md",
          "type": "blob",
          "size": 3321
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"workaholic\",\n  \"version\": \"1.0.24\",\n  \"description\": \"Standard Claude Code Configuration in qmu\",\n  \"owner\": {\n    \"name\": \"tamurayoshiya\",\n    \"email\": \"a@qmu.jp\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"core\",\n      \"description\": \"Core development workflow: branch, commit, pull-request, ticket-driven development\",\n      \"version\": \"1.0.24\",\n      \"author\": {\n        \"name\": \"tamurayoshiya\",\n        \"email\": \"a@qmu.jp\"\n      },\n      \"source\": \"./plugins/core\",\n      \"category\": \"development\"\n    }\n  ]\n}\n",
        "plugins/core/.claude-plugin/plugin.json": "{\n  \"name\": \"core\",\n  \"description\": \"Core development workflow: branch, commit, pull-request, ticket-driven development\",\n  \"version\": \"1.0.24\",\n  \"author\": {\n    \"name\": \"tamurayoshiya\",\n    \"email\": \"a@qmu.jp\"\n  }\n}\n",
        "plugins/core/README.md": "# Core\n\nCore development workflow for Claude Code projects.\n\n## Why Documentation?\n\nThis plugin intentionally generates extensive documentation artifacts (tickets, changelogs, archives) as **cognitive investments**. Developer cognitive load is the primary bottleneck in software productivity - context-switching, onboarding, and understanding past decisions consume significant mental energy.\n\nEach artifact reduces this load:\n\n- **Tickets** capture intent before implementation, preventing \"what was I trying to do?\"\n- **Specs** provide authoritative reference for current state, eliminating guesswork\n- **Stories** preserve the narrative of how decisions were made across a feature\n- **Changelogs** explain what changed and why, enabling quick catch-up\n\nThe upfront cost of documentation pays dividends when you (or a teammate) return to code weeks later.\n\n## Commands\n\n| Command                 | Description                                                                      |\n| ----------------------- | -------------------------------------------------------------------------------- |\n| `/ticket <description>` | Explore codebase and write implementation ticket (auto-creates branch on main)   |\n| `/drive`                | Implement tickets from .workaholic/tickets/ one by one, commit each, and archive |\n| `/story`                | Generate documentation and create/update pull request                            |\n\n## Agents\n\n| Agent                 | Description                                             |\n| --------------------- | ------------------------------------------------------- |\n| `performance-analyst` | Evaluate decision-making quality across five viewpoints |\n\n## Skills\n\n| Skill            | Description                                                              |\n| ---------------- | ------------------------------------------------------------------------ |\n| `archive-ticket` | Complete commit workflow - format, archive, update changelog, and commit |\n\n## Rules\n\n| Rule            | Description                                              |\n| --------------- | -------------------------------------------------------- |\n| `general.md`    | General development rules (commit confirmation required) |\n| `typescript.md` | TypeScript coding conventions                            |\n\n## Workflow\n\n1. **Plan work**: Use `/ticket` to write implementation specs (auto-creates branch on main)\n2. **Implement tickets**: Use `/drive` to implement and commit each ticket\n3. **Create PR**: Use `/story` to generate documentation and create PR\n\n## Feedback Loop\n\nWhen reviewing an implementation and requesting changes:\n\n1. **Update the ticket first** - Add/modify steps based on feedback\n2. **Then implement** - Make the requested changes\n3. **Review again** - Ask for approval once more\n\n```\nUser:   [Needs changes] \"Add error handling for edge case X\"\nClaude: [Updates ticket with new step for error handling]\nClaude: [Implements error handling]\nClaude: [Asks for review again]\n```\n\n**Why this matters**: Archived tickets become project documentation. Keeping tickets updated ensures accurate history of what was built and helps future developers understand the full scope of changes.\n\n## Ticket Storage\n\n- Active tickets: `.workaholic/tickets/todo/`\n- Icebox (deferred): `.workaholic/tickets/icebox/`\n- Archived: `.workaholic/tickets/archive/<branch-name>/`\n\n## Installation\n\nAdd to your Claude Code configuration:\n\n```json\n{\n  \"plugins\": [\"core\"]\n}\n```\n",
        "plugins/core/agents/changelog-writer.md": "---\nname: changelog-writer\ndescription: Update root CHANGELOG.md from archived tickets. Groups entries by category and links to commits and tickets.\ntools: Read, Write, Edit, Bash, Glob, Grep\nskills:\n  - write-changelog\n  - generate-changelog\n---\n\n# Changelog Writer\n\nUpdate root `CHANGELOG.md` with entries from archived tickets for the current branch.\n\n## Input\n\nYou will receive:\n\n- Branch name to generate changelog section for\n- Repository URL for linking\n\n## Instructions\n\nFollow the preloaded write-changelog skill for entry generation, formatting, and structure verification.\n\n## Output\n\nReturn confirmation that:\n\n- CHANGELOG.md was updated\n- Number of entries added\n- Categories included\n",
        "plugins/core/agents/history-discoverer.md": "---\nname: history-discoverer\ndescription: Find related historical tickets using keyword search.\ntools: Bash, Read, Glob\nskills:\n  - discover-history\n---\n\n# History Discoverer\n\nSearch archived tickets to find related historical context for a new ticket.\n\n## Input\n\nYou will receive:\n- Keywords to search for (file paths, domain terms)\n- Optional: Layer to filter by\n\n## Instructions\n\n1. Run the discover-history search script with provided keywords\n2. Read the top 5 matching tickets\n3. For each, extract: title, overview summary, key files, layer\n4. Return a structured list sorted by relevance\n\n## Output\n\nReturn JSON:\n\n```json\n{\n  \"summary\": \"1-2 sentence synthesis of what historical tickets reveal\",\n  \"tickets\": [\n    {\n      \"path\": \".workaholic/tickets/archive/feat-xxx/filename.md\",\n      \"title\": \"Ticket title\",\n      \"overview\": \"Brief 1-sentence summary\",\n      \"match_reason\": \"same file: ticket.md\"\n    }\n  ]\n}\n```\n",
        "plugins/core/agents/performance-analyst.md": "---\nname: performance-analyst\ndescription: Evaluate decision-making quality across five viewpoints\nskills:\n  - analyze-performance\n---\n\n# Performance Analyst\n\nAnalyze a development branch's decision-making quality.\n\n## Input\n\nYou will receive:\n\n- Branch story with motivation and journey\n- List of archived tickets with overviews and final reports\n- Git log showing commit history\n- Performance metrics (commits, duration, velocity, velocity_unit)\n\n## Instructions\n\nFollow the preloaded analyze-performance skill for evaluation framework, output format, and guidelines.\n\n## Output\n\nReturn structured markdown with decision quality analysis table, strengths, and areas for improvement.\n",
        "plugins/core/agents/pr-creator.md": "---\nname: pr-creator\ndescription: Create or update GitHub PR from story file. Handles PR existence check, title derivation, and gh CLI operations.\ntools: Read, Bash, Glob\nskills:\n  - create-pr\n---\n\n# PR Creator\n\nCreate or update a GitHub pull request using the story file as PR content.\n\n## Input\n\nYou will receive:\n\n- Branch name\n- Base branch (usually `main`)\n\n## Instructions\n\n1. Read `.workaholic/stories/<branch-name>.md` to extract the PR title.\n2. Follow the preloaded create-pr skill for title derivation and PR creation.\n\n## Output\n\nReturn the script output exactly as-is:\n\n```\nPR created: <URL>\n```\n\nor\n\n```\nPR updated: <URL>\n```\n",
        "plugins/core/agents/release-readiness.md": "---\nname: release-readiness\ndescription: Analyze branch changes for release readiness, identifying concerns and special instructions.\ntools: Read, Bash, Glob, Grep\nskills:\n  - assess-release-readiness\n---\n\n# Release Readiness\n\nAnalyze a branch to determine if it's ready for release.\n\n## Input\n\nYou will receive:\n\n- Branch name\n- Base branch (usually `main`)\n- List of archived tickets for the branch\n\n## Instructions\n\n1. **Analyze changes**: Run `git diff main..HEAD` to review actual code changes.\n\n2. **Check for issues**: Follow the preloaded assess-release-readiness skill for analysis tasks.\n\n3. **Generate verdict**: Determine if branch is releasable based on analysis.\n\n## Output\n\nReturn JSON with releasability verdict, concerns, and instructions:\n\n```json\n{\n  \"releasable\": true/false,\n  \"verdict\": \"Ready for release\" / \"Needs attention before release\",\n  \"concerns\": [],\n  \"instructions\": {\n    \"pre_release\": [],\n    \"post_release\": []\n  }\n}\n```\n",
        "plugins/core/agents/source-discoverer.md": "---\nname: source-discoverer\ndescription: Find related source files and analyze code flow.\ntools: Glob, Grep, Read\nskills:\n  - discover-source\n---\n\n# Source Discoverer\n\nExplore codebase to find files related to a ticket request.\n\n## Input\n\nYou will receive:\n- Description of the feature/change being planned\n- Keywords/file patterns to search for\n\n## Instructions\n\n1. Use Glob to find files matching keywords\n2. Use Grep to search for related terms in code\n3. Read top 5-10 most relevant files\n4. Analyze code flow and dependencies\n\n## Output\n\nReturn JSON:\n\n```json\n{\n  \"summary\": \"1-2 sentence synthesis of codebase context\",\n  \"files\": [\n    {\n      \"path\": \"path/to/file.ts\",\n      \"purpose\": \"Brief description of what this file does\",\n      \"relevance\": \"Why this file matters for the ticket\"\n    }\n  ],\n  \"code_flow\": \"Brief description of how components interact\"\n}\n```\n",
        "plugins/core/agents/spec-writer.md": "---\nname: spec-writer\ndescription: Update .workaholic/specs/ documentation to reflect current codebase state. Use after completing implementation work.\ntools: Read, Write, Edit, Bash, Glob, Grep\nskills:\n  - write-spec\n  - translate\n---\n\n# Spec Writer\n\nUpdate `.workaholic/specs/` to reflect the current codebase state.\n\n## Input\n\nYou will receive:\n\n- Base branch (usually `main`)\n\n## Instructions\n\n1. **Gather Context**: Use the \"Gather Context\" section of the preloaded write-spec skill:\n   ```bash\n   bash .claude/skills/write-spec/sh/gather.sh <base-branch>\n   ```\n   Read archived tickets if they exist, otherwise use diff output.\n\n2. **Audit Current Specs**: Read documents from SPECS section to understand scope and identify outdated content.\n\n3. **Plan Updates**: Determine which docs need updates, creation, or deletion. Identify cross-cutting concerns.\n\n4. **Execute Updates**: Follow the preloaded write-spec skill for formatting rules and guidelines.\n\n5. **Update Index Files**: Maintain README links following preloaded translate skill.\n\n6. **Summarize**: List specs updated/created/deleted, confirm all docs are linked.\n\n## Output\n\nReturn confirmation of changes made to `.workaholic/specs/`.\n",
        "plugins/core/agents/story-writer.md": "---\nname: story-writer\ndescription: Generate branch story for PR description. Reads archived tickets, calculates metrics, and produces narrative documentation.\ntools: Read, Write, Edit, Bash, Glob, Grep, Task\nskills:\n  - write-story\n  - translate\n---\n\n# Story Writer\n\nGenerate a branch story in `.workaholic/stories/<branch-name>.md` that serves as the single source of truth for PR content.\n\n## Input\n\nYou will receive:\n\n- Branch name to generate story for\n- Base branch (usually `main`)\n- Release-readiness JSON output (from parallel agent invoked by `/report`)\n\n## Instructions\n\n1. **Gather Source Data**: Read archived tickets using Glob pattern `.workaholic/tickets/archive/<branch-name>/*.md`. Extract frontmatter (`commit_hash`, `category`) and content (Overview, Final Report).\n\n2. **Calculate Metrics**: Use the \"Calculate Metrics\" section of the preloaded write-story skill:\n   ```bash\n   bash .claude/skills/write-story/sh/calculate.sh <base-branch>\n   ```\n\n3. **Derive Issue URL**: Extract issue number from branch name (e.g., `i111-20260113-1832` â†’ `111`).\n\n4. **Write Story**: Follow the preloaded write-story skill for content structure, templates, and guidelines.\n\n5. **Get Performance Analysis**: Invoke performance-analyst subagent (Task tool with `subagent_type: \"core:performance-analyst\"`) to evaluate decision quality.\n\n6. **Write Release Preparation**: Use the release-readiness JSON provided in the input to write section 10 (Release Preparation). Do not invoke release-readiness subagent - it runs in parallel at the orchestrator level.\n\n7. **Translate Story**: Create `<branch-name>_ja.md` with Japanese translation following the preloaded translate skill.\n\n8. **Update Index**: Add entry to both `.workaholic/stories/README.md` and `README_ja.md`.\n\n## Output\n\nReturn confirmation that:\n\n- Story file was created at `.workaholic/stories/<branch-name>.md`\n- Japanese translation was created at `.workaholic/stories/<branch-name>_ja.md`\n- Stories index (both README.md and README_ja.md) was updated\n- Performance-analyst evaluation was included\n- Release-readiness data was formatted into section 10\n",
        "plugins/core/agents/terms-writer.md": "---\nname: terms-writer\ndescription: Update .workaholic/terms/ documentation to maintain consistent term definitions. Use after completing implementation work.\ntools: Read, Write, Edit, Bash, Glob, Grep\nskills:\n  - write-terms\n  - translate\n---\n\n# Terms Writer\n\nUpdate `.workaholic/terms/` to maintain consistent term definitions across the codebase.\n\n## Input\n\nYou will receive:\n\n- Base branch (usually `main`)\n\n## Instructions\n\n1. **Gather Context**: Use the \"Gather Context\" section of the preloaded write-terms skill:\n   ```bash\n   bash .claude/skills/write-terms/sh/gather.sh [base-branch]\n   ```\n   Read archived tickets if they exist, otherwise use diff output.\n\n2. **Audit Current Terms**: Read documents from TERMS section to understand which terms are covered and identify outdated definitions.\n\n3. **Plan Updates**: Identify new terms, updated definitions, inconsistencies, and deprecated terms.\n\n4. **Execute Updates**: Follow the preloaded write-terms skill for formatting rules and guidelines.\n\n5. **Update Index Files**: Maintain translations following preloaded translate skill.\n\n6. **Summarize**: List terms added/updated/deprecated, confirm translations are in sync.\n\n## Output\n\nReturn confirmation of changes made to `.workaholic/terms/`.\n",
        "plugins/core/commands/drive.md": "---\nname: drive\ndescription: Implement tickets from .workaholic/tickets/ one by one, commit each, and archive.\nskills:\n  - drive-workflow\n  - archive-ticket\n---\n\n# Drive\n\nImplement all tickets stored in `.workaholic/tickets/todo/` from top to bottom, committing and archiving each one before moving to the next.\n\n## Icebox Mode\n\nIf `$ARGUMENT` contains \"icebox\":\n\n1. List tickets in `.workaholic/tickets/icebox/`\n2. Ask user which ticket to retrieve\n3. Move selected ticket to `.workaholic/tickets/todo/`\n4. Implement that ticket using the drive-workflow skill\n5. **ALWAYS ask confirmation** before proceeding to next ticket\n\n## Instructions\n\n### 1. List and Sort Tickets\n\n```bash\nls -1 .workaholic/tickets/todo/*.md 2>/dev/null | sort\n```\n\n- If no tickets found, inform the user and stop\n- Process tickets in alphabetical/chronological order (YYYYMMDD prefix ensures chronological)\n\n### 2. For Each Ticket (Top to Bottom)\n\nFollow the preloaded drive-workflow skill for each ticket:\n\n1. Read and understand the ticket\n2. Implement the ticket\n3. Ask user to review (mandatory approval step)\n4. Update effort and write final report\n5. Commit and archive using archive-ticket skill\n\n### 3. Completion\n\n- After all tickets are implemented, summarize what was done\n- List all commits created\n- Inform user that all tickets have been processed\n\n## Example Workflow\n\n```\nClaude: Found 3 tickets to implement:\n        1. .workaholic/tickets/todo/20260113-feature-a.md\n        2. .workaholic/tickets/todo/20260113-feature-b.md\n        3. .workaholic/tickets/todo/20260113-feature-c.md\n\n        Starting with 20260113-feature-a.md...\n        [implements feature-a]\n\n        **Ticket: Add User Authentication**\n        Implement user authentication with session-based login and logout.\n\n        Implementation complete. Changes made:\n        - Modified src/foo.ts (added function X)\n        - Updated src/bar.ts (fixed Y)\n\n        Do you approve this implementation?\n        [Approve / Approve and stop / Abandon]\n\nUser:   Approve\n\nClaude: [creates commit, archives ticket]\n\n        Starting with 20260113-feature-b.md...\n```\n\n## Notes\n\n- Each ticket gets its own commit - do not batch multiple tickets\n- If implementation fails, stop and report the error\n- **Implementation approval is mandatory** - never skip this step\n- **Final report is mandatory** - document what happened\n- Between-ticket continuation is automatic - no confirmation needed\n- User can stop cleanly by selecting \"Approve and stop\" at any approval prompt\n\n## Critical Rules\n\n**NEVER autonomously move tickets to icebox.** Moving tickets is a developer decision, not an AI decision.\n\nIf a ticket cannot be implemented (out of scope, too complex, blocked, or any other reason):\n\n1. **Stop and ask the developer** using AskUserQuestion\n2. Explain why implementation cannot proceed\n3. Offer these options:\n   - \"Move to icebox\" - Move ticket to `.workaholic/tickets/icebox/` and continue to next\n   - \"Skip for now\" - Leave ticket in queue, move to next ticket\n   - \"Abort drive\" - Stop the drive session entirely\n\n**Never commit ticket moves without explicit developer approval.**\n",
        "plugins/core/commands/story.md": "---\nname: story\ndescription: Generate documentation (changelog, story, specs, terms) and create/update a pull request.\n---\n\n# Story\n\nGenerate comprehensive documentation and create or update a pull request for the current branch.\n\nThe story file in `.workaholic/stories/<branch-name>.md` contains the complete PR description. Eleven sections: 1. Overview, 2. Motivation, 3. Journey, 4. Changes, 5. Outcome, 6. Historical Analysis, 7. Concerns, 8. Ideas, 9. Performance, 10. Release Preparation, 11. Notes.\n\nThis design makes stories the single source of truth for PR content, eliminating duplication between story generation and PR description assembly.\n\n## Critical Behavior\n\n- **ALWAYS display the PR URL** when finished (see Completion Output section)\n\n## Instructions\n\n1. Check the current branch name with `git branch --show-current`\n2. Get the base branch (usually `main`) with `git remote show origin | grep 'HEAD branch'`\n3. **Check for remaining tickets**:\n   - List files in `.workaholic/tickets/todo/*.md`\n   - If any tickets exist:\n     - Warn the user: \"Found X unfinished ticket(s) that will be moved to icebox:\"\n     - List the ticket filenames\n     - Create `.workaholic/tickets/icebox/` if it doesn't exist\n     - Move each ticket to `.workaholic/tickets/icebox/`\n     - Stage and commit: \"Move remaining tickets to icebox\"\n   - If no tickets, continue with normal PR flow\n4. **Generate documentation** using 5 subagents:\n\n   **Phase 1**: Invoke 4 agents in parallel via Task tool (single message with 4 tool calls, each with `model: \"haiku\"`):\n\n   - **changelog-writer** (`subagent_type: \"core:changelog-writer\"`, `model: \"haiku\"`): Updates `CHANGELOG.md` with entries from archived tickets\n   - **spec-writer** (`subagent_type: \"core:spec-writer\"`, `model: \"haiku\"`): Updates `.workaholic/specs/` to reflect codebase changes\n   - **terms-writer** (`subagent_type: \"core:terms-writer\"`, `model: \"haiku\"`): Updates `.workaholic/terms/` with new terms\n   - **release-readiness** (`subagent_type: \"core:release-readiness\"`, `model: \"haiku\"`): Analyzes branch for release readiness\n\n   Pass to each agent:\n   - Branch name and base branch as context\n   - Repository URL (for changelog-writer)\n   - List of archived tickets (for release-readiness)\n\n   Wait for all 4 agents to complete.\n\n   **Phase 2**: Invoke **story-writer** (`subagent_type: \"core:story-writer\"`, `model: \"haiku\"`):\n   - Pass branch name and base branch\n   - Pass release-readiness JSON output (so it can write section 10 without nested invocation)\n\n   Output locations:\n   - `CHANGELOG.md`\n   - `.workaholic/stories/<branch-name>.md`\n   - `.workaholic/specs/**/*.md`\n   - `.workaholic/terms/**/*.md`\n\n   After all complete, stage all changes and commit: \"Update documentation for PR\"\n\n   **Failure handling**: If any agent fails, report which succeeded and which failed. Continue with PR creation if story-writer succeeded (it's required for PR body).\n\n5. **Format changed files** (silent step):\n   - Run project linter/formatter on changed files\n   - Do NOT announce \"reading file again\" or similar verbose messages\n   - Just silently format and continue\n   - Stage and commit any formatting changes: \"Format code\"\n6. **Push branch to remote**:\n   ```bash\n   git push -u origin <branch-name>\n   ```\n   This ensures the branch exists on remote before PR creation. The `-u` flag sets upstream tracking for new branches.\n7. **Create or update PR** using the pr-creator subagent:\n\n   Invoke the pr-creator subagent via Task tool with `subagent_type: \"core:pr-creator\"`, `model: \"haiku\"`:\n\n   - Pass the branch name and base branch as context\n   - The subagent handles: checking if PR exists, reading story file, deriving title, `gh` CLI operations\n   - The subagent returns the PR URL (required for completion output)\n\n## Completion Output (MANDATORY)\n\nAfter creating or updating the PR, you **MUST** display the result:\n\n- **New PR**: `PR created: <PR-URL>`\n- **Updated PR**: `PR updated: <PR-URL>`\n\nThis URL display is **mandatory** - the command is NOT complete without it. The user needs the URL to review and share the PR.\n\n",
        "plugins/core/commands/ticket.md": "---\nname: ticket\ndescription: Explore codebase and write implementation ticket for `$ARGUMENT`\nskills:\n  - create-ticket\n  - create-branch\n---\n\n# Ticket\n\nExplore the codebase to understand requirements and write an implementation ticket.\n\n## Instructions\n\n0. **Check Branch**\n\n   Check current branch: `git branch --show-current`\n\n   If on `main` or `master` (not a topic branch):\n   1. Ask user for branch prefix (feat/fix/refact) via AskUserQuestion\n   2. Create branch: `git checkout -b \"<prefix>-$(date +%Y%m%d-%H%M%S)\"`\n   3. Confirm: \"Created branch: <branch-name>\"\n   4. Continue to step 1\n\n   Topic branch pattern: `feat-*`, `fix-*`, `refact-*`\n\n1. **Understand the Request**\n\n   - Parse `$ARGUMENT` to understand what the user wants to implement\n   - If `$ARGUMENT` is empty, ask the user what they want to ticket\n   - If `$ARGUMENT` contains \"icebox\", store in `.workaholic/tickets/icebox/` instead\n   - Otherwise, store in `.workaholic/tickets/todo/`\n\n2. **Parallel Discovery**\n\n   Invoke BOTH subagents concurrently using Task tool with `model: \"haiku\"`:\n\n   **2-A. History Discovery** (history-discoverer):\n   - Extract 3-5 keywords from request\n   - Receive JSON: summary, tickets list, match reasons\n\n   **2-B. Source Discovery** (source-discoverer):\n   - Pass feature description and keywords\n   - Receive JSON: summary, files list, code flow\n\n   Example (single message with two Task tool calls):\n   - Task 1: \"Find related tickets for keywords: ticket.md drive.md parallel\"\n   - Task 2: \"Find source files for: parallel discovery in ticket command\"\n\n   Wait for both to complete, then proceed with both results.\n\n3. **Explore and Write Ticket**\n\n   Follow the preloaded create-ticket skill for exploration, file format, and content guidelines.\n   - Use history discovery results for \"Related History\" section\n   - Use source discovery results to seed \"Key Files\" section (merge with manual exploration)\n   - Reference code flow in \"Implementation\" section when relevant\n\n4. **Ask Clarifying Questions** if requirements are ambiguous.\n\n5. **Commit the Ticket**\n\n   **IMPORTANT**: Skip this step if invoked during `/drive`. The drive command's archive script includes uncommitted tickets via `git add -A`, so the ticket will be committed with the implementation.\n\n   - Stage only the newly created ticket file: `git add <ticket-path>`\n   - Commit with message: \"Add ticket for <short-description>\"\n\n6. **Present the Ticket**\n\n   - Show the user where the ticket was created\n   - Summarize the key points\n   - If during `/drive`: say \"Ticket created (will be committed with implementation)\"\n   - If icebox: tell user to run `/drive icebox` later to retrieve it\n   - If normal (standalone): count queued tickets and tell user to run `/drive` to implement\n   - **NEVER ask \"Would you like me to proceed with implementation?\" - that is NOT your job**\n",
        "plugins/core/hooks/hooks.json": "{\n  \"description\": \"Ticket format and location validation\",\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Write|Edit\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/validate-ticket.sh\",\n            \"timeout\": 10\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "plugins/core/hooks/validate-ticket.sh": "#!/bin/bash\n# Validates ticket file format and location after Write/Edit operations\n# Exit codes: 0 = success/not a ticket, 2 = validation failed (blocks operation)\n\nset -e\n\n# Read JSON from stdin\ninput=$(cat)\n\n# Extract file path from tool input\nfile_path=$(echo \"$input\" | jq -r '.tool_input.file_path // empty')\n\n# Exit early if no file path or not a ticket file\nif [[ -z \"$file_path\" ]]; then\n  exit 0\nfi\n\n# Check if file is in .workaholic/tickets/ directory\nif [[ ! \"$file_path\" =~ \\.workaholic/tickets/ ]]; then\n  exit 0\nfi\n\n# Extract the path after .workaholic/tickets/\ntickets_path=\"${file_path#*.workaholic/tickets/}\"\n\n# Validate location: must be in todo/, icebox/, or archive/<branch>/\nif [[ \"$tickets_path\" =~ ^todo/ ]]; then\n  : # Valid\nelif [[ \"$tickets_path\" =~ ^icebox/ ]]; then\n  : # Valid\nelif [[ \"$tickets_path\" =~ ^archive/[^/]+/ ]]; then\n  : # Valid (archive/<branch>/)\nelse\n  echo \"Error: Ticket must be in todo/, icebox/, or archive/<branch>/ directory\" >&2\n  echo \"Got: $tickets_path\" >&2\n  exit 2\nfi\n\n# Extract filename\nfilename=$(basename \"$file_path\")\n\n# Validate filename format: YYYYMMDDHHmmss-*.md\nif [[ ! \"$filename\" =~ ^[0-9]{14}-.*\\.md$ ]]; then\n  echo \"Error: Ticket filename must match YYYYMMDDHHmmss-*.md pattern\" >&2\n  echo \"Got: $filename\" >&2\n  exit 2\nfi\n\n# Check if file exists (it should after Write/Edit)\nif [[ ! -f \"$file_path\" ]]; then\n  exit 0\nfi\n\n# Read file content\ncontent=$(cat \"$file_path\")\n\n# Check for frontmatter\nif [[ ! \"$content\" =~ ^---[[:space:]] ]]; then\n  echo \"Error: Ticket must start with YAML frontmatter (---)\" >&2\n  exit 2\nfi\n\n# Extract frontmatter (between first two ---)\n# Use awk for portability (macOS head doesn't support -n -1)\nfrontmatter=$(echo \"$content\" | awk '/^---$/{if(++c==2)exit}c==1')\n\n# Validate required fields\nvalidate_field() {\n  local field=\"$1\"\n  local value\n  value=$(echo \"$frontmatter\" | grep \"^${field}:\" | sed \"s/^${field}:[[:space:]]*//\" | sed 's/[[:space:]]*$//')\n  echo \"$value\"\n}\n\n# created_at: ISO 8601 format (YYYY-MM-DDTHH:MM:SS+TZ or YYYY-MM-DDTHH:MM:SS-TZ)\ncreated_at=$(validate_field \"created_at\")\nif [[ -z \"$created_at\" ]]; then\n  echo \"Error: created_at field is required\" >&2\n  exit 2\nfi\nif [[ ! \"$created_at\" =~ ^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}[+-][0-9]{2}:[0-9]{2}$ ]]; then\n  echo \"Error: created_at must be ISO 8601 format (e.g., 2026-01-29T04:19:24+09:00)\" >&2\n  echo \"Got: $created_at\" >&2\n  exit 2\nfi\n\n# author: email format\nauthor=$(validate_field \"author\")\nif [[ -z \"$author\" ]]; then\n  echo \"Error: author field is required\" >&2\n  exit 2\nfi\nif [[ ! \"$author\" =~ ^[^@]+@[^@]+\\.[^@]+$ ]]; then\n  echo \"Error: author must be an email address\" >&2\n  echo \"Got: $author\" >&2\n  exit 2\nfi\n\n# type: one of enhancement, bugfix, refactoring, housekeeping\ntype=$(validate_field \"type\")\nif [[ -z \"$type\" ]]; then\n  echo \"Error: type field is required\" >&2\n  exit 2\nfi\nif [[ ! \"$type\" =~ ^(enhancement|bugfix|refactoring|housekeeping)$ ]]; then\n  echo \"Error: type must be one of: enhancement, bugfix, refactoring, housekeeping\" >&2\n  echo \"Got: $type\" >&2\n  exit 2\nfi\n\n# layer: YAML array with valid values\nlayer_line=$(echo \"$frontmatter\" | grep \"^layer:\")\nif [[ -z \"$layer_line\" ]]; then\n  echo \"Error: layer field is required\" >&2\n  exit 2\nfi\n# Extract array values (handles [UX, Domain] format)\nlayer_values=$(echo \"$layer_line\" | sed 's/^layer:[[:space:]]*//' | tr -d '[]' | tr ',' '\\n' | sed 's/^[[:space:]]*//' | sed 's/[[:space:]]*$//')\nif [[ -z \"$layer_values\" ]]; then\n  echo \"Error: layer must contain at least one value\" >&2\n  exit 2\nfi\nwhile IFS= read -r layer; do\n  if [[ -n \"$layer\" ]] && [[ ! \"$layer\" =~ ^(UX|Domain|Infrastructure|DB|Config)$ ]]; then\n    echo \"Error: layer values must be one of: UX, Domain, Infrastructure, DB, Config\" >&2\n    echo \"Got: $layer\" >&2\n    exit 2\n  fi\ndone <<< \"$layer_values\"\n\n# effort: empty or valid format (0.1h, 0.25h, 0.5h, 1h, 2h, 4h)\neffort=$(validate_field \"effort\")\nif [[ -n \"$effort\" ]]; then\n  if [[ ! \"$effort\" =~ ^(0\\.1h|0\\.25h|0\\.5h|1h|2h|4h)$ ]]; then\n    echo \"Error: effort must be one of: 0.1h, 0.25h, 0.5h, 1h, 2h, 4h (or empty)\" >&2\n    echo \"Got: $effort\" >&2\n    exit 2\n  fi\nfi\n\n# commit_hash: empty or short git hash format (7-40 hex chars)\ncommit_hash=$(validate_field \"commit_hash\")\nif [[ -n \"$commit_hash\" ]]; then\n  if [[ ! \"$commit_hash\" =~ ^[0-9a-f]{7,40}$ ]]; then\n    echo \"Error: commit_hash must be a valid short git hash (7-40 hex characters)\" >&2\n    echo \"Got: $commit_hash\" >&2\n    exit 2\n  fi\nfi\n\n# category: empty or one of Added, Changed, Removed\ncategory=$(validate_field \"category\")\nif [[ -n \"$category\" ]]; then\n  if [[ ! \"$category\" =~ ^(Added|Changed|Removed)$ ]]; then\n    echo \"Error: category must be one of: Added, Changed, Removed (or empty)\" >&2\n    echo \"Got: $category\" >&2\n    exit 2\n  fi\nfi\n\n# All validations passed\nexit 0\n",
        "plugins/core/skills/analyze-performance/SKILL.md": "---\nname: analyze-performance\ndescription: Evaluation framework for analyzing decision-making quality across five dimensions.\nuser-invocable: false\n---\n\n# Analyze Performance\n\nEvaluate a development branch's decision-making quality.\n\n## Evaluation Framework\n\nEvaluate the developer's decision-making across five dimensions. For each, provide:\n\n- A rating: Strong / Adequate / Needs Improvement\n- 1-2 sentences of evidence-based analysis\n\n### 1. Consistency\n\nDid decisions follow established patterns? Were similar problems solved similarly? Did pivots converge toward better solutions rather than oscillate indecisively?\n\n### 2. Intuitivity\n\nWere solutions obvious and easy to understand? Did decisions align with common expectations? Would another developer find the choices natural?\n\n### 3. Describability\n\nDid final names land well? Were naming improvements made when better options were discovered? Did terminology avoid semantic conflicts and support future extension?\n\n### 4. Agility\n\nHow well did the developer respond to unexpected issues? Did they iterate effectively, incorporating lessons learned into subsequent work? Were course corrections made quickly when needed?\n\n### 5. Density\n\nDoes the code express meaning economically? Is the ratio of conceptual value to textual surface area high? Does the solution achieve its purpose without verbose scaffolding, redundant abstractions, or diluted semantics?\n\n## Output Format\n\nReturn structured markdown:\n\n```markdown\n### Decision Quality Analysis\n\n| Dimension      | Rating                            | Notes             |\n| -------------- | --------------------------------- | ----------------- |\n| Consistency    | Strong/Adequate/Needs Improvement | Brief observation |\n| Intuitivity    | ...                               | ...               |\n| Describability | ...                               | ...               |\n| Agility        | ...                               | ...               |\n| Density        | ...                               | ...               |\n\n**Strengths**: [Key positive patterns observed]\n\n**Areas for Improvement**: [Constructive suggestions]\n```\n\n## Guidelines\n\n- Be fair and constructive\n- Base ratings on evidence from tickets and commits\n- Highlight both strengths and improvement areas\n- Keep analysis concise (150-250 words total)\n- Value iteration over perfection: mid-stream improvements indicate healthy development practice, not poor planning\n- Penalize only oscillation (changing back and forth) not convergence (steadily improving toward better solutions)\n- When noting design changes, distinguish between productive iteration (good) and indecisive oscillation (needs improvement)\n- Density evaluates the expressiveness of the software artifact itself, not development process metrics (commit count, frequency). High-density code packs meaning into minimal structure. Low-density code spreads thin concepts across verbose implementations.\n",
        "plugins/core/skills/archive-ticket/SKILL.md": "---\nname: archive-ticket\ndescription: Complete commit workflow - format, archive, update changelog, and commit in one operation.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Archive Ticket\n\nComplete commit workflow after user approves implementation.\n\n## When to Use\n\nUse this skill after user approves implementation. The script handles formatting, archiving, changelog, and commit.\n\n**IMPORTANT**: Always use the script. Never manually move tickets or create changelogs.\n\n**Note**: Archiving requires being on a named branch (not detached HEAD). The script will exit with an error if not on a branch.\n\n## Instructions\n\nRun the bundled script with ticket path, commit message, repo URL, and optional description:\n\n```bash\nbash .claude/skills/archive-ticket/sh/archive.sh <ticket-path> <commit-message> <repo-url> [description] [files...]\n```\n\nExample:\n\n```bash\nbash .claude/skills/archive-ticket/sh/archive.sh \\\n  .workaholic/tickets/todo/20260115-feature.md \\\n  \"Add new feature\" \\\n  https://github.com/org/repo \\\n  \"Enables users to authenticate with session-based login, addressing the need for secure access control.\" \\\n  src/foo.ts src/bar.ts\n```\n\n## Commit Message Rules\n\n- **NO prefixes** - Do not use `[feat]`, `[fix]`, `feat:`, `fix:`, etc.\n- Start with a present-tense verb (Add, Update, Fix, Remove, Refactor)\n- Keep the title concise (50 characters or less)\n- Focus on **WHAT** changed in the title\n\n### Examples\n\n```\nAdd JSDoc comments to gateway exports\nUpdate traceparent format with W3C spec\nFix session decryption to handle invalid tokens\nRemove unused RegisterTool type after consolidation\n```\n\n## Description Rules\n\nThe optional description parameter captures the **WHY** behind the change:\n\n- 1-2 sentences explaining the motivation or problem being solved\n- Extract from the ticket's Overview section\n- Appears as a second line in CHANGELOG entries\n- Used by `/report` to generate comprehensive PR descriptions\n\n### Example\n\n```\n\"Enables users to authenticate with session-based login, addressing the need for secure access control.\"\n```\n\n## File Locations\n\nThe script manages two separate locations:\n\n- **Tickets** are archived to `.workaholic/tickets/archive/<branch>/`\n- **Changelogs** are written to `.workaholic/changelogs/<branch>.md`\n\nThis separation keeps change requests (tickets) distinct from change summaries (changelogs).\n\n## CHANGELOG Format\n\nEntries are automatically categorized based on commit verb and include optional descriptions:\n\n### Categorization\n\n- **Added**: Add, Create, Implement, Introduce\n- **Changed**: Update, Fix, Refactor (default)\n- **Removed**: Remove, Delete\n\n### Entry Format\n\n```markdown\n- Commit title ([hash](url)) - [ticket](file.md)\n  Description explaining why this change was made.\n```\n\nThe description line is optional but recommended for generating comprehensive PR summaries.\n",
        "plugins/core/skills/assess-release-readiness/SKILL.md": "---\nname: assess-release-readiness\ndescription: Analyze branch changes for release readiness, identifying concerns and special instructions.\nuser-invocable: false\n---\n\n# Assess Release Readiness\n\nAnalyze a branch to determine if it's ready for release.\n\n## Analysis Tasks\n\n1. **Review code changes**: Check `git diff main..HEAD` for:\n   - Incomplete work (TODO, FIXME, XXX comments in new code)\n   - Security concerns (hardcoded secrets, credentials)\n   - Runtime errors or obvious bugs\n\n2. **Check for blocking issues**:\n   - Tests failing (if tests exist)\n   - Type errors (if type checking exists)\n   - Missing files referenced in code\n\n3. **Identify actionable items** (not theoretical concerns):\n   - Documentation that needs updating\n   - Version numbers to bump\n   - Files to stage/commit before release\n\n## What NOT to Flag\n\n- \"Breaking changes\" for command renames - users adapt\n- API changes in a plugin - plugins are configuration, not APIs\n- Internal refactoring - doesn't affect users\n- Theoretical upgrade concerns - users pull fresh versions\n\n## Output Format\n\nReturn JSON:\n\n```json\n{\n  \"releasable\": true,\n  \"verdict\": \"Ready for release\",\n  \"concerns\": [],\n  \"instructions\": {\n    \"pre_release\": [],\n    \"post_release\": []\n  }\n}\n```\n\nOr if issues found:\n\n```json\n{\n  \"releasable\": false,\n  \"verdict\": \"Needs attention before release\",\n  \"concerns\": [\n    \"Found TODO comment in src/foo.ts\",\n    \"Tests failing in commands/drive.md\"\n  ],\n  \"instructions\": {\n    \"pre_release\": [\"Fix failing tests\", \"Remove TODO comments\"],\n    \"post_release\": []\n  }\n}\n```\n\n## Guidelines\n\n- Focus on issues that actually block releases\n- Provide actionable instructions, not theoretical warnings\n- \"Breaking change\" is rarely a real concern for plugins\n- Empty concerns array is the happy path, not a failure\n- If it doesn't require action, don't flag it\n",
        "plugins/core/skills/create-branch/SKILL.md": "---\nname: create-branch\ndescription: Create timestamped topic branch.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Create Branch\n\nCreate a new timestamped topic branch.\n\n## Instructions\n\nCreate a timestamped branch with the given prefix:\n\n```bash\ngit checkout -b \"<prefix>-$(date +%Y%m%d-%H%M%S)\"\n```\n\n### Valid Prefixes\n\n- **feat** - New feature\n- **fix** - Bug fix\n- **refact** - Refactoring\n\n### Output\n\nThe script outputs the created branch name:\n\n```\nfeat-20260120-205418\n```\n\nThe branch is automatically checked out after creation.\n",
        "plugins/core/skills/create-pr/SKILL.md": "---\nname: create-pr\ndescription: Create or update GitHub PR from story file with proper title derivation.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Create PR\n\nCreate or update a GitHub pull request using the story file as PR content.\n\n## Derive PR Title\n\nExtract the first item from the Summary section of the story file:\n\n```markdown\n## 1. Summary\n\n1. First meaningful change\n```\n\nUse that first item as the title. If multiple items exist, append \"etc\" (e.g., \"Add dark mode toggle etc\").\n\n## Create or Update PR\n\nRun the bundled script:\n\n```bash\nbash .claude/skills/create-pr/sh/create-or-update.sh <branch-name> \"<title>\"\n```\n\n### What the Script Does\n\n1. Strips YAML frontmatter from `.workaholic/stories/<branch-name>.md`\n2. Writes clean content to `/tmp/pr-body.md`\n3. Checks if PR exists for the branch\n4. Creates new PR or updates existing one\n5. Outputs the result in required format\n\n## Output Format\n\nExactly one line:\n\n```\nPR created: <URL>\n```\n\nor\n\n```\nPR updated: <URL>\n```\n\nThis output format is required by the story command.\n",
        "plugins/core/skills/create-ticket/SKILL.md": "---\nname: create-ticket\ndescription: Create implementation tickets with proper format and conventions.\nuser-invocable: false\n---\n\n# Create Ticket\n\nGuidelines for creating implementation tickets in `.workaholic/tickets/`.\n\n## Frontmatter Template (REQUIRED - DO NOT SKIP)\n\n```yaml\n---\ncreated_at: <run: date -Iseconds>\nauthor: <run: git config user.email>\ntype: <enhancement | bugfix | refactoring | housekeeping>\nlayer: [<UX | Domain | Infrastructure | DB | Config>]\neffort: <leave empty - filled after implementation>\ncommit_hash: <leave empty - filled when archived>\ncategory: <leave empty - filled when archived>\n---\n```\n\n**All fields are mandatory.** Run the shell commands to fill `created_at` and `author`.\n\n## Filename Convention\n\nFormat: `YYYYMMDDHHmmss-<short-description>.md`\n\nUse current timestamp: `date +%Y%m%d%H%M%S`\n\nExample: `20260114153042-add-dark-mode.md`\n\n## File Structure\n\n```markdown\n---\ncreated_at: YYYY-MM-DDTHH:MM:SS+TZ\nauthor: <git user.email>\ntype: enhancement | bugfix | refactoring | housekeeping\nlayer: [<layers affected>]\neffort: <filled after implementation>\ncommit_hash: <filled when archived>\ncategory: <filled when archived>\n---\n\n# <Title>\n\n## Overview\n\n<Brief description of what will be implemented>\n\n## Key Files\n\n- `path/to/file.ts` - <why this file is relevant>\n\n## Related History\n\n<1-2 sentence summary synthesizing what historical tickets reveal about this area>\n\nPast tickets that touched similar areas:\n\n- [20260127010716-rename-terminology-to-terms.md](.workaholic/tickets/archive/<branch>/20260127010716-rename-terminology-to-terms.md) - Renamed terminology directory (same layer: Config)\n- [20260125113858-auto-commit-ticket-on-creation.md](.workaholic/tickets/archive/<branch>/20260125113858-auto-commit-ticket-on-creation.md) - Modified ticket.md (same file)\n\n## Implementation Steps\n\n1. <Step 1>\n2. <Step 2>\n   ...\n\n## Considerations\n\n- <Any trade-offs, risks, or things to watch out for>\n```\n\n## Frontmatter Fields\n\n### Required at Creation\n\n- **created_at**: Creation timestamp in ISO 8601 format. Use `date -Iseconds`\n- **author**: Git email. Use `git config user.email`\n- **type**: Infer from request context:\n  - `enhancement` - New features or capabilities (keywords: add, create, implement, new)\n  - `bugfix` - Fixing broken behavior (keywords: fix, bug, broken, error)\n  - `refactoring` - Restructuring without changing behavior (keywords: refactor, restructure, reorganize)\n  - `housekeeping` - Maintenance, cleanup, documentation (keywords: clean, update, remove, deprecate)\n- **layer**: Architectural layers affected (YAML array, can specify multiple):\n  - `UX` - User interface, components, styling\n  - `Domain` - Business logic, models, services\n  - `Infrastructure` - External integrations, APIs, networking\n  - `DB` - Database, storage, migrations\n  - `Config` - Configuration, build, tooling\n\n### Filled After Implementation\n\n- **effort**: Time spent in numeric hours. Valid: `0.1h`, `0.25h`, `0.5h`, `1h`, `2h`, `4h`. Invalid: `XS`, `S`, `M`, `10m`. Leave empty when creating ticket.\n- **commit_hash**: Short git commit hash. Set automatically by archive script.\n- **category**: Change category (Added, Changed, or Removed). Set automatically by archive script based on commit message verb.\n\n## Exploring the Codebase\n\nBefore writing a ticket:\n\n- Use Glob, Grep, and Read tools to find relevant files\n- Understand existing patterns, architecture, and conventions\n- Identify files that will need to be modified or created\n\n## Related History\n\nThe Related History section is populated by the `history-discoverer` subagent (invoked by `/ticket` command).\n\n**Link format**: Use markdown links with repository-relative paths:\n```markdown\n- [filename.md](.workaholic/tickets/archive/<branch>/filename.md) - Description (match reason)\n```\n\nThe full path includes the branch directory from the search results (e.g., `feat-20260126-214833`).\n\nIf the subagent returns no matches, omit the Related History section entirely.\n\n## Writing Guidelines\n\n- Focus on the \"why\" and \"what\", not just \"how\"\n- Keep implementation steps actionable and specific\n- Reference existing code patterns when applicable\n- Use the Write tool directly - it creates parent directories automatically\n",
        "plugins/core/skills/discover-history/SKILL.md": "---\nname: discover-history\ndescription: Search archived tickets by keywords to find related historical context.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Discover History\n\nSearch archived tickets to find related past work.\n\n## Instructions\n\nRun the bundled script with keywords extracted from the ticket request:\n\n```bash\nbash .claude/skills/discover-history/sh/search.sh <keyword1> [keyword2] ...\n```\n\n### Keyword Extraction\n\nExtract 3-5 keywords from:\n- Key file paths (e.g., `ticket.md`, `drive.md`)\n- Domain terms (e.g., `branch`, `commit`, `archive`)\n- Layer names (e.g., `Config`, `UX`)\n\n### Output Format\n\nThe script returns matches sorted by relevance (match count):\n\n```\n5 .workaholic/tickets/archive/feat-xxx/ticket-a.md\n3 .workaholic/tickets/archive/feat-yyy/ticket-b.md\n```\n\n### Interpreting Results\n\n- Higher count = more keyword matches = more relevant\n- Read top 5 tickets to understand context\n- Extract: title, overview, key files, layer\n",
        "plugins/core/skills/discover-source/SKILL.md": "---\nname: discover-source\ndescription: Guidelines for exploring source code to understand context.\nuser-invocable: false\n---\n\n# Discover Source\n\nGuidelines for finding and analyzing source code related to a ticket.\n\n## Search Strategy\n\n1. **File patterns**: Search for files matching keywords from the request\n2. **Code patterns**: Grep for function names, class names, imports\n3. **Dependencies**: Trace imports to understand relationships\n\n## Analysis Focus\n\n- Entry points and main flows\n- Data structures and types\n- Integration points\n- Existing patterns to follow\n\n## Output Format\n\nProvide structured JSON with:\n- `summary`: High-level synthesis\n- `files`: List of relevant files with purpose and relevance\n- `code_flow`: How components interact\n",
        "plugins/core/skills/drive-workflow/SKILL.md": "---\nname: drive-workflow\ndescription: Implementation workflow for processing tickets.\nuser-invocable: false\n---\n\n# Drive Workflow\n\nStep-by-step workflow for implementing a single ticket during `/drive`.\n\n## Steps\n\n### 1. Read and Understand the Ticket\n\n- Read the ticket file to understand requirements\n- Identify key files mentioned in the ticket\n- Understand the implementation steps outlined\n\n### 2. Implement the Ticket\n\n- Follow the implementation steps in the ticket\n- Use existing patterns and conventions in the codebase\n- Run type checks (per CLAUDE.md) to verify changes\n- Fix any type errors or test failures before proceeding\n\n### 3. Ask User to Review Implementation\n\n**STOP and ask the user to review the implementation before proceeding.**\n\nShow ticket context to help user understand what they're reviewing:\n\n- Display the ticket title (H1 heading from ticket file)\n- Include a brief summary (first 1-2 sentences from Overview section)\n- Show a summary of changes made\n\nUse AskUserQuestion tool to confirm:\n\n- \"Approve\" - implementation is correct, proceed to commit and continue to next ticket\n- \"Approve and stop\" - implementation is correct, commit this ticket but stop driving\n- \"Abandon\" - write failure analysis, discard changes, and continue to next ticket\n\n**Do NOT proceed to commit until user explicitly approves.**\n\n#### Approval Prompt Format\n\n```\n**Ticket: <Title from H1>**\n<Summary from Overview section - first 1-2 sentences>\n\nImplementation complete. Changes made:\n- <Change 1>\n- <Change 2>\n\nDo you approve this implementation?\n[Approve / Approve and stop / Abandon]\n```\n\n### 4. Update Effort and Write Final Report\n\nAfter user approves:\n\n1. **Update the `effort` field** in the ticket's YAML frontmatter with actual time spent in numeric hours. Valid values: `0.1h`, `0.25h`, `0.5h`, `1h`, `2h`, `4h`. Do NOT use t-shirt sizes (XS, S, M) or minutes (10m). Estimate based on implementation complexity.\n\n2. **Append a \"## Final Report\" section** to the ticket file.\n\n**If no insights discovered:**\n\n```markdown\n## Final Report\n\nDevelopment completed as planned.\n```\n\n**If meaningful insights were discovered during implementation:**\n\nAdd a \"### Discovered Insights\" subsection capturing learnings that help future developers understand the codebase:\n\n```markdown\n## Final Report\n\nDevelopment completed as planned.\n\n### Discovered Insights\n\n- **Insight**: <what was discovered>\n  **Context**: <why this matters for understanding the codebase>\n```\n\n#### What Makes a Good Insight\n\nInclude insights that fall into these categories:\n\n- **Architectural patterns**: Hidden design decisions or conventions not documented elsewhere\n- **Code relationships**: Non-obvious dependencies or coupling between components\n- **Historical context**: Why something exists in its current form (discovered via git blame or comments)\n- **Edge cases**: Gotchas or surprising behaviors that future developers should know\n\n#### Insight Guidelines\n\n- Keep insights actionable and specific, not vague observations\n- Insights should benefit someone reading the ticket months later\n- Don't duplicate information already in the ticket's Overview or Implementation Steps\n- If no meaningful insights were discovered, omit the subsection entirely\n\nThis creates a historical record of decisions and discoveries made during implementation.\n\n### 5. Commit and Archive Using Skill\n\nAfter writing the final report, run the archive-ticket skill which handles everything:\n\n```bash\nbash .claude/skills/archive-ticket/sh/archive.sh \\\n  <ticket-path> \\\n  \"<commit-message>\" \\\n  <repo-url> \\\n  \"<description>\" \\\n  [modified-files...]\n```\n\n**CRITICAL**: The archive script is the ONLY way to archive tickets. It handles everything automatically.\n\n#### Prohibited Actions\n\nNEVER do any of the following:\n\n- NEVER use `mv` or `git mv` to move ticket files\n- NEVER create directories like `done/`, `completed/`, `finished/`, or any custom archive location\n- NEVER manually update CHANGELOG files\n- NEVER manually set `commit_hash` or `category` frontmatter fields\n\nThe ONLY valid archive location is `.workaholic/tickets/archive/<branch>/`. The script determines the branch name and creates the directory. Any manual file operations will result in incorrect archive structure.\n\n**Note**: The archive script uses `git add -A`, which includes:\n\n- All implementation changes\n- The archived ticket file\n- Any uncommitted ticket files in `.workaholic/tickets/todo/`\n- CHANGELOG updates\n\nThis means newly created tickets are automatically included in drive commits.\n\n### After Committing\n\n- If user selected \"Approve\": automatically proceed to the next ticket without asking for confirmation\n- If user selected \"Approve and stop\": stop driving and report how many tickets remain (e.g., \"Stopped. 2 tickets remaining in queue.\")\n\n### If User Selects \"Abandon\"\n\nWhen the user selects \"Abandon\", do NOT commit implementation changes. Instead:\n\n1. **Discard implementation changes**: Run `git restore .` to revert all uncommitted changes\n2. **Append Failure Analysis section** to the ticket file:\n\n   ```markdown\n   ## Failure Analysis\n\n   ### What Was Attempted\n   - <Brief description of the implementation approach>\n\n   ### Why It Failed\n   - <Reason the implementation didn't work or was abandoned>\n\n   ### Insights for Future Attempts\n   - <Learnings that could help if this is reattempted>\n   ```\n\n3. **Move ticket to fail directory**:\n   ```bash\n   mkdir -p .workaholic/tickets/fail\n   mv <ticket-path> .workaholic/tickets/fail/\n   ```\n4. **Commit the ticket move** to preserve the failure analysis in git history:\n   ```bash\n   git add .workaholic/tickets/\n   git commit -m \"Abandon: <ticket-title>\"\n   ```\n5. **Continue to next ticket** without asking for confirmation\n\nThis allows users to abandon a failed implementation attempt while preserving insights from the attempt for future reference.\n\n## Commit Message Rules\n\n- NO prefixes (no `[feat]`, `fix:`, etc.)\n- Start with present-tense verb (Add, Update, Fix, Remove, Refactor)\n- Focus on **WHAT** changed in the title\n- Keep title concise (50 chars or less)\n\n## Description Rules\n\n- 1-2 sentences explaining the motivation behind the change\n- Capture the \"why\" from the ticket's Overview section\n- This appears in CHANGELOG and helps generate meaningful PR descriptions\n",
        "plugins/core/skills/generate-changelog/SKILL.md": "---\nname: generate-changelog\ndescription: Generate changelog entries from archived tickets grouped by category.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Changelog Generation\n\nGenerate changelog entries from archived tickets for a branch.\n\n## When to Use\n\nUse this skill to generate formatted changelog entries from archived tickets. The entries are grouped by category (Added, Changed, Removed) and formatted with links to commits and tickets.\n\n## Instructions\n\nRun the bundled script to generate changelog entries:\n\n```bash\nbash .claude/skills/generate-changelog/sh/generate.sh <branch-name> <repo-url>\n```\n\nThe script outputs formatted markdown that can be inserted into CHANGELOG.md.\n\n### Output Format\n\n```markdown\n### Added\n\n- Title ([hash](commit-url)) - [ticket](ticket-path)\n\n### Changed\n\n- Title ([hash](commit-url)) - [ticket](ticket-path)\n\n### Removed\n\n- Title ([hash](commit-url)) - [ticket](ticket-path)\n```\n\nOnly categories with entries are included.\n\n## Entry Format\n\nEach entry includes:\n\n- **Title**: H1 heading from ticket file\n- **hash**: Short commit hash linking to GitHub commit\n- **ticket**: Relative path to archived ticket file\n",
        "plugins/core/skills/translate/SKILL.md": "---\nname: translate\ndescription: Translation policies for converting English markdown files to other languages (primarily Japanese). Use when translating documentation or README files.\nuser-invocable: false\n---\n\n# Translation Policies\n\nGuidelines for translating English markdown files to other languages while preserving formatting, code blocks, and technical terminology.\n\n## Supported Languages\n\n| Code | Language |\n| ---- | -------- |\n| ja   | Japanese |\n| zh   | Chinese  |\n| ko   | Korean   |\n| de   | German   |\n| fr   | French   |\n| es   | Spanish  |\n\n## Preservation Rules\n\n**Preserve unchanged:**\n\n- All code blocks (fenced and inline)\n- Code comments inside code blocks\n- Frontmatter keys (translate values only)\n- File paths and URLs\n- Markdown structure (headings, lists, tables)\n- HTML tags and attributes\n\n**Translate:**\n\n- Prose content (paragraphs, list items)\n- Frontmatter values (title, description)\n- Table cell content (except code)\n- Image alt text\n\n## Technical Terms\n\n**For developer documentation**: Keep technical terms in English without translation:\n\n- plugin, command, skill, rule, ticket, workflow\n- repository, branch, commit, merge, pull request\n- Any programming concepts (function, class, module, etc.)\n\n**For user-facing documentation**: May add annotations on first occurrence if it improves clarity:\n\n```markdown\nThe pluginï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼‰system allows...\n```\n\n## Output Naming\n\nTwo patterns available:\n\n1. **Suffix pattern**: `README.ja.md` (same directory)\n2. **Directory pattern**: `ja/README.md` (parallel structure)\n\nDefault recommendation: suffix pattern for single files, directory pattern for multiple related files.\n\n## Style Guide\n\n**Tone:**\n\n- Use formal/polite tone (ã§ã™/ã¾ã™ for Japanese)\n- Match the tone of the original document\n- Documentation style, not conversational\n\n**Accuracy:**\n\n- Preserve original meaning over literal translation\n- Technical accuracy is paramount\n- When in doubt, keep English term with annotation\n\n## Terms to Keep in English\n\nThese terms should remain in English (not translated) for developer documentation:\n\n- **Core concepts**: plugin, command, skill, rule, ticket, workflow\n- **Git terms**: repository, branch, commit, merge, pull request\n- **Programming**: function, class, module, component, API, endpoint\n\n## Example\n\nInput (`README.md`):\n\n```markdown\n# My Plugin\n\nThis plugin provides workflow automation.\n\n## Installation\n\nRun the following command:\n\n\\`\\`\\`bash\nnpm install my-plugin\n\\`\\`\\`\n```\n\nOutput (`README.ja.md`) for developer documentation:\n\n```markdown\n# My Plugin\n\nã“ã® plugin ã¯ workflow ã®è‡ªå‹•åŒ–ã‚’æä¾›ã—ã¾ã™ã€‚\n\n## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\nä»¥ä¸‹ã® command ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š\n\n\\`\\`\\`bash\nnpm install my-plugin\n\\`\\`\\`\n```\n\n## .workaholic/ Translation Requirements\n\n**CRITICAL RULE**: When creating or editing any `.md` file in `.workaholic/`, you MUST also create or update the corresponding `_ja.md` translation.\n\n### File Naming for .workaholic/\n\nUse suffix-based naming for translations:\n\n```\n.workaholic/specs/user-guide/\n  commands.md           # English\n  commands_ja.md        # Japanese translation\n  README.md             # English index\n  README_ja.md          # Japanese index\n```\n\n### Mirror README Link Structure\n\nEach language's README must link to documents in the same language:\n\n```\nREADME.md:                              README_ja.md:\n- [Getting Started](getting-started.md) - [ã¯ã˜ã‚ã«](getting-started_ja.md)\n- [Commands](commands.md)               - [ã‚³ãƒžãƒ³ãƒ‰](commands_ja.md)\n```\n\n### Workflow for .workaholic/\n\n1. Create or update the English document first\n2. Create or update the Japanese translation (`_ja.md`)\n3. Update BOTH README.md and README_ja.md to maintain parallel link structure\n\n### Enforcement\n\nThis is not optional. Every document change in `.workaholic/` requires its translation counterpart.\n",
        "plugins/core/skills/write-changelog/SKILL.md": "---\nname: write-changelog\ndescription: Generate and format changelog entries for CHANGELOG.md from archived tickets.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Write Changelog\n\nGenerate and update CHANGELOG.md with entries from archived tickets.\n\n## Generate Entries\n\nRun the bundled script to generate changelog entries:\n\n```bash\nbash .claude/skills/generate-changelog/sh/generate.sh <branch-name> <repo-url>\n```\n\nThe script outputs formatted markdown grouped by category (Added, Changed, Removed).\n\n## Derive Issue URL\n\nFrom branch name:\n\n- Extract issue number from branch (e.g., `i111-20260113-1832` â†’ `111`)\n- Branch format: `i<issue>-<date>-<time>` or `feat-<date>-<time>` (no issue)\n\n## Update CHANGELOG.md\n\nAdd a new section at the top of the changelog (after the `# Changelog` header):\n\n```markdown\n## [branch-name](issue-url)\n\n<entries from script>\n```\n\nIf no issue number exists in branch name, use just the branch name without link:\n\n```markdown\n## branch-name\n```\n\n## Verify Structure\n\nEnsure the changelog maintains proper structure:\n\n- Title line at top: `# Changelog`\n- Newest section first\n- Blank lines between sections\n",
        "plugins/core/skills/write-spec/SKILL.md": "---\nname: write-spec\ndescription: Spec document structure, formatting rules, and guidelines for updating .workaholic/specs/.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Write Spec\n\nGuidelines for writing and updating specification documents in `.workaholic/specs/`.\n\n## Gather Context\n\nRun the bundled script to collect information about what changed:\n\n```bash\nbash .claude/skills/write-spec/sh/gather.sh [base-branch]\n```\n\nDefault base branch is `main`.\n\n### Output Sections\n\nThe script outputs structured information:\n\n```\n=== BRANCH ===\n<current branch name>\n\n=== TICKETS ===\n<list of archived tickets for this branch, or \"No archived tickets\">\n\n=== SPECS ===\n<list of existing spec files>\n\n=== DIFF ===\n<git diff stat against base branch>\n\n=== COMMIT ===\n<current short commit hash>\n```\n\n### Using the Output\n\n- **BRANCH**: Use to locate archived tickets\n- **TICKETS**: Read these to understand what changed and why\n- **SPECS**: Survey these to find documents needing updates\n- **DIFF**: Use when no tickets exist to understand changes\n- **COMMIT**: Use in frontmatter `commit_hash` field\n\n## Directory Structure\n\n| Audience   | Directory            | Content                                  |\n| ---------- | -------------------- | ---------------------------------------- |\n| Users      | `.workaholic/guides/` | How to use: commands, workflows, setup   |\n| Developers | `.workaholic/specs/`  | How it works: architecture, contributing |\n\n## Frontmatter\n\nRequired for every spec file:\n\n```yaml\n---\ntitle: Document Title\ndescription: Brief description of this document\ncategory: user | developer\nmodified_at: <ISO 8601 datetime>\ncommit_hash: <from context COMMIT section>\n---\n```\n\n## File Naming\n\n- Use kebab-case: `getting-started.md`, `command-reference.md`\n- Exception: `README.md` uses uppercase\n\n## Content Style\n\n- Write full paragraphs, not bullet-point fragments\n- Code blocks must specify language\n- Links use relative paths within `.workaholic/`\n- Use Mermaid charts for diagrams\n\n## Design Policy\n\n- Rewrite to reflect present reality, not append changes\n- Think \"what does a new reader need to know today?\"\n\n## Cross-Cutting Concerns\n\nBefore updating individual docs, analyze changes for patterns that span multiple components:\n\n- **Data flow paths**: How data moves through layers\n- **Shared concepts**: Abstractions used across multiple files\n- **Integration points**: Where different subsystems connect\n- **Architectural patterns**: Design decisions that affect multiple areas\n\nFor each cross-cutting concern:\n\n- Check if `.workaholic/specs/` already has a document covering this concept\n- Prefer extending existing docs over creating new files for minor patterns\n\n**Writing cross-cutting documentation:**\n\n- Prefer prose over file listings - explain how components work together\n- Use Mermaid sequence diagrams to show interactions between layers\n- Document the \"why\" behind design decisions, not just implementation details\n\n## Index File Updates\n\n**When adding a document:**\n\n- Add link to parent README\n- Include brief description\n\n**When removing a document:**\n\n- Remove link from parent README\n- Verify no other docs link to it\n\n**i18n README mirroring:**\n\n- Any document added to one README must have its translation linked in the other\n- Follow the preloaded `translate` skill for translation requirements\n\n## Critical Rules\n\n- **\"No updates needed\" is almost always wrong** - Re-analyze if you think nothing changed\n- **Every ticket affects docs somehow** - Even small changes have documentation implications\n- **Only delete within `.workaholic/`** - Safety constraint for file deletions\n- **No orphan documents** - Every doc must be linked from a parent README\n- **Category matches directory** - A doc with `category: user` must be in `guides/`, `category: developer` in `specs/`\n- **Update `modified_at`** - Set to current datetime (use `date -Iseconds`) when modifying any doc\n- **Update `commit_hash`** - Use value from context COMMIT section\n",
        "plugins/core/skills/write-story/SKILL.md": "---\nname: write-story\ndescription: Story content structure, templates, and writing guidelines for branch narratives.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Write Story\n\nGenerate a branch story that serves as the single source of truth for PR content.\n\n## Calculate Metrics\n\nRun the bundled script to calculate performance metrics:\n\n```bash\nbash .claude/skills/write-story/sh/calculate.sh [base-branch]\n```\n\nDefault base branch is `main`.\n\n### Output Format (JSON)\n\n```json\n{\n  \"commits\": 15,\n  \"started_at\": \"2026-01-15T10:30:00+09:00\",\n  \"ended_at\": \"2026-01-15T14:45:00+09:00\",\n  \"duration_hours\": 4.25,\n  \"duration_days\": 1,\n  \"velocity\": 3.53,\n  \"velocity_unit\": \"hour\"\n}\n```\n\n### Velocity Unit Selection\n\n- `duration_hours < 8`: velocity is commits/hour, unit is \"hour\"\n- `duration_hours >= 8`: velocity is commits/day, unit is \"day\"\n\nBusiness days are more meaningful for multi-day work since developers have breaks between sessions.\n\n## Story Content Structure\n\nThe story content (this IS the PR description):\n\n```markdown\nRefs #<issue-number>\n\n## 1. Overview\n\n[2-3 sentence overview capturing the essence of this branch. What was the main goal? What approach was taken? What was achieved? Write in past tense.]\n\n**Highlights:**\n\n1. First meaningful change (from CHANGELOG entry titles)\n2. Second meaningful change (from CHANGELOG entry titles)\n3. ...\n\n## 2. Motivation\n\n[Synthesize the \"why\" from ticket Overviews. What problem or opportunity started this work? Write as a narrative, not a list.]\n\n## 3. Journey\n\n```mermaid\nflowchart LR\n  subgraph Subagents[Subagent Architecture]\n    direction TB\n    s1[Extract spec-writer] --> s2[Extract story-writer] --> s3[Extract changelog-writer] --> s4[Extract pr-creator]\n  end\n\n  subgraph GitSafety[Git Command Safety]\n    direction TB\n    g1[Add git guidelines] --> g2[Strengthen rules] --> g3[Embed in agents] --> g4[Use deny rule]\n  end\n\n  subgraph Commands[Command Simplification]\n    direction TB\n    c1[Remove /sync] --> c2[Remove /commit] --> c3[Rename to /report]\n  end\n\n  Subagents --> GitSafety --> Commands\n```\n\n**Flowchart Guidelines:**\n- Use `flowchart LR` for horizontal timeline (subgraphs arranged left-to-right)\n- Use `direction TB` inside each subgraph for vertical item flow\n- Group by theme: each subgraph represents one concern or decision area\n- Connect subgraphs in timeline order to show work progression\n- Use descriptive node labels: `id[Description]` syntax\n- Maximum 3-5 subgraphs per diagram\n\n[Brief summary (50-100 words). Let the flowchart carry detail; the prose provides high-level overview only.]\n\n## 4. Changes\n\nOne subsection per ticket, in chronological order:\n\n### 4.1. <Ticket title> ([hash](https://github.com/qmu/workaholic/commit/hash))\n\nBrief 1-2 sentence description from ticket Overview.\n\n### 4.2. <Next ticket title> ([hash](https://github.com/qmu/workaholic/commit/hash))\n\nBrief 1-2 sentence description from ticket Overview.\n\n### ...\n\n**Changes Guidelines:**\n- One subsection per ticket (not grouped by theme)\n- Format: `### 4.N. <Title> ([hash](https://github.com/qmu/workaholic/commit/hash))` - link to GitHub commit\n- Content: 1-2 sentences from ticket Overview\n- Chronological order matches ticket creation time\n\n## 5. Outcome\n\n[Summarize what was accomplished. Reference key tickets for details.]\n\n## 6. Historical Analysis\n\n[Context from related past work. What similar problems were solved before? What patterns emerge from the Related History sections of tickets? If no related tickets exist, write \"No related historical context.\"]\n\n## 7. Concerns\n\n[Risks, trade-offs, or issues discovered during implementation. Known limitations or edge cases. Things reviewers should pay attention to. Write \"None\" if nothing to report.]\n\n## 8. Ideas\n\n[Enhancement suggestions for future work. Improvements that were out of scope. \"Nice to have\" features identified during implementation. Write \"None\" if nothing to report.]\n\n## 9. Performance\n\n**Metrics**: <commits> commits over <duration> <unit> (<velocity> commits/<unit>)\n\n### 9.1. Pace Analysis\n\n[Quantitative reflection on development pace - was velocity consistent or varied? Were commits small and focused or large? Any patterns in timing?]\n\n### 9.2. Decision Review\n\n| Dimension      | Rating                            | Notes             |\n| -------------- | --------------------------------- | ----------------- |\n| Consistency    | Strong/Adequate/Needs Improvement | Brief observation |\n| Intuitivity    | ...                               | ...               |\n| Describability | ...                               | ...               |\n| Agility        | ...                               | ...               |\n| Density        | ...                               | ...               |\n\n**Strengths**: [Key positive patterns observed]\n\n**Areas for Improvement**: [Constructive suggestions]\n```\n\n**Invoking performance-analyst:**\n\nUse the Task tool with `subagent_type: \"core:performance-analyst\"` and provide:\n\n- Archived tickets for this branch\n- Git log (main..HEAD)\n- Performance metrics from frontmatter\n\nThe subagent returns the table and analysis in the format shown above. Include its complete output in section 9.2.\n\n```markdown\n## 10. Release Preparation\n\n**Verdict**: [Ready for release / Needs attention before release]\n\n### 10.1. Concerns\n\n- [List any concerns from release-readiness analysis]\n- Or \"None - changes are safe for release\"\n\n### 10.2. Pre-release Instructions\n\n- [Steps to take before running /release]\n- Or \"None - standard release process applies\"\n\n### 10.3. Post-release Instructions\n\n- [Steps to take after release]\n- Or \"None - no special post-release actions needed\"\n```\n\n**Release-readiness input:**\n\nThe release-readiness JSON is provided by the orchestrator (`/story` command) which invokes release-readiness as a parallel agent. The JSON contains:\n\n```json\n{\n  \"releasable\": true/false,\n  \"verdict\": \"Ready for release\" / \"Needs attention before release\",\n  \"concerns\": [],\n  \"instructions\": {\n    \"pre_release\": [],\n    \"post_release\": []\n  }\n}\n```\n\nFormat this JSON into section 10.\n\n```markdown\n## 11. Notes\n\nAdditional context for reviewers or future reference.\n```\n\n## Story Frontmatter\n\nCreate `.workaholic/stories/<branch-name>.md` with YAML frontmatter:\n\n```yaml\n---\nbranch: <branch-name>\nstarted_at: <from metrics.started_at>\nended_at: <from metrics.ended_at>\ntickets_completed: <count of tickets>\ncommits: <from metrics.commits>\nduration_hours: <from metrics.duration_hours>\nduration_days: <from metrics.duration_days if velocity_unit is \"day\">\nvelocity: <from metrics.velocity>\nvelocity_unit: <from metrics.velocity_unit>\n---\n```\n\n## Writing Guidelines\n\n- Write in third person (\"The developer discovered...\" not \"I discovered...\")\n- Connect tickets into a narrative arc, not a list\n- Highlight decision points and trade-offs\n- Keep Motivation/Journey/Outcome concise (Journey: 50-100 words)\n- Changes section: one entry per ticket, brief descriptions\n- Historical Analysis/Concerns/Ideas can be \"None\" if empty\n\n## Updating Stories Index\n\nUpdate both `.workaholic/stories/README.md` and `README_ja.md` to include the new story:\n\n**README.md**:\n- Add entry: `- [<branch-name>.md](<branch-name>.md) - Brief description of the branch work`\n\n**README_ja.md**:\n- Add entry: `- [<branch-name>_ja.md](<branch-name>_ja.md) - ãƒ–ãƒ©ãƒ³ãƒã®ä½œæ¥­å†…å®¹ã®ç°¡æ½”ãªèª¬æ˜Ž`\n\n## Translation\n\nPer `.workaholic/` i18n requirements, create a Japanese translation alongside the English story:\n\n1. Create `<branch-name>_ja.md` with translated content\n2. Keep frontmatter in English (only translate prose content)\n3. Follow the preloaded `translate` skill for translation policies\n4. Technical terms (commit, branch, plugin, etc.) should remain in English\n",
        "plugins/core/skills/write-terms/SKILL.md": "---\nname: write-terms\ndescription: Term document structure, formatting rules, and guidelines for updating .workaholic/terms/.\nallowed-tools: Bash\nuser-invocable: false\n---\n\n# Write Terms\n\nGuidelines for writing and updating terminology documentation in `.workaholic/terms/`.\n\n## Gather Context\n\nRun the bundled script to collect information about what changed:\n\n```bash\nbash .claude/skills/write-terms/sh/gather.sh [base-branch]\n```\n\nDefault base branch is `main`.\n\n### Output Sections\n\nThe script outputs structured information:\n\n```\n=== BRANCH ===\n<current branch name>\n\n=== TICKETS ===\n<list of archived tickets for this branch, or \"No archived tickets\">\n\n=== TERMS ===\n<list of existing term files>\n\n=== DIFF ===\n<git diff stat against base branch>\n\n=== COMMIT ===\n<current short commit hash>\n```\n\n### Using the Output\n\n- **BRANCH**: Use to locate archived tickets\n- **TICKETS**: Read these to understand what changed and what new terms may exist\n- **TERMS**: Survey these to find documents needing updates\n- **DIFF**: Use when no tickets exist to understand changes\n- **COMMIT**: Use in frontmatter `commit_hash` field\n\n## Term Categories\n\n| File                  | Terms                                    |\n| --------------------- | ---------------------------------------- |\n| `core-concepts.md`    | plugin, command, skill, rule, agent      |\n| `artifacts.md`        | ticket, spec, story, changelog           |\n| `workflow-terms.md`   | drive, archive, sync, release            |\n| `file-conventions.md` | kebab-case, frontmatter, icebox, archive |\n| `inconsistencies.md`  | Known terminology issues                 |\n\n## Term Entry Format\n\n```markdown\n## term-name\n\nBrief one-sentence definition.\n\n### Definition\n\nFull explanation of what this term means in the Workaholic context.\n\n### Usage Patterns\n\n- **Directory names**: examples\n- **File names**: examples\n- **Code references**: examples\n\n### Related Terms\n\n- Related term 1, related term 2\n\n### Inconsistencies (if any)\n\n- Description of inconsistency and potential resolution\n```\n\n## Frontmatter\n\nRequired for every terms file:\n\n```yaml\n---\ntitle: Document Title\ndescription: Brief description of this document\ncategory: developer\nlast_updated: YYYY-MM-DD\ncommit_hash: <short-hash>\n---\n```\n\nUse the commit hash from the COMMIT section of the context output.\n\n## Index File Updates\n\n**When adding a term:**\n\n- Add to the appropriate category file\n- If it's a major new concept, consider adding to README\n\n**When deprecating a term:**\n\n- Mark as deprecated in the definition\n- Note what replaced it\n- Keep for historical reference\n\n**i18n mirroring:**\n\nWhen terminology files have translations (e.g., `artifacts.md` and `artifacts_ja.md`):\n\n- Any term added to one file must have its translation in the other\n- Follow the preloaded `translate` skill for translation requirements\n\n## Critical Rules\n\n- **Consistency over precision** - A term should mean the same thing everywhere\n- **Every ticket may introduce terms** - Even small changes may use new terminology\n- **Only delete within `.workaholic/`** - Safety constraint for file deletions\n- **Update `last_updated`** - Set to current date when modifying any doc\n- **Update `commit_hash`** - Use value from context COMMIT section\n- **Keep translations in sync** - If `_ja.md` exists, update both files\n"
      },
      "plugins": [
        {
          "name": "core",
          "description": "Core development workflow: branch, commit, pull-request, ticket-driven development",
          "version": "1.0.24",
          "author": {
            "name": "tamurayoshiya",
            "email": "a@qmu.jp"
          },
          "source": "./plugins/core",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add qmu/workaholic",
            "/plugin install core@workaholic"
          ]
        }
      ]
    }
  ]
}