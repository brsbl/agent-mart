{
  "author": {
    "id": "fusupo",
    "display_name": "Marc Christophe",
    "avatar_url": "https://avatars.githubusercontent.com/u/233729?u=4b6c3a641d14aa30c249651611fa47e94af99a5c&v=4"
  },
  "marketplaces": [
    {
      "name": "fusupo-escapement",
      "version": null,
      "description": "Escapement - AI-code workflow system",
      "repo_full_name": "fusupo/escapement",
      "repo_url": "https://github.com/fusupo/escapement",
      "repo_description": "A structured workflow plugin for Claude Code.",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-10T06:04:04Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"fusupo-escapement\",\n  \"owner\": {\n    \"name\": \"fusupo\"\n  },\n  \"metadata\": {\n    \"description\": \"Escapement - AI-code workflow system\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"escapement\",\n      \"source\": \"./\",\n      \"description\": \"AI-code workflow system with issue tracking, smart commits, and PR creation\",\n      \"version\": \"2.0.0\",\n      \"author\": {\n        \"name\": \"fusupo\"\n      },\n      \"repository\": \"https://github.com/fusupo/escapement\",\n      \"license\": \"MIT\",\n      \"keywords\": [\"workflow\", \"git\", \"issues\", \"commits\", \"pr\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"escapement\",\n  \"description\": \"AI-code workflow system with issue tracking, smart commits, and PR creation\",\n  \"version\": \"3.1.1\",\n  \"author\": {\n    \"name\": \"fusupo\"\n  },\n  \"repository\": \"https://github.com/fusupo/escapement\",\n  \"license\": \"MIT\"\n}\n",
        "README.md": "# Escapement\n\n**Claude Code plugin for structured development workflows.** Regulated workflow, one tick at a time.\n\n## What This Is\n\nEscapement is an opinionated workflow and Claude Code plugin that provides reusable modules to streamline your development process:\n\n- **meta-workflow:** A prescribed sequential process supported by the plugin modules\n- **Skills**: Automated workflow modules (issue setup, commits, PRs, etc.)\n- **Hooks**: Session archiving on compaction\n- **Agents**: Specialized AI assistants (scratchpad-planner for codebase analysis)\n- **Multi-Project Support**: Works across all your repos simultaneously\n\n## Workflow Overview\n\nEscapement guides you from idea to merged code through a structured workflow:\n\n1. **Initialize** (`setup-work`) - Pull GitHub issue → Generate scratchpad plan → Create feature branch\n2. **Execute** (`do-work` + `commit-changes`) - Work through scratchpad tasks → Make atomic commits\n3. **Review** (`create-pr` + `review-pr`) - Create pull request → Review changes → Merge\n4. **Archive** (`archive-work`) - Clean up scratchpad → Preserve session history\n\n![High-level workflow diagram](./workflow_high_level.png)\n\nEach phase is handled by specialized skills that activate via natural language or explicit commands.\n\n## Installation\n\n### From Source (Development)\n\n```bash\n# Clone the repository\ngit clone https://github.com/fusupo/escapement.git\n\n# Run Claude Code with the plugin\nclaude --plugin-dir /path/to/escapement\n```\n\n### From Marketplace (Coming Soon)\n\n```bash\n# Once published to a marketplace\n/plugin install escapement\n```\n\n## Usage\n\n### High-Level Workflow\n\nWork proceeds through four phases:\n\n* **Initialize**: establish scope and plan\n* **Execute**: implement planned work in small steps\n* **Review**: validate and merge changes\n* **Archive**: preserve artifacts and session history\n\nThe phases are sequential but not strictly linear; refinement can push work backward before execution begins.\n\n### Initialize (`prime-session`, `setup-work`)\n\nThe session begins either from an idea or an existing GitHub issue.\n\nIf needed, project context is loaded by reading `CLAUDE.md` and related documentation.\nAn issue is created or fetched, then analyzed to produce a scratchpad plan.\n\nIf the issue is too large, it is decomposed into sub-issues.\nIf assumptions are invalid, the issue may be reworked before proceeding.\n\nA feature branch is created once the plan is acceptable.\n\nOperator involvement is primarily directional: clarifying intent and approving scope.\n\n![Initialize phase subdiagram](./workflow_initialize.png)\n\n### Execute (`do-work`, `commit-changes`)\n\nWork is driven by the scratchpad.\n\nTasks are selected one at a time, implemented, and committed as atomic changes following project conventions.\nThis loop continues until the scratchpad is complete.\n\nThe operator may intervene to adjust task order, clarify intent, or pause execution, but most actions are automated.\n\n![Execute phase subdiagram](./workflow_do_work.png)\n\n### Review (`create-pr`, `review-pr`)\n\nA pull request is created with full context from the scratchpad and commit history.\n\nThe PR is reviewed.\nIf changes are requested, work resumes and new commits are added before re-review.\n\nThis cycle repeats until the changes are accepted and merged.\n\nOperator involvement is typically focused on decision-making and judgment rather than mechanics.\n\n![Review phase subdiagram](./workflow_review.png)\n\n### Archive (`archive-work`, hooks)\n\nAfter merge, the scratchpad is archived.\n\nBefore Claude Code compacts the session, the transcript is saved via the PreCompact hook.\nThis preserves planning, execution, and review context as durable artifacts.\n\nThe session is then considered complete.\n\n![Archive phase subdiagram](./workflow_archive.png)\n\n### Full Workflow Map\n\nThis diagram shows all phases together, with swimlanes for each skill and the operator.\n\nIt illustrates where decisions occur, which actions are automated, and how control moves between skills over the life of a session.\n\n![Full swimlaned workflow diagram](./workflow.png)\n\n## Skills\n\nSkills are invoked automatically by Claude Code when relevant, or you can reference them explicitly with the `/escapement:` prefix:\n\n**Natural Language Invocation:**\n```bash\n# Claude uses the skill automatically based on context\n\"Setup GitHub issue #42\"\n\"Commit these changes\"\n\"Create a PR for this branch\"\n```\n\n**Explicit Invocation:**\n```bash\n/escapement:setup-work\n/escapement:commit-changes\n/escapement:create-pr\n```\n\n### Available Skills\n\n| Skill            | Triggers                            | Purpose                                        |\n| ---------------- | ----------------------------------- | ---------------------------------------------- |\n| `setup-work`     | \"setup issue #X\", \"start issue #X\"  | Fetch issue, create scratchpad, prepare branch |\n| `commit-changes` | \"commit\", \"commit these changes\"    | Smart commits with conventional format         |\n| `create-pr`      | \"create a PR\", \"open pull request\"  | Context-aware PR creation                      |\n| `review-pr`      | \"review PR #X\", \"check this PR\"     | Roadmap-aware code review                      |\n| `do-work`        | \"start working\", \"continue work\"    | Execute tasks from scratchpad                  |\n| `archive-work`   | \"archive this work\", \"clean up\"     | Move completed scratchpads to archive          |\n| `prime-session`  | \"orient me\", \"what is this project\" | Read project docs for context                  |\n\n## Hooks\n\nEscapement includes a **PreCompact hook** that archives your session transcript before Claude Code's automatic compaction. This preserves your work history in `SESSION_LOG_{N}.md` files.\n\n**Requirements:** `jq` must be installed for the hook to function.\n\n## Agents\n\nSpecialized subagents for delegation and deep analysis:\n\n### scratchpad-planner\n\n**Automatically invoked** during `setup-work` (Phase 2) for codebase analysis and implementation planning.\n\n**Capabilities:**\n- Reads project's CLAUDE.md for conventions and structure\n- Analyzes codebase using Grep, LSP, and code search patterns\n- Identifies affected modules and integration points\n- Finds similar implementations to learn from\n- Generates atomic task breakdowns following project conventions\n- Asks clarifying questions for ambiguous requirements\n- Supports resumable analysis for complex codebases\n\n**Benefits:**\n- **Specialized expertise**: Replaces generic exploration with focused planning methodology\n- **Project awareness**: Adapts to each project's conventions and architecture\n- **Resumability**: Can be resumed across sessions for iterative refinement\n- **Context preservation**: Maintains full analysis context, reducing repetition\n\nThe scratchpad-planner agent transforms GitHub issues into concrete, well-structured implementation plans with atomic, reviewable tasks.\n\n## Structure\n\n```\nescapement/\n├── .claude-plugin/\n│   └── plugin.json           # Plugin manifest\n├── skills/\n│   ├── setup-work/           # GitHub issue -> scratchpad workflow\n│   ├── commit-changes/       # Conventional commits\n│   ├── create-pr/            # Pull request creation\n│   ├── review-pr/            # PR review\n│   ├── do-work/              # Execute from scratchpad\n│   ├── archive-work/         # Archive completed work\n│   └── prime-session/        # Project orientation\n├── hooks/\n│   ├── hooks.json            # Hook configuration\n│   └── archive-session-log.sh # Session archiving script\n├── agents/                   # Specialized subagents\n│   └── scratchpad-planner.md # Codebase analysis for setup-work\n├── docs/                     # Extended documentation\n│   ├── WORKFLOW.md           # Workflow explanation\n│   └── CUSTOMIZATION.md      # How to customize\n├── workflow.png              # Workflow diagram\n└── README.md                 # This file\n```\n\n## Philosophy\n\n**Escapement workflow principles:**\n\n1. **Structured approach** - Clear workflow from issue to merge\n2. **Incremental progress** - Atomic commits, reviewable changes\n3. **Project awareness** - Adapts to each project's conventions\n4. **Multi-project friendly** - Works across all your repos\n\n## Per-Project Customization\n\nEscapement works across multiple projects. Each project customizes its workflow via its own `CLAUDE.md` file:\n\n```markdown\n\n# In your-project/CLAUDE.md\n\n## Project Modules\n\n- **api**: REST API endpoints\n- **frontend**: React UI components\n- **database**: Database layer\n\n## Commit Message Format\n\n{module emoji}{change type emoji} {type}({scope}): {description}\n\nExample: feat(api): Add user authentication endpoint\n\n```\n\nSee `docs/CUSTOMIZATION.md` for detailed examples and patterns.\n\n## Development\n\n### Adding a New Skill\n\n1. Create directory: `skills/your-skill-name/`\n2. Create `SKILL.md` with frontmatter:\n   ```markdown\n   ---\n   name: your-skill-name\n   description: What this skill does. Invoke when user says \"trigger phrase\".\n   tools:\n     - mcp__github__*\n     - Read\n     - Write\n   ---\n\n   # Your Skill\n\n   ## Purpose\n   ...\n   ```\n3. Test: `claude --plugin-dir /path/to/escapement`\n4. Commit and push\n\n### Adding a New Agent\n\n1. Create `agents/your-agent.md`\n2. Define specialized expertise\n3. List required tools in frontmatter\n4. Test: `claude --plugin-dir /path/to/escapement`\n5. Commit and push\n\n### Adding Hooks\n\nEdit `hooks/hooks.json` following the [Claude Code hooks documentation](https://code.claude.com/docs/en/hooks).\n\n## Multi-Project Support\n\nEscapement is installed **once** as a plugin but works across **all your projects**:\n\n```bash\n# Load plugin\nclaude --plugin-dir /path/to/escapement\n\n# Per-project customization\n~/projects/project-a/CLAUDE.md    # Project A's conventions\n~/projects/project-b/CLAUDE.md    # Project B's conventions\n~/projects/relica/CLAUDE.md       # Relica's conventions\n```\n\nSkills automatically detect the current project and read its `CLAUDE.md` for project-specific settings.\n\n## Troubleshooting\n\n### Plugin not loading\n\n```bash\n# Verify plugin structure\nls -la /path/to/escapement/.claude-plugin/\n\n# Should show:\n# plugin.json\n\n# Check manifest is valid JSON\ncat /path/to/escapement/.claude-plugin/plugin.json | jq .\n```\n\n### Skills not appearing\n\n```bash\n# Verify skills exist\nls -la /path/to/escapement/skills/\n\n# Restart Claude Code with plugin\nclaude --plugin-dir /path/to/escapement\n```\n\n### Hooks not working\n\n```bash\n# Ensure jq is installed\nwhich jq\n\n# Check hooks.json is valid\ncat /path/to/escapement/hooks/hooks.json | jq .\n\n# Verify hook script is executable\nls -la /path/to/escapement/hooks/archive-session-log.sh\n```\n\n## Contributing\n\nContributions welcome! To contribute:\n\n1. Fork or clone this repo\n2. Create feature branch\n3. Add/modify skills, hooks, or agents\n4. Test with `claude --plugin-dir ./escapement`\n5. Submit PR with description of changes\n\n## License\n\nMIT\n\n## Maintainer\n\nfusupo\n\n## Version\n\n**Current:** 3.0.0 (Escapement rename)\n\n**Changelog:**\n- 3.0.0 (2026-01-02): Renamed project from \"muleteer\" to \"escapement\"\n  - Breaking change: plugin name changed\n  - Updated all references and branding\n- 2.0.0 (2025-12-31): Converted to Claude Code plugin architecture\n  - Replaced symlink installation with plugin manifest\n  - Moved hooks to `hooks/hooks.json` with `${CLAUDE_PLUGIN_ROOT}`\n  - Removed install.sh and uninstall.sh\n  - Updated skill tool specifications\n- 1.0.0 (2025-12-27): Initial Escapement release\n  - Generic workflow system\n  - Multi-project support\n  - Migrated from CRG-specific implementation\n"
      },
      "plugins": [
        {
          "name": "escapement",
          "source": "./",
          "description": "AI-code workflow system with issue tracking, smart commits, and PR creation",
          "version": "2.0.0",
          "author": {
            "name": "fusupo"
          },
          "repository": "https://github.com/fusupo/escapement",
          "license": "MIT",
          "keywords": [
            "workflow",
            "git",
            "issues",
            "commits",
            "pr"
          ],
          "categories": [
            "commits",
            "git",
            "issues",
            "pr",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add fusupo/escapement",
            "/plugin install escapement@fusupo-escapement"
          ]
        }
      ]
    }
  ]
}