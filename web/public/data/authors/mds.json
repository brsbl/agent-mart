{
  "author": {
    "id": "mds",
    "display_name": "Matt D. Smith",
    "avatar_url": "https://avatars.githubusercontent.com/u/867638?u=ab2913cd8c0204a4b53e979f96b6cd3d328bf093&v=4"
  },
  "marketplaces": [
    {
      "name": "floatprompt-marketplace",
      "version": null,
      "description": "FloatPrompt: The invisible OS for AI. Persistent context that survives sessions and compounds over time.",
      "repo_full_name": "mds/floatprompt",
      "repo_url": "https://github.com/mds/floatprompt",
      "repo_description": "The invisible OS for AI",
      "signals": {
        "stars": 59,
        "forks": 6,
        "pushed_at": "2026-01-11T14:59:29Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"floatprompt-marketplace\",\n  \"owner\": {\n    \"name\": \"@mds\"\n  },\n  \"metadata\": {\n    \"description\": \"FloatPrompt: The invisible OS for AI. Persistent context that survives sessions and compounds over time.\",\n    \"version\": \"1.1.1\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"floatprompt\",\n      \"source\": \"./plugins/floatprompt\",\n      \"description\": \"Persistent context infrastructure for Claude Code. One command (/float) boots with full session history, decisions, and folder context. Automatic capture preserves your work.\",\n      \"version\": \"1.1.1\",\n      \"author\": {\n        \"name\": \"@mds\"\n      },\n      \"homepage\": \"https://github.com/mds/floatprompt\",\n      \"repository\": \"https://github.com/mds/floatprompt\",\n      \"license\": \"MIT\",\n      \"keywords\": [\n        \"context\",\n        \"memory\",\n        \"persistence\",\n        \"session\",\n        \"handoff\",\n        \"sqlite\",\n        \"workflow\"\n      ],\n      \"category\": \"productivity\"\n    }\n  ]\n}\n",
        "README.md": "# floatprompt\n\n**Floats your content for AI — and humans who use it.**\n\nOne install. Zero config. Every page becomes copyable markdown.\n\n- AI agents get clean `llms.txt` and `.md` files\n- Humans get `/float/` dashboard to browse and copy any page\n- No AI calls. No API keys. Just markdown.\n\n## Install\n\n```bash\nnpm install floatprompt\n```\n\nThat's it. On install, FloatPrompt adds itself to your build. Every `npm run build` now generates markdown automatically.\n\n## Framework Support\n\n| Framework | Extra Steps | Notes |\n|-----------|-------------|-------|\n| **Next.js** | None | Works automatically |\n| **Astro** | None | Works automatically |\n| **Gatsby** | None | Works automatically |\n| **Eleventy** | None | Works automatically |\n| **Vite** | None | Works automatically |\n| **Hugo** | Add to build command | `hugo && floatprompt ./public` |\n| **Jekyll** | Add to build command | `jekyll build && floatprompt ./_site` |\n\n*Hugo and Jekyll don't use npm scripts, so add FloatPrompt to your build command manually.*\n\n## What You Get\n\nAfter each build:\n\n```\nout/\n├── index.html\n├── index.md            ← AI-readable\n├── about.html\n├── about.md            ← AI-readable\n├── llms.txt            ← Site index for LLMs\n├── llms-full.txt       ← Complete site content\n└── float/\n    └── index.html      ← Dashboard for browsing all pages\n```\n\n## Embed Widget (Optional)\n\nWant a \"Copy as Markdown\" button on your live site? Add the widget so visitors can copy any page directly:\n\n### React Component\n\n```jsx\nimport { FloatButton } from 'floatprompt/react'\n\nexport default function Layout({ children }) {\n  return (\n    <>\n      {children}\n      <FloatButton position=\"bottom-right\" />\n    </>\n  )\n}\n```\n\n### Custom UI\n\nUse the core functions with your own buttons:\n\n```js\nimport { copyPageMarkdown, getPageMarkdown } from 'floatprompt/widget'\n\n// Copy current page to clipboard\ndocument.getElementById('my-copy-btn').onclick = async () => {\n  await copyPageMarkdown()\n}\n\n// Or get the markdown to do something else with it\nconst markdown = await getPageMarkdown()\n```\n\n## How It Works\n\nFloatPrompt runs after your build and:\n\n1. Extracts main content from each HTML page (using [Mozilla Readability](https://github.com/mozilla/readability))\n2. Converts to clean Markdown (using [Turndown](https://github.com/mixmark-io/turndown))\n3. Generates `llms.txt` — a site index following the [llms.txt standard](https://llmstxt.org)\n4. Creates `/float/` — a dashboard for browsing and copying all pages\n\nNo AI. No API keys. Pure mechanical extraction.\n\n## Configuration (Optional)\n\nCreate `floatprompt.config.js` for custom settings:\n\n```js\nexport default {\n  exclude: ['/admin/**', '/api/**'],\n  baseUrl: 'https://example.com',\n  siteTitle: 'My Site',\n  siteDescription: 'A site that floats its content for AI',\n}\n```\n\n### All Options\n\n| Option | Type | Default | Description |\n|--------|------|---------|-------------|\n| `input` | string | auto-detected | Input directory |\n| `output` | string | same as input | Output directory |\n| `exclude` | string[] | `[]` | Glob patterns to exclude |\n| `baseUrl` | string | `''` | Base URL for the site |\n| `siteTitle` | string | from index.html | Site title |\n| `siteDescription` | string | — | Site description |\n| `llmsTxt` | boolean | `true` | Generate llms.txt |\n| `llmsFullTxt` | boolean | `true` | Generate llms-full.txt |\n| `dashboard` | boolean | `true` | Generate /float/ dashboard |\n\n## Manual Usage\n\nIf you'd rather run FloatPrompt yourself instead of using the automatic `postbuild` hook:\n\n```bash\nfloatprompt              # auto-detects output directory\nfloatprompt ./out        # explicit path\nfloatprompt ./out --exclude \"/admin/**\"\n```\n\n### CLI Options\n\n| Flag | Description |\n|------|-------------|\n| `--output <dir>` | Output directory (default: same as input) |\n| `--exclude <glob>` | Exclude pattern (can use multiple times) |\n| `--base-url <url>` | Base URL for the site |\n| `--site-title <title>` | Site title |\n| `--no-llms-txt` | Skip llms.txt and llms-full.txt |\n| `--no-dashboard` | Skip /float/ dashboard |\n| `--verbose` | Show detailed output |\n\n## Programmatic API\n\n```js\nimport { FloatPrompt } from 'floatprompt'\n\n// Generate for a directory\nconst result = await FloatPrompt.generate({\n  input: './out',\n  exclude: ['/admin/**'],\n})\n\nconsole.log(`Generated ${result.markdownFilesGenerated} files`)\n\n// Extract single page\nconst markdown = FloatPrompt.extract(htmlString, {\n  url: '/about',\n  title: 'About Us',\n})\n```\n\n## Why FloatPrompt?\n\n**For AI agents:** HTML is full of navigation, footers, scripts, and styling. Markdown is just the content. Less noise, better results.\n\n**For humans:** Visitors can copy any page as markdown and paste directly into Claude, ChatGPT, or any AI tool.\n\n**For you:** One install. Works on every build. Nothing to maintain.\n\n## License\n\nMIT\n",
        "plugins/floatprompt/README.md": "# FloatPrompt Plugin for Claude Code\n\n**The invisible OS for AI. Persistent context that survives sessions and compounds over time.**\n\n> One command. AI operates everything else.\n\n---\n\n## Tree Structure\n\n```\nplugins/floatprompt/\n├── .claude-plugin/\n│   └── plugin.json           # Plugin manifest (name, version, author)\n├── agents/                   # AI agents spawned by hooks\n│   ├── float-log.md          # Session handoff entry (parallel)\n│   ├── float-decisions.md    # Folder decisions + questions (parallel)\n│   ├── float-enrich.md       # Folder context enrichment\n│   └── float-handoff.md      # Writes .float/handoff.md\n├── commands/\n│   ├── float.md              # /float command - boot + operating manual\n│   └── float-capture.md      # /float-capture command - manual context capture\n├── skills/\n│   └── float-context/        # Context lookup skill\n│       └── SKILL.md\n├── hooks/\n│   ├── hooks.json            # Hook configuration (PreCompact + SessionEnd)\n│   └── capture.sh            # Main capture script (auto=mechanical, manual=full)\n├── lib/\n│   ├── boot.sh               # Boot query script (JSON output for /float)\n│   ├── schema.sql            # SQLite schema for float.db (8 tables)\n│   └── scan.sh               # Layer 1 scanner (git-native)\n├── templates/\n│   └── handoff.md            # Template for .float/handoff.md structure\n└── README.md                 # This file\n```\n\n---\n\n## Component Reference\n\n### `.claude-plugin/plugin.json`\n\n**Purpose:** Plugin manifest that Claude Code reads to discover the plugin.\n\n**Contents:**\n```json\n{\n  \"name\": \"floatprompt\",\n  \"version\": \"1.1.1\",\n  \"description\": \"The invisible OS for AI-persistent context that survives sessions and compounds over time\",\n  \"author\": { \"name\": \"@mds\" },\n  \"homepage\": \"https://github.com/mds/floatprompt\"\n}\n```\n\n**Key Fields:**\n| Field | Type | Purpose |\n|-------|------|---------|\n| `name` | string | Plugin identifier, used for command namespacing (`/floatprompt:float`) |\n| `version` | string | Semantic version |\n| `description` | string | Brief description shown in plugin listings |\n| `author` | object | Must be `{\"name\": \"...\"}`, not a plain string |\n\n**Auto-discovery:** Commands, agents, skills, and hooks are auto-discovered from standard directory names (`commands/`, `agents/`, `skills/`, `hooks/hooks.json`).\n\n**Reference:**\n- [Claude Code Plugin Structure](../../../artifacts/2026/01-jan/claude-code-plugins/plugins-reference.md)\n- [Create Plugins Guide](../../../artifacts/2026/01-jan/claude-code-plugins/create-plugins.md)\n\n---\n\n### `commands/float.md`\n\n**Purpose:** The ONE command users run. Comprehensive boot procedure + operating manual for AI.\n\n**Invocation:** `/float` or `/floatprompt:float`\n\n**What It Contains:**\n- **What This Is** — FloatPrompt as persistent context infrastructure\n- **Who You Are** — Technical partner with memory and judgment\n- **What You Have** — Database tables (folders, files, log_entries, etc.)\n- **How to Query** — Key SQL patterns for context, scope chain, decisions\n- **Trust Levels** — current/stale/pending status meanings\n- **Your Responsibility** — The enrichment loop, \"be a good ancestor\"\n- **Methodology** — Map → Decide → Structure (MDS) gate\n- **Boot Procedure** — First run vs subsequent runs\n- **Session Protocol** — Boot, work, capture, next\n\n**Behavior:**\n\n| Scenario | Actions |\n|----------|---------|\n| **First run** (no float.db) | 1. Run `lib/scan.sh` to create database<br>2. Offer enrichment<br>3. Educate about capture |\n| **Subsequent runs** | 1. Query session handoff, decisions, staleness<br>2. Synthesize naturally<br>3. Offer to continue |\n\n**Key SQL Queries:**\n```sql\n-- Latest session handoff\nSELECT title, decision, rationale, files_changed\nFROM log_entries WHERE topic='session-handoff' AND status='open'\nORDER BY created_at DESC LIMIT 1;\n\n-- Recent activity (7 days)\nSELECT files_read, files_changed FROM log_entries\nWHERE topic='session-handoff' AND date >= date('now', '-7 days')\nORDER BY created_at DESC LIMIT 3;\n```\n\n**Reference:**\n- [Command Development Guide](../../../artifacts/2026/01-jan/claude-code-plugins/create-plugins.md#commands)\n- Session continuity pattern: `.float-workshop/logs/2026/01-jan/2026-01-07-plugin-prd-session-continuity.md`\n\n---\n\n### `commands/float-capture.md`\n\n**Purpose:** The primary way to save session context. Run when you've done significant work.\n\n**Invocation:** `/float-capture` or `/floatprompt:float-capture`\n\n**Two-Tier System:**\n\n| Trigger | What Runs | What You Get |\n|---------|-----------|--------------|\n| **Manual** (`/float-capture`) | Full pipeline | Facts + understanding + handoff.md |\n| Auto (PreCompact/SessionEnd) | Mechanical only | Facts only (files, folders, timestamp) |\n\n> **\"PreCompact saves facts. Manual capture saves understanding.\"**\n\n**When to Run:**\n- Just finished a feature or significant fix\n- Made an important decision\n- Before ending a long session\n- Anytime context matters\n\n**Skips For:**\n- Research sessions (no file changes) — mechanical only, saves ~$0.34\n\n---\n\n### `hooks/hooks.json`\n\n**Purpose:** Configures automatic lifecycle hooks for session capture.\n\n**Hooks Registered:**\n\n| Event | When | Behavior |\n|-------|------|----------|\n| `PreCompact` | Context window ~80% full | Mechanical capture only |\n| `SessionEnd` | User exits session | Mechanical capture only |\n\n**Why Mechanical Only:**\n\nAuto-triggers (PreCompact/SessionEnd) run mechanical capture only because compaction doesn't wait for AI agents to complete. Agents would get orphaned.\n\nFor full AI enrichment (title, decision, handoff.md), run `/float-capture` manually.\n\n> **\"PreCompact saves facts. Manual capture saves understanding.\"**\n\nSelf-deduplicating: 5-minute window prevents duplicate entries.\n\n**Reference:**\n- [Hooks Reference](../../../artifacts/2026/01-jan/claude-code-plugins/hooks-reference.md)\n- Hook events: `PreToolUse`, `PostToolUse`, `Stop`, `SubagentStop`, `SessionStart`, `SessionEnd`, `UserPromptSubmit`, `PreCompact`, `Notification`\n\n---\n\n### `hooks/capture.sh`\n\n**Purpose:** Main capture script implementing two-tier capture system.\n\n**Input:** JSON from stdin (hook) or `--manual` flag (command).\n\n**Two-Tier Design:**\n\n| Trigger | Behavior | What You Get |\n|---------|----------|--------------|\n| **Auto** (PreCompact/SessionEnd) | Mechanical only | Facts: files, folders, timestamp |\n| **Manual** (`/float-capture`) | Full pipeline | Understanding: title, decision, handoff.md |\n\n> **\"PreCompact saves facts. Manual capture saves understanding.\"**\n\n**Execution Phases:**\n\n| Phase | Auto | Manual | Purpose |\n|-------|------|--------|---------|\n| **Early exits** | Yes | Yes | Skip if no .float/, recent handoff, or no changes |\n| **Phase 1** | Yes | Yes | Mechanical sqlite3 INSERT (instant, guaranteed) |\n| **Phase 2** | - | Yes | Parallel: float-log + float-decisions |\n| **Phase 3** | - | Yes | Parallel: float-enrich + float-handoff |\n| **Phase 4** | - | Yes | Workshop agents (if .float-workshop/ exists) |\n\n**Why Auto = Mechanical Only:**\n\nCompaction doesn't wait for agents to complete. Agents spawned during PreCompact get orphaned. Mechanical capture is instant and guaranteed.\n\n**Research Session Skip:**\n\nIf no files changed (research/verification session), agents are skipped entirely even for manual capture. Saves ~$0.34 per capture by not spawning 5 agents to analyze an empty diff.\n\n**Agents Spawned (Manual only):**\n- `float-log` — Updates entry with title, decision, rationale\n- `float-decisions` — Creates open questions, resolves previous ones\n- `float-enrich` — Updates folder description/context\n- `float-handoff` — Writes `.float/handoff.md` (AI-to-AI session note)\n- `float-organize` — Workshop cleanup (if .float-workshop/ exists)\n- `float-update-logs` — Creates markdown decision logs (if .float-workshop/ exists)\n\n**Reference:**\n- Agent prompts in `agents/` directory\n- Bash hook pattern: [Hooks Reference](../../../artifacts/2026/01-jan/claude-code-plugins/hooks-reference.md#command-hooks)\n\n---\n\n### `lib/schema.sql`\n\n**Purpose:** SQLite schema for `.float/float.db` — the persistent context database.\n\n**Tables (8 total):**\n\n| Table | Purpose | Key Fields |\n|-------|---------|------------|\n| `folders` | The things being described | path, description, context, status |\n| `log_entries` | Decision paper trail | folder_path, topic, status, decision, git_commit |\n| `references` | Cross-links for staleness | source_type, source_id, target_type, target_id |\n| `open_questions` | Unresolved items | question, resolved_by |\n| `tags` | Categorization | name |\n| `log_entry_tags` | Many-to-many | log_entry_id, tag_id |\n| `deep` | Topic-based context | slug, title, content_md, watches |\n| `deep_history` | Version history | slug, version, content_md |\n\n> **Note:** `files` table removed in v1.2.0 — git is now the source of truth for file tracking.\n\n**The `folders` Table (16 Fields):**\n\n| Category | Fields |\n|----------|--------|\n| **Identity** | path (PK), parent_path, name |\n| **Governance** | type, status (pending/current/stale) |\n| **AI Content** | description, context |\n| **Scope** | is_scope, parent_scope_path, scope_boot |\n| **Mechanical** | source_hash, last_scanned_at *(legacy, unused)* |\n| **Attribution** | ai_model, ai_updated |\n| **Timestamps** | created_at, updated_at |\n\n**The `log_entries` Table:**\n\n| Status | Meaning |\n|--------|---------|\n| `locked` | Final decision — never changes |\n| `open` | Session handoff — can be updated by agents |\n| `superseded` | Replaced by newer entry |\n\n**Git Context (v1.2.0):** `git_commit` and `git_branch` fields pin each entry to a specific commit.\n\n**Reference:**\n- Schema spec: `.float-workshop/logs/2026/01-jan/2026-01-02-sqlite-understanding.md`\n- Schema updated: Session 61 (2026-01-10) - Git-native Layer 1\n- TypeScript schemas: `src/db/schema.ts`\n\n---\n\n### `lib/scan.sh`\n\n**Purpose:** Layer 1 scanner — populates folders table using git as source of truth.\n\n**Usage:**\n```bash\n./scan.sh [project_dir]\n# Defaults to git root or current directory\n```\n\n**Requires:** Git repository. Non-git folders will show an error prompting `git init`.\n\n**How It Works (v1.2.0 - Git-Native):**\n\n1. Detects git root via `git rev-parse --show-toplevel`\n2. Creates `.float/float.db` if needed\n3. Enumerates folders from `git ls-files`\n4. Inserts into `folders` table with `status='pending'`\n5. Outputs JSON stats\n\n**Output:**\n```json\n{\"folders\": 493, \"files\": 642, \"source\": \"git\", \"project_root\": \"/path\"}\n```\n\n**What Changed in v1.2.0:**\n\n| Before (Rust Scanner) | After (Git-Native) |\n|----------------------|-------------------|\n| ~150 lines + ~2000 lines Rust | ~70 lines bash |\n| Custom merkle tree hashing | Git is the merkle tree |\n| Platform-specific binaries | No binaries, just `git` |\n| `find` + `sha256` fallback | `git ls-files` only |\n\n> **Rationale:** Git is always present in developer contexts. The Rust scanner duplicated what git already provides. See `.float-workshop/active/2026-01-10-git-layer1-insight.md`.\n\n**Reference:**\n- TypeScript scanner: `src/db/scan.ts` (legacy, for reference)\n- Git-native architecture: `.float-workshop/active/2026-01-10-git-native-architecture-plan.md`\n\n---\n\n### `lib/boot.sh`\n\n**Purpose:** Fetches all boot context in one command. Outputs JSON for AI to parse.\n\n**Usage:**\n```bash\n./boot.sh [project_dir]\n# Defaults to git root or current directory\n```\n\n**Output (JSON):**\n```json\n{\n  \"exists\": true,\n  \"project_root\": \"/path/to/repo\",\n  \"handoff_md\": \"# Handoff\\n\\n...\",\n  \"last_session\": [{\"title\": \"...\", \"decision\": \"...\", ...}],\n  \"recent_decisions\": [...],\n  \"open_questions\": [...],\n  \"stale_folders\": [...],\n  \"stats\": {\"folders\": 86, \"files\": 587, \"stale\": 0, \"pending\": 0, \"current\": 86},\n  \"git\": {\n    \"branch\": \"main\",\n    \"commit\": \"abc123f\",\n    \"dirty_files\": 3,\n    \"last_capture_commit\": \"def456a\",\n    \"changed_since_capture\": [\"/src/auth\", \"/src/api\"]\n  },\n  \"permissions_set\": true\n}\n```\n\n**Git Context (v1.2.0):** The `git` section provides:\n- Current branch and commit\n- Dirty file count (uncommitted changes)\n- Last capture's commit (for staleness)\n- Folders changed since last capture (via `git diff`)\n\n**If `exists: false`:** float.db doesn't exist — run scan.sh first.\n\n**Key Design:**\n- One command, one permission prompt\n- Mechanical queries only — AI interprets results\n- Git integration for staleness detection (no custom hashing)\n\n---\n\n### `agents/`\n\n**Purpose:** AI agents spawned by hooks during capture.\n\n| Agent | Purpose | Phase |\n|-------|---------|-------|\n| `float-log.md` | Updates entry with title, decision, rationale | Phase 2 (parallel) |\n| `float-decisions.md` | Creates/resolves open questions | Phase 2 (parallel) |\n| `float-enrich.md` | Updates folder description/context | Phase 3 (parallel) |\n| `float-handoff.md` | Writes `.float/handoff.md` (AI-to-AI note) | Phase 3 (parallel) |\n\n**Reference:**\n- Subagents guide: [Subagents Reference](../../../artifacts/2026/01-jan/claude-code-plugins/subagents.md)\n\n---\n\n### `templates/`\n\n**Purpose:** Template files defining output structures.\n\n| Template | Purpose |\n|----------|---------|\n| `handoff.md` | Structure for `.float/handoff.md` output |\n\n---\n\n### `skills/`\n\n**Purpose:** Skills that can be invoked during sessions.\n\n| Skill | Purpose |\n|-------|---------|\n| `float-context/` | Query float.db for full context on a file or folder |\n\n**Reference:**\n- Skills guide: [Skill Development](../../../artifacts/2026/01-jan/claude-code-plugins/slash-commands.md)\n\n---\n\n## Architecture Overview\n\n```\nUSER SESSION                           PLUGIN\n────────────────────────────────────────────────────────────────\n\nHuman runs \"claude\"\n        │\n        ▼\nHuman types /float ──────────────────► commands/float.md\n        │                                    │\n        │                              ┌─────┴─────┐\n        │                              │ First run │\n        │                              └─────┬─────┘\n        │                                    │\n        │                              lib/scan.sh\n        │                                    │\n        │                              .float/float.db created\n        │                                    │\n        ▼                              ◄─────┘\nAI boots with context ◄────────────── lib/boot.sh (JSON output)\n        │\n        │\n   [Work happens]\n        │\n        ▼\nPreCompact fires ────────────────────► hooks/capture.sh\n(or SessionEnd)                              │\n        │                              Phase 1 only (mechanical)\n        │                              sqlite3 INSERT → exit\n        │                              (facts saved, no agents)\n        │\n        ▼\nSession compacts\n        │\n        │\n   [More work...]\n        │\n        ▼\nUser runs /float-capture ────────────► hooks/capture.sh --manual\n        │                                    │\n        │                              ┌─────┴─────┐\n        │                              │  Phase 1  │ sqlite3 INSERT\n        │                              │  Phase 2  │ float-log + float-decisions\n        │                              │  Phase 3  │ float-enrich + float-handoff\n        │                              │  Phase 4  │ workshop agents\n        │                              └─────┬─────┘\n        │                                    │\n        ▼                              ◄─────┘\nContext saved                          log_entries enriched\n                                       .float/handoff.md written\n        │\n        ▼\nNext session: /float ────────────────► Picks up where you left off\n```\n\n---\n\n## Data Flow\n\n```\nLAYER 1: GIT (scan.sh)                 LAYER 2: AI ENRICHMENT (agents)\n──────────────────────────────────────────────────────────────────────\n\nGit repository                         Session work\n    │                                      │\n    ▼                                      ▼\ngit ls-files ──────────────────────► log_entries (decisions)\n    │                                      │\n    ▼                                      ▼\nfolders table (paths)                  folders.description\n                                       folders.context\n    │                                      │\n    └──────────────┬───────────────────────┘\n                   │\n                   ▼\n            .float/float.db\n                   │\n                   ▼\n            AI queries for context\n\nSTALENESS DETECTION (v1.2.0)\n────────────────────────────\nLast capture: git_commit = \"abc123\"\nCurrent:      HEAD = \"def456\"\n              │\n              ▼\ngit diff abc123..def456 --name-only\n              │\n              ▼\nChanged folders since capture\n```\n\n---\n\n## Related Documentation\n\n### Core Concepts\n\n| Document | Location | Summary |\n|----------|----------|---------|\n| **Vision (Philosophy)** | `docs/vision.md` | Omnipresent recursive context scaffolding — the \"why\" |\n| **Vision (Working Spec)** | `.float-workshop/ref/vision.md` | Schema details, component status, decision rationale |\n| **Context Architecture** | `artifacts/2026/01-jan/dot-float-ideas/floatprompt-context-architecture.md` | SQLite is DB, context files are deployed website |\n| **SQLite Understanding** | `.float-workshop/logs/2026/01-jan/2026-01-02-sqlite-understanding.md` | Why SQLite, schema design, data flow |\n| **Folder Structure** | `.float-workshop/ref/float-folder-structure.md` | Mental model (files) vs reality (SQLite) |\n| **Context Philosophy** | `.float-workshop/logs/2026/01-jan/2026-01-05-session30-context-philosophy.md` | \"Compressed human judgment\" |\n| **AI Wants This** | `.float-workshop/ref/ai-wants-this.md` | First-person AI perspective — why FloatPrompt matters |\n| **Plugin Spec** | `.float-workshop/active/floatprompt-plugin.md` | Complete plugin specification (authoritative) |\n| **Plugin Progress** | `.float-workshop/active/claude-floatprompt-plugin-progress.md` | Build checklist and session log |\n| **Human Vision** | `.float-workshop/active/MDS-floatprompt-claude-code-plugin.md` | @MDS's human+AI execution vision |\n\n### Philosophy & Methodology\n\n| Document | Location | Summary |\n|----------|----------|---------|\n| **Goals** | `docs/philosophy/goals.md` | Three-tier hierarchy: Voice > Behavior > Artifacts |\n| **MDS Method** | `docs/philosophy/mds-method.md` | Map → Decide → Structure methodology |\n| **Workshop README** | `.float-workshop/README.md` | Workshop structure, commands, workflow lifecycle |\n\n### FloatPrompt System Reference\n\n| Document | Location | Summary |\n|----------|----------|---------|\n| **Buoys** | `.float-workshop/ref/buoys.md` | AI worker system (7 archetypes) |\n| **Generate Spec** | `.float-workshop/ref/generate-spec.md` | Layer 2 context generation |\n| **Deep Context Spec** | `.float-workshop/ref/deep-context-spec.md` | Topic-based concept primers |\n| **AI-Native Context** | `.float-workshop/ref/ai-native-context.md` | What AI needs vs human navigation |\n| **Plugin Architecture** | `.float-workshop/ref/plugin-architecture.md` | Plugin system design |\n\n### Claude Code Plugin System\n\n| Document | Location | Summary |\n|----------|----------|---------|\n| **Plugin Reference** | `artifacts/2026/01-jan/claude-code-plugins/plugins-reference.md` | Official plugin structure (30KB) |\n| **Hooks Reference** | `artifacts/2026/01-jan/claude-code-plugins/hooks-reference.md` | All hook events and patterns (36KB) |\n| **Subagents** | `artifacts/2026/01-jan/claude-code-plugins/subagents.md` | Agent spawning patterns (23KB) |\n| **Create Plugins** | `artifacts/2026/01-jan/claude-code-plugins/create-plugins.md` | Step-by-step guide |\n| **Discover Plugins** | `artifacts/2026/01-jan/claude-code-plugins/discover-plugins.md` | Plugin discovery and loading |\n| **Slash Commands** | `artifacts/2026/01-jan/claude-code-plugins/slash-commands.md` | Command patterns |\n| **MCP Integration** | `artifacts/2026/01-jan/claude-code-plugins/mcp.md` | Model Context Protocol (38KB) |\n| **CLI Reference** | `artifacts/2026/01-jan/claude-code-plugins/cli-reference.md` | Claude Code CLI options |\n| **Marketplace** | `artifacts/2026/01-jan/claude-code-plugins/marketplace.md` | Plugin distribution |\n\n### TypeScript Implementation\n\n| File | Location | Summary |\n|------|----------|---------|\n| **Schema** | `src/db/schema.ts` | Zod schemas + SQL DDL (307 lines) |\n| **Scanner** | `src/db/scan.ts` | Full TypeScript scanner (465 lines) |\n| **Client** | `src/db/client.ts` | Database operations, Deep context CRUD |\n\n### Decision Logs (January 2026)\n\n| Document | Location | Summary |\n|----------|----------|---------|\n| **January Index** | `.float-workshop/logs/2026/01-jan/01-jan.md` | All decisions indexed by category |\n| **Session 43** | `.float-workshop/logs/2026/01-jan/2026-01-09-session43-schema-restoration.md` | Schema restoration, plugin structure |\n| **Session 44** | `.float-workshop/logs/2026/01-jan/2026-01-09-session44-plugin-v1-complete.md` | Plugin v1 complete (7/8 tasks) |\n| **Session 45** | `.float-workshop/logs/2026/01-jan/2026-01-09-session45-plugin-validation-scan.md` | Validation fixes, scan enhancement |\n\n### External Resources\n\n| Resource | URL | Summary |\n|----------|-----|---------|\n| Claude Code Docs | https://docs.anthropic.com/claude-code | Official documentation |\n| Plugin Marketplace | `claude plugin marketplace list` | Available plugins |\n| FloatPrompt Repo | https://github.com/mds/floatprompt | Source repository |\n\n---\n\n## Quick Reference\n\n### Installation\n\n```bash\n# Add the FloatPrompt marketplace\n/plugin marketplace add mds/floatprompt\n\n# Install the plugin\n/plugin install floatprompt@floatprompt-marketplace\n\n# Or test locally during development\nclaude --plugin-dir ./plugins/floatprompt\n```\n\n### Validation\n\n```bash\n# Validate plugin\nclaude plugin validate ./plugins/floatprompt\n\n# Validate marketplace\nclaude plugin validate .\n```\n\n### Common Queries\n\n```bash\n# Folder count\nsqlite3 .float/float.db \"SELECT COUNT(*) FROM folders\"\n\n# File count (via git, not database)\ngit ls-files | wc -l\n\n# Recent decisions\nsqlite3 .float/float.db \"SELECT folder_path, topic, title FROM log_entries WHERE status='locked' ORDER BY created_at DESC LIMIT 5\"\n\n# Stale folders\nsqlite3 .float/float.db \"SELECT path FROM folders WHERE status='stale'\"\n\n# Session handoffs with git context\nsqlite3 .float/float.db \"SELECT id, title, date, git_commit, git_branch FROM log_entries WHERE topic='session-handoff' ORDER BY created_at DESC\"\n\n# What changed since last capture\nLAST_COMMIT=$(sqlite3 .float/float.db \"SELECT git_commit FROM log_entries WHERE topic='session-handoff' AND git_commit IS NOT NULL ORDER BY created_at DESC LIMIT 1\")\ngit diff --name-only $LAST_COMMIT HEAD\n```\n\n### Rescan Project\n\n```bash\n# Re-run scanner (updates existing database)\nbash plugins/floatprompt/lib/scan.sh .\n```\n\n---\n\n## Changelog\n\nSee [CHANGELOG.md](./CHANGELOG.md) for full version history.\n\n**Current version:** 1.2.0\n\n---\n\n*Created: 2026-01-09 (Session 45)*\n*Last updated: 2026-01-10 (Session 61) - Git-native Layer 1*\n"
      },
      "plugins": [
        {
          "name": "floatprompt",
          "source": "./plugins/floatprompt",
          "description": "Persistent context infrastructure for Claude Code. One command (/float) boots with full session history, decisions, and folder context. Automatic capture preserves your work.",
          "version": "1.1.1",
          "author": {
            "name": "@mds"
          },
          "homepage": "https://github.com/mds/floatprompt",
          "repository": "https://github.com/mds/floatprompt",
          "license": "MIT",
          "keywords": [
            "context",
            "memory",
            "persistence",
            "session",
            "handoff",
            "sqlite",
            "workflow"
          ],
          "category": "productivity",
          "categories": [
            "context",
            "handoff",
            "memory",
            "persistence",
            "productivity",
            "session",
            "sqlite",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add mds/floatprompt",
            "/plugin install floatprompt@floatprompt-marketplace"
          ]
        }
      ]
    }
  ]
}