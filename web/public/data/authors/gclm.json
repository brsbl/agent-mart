{
  "author": {
    "id": "gclm",
    "display_name": "孤城落寞",
    "avatar_url": "https://avatars.githubusercontent.com/u/27618687?u=1928ef34211bf13f45a2af69ee5fdd03ca830b51&v=4"
  },
  "marketplaces": [
    {
      "name": "gclm-flow-marketplace",
      "version": null,
      "description": "gclm-flow - 融合开发工作流插件市场",
      "repo_full_name": "gclm/gclm-flow",
      "repo_url": "https://github.com/gclm/gclm-flow",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-02T10:37:58Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"gclm-flow-marketplace\",\n  \"owner\": {\n    \"name\": \"gclm\",\n    \"email\": \"gclm@example.com\"\n  },\n  \"description\": \"gclm-flow - 融合开发工作流插件市场\",\n  \"plugins\": [\n    {\n      \"name\": \"gclm\",\n      \"source\": \"./\",\n      \"description\": \"融合 myclaude/do、cc-plugin/Context Floor、everything-claude-code/TDD 的最佳实践 - TDD-First + llmdoc 优先 + 多 Agent 并行\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"gclm\",\n  \"description\": \"融合开发工作流 - TDD-First + llmdoc 优先 + 多 Agent 并行。8 阶段流程：llmdoc 读取 → Discovery → Exploration → Clarification → Architecture → TDD Red → TDD Green → Refactor+Doc → Summary\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"gclm\",\n    \"url\": \"https://github.com/gclm\"\n  },\n  \"homepage\": \"https://github.com/gclm/gclm-flow\",\n  \"repository\": \"https://github.com/gclm/gclm-flow\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"claude-code\",\n    \"workflow\",\n    \"tdd\",\n    \"llmdoc\",\n    \"agents\",\n    \"skills\",\n    \"commands\",\n    \"test-driven-development\",\n    \"documentation-driven\",\n    \"parallel-execution\"\n  ],\n  \"commands\": \"./commands\",\n  \"skills\": \"./skills\",\n  \"agents\": \"./agents\"\n}\n",
        "README.md": "# gclm-flow - 智能分流工作流插件\n\n> SpecDD + TDD + llmdoc 优先 + auggie + 多 Agent 并行\n\n<div align=\"center\">\n\n**智能分流工作流 - 自动判断任务类型，选择最优开发流程**\n\n</div>\n\n---\n\n## 核心哲学\n\n1. **SpecDD + TDD**: 复杂模块走 SpecDD，简单修改走 TDD\n2. **llmdoc 优先**: 任何代码操作前必须先读取文档\n3. **auggie 集成**: 智能代码搜索，自动上下文理解\n4. **智能分流**: Phase 1 后自动判断任务复杂度\n5. **Security-First**: 安全永远第一\n\n---\n\n## 智能分流工作流\n\n### 自动分类逻辑\n\n```\n                    Phase 1: Discovery\n                            ↓\n                   智能分类 (自动判断)\n                            ↓\n              ┌──────────┼──────────┐\n              │          │          │\n              ↓          ↓          ↓\n        简单任务    中等任务    复杂任务\n        (Bug修复)   (用户确认)   (新功能)\n              │          │          │\n              │          ↓          │\n              │    ┌─────────────┐   │\n              │    │  询问用户    │   │\n              │    │  选择流程    │   │\n              │    └──────┬───────┘   │\n              │           │          │\n              ↓           ↓          ↓\n        简单流程    简单流程    完整流程\n```\n\n### 分类信号\n\n| 信号 | 简单任务 | 复杂任务 |\n|:---|:---|:---|\n| **关键词** | bug, 修复, error, fix, 问题, 调试 | 功能, 模块, 新, 开发, 重构, 系统, 设计 |\n| **文件数** | <= 2 | >= 5 |\n| **风险** | low | any |\n\n---\n\n## 8.5 阶段融合工作流\n\n### 简单流程 (SIMPLE) - Bug 修复、小修改\n\n| 阶段 | 名称 | Agent | 跳过 |\n|:---|:---|:---|:---:|\n| 0 | llmdoc + ace-tool | 主 Agent | - |\n| 1 | Discovery | `investigator` | - |\n| 3 | Clarification | 主 Agent + AskUser | 2, 4, 4.5 |\n| 5 | TDD Red | `tdd-guide` | - |\n| 6 | TDD Green | `worker` | - |\n| 7 | Refactor + Security + Review | `code-simplifier` + `security-guidance` + `code-reviewer` | - |\n| 8 | Summary | `investigator` | - |\n\n### 完整流程 (COMPLEX) - 新功能、模块开发\n\n| 阶段 | 名称 | Agent | 并行 |\n|:---|:---|:---|:---:|\n| 0 | llmdoc + ace-tool | 主 Agent | - |\n| 1 | Discovery | `investigator` | - |\n| 2 | Exploration | `investigator` x3 | 是 |\n| 3 | Clarification | 主 Agent + AskUser | - |\n| 4 | Architecture | `architect` x2 + `investigator` | 是 |\n| **4.5** | **Spec** | `architect` + `ace-tool` | **-** |\n| 5 | TDD Red | `tdd-guide` | - |\n| 6 | TDD Green | `worker` | - |\n| 7 | Refactor + Security + Review | `code-simplifier` + `security-guidance` + `code-reviewer` | 是 |\n| 8 | Summary | `investigator` | - |\n\n> 📖 **详细流程说明**: 每个阶段的具体步骤、智能分类逻辑、并行执行模式等，请参阅 [WORKFLOW.md](docs/WORKFLOW.md)\n\n---\n\n## 快速开始\n\n### 方式 1: 使用插件市场安装 (推荐)\n\n```bash\n# 添加 gclm-flow 插件市场\n/plugin marketplace add https://github.com/gclm/gclm-flow\n\n# 安装 gclm 插件\n/plugin install gclm@gclm-flow\n```\n\n### 方式 2: 手动安装\n\n```bash\n# 克隆插件\ncd /tmp\ngit clone https://github.com/gclm/gclm-flow.git\ncd gclm-flow\n\n# 运行安装脚本\nbash scripts/install.sh\n```\n\n### 方式 3: 直接配置\n\n将 [`CLAUDE.example.md`](CLAUDE.example.md) 的内容复制到 `~/.claude/CLAUDE.md` 文件中。\n\n**完成！** 配置完成后，所有行为自动激活。\n\n### 通知功能配置（macOS 可选）\n\n> **注意**: 通知功能仅支持 macOS\n\n安装后，可以配置 macOS 系统通知：\n\n```bash\n# 1. 安装 terminal-notifier\nbrew install terminal-notifier\n\n# 2. 安装 ClaudeNotifier.app\n# 将 ClaudeNotifier.app 放到 /Applications/ 目录\n\n# 3. 重新运行安装脚本（会自动配置 hooks）\nbash scripts/install.sh\n```\n\n安装后，当 Claude Code 需要你的操作时，会收到系统通知。\n\n---\n\n## 工作原理\n\n### 自动行为（无需命令）\n\n配置 `CLAUDE.example.md` 后，这些行为**始终激活**：\n\n| 行为 | 效果 |\n|:---|:---|\n| **文档优先** | Agent 在任何操作前先阅读 `llmdoc/` |\n| **智能分流** | Phase 1 后自动判断任务复杂度 |\n| **代码搜索** | auggie 自动提供代码上下文 |\n| **选项式编程** | 不会直接下结论；通过问题呈现选择 |\n| **文档维护提示** | 编码后询问是否更新文档 |\n| **系统通知** | 需要操作时发送系统通知（仅 macOS） |\n\n### 可用 Skills（自动触发）\n\n| Skill | 触发词 | 描述 |\n|:---|:---|:---|\n| `/gclm` | \"实现功能\"、\"开发新功能\" | 启动智能分流工作流 |\n| `/investigate` | \"什么是\"、\"X怎么工作\"、\"分析\" | 快速代码库调查 |\n| `/tdd` | \"写测试\"、\"TDD\" | 测试驱动开发 |\n| `/llmdoc-update` | \"更新文档\"、\"同步文档\" | 更新 llmdoc 文档 |\n| `/spec-gen` | \"生成规范\"、\"编写 Spec\" | 生成 Phase 4.5 Spec 文档 |\n\n---\n\n## 融合设计\n\n```\nSpecDD (规范驱动) + TDD (测试驱动) + auggie (代码搜索) + llmdoc (文档优先)\n```\n\n### 关键改进\n\n1. **SpecDD 集成**: 复杂模块先写 Spec，再写测试\n2. **auggie 集成**: 专为代码设计的语义搜索工具\n3. **智能分流**: 自动判断任务类型，选择最优流程\n\n---\n\n## 关键约束\n\n1. **llmdoc 优先**: Phase 0 强制执行\n2. **智能分流**: Phase 1 后自动判断任务类型\n3. **Phase 3 不可跳过**: 必须澄清所有疑问\n4. **Phase 5 TDD 强制**: 必须先写测试\n5. **并行优先**: 能并行的任务必须并行执行\n6. **状态持久化**: 中途退出可恢复\n7. **选项式编程**: 使用 AskUserQuestion 展示选项\n8. **文档更新询问**: Phase 7 必须询问\n\n---\n\n## 目录结构\n\n```\ngclm-flow/\n├── README.md                      # 本文件\n├── CLAUDE.example.md              # 示例配置\n├── .claude-plugin/                 # 插件市场配置\n│   └── marketplace.json\n├── agents/                        # Agent 定义\n│   ├── investigator.md\n│   ├── architect.md\n│   ├── worker.md\n│   ├── tdd-guide.md\n│   └── code-reviewer.md\n├── commands/                      # 命令定义\n│   ├── gclm.md\n│   ├── investigate.md\n│   └── tdd.md\n├── skills/                        # Skill 定义\n│   ├── gclm/\n│   │   ├── SKILL.md\n│   │   └── .mcp.json\n│   ├── investigate/\n│   │   └── SKILL.md\n│   ├── tdd-workflow/\n│   │   └── SKILL.md\n│   └── file-naming-helper/\n│       └── SKILL.md\n├── rules/                         # 规则文件\n│   ├── phases.md\n│   ├── llmdoc.md\n│   ├── tdd.md\n│   └── agents.md\n├── scripts/                       # 脚本\n│   └── install.sh                 # 安装脚本\n├── hooks/                         # Hooks\n│   ├── notify.sh                  # 通知脚本\n│   └── stop-gclm-loop.sh          # 停止循环 hook\n├── settings-hooks.example.json    # Hooks 配置示例\n└── docs/                          # 文档\n    └── WORKFLOW.md\n```\n\n---\n\n## Agent 体系\n\n| Agent | 职责 | 模型 |\n|:---|:---|:---|\n| `investigator` | 探索、分析、总结 | Haiku 4.5 |\n| `architect` | 架构设计、方案权衡 | Opus 4.5 |\n| `worker` | 执行明确定义的任务 | Sonnet 4.5 |\n| `tdd-guide` | TDD 流程指导 | Sonnet 4.5 |\n| `code-simplifier` | 代码简化重构 | Sonnet 4.5 |\n| `security-guidance` | 安全审查 | Sonnet 4.5 |\n| `code-reviewer` | 代码审查 | Sonnet 4.5 |\n\n---\n\n## 外部工具集成\n\n| 工具 | 用途 | 安装 | 必需 |\n|:---|:---|:---|:---:|\n| **auggie** | 代码搜索、上下文增强 | `npm install -g @augmentcode/auggie@prerelease` | ✅ |\n| **Chrome DevTools MCP** | Chrome 调试、性能分析 | `npm install -g chrome-devtools-mcp` | - |\n| **Playwright MCP** | 跨浏览器测试 | `npm install -g @playwright/mcp` | - |\n\n---\n\n## 成功指标\n\n1. 测试通过，覆盖率 > 80%\n2. 无已知安全漏洞\n3. 代码可读性高\n4. 需求完整满足\n5. 文档已更新（如选择）\n\n---\n\n## 成本与效果\n\n**诚实评估**: 智能分流工作流用 **1.5 倍的价钱**完成了从 85 分到 92 分的效果提升。\n\n- 简单项目：快速 TDD，效率提升\n- 复杂项目：SpecDD 确保 quality，收益显著\n- 生产级代码库（10万+ 行）：效果出色\n\n---\n\n## License\n\nMIT\n\n---\n\n<div align=\"center\">\n\n由 **gclm** 精心打造\n\n</div>\n"
      },
      "plugins": [
        {
          "name": "gclm",
          "source": "./",
          "description": "融合 myclaude/do、cc-plugin/Context Floor、everything-claude-code/TDD 的最佳实践 - TDD-First + llmdoc 优先 + 多 Agent 并行",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add gclm/gclm-flow",
            "/plugin install gclm@gclm-flow-marketplace"
          ]
        }
      ]
    }
  ]
}