{
  "author": {
    "id": "webdevike",
    "display_name": "Isaac Weber",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/18132846?u=9db44a0d2a84231f3d9fc075d0a528faebaf8284&v=4",
    "url": "https://github.com/webdevike",
    "bio": "Team Lead",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 7,
      "total_skills": 2,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "autoclaude",
      "version": null,
      "description": "Autonomous PRD workflow system with validation, hooks, and QA pipeline",
      "owner_info": {
        "name": "Ike"
      },
      "keywords": [],
      "repo_full_name": "webdevike/autoclaude",
      "repo_url": "https://github.com/webdevike/autoclaude",
      "repo_description": "Autonomous PRD workflow system for Claude Code",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-21T00:35:49Z",
        "created_at": "2026-01-20T20:34:08Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 264
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 336
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands/prd-create.md",
          "type": "blob",
          "size": 903
        },
        {
          "path": ".claude/commands/prd-execute.md",
          "type": "blob",
          "size": 2059
        },
        {
          "path": ".claude/commands/prd-plan.md",
          "type": "blob",
          "size": 1184
        },
        {
          "path": ".claude/commands/prd-spawn.md",
          "type": "blob",
          "size": 1051
        },
        {
          "path": ".claude/commands/prd-status.md",
          "type": "blob",
          "size": 980
        },
        {
          "path": ".claude/commands/prd-sync.md",
          "type": "blob",
          "size": 943
        },
        {
          "path": ".claude/commands/prd-watch.md",
          "type": "blob",
          "size": 1015
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/PRD",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/PRD/SKILL.md",
          "type": "blob",
          "size": 3365
        },
        {
          "path": ".claude/skills/PRD/reference",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/PRD/reference/prd-spec.md",
          "type": "blob",
          "size": 2650
        },
        {
          "path": ".claude/skills/PRD/reference/task-spec.md",
          "type": "blob",
          "size": 2310
        },
        {
          "path": ".claude/skills/PRD/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/PRD/workflows/CreatePRD.md",
          "type": "blob",
          "size": 3587
        },
        {
          "path": ".claude/skills/PRD/workflows/ExecutePRD.md",
          "type": "blob",
          "size": 2750
        },
        {
          "path": ".claude/skills/PRD/workflows/PlanPRD.md",
          "type": "blob",
          "size": 5086
        },
        {
          "path": ".claude/skills/PRD/workflows/WorkPRD.md",
          "type": "blob",
          "size": 3267
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 8374
        },
        {
          "path": "hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/hooks.json",
          "type": "blob",
          "size": 784
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/PRD",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/PRD/SKILL.md",
          "type": "blob",
          "size": 2797
        },
        {
          "path": "skills/PRD/reference",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/PRD/reference/prd-spec.md",
          "type": "blob",
          "size": 2650
        },
        {
          "path": "skills/PRD/reference/task-spec.md",
          "type": "blob",
          "size": 2310
        },
        {
          "path": "skills/PRD/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/PRD/workflows/CreatePRD.md",
          "type": "blob",
          "size": 3587
        },
        {
          "path": "skills/PRD/workflows/PlanPRD.md",
          "type": "blob",
          "size": 5086
        },
        {
          "path": "skills/PRD/workflows/WorkPRD.md",
          "type": "blob",
          "size": 3267
        },
        {
          "path": "web",
          "type": "tree",
          "size": null
        },
        {
          "path": "web/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "web/src/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "web/src/hooks/useWebSocket.ts",
          "type": "blob",
          "size": 3537
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"autoclaude\",\n  \"owner\": {\n    \"name\": \"Ike\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"autoclaude\",\n      \"source\": \".\",\n      \"description\": \"Autonomous PRD workflow system with validation, hooks, and QA pipeline\",\n      \"version\": \"1.0.0\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"autoclaude\",\n  \"description\": \"Autonomous PRD workflow system with validation, hooks, and QA pipeline for Node.js/TypeScript projects\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"Ike\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"prd\", \"workflow\", \"automation\", \"qa\", \"typescript\", \"validation\", \"claude\", \"autonomous\"]\n}\n",
        ".claude/commands/prd-create.md": "Create a new PRD (Product Requirements Document).\n\n## Instructions\n\n1. Ask the user what they want to build if not specified in $ARGUMENTS\n2. Gather requirements through conversation:\n   - What problem does it solve?\n   - Who is it for?\n   - What are the constraints?\n3. Research best practices using Exa web search\n4. Create the PRD structure:\n\n```bash\nmkdir -p .claude/prds/<prd-name>/specs\n```\n\n5. Write `.claude/prds/<prd-name>/PRD.md` with:\n   - Objective\n   - Clarifying Questions (Q&A from conversation)\n   - Motivation\n   - Research Findings (from Exa)\n   - Implementation Details (leave Architecture blank)\n   - Constraints\n   - Discussion\n\n6. Create empty tasks.yaml:\n```yaml\n# Tasks will be generated during planning phase\n[]\n```\n\n7. Report what was created and suggest: \"Run `/prd-plan <prd-name>` to generate tasks\"\n\n## Arguments\n$ARGUMENTS - Optional: name or description of what to build\n",
        ".claude/commands/prd-execute.md": "Execute a PRD autonomously with proper task tracking.\n\n## Instructions\n\n1. If no PRD name in $ARGUMENTS, list available PRDs:\n   ```bash\n   ls .claude/prds/\n   ```\n\n2. Verify PRD has defined tasks:\n   ```bash\n   grep -c \"status: defined\" .claude/prds/<prd-name>/tasks.yaml\n   ```\n\n3. Store current PRD for tracking:\n   ```bash\n   echo \"<prd-name>\" > .claude/.current-prd\n   ```\n\n4. For EACH task with `status: defined`:\n\n   **a) Mark as in-progress:**\n   ```bash\n   .claude/skills/PRD/scripts/update-task-status.sh <prd-name> \"<task-name>\" in-progress\n   ```\n\n   **b) Read the spec completely:**\n   ```bash\n   cat .claude/prds/<prd-name>/specs/<task-name>.md\n   ```\n\n   **c) Implement the task** following the spec exactly\n\n   **d) Validate:**\n   ```bash\n   pnpm type-check 2>&1 || npm run type-check 2>&1 || tsc --noEmit 2>&1 || echo \"No type-check configured\"\n   ```\n\n   **e) For frontend/UI tasks, also validate with Agent Browser:**\n   - If the task involves UI components, visual changes, or frontend features\n   - Ensure dev server is running (e.g., `pnpm dev`)\n   - Use Agent Browser to verify:\n     - Components render correctly\n     - No console errors\n     - Visual acceptance criteria met\n   ```bash\n   # Example: Check for console errors on a page\n   agent-browser --url http://localhost:3000 --check-console\n   ```\n\n   **f) Mark as completed (if validation passes):**\n   ```bash\n   .claude/skills/PRD/scripts/update-task-status.sh <prd-name> \"<task-name>\" completed\n   ```\n\n   **g) Or mark as blocked (if stuck):**\n   ```bash\n   .claude/skills/PRD/scripts/update-task-status.sh <prd-name> \"<task-name>\" blocked \"reason\"\n   ```\n\n5. Continue until all tasks are completed or blocked\n\n6. Report final summary:\n   - Tasks completed\n   - Tasks blocked (with reasons)\n   - Files changed\n\n## CRITICAL RULES\n\n- ALWAYS update task status before and after each task\n- ALWAYS read the full spec before implementing\n- ALWAYS validate before marking complete\n- If blocked, document why and continue to next task\n\n## Arguments\n$ARGUMENTS - PRD name to execute\n",
        ".claude/commands/prd-plan.md": "Plan a PRD by generating tasks and specs.\n\n## Instructions\n\n1. If no PRD name in $ARGUMENTS, list available PRDs:\n   ```bash\n   ls .claude/prds/\n   ```\n\n2. Read the PRD:\n   ```bash\n   cat .claude/prds/<prd-name>/PRD.md\n   ```\n\n3. Explore the codebase to understand:\n   - Existing patterns and conventions\n   - Files that will need modification\n   - Dependencies and integrations\n\n4. Ask clarifying questions if needed (document in PRD Discussion section)\n\n5. Research unknowns using Exa if needed\n\n6. Update PRD with:\n   - Architecture section filled in\n   - Relevant Guides\n   - Relevant Files\n\n7. Generate `tasks.yaml` with structure:\n   ```yaml\n   - name: Task Name\n     description: What this task does\n     status: defined\n     spec: specs/task-name.md\n     subtasks:  # optional\n       - name: Subtask Name\n         status: defined\n         spec: specs/subtask-name.md\n   ```\n\n8. Create spec file for each leaf task in `specs/` with:\n   - Objective\n   - Context (dependencies)\n   - Acceptance Criteria\n   - Implementation Notes\n   - Out of Scope\n\n9. Report summary and suggest: \"Run `/prd-execute <prd-name>` to start implementation\"\n\n## Arguments\n$ARGUMENTS - PRD name to plan\n",
        ".claude/commands/prd-spawn.md": "Spawn autonomous PRD execution in a background tmux session.\n\n## Instructions\n\n1. If no PRD name in $ARGUMENTS, list available PRDs and ask which to execute\n\n2. Verify PRD exists and has defined tasks\n\n3. Create a tmux session for execution:\n   ```bash\n   # Create session name from PRD\n   SESSION_NAME=\"prd-<prd-name>\"\n\n   # Check if session exists\n   tmux has-session -t \"$SESSION_NAME\" 2>/dev/null && echo \"Session already exists\" && exit 1\n\n   # Create new session running the execute script\n   tmux new-session -d -s \"$SESSION_NAME\" \"cd $(pwd) && .claude/skills/PRD/scripts/execute-prd.sh <prd-name>\"\n   ```\n\n4. Report to user:\n   ```\n   Spawned autonomous execution in tmux session: prd-<prd-name>\n\n   To monitor:\n     tmux attach -t prd-<prd-name>\n\n   To check status:\n     /prd-status <prd-name>\n\n   To detach (while attached):\n     Ctrl+b then d\n   ```\n\n5. Optionally show live status:\n   ```bash\n   # Show initial task count\n   grep -c \"status: defined\" .claude/prds/<prd-name>/tasks.yaml\n   ```\n\n## Arguments\n$ARGUMENTS - PRD name to spawn\n",
        ".claude/commands/prd-status.md": "Check the status of a PRD's tasks.\n\n## Instructions\n\n1. If no PRD name in $ARGUMENTS, list all PRDs with task counts:\n   ```bash\n   for prd in .claude/prds/*/; do\n     name=$(basename \"$prd\")\n     if [[ -f \"$prd/tasks.yaml\" ]]; then\n       total=$(grep -c \"status:\" \"$prd/tasks.yaml\" 2>/dev/null || echo 0)\n       completed=$(grep -c \"status: complete\" \"$prd/tasks.yaml\" 2>/dev/null || echo 0)\n       echo \"$name: $completed/$total tasks completed\"\n     fi\n   done\n   ```\n\n2. For a specific PRD, show detailed status:\n   ```bash\n   cat .claude/prds/<prd-name>/tasks.yaml | grep -E \"name:|status:|description:\"\n   ```\n\n3. Format output as a table:\n\n   | Task | Status | Description |\n   |------|--------|-------------|\n   | ... | ... | ... |\n\n4. Show summary:\n   - Total tasks\n   - Completed\n   - In Progress\n   - Blocked (with reasons)\n   - Remaining\n\n5. If tasks are blocked, show the blockedReason field\n\n## Arguments\n$ARGUMENTS - Optional: PRD name (shows all PRDs if omitted)\n",
        ".claude/commands/prd-sync.md": "Sync PRD task status with actual implementation state.\n\nUse this when task tracking got out of sync with actual code.\n\n## Instructions\n\n1. Read the PRD and tasks.yaml:\n   ```bash\n   cat .claude/prds/<prd-name>/PRD.md\n   cat .claude/prds/<prd-name>/tasks.yaml\n   ```\n\n2. For each task, check if it's actually implemented:\n   - Read the spec to understand acceptance criteria\n   - Check if the files mentioned in the spec exist\n   - Verify the implementation matches the spec\n\n3. Update task status to match reality:\n   ```bash\n   .claude/skills/PRD/scripts/update-task-status.sh <prd-name> \"<task-name>\" completed\n   ```\n\n4. Report what was synced:\n   ```\n   Synced task status for: <prd-name>\n\n   Updated:\n   - Task A: defined → completed (files exist, implementation matches spec)\n   - Task B: defined → completed (verified)\n\n   Still pending:\n   - Task C: defined (not yet implemented)\n   ```\n\n## Arguments\n$ARGUMENTS - PRD name to sync\n",
        ".claude/commands/prd-watch.md": "Watch PRD execution progress in real-time.\n\n## Instructions\n\n1. If no PRD name in $ARGUMENTS, ask for one\n\n2. Run a watch loop showing progress:\n   ```bash\n   echo \"Watching PRD: <prd-name>\"\n   echo \"Press Ctrl+C to stop\"\n   echo \"\"\n\n   while true; do\n     clear\n     echo \"=== PRD Status: <prd-name> ===\"\n     echo \"$(date)\"\n     echo \"\"\n\n     # Count by status\n     echo \"Tasks:\"\n     grep \"status:\" .claude/prds/<prd-name>/tasks.yaml | sort | uniq -c\n     echo \"\"\n\n     # Show in-progress tasks\n     echo \"Currently working on:\"\n     grep -B1 \"status: in-progress\" .claude/prds/<prd-name>/tasks.yaml | grep \"name:\" || echo \"  (none)\"\n     echo \"\"\n\n     # Show recently modified files\n     echo \"Recent file changes:\"\n     find . -type f -name \"*.ts\" -o -name \"*.tsx\" -mmin -5 2>/dev/null | grep -v node_modules | head -10\n\n     sleep 10\n   done\n   ```\n\n3. Or use the simpler one-shot version:\n   ```bash\n   .claude/skills/PRD/scripts/task-status.sh <prd-name>\n   ```\n\n## Arguments\n$ARGUMENTS - PRD name to watch\n",
        ".claude/skills/PRD/SKILL.md": "---\nname: PRD\ndescription: Product Requirements Document lifecycle management - create, plan, and implement PRDs\nversion: 1.0.0\ntriggers:\n  - \"prd\"\n  - \"create prd\"\n  - \"plan prd\"\n  - \"work on prd\"\n  - \"implement\"\n---\n\n# PRD Skill\n\nComprehensive PRD (Product Requirements Document) management across the complete lifecycle.\n\n## Activation\n\nThis skill activates when users:\n- Mention PRDs or product requirements\n- Want to plan features or projects\n- Need to implement planned tasks\n\n## Process Flow\n\nUpon invocation:\n\n1. **Read the PRD specification** from `reference/prd-spec.md`\n2. **Gather context** by listing existing PRDs and checking task status\n3. **Determine user intent** from trigger words and existing PRD state\n4. **Select appropriate workflow** (Create, Plan, or Work)\n5. **Execute the workflow** completely\n6. **Report results** and suggest next steps\n\n## Workflow Selection\n\n| Trigger Words | Workflow | When to Use |\n|---------------|----------|-------------|\n| create, new, start, draft | `workflows/CreatePRD.md` | Starting a feature from scratch |\n| plan, analyze, research, refine | `workflows/PlanPRD.md` | Existing PRD needs task breakdown |\n| work, implement, build, code, develop | `workflows/WorkPRD.md` | Executing defined tasks |\n| execute, autonomous, run | `workflows/ExecutePRD.md` | Autonomous execution with tracking |\n\n## Autonomous Execution\n\nFor hands-off execution in a tmux session:\n\n```bash\n# Start autonomous execution with task tracking\n.claude/skills/PRD/scripts/execute-prd.sh <prd-name>\n\n# Monitor progress\n.claude/skills/PRD/scripts/task-status.sh <prd-name>\n```\n\nThis ensures:\n- Task status updated to `in-progress` before each task\n- Validation runs before marking `completed`\n- Blocked tasks documented with reasons\n\n## Decision Logic\n\n```\nUser mentions PRD\n       │\n       ▼\n┌─────────────────────┐\n│ PRD exists?         │\n└─────────────────────┘\n       │\n   No  │  Yes\n       │    │\n       ▼    ▼\n  CreatePRD  ┌─────────────────┐\n             │ Tasks defined?  │\n             └─────────────────┘\n                    │\n               No   │  Yes\n                    │    │\n                    ▼    ▼\n               PlanPRD  WorkPRD\n```\n\n## Available Scripts\n\nRun via bash to query PRD state:\n\n| Script | Purpose |\n|--------|---------|\n| `scripts/list-prds.sh` | List all PRDs |\n| `scripts/list-defined-tasks.sh` | Show tasks ready to implement |\n| `scripts/list-draft-tasks.sh` | Show tasks needing specs |\n| `scripts/task-status.sh` | Get status of specific task |\n| `scripts/update-task-status.sh` | Update task status |\n| `scripts/research-status.sh` | Check research completion |\n| `scripts/execute-prd.sh` | **Start autonomous execution** |\n\n## Requirements\n\nBefore proceeding:\n1. **Read the workflow document completely** before execution\n2. **Follow each step in order** - don't skip ahead\n3. **Report what was accomplished** with suggested next steps\n\n## Reference Materials\n\n- `reference/prd-spec.md` - PRD file format specification\n- `reference/task-spec.md` - Task specification template\n- `schemas/tasks.schema.json` - Task YAML validation\n- `schemas/research.schema.json` - Research YAML validation\n",
        ".claude/skills/PRD/reference/prd-spec.md": "# PRD Specification\n\nStandard format for Product Requirements Documents.\n\n## File Location\n\n```\n.claude/prds/[prd-name]/\n├── PRD.md              # Main requirements document\n├── tasks.yaml          # Task definitions\n├── research.yaml       # Research questions (optional)\n└── specs/              # Task specifications\n    ├── task-one.md\n    └── task-two.md\n```\n\nUse kebab-case for `[prd-name]` (e.g., `user-authentication`).\n\n## PRD.md Structure\n\n```markdown\n# [Feature Name]\n\n## Objective\n\n[Clear statement of what we're building]\n\n### Clarifying Questions\n\n- Q: [Question]\n  A: [Answer]\n\n## Motivation\n\n[Why this matters, problem being solved, impact]\n\n## Implementation Details\n\n### Architecture\n\n[High-level technical approach]\n\n### Constraints\n\n- [Technical constraints]\n- [Performance requirements]\n- [Compatibility requirements]\n\n### Relevant Guides\n\n- [Links to documentation]\n- [Internal guides]\n\n### Relevant Files\n\n- `src/relevant/file.ts` - [Why relevant]\n\n## Discussion\n\n[Additional Q&A, decisions made, alternatives considered]\n```\n\n## tasks.yaml Structure\n\n```yaml\n- name: Task Name\n  description: What this task accomplishes\n  status: draft | defined | in-progress | completed | blocked\n  spec: specs/task-name.md\n  blockedReason: \"Required if status is blocked\"\n  subtasks:\n    - name: Subtask Name\n      description: Subtask description\n      status: defined\n      spec: specs/subtask-name.md\n```\n\n### Task Statuses\n\n| Status | Meaning |\n|--------|---------|\n| `draft` | Initial definition, spec not complete |\n| `defined` | Spec complete, ready to implement |\n| `in-progress` | Currently being worked on |\n| `completed` | Done and validated |\n| `blocked` | Cannot proceed (requires `blockedReason`) |\n\n### Execution Order\n\n- **Top-level tasks**: Execute sequentially\n- **Subtasks**: Can execute in parallel\n\n### Spec Requirement\n\nEvery leaf task (task without subtasks) **must** have a `spec` file.\n\n## research.yaml Structure (Optional)\n\n```yaml\n- text: \"Research question?\"\n  mode: answer           # Quick lookup\n  answer: \"Found answer\"\n  citations:\n    - url: https://example.com\n      title: Source Title\n\n- text: \"Complex research topic?\"\n  mode: deep-research    # Comprehensive research\n  answer: |\n    Detailed findings...\n```\n\n## Path Resolution\n\nAll relative paths in PRD files are relative to the PRD directory, not the repository root.\n\nExample: If PRD is at `.claude/prds/my-feature/PRD.md`, then `specs/task.md` refers to `.claude/prds/my-feature/specs/task.md`.\n\n## Temporary Files\n\nStore temporary/working files within the PRD directory:\n```\n.claude/prds/[prd-name]/tmp/\n```\n",
        ".claude/skills/PRD/reference/task-spec.md": "# Task Specification Template\n\nStandard format for task specification files.\n\n## File Location\n\n```\n.claude/prds/[prd-name]/specs/[task-name].md\n```\n\nThe path is defined in `tasks.yaml` via the `spec` field.\n\n## Template\n\n```markdown\n# [Task Name]\n\n## Objective\n\n[Clear, actionable statement of what this task accomplishes]\n\nExpected outcome:\n- [Specific deliverable 1]\n- [Specific deliverable 2]\n\n## Context\n\n- **Parent PRD**: [prd-name]\n- **Dependencies**: [Tasks that must complete before this one]\n- **Dependents**: [Tasks that depend on this one]\n\n## Acceptance Criteria\n\n- [ ] [Specific, verifiable criterion]\n- [ ] [Another verifiable criterion]\n- [ ] All tests pass\n- [ ] No TypeScript errors\n- [ ] No lint errors\n\n## Implementation Notes\n\n| Aspect | Details |\n|--------|---------|\n| Files to modify | `src/existing-file.ts:45-60` |\n| Files to create | `src/new-file.ts` |\n| Files to delete | `src/deprecated.ts` |\n| Key patterns | Follow existing [pattern] in `src/example.ts` |\n| Technical constraints | [From PRD constraints] |\n\n### Code References\n\nRelevant existing code:\n- `src/file.ts:123` - Similar implementation\n- `src/other.ts:45` - Pattern to follow\n\n### Example (Optional)\n\n\\`\\`\\`typescript\n// Expected usage or implementation pattern\n\\`\\`\\`\n\n## Testing Requirements\n\n- [ ] Unit tests for [component]\n- [ ] Integration test for [flow]\n- [ ] Manual verification of [behavior]\n\n## Out of Scope\n\n- [Explicitly what this task does NOT include]\n- [Prevents scope creep]\n```\n\n## Guidelines\n\n### Objective\n- Be specific and actionable\n- State expected outcomes clearly\n- One task = one clear goal\n\n### Acceptance Criteria\n- Each criterion must be verifiable\n- Use checkbox format for tracking\n- Include quality gates (tests, types, lint)\n\n### Implementation Notes\n- Use specific file paths with line numbers\n- Reference existing patterns to follow\n- Note any constraints from the PRD\n\n### Out of Scope\n- Explicitly state boundaries\n- Prevents scope creep during implementation\n- Helps maintain focus\n\n## Quality Checklist\n\nA good task spec:\n- [ ] Has clear, actionable objective\n- [ ] Lists specific files to modify/create\n- [ ] References existing code patterns\n- [ ] Has verifiable acceptance criteria\n- [ ] Defines what's out of scope\n- [ ] Can be completed independently (after dependencies)\n",
        ".claude/skills/PRD/workflows/CreatePRD.md": "# CreatePRD Workflow\n\nCreate a new Product Requirements Document through structured information gathering and research.\n\n## Prerequisites\n\n- User has expressed intent to create a new feature/project\n- No existing PRD for this feature\n\n## Workflow Steps\n\n### Step 1: Initial Information Gathering\n\nAsk the user these questions (adapt based on context):\n\n**Objective:**\n- \"What problem are you trying to solve?\"\n- \"What should this feature/project accomplish?\"\n- \"Who is the target user?\"\n\n**Motivation:**\n- \"Why is this important now?\"\n- \"What value does this provide?\"\n- \"What happens if we don't build this?\"\n\n**Constraints:**\n- \"Are there technical constraints I should know about?\"\n- \"Any performance requirements?\"\n- \"Compatibility requirements?\"\n- \"What's explicitly out of scope?\"\n\n### Step 2: Research with Exa\n\nUse **Exa web search** to inform the PRD with industry knowledge:\n\n**Research queries to run:**\n- \"[feature type] best practices [year]\"\n- \"[feature type] common pitfalls to avoid\"\n- \"[technology/framework] [feature type] implementation patterns\"\n- \"companies that built [similar feature] architecture\"\n\n**What to look for:**\n- Industry best practices and standards\n- Common implementation patterns\n- Security considerations\n- Performance benchmarks\n- UX patterns that work well\n- Edge cases others have encountered\n\n**Document findings:**\n- Note relevant insights in the PRD's \"Research Findings\" section\n- Include citations/links for reference\n- Highlight anything that affects scope or constraints\n\n### Step 3: Create PRD Directory\n\n```bash\nmkdir -p .claude/prds/[prd-name]/specs\n```\n\nUse kebab-case for `[prd-name]` (e.g., `user-authentication`, `payment-processing`).\n\n### Step 4: Create PRD.md\n\nCreate `.claude/prds/[prd-name]/PRD.md` with this structure:\n\n```markdown\n# [Feature Name]\n\n## Objective\n\n[Clear statement of what we're building and why]\n\n### Clarifying Questions\n\n- Q: [Question asked during creation]\n  A: [User's answer]\n\n## Motivation\n\n[Why this matters, what problem it solves, impact if not built]\n\n## Research Findings\n\n_Insights gathered from Exa web search:_\n\n### Best Practices\n- [Key best practice from research]\n- [Another best practice]\n\n### Common Pitfalls\n- [Pitfall to avoid]\n- [Another pitfall]\n\n### Industry Patterns\n- [Pattern used by others]\n\n### Sources\n- [URL 1] - [Brief description]\n- [URL 2] - [Brief description]\n\n## Implementation Details\n\n### Architecture\n\n_To be determined during planning phase._\n\n### Constraints\n\n- [Technical constraint 1]\n- [Performance requirement]\n- [Compatibility requirement]\n- [Constraint informed by research]\n\n### Relevant Guides\n\n_To be populated during planning phase._\n\n### Relevant Files\n\n_To be populated during planning phase._\n\n## Discussion\n\n[Any additional Q&A from the creation process]\n```\n\n### Step 5: Create Initial tasks.yaml\n\nCreate `.claude/prds/[prd-name]/tasks.yaml`:\n\n```yaml\n# [Feature Name] Tasks\n# Tasks will be generated during planning phase\n\n[]\n```\n\n### Step 6: Report Results\n\nSummarize:\n- PRD created at `.claude/prds/[prd-name]/PRD.md`\n- Research conducted (list key findings)\n- Ready for planning phase\n- Suggest: \"Run `/autoclaude:PRD` and say 'plan [prd-name]' to generate tasks\"\n\n## Important Notes\n\n- **Do** use Exa to research before writing the PRD\n- **Do** capture research findings with sources in the PRD\n- **Do** capture all clarifying Q&A in the PRD\n- **Do NOT** fill in Architecture, Relevant Guides, or Relevant Files during creation\n- **Do NOT** generate tasks during creation - that's the planning phase\n- Keep the PRD focused and avoid scope creep\n",
        ".claude/skills/PRD/workflows/ExecutePRD.md": "# ExecutePRD Workflow\n\nAutonomous execution of PRD tasks with proper status tracking.\n\n## Prerequisites\n\n- PRD exists with `defined` tasks\n- All specs created\n- Working directory is the project root\n\n## Execution Modes\n\n### Mode 1: Sequential (Default)\nWork through tasks one at a time. Safer, easier to debug.\n\n```bash\nclaude -p \"Execute PRD: voice-driven-dev-assistant\" --allowedTools \"Read,Write,Edit,Bash,Glob,Grep\"\n```\n\n### Mode 2: Parallel (Workmux)\nUse git worktrees for parallel execution. Faster, requires coordination.\n\n```bash\nworkmux start --prd voice-driven-dev-assistant\n```\n\n## Workflow Steps\n\n### Step 1: Load PRD Context\n\n1. Read `.claude/prds/[prd-name]/PRD.md`\n2. Read `.claude/prds/[prd-name]/tasks.yaml`\n3. Identify tasks with `status: defined`\n\n### Step 2: For Each Task\n\n#### 2a. Start Task\n```bash\n.claude/skills/PRD/scripts/update-task-status.sh [prd-name] \"[task-name]\" in-progress\n```\n\n#### 2b. Read Spec\nRead `specs/[task-name].md` completely before implementing.\n\n#### 2c. Implement\nFollow the spec exactly. Check acceptance criteria as you go.\n\n#### 2d. Validate\n```bash\npnpm type-check\npnpm lint 2>/dev/null || true\npnpm test 2>/dev/null || true\n```\n\n#### 2e. Update Status\n\n**If successful:**\n```bash\n.claude/skills/PRD/scripts/update-task-status.sh [prd-name] \"[task-name]\" completed\n```\n\n**If blocked:**\n```bash\n.claude/skills/PRD/scripts/update-task-status.sh [prd-name] \"[task-name]\" blocked \"Reason\"\n```\n\n### Step 3: Report Progress\n\nAfter each task, output:\n```\n✅ [Task Name] - completed\n   Files: src/file.ts, src/other.ts\n   Validation: type-check ✓, tests ✓\n```\n\n### Step 4: Continue or Finish\n\n- If more `defined` tasks exist → return to Step 2\n- If all tasks `completed` → output summary\n- If blocked → document and continue to next task\n\n## Integration with Workmux\n\nWhen using workmux for parallel execution, add post-merge hook:\n\n```yaml\n# .workmux.yaml\npost_merge:\n  - |\n    TASK_NAME=$(git branch --show-current)\n    .claude/skills/PRD/scripts/update-task-status.sh [prd-name] \"$TASK_NAME\" completed\n```\n\n## Autonomous Execution Prompt\n\nUse this prompt for fully autonomous execution:\n\n```\nYou are executing the PRD at .claude/prds/[prd-name]/\n\nCRITICAL RULES:\n1. ALWAYS update task status using .claude/skills/PRD/scripts/update-task-status.sh\n2. Read the full spec before implementing ANY task\n3. Validate with pnpm type-check before marking complete\n4. If blocked, mark as blocked with reason and continue to next task\n5. Work through tasks in order (top-level sequential, subtasks can be parallel)\n\nStart by reading tasks.yaml and finding the first task with status: defined\n```\n\n## Verification\n\nCheck progress anytime:\n```bash\n.claude/skills/PRD/scripts/task-status.sh [prd-name]\n```\n",
        ".claude/skills/PRD/workflows/PlanPRD.md": "# PlanPRD Workflow\n\nAnalyze an existing PRD, conduct research, and generate implementation tasks.\n\n## Prerequisites\n\n- PRD exists at `.claude/prds/[prd-name]/PRD.md`\n- PRD has Objective, Motivation, and Constraints defined\n- User wants to plan/break down the work\n\n## Workflow Steps\n\n### Phase 1: Analysis (Steps 1-4)\n\n#### Step 1: Deep PRD Analysis\n\nRead the PRD thoroughly. Evaluate:\n- Is the objective clear and specific?\n- Are constraints well-defined?\n- Are there ambiguities that need clarification?\n- What technical decisions need to be made?\n\n#### Step 2: Codebase Exploration\n\nExplore relevant parts of the codebase:\n- Identify files that will need modification\n- Understand existing patterns and conventions\n- Note dependencies and integrations\n- Update PRD's \"Relevant Files\" section\n\n#### Step 3: User Clarification\n\nIf ambiguities exist, ask the user:\n- Technical approach questions\n- Scope clarifications\n- Priority decisions\n\nDocument all Q&A in the PRD's Discussion section.\n\n#### Step 4: Checkpoint - Re-analysis Needed?\n\nEvaluate if clarifications require re-analysis.\n- If yes: Return to Step 1\n- If no: Proceed to Phase 2\n\n### Phase 2: Research (Steps 5-7)\n\n#### Step 5: Generate Research Questions\n\nIf unknowns exist, create `.claude/prds/[prd-name]/research.yaml`:\n\n```yaml\n- text: \"How does [library] handle [specific case]?\"\n  mode: answer  # or deep-research for complex topics\n\n- text: \"Best practices for [pattern] in [framework]?\"\n  mode: answer\n```\n\nMaximum 25 questions. Focus on:\n- Unknown APIs or libraries\n- Best practices for specific patterns\n- Integration approaches\n- Performance considerations\n\n#### Step 6: Execute Research with Exa\n\nFor each unanswered question:\n\n**Use Exa web search for:**\n- API documentation and usage patterns\n- Library comparisons and recommendations\n- Best practices for specific implementations\n- Performance optimization techniques\n- Security considerations\n\n**Search query patterns:**\n- \"[library] [specific use case] example\"\n- \"[framework] [pattern] best practices [year]\"\n- \"[technology] vs [technology] comparison\"\n- \"how to [specific task] in [language/framework]\"\n\n**Document findings:**\n- Add `answer` field to each question in research.yaml\n- Include relevant code snippets if applicable\n- Add source URLs for reference\n\nExample:\n```yaml\n- text: \"How does Stripe handle idempotency keys?\"\n  mode: answer\n  answer: |\n    Stripe uses idempotency keys to prevent duplicate operations.\n    Pass `Idempotency-Key` header with a unique value (UUID recommended).\n    Keys expire after 24 hours. Same key + same request = cached response.\n    Source: https://stripe.com/docs/api/idempotent_requests\n```\n\n#### Step 7: Checkpoint - Research Impact\n\nEvaluate if findings change previous decisions.\n- If yes: Return to Step 1 with new context\n- If no: Proceed to Phase 3\n\n### Phase 3: Planning (Steps 8-11)\n\n#### Step 8: Update PRD\n\nIncorporate research findings into PRD:\n- Update Architecture section\n- Add Relevant Guides\n- Refine Constraints if needed\n- PRD should be self-contained (no need to reference research.yaml later)\n\n#### Step 9: Generate Tasks\n\nCreate/update `.claude/prds/[prd-name]/tasks.yaml`:\n\n```yaml\n- name: Setup and Configuration\n  description: Initial project setup\n  status: draft\n  spec: specs/setup.md\n  subtasks:\n    - name: Initialize project structure\n      description: Create directory structure and config files\n      status: draft\n      spec: specs/init-structure.md\n\n    - name: Configure dependencies\n      description: Set up package.json and install deps\n      status: draft\n      spec: specs/dependencies.md\n\n- name: Core Feature Implementation\n  description: Main feature logic\n  status: draft\n  spec: specs/core-feature.md\n```\n\nRules:\n- Top-level tasks are worked **sequentially**\n- Subtasks can be worked **in parallel**\n- Every leaf task needs a `spec` file\n- All tasks start as `draft`\n\n#### Step 10: Create Task Specs\n\nFor each leaf task, create spec file following `reference/task-spec.md`:\n\n```markdown\n# [Task Name]\n\n## Objective\n\n[Clear, actionable statement of what this task accomplishes]\n\n## Context\n\n- **Parent PRD**: [prd-name]\n- **Dependencies**: [tasks that must complete first]\n\n## Acceptance Criteria\n\n- [ ] [Specific, verifiable criterion]\n- [ ] [Another criterion]\n- [ ] All tests pass\n- [ ] No TypeScript errors\n\n## Implementation Notes\n\n| Aspect | Details |\n|--------|---------|\n| Files to modify | `src/file.ts` |\n| Files to create | `src/new-file.ts` |\n| Key patterns | [Pattern to follow] |\n\n## Out of Scope\n\n- [What this task does NOT include]\n```\n\n#### Step 11: Validation\n\nVerify:\n- [ ] All research questions answered\n- [ ] Discussion questions resolved\n- [ ] Objective is clear and actionable\n- [ ] Constraints documented\n- [ ] All tasks have specs\n- [ ] Acceptance criteria are verifiable\n\nUpdate task statuses from `draft` to `defined`.\n\n### Step 12: Report Results\n\nSummarize:\n- Tasks generated (count)\n- Research conducted (if any)\n- Key architectural decisions\n- Suggest: \"Run `/autoclaude:PRD` and say 'work on [prd-name]' to start implementation\"\n",
        ".claude/skills/PRD/workflows/WorkPRD.md": "# WorkPRD Workflow\n\nImplement tasks defined in a PRD through systematic execution and validation.\n\n## Prerequisites\n\n- PRD exists with defined tasks (status: `defined`)\n- All research completed\n- All discussion questions answered\n- Task specs exist for all leaf tasks\n\nRun `scripts/list-defined-tasks.sh [prd-name]` to verify readiness.\n\n## Workflow Steps\n\n### Step 1: Select Task\n\nGet the next task to implement:\n\n```bash\n./scripts/list-defined-tasks.sh [prd-name]\n```\n\nSelect tasks in order:\n1. Top-level tasks are worked **sequentially**\n2. Subtasks under a parent can be worked **in parallel**\n\n### Step 2: Read Task Spec\n\nLoad the task specification:\n- Read `specs/[task-name].md` completely\n- Understand acceptance criteria\n- Note dependencies and constraints\n- Identify files to modify/create\n\n### Step 3: Implement\n\nExecute the task following the spec:\n\n1. **Read existing code** before making changes\n2. **Follow project patterns** and conventions\n3. **Implement incrementally** - small, testable changes\n4. **Run validation** as you go:\n   ```bash\n   npm run type-check\n   npm run lint\n   npm run test\n   ```\n\n### Step 4: Validate\n\nBefore marking complete, verify ALL acceptance criteria:\n\n- [ ] Each criterion in spec is met\n- [ ] TypeScript compiles without errors\n- [ ] Lint passes (warnings OK)\n- [ ] Tests pass\n- [ ] No regressions introduced\n\nRun full QA pipeline:\n```bash\nFRONTEND_URL=http://localhost:3000 ./scripts/qa-pipeline.sh [project-path]\n```\n\n### Step 5: Update Task Status\n\nIf successful:\n```bash\n./scripts/update-task-status.sh [prd-name] [task-name] completed\n```\n\nIf blocked:\n```bash\n./scripts/update-task-status.sh [prd-name] [task-name] blocked \"Reason for blocker\"\n```\n\nDocument blockers in tasks.yaml with `blockedReason` field.\n\n### Step 6: Update Documentation\n\nFocus on **Why** and **Intent**, not What (code shows what it does).\n\nUpdate as needed:\n- README if user-facing changes\n- API documentation if endpoints changed\n- Inline comments for complex logic\n- Configuration docs if settings added\n\n### Step 7: Repeat or Report\n\nIf more tasks remain:\n- Return to Step 1\n- Continue until all tasks complete or blocked\n\nWhen finished, report:\n\n```\n## Implementation Summary\n\n### Completed\n- [x] Task 1 - Brief description\n- [x] Task 2 - Brief description\n\n### Blocked (if any)\n- [ ] Task 3 - Blocker reason\n\n### Files Changed\n- `src/file.ts` - Added feature X\n- `src/other.ts` - Modified for Y\n\n### Key Decisions\n- Chose approach A over B because...\n\n### Next Steps\n- [Suggestions for follow-up work]\n```\n\n## Guidelines\n\n### Do\n- Stay focused on spec requirements\n- Respect technical constraints from PRD\n- Complete all testing before marking done\n- Document blockers immediately\n- Read surrounding code before editing\n\n### Don't\n- Expand scope beyond spec\n- Skip validation steps\n- Ignore failing tests\n- Work around blockers without documenting\n- Make changes without understanding context\n\n## Blocker Protocol\n\nWhen truly blocked:\n\n1. Document in tasks.yaml:\n   ```yaml\n   - name: Task Name\n     status: blocked\n     blockedReason: |\n       Cannot proceed because X.\n       Tried: A, B, C\n       Need: User decision on Y\n   ```\n\n2. Move to next available task\n3. Report blocker in summary\n4. Wait for user input if no other tasks\n",
        "README.md": "# autoclaude\n\nAutonomous PRD workflow system for Claude Code. Build entire features hands-off with automatic task tracking, validation, and progress monitoring.\n\n## Quick Start - Fully Autonomous\n\n### 1. Create a PRD (Interactive)\n```bash\n# In Claude Code\n/prd-create my-feature\n```\nAnswer questions about what you want to build. Claude will research best practices and create the PRD.\n\n### 2. Plan the PRD (Interactive)\n```bash\n/prd-plan my-feature\n```\nClaude analyzes the codebase, generates tasks with specs, and asks clarifying questions.\n\n### 3. Execute Autonomously (Hands-Off)\n```bash\n# Option A: Run in current session\n/prd-execute my-feature\n\n# Option B: Spawn in background tmux (recommended for long tasks)\n/prd-spawn my-feature\n```\n\n### 4. Monitor Progress\n```bash\n# Check status anytime\n/prd-status my-feature\n\n# Or from terminal\n.claude/skills/PRD/scripts/task-status.sh my-feature\n```\n\n---\n\n## Slash Commands\n\n| Command | Description | Mode |\n|---------|-------------|------|\n| `/prd-create <name>` | Create new PRD through Q&A | Interactive |\n| `/prd-plan <name>` | Generate tasks and specs | Interactive |\n| `/prd-execute <name>` | Execute all tasks with tracking | **Autonomous** |\n| `/prd-spawn <name>` | Execute in background tmux | **Autonomous** |\n| `/prd-status [name]` | Check task completion status | Query |\n| `/prd-watch <name>` | Live-watch execution progress | Query |\n| `/prd-sync <name>` | Sync task status with actual code | Repair |\n\n---\n\n## Autonomous Execution Details\n\n### What `/prd-execute` Does\n\nFor **each task** with `status: defined`:\n\n1. **Marks task `in-progress`** in tasks.yaml\n2. **Reads the full spec** from `specs/<task-name>.md`\n3. **Implements** following acceptance criteria exactly\n4. **Validates** with `pnpm type-check` (or equivalent)\n5. **Marks task `completed`** (or `blocked` with reason)\n6. **Continues** to next task until all done\n\n### What `/prd-spawn` Does\n\nSame as `/prd-execute` but:\n- Runs in a **detached tmux session**\n- You can close your terminal and it keeps running\n- Attach anytime with `tmux attach -t prd-<name>`\n\n### Running in tmux Manually\n\n```bash\n# Create tmux session\ntmux new-session -s my-feature\n\n# Run autonomous execution\n.claude/skills/PRD/scripts/execute-prd.sh my-feature\n\n# Detach: Ctrl+b then d\n# Reattach: tmux attach -t my-feature\n```\n\n---\n\n## Full Workflow Example\n\n```bash\n# Step 1: Start Claude Code in your project\ncd my-project\nclaude\n\n# Step 2: Create PRD\n> /prd-create user-authentication\n\n# (Claude asks questions, you answer)\n# (Claude researches with Exa, creates PRD.md)\n\n# Step 3: Plan implementation\n> /prd-plan user-authentication\n\n# (Claude explores codebase, generates tasks.yaml + specs/)\n\n# Step 4: Review the plan\n> cat .claude/prds/user-authentication/tasks.yaml\n\n# Step 5: Execute autonomously\n> /prd-spawn user-authentication\n\n# (Claude works in background)\n\n# Step 6: Check progress periodically\n> /prd-status user-authentication\n\n# Output:\n# Task                    Status\n# ----------------------  ---------\n# Project Setup           complete\n# Database Schema         complete\n# Auth Controller         in-progress\n# Frontend Components     defined\n# ...\n```\n\n---\n\n## Task Status Tracking\n\nThe system **automatically tracks** task status in `tasks.yaml`:\n\n| Status | Meaning |\n|--------|---------|\n| `draft` | Needs specification |\n| `defined` | Has spec, ready to implement |\n| `in-progress` | Currently being worked on |\n| `completed` | Done and validated |\n| `blocked` | Cannot proceed (see `blockedReason`) |\n\n### Status Update Commands\n\n```bash\n# Update manually if needed\n.claude/skills/PRD/scripts/update-task-status.sh <prd> \"<task>\" completed\n.claude/skills/PRD/scripts/update-task-status.sh <prd> \"<task>\" blocked \"reason\"\n\n# Sync status with actual code state\n/prd-sync my-feature\n```\n\n---\n\n## Project Structure\n\nAfter running the workflow, your project will have:\n\n```\nyour-project/\n├── .claude/\n│   ├── commands/              # Slash commands (if local)\n│   │   ├── prd-create.md\n│   │   ├── prd-execute.md\n│   │   └── ...\n│   ├── prds/\n│   │   └── my-feature/\n│   │       ├── PRD.md         # Requirements document\n│   │       ├── tasks.yaml     # Task list with statuses\n│   │       ├── research.yaml  # Research Q&A\n│   │       └── specs/         # Per-task specifications\n│   │           ├── setup.md\n│   │           ├── auth.md\n│   │           └── ...\n│   └── skills/\n│       └── PRD/               # The PRD skill\n└── (your code)\n```\n\n---\n\n## Validation & QA\n\n### Automatic Validation\n\nBefore marking any task complete, Claude runs:\n```bash\npnpm type-check   # TypeScript validation\npnpm lint         # Linting (if configured)\npnpm test         # Tests (if configured)\n```\n\n### Frontend Validation with Agent Browser\n\n**For UI/frontend tasks**, Claude uses [Agent Browser](https://github.com/anthropics/agent-browser) to:\n- Open the app in a real browser\n- Take screenshots to verify UI changes\n- Check for console errors\n- Validate that components render correctly\n\n```bash\n# Install Agent Browser globally\nnpm install -g agent-browser\n\n# Claude will automatically use it for frontend verification\n# Make sure your dev server is running:\npnpm dev  # or npm run dev\n```\n\n**In your task specs**, include visual acceptance criteria:\n```markdown\n## Acceptance Criteria\n- [ ] Button renders with correct styling\n- [ ] Click triggers expected action\n- [ ] No console errors\n- [ ] Responsive on mobile viewport\n```\n\nClaude will use Agent Browser to verify these before marking the task complete.\n\n### QA Pipeline (Full Validation)\n\nFor comprehensive checks including browser validation:\n```bash\n# Start your dev server first\npnpm dev &\n\n# Run full QA pipeline\nFRONTEND_URL=http://localhost:3000 ./scripts/qa-pipeline.sh /path/to/project\n```\n\n**QA Pipeline checks:**\n| Check | Tool | What it validates |\n|-------|------|-------------------|\n| Types | `tsc --noEmit` | TypeScript compilation |\n| Lint | ESLint | Code style issues |\n| Build | `npm run build` | Production build works |\n| Tests | `npm test` | Unit/integration tests |\n| Frontend | curl | Server responds with HTML |\n| Console | **Agent Browser** | No browser console errors |\n| Secrets | grep patterns | No hardcoded credentials |\n| Deps | `npm audit` | No vulnerable dependencies |\n\n---\n\n## Autonomy Rules\n\n### Agent Decides Autonomously\n- Implementation details within spec\n- Code style and formatting\n- Library choices (when multiple valid options)\n- Error handling patterns\n- File organization\n\n### Agent Blocks (Asks for Help)\n- Ambiguous business requirements\n- Breaking changes to existing APIs\n- Missing critical information\n- Security-sensitive decisions\n\nWhen blocked, the task is marked `blocked` with a reason, and Claude continues to the next task.\n\n---\n\n## Installation\n\n### Option 1: Copy to Your Project\n```bash\n# Copy the .claude directory to your project\ncp -r autoclaude/.claude your-project/.claude\n```\n\n### Option 2: Global Commands\n```bash\n# Copy commands to global Claude config\ncp autoclaude/.claude/commands/* ~/.claude/commands/\n```\n\n### Option 3: Plugin (Coming Soon)\n```bash\n/plugin marketplace add webdevike/autoclaude\n```\n\n---\n\n## Configuration\n\n### For Parallel Execution (Workmux)\n\nIf using workmux for parallel task execution, add to `.workmux.yaml`:\n\n```yaml\npost_merge:\n  - |\n    if [[ -f .claude/.current-prd ]]; then\n      PRD_NAME=$(cat .claude/.current-prd)\n      BRANCH_NAME=\"${WORKMUX_BRANCH:-unknown}\"\n      .claude/skills/PRD/scripts/update-task-status.sh \"$PRD_NAME\" \"$BRANCH_NAME\" completed\n    fi\n```\n\n### Environment Variables\n\n```bash\n# Required for Exa research\nexport EXA_API_KEY=your-key\n\n# Required for Claude\nexport ANTHROPIC_API_KEY=your-key\n```\n\n---\n\n## Troubleshooting\n\n### Task status not updating?\n```bash\n/prd-sync my-feature\n```\n\n### Want to restart a task?\n```bash\n.claude/skills/PRD/scripts/update-task-status.sh my-feature \"task-name\" defined\n```\n\n### Execution stuck?\nCheck the tmux session:\n```bash\ntmux attach -t prd-my-feature\n```\n\n---\n\n## Requirements\n\n- Claude Code CLI\n- Node.js 18+\n- pnpm (or npm)\n- tmux (for `/prd-spawn`)\n- Exa API key (for research)\n- **Agent Browser** (for frontend validation): `npm install -g agent-browser`\n\n---\n\n## License\n\nMIT\n",
        "hooks/hooks.json": "{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Edit|Write|MultiEdit\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"filepath=\\\"$CLAUDE_FILE_PATH\\\"; if [[ \\\"$filepath\\\" == *.ts ]]; then npx tsc --noEmit \\\"$filepath\\\" 2>&1 | head -20 || true; fi\"\n          }\n        ]\n      },\n      {\n        \"matcher\": \"Edit|Write\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"filepath=\\\"$CLAUDE_FILE_PATH\\\"; if [[ \\\"$filepath\\\" == *tasks.yaml ]]; then check-jsonschema --schemafile \\\"${CLAUDE_PLUGIN_ROOT}/skills/PRD/schemas/tasks.schema.json\\\" \\\"$filepath\\\" 2>&1 || echo '{\\\"decision\\\": \\\"block\\\", \\\"reason\\\": \\\"tasks.yaml failed schema validation\\\"}'; fi\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "skills/PRD/SKILL.md": "---\nname: PRD\ndescription: Product Requirements Document lifecycle management - create, plan, and implement PRDs\nversion: 1.0.0\ntriggers:\n  - \"prd\"\n  - \"create prd\"\n  - \"plan prd\"\n  - \"work on prd\"\n  - \"implement\"\n---\n\n# PRD Skill\n\nComprehensive PRD (Product Requirements Document) management across the complete lifecycle.\n\n## Activation\n\nThis skill activates when users:\n- Mention PRDs or product requirements\n- Want to plan features or projects\n- Need to implement planned tasks\n\n## Process Flow\n\nUpon invocation:\n\n1. **Read the PRD specification** from `reference/prd-spec.md`\n2. **Gather context** by listing existing PRDs and checking task status\n3. **Determine user intent** from trigger words and existing PRD state\n4. **Select appropriate workflow** (Create, Plan, or Work)\n5. **Execute the workflow** completely\n6. **Report results** and suggest next steps\n\n## Workflow Selection\n\n| Trigger Words | Workflow | When to Use |\n|---------------|----------|-------------|\n| create, new, start, draft | `workflows/CreatePRD.md` | Starting a feature from scratch |\n| plan, analyze, research, refine | `workflows/PlanPRD.md` | Existing PRD needs task breakdown |\n| work, implement, build, code, develop | `workflows/WorkPRD.md` | Executing defined tasks |\n\n## Decision Logic\n\n```\nUser mentions PRD\n       │\n       ▼\n┌─────────────────────┐\n│ PRD exists?         │\n└─────────────────────┘\n       │\n   No  │  Yes\n       │    │\n       ▼    ▼\n  CreatePRD  ┌─────────────────┐\n             │ Tasks defined?  │\n             └─────────────────┘\n                    │\n               No   │  Yes\n                    │    │\n                    ▼    ▼\n               PlanPRD  WorkPRD\n```\n\n## Available Scripts\n\nRun via bash to query PRD state:\n\n| Script | Purpose |\n|--------|---------|\n| `scripts/list-prds.sh` | List all PRDs |\n| `scripts/list-defined-tasks.sh` | Show tasks ready to implement |\n| `scripts/list-draft-tasks.sh` | Show tasks needing specs |\n| `scripts/task-status.sh` | Get status of specific task |\n| `scripts/update-task-status.sh` | Update task status |\n| `scripts/research-status.sh` | Check research completion |\n\n## Requirements\n\nBefore proceeding:\n1. **Read the workflow document completely** before execution\n2. **Follow each step in order** - don't skip ahead\n3. **Report what was accomplished** with suggested next steps\n\n## Reference Materials\n\n- `reference/prd-spec.md` - PRD file format specification\n- `reference/task-spec.md` - Task specification template\n- `schemas/tasks.schema.json` - Task YAML validation\n- `schemas/research.schema.json` - Research YAML validation\n",
        "skills/PRD/reference/prd-spec.md": "# PRD Specification\n\nStandard format for Product Requirements Documents.\n\n## File Location\n\n```\n.claude/prds/[prd-name]/\n├── PRD.md              # Main requirements document\n├── tasks.yaml          # Task definitions\n├── research.yaml       # Research questions (optional)\n└── specs/              # Task specifications\n    ├── task-one.md\n    └── task-two.md\n```\n\nUse kebab-case for `[prd-name]` (e.g., `user-authentication`).\n\n## PRD.md Structure\n\n```markdown\n# [Feature Name]\n\n## Objective\n\n[Clear statement of what we're building]\n\n### Clarifying Questions\n\n- Q: [Question]\n  A: [Answer]\n\n## Motivation\n\n[Why this matters, problem being solved, impact]\n\n## Implementation Details\n\n### Architecture\n\n[High-level technical approach]\n\n### Constraints\n\n- [Technical constraints]\n- [Performance requirements]\n- [Compatibility requirements]\n\n### Relevant Guides\n\n- [Links to documentation]\n- [Internal guides]\n\n### Relevant Files\n\n- `src/relevant/file.ts` - [Why relevant]\n\n## Discussion\n\n[Additional Q&A, decisions made, alternatives considered]\n```\n\n## tasks.yaml Structure\n\n```yaml\n- name: Task Name\n  description: What this task accomplishes\n  status: draft | defined | in-progress | completed | blocked\n  spec: specs/task-name.md\n  blockedReason: \"Required if status is blocked\"\n  subtasks:\n    - name: Subtask Name\n      description: Subtask description\n      status: defined\n      spec: specs/subtask-name.md\n```\n\n### Task Statuses\n\n| Status | Meaning |\n|--------|---------|\n| `draft` | Initial definition, spec not complete |\n| `defined` | Spec complete, ready to implement |\n| `in-progress` | Currently being worked on |\n| `completed` | Done and validated |\n| `blocked` | Cannot proceed (requires `blockedReason`) |\n\n### Execution Order\n\n- **Top-level tasks**: Execute sequentially\n- **Subtasks**: Can execute in parallel\n\n### Spec Requirement\n\nEvery leaf task (task without subtasks) **must** have a `spec` file.\n\n## research.yaml Structure (Optional)\n\n```yaml\n- text: \"Research question?\"\n  mode: answer           # Quick lookup\n  answer: \"Found answer\"\n  citations:\n    - url: https://example.com\n      title: Source Title\n\n- text: \"Complex research topic?\"\n  mode: deep-research    # Comprehensive research\n  answer: |\n    Detailed findings...\n```\n\n## Path Resolution\n\nAll relative paths in PRD files are relative to the PRD directory, not the repository root.\n\nExample: If PRD is at `.claude/prds/my-feature/PRD.md`, then `specs/task.md` refers to `.claude/prds/my-feature/specs/task.md`.\n\n## Temporary Files\n\nStore temporary/working files within the PRD directory:\n```\n.claude/prds/[prd-name]/tmp/\n```\n",
        "skills/PRD/reference/task-spec.md": "# Task Specification Template\n\nStandard format for task specification files.\n\n## File Location\n\n```\n.claude/prds/[prd-name]/specs/[task-name].md\n```\n\nThe path is defined in `tasks.yaml` via the `spec` field.\n\n## Template\n\n```markdown\n# [Task Name]\n\n## Objective\n\n[Clear, actionable statement of what this task accomplishes]\n\nExpected outcome:\n- [Specific deliverable 1]\n- [Specific deliverable 2]\n\n## Context\n\n- **Parent PRD**: [prd-name]\n- **Dependencies**: [Tasks that must complete before this one]\n- **Dependents**: [Tasks that depend on this one]\n\n## Acceptance Criteria\n\n- [ ] [Specific, verifiable criterion]\n- [ ] [Another verifiable criterion]\n- [ ] All tests pass\n- [ ] No TypeScript errors\n- [ ] No lint errors\n\n## Implementation Notes\n\n| Aspect | Details |\n|--------|---------|\n| Files to modify | `src/existing-file.ts:45-60` |\n| Files to create | `src/new-file.ts` |\n| Files to delete | `src/deprecated.ts` |\n| Key patterns | Follow existing [pattern] in `src/example.ts` |\n| Technical constraints | [From PRD constraints] |\n\n### Code References\n\nRelevant existing code:\n- `src/file.ts:123` - Similar implementation\n- `src/other.ts:45` - Pattern to follow\n\n### Example (Optional)\n\n\\`\\`\\`typescript\n// Expected usage or implementation pattern\n\\`\\`\\`\n\n## Testing Requirements\n\n- [ ] Unit tests for [component]\n- [ ] Integration test for [flow]\n- [ ] Manual verification of [behavior]\n\n## Out of Scope\n\n- [Explicitly what this task does NOT include]\n- [Prevents scope creep]\n```\n\n## Guidelines\n\n### Objective\n- Be specific and actionable\n- State expected outcomes clearly\n- One task = one clear goal\n\n### Acceptance Criteria\n- Each criterion must be verifiable\n- Use checkbox format for tracking\n- Include quality gates (tests, types, lint)\n\n### Implementation Notes\n- Use specific file paths with line numbers\n- Reference existing patterns to follow\n- Note any constraints from the PRD\n\n### Out of Scope\n- Explicitly state boundaries\n- Prevents scope creep during implementation\n- Helps maintain focus\n\n## Quality Checklist\n\nA good task spec:\n- [ ] Has clear, actionable objective\n- [ ] Lists specific files to modify/create\n- [ ] References existing code patterns\n- [ ] Has verifiable acceptance criteria\n- [ ] Defines what's out of scope\n- [ ] Can be completed independently (after dependencies)\n",
        "skills/PRD/workflows/CreatePRD.md": "# CreatePRD Workflow\n\nCreate a new Product Requirements Document through structured information gathering and research.\n\n## Prerequisites\n\n- User has expressed intent to create a new feature/project\n- No existing PRD for this feature\n\n## Workflow Steps\n\n### Step 1: Initial Information Gathering\n\nAsk the user these questions (adapt based on context):\n\n**Objective:**\n- \"What problem are you trying to solve?\"\n- \"What should this feature/project accomplish?\"\n- \"Who is the target user?\"\n\n**Motivation:**\n- \"Why is this important now?\"\n- \"What value does this provide?\"\n- \"What happens if we don't build this?\"\n\n**Constraints:**\n- \"Are there technical constraints I should know about?\"\n- \"Any performance requirements?\"\n- \"Compatibility requirements?\"\n- \"What's explicitly out of scope?\"\n\n### Step 2: Research with Exa\n\nUse **Exa web search** to inform the PRD with industry knowledge:\n\n**Research queries to run:**\n- \"[feature type] best practices [year]\"\n- \"[feature type] common pitfalls to avoid\"\n- \"[technology/framework] [feature type] implementation patterns\"\n- \"companies that built [similar feature] architecture\"\n\n**What to look for:**\n- Industry best practices and standards\n- Common implementation patterns\n- Security considerations\n- Performance benchmarks\n- UX patterns that work well\n- Edge cases others have encountered\n\n**Document findings:**\n- Note relevant insights in the PRD's \"Research Findings\" section\n- Include citations/links for reference\n- Highlight anything that affects scope or constraints\n\n### Step 3: Create PRD Directory\n\n```bash\nmkdir -p .claude/prds/[prd-name]/specs\n```\n\nUse kebab-case for `[prd-name]` (e.g., `user-authentication`, `payment-processing`).\n\n### Step 4: Create PRD.md\n\nCreate `.claude/prds/[prd-name]/PRD.md` with this structure:\n\n```markdown\n# [Feature Name]\n\n## Objective\n\n[Clear statement of what we're building and why]\n\n### Clarifying Questions\n\n- Q: [Question asked during creation]\n  A: [User's answer]\n\n## Motivation\n\n[Why this matters, what problem it solves, impact if not built]\n\n## Research Findings\n\n_Insights gathered from Exa web search:_\n\n### Best Practices\n- [Key best practice from research]\n- [Another best practice]\n\n### Common Pitfalls\n- [Pitfall to avoid]\n- [Another pitfall]\n\n### Industry Patterns\n- [Pattern used by others]\n\n### Sources\n- [URL 1] - [Brief description]\n- [URL 2] - [Brief description]\n\n## Implementation Details\n\n### Architecture\n\n_To be determined during planning phase._\n\n### Constraints\n\n- [Technical constraint 1]\n- [Performance requirement]\n- [Compatibility requirement]\n- [Constraint informed by research]\n\n### Relevant Guides\n\n_To be populated during planning phase._\n\n### Relevant Files\n\n_To be populated during planning phase._\n\n## Discussion\n\n[Any additional Q&A from the creation process]\n```\n\n### Step 5: Create Initial tasks.yaml\n\nCreate `.claude/prds/[prd-name]/tasks.yaml`:\n\n```yaml\n# [Feature Name] Tasks\n# Tasks will be generated during planning phase\n\n[]\n```\n\n### Step 6: Report Results\n\nSummarize:\n- PRD created at `.claude/prds/[prd-name]/PRD.md`\n- Research conducted (list key findings)\n- Ready for planning phase\n- Suggest: \"Run `/autoclaude:PRD` and say 'plan [prd-name]' to generate tasks\"\n\n## Important Notes\n\n- **Do** use Exa to research before writing the PRD\n- **Do** capture research findings with sources in the PRD\n- **Do** capture all clarifying Q&A in the PRD\n- **Do NOT** fill in Architecture, Relevant Guides, or Relevant Files during creation\n- **Do NOT** generate tasks during creation - that's the planning phase\n- Keep the PRD focused and avoid scope creep\n",
        "skills/PRD/workflows/PlanPRD.md": "# PlanPRD Workflow\n\nAnalyze an existing PRD, conduct research, and generate implementation tasks.\n\n## Prerequisites\n\n- PRD exists at `.claude/prds/[prd-name]/PRD.md`\n- PRD has Objective, Motivation, and Constraints defined\n- User wants to plan/break down the work\n\n## Workflow Steps\n\n### Phase 1: Analysis (Steps 1-4)\n\n#### Step 1: Deep PRD Analysis\n\nRead the PRD thoroughly. Evaluate:\n- Is the objective clear and specific?\n- Are constraints well-defined?\n- Are there ambiguities that need clarification?\n- What technical decisions need to be made?\n\n#### Step 2: Codebase Exploration\n\nExplore relevant parts of the codebase:\n- Identify files that will need modification\n- Understand existing patterns and conventions\n- Note dependencies and integrations\n- Update PRD's \"Relevant Files\" section\n\n#### Step 3: User Clarification\n\nIf ambiguities exist, ask the user:\n- Technical approach questions\n- Scope clarifications\n- Priority decisions\n\nDocument all Q&A in the PRD's Discussion section.\n\n#### Step 4: Checkpoint - Re-analysis Needed?\n\nEvaluate if clarifications require re-analysis.\n- If yes: Return to Step 1\n- If no: Proceed to Phase 2\n\n### Phase 2: Research (Steps 5-7)\n\n#### Step 5: Generate Research Questions\n\nIf unknowns exist, create `.claude/prds/[prd-name]/research.yaml`:\n\n```yaml\n- text: \"How does [library] handle [specific case]?\"\n  mode: answer  # or deep-research for complex topics\n\n- text: \"Best practices for [pattern] in [framework]?\"\n  mode: answer\n```\n\nMaximum 25 questions. Focus on:\n- Unknown APIs or libraries\n- Best practices for specific patterns\n- Integration approaches\n- Performance considerations\n\n#### Step 6: Execute Research with Exa\n\nFor each unanswered question:\n\n**Use Exa web search for:**\n- API documentation and usage patterns\n- Library comparisons and recommendations\n- Best practices for specific implementations\n- Performance optimization techniques\n- Security considerations\n\n**Search query patterns:**\n- \"[library] [specific use case] example\"\n- \"[framework] [pattern] best practices [year]\"\n- \"[technology] vs [technology] comparison\"\n- \"how to [specific task] in [language/framework]\"\n\n**Document findings:**\n- Add `answer` field to each question in research.yaml\n- Include relevant code snippets if applicable\n- Add source URLs for reference\n\nExample:\n```yaml\n- text: \"How does Stripe handle idempotency keys?\"\n  mode: answer\n  answer: |\n    Stripe uses idempotency keys to prevent duplicate operations.\n    Pass `Idempotency-Key` header with a unique value (UUID recommended).\n    Keys expire after 24 hours. Same key + same request = cached response.\n    Source: https://stripe.com/docs/api/idempotent_requests\n```\n\n#### Step 7: Checkpoint - Research Impact\n\nEvaluate if findings change previous decisions.\n- If yes: Return to Step 1 with new context\n- If no: Proceed to Phase 3\n\n### Phase 3: Planning (Steps 8-11)\n\n#### Step 8: Update PRD\n\nIncorporate research findings into PRD:\n- Update Architecture section\n- Add Relevant Guides\n- Refine Constraints if needed\n- PRD should be self-contained (no need to reference research.yaml later)\n\n#### Step 9: Generate Tasks\n\nCreate/update `.claude/prds/[prd-name]/tasks.yaml`:\n\n```yaml\n- name: Setup and Configuration\n  description: Initial project setup\n  status: draft\n  spec: specs/setup.md\n  subtasks:\n    - name: Initialize project structure\n      description: Create directory structure and config files\n      status: draft\n      spec: specs/init-structure.md\n\n    - name: Configure dependencies\n      description: Set up package.json and install deps\n      status: draft\n      spec: specs/dependencies.md\n\n- name: Core Feature Implementation\n  description: Main feature logic\n  status: draft\n  spec: specs/core-feature.md\n```\n\nRules:\n- Top-level tasks are worked **sequentially**\n- Subtasks can be worked **in parallel**\n- Every leaf task needs a `spec` file\n- All tasks start as `draft`\n\n#### Step 10: Create Task Specs\n\nFor each leaf task, create spec file following `reference/task-spec.md`:\n\n```markdown\n# [Task Name]\n\n## Objective\n\n[Clear, actionable statement of what this task accomplishes]\n\n## Context\n\n- **Parent PRD**: [prd-name]\n- **Dependencies**: [tasks that must complete first]\n\n## Acceptance Criteria\n\n- [ ] [Specific, verifiable criterion]\n- [ ] [Another criterion]\n- [ ] All tests pass\n- [ ] No TypeScript errors\n\n## Implementation Notes\n\n| Aspect | Details |\n|--------|---------|\n| Files to modify | `src/file.ts` |\n| Files to create | `src/new-file.ts` |\n| Key patterns | [Pattern to follow] |\n\n## Out of Scope\n\n- [What this task does NOT include]\n```\n\n#### Step 11: Validation\n\nVerify:\n- [ ] All research questions answered\n- [ ] Discussion questions resolved\n- [ ] Objective is clear and actionable\n- [ ] Constraints documented\n- [ ] All tasks have specs\n- [ ] Acceptance criteria are verifiable\n\nUpdate task statuses from `draft` to `defined`.\n\n### Step 12: Report Results\n\nSummarize:\n- Tasks generated (count)\n- Research conducted (if any)\n- Key architectural decisions\n- Suggest: \"Run `/autoclaude:PRD` and say 'work on [prd-name]' to start implementation\"\n",
        "skills/PRD/workflows/WorkPRD.md": "# WorkPRD Workflow\n\nImplement tasks defined in a PRD through systematic execution and validation.\n\n## Prerequisites\n\n- PRD exists with defined tasks (status: `defined`)\n- All research completed\n- All discussion questions answered\n- Task specs exist for all leaf tasks\n\nRun `scripts/list-defined-tasks.sh [prd-name]` to verify readiness.\n\n## Workflow Steps\n\n### Step 1: Select Task\n\nGet the next task to implement:\n\n```bash\n./scripts/list-defined-tasks.sh [prd-name]\n```\n\nSelect tasks in order:\n1. Top-level tasks are worked **sequentially**\n2. Subtasks under a parent can be worked **in parallel**\n\n### Step 2: Read Task Spec\n\nLoad the task specification:\n- Read `specs/[task-name].md` completely\n- Understand acceptance criteria\n- Note dependencies and constraints\n- Identify files to modify/create\n\n### Step 3: Implement\n\nExecute the task following the spec:\n\n1. **Read existing code** before making changes\n2. **Follow project patterns** and conventions\n3. **Implement incrementally** - small, testable changes\n4. **Run validation** as you go:\n   ```bash\n   npm run type-check\n   npm run lint\n   npm run test\n   ```\n\n### Step 4: Validate\n\nBefore marking complete, verify ALL acceptance criteria:\n\n- [ ] Each criterion in spec is met\n- [ ] TypeScript compiles without errors\n- [ ] Lint passes (warnings OK)\n- [ ] Tests pass\n- [ ] No regressions introduced\n\nRun full QA pipeline:\n```bash\nFRONTEND_URL=http://localhost:3000 ./scripts/qa-pipeline.sh [project-path]\n```\n\n### Step 5: Update Task Status\n\nIf successful:\n```bash\n./scripts/update-task-status.sh [prd-name] [task-name] completed\n```\n\nIf blocked:\n```bash\n./scripts/update-task-status.sh [prd-name] [task-name] blocked \"Reason for blocker\"\n```\n\nDocument blockers in tasks.yaml with `blockedReason` field.\n\n### Step 6: Update Documentation\n\nFocus on **Why** and **Intent**, not What (code shows what it does).\n\nUpdate as needed:\n- README if user-facing changes\n- API documentation if endpoints changed\n- Inline comments for complex logic\n- Configuration docs if settings added\n\n### Step 7: Repeat or Report\n\nIf more tasks remain:\n- Return to Step 1\n- Continue until all tasks complete or blocked\n\nWhen finished, report:\n\n```\n## Implementation Summary\n\n### Completed\n- [x] Task 1 - Brief description\n- [x] Task 2 - Brief description\n\n### Blocked (if any)\n- [ ] Task 3 - Blocker reason\n\n### Files Changed\n- `src/file.ts` - Added feature X\n- `src/other.ts` - Modified for Y\n\n### Key Decisions\n- Chose approach A over B because...\n\n### Next Steps\n- [Suggestions for follow-up work]\n```\n\n## Guidelines\n\n### Do\n- Stay focused on spec requirements\n- Respect technical constraints from PRD\n- Complete all testing before marking done\n- Document blockers immediately\n- Read surrounding code before editing\n\n### Don't\n- Expand scope beyond spec\n- Skip validation steps\n- Ignore failing tests\n- Work around blockers without documenting\n- Make changes without understanding context\n\n## Blocker Protocol\n\nWhen truly blocked:\n\n1. Document in tasks.yaml:\n   ```yaml\n   - name: Task Name\n     status: blocked\n     blockedReason: |\n       Cannot proceed because X.\n       Tried: A, B, C\n       Need: User decision on Y\n   ```\n\n2. Move to next available task\n3. Report blocker in summary\n4. Wait for user input if no other tasks\n",
        "web/src/hooks/useWebSocket.ts": "import { useCallback, useEffect, useRef, useState } from 'react';\n\nexport interface WebSocketMessage {\n  type: 'text' | 'tool_use' | 'tool_result' | 'error' | 'audio';\n  content: string;\n  tool?: string;\n}\n\ninterface UseWebSocketOptions {\n  url?: string;\n  reconnectInterval?: number;\n}\n\ninterface UseWebSocketReturn {\n  isConnected: boolean;\n  isProcessing: boolean;\n  messages: WebSocketMessage[];\n  sendMessage: (text: string) => void;\n  sendAudio: (data: ArrayBuffer) => void;\n  commitAudio: () => void;\n  clearMessages: () => void;\n}\n\nexport function useWebSocket(options: UseWebSocketOptions = {}): UseWebSocketReturn {\n  const {\n    url = `ws://${window.location.hostname}:3000/ws`,\n    reconnectInterval = 3000,\n  } = options;\n\n  const [isConnected, setIsConnected] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [messages, setMessages] = useState<WebSocketMessage[]>([]);\n  const wsRef = useRef<WebSocket | null>(null);\n  const reconnectTimeoutRef = useRef<number>();\n\n  const connect = useCallback(() => {\n    if (wsRef.current?.readyState === WebSocket.OPEN) return;\n\n    const ws = new WebSocket(url);\n    wsRef.current = ws;\n\n    ws.onopen = () => {\n      setIsConnected(true);\n      console.log('WebSocket connected');\n    };\n\n    ws.onclose = () => {\n      setIsConnected(false);\n      setIsProcessing(false);\n      console.log('WebSocket disconnected');\n      // Attempt to reconnect\n      reconnectTimeoutRef.current = window.setTimeout(connect, reconnectInterval);\n    };\n\n    ws.onerror = (error) => {\n      console.error('WebSocket error:', error);\n    };\n\n    ws.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data.type === 'processing_start') {\n          setIsProcessing(true);\n          return;\n        }\n\n        if (data.type === 'processing_end') {\n          setIsProcessing(false);\n          return;\n        }\n\n        const message: WebSocketMessage = {\n          type: data.type || 'text',\n          content: data.content || data.text || '',\n          tool: data.tool,\n        };\n\n        setMessages(prev => [...prev, message]);\n      } catch (err) {\n        console.error('Failed to parse WebSocket message:', err);\n      }\n    };\n  }, [url, reconnectInterval]);\n\n  useEffect(() => {\n    connect();\n    return () => {\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n      wsRef.current?.close();\n    };\n  }, [connect]);\n\n  const sendMessage = useCallback((text: string) => {\n    if (wsRef.current?.readyState === WebSocket.OPEN) {\n      wsRef.current.send(JSON.stringify({ type: 'text', content: text }));\n    }\n  }, []);\n\n  const sendAudio = useCallback((data: ArrayBuffer) => {\n    if (wsRef.current?.readyState === WebSocket.OPEN) {\n      // Send binary audio data with a type prefix\n      const typePrefix = new TextEncoder().encode('audio:');\n      const combined = new Uint8Array(typePrefix.length + data.byteLength);\n      combined.set(typePrefix, 0);\n      combined.set(new Uint8Array(data), typePrefix.length);\n      wsRef.current.send(combined);\n    }\n  }, []);\n\n  const commitAudio = useCallback(() => {\n    if (wsRef.current?.readyState === WebSocket.OPEN) {\n      wsRef.current.send(JSON.stringify({ type: 'audio_commit' }));\n    }\n  }, []);\n\n  const clearMessages = useCallback(() => {\n    setMessages([]);\n  }, []);\n\n  return {\n    isConnected,\n    isProcessing,\n    messages,\n    sendMessage,\n    sendAudio,\n    commitAudio,\n    clearMessages,\n  };\n}\n"
      },
      "plugins": [
        {
          "name": "autoclaude",
          "source": ".",
          "description": "Autonomous PRD workflow system with validation, hooks, and QA pipeline",
          "version": "1.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add webdevike/autoclaude",
            "/plugin install autoclaude@autoclaude"
          ]
        }
      ]
    }
  ]
}