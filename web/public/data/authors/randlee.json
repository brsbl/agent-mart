{
  "author": {
    "id": "randlee",
    "display_name": "Rand Lee",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/8083956?u=5a8ddcf8b4bc0b304717d12ca70ec8f551bd2d85&v=4",
    "url": "https://github.com/randlee",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 11,
      "total_commands": 10,
      "total_skills": 11,
      "total_stars": 1,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "synaptic-canvas",
      "version": null,
      "description": "A marketplace for Claude Code skills, agents, and commands",
      "owner_info": {
        "name": "randlee",
        "email": "[email protected]"
      },
      "keywords": [],
      "repo_full_name": "randlee/synaptic-canvas",
      "repo_url": "https://github.com/randlee/synaptic-canvas",
      "repo_description": "The neural network of developer creativity",
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-25T02:34:18Z",
        "created_at": "2025-11-29T06:21:14Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 5426
        },
        {
          "path": ".claude-plugin/registry.json",
          "type": "blob",
          "size": 6505
        },
        {
          "path": "packages",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-ci-automation",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-ci-automation/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-ci-automation/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 840
        },
        {
          "path": "packages/sc-ci-automation/README.md",
          "type": "blob",
          "size": 5628
        },
        {
          "path": "packages/sc-ci-automation/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-ci-automation/agents/ci-build-agent.md",
          "type": "blob",
          "size": 894
        },
        {
          "path": "packages/sc-ci-automation/agents/ci-fix-agent.md",
          "type": "blob",
          "size": 1298
        },
        {
          "path": "packages/sc-ci-automation/agents/ci-pr-agent.md",
          "type": "blob",
          "size": 1088
        },
        {
          "path": "packages/sc-ci-automation/agents/ci-pull-agent.md",
          "type": "blob",
          "size": 871
        },
        {
          "path": "packages/sc-ci-automation/agents/ci-root-cause-agent.md",
          "type": "blob",
          "size": 1110
        },
        {
          "path": "packages/sc-ci-automation/agents/ci-test-agent.md",
          "type": "blob",
          "size": 812
        },
        {
          "path": "packages/sc-ci-automation/agents/ci-validate-agent.md",
          "type": "blob",
          "size": 988
        },
        {
          "path": "packages/sc-ci-automation/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-ci-automation/commands/sc-ci-automation.md",
          "type": "blob",
          "size": 2270
        },
        {
          "path": "packages/sc-ci-automation/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-ci-automation/skills/sc-ci-automation",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-ci-automation/skills/sc-ci-automation/SKILL.md",
          "type": "blob",
          "size": 2495
        },
        {
          "path": "packages/sc-codex",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 449
        },
        {
          "path": "packages/sc-codex/README.md",
          "type": "blob",
          "size": 1263
        },
        {
          "path": "packages/sc-codex/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/agents/sc-codex.md",
          "type": "blob",
          "size": 276
        },
        {
          "path": "packages/sc-codex/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/commands/sc-codex.md",
          "type": "blob",
          "size": 3407
        },
        {
          "path": "packages/sc-codex/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/scripts/ai_cli",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/scripts/ai_cli/README.md",
          "type": "blob",
          "size": 3231
        },
        {
          "path": "packages/sc-codex/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/skills/codex-agent",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-codex/skills/codex-agent/SKILL.md",
          "type": "blob",
          "size": 1661
        },
        {
          "path": "packages/sc-commit-push-pr",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-commit-push-pr/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-commit-push-pr/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 832
        },
        {
          "path": "packages/sc-commit-push-pr/README.md",
          "type": "blob",
          "size": 3245
        },
        {
          "path": "packages/sc-commit-push-pr/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-commit-push-pr/agents/commit-push.md",
          "type": "blob",
          "size": 2520
        },
        {
          "path": "packages/sc-commit-push-pr/agents/create-pr.md",
          "type": "blob",
          "size": 2001
        },
        {
          "path": "packages/sc-commit-push-pr/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-commit-push-pr/skills/sc-commit-push-pr",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-commit-push-pr/skills/sc-commit-push-pr/SKILL.md",
          "type": "blob",
          "size": 2909
        },
        {
          "path": "packages/sc-delay-tasks",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-delay-tasks/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-delay-tasks/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 614
        },
        {
          "path": "packages/sc-delay-tasks/README.md",
          "type": "blob",
          "size": 2258
        },
        {
          "path": "packages/sc-delay-tasks/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-delay-tasks/agents/sc-delay-once.md",
          "type": "blob",
          "size": 1694
        },
        {
          "path": "packages/sc-delay-tasks/agents/sc-delay-poll.md",
          "type": "blob",
          "size": 2862
        },
        {
          "path": "packages/sc-delay-tasks/agents/sc-git-pr-check-delay.md",
          "type": "blob",
          "size": 3622
        },
        {
          "path": "packages/sc-delay-tasks/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-delay-tasks/commands/delay.md",
          "type": "blob",
          "size": 3319
        },
        {
          "path": "packages/sc-delay-tasks/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-delay-tasks/skills/sc-delaying-tasks",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-delay-tasks/skills/sc-delaying-tasks/SKILL.md",
          "type": "blob",
          "size": 2917
        },
        {
          "path": "packages/sc-git-worktree",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-git-worktree/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-git-worktree/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 743
        },
        {
          "path": "packages/sc-git-worktree/README.md",
          "type": "blob",
          "size": 2675
        },
        {
          "path": "packages/sc-git-worktree/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-git-worktree/agents/sc-git-worktree-abort.md",
          "type": "blob",
          "size": 3922
        },
        {
          "path": "packages/sc-git-worktree/agents/sc-git-worktree-cleanup.md",
          "type": "blob",
          "size": 4200
        },
        {
          "path": "packages/sc-git-worktree/agents/sc-git-worktree-create.md",
          "type": "blob",
          "size": 3127
        },
        {
          "path": "packages/sc-git-worktree/agents/sc-git-worktree-scan.md",
          "type": "blob",
          "size": 2729
        },
        {
          "path": "packages/sc-git-worktree/agents/sc-git-worktree-update.md",
          "type": "blob",
          "size": 5493
        },
        {
          "path": "packages/sc-git-worktree/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-git-worktree/commands/sc-git-worktree.md",
          "type": "blob",
          "size": 7962
        },
        {
          "path": "packages/sc-git-worktree/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-git-worktree/skills/sc-git-worktree",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-git-worktree/skills/sc-git-worktree/SKILL.md",
          "type": "blob",
          "size": 8488
        },
        {
          "path": "packages/sc-github-issue",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-github-issue/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-github-issue/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 719
        },
        {
          "path": "packages/sc-github-issue/README.md",
          "type": "blob",
          "size": 5203
        },
        {
          "path": "packages/sc-github-issue/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-github-issue/agents/sc-github-issue-fix.md",
          "type": "blob",
          "size": 5612
        },
        {
          "path": "packages/sc-github-issue/agents/sc-github-issue-intake.md",
          "type": "blob",
          "size": 3212
        },
        {
          "path": "packages/sc-github-issue/agents/sc-github-issue-mutate.md",
          "type": "blob",
          "size": 3606
        },
        {
          "path": "packages/sc-github-issue/agents/sc-github-issue-pr.md",
          "type": "blob",
          "size": 4839
        },
        {
          "path": "packages/sc-github-issue/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-github-issue/commands/sc-github-issue.md",
          "type": "blob",
          "size": 5187
        },
        {
          "path": "packages/sc-github-issue/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-github-issue/skills/sc-managing-github-issues",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-github-issue/skills/sc-managing-github-issues/SKILL.md",
          "type": "blob",
          "size": 2798
        },
        {
          "path": "packages/sc-kanban",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-kanban/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-kanban/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 598
        },
        {
          "path": "packages/sc-kanban/README.md",
          "type": "blob",
          "size": 6848
        },
        {
          "path": "packages/sc-kanban/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-kanban/agents/checklist-agent.md",
          "type": "blob",
          "size": 1137
        },
        {
          "path": "packages/sc-kanban/agents/kanban-card.md",
          "type": "blob",
          "size": 1414
        },
        {
          "path": "packages/sc-kanban/agents/kanban-query.md",
          "type": "blob",
          "size": 1562
        },
        {
          "path": "packages/sc-kanban/agents/kanban-transition.md",
          "type": "blob",
          "size": 1973
        },
        {
          "path": "packages/sc-kanban/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-kanban/commands/sc-kanban.md",
          "type": "blob",
          "size": 698
        },
        {
          "path": "packages/sc-kanban/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-kanban/skills/sc-kanban",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-kanban/skills/sc-kanban/SKILL.md",
          "type": "blob",
          "size": 991
        },
        {
          "path": "packages/sc-manage",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-manage/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-manage/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 631
        },
        {
          "path": "packages/sc-manage/README.md",
          "type": "blob",
          "size": 2231
        },
        {
          "path": "packages/sc-manage/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-manage/agents/sc-package-docs.md",
          "type": "blob",
          "size": 1289
        },
        {
          "path": "packages/sc-manage/agents/sc-package-install.md",
          "type": "blob",
          "size": 1622
        },
        {
          "path": "packages/sc-manage/agents/sc-package-uninstall.md",
          "type": "blob",
          "size": 1555
        },
        {
          "path": "packages/sc-manage/agents/sc-packages-list.md",
          "type": "blob",
          "size": 2097
        },
        {
          "path": "packages/sc-manage/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-manage/commands/sc-manage.md",
          "type": "blob",
          "size": 1827
        },
        {
          "path": "packages/sc-manage/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-manage/skills/managing-sc-packages",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-manage/skills/managing-sc-packages/SKILL.md",
          "type": "blob",
          "size": 1796
        },
        {
          "path": "packages/sc-repomix-nuget",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-repomix-nuget/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-repomix-nuget/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 746
        },
        {
          "path": "packages/sc-repomix-nuget/README.md",
          "type": "blob",
          "size": 3039
        },
        {
          "path": "packages/sc-repomix-nuget/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-repomix-nuget/agents/sc-repomix-nuget-analyze.md",
          "type": "blob",
          "size": 1278
        },
        {
          "path": "packages/sc-repomix-nuget/agents/sc-repomix-nuget-generate.md",
          "type": "blob",
          "size": 1493
        },
        {
          "path": "packages/sc-repomix-nuget/agents/sc-repomix-nuget-validate.md",
          "type": "blob",
          "size": 1659
        },
        {
          "path": "packages/sc-repomix-nuget/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-repomix-nuget/commands/sc-repomix-nuget.md",
          "type": "blob",
          "size": 1211
        },
        {
          "path": "packages/sc-repomix-nuget/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-repomix-nuget/skills/sc-repomix-nuget",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-repomix-nuget/skills/sc-repomix-nuget/SKILL.md",
          "type": "blob",
          "size": 1632
        },
        {
          "path": "packages/sc-repomix-nuget/skills/sc-repomix-nuget/output-formats.md",
          "type": "blob",
          "size": 1276
        },
        {
          "path": "packages/sc-repomix-nuget/skills/sc-repomix-nuget/registry-schema.md",
          "type": "blob",
          "size": 817
        },
        {
          "path": "packages/sc-roslyn-diff",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-roslyn-diff/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-roslyn-diff/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 724
        },
        {
          "path": "packages/sc-roslyn-diff/README.md",
          "type": "blob",
          "size": 3078
        },
        {
          "path": "packages/sc-roslyn-diff/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-roslyn-diff/agents/sc-diff.md",
          "type": "blob",
          "size": 3759
        },
        {
          "path": "packages/sc-roslyn-diff/agents/sc-git-diff.md",
          "type": "blob",
          "size": 2414
        },
        {
          "path": "packages/sc-roslyn-diff/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-roslyn-diff/commands/sc-diff.md",
          "type": "blob",
          "size": 1809
        },
        {
          "path": "packages/sc-roslyn-diff/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-roslyn-diff/skills/sc-diff",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-roslyn-diff/skills/sc-diff/SKILL.md",
          "type": "blob",
          "size": 2100
        },
        {
          "path": "packages/sc-startup",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-startup/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-startup/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 532
        },
        {
          "path": "packages/sc-startup/README.md",
          "type": "blob",
          "size": 5708
        },
        {
          "path": "packages/sc-startup/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-startup/agents/sc-checklist-status.md",
          "type": "blob",
          "size": 2984
        },
        {
          "path": "packages/sc-startup/agents/sc-startup-init.md",
          "type": "blob",
          "size": 3610
        },
        {
          "path": "packages/sc-startup/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-startup/commands/sc-startup.md",
          "type": "blob",
          "size": 7694
        },
        {
          "path": "packages/sc-startup/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-startup/skills/sc-startup",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/sc-startup/skills/sc-startup/SKILL.md",
          "type": "blob",
          "size": 3839
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"synaptic-canvas\",\n  \"owner\": {\n    \"name\": \"randlee\",\n    \"email\": \"[email protected]\"\n  },\n  \"metadata\": {\n    \"description\": \"A marketplace for Claude Code skills, agents, and commands\",\n    \"version\": \"0.8.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"sc-delay-tasks\",\n      \"source\": \"./packages/sc-delay-tasks\",\n      \"description\": \"Schedule delayed one-shot or bounded polling actions with minimal heartbeats. Useful for waiting before running checks (e.g., CI status) or polling with stop-on-success.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-git-worktree\",\n      \"source\": \"./packages/sc-git-worktree\",\n      \"description\": \"Manage git worktrees with optional tracking and protected branch safeguards: create, scan, cleanup, abort, and update worktrees using a standard sibling folder layout with tracking documents. Prevents accidental deletion of protected branches.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-manage\",\n      \"source\": \"./packages/sc-manage\",\n      \"description\": \"Manage Synaptic Canvas Claude packages. List available packages and their install status (local/global), and install or uninstall packages according to policy.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"synaptic-canvas\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-repomix-nuget\",\n      \"source\": \"./packages/sc-repomix-nuget\",\n      \"description\": \"Generate AI-optimized NuGet package context using Repomix with NuGet metadata (dependencies, dependents, namespaces, frameworks). Produces a compressed API surface.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"synaptic-canvas\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-github-issue\",\n      \"source\": \"./packages/sc-github-issue\",\n      \"description\": \"GitHub issue lifecycle management with worktree isolation: list, create, update, and fix issues with automated workflows including PR creation. Integrates with sc-git-worktree for safe isolation.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-startup\",\n      \"source\": \"./packages/sc-startup\",\n      \"description\": \"Startup runner for Synaptic Canvas: read startup prompt, sync master checklist, optional PR triage, worktree hygiene, and CI pull, then emit a concise status with next steps. Supports read-only mode.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-ci-automation\",\n      \"source\": \"./packages/sc-ci-automation\",\n      \"description\": \"Run CI quality gates (pull → build → test) with optional auto-fix and PR creation. Coordinates pull from upstream, builds projects, runs tests, applies straightforward fixes, and creates PRs when all quality gates pass. Supports version bumping with --patch flag.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-roslyn-diff\",\n      \"source\": \"./packages/sc-roslyn-diff\",\n      \"description\": \"Semantic diffing for .NET source using roslyn-diff with JSON-first outputs, HTML reports, and git/PR-aware comparisons.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-kanban\",\n      \"source\": \"./packages/sc-kanban\",\n      \"description\": \"Kanban state machine for Synaptic Canvas: backlog → board → done with gate validation, scrubbing, and shared board config (v0.7).\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-codex\",\n      \"source\": \"./packages/sc-codex\",\n      \"description\": \"Run Codex agents via a Task Tool-compatible runner, with hooks emulation and background execution support.\\n\",\n      \"version\": \"0.8.0\",\n      \"author\": {\n        \"name\": \"synaptic-canvas\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    },\n    {\n      \"name\": \"sc-commit-push-pr\",\n      \"source\": \"./packages/sc-commit-push-pr\",\n      \"description\": \"Commit, push, and create PRs for GitHub and Azure DevOps\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"randlee\",\n        \"email\": \"[email protected]\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\"\n    }\n  ]\n}\n",
        ".claude-plugin/registry.json": "{\n  \"name\": \"synaptic-canvas\",\n  \"version\": \"0.8.0\",\n  \"description\": \"A marketplace for Claude Code skills\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"packages\": [\n    {\n      \"name\": \"sc-ci-automation\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Run CI quality gates (pull \\u2192 build \\u2192 test) with optional auto-fix and PR creation. Coordinates pull from upstream, builds projects, runs tests, applies straightforward fixes, and creates PRs when all quality gates pass. Supports version bumping with --patch flag.\\n\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 7,\n        \"scripts\": 1,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.140425\"\n    },\n    {\n      \"name\": \"sc-codex\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Run Codex agents via a Task Tool-compatible runner, with hooks emulation and background execution support.\\n\",\n      \"author\": \"synaptic-canvas\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 1,\n        \"scripts\": 9,\n        \"schemas\": 2\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.141138\"\n    },\n    {\n      \"name\": \"sc-delay-tasks\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Schedule delayed one-shot or bounded polling actions with minimal heartbeats. Useful for waiting before running checks (e.g., CI status) or polling with stop-on-success.\\n\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 3,\n        \"scripts\": 2,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.142264\"\n    },\n    {\n      \"name\": \"sc-git-worktree\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Manage git worktrees with optional tracking and protected branch safeguards: create, scan, cleanup, abort, and update worktrees using a standard sibling folder layout with tracking documents. Prevents accidental deletion of protected branches.\\n\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 5,\n        \"scripts\": 7,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.143375\"\n    },\n    {\n      \"name\": \"sc-github-issue\",\n      \"version\": \"0.8.0\",\n      \"description\": \"GitHub issue lifecycle management with worktree isolation: list, create, update, and fix issues with automated workflows including PR creation. Integrates with sc-git-worktree for safe isolation.\\n\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 4,\n        \"scripts\": 1,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.144438\"\n    },\n    {\n      \"name\": \"sc-kanban\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Kanban state machine for Synaptic Canvas: backlog \\u2192 board \\u2192 done with gate validation, scrubbing, and shared board config (v0.7).\\n\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 8,\n        \"scripts\": 5,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.145120\"\n    },\n    {\n      \"name\": \"sc-manage\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Manage Synaptic Canvas Claude packages. List available packages and their install status (local/global), and install or uninstall packages according to policy.\\n\",\n      \"author\": \"synaptic-canvas\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 4,\n        \"scripts\": 8,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.145819\"\n    },\n    {\n      \"name\": \"sc-repomix-nuget\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Generate AI-optimized NuGet package context using Repomix with NuGet metadata (dependencies, dependents, namespaces, frameworks). Produces a compressed API surface.\\n\",\n      \"author\": \"synaptic-canvas\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 3,\n        \"agents\": 3,\n        \"scripts\": 3,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.146510\"\n    },\n    {\n      \"name\": \"sc-roslyn-diff\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Semantic diffing for .NET source using roslyn-diff with JSON-first outputs, HTML reports, and git/PR-aware comparisons.\\n\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 2,\n        \"scripts\": 6,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.147080\"\n    },\n    {\n      \"name\": \"sc-startup\",\n      \"version\": \"0.8.0\",\n      \"description\": \"Startup runner for Synaptic Canvas: read startup prompt, sync master checklist, optional PR triage, worktree hygiene, and CI pull, then emit a concise status with next steps. Supports read-only mode.\\n\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 1,\n        \"skills\": 1,\n        \"agents\": 4,\n        \"scripts\": 1,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.147698\"\n    },\n    {\n      \"name\": \"sc-commit-push-pr\",\n      \"version\": \"0.1.0\",\n      \"description\": \"Commit, push, and create PRs for GitHub and Azure DevOps\",\n      \"author\": \"randlee\",\n      \"license\": \"MIT\",\n      \"keywords\": [],\n      \"category\": \"tools\",\n      \"artifacts\": {\n        \"commands\": 0,\n        \"skills\": 1,\n        \"agents\": 2,\n        \"scripts\": 9,\n        \"schemas\": 0\n      },\n      \"lastUpdated\": \"2026-01-23T11:54:29.141722\"\n    }\n  ],\n  \"metadata\": {\n    \"totalPackages\": 11,\n    \"totalCommands\": 10,\n    \"totalSkills\": 13,\n    \"totalAgents\": 43,\n    \"totalScripts\": 52,\n    \"totalSchemas\": 2\n  },\n  \"generated\": \"2026-01-23T11:54:29.147709\",\n  \"lastUpdated\": \"2026-01-23T11:54:29.147710\"\n}",
        "packages/sc-ci-automation/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-ci-automation\",\n  \"description\": \"Run CI quality gates (pull → build → test) with optional auto-fix and PR creation. Coordinates pull from upstream, builds projects, runs tests, applies straightforward fixes, and creates PRs when all quality gates pass.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"ci\", \"automation\", \"testing\", \"build\", \"quality-gates\", \"pr\", \"continuous-integration\"],\n  \"commands\": [\n    \"./commands/sc-ci-automation.md\"\n  ],\n  \"agents\": [\n    \"./agents/ci-validate-agent.md\",\n    \"./agents/ci-pull-agent.md\",\n    \"./agents/ci-build-agent.md\",\n    \"./agents/ci-test-agent.md\",\n    \"./agents/ci-fix-agent.md\",\n    \"./agents/ci-root-cause-agent.md\",\n    \"./agents/ci-pr-agent.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-ci-automation/SKILL.md\"\n  ]\n}\n",
        "packages/sc-ci-automation/README.md": "# sc-ci-automation\n\n[![Publisher Verified](https://img.shields.io/badge/publisher-verified-brightgreen)](https://github.com/randlee/synaptic-canvas/blob/main/docs/PUBLISHER-VERIFICATION.md)\n[![Security Scanned](https://img.shields.io/badge/security-scanned-blue)](https://github.com/randlee/synaptic-canvas/blob/main/SECURITY.md)\n[![License MIT](https://img.shields.io/badge/license-MIT-green)](LICENSE)\n[![Version 0.7.0](https://img.shields.io/badge/version-0.7.0-blue)](CHANGELOG.md)\n\nScope: Local-only\nRequires: git ≥ 2.20\n\nRun CI quality gates with optional auto-fix and PR creation. Coordinates pull from upstream, builds projects, runs tests, applies straightforward fixes, and creates PRs when all quality gates pass.\n\nSecurity: See [SECURITY.md](../../../SECURITY.md) for security policy and practices.\n\n## Summary\n\nAutomates the pre-merge workflow: pull → build → test → fix → PR. Conservative by default with optional `--yolo` mode for auto-commit/push/PR when all gates pass. Supports version bumping with `--patch` flag.\n\n## Quick Start (Local-only)\n\n1) Install into a repo's `.claude` directory:\n   ```bash\n   python3 tools/sc-install.py install sc-ci-automation --dest /path/to/your-repo/.claude\n   ```\n\n2) In your repo, run a basic test:\n   ```\n   /sc-ci-automation --test\n   ```\n\n3) Run full CI pipeline with PR creation:\n   ```\n   /sc-ci-automation --yolo\n   ```\n\n## Usage\n\n### Basic Commands\n\n- `/sc-ci-automation` - Full pipeline: pull → build → test → (conditional) fix → (manual) PR\n- `/sc-ci-automation --build` - Pull + build only (skip tests/PR)\n- `/sc-ci-automation --test` - Pull + build + test (skip commit/push/PR)\n- `/sc-ci-automation --yolo` - Auto-commit/push/PR after gates pass\n\n### Advanced Options\n\n- `--dest <branch>` - Override target branch for PR (default: inferred from tracking)\n- `--src <branch>` - Override source branch/worktree (default: current branch)\n- `--allow-warnings` - Allow warnings to pass quality gates (default: block)\n- `--patch` - Increment patch version number before building project\n- `--help` - Show usage and examples\n\n## Configuration\n\nCreate `.claude/ci-automation.yaml` (or use `.claude/config.yaml` as fallback):\n\n```yaml\nupstream_branch: main\nbuild_command: dotnet build\ntest_command: dotnet test\nwarn_patterns:\n  - \"warning CS\\\\d+\"\n  - \"WARN:\"\nallow_warnings: false\nauto_fix_enabled: true\npr_template_path: .github/PULL_REQUEST_TEMPLATE.md\nrepo_root: .\n```\n\nThe skill will auto-detect your project stack (.NET/Python/Node) and prompt to save suggested commands if config is missing.\n\n## Workflow\n\nThe `/sc-ci-automation` command coordinates 7 specialized agents:\n\n1. **ci-validate-agent** - Pre-flight checks (clean repo, config present, auth available)\n2. **ci-pull-agent** - Pull target branch, handle simple merge conflicts\n3. **ci-build-agent** - Run build, classify failures\n4. **ci-test-agent** - Run tests, classify failures/warnings\n5. **ci-fix-agent** - Apply straightforward fixes for build/test issues\n6. **ci-root-cause-agent** - Analyze unresolved failures, recommend actions\n7. **ci-pr-agent** - Commit, push, and create PR when gates pass\n\n## Safety Features\n\n- **Conservative by default**: Auto-fix only; stops before commit/PR unless clean and confirmed\n- **`--yolo` mode**: Enables auto-commit/push/PR after gates pass\n- **No force-push**: Respects protected branches and git hooks\n- **Warning gates**: Warnings block PR unless `--allow-warnings` or config override\n- **Explicit confirmation**: PRs to main/master require confirmation unless `--dest main` provided\n- **Audit logs**: Agent Runner logs all invocations to `.claude/state/logs/ci-automation/`\n\n## Install / Uninstall\n\nInstall (local-only):\n```bash\npython3 tools/sc-install.py install sc-ci-automation --dest /path/to/your-repo/.claude\n```\n\nUninstall:\n```bash\npython3 tools/sc-install.py uninstall sc-ci-automation --dest /path/to/your-repo/.claude\n```\n\n## Examples\n\n**Build and test without PR:**\n```\n/sc-ci-automation --test\n```\n\n**Full pipeline with version bump:**\n```\n/sc-ci-automation --patch --yolo\n```\n\n**Custom target branch:**\n```\n/sc-ci-automation --dest develop --yolo\n```\n\n**Allow warnings to pass:**\n```\n/sc-ci-automation --allow-warnings --yolo\n```\n\n## Troubleshooting\n\nSee [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for detailed guidance.\n\n**Common Issues:**\n\n- **\"Dirty repo\"**: Commit or stash changes before running CI automation\n- **\"Config not found\"**: Create `.claude/ci-automation.yaml` or provide build/test commands interactively\n- **\"Auth required\"**: Set `GITHUB_TOKEN` environment variable for PR creation\n- **Build fails repeatedly**: Check `ci-root-cause-agent` output for unresolved issues\n- **Tests fail with warnings**: Use `--allow-warnings` to pass quality gates despite warnings\n\n## Use Cases\n\nSee [USE-CASES.md](USE-CASES.md) for practical examples and workflows.\n\n## Dependencies\n\n- git ≥ 2.20\n- GitHub CLI (`gh`) for PR creation (optional, only needed for `--yolo` or manual PR step)\n\n## Related Packages\n\n- **sc-git-worktree**: Manage parallel worktrees for feature development\n- **sc-github-issue**: GitHub issue lifecycle management with worktree isolation\n\n## Documentation\n\n- [README.md](README.md) - This file\n- [CHANGELOG.md](CHANGELOG.md) - Version history and changes\n- [USE-CASES.md](USE-CASES.md) - Practical examples and workflows\n- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - Common issues and solutions\n\n## License\n\nMIT License. See [LICENSE](../../../LICENSE) for details.\n\n## Contributing\n\nSee the main [synaptic-canvas repository](https://github.com/randlee/synaptic-canvas) for contribution guidelines.\n",
        "packages/sc-ci-automation/agents/ci-build-agent.md": "---\nname: ci-build-agent\nversion: 0.8.0\ndescription: Run build and classify failures.\n---\n\n# CI Build Agent\n\n## Purpose\nExecute build command and classify failures as straightforward vs. needs input.\n\n## Inputs\n```json\n{\n  \"repo\": \"owner/repo\",\n  \"build_command\": \"dotnet build\",\n  \"warn_patterns\": [\"warning CS\\\\d+\"]\n}\n```\n\n## Outputs (success)\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": \"Build succeeded\",\n    \"warnings\": [],\n    \"actions\": []\n  },\n  \"error\": null\n}\n```\n\n## Outputs (error)\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"BUILD.COMPILE_FAILED\",\n    \"message\": \"Build failed; see logs\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Review errors or run ci-fix-agent if straightforward\"\n  }\n}\n```\n\n## Notes\n- Detect warnings; set a flag if warnings present (used for allow-warnings).\n- Do not attempt fixes; hand off to ci-fix-agent.\n",
        "packages/sc-ci-automation/agents/ci-fix-agent.md": "---\nname: ci-fix-agent\nversion: 0.8.0\ndescription: Apply straightforward fixes for build/test issues.\n---\n\n# CI Fix Agent\n\n## Purpose\nAttempt low-risk fixes for build/test failures and warnings.\n\n## Inputs\n```json\n{\n  \"repo\": \"owner/repo\",\n  \"issue_type\": \"BUILD|TEST|WARN\",\n  \"details\": \"compiler/test output\",\n  \"files\": [\"file1\", \"file2\"],\n  \"allow_warnings\": false\n}\n```\n\n## Outputs (success)\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": \"Applied straightforward fixes\",\n    \"patch_summary\": \"Added missing import; updated dependency\",\n    \"risk\": \"low\",\n    \"files_changed\": [\"src/app.py\"],\n    \"followups\": []\n  },\n  \"error\": null\n}\n```\n\n## Outputs (error)\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"FIX.NOT_STRAIGHTFORWARD\",\n    \"message\": \"Fix requires logic changes\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Escalate to root-cause agent or human review\"\n  }\n}\n```\n\n## Heuristics (auto-fix)\n- Missing imports/dependencies.\n- Formatting/linters.\n- Obvious unused vars/type hints.\n- Deprecation replacements when clear.\n- Limited scope: avoid fundamental logic changes; stop if fix touches >10 files or risk > low.\n\n## Notes\n- Do not modify protected areas (auth, security, migrations).\n- Return followups for anything needing human review.\n",
        "packages/sc-ci-automation/agents/ci-pr-agent.md": "---\nname: ci-pr-agent\nversion: 0.8.0\ndescription: Commit, push, and create PR after quality gates pass.\n---\n\n# CI PR Agent\n\n## Purpose\nPerform final commit/push/PR when gates are clean and user allows (or `--yolo`).\n\n## Inputs\n```json\n{\n  \"repo\": \"owner/repo\",\n  \"src_branch\": \"feature-x\",\n  \"dest_branch\": \"develop\",\n  \"pr_title\": \"CI automation fixes\",\n  \"pr_body\": \"Summary of changes\",\n  \"pr_template_path\": \".github/PULL_REQUEST_TEMPLATE.md\",\n  \"allow_warnings\": false\n}\n```\n\n## Outputs (success)\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": \"PR created\",\n    \"pr_url\": \"https://github.com/owner/repo/pull/123\",\n    \"branch\": \"feature-x\"\n  },\n  \"error\": null\n}\n```\n\n## Outputs (error)\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"PR.NO_CHANGES\",\n    \"message\": \"No changes to commit\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Skip PR or rerun after changes\"\n  }\n}\n```\n\n## Notes\n- Respect protected branches; confirm PR to main/master unless `--dest main` specified.\n- Avoid duplicate PRs; consider idempotency keys in future versions.\n",
        "packages/sc-ci-automation/agents/ci-pull-agent.md": "---\nname: ci-pull-agent\nversion: 0.8.0\ndescription: Pull target branch and handle straightforward conflicts.\n---\n\n# CI Pull Agent\n\n## Purpose\nPull from dest branch (inferred tracking or `--dest`) and handle simple merge conflicts.\n\n## Inputs\n```json\n{\n  \"dest_branch\": \"develop\",\n  \"src_branch\": \"feature-x\",\n  \"repo\": \"owner/repo\"\n}\n```\n\n## Outputs (success)\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": \"Pulled develop into feature-x\",\n    \"actions\": []\n  },\n  \"error\": null\n}\n```\n\n## Outputs (error)\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"GIT.MERGE_CONFLICT\",\n    \"message\": \"Manual conflict resolution required\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Resolve conflicts and rerun\"\n  }\n}\n```\n\n## Notes\n- Handle only straightforward conflicts (e.g., auto-merge trivial cases); otherwise stop.\n- Never force-pull.\n",
        "packages/sc-ci-automation/agents/ci-root-cause-agent.md": "---\nname: ci-root-cause-agent\nversion: 0.8.0\ndescription: Analyze unresolved failures and provide recommendations.\n---\n\n# CI Root Cause Agent\n\n## Purpose\nSummarize why gates are failing and recommend actions when fixes aren’t straightforward.\n\n## Inputs\n```json\n{\n  \"repo\": \"owner/repo\",\n  \"errors\": [\n    { \"code\": \"BUILD.COMPILE_FAILED\", \"message\": \"See log\", \"files\": [\"src/app.py\"] }\n  ]\n}\n```\n\n## Outputs (success)\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": \"Build failed due to missing dependency\",\n    \"root_causes\": [\n      {\n        \"category\": \"BUILD.DEPENDENCY_MISSING\",\n        \"description\": \"Package foo missing\",\n        \"affected_files\": [\"requirements.txt\"],\n        \"confidence\": \"high\"\n      }\n    ],\n    \"recommendations\": [\n      {\n        \"action\": \"Add foo>=2.0.0 to requirements.txt\",\n        \"rationale\": \"Dependency missing\",\n        \"estimated_effort\": \"5m\",\n        \"risk\": \"low\"\n      }\n    ],\n    \"blocking\": true,\n    \"requires_human_input\": true\n  },\n  \"error\": null\n}\n```\n\n## Notes\n- No fixes; produce actionable guidance.\n- Use clear categories and confidence.\n",
        "packages/sc-ci-automation/agents/ci-test-agent.md": "---\nname: ci-test-agent\nversion: 0.8.0\ndescription: Run tests and classify failures/warnings.\n---\n\n# CI Test Agent\n\n## Purpose\nExecute test command and classify failures/warnings.\n\n## Inputs\n```json\n{\n  \"repo\": \"owner/repo\",\n  \"test_command\": \"pytest\",\n  \"warn_patterns\": [\"DeprecationWarning\"]\n}\n```\n\n## Outputs (success)\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": \"Tests passed\",\n    \"warnings\": [],\n    \"actions\": []\n  },\n  \"error\": null\n}\n```\n\n## Outputs (error)\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"TEST.FAILURE\",\n    \"message\": \"Tests failed; see logs\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Hand off to ci-fix-agent if straightforward\"\n  }\n}\n```\n\n## Notes\n- Detect warnings; set a flag for allow-warnings.\n- No fixes; hand off to ci-fix-agent.\n",
        "packages/sc-ci-automation/agents/ci-validate-agent.md": "---\nname: ci-validate-agent\nversion: 0.8.0\ndescription: Pre-flight checks for CI automation (clean repo, config, auth).\n---\n\n# CI Validate Agent\n\n## Purpose\nStop early if prerequisites aren’t met.\n\n## Inputs\n```json\n{\n  \"repo\": \"owner/repo\",\n  \"allow_dirty\": false,\n  \"config_path\": \".claude/ci-automation.yaml\",\n  \"auth_required\": true\n}\n```\n\n## Outputs (success)\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": \"Validation passed\",\n    \"actions\": []\n  },\n  \"error\": null\n}\n```\n\n## Outputs (error)\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"VALIDATION.DIRTY_REPO\",\n    \"message\": \"Working tree not clean\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Commit/stash changes or rerun with allow_dirty\"\n  }\n}\n```\n\n## Checks\n- Git clean (unless overridden).\n- Config present (preferred `.claude/ci-automation.yaml`, fallback `.claude/config.yaml`).\n- Auth available for PR operations (e.g., `GITHUB_TOKEN`).\n\n## Notes\n- No fixes; report and exit.\n",
        "packages/sc-ci-automation/commands/sc-ci-automation.md": "---\nname: sc-ci-automation\nversion: 0.8.0\ndescription: Run CI quality gates (pull → build → test) with optional auto-fix and PR.\n---\n\n# /sc-ci-automation command\n\nUnified CI automation entrypoint. Delegates to the `sc-ci-automation` skill and agents; keeps logic thin.\n\n## Flags\n- `--build`: Pull + build only (skip tests/commit/push/PR)\n- `--test`: Pull + build + test (skip commit/push/PR)\n- `--dest <branch>`: Override inferred upstream/target branch\n- `--src <branch>`: Override inferred source branch/worktree\n- `--allow-warnings`: Allow warnings to pass gates (default: block)\n- `--yolo`: Auto-commit/push/PR after gates pass\n- `--patch`: Increment patch version before building (optional)\n- `--help`: Show usage and examples, then exit\n\n**Flag precedence**: `--build` and `--test` are mutually exclusive; if both are provided, exit with an error and show help.\n\n## Behavior\n- Defaults: Pull → build → test → (optional) fix → (optional) PR. Conservative mode stops before commit/push/PR unless clean and confirmed; `--yolo` performs commit/push/PR once gates are satisfied.\n- Honors inferred branches: source from current branch; dest from tracking/upstream. `--src`/`--dest` override.\n- Calls Agent Runner for all agent invocations (registry-enforced, audited).\n- Reads config from `.claude/ci-automation.yaml` (preferred) or `.claude/config.yaml` (fallback) for `upstream_branch`, `build_command`, `test_command`, `warn_patterns`, `allow_warnings`, `auto_fix_enabled`, `pr_template_path`.\n\n## Help Output (example)\n```\n/sc-ci-automation - Run end-to-end CI quality gates\n\nUsage:\n  /sc-ci-automation [flags]\n\nFlags:\n  --build              Run pull + build only (skip tests/PR)\n  --test               Run pull + build + test (skip commit/push/PR)\n  --dest <branch>      Override target branch for PR (default: inferred)\n  --src <branch>       Override source branch/worktree (default: current branch)\n  --allow-warnings     Allow warnings to pass quality gates\n  --patch              Increment patch version before building\n  --yolo               Enable auto-commit/push/PR (requires clean gates)\n  --help               Show this help message\n\nExamples:\n  /sc-ci-automation --test\n  /sc-ci-automation --dest main --patch\n  /sc-ci-automation --yolo\n```\n",
        "packages/sc-ci-automation/skills/sc-ci-automation/SKILL.md": "---\nname: sc-ci-automation\nversion: 0.8.0\ndescription: Run CI quality gates with optional auto-fix and PR creation.\nentry_point: /sc-ci-automation\n---\n\n# SC CI Automation Skill\n\nCoordinates pull → build → test → fix → PR. Keeps instructions lean; heavy details live in references and contracts file. Agent Runner is required for all agent calls (registry-enforced, audited).\n\n## Commands\n- `/sc-ci-automation` (flags: `--build`, `--test`, `--dest`, `--src`, `--allow-warnings`, `--patch`, `--yolo`, `--help`)\n\n## Agents (v0.1.0)\n- `ci-validate-agent`: pre-flight checks (clean repo, config present, auth available)\n- `ci-pull-agent`: pull target branch, handle simple conflicts\n- `ci-build-agent`: run build, classify failures\n- `ci-test-agent`: run tests, classify failures/warnings\n- `ci-fix-agent`: apply straightforward fixes\n- `ci-root-cause-agent`: summarize unresolved issues, recommend actions\n- `ci-pr-agent`: commit/push/PR when gates pass\n\n## Flow\n0. Validate via Agent Runner → `ci-validate-agent`\n1. Pull via Agent Runner → `ci-pull-agent` (dest inferred from tracking; `--dest` overrides)\n2. Build via Agent Runner → `ci-build-agent`\n3. On build fail: Agent Runner → `ci-fix-agent` (only straightforward fixes), repeat\n4. Test via Agent Runner → `ci-test-agent`\n5. On test/warn fail: Agent Runner → `ci-fix-agent` if straightforward, else `ci-root-cause-agent`\n6. If clean and confirmed (or `--yolo`): Agent Runner → `ci-pr-agent` to commit/push/PR\n\n## Config\nPreferred: `.claude/ci-automation.yaml` (fallback: `.claude/config.yaml`) with `upstream_branch`, `build_command`, `test_command`, `warn_patterns`, `allow_warnings`, `auto_fix_enabled`, `pr_template_path`, `repo_root`. Detect stack (e.g., .NET/Python/Node) and prompt to save suggested commands.\n\n## Safety\n- No force-push; respect protected branches.\n- Default is conservative: auto-fix only; stop before commit/PR unless clean and confirmed.\n- `--yolo`: allow commit/push/PR after gates pass.\n- Warnings block PR unless `--allow-warnings` or config override.\n- Explicit confirmation for PRs to main/master unless `--dest main` provided.\n- Audit: Agent Runner logs to `.claude/state/logs/ci-automation/`.\n\n## References\n- `.claude/references/ci-automation-commands.md`\n- `.claude/references/ci-automation-checklists.md`\n- `.claude/references/ci-automation-contracts.md`\n\n## Size Guidance\n- Keep SKILL.md under ~2KB: overview, flags, agent list, flow summary, contracts, config, safety, references.\n",
        "packages/sc-codex/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-codex\",\n  \"description\": \"Run Codex agents via a Task Tool-compatible runner, with hooks emulation and background execution support.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"synaptic-canvas\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"codex\", \"agents\", \"task-tool\", \"cli\"],\n  \"commands\": [\n    \"./commands/sc-codex.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-codex.md\"\n  ],\n  \"skills\": [\n    \"./skills/codex-agent/SKILL.md\"\n  ]\n}\n",
        "packages/sc-codex/README.md": "# sc-codex (v0.7.0)\n\nRun Codex agents via a Task Tool-compatible runner with hook emulation and\nbackground execution support. Provides a CLI wrapper plus JSON schemas for\ninput/output validation.\n\n## Badges\n- Status: pre-release (0.7.0)\n- Compatibility: Synaptic Canvas 0.7.x\n- Safety: hook commands are explicit and logged\n\n## Installation\n```bash\n/marketplace install sc-codex --local\n```\n\n## Quick Start\n```bash\n# Run a task via the runner\npython3 packages/sc-codex/scripts/sc_codex_task.py \\\n  --runner codex \\\n  --file /path/to/input.json\n\n# Use ai_cli directly\nPYTHONPATH=packages/sc-codex/scripts python3 -m ai_cli run --file /path/to/input.json\n```\n\n## Schemas\n- Input schema: `packages/sc-codex/schemas/task_tool.schema.json`\n- Output schema: `packages/sc-codex/schemas/task_tool.output.schema.json`\n\n## Logs\nRuntime and hook events are written to:\n- `.claude/state/logs/sc-codex/`\n\n## Security\n- Hook commands are executed as configured in agent frontmatter; review them before running.\n- JSON schemas should be treated as untrusted input validation aids, not execution controls.\n- Background outputs are written to `.sc/sessions` or `$CODEX_HOME/sessions`; avoid storing secrets there.\n\n## Changelog\nSee `CHANGELOG.md`.\n\n## License\nMIT, see `LICENSE`.\n",
        "packages/sc-codex/agents/sc-codex.md": "---\nname: sc-codex\nversion: 0.8.0\ndescription: Codex agent placeholder for Task Tool execution and hook resolution.\nmodel: codex\ncolor: blue\n---\n\n# sc-codex Agent\n\nThis agent acts as a placeholder for Codex Task Tool execution and hook resolution.\nIt has no PreToolUse hooks.\n",
        "packages/sc-codex/commands/sc-codex.md": "---\nallowed-tools: Bash(python3 .claude/scripts/sc_codex_task.py*)\nname: sc-codex\ndescription: Run Codex tasks via the ai_cli runner (supports JSON input, background runs, and model selection).\nversion: 0.8.0\noptions:\n  - name: --model\n    args:\n      - name: model\n        description: Codex model or alias (e.g., codex, max, mini, gpt-5).\n    description: Select the Codex model.\n  - name: --background\n    description: Run in background mode (returns output_file). Default if not disabled.\n  - name: --no-background\n    description: Force blocking mode (waits for completion).\n  - name: --json\n    description: Treat remaining arguments as JSON Task Tool input.\n  - name: --help\n    description: Show usage.\n---\n\n# /sc-codex\n\nRun a Codex task using the Task Tool-compatible runner.\n\nUsage:\n- `/sc-codex write a haiku about rain`\n- `/sc-codex --model mini write a haiku about rain`\n- `/sc-codex --background write a haiku about rain`\n- `/sc-codex --json {\"description\":\"Compose haiku\",\"prompt\":\"compose a haiku\",\"subagent_type\":\"sc-codex\"}`\n\nFlags:\n- `--help` (show usage)\n- `--model <alias|full>` (codex, codex-max/max, codex-mini/mini, gpt-5, or full model name)\n- `--background` (force background mode)\n- `--no-background` (force blocking mode)\n- `--json <object>` (Task Tool JSON input)\n\n## Context\n\nUse the `codex-agent` skill to launch a Codex task **in background mode**.\n\nInterpret arguments as follows:\n- `--help`: print usage (with flags) and stop.\n- `--model <alias|full>`: pass the model to the codex-agent runner.\n- `--background`: force background mode (default for this command).\n- `--no-background`: force blocking mode (explicit override).\n- `--json <object>`: treat the remaining arguments as Task Tool JSON and pass through unchanged.\n- Otherwise: treat the remaining arguments as the prompt string.\n\nWhen running:\n1) Build Task Tool JSON with `description`, `prompt`, `subagent_type: \"sc-codex\"` (unless user provided one).\n   Default `run_in_background` to true unless `--no-background` is provided.\n2) Call the codex-agent runner as a Bash tool call using `--json`.\n   Always use `python3 .claude/scripts/sc_codex_task.py --json '{...}'` (do not call other runner scripts).\n   Do not invent flags like `--run_in_background`, `--description`, `--prompt`, or `--subagent_type`.\n3) Poll the `output_file` for up to 8 seconds using Python (avoid `tail -f` and avoid `timeout`, which may be missing on macOS):\n\n```bash\npython3 - <<'PY'\nimport json, time\nfrom pathlib import Path\n\npath = Path(\"PATH_TO_OUTPUT_FILE\")\ndeadline = time.time() + 8\nwhile time.time() < deadline:\n    if path.exists():\n        lines = [line for line in path.read_text(encoding=\"utf-8\").splitlines() if line.strip()]\n        if any('\"type\": \"assistant\"' in line for line in lines):\n            print(path.read_text(encoding=\"utf-8\"))\n            break\n    time.sleep(0.5)\nelse:\n    print(\"STILL RUNNING\")\nPY\n```\n\nIf the task is still running, return `agentId` and `output_file`.\n4) Return the Codex output and the `agentId`. If the task is still running at timeout, return `agentId` and `output_file`\n   and tell the user how to check status.\n\n## Response\n\nReturn a JSON object with:\n- `agentId`\n- `status` (\"success\" or \"error\")\n- `output` (final Codex output if available)\n- `output_file` (required when background mode is used)\n\nIf background mode was used and `output_file` is missing, treat that as an error.\n",
        "packages/sc-codex/scripts/ai_cli/README.md": "# ai_cli\n\nPython/pydantic utilities for CLI integration and tool schemas.\n\n## Task Tool schema\n\nInput schema (JSON) lives in `packages/sc-codex/schemas/task_tool.schema.json`\nand is mirrored by the pydantic model in `packages/sc-codex/scripts/ai_cli/task_tool.py`.\nOutput schema (JSON) lives in `packages/sc-codex/schemas/task_tool.output.schema.json`.\n\nForeground output (run_in_background: false or omitted):\n- Object with `output` and `agentId`.\n\nBackground output (run_in_background: true):\n- Object with `output`, `agentId`, and `output_file` (JSONL transcript path).\n\n### Input example\n\n```json\n{\n  \"description\": \"Summarize issue\",\n  \"prompt\": \"Summarize the latest GitHub issue thread\",\n  \"subagent_type\": \"issue-summary\",\n  \"model\": \"haiku\",\n  \"run_in_background\": false,\n  \"max_turns\": 10\n}\n```\n\n### Output examples\n\nBlocking:\n\n```json\n{\n  \"output\": \"Agent result here\",\n  \"agentId\": \"agent-123\"\n}\n```\n\nBackground:\n\n```json\n{\n  \"output\": \"Async agent launched successfully.\",\n  \"agentId\": \"agent-123\",\n  \"output_file\": \"/path/to/agent.jsonl\"\n}\n```\n\n### Background JSONL format\n\nEach line in `output_file` is a JSON object representing a message. Status is inferred\nfrom message types and tool results that include `is_error: true`.\n\n## CLI\n\nPrint schema:\n\n```bash\nPYTHONPATH=packages/sc-codex/scripts python3 -m ai_cli schema\n```\n\nValidate input from file:\n\n```bash\nPYTHONPATH=packages/sc-codex/scripts python3 -m ai_cli validate --file /path/to/input.json\n```\n\nRun a task (blocking by default, runner auto-selects based on availability):\n\n```bash\nPYTHONPATH=packages/sc-codex/scripts python3 -m ai_cli run --file /path/to/input.json\n```\n\nRun in background with Codex and custom output directory:\n\n```bash\nPYTHONPATH=packages/sc-codex/scripts python3 -m ai_cli run --runner codex --background --output-dir .sc/sessions --file /path/to/input.json\n```\n\nBackground outputs default to `.sc/sessions` (gitignored). For Codex, if `CODEX_HOME` is set,\nthe default becomes `$CODEX_HOME/sessions`. Use `--output-dir` to override.\n\nModel defaults:\n- Claude defaults to `sonnet`\n- Codex defaults to `gpt-5.2-codex`\n\nCodex model aliases:\n- `codex` -> `gpt-5.2-codex`\n- `codex-max` or `max` -> `gpt-5.1-codex-max`\n- `codex-mini` or `mini` -> `gpt-5.1-codex-mini`\n- `gpt-5` or `gtp-5` -> `gpt-5.2`\n\n## Logs\n\nErrors and schema validation failures are logged to:\n- `.claude/state/logs/<package-name>/` (derived from the runner script path)\n\nTask start/end events are also logged with `agentId`, `runner`, `model`, and parameters.\nLogs include `prompt_preview` and `duration_ms`.\n\n## Hook emulation\n\nIf `subagent_type` refers to a local agent (e.g., `.claude/agents/<name>.md`),\n`ai_cli` will parse frontmatter `hooks: PreToolUse` and run `type: command` hooks\nbefore executing the agent. This emulates Claude's input validation hooks for Codex.\n\nResolution order for agent files:\n1. If `subagent_type` is a path and exists, use it directly.\n2. Search upward from `cwd` for `.claude/agents/<name>.md`.\n3. Fall back to `~/.claude/agents/<name>.md`.\n\nIf no agent file is found:\n- `codex`: fail with an error\n- `claude`: skip hooks (assumes built-in agent)\n\nHook executions are logged with `hook_start`/`hook_end` events (status + command).\n",
        "packages/sc-codex/skills/codex-agent/SKILL.md": "---\nname: codex-agent\ndescription: Run Codex tasks via the ai_cli Task Tool runner.\nversion: 0.8.0\n---\n\n# Codex Agent\n\nUse this skill to run Codex tasks via the ai_cli runner. This is intended for Claude\nto delegate work to Codex when appropriate, including long-running background tasks\nthat can be monitored while other work continues.\n\n## Invocation\n\nCall the runner script (installed path in projects is `.claude/scripts`):\n\n```bash\npython3 .claude/scripts/sc_codex_task.py --json '{...}'\n```\n\nUse `sc_codex_task.py` only (do not call other runner script names).\nDo not invent flags like `--run_in_background`, `--description`, `--prompt`, or `--subagent_type`.\n\n## Input\n\nProvide Task Tool input JSON with:\n- `description`\n- `prompt`\n- `subagent_type` (defaults to `sc-codex` if not provided by the caller)\n\n## Notes\n\n- Model flags (aliases and full names are accepted):\n  - `--model codex` (default: gpt-5.2-codex)\n  - `--model codex-max` or `--model max` (maps to gpt-5.1-codex-max)\n  - `--model codex-mini` or `--model mini` (maps to gpt-5.1-codex-mini)\n  - `--model gpt-5` (maps to gpt-5.2)\n- Background mode:\n  - Default is background unless `--no-background` is provided.\n  - Add `--background` to force background explicitly.\n  - Add `--no-background` to force blocking mode.\n  - The JSON output includes `output_file` (JSONL transcript path) and `agentId`.\n  - Poll `output_file` via a short Python loop (avoid `tail -f` and avoid `timeout`, which may be missing on macOS).\n- Blocking mode (default without `--background`) returns `{ \"output\", \"agentId\" }`.\n- The runner enforces schema validation and logs to `.claude/state/logs/<package-name>/`.\n",
        "packages/sc-commit-push-pr/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-commit-push-pr\",\n  \"description\": \"Commit, push, and create PRs for GitHub and Azure DevOps with auto-detection, protected branch awareness, and conflict handling.\",\n  \"version\": \"0.1.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"git\", \"pr\", \"github\", \"azure-devops\", \"workflow\", \"automation\"],\n  \"commands\": [],\n  \"agents\": [\n    \"./agents/commit-push.md\",\n    \"./agents/create-pr.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-commit-push-pr/SKILL.md\"\n  ],\n  \"scripts\": [\n    \"./scripts/envelope.py\",\n    \"./scripts/provider_detect.py\",\n    \"./scripts/pr_provider.py\",\n    \"./scripts/preflight_utils.py\",\n    \"./scripts/commit_push_agent_start_hook.py\",\n    \"./scripts/create_pr_agent_start_hook.py\",\n    \"./scripts/commit_pull_merge_commit_push.py\",\n    \"./scripts/create_pr.py\"\n  ]\n}\n",
        "packages/sc-commit-push-pr/README.md": "# sc-commit-push-pr\n\nCommit, push, and create pull requests for GitHub and Azure DevOps repositories.\n\n## Installation\n\n```bash\n# From Synaptic Canvas marketplace\n/marketplace install sc-commit-push-pr\n```\n\n## Quick Start\n\n```bash\n# Stage, commit, push, and create PR in one command\n/sc-commit-push-pr\n\n# Create PR with specific title/body\n/sc-create-pr --title \"feat: Add feature\" --body \"Description here\"\n```\n\n## Features\n\n- **Multi-provider support** - GitHub and Azure DevOps\n- **Auto-detection** - Provider detected from git remote\n- **Protected branch awareness** - Respects branch protection rules\n- **Conflict handling** - Guides through merge conflict resolution\n- **Git-flow integration** - Auto-detects protected branches from git-flow config\n\n## Configuration\n\n### Protected Branches (Required)\n\nCreate `.sc/shared-settings.yaml` in your repository root:\n\n```yaml\ngit:\n  protected_branches:\n    - main\n    - develop\n```\n\n**Auto-detection:** If you use git-flow, protected branches are detected automatically from your git config.\n\n### Credentials\n\nSet environment variables for your provider:\n\n| Provider | Variable | Description |\n|----------|----------|-------------|\n| GitHub | `GITHUB_TOKEN` | Personal access token (or use `gh auth login`) |\n| Azure DevOps | `AZURE_DEVOPS_PAT` | Personal access token with Code (Read & Write) scope |\n\n## Commands\n\n### `/sc-commit-push-pr`\n\nFull pipeline command that:\n1. Stages important files (prompts if unclear)\n2. Commits changes with your message\n3. Pulls and merges from destination branch\n4. Pushes to remote\n5. Creates PR if one doesn't exist\n\n### `/sc-create-pr`\n\nStandalone PR creation:\n1. Accepts title and body\n2. Creates PR for current branch\n3. Returns PR URL\n\n## Logs\n\nRuntime logs are written to `.claude/state/logs/sc-commit-push-pr/`.\n\n- **Format:** JSON (newline-delimited)\n- **Retention:** 14 days\n- **Contains:** Operation outcomes, branch info, PR IDs\n- **Never contains:** Credentials, tokens, secrets\n\nExample log entry:\n```json\n{\n  \"timestamp\": \"2026-01-22T15:30:00Z\",\n  \"level\": \"info\",\n  \"message\": \"Commit and push completed successfully\",\n  \"context\": {\n    \"operation\": \"commit-push\",\n    \"provider\": \"github\",\n    \"source_branch\": \"feature-x\",\n    \"destination_branch\": \"main\"\n  }\n}\n```\n\n## Storage Locations\n\n| Type | Path | Purpose |\n|------|------|---------|\n| Logs | `.claude/state/logs/sc-commit-push-pr/` | Runtime events |\n| Shared Settings | `.sc/shared-settings.yaml` | Protected branches |\n| Package Settings | `.sc/sc-commit-push-pr/settings.yaml` | Optional preferences |\n\n## Error Codes\n\n| Code | Description | Recovery |\n|------|-------------|----------|\n| `GIT.MERGE_CONFLICT` | Merge conflicts detected | Resolve conflicts, stage files, re-run |\n| `GIT.AUTH` | Git authentication failure | Check credentials/tokens |\n| `GIT.REMOTE` | Remote fetch/push failure | Check network, remote URL |\n| `PR.CREATE_FAILED` | PR API error | Check permissions, branch names |\n| `PROVIDER.DETECT_FAILED` | Unknown provider | Check git remote URL |\n| `CONFIG.PROTECTED_BRANCH_NOT_SET` | Missing config | Create `.sc/shared-settings.yaml` |\n\n## Requirements\n\n- Python 3.8+\n- git\n- `gh` CLI (for GitHub)\n- `pydantic` and `pyyaml` Python packages\n\n## License\n\nMIT\n",
        "packages/sc-commit-push-pr/agents/commit-push.md": "---\nname: commit-push\nversion: 0.1.0\ndescription: Background agent for commit/pull/merge/push and PR status lookup.\nhooks:\n  SubAgentStart:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 .claude/scripts/commit_push_agent_start_hook.py\"\n---\n\n# Commit-Push Agent\n\nBackground agent that handles the commit/pull/merge/push pipeline and checks PR status.\n\n## Purpose\n\nThis agent executes the git workflow:\n1. Resolve source and destination branches\n2. Check for staged changes (skip commit if none)\n3. Fetch and pull+merge from destination branch\n4. Handle merge conflicts (return error for user resolution)\n5. Commit merge if needed, push changes\n6. Check for existing PR and return status + URL\n\n## Input\n\nThe agent accepts optional branch parameters via the prompt:\n\n```json\n{\n  \"source\": \"feature-branch\",      // Optional, defaults to current branch\n  \"destination\": \"main\"            // Optional, defaults to protected branch\n}\n```\n\n## Output\n\nReturns fenced JSON with standard envelope.\n\n### Success (PR exists)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"pr_exists\": true,\n    \"pr\": {\n      \"id\": \"123\",\n      \"url\": \"https://github.com/org/repo/pull/123\",\n      \"source_branch\": \"feature-x\",\n      \"destination_branch\": \"main\",\n      \"provider\": \"github\"\n    }\n  },\n  \"error\": null\n}\n```\n\n### Success (needs PR text)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"pr_exists\": false,\n    \"needs_pr_text\": true,\n    \"context\": {\n      \"source_branch\": \"feature-x\",\n      \"destination_branch\": \"main\",\n      \"diff_summary\": \"3 files changed, 45 insertions(+), 12 deletions(-)\"\n    }\n  },\n  \"error\": null\n}\n```\n\n### Error (merge conflict)\n\n```json\n{\n  \"success\": false,\n  \"data\": {\n    \"conflicts\": [\"path/file1.py\", \"path/file2.py\"]\n  },\n  \"error\": {\n    \"code\": \"GIT.MERGE_CONFLICT\",\n    \"message\": \"Merge conflict detected when pulling destination branch.\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Resolve conflicts, stage important files, then re-run.\"\n  }\n}\n```\n\n## Preflight Hook\n\nThe SubAgentStart hook validates:\n- Protected branches are configured in `.sc/shared-settings.yaml`\n- Git authentication is valid\n- Logs preflight status to `.claude/state/logs/sc-commit-push-pr/`\n\nIf preflight fails, the hook exits with code 2 to block execution.\n\n## Error Codes\n\n- `GIT.MERGE_CONFLICT` - Merge conflicts detected (recoverable)\n- `GIT.AUTH` - Git authentication failure\n- `GIT.REMOTE` - Remote fetch/push failure\n- `GIT.NO_CHANGES` - No staged changes to commit\n",
        "packages/sc-commit-push-pr/agents/create-pr.md": "---\nname: create-pr\nversion: 0.1.0\ndescription: Background agent for creating PRs from title/body.\nhooks:\n  SubAgentStart:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 .claude/scripts/create_pr_agent_start_hook.py\"\n---\n\n# Create-PR Agent\n\nBackground agent that creates pull requests from provided title and body.\n\n## Purpose\n\nThis agent creates a pull request using the appropriate provider (GitHub or Azure DevOps):\n1. Accept PR title, body, source and destination branches\n2. Detect provider from git remote\n3. Create PR via provider API\n4. Return PR info (id, url, branches)\n\n## Input\n\nThe agent requires PR details via the prompt:\n\n```json\n{\n  \"title\": \"feat: Add new feature\",\n  \"body\": \"## Summary\\n\\nThis PR adds...\",\n  \"source\": \"feature-branch\",\n  \"destination\": \"main\"\n}\n```\n\n## Output\n\nReturns fenced JSON with standard envelope.\n\n### Success\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"pr\": {\n      \"id\": \"123\",\n      \"url\": \"https://github.com/org/repo/pull/123\",\n      \"source_branch\": \"feature-x\",\n      \"destination_branch\": \"main\",\n      \"provider\": \"github\"\n    }\n  },\n  \"error\": null\n}\n```\n\n### Error\n\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"PR.CREATE_FAILED\",\n    \"message\": \"Failed to create PR: API returned 422\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Check branch names and permissions, then retry.\"\n  }\n}\n```\n\n## Preflight Hook\n\nThe SubAgentStart hook validates:\n- Protected branches are configured in `.sc/shared-settings.yaml`\n- Git authentication and PR creation permissions are valid\n- Logs preflight status to `.claude/state/logs/sc-commit-push-pr/`\n\nIf preflight fails, the hook exits with code 2 to block execution.\n\n## Error Codes\n\n- `PR.CREATE_FAILED` - Provider API failed to create PR\n- `PR.ALREADY_EXISTS` - PR already exists for this branch combination\n- `PROVIDER.DETECT_FAILED` - Could not detect provider from git remote\n- `PROVIDER.UNSUPPORTED` - Provider not supported\n",
        "packages/sc-commit-push-pr/skills/sc-commit-push-pr/SKILL.md": "---\nname: sc-commit-push-pr\nversion: 0.1.0\ndescription: Commit staged changes, push to remote, and create PRs for GitHub and Azure DevOps\n---\n\n# sc-commit-push-pr Skill\n\nOrchestrates the commit, push, and PR creation workflow using background agents.\n\n## Capabilities\n\n| Command | Description |\n|---------|-------------|\n| `/sc-commit-push-pr` | Full pipeline: commit, push, and create PR if needed |\n| `/sc-create-pr` | Create PR from title/body (standalone) |\n\n## Agent Delegation\n\n| Step | Agent | Input | Output |\n|------|-------|-------|--------|\n| Commit & Push | `commit-push` | source/destination branches | PR status, URL, or conflict list |\n| Create PR | `create-pr` | title, body, source, destination | PR info |\n\n## Orchestration Logic\n\n### `/sc-commit-push-pr` Flow\n\n1. **Stage important files**\n   - Prompt user if unclear which files to stage\n   - Skip if no changes detected\n\n2. **Invoke `commit-push` agent via Agent Runner**\n   - Pass source/destination branch parameters\n   - Parse fenced JSON response\n\n3. **Handle response:**\n   - If `pr_exists: true` → Return PR URL to user\n   - If `needs_pr_text: true` → Prompt user for title/body, then invoke `create-pr`\n   - If `error.code == \"GIT.MERGE_CONFLICT\"` → Guide user through conflict resolution\n\n### `/sc-create-pr` Flow\n\n1. **Accept title/body from user**\n   - May be provided as arguments or prompted\n\n2. **Invoke `create-pr` agent via Agent Runner**\n   - Pass title, body, source, destination\n\n3. **Return PR URL to user**\n\n## Provider Support\n\n- **GitHub** - Uses `gh` CLI for PR operations\n- **Azure DevOps** - Uses REST API with `AZURE_DEVOPS_PAT`\n\nProvider is auto-detected from git remote on each run.\n\n## Configuration\n\n### Required: Protected Branches\n\nCreate `.sc/shared-settings.yaml`:\n\n```yaml\ngit:\n  protected_branches:\n    - main\n    - develop\n```\n\nOr let the skill auto-detect from git-flow configuration.\n\n### Credentials\n\nSet environment variables:\n- GitHub: `GITHUB_TOKEN` (or `gh auth login`)\n- Azure DevOps: `AZURE_DEVOPS_PAT`\n\n## Error Handling\n\n| Error Code | Meaning | Recovery |\n|------------|---------|----------|\n| `GIT.MERGE_CONFLICT` | Merge conflicts detected | Resolve conflicts, re-run |\n| `GIT.AUTH` | Authentication failure | Check credentials |\n| `PR.CREATE_FAILED` | API error creating PR | Check permissions |\n| `CONFIG.PROTECTED_BRANCH_NOT_SET` | Missing config | Create shared-settings.yaml |\n\n## Storage\n\n| Type | Path | Purpose |\n|------|------|---------|\n| Logs | `.claude/state/logs/sc-commit-push-pr/` | Runtime events, preflight results |\n| Shared Settings | `.sc/shared-settings.yaml` | Protected branch configuration |\n| Package Settings | `.sc/sc-commit-push-pr/settings.yaml` | Optional preferences |\n\n## Related\n\n- [Design Document](../../../../docs/design/commit-push-pr-design.md)\n- [commit-push Agent](../../agents/commit-push.md)\n- [create-pr Agent](../../agents/create-pr.md)\n",
        "packages/sc-delay-tasks/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-delay-tasks\",\n  \"description\": \"Schedule delayed one-shot or bounded polling actions with minimal heartbeats. Useful for waiting before running checks (e.g., CI status) or polling with stop-on-success.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"delay\", \"polling\", \"scheduler\", \"ci\", \"workflow\", \"agents\"],\n  \"commands\": [\n    \"./commands/delay.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-delay-once.md\",\n    \"./agents/sc-delay-poll.md\",\n    \"./agents/sc-git-pr-check-delay.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-delaying-tasks/SKILL.md\"\n  ]\n}\n",
        "packages/sc-delay-tasks/README.md": "# sc-delay-tasks\n\n[![Publisher Verified](https://img.shields.io/badge/publisher-verified-brightgreen)](https://github.com/randlee/synaptic-canvas/blob/main/docs/PUBLISHER-VERIFICATION.md)\n[![Security Scanned](https://img.shields.io/badge/security-scanned-blue)](https://github.com/randlee/synaptic-canvas/blob/main/SECURITY.md)\n[![License MIT](https://img.shields.io/badge/license-MIT-green)](LICENSE)\n[![Version 0.6.0](https://img.shields.io/badge/version-0.6.0-blue)](CHANGELOG.md)\n\nScope: Global or Local\nRequires: python3\n\nSchedule delayed one-shot waits or bounded polling with minimal heartbeats. Provides a `/delay` command and agents reusable by other skills (e.g., CI check delays).\n\nSecurity: See [SECURITY.md](../../../SECURITY.md) for security policy and practices.\n\n## Summary\n- delay-once: single wait, emit a final action\n- delay-poll: bounded polling, optional stop-on-success hook\n- git-pr-check-delay: poll PR required checks using the delay helper\n\n## Quick Start (Global install)\n```bash\npython3 tools/sc-install.py install sc-delay-tasks --dest /Users/<you>/Documents/.claude\n```\nThen use `/delay` anywhere.\n\nRepo-local install (optional)\n```bash\npython3 tools/sc-install.py install sc-delay-tasks --dest /path/to/your-repo/.claude\n```\n\n## Usage\n- `/delay --once --minutes 2 --action \"go\"`\n- `/delay --poll --every 60 --for 5m --action \"done\"`\n\n## Agents\n- `delay-once` (v0.5.0)\n- `delay-poll` (v0.5.0)\n- `git-pr-check-delay` (v0.5.0)\n\nAll agents call the helper script:\n```bash\npython3 .claude/scripts/delay-run.py ...\n```\n\n## Install / Uninstall\n- Install (global):\n  ```bash\n  python3 tools/sc-install.py install sc-delay-tasks --dest /Users/<you>/Documents/.claude\n  ```\n- Uninstall:\n  ```bash\n  python3 tools/sc-install.py uninstall sc-delay-tasks --dest /Users/<you>/Documents/.claude\n  ```\n\n## Troubleshooting\n- Ensure `python3` is available in PATH\n- For polling, minimum interval is 60 seconds\n\n## Components\n- Command: `commands/delay.md`\n- Agents: `delay-once`, `delay-poll`, `git-pr-check-delay`\n- Script: `scripts/delay-run.py`\n\n## Version & Changelog\n- 0.5.0 — Initial v0.x publication (three agents)\n\n## Support\n- Repository: https://github.com/…/synaptic-canvas\n- Issues: https://github.com/…/synaptic-canvas/issues",
        "packages/sc-delay-tasks/agents/sc-delay-once.md": "---\nname: delay-once\nversion: 0.8.0\ndescription: Wait once for a specified duration with minimal heartbeats, then emit the action text. For short waits, print a single waiting line. No tool traces.\nmodel: sonnet\ncolor: gray\n---\n\n# Delay Once Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nPerform a one-shot wait and emit minimal heartbeats.\n\n## Inputs\n\n- `seconds` or `minutes`: required duration (minimum 10s; maximum 12h)\n- `until`: optional target time (HH:MM or ISO); converted to seconds; ignored if seconds/minutes provided\n- `action`: optional action text to return on completion (e.g., \"verify gh pr actions passed\")\n\n## Behavior\n\n1. Validate duration: reject <10s or >12h.\n2. Execute the wait via the Python helper (blocking):\n   ```\n   python3 .claude/scripts/delay-run.py --seconds <n>|--minutes <n>|--until <time>\n   ```\n3. On completion, return structured JSON result. Do not perform the action; only return the action text for the caller to handle.\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"mode\": \"once\",\n    \"duration_seconds\": 120,\n    \"action\": \"verify gh pr actions passed\"\n  },\n  \"error\": null\n}\n```\n````\n\nOn failure:\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"validation.duration\",\n    \"message\": \"duration must be between 10s and 12h\",\n    \"recoverable\": true,\n    \"suggested_action\": \"provide a valid duration\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT output plaintext heartbeats; return JSON only\n- Do NOT perform the action; only return action text for the caller\n",
        "packages/sc-delay-tasks/agents/sc-delay-poll.md": "---\nname: delay-poll\nversion: 0.8.0\ndescription: Perform bounded polling with minimal heartbeats. Sleep on an interval, emit a heartbeat each interval, stop on success/timeout, and emit the action text. No tool traces.\nmodel: sonnet\ncolor: gray\n---\n\n# Delay Poll Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nRun a bounded poll loop with minimal heartbeats.\n\n## Inputs\n\n- `every`: interval (seconds/minutes). Minimum 60s to avoid busy wait.\n- `for`: max duration OR `attempts`: max attempts. Require one to bound the loop.\n- `action`: optional action text to return on completion.\n- `stop_on_success` (optional): when true, poll until a success check reports `success: true` or `canceled: true`.\n- `prompt`: name of a prompt file in `.prompts/` that returns JSON: `{ \"success\": true|false, \"canceled\": true|false, \"message\": \"...\" }`.\n- `prompt_text`: arbitrary text to seed a generated prompt file in `.prompts/`.\n\n## Behavior\n\n1. Validate interval >= 60s; reject >12h total duration.\n2. Require max duration (`--for`) or attempts (`--attempts`).\n3. If `stop_on_success`:\n   - Ensure a prompt file is available under `.prompts/` that returns JSON with `success`/`canceled`/`message` (lowercase keys).\n   - For each attempt:\n     a) Sleep using the Python helper: `python3 .claude/scripts/delay-run.py --every <interval> --attempts 1`\n     b) Run the success-check prompt and parse JSON. On `success: true` or `canceled: true`, stop polling.\n   - Continue until attempts/duration exhausted.\n4. If not `stop_on_success`: run a bounded poll via the helper:\n   ```\n   python3 .claude/scripts/delay-run.py --every <interval> --for <duration>|--attempts <count>\n   ```\n5. On completion, return structured JSON result.\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"mode\": \"poll\",\n    \"interval_seconds\": 60,\n    \"total_duration_seconds\": 180,\n    \"attempts\": 3,\n    \"stopped_early\": false,\n    \"action\": \"verify gh pr actions passed\",\n    \"message\": null\n  },\n  \"error\": null\n}\n```\n````\n\nOn early stop (success or canceled):\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"mode\": \"poll\",\n    \"interval_seconds\": 60,\n    \"attempts\": 2,\n    \"stopped_early\": true,\n    \"action\": \"verify gh pr actions passed\",\n    \"message\": \"CI passed on attempt 2\"\n  },\n  \"error\": null\n}\n```\n````\n\nOn validation failure:\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"validation.interval\",\n    \"message\": \"interval must be at least 60s\",\n    \"recoverable\": true,\n    \"suggested_action\": \"increase interval to 60s or more\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT output plaintext heartbeats; return JSON only\n- Do NOT perform the action; only return action text for the caller\n",
        "packages/sc-delay-tasks/agents/sc-git-pr-check-delay.md": "---\nname: git-pr-check-delay\nversion: 0.8.0\ndescription: Poll a PR's required checks with bounded delays using the shared delay-run.py helper; stop on success, failure, or timeout.\nmodel: sonnet\ncolor: gray\n---\n\n# Git PR Check Delay Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nWait for PR required checks to complete using periodic polling with heartbeats, backed by `.claude/scripts/delay-run.py`. Generic across repos/hosts; does not merge or mutate PRs.\n\n## Inputs\n\n- `prUrl` or `prId` (required): PR to monitor.\n- `initialWaitMinutes` (default: 5).\n- `pollIntervalMinutes` (default: 2; must be >=1).\n- `timeoutMinutes` (default: 45).\n- `requiredChecks` (optional): explicit list to enforce; otherwise discover required checks from the PR host.\n\n## Execution Steps\n\n1. Validate inputs; ensure timeout bounds (<=12h) and interval >=1 minute.\n2. Sleep initial wait via delay helper (blocking):\n   ```\n   python3 .claude/scripts/delay-run.py --every ${pollIntervalMinutes}m --attempts 1 --suppress-action\n   ```\n3. Poll loop:\n   - Heartbeat via `delay-run.py` each interval (suppress action).\n   - Fetch PR check statuses (use provider API: GitHub/ADO/etc. based on prUrl host).\n   - If `requiredChecks` provided, filter to those; otherwise use repository-required checks.\n   - Stop conditions:\n     - All required checks succeeded → success.\n     - Any required check failed → failure.\n     - Elapsed >= timeoutMinutes → timeout.\n4. Emit final summary only.\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"prUrl\": \"...\",\n    \"status\": \"succeeded|failed|timeout\",\n    \"elapsedMinutes\": 0,\n    \"checks\": [\n      { \"name\": \"...\", \"status\": \"succeeded|failed|pending\", \"url\": \"...\" }\n    ]\n  },\n  \"error\": null\n}\n```\n````\n\n## Error Handling\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"MISSING_PR\",\n    \"message\": \"PR reference is required\",\n    \"recoverable\": true,\n    \"suggested_action\": \"provide prUrl or prId\"\n  }\n}\n```\n````\n\nOn API/auth failure:\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"CHECK_FETCH_FAILED\",\n    \"message\": \"Failed to fetch PR check statuses\",\n    \"recoverable\": false,\n    \"suggested_action\": \"verify API credentials and PR URL\"\n  }\n}\n```\n````\n\nOn timeout (include latest check states):\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": {\n    \"prUrl\": \"...\",\n    \"status\": \"timeout\",\n    \"elapsedMinutes\": 45,\n    \"checks\": [\n      { \"name\": \"...\", \"status\": \"pending\", \"url\": \"...\" }\n    ]\n  },\n  \"error\": {\n    \"code\": \"CI_TIMEOUT\",\n    \"message\": \"PR checks did not complete within timeout\",\n    \"recoverable\": false,\n    \"suggested_action\": \"increase timeout or check PR manually\"\n  }\n}\n```\n````\n\nOn check failure (include failing checks):\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": {\n    \"prUrl\": \"...\",\n    \"status\": \"failed\",\n    \"elapsedMinutes\": 12,\n    \"checks\": [\n      { \"name\": \"unit-tests\", \"status\": \"failed\", \"url\": \"...\" },\n      { \"name\": \"lint\", \"status\": \"succeeded\", \"url\": \"...\" }\n    ]\n  },\n  \"error\": {\n    \"code\": \"CI_FAILED\",\n    \"message\": \"One or more required checks failed\",\n    \"recoverable\": false,\n    \"suggested_action\": \"review failed checks and fix issues\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT merge or update PRs.\n- Do NOT echo secrets or raw API payloads.\n- Keep heartbeats minimal; no additional logs beyond helper output and final JSON.\n- Do NOT output plaintext heartbeats; return JSON only.\n",
        "packages/sc-delay-tasks/commands/delay.md": "---\nname: delay\ndescription: Schedule a delayed one-shot or bounded polling action with minimal heartbeats. Emits the action text on completion for follow-up checks.\nversion: 0.8.0\noptions:\n  - name: --minutes\n    description: One-shot delay in minutes (or use --seconds for short waits).\n  - name: --seconds\n    description: One-shot delay in seconds (min 10s).\n  - name: --every\n    description: Poll interval (min 60s) for bounded polling.\n  - name: --for\n    description: Max duration for polling (e.g., 10m); required with --every unless --attempts is provided.\n  - name: --attempts\n    description: Max attempts for polling; required with --every unless --for is provided.\n  - name: --until\n    description: One-shot until a target time (HH:MM or ISO); converted to seconds; ignores seconds/minutes if provided.\n  - name: --action\n    description: Action text to emit on completion (e.g., \\\"Verify GH PR actions passed\\\").\n  - name: --stop-on-success\n    description: Enable polling that stops early when a success check passes or reports cancellation (requires a prompt file).\n  - name: --prompt\n    description: Name of a prompt file in `.prompts/` (relative to Claude startup dir) that defines the success/cancel check and returns JSON with Success/Cancelled/Message.\n  - name: --prompt-text\n    description: Arbitrary text to seed a generated prompt file in `.prompts/`; the command will wrap it with the required JSON output contract.\n  - name: --help\n    description: Show options concisely; no extra commentary.\n---\n\n# /delay command\n\nUse this command to wait once or run a bounded poll with minimal heartbeat output. Delegate to the delay skill/agents (`delay-once`, `delay-poll`).\n\n## Modes\n- One-shot delay: `/delay --minutes N [--action \\\"text\\\"]` (or `--seconds` for short waits) or `/delay --until HH:MM|ISO [--action \\\"text\\\"]`\n- Bounded polling: `/delay --every 1m --for 10m [--action \\\"text\\\"]` or `/delay --every 1m --attempts 10 [--action \\\"text\\\"]`\n- Stop-on-success polling: add `--stop-on-success` with `--prompt <name>` (uses `.prompts/<name>.md`) or `--prompt-text \\\"...\\\"` (auto-creates `.prompts/delay-success-<ts>.md` wrapping the text). The prompt must return JSON: `{ \\\"Success\\\": true|\\\"true\\\"|false|\\\"false\\\", \\\"Cancelled\\\": true|false|\\\"true\\\"|\\\"false\\\", \\\"Message\\\": \\\"...\\\" }`. `Cancelled=true` stops immediately.\n- If run with no options or `--help`: print concise options and usage; no repo-state chatter.\n\n## Behavior\n- Heartbeats: emit “Waiting Xm...” each minute/interval (or a single line for short waits).\n- Completion: emit `Action: <action>` so the caller can run the follow-up check; heartbeats + final line only (no extra chatter).\n- Bounds: require max duration or attempts for polling; reject intervals < 60s and durations < 10s or > 12h.\n- No tool traces; concise outputs only.\n- Stop-on-success: between checks, use `.claude/scripts/delay-run.sh --every <interval> --attempts 1 --suppress-action` for real waits; after each wait, run the success-check prompt from `.prompts/`. Stop early when Success=true or Cancelled=true; otherwise continue until attempts/duration exhaust.\n- Implementation detail: agents invoke `.claude/scripts/delay-run.sh` to perform waits; do not shortcut or skip the helper. Only the final overall completion emits the `Action:` line.\n",
        "packages/sc-delay-tasks/skills/sc-delaying-tasks/SKILL.md": "---\nname: delaying-tasks\ndescription: >\n  Schedule a delayed or interval-based action with minimal heartbeats.\n  Use to wait before running a check (e.g., GH Actions, PR status, CI pipeline)\n  or to poll on a bounded interval. Trigger on: \"wait\", \"delay\", \"poll\", \"check later\",\n  \"retry after\", \"schedule check\".\nversion: 0.8.0\n---\n\n# Delaying Tasks Skill\n\nUse this skill to run a delayed one-shot or bounded polling loop. Use the `/delay` command to invoke this skill.\n\n## Agent Delegation\n\nThis skill delegates to specialized agents via the **Task tool**:\n\n| Operation | Agent | Returns |\n|-----------|-------|---------|\n| One-shot delay | `delay-once` | JSON: success, duration, action |\n| Bounded polling | `delay-poll` | JSON: success, attempts, stopped_early, action |\n\nTo invoke an agent, use the Task tool with:\n- Prompt file: `.claude/agents/<agent-name>.md`\n- Parameters as documented in each agent's Inputs section\n\n## Modes\n- One-shot delay: `/delay --minutes N [--action \"text\"]` or `/delay --until HH:MM|ISO [--action \"text\"]`\n- Interval/polling (bounded): `/delay --every 1m --for 10m [--action \"text\"]` or `/delay --every 1m --attempts 10 [--action \"text\"]`\n- Stop-on-success polling: add `--stop-on-success` with either `--prompt <name>` (uses `.prompts/<name>.md`) or `--prompt-text \"...\"` (auto-creates `.prompts/delay-success-<ts>.md` wrapping the text). The prompt must return JSON: `{ \"Success\": true|false|\"true\"|\"false\", \"Cancelled\": true|false|\"true\"|\"false\", \"Message\": \"<details>\" }`. `Cancelled=true` stops immediately.\n- Cancel: not supported; reject requests instead of pretending to cancel.\n\n## Behaviors\n- Heartbeat: print a simple “Waiting Xm...” once per minute (or interval) to show liveness; no additional chatter.\n- Completion: print the action text on completion so the caller/skill can perform the follow-up check; heartbeats + final Action line only.\n- Bounds: require max duration or attempts for polling to avoid runaway loops; enforce a minimum interval (e.g., 1m) to avoid busy waiting.\n- Stop-on-success: between checks, sleep via `.claude/scripts/delay-run.sh --every <interval> --attempts 1 --suppress-action`; after each sleep, run the success-check prompt from `.prompts/` and parse JSON Success/Cancelled/Message. Stop early when Success=true or Cancelled=true; otherwise continue until attempts/duration used.\n- No network-dependent work is performed by this skill; the action text is just a cue for the caller.\n\n## Agents\n- `delay-once`: handles one-shot delays, emits heartbeats, prints action text at end.\n- `delay-poll`: handles bounded polling (interval + max duration/attempts), emits heartbeats each interval, stops on success/timeout, prints action text at end.\n\n## Safety\n- Reject unbounded polls.\n- For short delays (<1m), reduce heartbeat spam (e.g., single “Waiting N seconds…” then completion).\n- Return concise outputs only; no tool traces.\n",
        "packages/sc-git-worktree/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-git-worktree\",\n  \"description\": \"Create, manage, scan, and clean up git worktrees for parallel development. Maintains tracking of worktree status, branch details, and cleanup history with optional tracking document.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"git\", \"worktree\", \"parallel\", \"development\", \"branch-management\"],\n  \"commands\": [\n    \"./commands/sc-git-worktree.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-git-worktree-create.md\",\n    \"./agents/sc-git-worktree-scan.md\",\n    \"./agents/sc-git-worktree-cleanup.md\",\n    \"./agents/sc-git-worktree-abort.md\",\n    \"./agents/sc-git-worktree-update.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-git-worktree/SKILL.md\"\n  ]\n}\n",
        "packages/sc-git-worktree/README.md": "# sc-git-worktree\n\n[![Publisher Verified](https://img.shields.io/badge/publisher-verified-brightgreen)](https://github.com/randlee/synaptic-canvas/blob/main/docs/PUBLISHER-VERIFICATION.md)\n[![Security Scanned](https://img.shields.io/badge/security-scanned-blue)](https://github.com/randlee/synaptic-canvas/blob/main/SECURITY.md)\n[![License MIT](https://img.shields.io/badge/license-MIT-green)](LICENSE)\n[![Version 0.4.0](https://img.shields.io/badge/version-0.4.0-blue)](CHANGELOG.md)\n\nScope: Local-only\nRequires: git ≥ 2.20\n\nManage git worktrees with a standard sibling-folder layout and optional tracking documents. Provides a user-facing command `/sc-git-worktree` and a managing skill that delegates to focused agents.\n\nSecurity: See [SECURITY.md](../../../SECURITY.md) for security policy and practices.\n\n## Summary\nCreate, scan, clean up, and abort worktrees using predictable paths and safe defaults. Designed for multi-branch workflows and parallel development.\n\n## Quick Start (Local-only)\n1) Install into a repo's `.claude` directory:\n   ```bash\n   python3 tools/sc-install.py install sc-git-worktree --dest /path/to/your-repo/.claude\n   ```\n2) In your repo, run:\n   ```\n   /sc-git-worktree --status\n   ```\n3) Create a worktree:\n   ```\n   /sc-git-worktree --create feature-x main\n   ```\n\n## Usage\n- `/sc-git-worktree --list` or `--status`\n- `/sc-git-worktree --create <branch> <base>`\n- `/sc-git-worktree --cleanup <branch>`\n- `/sc-git-worktree --abort <branch>`\n\nDefaults\n- Worktree base: `../{{REPO_NAME}}-worktrees/<branch>`\n- Tracking doc (optional): `../{{REPO_NAME}}-worktrees/worktree-tracking.md`\n\nSafety\n- Never modify dirty worktrees without explicit approval\n- Respect branch protections/hooks (no direct commits to protected branches)\n\n## Install / Uninstall\n- Install (local-only):\n  ```bash\n  python3 tools/sc-install.py install sc-git-worktree --dest /path/to/your-repo/.claude\n  ```\n- Uninstall:\n  ```bash\n  python3 tools/sc-install.py uninstall sc-git-worktree --dest /path/to/your-repo/.claude\n  ```\n\n## Troubleshooting\n- \"Path exists\": Ensure `../<repo>-worktrees/<branch>` is not present (or choose a different branch)\n- \"Dirty worktree\": Commit or stash before cleanup/abort\n- Token expansion: `{{REPO_NAME}}` is auto-detected from the repo toplevel (via git)\n\n## Components\n- Command: `commands/sc-git-worktree.md`\n- Skill: `skills/sc-managing-worktrees/SKILL.md`\n- Agents: `sc-worktree-create`, `sc-worktree-scan`, `sc-worktree-cleanup`, `sc-worktree-abort`\n\n## Version & Changelog\n- 0.4.0 — Initial v0.x publication\n\n## Support\n- Repository: https://github.com/…/synaptic-canvas\n- Issues: https://github.com/…/synaptic-canvas/issues\n",
        "packages/sc-git-worktree/agents/sc-git-worktree-abort.md": "---\nname: sc-worktree-abort\nversion: 0.8.0\ndescription: Abandon a worktree and discard work with protected branch safeguards. Remove worktree; for non-protected branches, delete branch (local/remote) only with explicit approval; for protected branches, never delete branch. Update tracking when enabled.\nmodel: haiku\ncolor: red\n---\n\n# Worktree Abort Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nAbandon a worktree and discard work safely.\n\n## Inputs\n- branch: branch/worktree to abandon.\n- path: expected worktree path (default `<worktree_base>/<branch>`).\n- allow_delete_branch: explicit approval required (local and remote). **Ignored for protected branches**.\n- allow_force: explicit approval to force-remove a dirty worktree.\n- protected_branches: list of protected branch names (e.g., [\"main\", \"develop\", \"master\"]). Required.\n- tracking_enabled: true/false (default true).\n- tracking_path (optional): defaults to `<worktree_base>/worktree-tracking.md` when tracking is enabled.\n\n## Rules\n- **Protected branches:** Remote branch must never be deleted. Remove worktree; local branch may be removed only if explicitly approved for abort. Default is preserve.\n- If dirty and no approval, stop and report.\n- For **non-protected branches**: Only delete branches (local/remote) with explicit approval. If remote delete fails because it doesn't exist, note and continue.\n- Always update tracking when enabled.\n\n## Steps\n1) **Validate protected_branches input**:\n   - If protected_branches is missing or empty, return error: \"protected_branches list required but not provided\"\n   - Suggest: Derive from git_flow config (main_branch + develop_branch if enabled) or provide explicit list\n2) **Check if branch is protected**: if branch is in protected_branches list, set is_protected = true.\n3) `git -C <path> status --short`; if dirty and no allow_force, stop.\n4) Remove worktree: `git worktree remove <path>` (use `--force` only with approval).\n5) **If branch is protected**:\n   - Remote deletion: NEVER delete remote protected branches.\n   - Local deletion: only if explicitly approved (allow_delete_branch) and caller confirms; otherwise preserve local branch.\n   - If tracking enabled, update tracking to note whether local branch was preserved or removed (protected).\n6) **If branch is non-protected and allow_delete_branch is true**:\n   - `git branch -D <branch>` (or `-d` if merged and clean).\n   - `git push origin --delete <branch>` (ignore if remote absent).\n7) If tracking enabled, update tracking row to remove/mark abandoned with date and note.\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"abort\",\n    \"branch\": \"feature-x\",\n    \"path\": \"../repo-worktrees/feature-x\",\n    \"is_protected\": false,\n    \"worktree_removed\": true,\n    \"branch_deleted_local\": false,\n    \"branch_deleted_remote\": false,\n    \"tracking_update\": \"removed\"\n  },\n  \"error\": null\n}\n```\n````\n\nProtected branch abort (worktree only):\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"abort\",\n    \"branch\": \"main\",\n    \"path\": \"../repo-worktrees/main\",\n    \"is_protected\": true,\n    \"worktree_removed\": true,\n    \"branch_deleted_local\": false,\n    \"branch_deleted_remote\": false,\n    \"tracking_update\": \"worktree removed, branch preserved (protected)\"\n  },\n  \"error\": null\n}\n```\n````\n\nOn blocked abort (dirty without approval):\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"worktree.dirty\",\n    \"message\": \"worktree has uncommitted changes; force approval required\",\n    \"recoverable\": true,\n    \"suggested_action\": \"provide allow_force approval or commit/stash changes\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT force-remove dirty worktrees without explicit approval\n- Return JSON only; no prose outside fenced block\n",
        "packages/sc-git-worktree/agents/sc-git-worktree-cleanup.md": "---\nname: sc-worktree-cleanup\nversion: 0.8.0\ndescription: Clean up a completed/merged worktree with protected branch safeguards. Remove worktree; for non-protected branches, delete branch (local+remote) by default if merged/no unique commits; for protected branches, preserve branch. Update tracking when enabled. Stop on dirty/unmerged without approval.\nmodel: haiku\ncolor: orange\n---\n\n# Worktree Cleanup Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nClean up a finished worktree safely.\n\n## Inputs\n- branch: branch/worktree to clean.\n- path: expected worktree path (default `<worktree_base>/<branch>`).\n- merged: whether branch is merged (if unknown, check).\n- require_clean: true unless caller explicitly overrides.\n- protected_branches: list of protected branch names (e.g., [\"main\", \"develop\", \"master\"]). Required.\n- tracking_enabled: true/false (default true).\n- tracking_path (optional): defaults to `<worktree_base>/worktree-tracking.md` when tracking is enabled.\n\n## Rules\n- **Protected branches:** Never delete protected branches (local or remote). Remove worktree only; branch must always be preserved.\n- Do not touch dirty worktrees unless explicit approval is provided.\n- For **non-protected branches**: If merged and no unique commits, delete branch locally and remotely by default; skip only if user opts out.\n- If not merged (non-protected only), delete branches only with explicit approval.\n- Missing remote deletion should not fail cleanup; note it.\n\n## Steps\n1) **Validate protected_branches input**:\n   - If protected_branches is missing or empty, return error: \"protected_branches list required but not provided\"\n   - Suggest: Derive from git_flow config (main_branch + develop_branch if enabled) or provide explicit list\n2) **Check if branch is protected**: if branch is in protected_branches list, set is_protected = true.\n3) `git -C <path> status --short`; if dirty and require_clean, stop.\n4) Determine merge state (if not provided): e.g., `git branch --merged <base>` and `git log <base>..<branch>`.\n5) **If branch is protected**:\n   - `git worktree remove <path>` (force only with approval).\n   - Do NOT delete branch locally or remotely.\n   - If tracking enabled, update tracking to note \"worktree removed, branch preserved (protected)\".\n6) **If branch is non-protected and merged with no unique commits**:\n   - `git worktree remove <path>` (force only with approval).\n   - `git branch -d <branch>`.\n   - `git push origin --delete <branch>` (ignore if remote absent).\n7) **If branch is non-protected and not merged**: only remove/delete if explicitly approved; otherwise stop and report.\n8) If tracking enabled, update tracking row: remove or mark cleaned with merge SHA/date (include in output payload).\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"cleanup\",\n    \"branch\": \"feature-x\",\n    \"path\": \"../repo-worktrees/feature-x\",\n    \"is_protected\": false,\n    \"merged\": true,\n    \"unique_commits\": 0,\n    \"worktree_removed\": true,\n    \"branch_deleted_local\": true,\n    \"branch_deleted_remote\": true,\n    \"tracking_update\": \"removed\"\n  },\n  \"error\": null\n}\n```\n````\n\nProtected branch cleanup (worktree only):\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"cleanup\",\n    \"branch\": \"main\",\n    \"path\": \"../repo-worktrees/main\",\n    \"is_protected\": true,\n    \"merged\": true,\n    \"unique_commits\": 0,\n    \"worktree_removed\": true,\n    \"branch_deleted_local\": false,\n    \"branch_deleted_remote\": false,\n    \"tracking_update\": \"worktree removed, branch preserved (protected)\"\n  },\n  \"error\": null\n}\n```\n````\n\nOn blocked cleanup (dirty/unmerged without approval):\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"worktree.unmerged\",\n    \"message\": \"branch has unmerged commits; explicit approval required\",\n    \"recoverable\": true,\n    \"suggested_action\": \"merge branch or provide explicit approval to delete\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT touch dirty worktrees without explicit approval\n- Return JSON only; no prose outside fenced block\n",
        "packages/sc-git-worktree/agents/sc-git-worktree-create.md": "---\nname: sc-worktree-create\nversion: 0.8.0\ndescription: Create a git worktree (and branch if needed) using the mandated layout and update tracking. Use for new feature/hotfix/release worktrees; obey branch protections and dirty-worktree safeguards.\nmodel: haiku\ncolor: green\n---\n\n# Worktree Create Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nCreate a worktree (and branch if needed) in the required sibling worktrees folder and update tracking when enabled. Never operate on dirty worktrees without explicit approval.\n\n## Inputs (required)\n- branch: branch name to use/create.\n- base: base branch (e.g., master, develop, release/x.y, hotfix/...).\n- purpose: short reason.\n- owner: agent or user handle.\n- repo root: current repo.\n- worktree_base (optional): defaults to `../{{REPO_NAME}}-worktrees`.\n- tracking_enabled: true/false (default true).\n- tracking_path (optional): defaults to `<worktree_base>/worktree-tracking.md` when tracking is enabled.\n\n## Rules\n- Worktrees live in `<worktree_base>/<branch>`.\n- If tracking enabled, tracking doc must be kept in sync (create with headers if missing).\n- Fetch before creating: `git fetch --all --prune`.\n- If branch exists, reuse it; otherwise create with `-b`.\n- Respect hooks/branch protections; never proceed if target path exists with content unless confirmed.\n- If the worktree would be dirty after creation, stop and report.\n\n## Steps\n1) Ensure `<worktree_base>` exists; create if missing.\n2) If tracking enabled, ensure tracking doc exists with headers; create if missing.\n3) Fetch/prune.\n4) Determine path: `<worktree_base>/<branch>`.\n5) Add worktree:\n   - Branch missing: `git worktree add -b <branch> <path> <base>`\n   - Branch exists: `git worktree add <path> <branch>`\n6) In the new worktree: `git status --short`. If not clean, stop and report (no further actions).\n7) If tracking enabled, prepare tracking row (Branch, Path, Base, Purpose, Owner, Created ISO date, Status, LastChecked, Notes).\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"create\",\n    \"branch\": \"feature-x\",\n    \"base\": \"main\",\n    \"path\": \"../repo-worktrees/feature-x\",\n    \"status\": \"clean\",\n    \"tracking_row\": {\n      \"branch\": \"feature-x\",\n      \"path\": \"../repo-worktrees/feature-x\",\n      \"base\": \"main\",\n      \"purpose\": \"implement feature X\",\n      \"owner\": \"user\",\n      \"created\": \"2025-11-30T03:00:00Z\",\n      \"status\": \"active\",\n      \"last_checked\": \"2025-11-30T03:00:00Z\",\n      \"notes\": \"\"\n    },\n    \"tracking_update_required\": true\n  },\n  \"error\": null\n}\n```\n````\n\nOn failure (e.g., dirty worktree, path exists):\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"worktree.dirty\",\n    \"message\": \"worktree has uncommitted changes\",\n    \"recoverable\": false,\n    \"suggested_action\": \"commit or stash changes before proceeding\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT proceed with dirty worktrees without explicit approval\n- Return JSON only; no prose outside fenced block\n",
        "packages/sc-git-worktree/agents/sc-git-worktree-scan.md": "---\nname: sc-worktree-scan\nversion: 0.8.0\ndescription: Scan git worktrees vs tracking; report status (clean/dirty), missing/stale tracking rows, and recommended actions. No mutations.\nmodel: haiku\ncolor: cyan\n---\n\n# Worktree Scan Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nList worktrees, cross-check the tracking doc, and report issues. Do not modify anything.\n\n## Inputs\n- repo root: current repo.\n- worktree_base (optional): defaults to `../{{REPO_NAME}}-worktrees`.\n- tracking_enabled: true/false (default true).\n- tracking_path (optional): defaults to `<worktree_base>/worktree-tracking.md` when tracking is enabled.\n\n## Steps\n\n**Preferred:** Run the batch scan script for efficiency:\n```bash\npython3 packages/sc-git-worktree/scripts/worktree_scan.py [--worktree-base PATH] [--tracking-path PATH] [--no-tracking]\n```\n\nThe script handles all steps below in a single invocation with proper error handling.\n\n**Manual steps (if script unavailable):**\n1) If tracking enabled, ensure tracking doc exists; if missing, report the issue.\n2) `git worktree list --porcelain`.\n3) For each worktree, run `git -C <path> status --short` to determine clean/dirty.\n4) If tracking enabled, compare against tracking table: detect missing rows, stale paths, or extra rows with no matching worktree.\n5) Produce recommended actions (e.g., add tracking row, clean/commit, remove stale row).\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"scan\",\n    \"worktrees\": [\n      {\n        \"branch\": \"feature-x\",\n        \"path\": \"../repo-worktrees/feature-x\",\n        \"status\": \"clean\",\n        \"tracked\": true,\n        \"tracking_row\": {\n          \"branch\": \"feature-x\",\n          \"path\": \"../repo-worktrees/feature-x\",\n          \"base\": \"main\",\n          \"purpose\": \"implement feature X\",\n          \"owner\": \"user\",\n          \"created\": \"2025-11-30T03:00:00Z\",\n          \"status\": \"active\",\n          \"last_checked\": \"2025-11-30T03:00:00Z\",\n          \"notes\": \"\"\n        },\n        \"issues\": []\n      }\n    ],\n    \"tracking_missing_rows\": [],\n    \"tracking_extra_rows\": [],\n    \"recommendations\": [\"run cleanup on merged branches\"]\n  },\n  \"error\": null\n}\n```\n````\n\nOn error (e.g., tracking doc missing):\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"tracking.missing\",\n    \"message\": \"tracking document not found at expected path\",\n    \"recoverable\": true,\n    \"suggested_action\": \"create tracking doc or disable tracking\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT modify anything; read-only scan\n- Return JSON only; no prose outside fenced block\n",
        "packages/sc-git-worktree/agents/sc-git-worktree-update.md": "---\nname: sc-worktree-update\nversion: 0.8.0\ndescription: Update a protected branch in its worktree by pulling latest changes. Handle merge conflicts by returning control to main agent for user coordination.\nmodel: haiku\ncolor: blue\n---\n\n# Worktree Update Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nSafely update protected branches (main, develop, master) in their worktrees by pulling latest changes from remote. Return control to caller if merge conflicts occur.\n\n## Inputs (required unless noted)\n- branch: protected branch name to update (optional; if omitted, update all protected branches that have worktrees)\n- path: worktree path (default `<worktree_base>/<branch>`)\n- worktree_base (optional): defaults to `../{{REPO_NAME}}-worktrees`\n- protected_branches: list of protected branch names (required for validation)\n- tracking_enabled: true/false (default true)\n- tracking_path (optional): defaults to `<worktree_base>/worktree-tracking.md` when tracking is enabled\n\n## Rules\n- **Only operates on protected branches** - error if requested branch not in protected_branches list. If branch is omitted, iterate all protected branches with existing worktrees.\n- Never proceed if worktree is dirty (uncommitted changes)\n- Never create or delete branches - only update existing ones\n- On merge conflicts, return detailed error for caller to coordinate resolution\n- If tracking enabled, update last_checked timestamp on successful pull\n\n## Steps\n1) **Validate protected_branches input**:\n   - If protected_branches is missing or empty, return error: \"protected_branches list required but not provided\"\n   - Suggest: Derive from git_flow config (main_branch + develop_branch if enabled) or provide explicit list\n2) Determine targets:\n   - If `branch` provided: target = [branch]; verify it is in protected_branches or return error.\n   - If `branch` omitted: target = protected_branches (only those with existing worktrees at expected path).\n3) For each target branch:\n   - Check if worktree exists at path; error if missing.\n   - In worktree: `git status --short`; if dirty, stop and report for that branch.\n   - Fetch remote: `git fetch origin <branch>`.\n   - Attempt pull: `git pull origin <branch>`.\n   - If merge conflicts occur:\n     - Collect conflicted files: `git diff --name-only --diff-filter=U`\n     - Collect merge status: `git status --short`\n     - Return control with conflict details (recoverable=true) for caller to coordinate resolution.\n   - If clean pull succeeds:\n     - Count commits pulled: `git rev-list --count HEAD@{1}..HEAD` (if HEAD moved)\n     - If tracking enabled, update last_checked timestamp.\n4) Aggregate per-branch results (commits_pulled, conflicts, messages) into output.\n5) Return success with per-branch results; include conflicts if any.\n\n## Output Format\n\nReturn fenced JSON with minimal envelope:\n\n### Success (clean pull)\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"update\",\n    \"branch\": \"main\",\n    \"path\": \"../repo-worktrees/main\",\n    \"commits_pulled\": 5,\n    \"old_commit\": \"abc1234\",\n    \"new_commit\": \"def5678\",\n    \"tracking_update\": \"last_checked updated\"\n  },\n  \"error\": null\n}\n```\n````\n\n### Success (already up to date)\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"update\",\n    \"branch\": \"main\",\n    \"path\": \"../repo-worktrees/main\",\n    \"commits_pulled\": 0,\n    \"old_commit\": \"abc1234\",\n    \"new_commit\": \"abc1234\",\n    \"message\": \"already up to date\",\n    \"tracking_update\": \"last_checked updated\"\n  },\n  \"error\": null\n}\n```\n````\n\n### Error (merge conflicts)\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"merge.conflicts\",\n    \"message\": \"merge conflicts detected during pull\",\n    \"conflicted_files\": [\n      \"src/foo.cs\",\n      \"src/bar.cs\"\n    ],\n    \"worktree_path\": \"../repo-worktrees/main\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Resolve conflicts in worktree at '../repo-worktrees/main', then commit the resolution. Run 'git status' to see conflict details.\"\n  }\n}\n```\n````\n\n### Error (not a protected branch)\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"branch.not_protected\",\n    \"message\": \"branch 'feature-x' is not a protected branch\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Use --cleanup or --abort for non-protected branches. --update is only for protected branches like main, develop, master.\"\n  }\n}\n```\n````\n\n### Error (dirty worktree)\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"worktree.dirty\",\n    \"message\": \"worktree has uncommitted changes\",\n    \"dirty_files\": [\n      \" M src/modified.cs\",\n      \"?? src/untracked.txt\"\n    ],\n    \"recoverable\": true,\n    \"suggested_action\": \"Commit or stash changes in worktree before updating\"\n  }\n}\n```\n````\n\n## Constraints\n\n- Do NOT proceed if branch is not in protected_branches list\n- Do NOT proceed if worktree is dirty\n- Return JSON only; no prose outside fenced block\n- On conflicts, return control immediately with detailed error\n### Success (multi-branch aggregate)\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"action\": \"update\",\n    \"results\": {\n      \"main\": {\"commits_pulled\": 3, \"status\": \"updated\"},\n      \"develop\": {\"commits_pulled\": 0, \"status\": \"up_to_date\"}\n    },\n    \"conflicts\": {},\n    \"tracking_update\": \"last_checked updated\"\n  },\n  \"error\": null\n}\n```\n````\n",
        "packages/sc-git-worktree/commands/sc-git-worktree.md": "---\nname: sc-git-worktree\ndescription: Manage git worktrees for this repo (create, list/status, update, cleanup, abort) while enforcing the repo's worktree/tracking rules and protected branch safeguards.\nversion: 0.8.0\noptions:\n  - name: --list\n    description: List worktrees and show status/notes.\n  - name: --status\n    description: Alias for --list (show worktree status and tracking sync).\n  - name: --create\n    args:\n      - name: branch\n        description: Branch name to create/use for the worktree.\n      - name: base\n        description: Base branch to start from (e.g., master, develop, release/x.y, hotfix/...).\n    description: Create a worktree (and branch if needed) using the mandated layout and update tracking.\n  - name: --update\n    args:\n      - name: branch\n        description: Protected branch name to update (e.g., main, develop).\n    description: Pull latest changes for protected branches in their worktrees. If a branch is specified, update only that branch; if omitted, update all protected branches. Handle merge conflicts interactively by notifying user and coordinating resolution.\n  - name: --cleanup\n    args:\n      - name: branch\n        description: Branch/worktree name to clean up (post-merge or finished work).\n    description: Remove a worktree; for non-protected branches, delete local and remote branch by default if merged/no unique commits (only keep if user opts out); for protected branches, only remove worktree and preserve branch; update tracking.\n  - name: --abort\n    args:\n      - name: branch\n        description: Branch/worktree name to abandon (discard work).\n    description: Abandon a worktree (delete worktree, optionally delete branch for non-protected branches) with explicit approval if dirty. Protected branches are never deleted.\n  - name: --help\n    description: Show available options and guidance.\n---\n\n# /sc-git-worktree command\n\nUse this command to manage worktrees following the repo's layout and tracking rules.\n- Repo root: current directory.\n- Default worktree path: `../{{REPO_NAME}}-worktrees/<branch>` (override in skill/agent config if needed).\n- Default tracking doc: `../{{REPO_NAME}}-worktrees/worktree-tracking.md` (toggle off or override if the repo doesn't track worktrees).\n- Branch strategy: configure per repo (e.g., master for release, develop/integration, feature off integration, hotfix off master).\n- Safety: never alter dirty worktrees without explicit approval; respect branch protections/hooks (no direct commits to protected branches).\n\n## Protected Branches Configuration\n\nProtected branches (main, develop, master) require special handling to prevent accidental deletion. Configure using:\n\n```yaml\ngit_flow:\n  enabled: true  # boolean: whether git-flow workflow is used\n  main_branch: \"main\"  # or \"master\" - the primary production branch\n  develop_branch: \"develop\"  # only if git_flow.enabled = true\n\nprotected_branches:\n  - \"main\"\n  - \"develop\"\n  - \"master\"\n```\n\n**Protected Branch Rules:**\n- Cleanup/abort operations NEVER delete protected branches (local or remote)\n- Protected branches can only be removed from worktrees, never deleted\n- Use `--update` to safely pull changes for protected branches in worktrees\n- If git_flow.enabled is false, only main_branch is protected (default: \"main\")\n- If git_flow.enabled is true, both main_branch and develop_branch are protected\n- **Required**: All operations involving branch deletion must provide protected_branches list; operations fail if missing\n\nIf run with no options or `--help`: print a concise list of options (no git status) and prompt with a numbered choice for list/status, create, cleanup, or abort; then gather required inputs.\n\n## Behavior\n\n### Common steps\n- Ensure scaffolding: `<worktree_base>` exists; create if missing. Ensure tracking doc exists with headers if tracking is enabled.\n- `git fetch --all --prune` before create/cleanup decisions.\n- Keep tracking doc in sync on every operation when enabled.\n\n### --list / --status\n- `git worktree list --porcelain`.\n- Cross-check tracking doc; report missing/stale entries and dirty states via `git -C <path> status --short`.\n- Agent option: call `sc-worktree-scan` and render its JSON as a table and bullet recommendations.\n\n### --create\n- Inputs: branch, base.\n- Path: `../{{REPO_NAME}}-worktrees/<branch>` by default.\n- If branch exists: `git worktree add <path> <branch>`; else `git worktree add -b <branch> <path> <base>`.\n- Verify hooks/branch protections apply; confirm `git status` clean.\n- Update tracking row (branch, path, base, purpose, owner, created, status, last checked, notes) when tracking is enabled.\n- Agent option: call `sc-worktree-create`; render as a table plus warnings/errors.\n\n### --update\n- **Protected branches only** - verify branch is in protected_branches list before proceeding.\n- Inputs: branch name (required). Must be a protected branch (main, develop, master, etc.).\n- Derive protected_branches list from git_flow config (main_branch + develop_branch if enabled) or fail with clear error if config missing.\n- Check if worktree exists for the branch; error if missing.\n- Check `git -C <path> status`; if dirty, stop and report uncommitted changes.\n- Fetch and pull: `git fetch origin <branch>` then `git pull origin <branch>`.\n- **If merge conflicts occur:**\n  - Report conflicted files to user\n  - Return control to main session for user to resolve conflicts\n  - User navigates to worktree, resolves conflicts, and commits\n  - After resolution, user can re-run --update to verify\n- **If clean pull succeeds:**\n  - Report commits pulled count\n  - Update tracking with last_checked timestamp when tracking is enabled\n- Agent option: call `sc-worktree-update`; render success or handle conflicts interactively.\n\n### --cleanup\n- **Check if branch is protected first** - derive protected_branches list from git_flow config or fail if missing.\n- If branch is in protected_branches list, ONLY remove worktree, NEVER delete the branch.\n- Check `git -C <path> status`; if dirty, stop and request explicit approval/coordination.\n- Confirm branch merged/approved for removal.\n- `git worktree remove <path>` (force only with approval).\n- For **non-protected branches**: If merged and has no unique commits, delete the branch locally (`git branch -d <branch>`) and remotely (`git push origin --delete <branch>`) by default. Only retain the branch if the user explicitly opts out. If the remote branch is already gone, continue without error. If not merged, only delete branches (local/remote) with explicit approval.\n- For **protected branches**: Only remove worktree, preserve branch locally and remotely. Update tracking to note \"worktree removed, branch preserved (protected)\".\n- Update tracking (remove or mark cleaned with merge SHA/date) when tracking is enabled.\n- Agent option: call `sc-worktree-cleanup` with protected_branches list; render its JSON as a short summary list.\n\n### --abort\n- **Check if branch is protected first** - derive protected_branches list from git_flow config or fail if missing.\n- If branch is in protected_branches list, ONLY remove worktree, NEVER delete the branch.\n- Check `git -C <path> status`; if dirty, stop and request explicit approval/coordination.\n- `git worktree remove <path>` (force only with approval).\n- For **non-protected branches**: If requested, delete branch locally (`git branch -D <branch>`) and remotely (`git push origin --delete <branch>`).\n- For **protected branches**: Only remove worktree, preserve branch locally and remotely. Require confirmation: \"Branch is protected. Remove worktree but preserve branch?\"\n- Update tracking to remove the entry and note abandonment when tracking is enabled.\n- Agent option: call `sc-worktree-abort` with protected_branches list; render its JSON as a short summary list.\n\n### --help\n- Show options and remind about base branches, paths, tracking toggles, and dirty-worktree safeguards. Keep output concise (no tool traces).\n",
        "packages/sc-git-worktree/skills/sc-git-worktree/SKILL.md": "---\nname: sc-managing-worktrees\ndescription: >\n  Create, manage, scan, update, and clean up git worktrees for parallel development with protected branch safeguards.\n  Use when working on multiple branches simultaneously, isolating experiments, updating protected branches (main/develop),\n  or when user mentions \"worktree\", \"parallel branches\", \"feature isolation\", \"branch cleanup\", \"worktree status\", or \"update main/develop\".\nversion: 0.8.0\nentry_point: /sc-git-worktree\n---\n\n# Managing Git Worktrees\n\nUse this skill to manage worktrees with a standard structure and tracking. Use the `/sc-git-worktree` command to invoke this skill.\n\n## Agent Delegation\n\nThis skill delegates to specialized agents via the **Task tool**:\n\n| Operation | Agent | Returns |\n|-----------|-------|---------|\n| Create | `sc-worktree-create` | JSON: success, path, branch, tracking_row |\n| Scan | `sc-worktree-scan` | JSON: success, worktrees list, recommendations |\n| Cleanup | `sc-worktree-cleanup` | JSON: success, branch_deleted, tracking_update |\n| Abort | `sc-worktree-abort` | JSON: success, worktree_removed, tracking_update |\n| Update | `sc-worktree-update` | JSON: success, commits_pulled, conflicts (if any) |\n\nTo invoke an agent, use the Task tool with:\n- Prompt file: `.claude/agents/<agent-name>.md`\n- Parameters as documented in each agent's Inputs section\n\n## Standards and paths\n- Repo root: current directory.\n- Default worktree base: `../{{REPO_NAME}}-worktrees`.\n- Worktrees live in `<worktree_base>/<branch>`.\n- Tracking document (if used): `<worktree_base>/worktree-tracking.md` must be updated on create/scan/cleanup/abandon. Allow a toggle to disable tracking for repos that don't use it.\n- Naming: worktree directory = branch name; branch naming follows repo policy (e.g., master release; develop/DevBranch integration; feature from integration; hotfix from master; release branches as needed).\n- Branch protections/hooks: no direct commits to protected branches; ensure hooks/branch protections are respected across worktrees.\n- Cleanliness: worktrees must be removed and tracking updated when work is complete or branch is merged.\n\n## Protected Branch Configuration\n\nProtected branches (main, develop, master, etc.) require special handling to prevent accidental deletion:\n\n```yaml\n# Configuration (typically in repo .claude/config or passed to agents)\ngit_flow:\n  enabled: true  # boolean: whether git-flow workflow is used\n  main_branch: \"main\"  # or \"master\" - the primary production branch\n  develop_branch: \"develop\"  # only if git_flow.enabled = true\n\nprotected_branches:\n  - \"main\"\n  - \"develop\"\n  - \"master\"\n  # Can include additional patterns: \"release/*\", \"hotfix/*\"\n```\n\n**Protected Branch Rules:**\n- If `git_flow.enabled: false` → protect only `main_branch`\n- If `git_flow.enabled: true` → protect `main_branch` + `develop_branch`\n- Additional branches can be added to `protected_branches` array\n- **Cleanup/abort agents NEVER delete protected branches** (local or remote)\n- Protected branches can only be removed from worktrees, never deleted\n- Use `--update` to safely pull changes for protected branches in worktrees\n\n## Workflows\n\n### Scaffolding (if missing)\n- Ensure base path exists: `<worktree_base>`. If missing, create it.\n- If tracking is enabled, ensure tracking doc exists with headers.\n\n### Create worktree (and branch)\n1) Inputs: `--branch <name>`, `--base <master|develop|...>`, optional `--path`.\n2) Ensure scaffolding/tracking doc exists (if enabled); fetch all: `git fetch --all --prune`.\n3) Confirm base branch exists and is up to date.\n4) Determine path: default `<worktree_base>/<branch>` (or override).\n5) Create branch/worktree:\n   - If branch does not yet exist: `git worktree add -b <branch> <path> <base>`.\n   - If branch exists: `git worktree add <path> <branch>`.\n6) In the new worktree, ensure hooks apply and verify status is clean.\n7) If tracking enabled, add/refresh entry in tracking doc (branch, path, base, purpose, owner, created date, status).\n8) Agent option: delegate to `sc-worktree-create` agent; it returns structured JSON (tracking row, status).\n\n### Scan/verify worktrees\n1) List worktrees: `git worktree list --porcelain`.\n2) Cross-check tracking doc (if enabled); flag missing/stale entries or extra rows.\n3) For each worktree, check status and merge state:\n   - `git -C <path> status --short`\n   - `git -C <path> fetch`\n   - `git branch --remotes --contains <branch>` to see if merged.\n4) Identify issues: untracked changes, diverged branches, merged-but-not-cleaned worktrees, missing tracking entries.\n5) Update tracking doc with current state and issues (if enabled); propose cleanup where appropriate.\n6) Agent option: delegate to `sc-worktree-scan` agent; it returns structured JSON.\n\n### Clean-up worktree (post-merge or finished work)\n1) **Check if branch is protected**: If branch is in protected_branches list, ONLY remove worktree, NEVER delete the branch.\n2) If `git status` is not clean, stop and request explicit approval/coordination.\n3) Ensure all work is committed/pushed or explicitly confirmed to discard.\n4) Confirm target branch merged or otherwise approved for removal.\n5) Remove worktree: `git worktree remove <path>` (use `--force` only with approval).\n6) For **non-protected branches**: If merged and no unique commits, delete the branch locally (`git branch -d <branch>`) and remotely (`git push origin --delete <branch>`) by default; only skip if the user explicitly opts out. If the remote branch is already absent, continue without error. If not merged, only delete with explicit approval.\n7) For **protected branches**: Only remove worktree, preserve branch locally and remotely. Update tracking to note \"worktree removed, branch preserved (protected)\".\n8) If tracking enabled, update tracking doc to remove/mark cleaned with merge SHA/date.\n9) Agent option: delegate to `sc-worktree-cleanup` agent; it returns structured JSON.\n\n### Abandon worktree (discard work)\n1) **Check if branch is protected**: If branch is in protected_branches list, ONLY remove worktree, NEVER delete the branch.\n2) If `git status` is not clean, stop and request explicit approval/coordination.\n3) Confirm user approval to discard local changes and optionally delete the branch.\n4) Remove worktree: `git worktree remove <path>` (force only with approval).\n5) For **non-protected branches**: If instructed, delete the branch locally (`git branch -D <branch>`) and remotely (`git push origin --delete <branch>`).\n6) For **protected branches**: Only remove worktree, preserve branch locally and remotely. Require confirmation: \"Branch is protected. Remove worktree but preserve branch?\"\n7) If tracking enabled, update tracking doc to remove the entry and note abandonment.\n8) Agent option: delegate to `sc-worktree-abort` agent; it returns structured JSON.\n\n### Update protected branch (pull latest changes)\n1) **Verify branch is protected**: Only operates on branches in protected_branches list. If no branch is specified, update all protected branches that have worktrees.\n2) Check if worktree exists at expected path; error if missing.\n3) If `git status` is not clean, stop and report dirty state.\n4) Fetch and pull: `git fetch origin <branch>` then `git pull origin <branch>`.\n5) **If merge conflicts occur**:\n   - Collect conflicted files: `git diff --name-only --diff-filter=U`\n   - Return control to main agent with conflict details\n   - Main agent coordinates with user to resolve conflicts\n   - After resolution, user commits and continues\n6) **If clean pull**: Update tracking with last_checked timestamp and commits pulled count.\n7) Agent option: delegate to `sc-worktree-update` agent; it returns structured JSON with success or conflict details.\n\n## Safety and reminders\n- **NEVER delete protected branches** (main, develop, master) under any circumstances.\n- Protected branches can only be removed from worktrees; the branch itself must always be preserved.\n- Never delete branches or force-remove worktrees without explicit approval.\n- Never clean/abandon a worktree with uncommitted changes unless explicitly approved.\n- Keep tracking doc in sync on every operation when enabled.\n- Respect branch protections and hooks; no direct commits to protected branches.\n- Use background agents for long scans/cleanups; keep the main context focused on decisions and summaries.\n- When updating protected branches in worktrees, handle merge conflicts by returning control to main agent for user coordination.\n",
        "packages/sc-github-issue/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-github-issue\",\n  \"description\": \"GitHub issue lifecycle management with worktree isolation. List, create, update issues, and implement fixes in isolated worktrees with automated testing, commits, and PR creation.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"github\", \"issues\", \"pull-requests\", \"worktree\", \"automation\", \"ci\", \"bug-fixing\"],\n  \"commands\": [\n    \"./commands/sc-github-issue.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-github-issue-intake.md\",\n    \"./agents/sc-github-issue-mutate.md\",\n    \"./agents/sc-github-issue-fix.md\",\n    \"./agents/sc-github-issue-pr.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-managing-github-issues/SKILL.md\"\n  ]\n}\n",
        "packages/sc-github-issue/README.md": "# sc-github-issue\n\nGitHub issue lifecycle management with worktree isolation for Claude Code.\n\n## Overview\n\n`sc-github-issue` provides a complete workflow for managing GitHub issues - from listing and creating issues to implementing fixes in isolated worktrees and creating pull requests. It integrates with `sc-git-worktree` to ensure fixes are implemented safely without affecting your main working directory.\n\n## Features\n\n- **List Issues**: Browse open/closed issues with filtering\n- **Create/Update Issues**: Interactive issue management\n- **Fix Workflow**: Automated fix implementation with:\n  - Isolated worktree creation\n  - Code analysis and implementation\n  - Automated testing\n  - Commit and push automation\n  - Pull request creation with auto-linking\n- **Safety Gates**: Approval prompts and pre-flight checks\n- **Template Support**: Customizable PR templates\n\n## Installation\n\n### Prerequisites\n\n- Claude Code CLI\n- GitHub CLI (`gh`) version 2.0 or higher\n- `sc-git-worktree` package (auto-installed as dependency)\n\n### Install Package\n\n```bash\nsc-manage install sc-github-issue\n```\n\nThis installs locally to your project (`.claude/packages/sc-github-issue/`).\n\n## Usage\n\n### List Issues\n\n```bash\n/sc-github-issue --list\n/sc-github-issue --list --repo owner/repo\n```\n\n### Create Issue\n\n```bash\n/sc-github-issue --create\n```\n\nPrompts for title, body, labels, and assignees.\n\n### Update Issue\n\n```bash\n/sc-github-issue --update 42\n```\n\n### Fix Issue (Full Workflow)\n\n```bash\n/sc-github-issue --fix --issue 42\n/sc-github-issue --fix --issue https://github.com/owner/repo/issues/42\n/sc-github-issue --fix --issue 42 --yolo  # Skip confirmation prompts\n```\n\n**Workflow steps:**\n1. Fetches issue details and displays summary\n2. Prompts for confirmation (unless `--yolo`)\n3. Creates isolated worktree (`fix-issue-42`)\n4. Implements fix, runs tests, commits\n5. Pushes changes to remote\n6. Creates pull request with auto-linking\n7. Displays summary and PR URL\n\n## Configuration\n\nConfiguration via manifest options (defaults shown):\n\n```yaml\npackages:\n  sc-github-issue:\n    base-branch: \"main\"              # Base branch for fix branches\n    branch-pattern: \"fix-issue-{number}\"  # Branch naming pattern\n    auto-pr: true                    # Auto-create PR after fix\n```\n\nAdditional GitHub settings:\n\n```yaml\ngithub:\n  test_command: \"npm test\"           # Optional: Command to run tests\n  pr_template: |                     # Optional: PR body template\n    ## Summary\n    Fixes #{issue_number}\n\n    ## Changes\n    {commits}\n```\n\n## Architecture\n\n### Agents\n\n- **sc-github-issue-intake**: Read-only operations (list, fetch)\n- **sc-github-issue-mutate**: Write operations (create, update)\n- **sc-github-issue-fix**: Implement fixes in isolated worktrees\n- **sc-github-issue-pr**: Create pull requests with auto-linking\n\n### Dependencies\n\n- `sc-git-worktree >= 0.6.0`: Worktree isolation\n- `gh >= 2.0`: GitHub CLI for all operations\n\n## Why Worktree Isolation?\n\nThe `--fix` workflow uses `sc-git-worktree` to create isolated worktrees:\n\n**Benefits:**\n- Main working directory remains clean\n- No need to stash changes\n- Safe parallel development\n- Branch-specific environment\n\n**Example:**\n```\nmain/                    # Your main working directory (untouched)\nworktrees/\n  └── fix-issue-42/     # Isolated fix environment\n```\n\nAfter PR is merged, clean up with:\n```bash\n/sc-git-worktree --cleanup --worktree fix-issue-42\n```\n\n## Examples\n\n### Fix Bug Report\n\n```bash\n# List bugs\n/sc-github-issue --list\n\n# Fix issue #42\n/sc-github-issue --fix --issue 42\n\n# Output:\n# ✓ Issue #42: Application crashes on startup\n# ✓ Worktree created: fix-issue-42\n# ✓ Fix implemented\n# ✓ Tests passed (15/15)\n# ✓ Committed: abc123def\n# ✓ PR created: https://github.com/owner/repo/pull/123\n```\n\n### Automated Workflow (CI/CD)\n\n```bash\n# Skip confirmation prompts\n/sc-github-issue --fix --issue $ISSUE_NUMBER --yolo\n```\n\n## Security\n\n- **Pre-flight checks**: Validates `gh` auth, repo access, clean working tree\n- **Approval gates**: Prompts before fix (unless `--yolo`)\n- **Test failure prompts**: Asks for approval if tests fail\n- **Protected branches**: Integrates with `sc-git-worktree` protected branch safeguards\n- **Error recovery**: Actionable error messages with suggested fixes\n- **Isolated environments**: Worktrees prevent cross-contamination of fixes\n\n## Error Handling\n\nCommon errors and solutions:\n\n### Authentication Required\n```\nError: GH.AUTH.REQUIRED\nSolution: Run `gh auth login`\n```\n\n### Rate Limit Exceeded\n```\nError: GH.RATE_LIMIT\nSolution: Wait for rate limit reset or use authenticated requests\n```\n\n### Worktree Conflicts\n```\nError: WORKTREE.DIRTY\nSolution: Commit or stash changes, or use sc-git-worktree to clean up\n```\n\nSee [TROUBLESHOOTING.md](./TROUBLESHOOTING.md) for more details.\n\n## Version History\n\nSee [CHANGELOG.md](./CHANGELOG.md) for version history and migration notes.\n\n## Support\n\n- [Documentation](https://github.com/randlee/synaptic-canvas)\n- [Issues](https://github.com/randlee/synaptic-canvas/issues)\n- [Synaptic Canvas Marketplace](https://github.com/randlee/synaptic-canvas/tree/main/packages)\n\n## License\n\nMIT License - See repository root for details.\n",
        "packages/sc-github-issue/agents/sc-github-issue-fix.md": "---\nname: sc-github-issue-fix\nversion: 0.8.0\ndescription: Implement fixes for GitHub issues in isolated worktrees with testing and commit automation\nmodel: sonnet\ncolor: green\n---\n\n# GitHub Issue Fix Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nExecute the core fix workflow:\n1. Analyze issue description and requirements\n2. Identify affected files and components\n3. Implement code changes to resolve the issue\n4. Run tests if configured\n5. Stage, commit, and push changes\n6. Return fix summary with test results\n\n## Input Contract\n\n```json\n{\n  \"issue_number\": 42,\n  \"issue_title\": \"Application crashes on startup\",\n  \"issue_body\": \"Detailed description of the problem...\",\n  \"repo\": \"owner/repo\",\n  \"worktree_path\": \"/path/to/worktree\",\n  \"branch\": \"fix-issue-42\",\n  \"yolo\": false,\n  \"config\": {\n    \"base_branch\": \"main\",\n    \"test_command\": \"npm test\",\n    \"commit_pattern\": \"Fix #{number}: {title}\"\n  }\n}\n```\n\n**Fields**:\n- `issue_number`: Required. Issue number being fixed\n- `issue_title`: Required. Issue title for commit message\n- `issue_body`: Required. Detailed issue description\n- `repo`: Required. Repository in \"owner/repo\" format\n- `worktree_path`: Required. Absolute path to worktree directory\n- `branch`: Required. Branch name for the fix\n- `yolo`: Optional. Skip test failure prompts if true (default: false)\n- `config`: Configuration settings\n  - `base_branch`: Base branch name\n  - `test_command`: Command to run tests (null if no tests)\n  - `commit_pattern`: Pattern for commit message\n\n## Output Contract\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"issue_number\": 42,\n    \"branch\": \"fix-issue-42\",\n    \"worktree_path\": \"/path/to/worktree\",\n    \"commits\": [\n      {\n        \"sha\": \"abc123def456\",\n        \"message\": \"Fix #42: Application crashes on startup\"\n      }\n    ],\n    \"tests_passed\": true,\n    \"test_output\": \"All tests passed (15/15)\",\n    \"files_changed\": [\n      \"src/startup.ts\",\n      \"tests/startup.test.ts\"\n    ],\n    \"pushed\": true\n  },\n  \"error\": null\n}\n```\n````\n\n**On Error**:\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"WORKTREE.DIRTY\",\n    \"message\": \"Uncommitted changes in worktree\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Commit or stash changes before running fix workflow\"\n  }\n}\n```\n````\n\n## Implementation Workflow\n\n### Phase 1: Analysis\n1. Read issue description and extract requirements\n2. Search codebase for relevant files/components\n3. Identify root cause and affected areas\n\n### Phase 2: Implementation\n4. Change to worktree directory: `cd \"$worktree_path\"`\n5. Implement code changes using available tools (Read, Edit, Write)\n6. Follow existing code patterns and style\n7. Add/update tests as needed\n\n### Phase 3: Testing\n8. If `test_command` configured, run: `bash -c \"$test_command\"`\n9. Capture test output and exit code\n10. If tests fail and not `yolo`:\n    - Prompt user: \"Tests failed. Proceed anyway? (y/n)\"\n    - If \"n\", return error with test output\n11. Set `tests_passed` based on exit code\n\n### Phase 4: Commit & Push\n12. Stage all changes: `git add .`\n13. Generate commit message from pattern:\n    - Replace `{number}` with issue number\n    - Replace `{title}` with issue title\n14. Commit: `git commit -m \"$message\"`\n15. Push to remote: `git push -u origin \"$branch\"`\n16. Capture commit SHA from `git rev-parse HEAD`\n\n### Phase 5: Summary\n17. List changed files: `git diff --name-only HEAD~1`\n18. Return structured output with all details\n\n## Error Codes\n\n- `WORKTREE.DIRTY` - Uncommitted changes before fix\n- `WORKTREE.NOT_FOUND` - Worktree path does not exist\n- `EXEC.TEST_FAILED` - Tests failed and user aborted\n- `GIT.COMMIT_FAILED` - Git commit failed\n- `GIT.PUSH_FAILED` - Git push failed (network, permissions, etc.)\n- `IMPL.UNCERTAIN` - Unable to determine fix approach\n\n## Safety\n\n- Verify worktree path exists and is clean before starting\n- Never modify files outside worktree directory\n- Always stage and commit all changes\n- Prompt on test failures unless `yolo` mode\n- Include issue reference in commit message for traceability\n\n## Multi-file Fix Strategy\n\nFor complex issues spanning multiple files:\n1. Attempt full fix across all affected files\n2. If uncertain about specific changes:\n   - Add TODO comments with reasoning\n   - Implement known fixes completely\n   - Mark PR as draft if substantial TODOs exist\n\n## Constraints\n\n- Do NOT modify files outside worktree directory\n- Verify worktree clean before starting\n- Return JSON only; no prose outside fenced block\n- Always include issue reference (#N) in commit message\n\n## Examples\n\n**Successful fix**:\n```json\n{\n  \"issue_number\": 42,\n  \"issue_title\": \"Application crashes on startup\",\n  \"issue_body\": \"TypeError when initializing config module\",\n  \"repo\": \"anthropics/claude-code\",\n  \"worktree_path\": \"/path/to/worktrees/fix-issue-42\",\n  \"branch\": \"fix-issue-42\",\n  \"yolo\": false,\n  \"config\": {\n    \"base_branch\": \"main\",\n    \"test_command\": \"npm test\",\n    \"commit_pattern\": \"Fix #{number}: {title}\"\n  }\n}\n```\n\n**Output**:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"issue_number\": 42,\n    \"branch\": \"fix-issue-42\",\n    \"worktree_path\": \"/path/to/worktrees/fix-issue-42\",\n    \"commits\": [\n      {\n        \"sha\": \"abc123def456\",\n        \"message\": \"Fix #42: Application crashes on startup\"\n      }\n    ],\n    \"tests_passed\": true,\n    \"test_output\": \"15 passed, 0 failed\",\n    \"files_changed\": [\"src/config.ts\", \"tests/config.test.ts\"],\n    \"pushed\": true\n  },\n  \"error\": null\n}\n```\n",
        "packages/sc-github-issue/agents/sc-github-issue-intake.md": "---\nname: sc-github-issue-intake\nversion: 0.8.0\ndescription: List and fetch GitHub issue details\nmodel: sonnet\ncolor: blue\n---\n\n# GitHub Issue Intake Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nHandle read-only operations for GitHub issues:\n- List open/closed issues in a repository\n- Fetch detailed information for a specific issue\n- Support filtering by state, labels, and assignee\n\n## Input Contract\n\n```json\n{\n  \"operation\": \"list|fetch\",\n  \"repo\": \"owner/repo\",\n  \"issue_number\": null|42,\n  \"filters\": {\n    \"state\": \"open|closed|all\",\n    \"labels\": [],\n    \"assignee\": null\n  }\n}\n```\n\n**Fields**:\n- `operation`: Required. Either \"list\" or \"fetch\"\n- `repo`: Required. Target repository in \"owner/repo\" format\n- `issue_number`: Required for \"fetch\" operation, null for \"list\"\n- `filters`: Optional filters for list operation\n  - `state`: Issue state filter (default: \"open\")\n  - `labels`: Array of label names to filter by\n  - `assignee`: Filter by assignee username\n\n## Output Contract\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"operation\": \"list|fetch\",\n    \"issues\": [\n      {\n        \"number\": 42,\n        \"title\": \"Issue title\",\n        \"body\": \"Issue description...\",\n        \"state\": \"open\",\n        \"labels\": [\"bug\", \"priority-high\"],\n        \"assignees\": [\"user1\", \"user2\"],\n        \"url\": \"https://github.com/owner/repo/issues/42\",\n        \"created_at\": \"2025-12-03T10:00:00Z\",\n        \"updated_at\": \"2025-12-03T12:00:00Z\"\n      }\n    ]\n  },\n  \"error\": null\n}\n```\n````\n\n**On Error**:\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"GH.AUTH.REQUIRED\",\n    \"message\": \"GitHub CLI not authenticated\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Run: gh auth login\"\n  }\n}\n```\n````\n\n## Implementation\n\n### List Operation\n\n```bash\ngh issue list \\\n  --repo \"$repo\" \\\n  --state \"$state\" \\\n  --json number,title,state,labels,assignees,url,createdAt,updatedAt\n```\n\nApply filters for labels and assignee if provided.\n\n### Fetch Operation\n\n```bash\ngh issue view \"$issue_number\" \\\n  --repo \"$repo\" \\\n  --json number,title,body,state,labels,assignees,url,createdAt,updatedAt,comments\n```\n\n## Error Codes\n\n- `GH.AUTH.REQUIRED` - GitHub CLI not authenticated\n- `GH.REPO.NOT_FOUND` - Repository not found or no access\n- `GH.ISSUE.NOT_FOUND` - Issue number does not exist\n- `GH.RATE_LIMIT` - API rate limit exceeded\n- `EXEC.FAILED` - Command execution failed\n\n## Safety\n\n- Read-only operations only\n- No modifications to issues or repository\n- Validate repository format before execution\n- Handle authentication errors gracefully\n\n## Constraints\n\n- Do NOT modify issues or repository\n- Return JSON only; no prose outside fenced block\n- Validate repo format (owner/repo) before execution\n\n## Examples\n\n**List open issues**:\n```json\n{\n  \"operation\": \"list\",\n  \"repo\": \"anthropics/claude-code\",\n  \"issue_number\": null,\n  \"filters\": { \"state\": \"open\", \"labels\": [], \"assignee\": null }\n}\n```\n\n**Fetch specific issue**:\n```json\n{\n  \"operation\": \"fetch\",\n  \"repo\": \"anthropics/claude-code\",\n  \"issue_number\": 42,\n  \"filters\": {}\n}\n```\n",
        "packages/sc-github-issue/agents/sc-github-issue-mutate.md": "---\nname: sc-github-issue-mutate\nversion: 0.8.0\ndescription: Create and update GitHub issues\nmodel: sonnet\ncolor: yellow\n---\n\n# GitHub Issue Mutate Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nHandle write operations for GitHub issues:\n- Create new issues with title, body, labels, and assignees\n- Update existing issue fields (title, body, labels, assignees, state)\n- Support batch field updates\n\n## Input Contract\n\n```json\n{\n  \"operation\": \"create|update\",\n  \"repo\": \"owner/repo\",\n  \"issue_number\": null|42,\n  \"fields\": {\n    \"title\": \"Issue title\",\n    \"body\": \"Issue description\",\n    \"labels\": [\"bug\", \"priority-high\"],\n    \"assignees\": [\"user1\"],\n    \"state\": \"open|closed\"\n  }\n}\n```\n\n**Fields**:\n- `operation`: Required. Either \"create\" or \"update\"\n- `repo`: Required. Target repository in \"owner/repo\" format\n- `issue_number`: Required for \"update\", null for \"create\"\n- `fields`: Issue fields to set or update\n  - `title`: Required for \"create\", optional for \"update\"\n  - `body`: Optional issue description\n  - `labels`: Array of label names\n  - `assignees`: Array of GitHub usernames\n  - `state`: Only for \"update\" - \"open\" or \"closed\"\n\n## Output Contract\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"operation\": \"create|update\",\n    \"issue_number\": 42,\n    \"url\": \"https://github.com/owner/repo/issues/42\",\n    \"updated_fields\": [\"title\", \"labels\"]\n  },\n  \"error\": null\n}\n```\n````\n\n**On Error**:\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"GH.PERMISSION_DENIED\",\n    \"message\": \"No write access to repository owner/repo\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Verify repository permissions and authentication\"\n  }\n}\n```\n````\n\n## Implementation\n\n### Create Operation\n\n```bash\ngh issue create \\\n  --repo \"$repo\" \\\n  --title \"$title\" \\\n  --body \"$body\" \\\n  --label \"bug,priority-high\" \\\n  --assignee \"user1,user2\" \\\n  --json number,url\n```\n\n### Update Operation\n\n```bash\ngh issue edit \"$issue_number\" \\\n  --repo \"$repo\" \\\n  --title \"$title\" \\\n  --body \"$body\" \\\n  --add-label \"new-label\" \\\n  --remove-label \"old-label\" \\\n  --add-assignee \"user3\"\n```\n\nFor state changes:\n```bash\ngh issue close \"$issue_number\" --repo \"$repo\"\ngh issue reopen \"$issue_number\" --repo \"$repo\"\n```\n\n## Error Codes\n\n- `GH.AUTH.REQUIRED` - GitHub CLI not authenticated\n- `GH.PERMISSION_DENIED` - No write access to repository\n- `GH.ISSUE.NOT_FOUND` - Issue does not exist (update only)\n- `GH.VALIDATION_FAILED` - Invalid field values (e.g., bad label names)\n- `GH.RATE_LIMIT` - API rate limit exceeded\n- `EXEC.FAILED` - Command execution failed\n\n## Safety\n\n- Validate required fields before execution\n- Confirm repository write access\n- Track which fields were modified\n- Handle duplicate labels/assignees gracefully\n\n## Constraints\n\n- Validate required fields (title for create)\n- Return JSON only; no prose outside fenced block\n- Track modified fields in output for audit trail\n\n## Examples\n\n**Create issue**:\n```json\n{\n  \"operation\": \"create\",\n  \"repo\": \"anthropics/claude-code\",\n  \"issue_number\": null,\n  \"fields\": {\n    \"title\": \"Add dark mode support\",\n    \"body\": \"Users request dark mode in settings\",\n    \"labels\": [\"enhancement\"],\n    \"assignees\": [\"user1\"]\n  }\n}\n```\n\n**Update issue**:\n```json\n{\n  \"operation\": \"update\",\n  \"repo\": \"anthropics/claude-code\",\n  \"issue_number\": 42,\n  \"fields\": {\n    \"title\": \"Fix: Application crashes on startup\",\n    \"labels\": [\"bug\", \"priority-high\"],\n    \"state\": \"closed\"\n  }\n}\n```\n",
        "packages/sc-github-issue/agents/sc-github-issue-pr.md": "---\nname: sc-github-issue-pr\nversion: 0.8.0\ndescription: Create pull requests for issue fixes with proper issue references and templating\nmodel: sonnet\ncolor: purple\n---\n\n# GitHub Issue PR Agent\n\n## Invocation\n\nThis agent is invoked via the Claude Task tool by a skill or command. Do not invoke directly.\n\n## Purpose\n\nFinal step of the fix workflow:\n1. Generate PR title and body from issue and template\n2. Create PR using GitHub CLI\n3. Link PR to issue with \"Fixes #N\" syntax\n4. Return PR details for user display\n\n## Input Contract\n\n```json\n{\n  \"issue_number\": 42,\n  \"issue_title\": \"Application crashes on startup\",\n  \"repo\": \"owner/repo\",\n  \"branch\": \"fix-issue-42\",\n  \"base_branch\": \"main\",\n  \"commits\": [\n    {\n      \"sha\": \"abc123\",\n      \"message\": \"Fix #42: Application crashes on startup\"\n    }\n  ],\n  \"pr_template\": null,\n  \"draft\": false\n}\n```\n\n**Fields**:\n- `issue_number`: Required. Issue number being fixed\n- `issue_title`: Required. Issue title for PR title\n- `repo`: Required. Repository in \"owner/repo\" format\n- `branch`: Required. Fix branch name (head)\n- `base_branch`: Required. Target branch (base)\n- `commits`: Required. Array of commits in the fix\n- `pr_template`: Optional. Template string for PR body\n- `draft`: Optional. Create as draft PR (default: false)\n\n## Output Contract\n\nReturn fenced JSON with minimal envelope:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"pr_number\": 123,\n    \"url\": \"https://github.com/owner/repo/pull/123\",\n    \"title\": \"Fix #42: Application crashes on startup\",\n    \"state\": \"open\",\n    \"draft\": false,\n    \"head\": \"fix-issue-42\",\n    \"base\": \"main\"\n  },\n  \"error\": null\n}\n```\n````\n\n**On Error**:\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"GH.BRANCH.NOT_PUSHED\",\n    \"message\": \"Branch fix-issue-42 not found on remote\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Ensure commits were pushed to remote before creating PR\"\n  }\n}\n```\n````\n\n## Implementation\n\n### PR Title Generation\nDefault pattern: `Fix #<issue_number>: <issue_title>`\n\nExample: `Fix #42: Application crashes on startup`\n\n### PR Body Generation\n\nIf `pr_template` provided, perform substitutions:\n- `{issue_number}` → issue number\n- `{issue_title}` → issue title\n- `{commits}` → formatted commit list\n\nDefault template if none provided:\n```markdown\n## Summary\nFixes #<issue_number>\n\n## Changes\n<List of commits with SHA and message>\n\n## Testing\n<Test results from fix agent>\n```\n\n### Create PR\n\n```bash\ngh pr create \\\n  --repo \"$repo\" \\\n  --base \"$base_branch\" \\\n  --head \"$branch\" \\\n  --title \"$pr_title\" \\\n  --body \"$pr_body\" \\\n  --json number,url,title,state,isDraft \\\n  ${draft:+--draft}\n```\n\n### Link to Issue\n\nEnsure PR body contains `Fixes #<issue_number>` so GitHub auto-links and auto-closes on merge.\n\n## Error Codes\n\n- `GH.AUTH.REQUIRED` - GitHub CLI not authenticated\n- `GH.PERMISSION_DENIED` - No write access to repository\n- `GH.BRANCH.NOT_PUSHED` - Fix branch not found on remote\n- `GH.PR.ALREADY_EXISTS` - PR already exists for this branch\n- `GH.VALIDATION_FAILED` - Invalid PR parameters\n- `GH.RATE_LIMIT` - API rate limit exceeded\n- `EXEC.FAILED` - Command execution failed\n\n## Safety\n\n- Verify branch exists on remote before creating PR\n- Confirm base branch exists\n- Always include issue reference for auto-linking\n- Handle PR-already-exists gracefully (return existing PR)\n\n## Draft PR Strategy\n\nCreate as draft if:\n1. `draft: true` in input, OR\n2. Fix agent included TODO comments (detected from commit diffs)\n\nUser can convert draft to ready in GitHub UI after review.\n\n## Constraints\n\n- Verify branch pushed to remote before proceeding\n- Always include \"Fixes #N\" in PR body for auto-linking\n- Return JSON only; no prose outside fenced block\n- Handle existing PR gracefully (not an error)\n\n## Examples\n\n**Create PR**:\n```json\n{\n  \"issue_number\": 42,\n  \"issue_title\": \"Application crashes on startup\",\n  \"repo\": \"anthropics/claude-code\",\n  \"branch\": \"fix-issue-42\",\n  \"base_branch\": \"main\",\n  \"commits\": [\n    {\n      \"sha\": \"abc123def456\",\n      \"message\": \"Fix #42: Application crashes on startup\"\n    }\n  ],\n  \"pr_template\": \"## Summary\\nFixes #{issue_number}\\n\\n## Changes\\n{commits}\",\n  \"draft\": false\n}\n```\n\n**Output**:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"pr_number\": 123,\n    \"url\": \"https://github.com/anthropics/claude-code/pull/123\",\n    \"title\": \"Fix #42: Application crashes on startup\",\n    \"state\": \"open\",\n    \"draft\": false,\n    \"head\": \"fix-issue-42\",\n    \"base\": \"main\"\n  },\n  \"error\": null\n}\n```\n\n**Error - branch not pushed**:\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"GH.BRANCH.NOT_PUSHED\",\n    \"message\": \"Branch fix-issue-42 not found on remote\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Ensure commits were pushed to remote before creating PR\"\n  }\n}\n```\n",
        "packages/sc-github-issue/commands/sc-github-issue.md": "---\nname: sc-github-issue\nversion: 0.8.0\ndescription: Manage GitHub issues - list, create, update, and fix with automated workflows\n---\n\n# GitHub Issue Management\n\nUnified command for GitHub issue lifecycle operations: listing, creating, updating, fixing (with worktree isolation), and PR creation.\n\n## Usage\n\n```\n/sc-github-issue [options]\n\nOptions:\n  --list                    List open issues in repository\n  --fix --issue <id/url>   Fix specified issue in isolated worktree\n  --yolo                   Skip confirmation prompts (use with --fix)\n  --repo <owner/repo>      Target repository (default: current repo)\n  --create                 Create new issue interactively\n  --update <id>            Update existing issue\n  --help                   Show this help message\n\nExamples:\n  /sc-github-issue --list\n  /sc-github-issue --list --repo owner/repo\n  /sc-github-issue --fix --issue 42\n  /sc-github-issue --fix --issue https://github.com/owner/repo/issues/42 --yolo\n  /sc-github-issue --create\n  /sc-github-issue --update 42\n```\n\n## Behavior\n\n### No flags or --help\nDisplay help text with examples and usage information.\n\n### --list\nList open issues in the repository with numbers, titles, labels, and assignees.\n- Uses `sc-github-issue-intake` agent with operation=list\n- Supports `--repo` to specify target repository\n- Detects current repo from `gh repo view` if not specified\n\n### --create\nCreate a new issue interactively:\n1. Prompt for title (required)\n2. Prompt for body/description\n3. Prompt for labels (comma-separated)\n4. Prompt for assignees (comma-separated)\n5. Create issue using `sc-github-issue-mutate` agent\n6. Display created issue URL\n\n### --update <id>\nUpdate an existing issue interactively:\n1. Fetch current issue details\n2. Prompt for fields to update (title, body, labels, assignees, state)\n3. Update issue using `sc-github-issue-mutate` agent\n4. Display confirmation\n\n### --fix --issue <id/url>\nFull fix workflow with worktree isolation:\n\n**Phase 1: Intake & Confirmation**\n1. Fetch issue details using `sc-github-issue-intake` agent\n2. Display issue summary (number, title, body, labels)\n3. If not `--yolo`, prompt: \"Proceed with fix for issue #42? (y/n)\"\n4. Load configuration from manifest options (base-branch, branch-pattern, auto-pr)\n\n**Phase 2: Worktree Setup**\n5. Generate branch name from pattern (e.g., `fix-issue-42`)\n6. Invoke `sc-worktree-create` via sc-git-worktree skill\n7. Verify worktree created successfully\n\n**Phase 3: Implementation**\n8. Invoke `sc-github-issue-fix` agent with issue details and worktree path\n9. Agent implements fix, runs tests (if configured), commits, and pushes\n\n**Phase 4: PR Creation**\n10. Invoke `sc-github-issue-pr` agent to create PR from fix branch\n11. Display PR URL\n\n**Phase 5: Summary**\n12. Show summary: issue number, branch, commits, test results, PR URL\n13. Remind user about worktree cleanup (manual via `/sc-git-worktree --cleanup`)\n\n## Configuration\n\nConfiguration is read from the package manifest options. Defaults:\n\n```yaml\noptions:\n  base-branch:\n    type: string\n    default: \"main\"\n    description: Default base branch for fix branches\n  branch-pattern:\n    type: string\n    default: \"fix-issue-{number}\"\n    description: Pattern for fix branch names (use {number} placeholder)\n  auto-pr:\n    type: boolean\n    default: true\n    description: Automatically create PR after successful fix\n```\n\nUsers can override in their project's `.claude/config.yaml`:\n\n```yaml\npackages:\n  sc-github-issue:\n    base-branch: develop\n    branch-pattern: \"hotfix/{number}\"\n    auto-pr: false\n```\n\nAdditional GitHub settings (optional):\n\n```yaml\ngithub:\n  test_command: \"npm test\"\n  pr_template: |\n    ## Summary\n    Fixes #{issue_number}\n```\n\n## Safety & Approval Gates\n\n### Pre-flight Checks\n- Verify `gh` CLI installed and authenticated\n- Validate repository access\n- Confirm working directory clean\n- Verify sc-git-worktree dependency available\n\n### Approval Gates\n1. **Before fix** (unless `--yolo`): Display issue details and prompt for confirmation\n2. **If tests fail**: Display output and prompt \"Tests failed. Proceed anyway? (y/n)\"\n3. **Before PR**: Confirm all changes committed and pushed\n\n### Error Handling\n- Authentication failure → guide to `gh auth login`\n- Rate limit → display reset time\n- Permission denied → verify repo access\n- Worktree conflicts → suggest cleanup\n- Push failure → display git error\n- Missing dependency → guide to `sc-manage install sc-git-worktree`\n\n## Integration\n\n- **Agents**: sc-github-issue-intake, sc-github-issue-mutate, sc-github-issue-fix, sc-github-issue-pr\n- **Skills**: sc-git-worktree (for worktree operations)\n- **CLI**: GitHub CLI (`gh`) for all operations\n- **References**:\n  - `references/github-issue-apis.md` (API patterns)\n  - `references/github-issue-checklists.md` (workflow checklists)\n\n## Notes\n\n- All agents return fenced JSON with minimal envelope structure (v0.4 format)\n- Use `--yolo` for automated workflows (CI/CD)\n- Worktree cleanup is manual - use `/sc-git-worktree --cleanup` when PR is merged\n- Repository detection uses `gh repo view --json nameWithOwner`\n- This package requires sc-git-worktree >= 0.6.0 for worktree isolation\n",
        "packages/sc-github-issue/skills/sc-managing-github-issues/SKILL.md": "---\nname: sc-managing-github-issues\nversion: 0.8.0\ndescription: GitHub issue lifecycle management with worktree isolation\nentry_point: /sc-github-issue\n---\n\n# Managing GitHub Issues Skill\n\nManage GitHub issues from listing to fixing to PR creation with clean worktree isolation.\n\n## Commands\n\n- `/sc-github-issue` - Main entry point for all issue operations\n\n## Agents\n\n- `sc-github-issue-intake` - List and fetch issue details\n- `sc-github-issue-mutate` - Create and update issues\n- `sc-github-issue-fix` - Implement fixes in isolated worktrees\n- `sc-github-issue-pr` - Create pull requests\n\n## Operations\n\n- `--list [--repo owner/repo]` - List open issues\n- `--create` - Create issue interactively\n- `--update <id>` - Update issue fields\n- `--fix --issue <id/url> [--yolo]` - Full fix workflow: fetch → confirm → worktree → implement → test → commit → push → PR\n\n## Dependencies\n\n- **Packages**: sc-git-worktree >= 0.6.0 (worktree operations)\n- **CLI**: GitHub CLI (`gh`) version 2.0 or higher\n- **Config**: Package manifest options (base-branch, branch-pattern, auto-pr)\n\n## Configuration\n\nConfiguration via manifest options (defaults shown):\n\n```yaml\noptions:\n  base-branch:\n    type: string\n    default: \"main\"\n  branch-pattern:\n    type: string\n    default: \"fix-issue-{number}\"\n  auto-pr:\n    type: boolean\n    default: true\n```\n\nUsers can override in `.claude/config.yaml`:\n\n```yaml\npackages:\n  sc-github-issue:\n    base-branch: develop\n    branch-pattern: \"hotfix/{number}\"\n    auto-pr: false\n\ngithub:\n  test_command: \"npm test\"\n  pr_template: |\n    ## Summary\n    Fixes #{issue_number}\n```\n\n## Data Contracts\n\nAll agents return fenced JSON with v0.4 minimal envelope:\n\n```json\n{\n  \"success\": true|false,\n  \"data\": { /* operation results */ },\n  \"error\": null|{\n    \"code\": \"ERROR.CODE\",\n    \"message\": \"Human readable message\",\n    \"recoverable\": true|false,\n    \"suggested_action\": \"What to do next\"\n  }\n}\n```\n\n## Safety\n\n- Pre-flight `gh` CLI auth checks\n- Approval gates before destructive ops (unless `--yolo`)\n- Test failure prompts\n- Actionable error messages with suggested actions\n- Worktree isolation prevents contaminating main working directory\n\n## Integration with sc-git-worktree\n\nThe `--fix` workflow creates isolated worktrees via the sc-git-worktree skill:\n\n1. **Create**: `sc-worktree-create` agent creates `fix-issue-{number}` worktree\n2. **Implement**: Fix implemented in isolated directory\n3. **Commit & Push**: Changes committed and pushed from worktree\n4. **Cleanup**: Manual cleanup via `/sc-git-worktree --cleanup` after PR merge\n\nThis ensures the main working directory remains clean during fix implementation.\n\n## References\n\n- `references/github-issue-apis.md` - GitHub CLI patterns\n- `references/github-issue-checklists.md` - Workflow checklists\n",
        "packages/sc-kanban/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-kanban\",\n  \"description\": \"Kanban state machine for Synaptic Canvas: backlog to board to done with gate validation, automatic scrubbing, and shared board config.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"kanban\", \"task-tracking\", \"workflow\", \"git\", \"pr\", \"gates\"],\n  \"commands\": [\n    \"./commands/sc-kanban.md\"\n  ],\n  \"agents\": [\n    \"./agents/kanban-transition.md\",\n    \"./agents/kanban-query.md\",\n    \"./agents/kanban-card.md\",\n    \"./agents/checklist-agent.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-kanban/SKILL.md\"\n  ]\n}\n",
        "packages/sc-kanban/README.md": "# sc-kanban v0.7.0\n\n![Version](https://img.shields.io/badge/version-0.7.0-blue)\n![Status](https://img.shields.io/badge/status-beta-yellow)\n![License](https://img.shields.io/badge/license-MIT-green)\n\nKanban state machine for Synaptic Canvas: manage task lifecycle with backlog → board → done workflow, automatic scrubbing, gate validation, and shared board configuration.\n\n## Overview\n\n**sc-kanban** provides a pure state machine for task tracking with three-file lifecycle management, provider abstraction (kanban vs checklist), and integration with sc-project-manager via shared YAML configuration. Cards flow from lean backlog entries through rich board tracking to scrubbed archive, with automatic field management and WIP enforcement.\n\n## Features\n\n- **Three-File Lifecycle**: Backlog (lean, 100s items) → Board (rich, 10-20 active) → Done (scrubbed archive)\n- **Automatic Field Management**: Cards expand during planning, scrub automatically on archive\n- **Provider Abstraction**: Kanban provider (full features) or checklist fallback (markdown-based)\n- **Gate Validation**: PR URL enforcement (v0.7.0), full gate suite planned (v0.7.1)\n- **WIP Enforcement**: Configurable limits per column (active, review)\n- **Shared Board Config**: Single YAML source of truth with sc-project-manager (`.project/board.config.yaml`)\n- **v0.5 Compliance**: Fenced JSON envelopes, versioned frontmatter, registry attestation\n- **Execution Tracking**: pr_url, status_report, actual_cycles, started_at, completed_at, base_branch\n- **Integration Ready**: Works with sc-git-worktree for worktree tracking, custom dev/QA agents\n\n## Installation\n\n### Prerequisites\n\n- Python 3.8+\n- PyYAML, pydantic (see requirements-dev.txt)\n- sc-git-worktree v0.5.2+ (optional but recommended for worktree integration)\n\n### Install via sc-manage\n\n```bash\n/sc-manage install sc-kanban\n```\n\n### Manual Installation\n\n```bash\n# Clone repository\ngit clone https://github.com/randlee/synaptic-canvas.git\ncd synaptic-canvas\n\n# Install dependencies\npip install -r requirements-dev.txt\n\n# Link package to .claude directory\npython3 tools/sc-install.py install sc-kanban\n```\n\n## Quick Start\n\n### 1. Initialize Board Config\n\nCreate `.project/board.config.yaml` (see `templates/board.config.example.yaml`):\n\n```yaml\nversion: 0.7\nboard:\n  backlog_path: .project/backlog.json\n  board_path: .project/board.json\n  done_path: .project/done.json\n  provider: kanban\n```\n\n### 2. Create Backlog Cards (Lean)\n\nCreate lean backlog entries with minimal fields:\n\n```json\n{\n  \"sprint_id\": \"1.1\",\n  \"title\": \"Project Setup\",\n  \"dependencies\": []\n}\n```\n\n### 3. Plan Sprint Items (Expand to Board)\n\nUse `kanban-card` to expand backlog → board with rich fields:\n\n```bash\n# Creates rich board entry with worktree, prompts, acceptance_criteria\nkanban-card create --target-status planned \\\n  --card '{\"sprint_id\":\"1.1\",\"worktree\":\"main/1-1-setup\",\"dev_prompt\":\"...\"}'\n```\n\n### 4. Track Progress\n\nQuery cards by status, worktree, or sprint_id:\n\n```bash\n# List all active cards\nkanban-query --status active\n\n# Find specific card\nkanban-query --worktree main/1-1-setup\n```\n\n### 5. Archive Completed Work (Automatic Scrubbing)\n\nTransition review → done automatically scrubs rich fields:\n\n```bash\n# Moves to done.json, keeps only: sprint_id, title, pr_url, completed_at, actual_cycles\nkanban-transition --sprint-id 1.1 --target-status done\n```\n\n## Configuration\n\n### Board Config Structure\n\n`.project/board.config.yaml` defines:\n- File paths (backlog, board, done)\n- Provider selection (kanban vs checklist)\n- WIP limits per column\n- Card field schemas\n- Agent references\n\n### Provider Selection\n\n**Kanban Provider** (default):\n- Three-file lifecycle with automatic expansion/scrubbing\n- Gate validation (PR, git, worktree)\n- WIP enforcement\n- Rich execution tracking\n\n**Checklist Provider** (fallback):\n- Markdown-based workflow (roadmap.md + prompts/)\n- No gates or WIP enforcement\n- Lightweight for small projects\n\nSet `provider: checklist` in board config to use checklist mode.\n\n## Integration\n\n### With sc-project-manager\n\nShared board config enables PM agents to:\n- Read backlog and plan sprint items\n- Coordinate dev/QA agent execution\n- Track execution metadata (PR URLs, cycle counts)\n- Archive completed work with automatic scrubbing\n\n### With sc-git-worktree\n\nWorktree naming convention: `<project-branch>/<sprint-id>-<sprint-name>`\n\nExample: `main/1-1-project-setup`\n\nCards reference worktrees for 1:1 tracking.\n\n### Custom Dev/QA Agents\n\nBoard cards can specify custom agents:\n- `dev_agent`: Agent for implementation\n- `qa_agent`: Agent for testing/validation\n- `dev_prompt`: Rich context for dev agent\n- `qa_prompt`: Acceptance criteria for QA agent\n\n## Commands\n\n| Command | Agent | Purpose |\n|---------|-------|---------|\n| `/kanban create` | kanban-card | Create/update cards |\n| `/kanban move` | kanban-transition | Move cards across columns |\n| `/kanban archive` | kanban-transition | Move to done with scrubbing |\n| `/kanban list` | kanban-query | Query cards by filters |\n| `/kanban status` | kanban-query | Board status summary |\n\n## Documentation\n\n- **[Use Cases](./USE-CASES.md)**: 7 detailed scenarios with step-by-step examples\n- **[Troubleshooting](./TROUBLESHOOTING.md)**: 10+ common issues with diagnostics and fixes\n- **[Changelog](./CHANGELOG.md)**: Version history and release notes\n\n## Card Lifecycle\n\n### Backlog (Lean)\nFields: `sprint_id`, `title`, `dependencies`\n\n### Board (Rich)\nAdds: `worktree`, `dev_agent`, `qa_agent`, `dev_prompt`, `qa_prompt`, `acceptance_criteria`, `max_retries`, `base_branch`, `status`, `pr_url`, `status_report`, `actual_cycles`, `started_at`, `completed_at`\n\n### Done (Scrubbed)\nKeeps: `sprint_id`, `title`, `pr_url`, `completed_at`, `actual_cycles`\n\n## Security\n\n- Local file operations only; no remote access\n- Gate validation prevents incomplete work from progressing\n- WIP enforcement limits concurrent active work\n- All state changes logged for audit\n\n## Status\n\n**v0.7.0 (Current)**:\n- ✅ Three-file lifecycle operations\n- ✅ Board config validation (Pydantic v2 strict mode)\n- ✅ Provider abstraction (kanban/checklist)\n- ✅ Automatic card scrubbing\n- ✅ WIP enforcement\n- ✅ PR URL gate validation\n- ✅ Comprehensive test suite (85-95% coverage)\n\n**v0.7.1 (Planned)**:\n- Full gate execution suite (PR state, git cleanliness, worktree validation)\n- Advanced query operations (rollups, dependencies)\n- Template scaffolding wizard\n\n## License\n\nMIT License - see LICENSE file for details\n\n## Contributing\n\nSee main repository [CONTRIBUTING.md](../../CONTRIBUTING.md) for package authoring guidelines.\n\n## Support\n\n- **Issues**: https://github.com/randlee/synaptic-canvas/issues\n- **Documentation**: https://github.com/randlee/synaptic-canvas/tree/main/docs\n- **Discussions**: https://github.com/randlee/synaptic-canvas/discussions\n",
        "packages/sc-kanban/agents/checklist-agent.md": "---\nname: checklist-agent\nversion: 0.8.0\ndescription: Checklist fallback provider using roadmap.md + prompts/ (no gates).\n---\n\n# checklist-agent\n\n## Role\n- Serve checklist-backed task tracking when `provider=checklist` is set in `.project/board.config.yaml`.\n- Operate on `roadmap.md` (lean) and ephemeral `prompts/<sprint_id>.md`; no gates.\n\n## Inputs\n- `action`: `query` | `transition`\n- `roadmap_path`: path to roadmap markdown (default `.project/roadmap.md`)\n- `prompts_dir`: directory for ephemeral prompts (default `.project/prompts`)\n- `card`: lean fields (`sprint_id`, `title`, `worktree`, `pr_url`, `assignee`)\n- `target_status`: checklist column id\n\n## Behavior\n- `query`: parse roadmap.md checklist items, return card list with status.\n- `transition`: mark checklist item status, append if missing, persist roadmap.md.\n- For `active`/`review`, create/update `prompts/<sprint_id>.md` with placeholder header.\n- Return v0.5 fenced JSON envelope; no gate checks.\n\n## Outputs\n- Success: `data.cards` (query) or `data.card` (transition) with `sprint_id`/`status`.\n- Failure: `error.code` with `recoverable` and `suggested_action`.\n",
        "packages/sc-kanban/agents/kanban-card.md": "---\nname: kanban-card\nversion: 0.8.0\ndescription: Create or update kanban cards (backlog → board) using shared board config.\n---\n\n# kanban-card\n\n## Role\n- Create lean backlog entries or rich board entries.\n- Update existing cards with planning/execution metadata (pr_url, status_report, actual_cycles).\n\n## Inputs\n- `action`: `create` | `update` (default: create)\n- `card`: object with fields (worktree or sprint_id required; other fields as needed)\n- `target_status`: backlog|planned|active|review (default: backlog)\n- `config_path`: path to `.project/board.config.yaml`\n- `base_dir`: workspace root (default \".\")\n\n## Behavior\n- Load board config (fail closed).\n- If provider=checklist, return advisory (`PROVIDER.CHECKLIST`).\n- `create`:\n  - target_status=backlog → add to backlog.json (lean)\n  - target_status in planned/active/review → add to board.json (rich), remove duplicates from backlog/board\n- `update`: merge fields into existing card in backlog or board; error if not found.\n- Persist backlog.json / board.json; return updated card.\n\n## Output (v0.5 envelope)\n```json\n{\n  \"success\": true,\n  \"canceled\": false,\n  \"aborted_by\": null,\n  \"data\": { \"card\": { \"worktree\": \"main/1-1\", \"status\": \"planned\" } },\n  \"error\": null,\n  \"metadata\": { \"tool_calls\": [], \"duration_ms\": 0 }\n}\n```\n\n## Errors\n- `CONFIG.INVALID`, `PROVIDER.CHECKLIST`, `CARD.NOT_FOUND`, `INPUT.UNSUPPORTED_ACTION`, `INPUT.MISSING`.\n",
        "packages/sc-kanban/agents/kanban-query.md": "---\nname: kanban-query\nversion: 0.8.0\ndescription: Query backlog/board/done cards using shared board config.\n---\n\n# kanban-query Agent\n\n## Role\n- Read backlog.json / board.json / done.json according to shared board config.\n- Filter by status, sprint_id, worktree, or assignee.\n\n## Inputs\n- `status`: planned|active|review|done (optional)\n- `sprint_id`: filter (optional)\n- `worktree`: filter (optional)\n- `config_path`: path to `.project/board.config.yaml`\n- `base_dir`: directory holding backlog.json/board.json/done.json\n- `gates` (ignored): for interface symmetry; not used in query\n\n## Behavior\n1) Load board config (fail closed on error).  \n2) If `provider=checklist`, return advisory error with `code=\"PROVIDER.CHECKLIST\"` pointing to checklist agent.  \n3) If `provider=kanban`, read files and return filtered cards.  \n4) Envelope: v0.5 fenced JSON only.\n\n## Output (provider checklist)\n```json\n{\n  \"success\": false,\n  \"canceled\": false,\n  \"aborted_by\": null,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"PROVIDER.CHECKLIST\",\n    \"message\": \"Board config provider=checklist; call checklist agent\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Invoke checklist-agent/query-update\"\n  }\n}\n```\n\n## Output (success example)\n```json\n{\n  \"success\": true,\n  \"canceled\": false,\n  \"aborted_by\": null,\n  \"data\": {\n    \"cards\": [\n      {\n        \"worktree\": \"main/1-1-setup\",\n        \"status\": \"active\",\n        \"pr_url\": null,\n        \"assignee\": \"dotnet-dev\"\n      }\n    ]\n  },\n  \"error\": null,\n  \"metadata\": {\n    \"tool_calls\": [],\n    \"duration_ms\": 0\n  }\n}\n```\n",
        "packages/sc-kanban/agents/kanban-transition.md": "---\nname: kanban-transition\nversion: 0.8.0\ndescription: Move kanban cards across backlog/board/done with gates and scrubbing.\n---\n\n# kanban-transition Agent\n\n## Role\n- Apply transitions (planned→active→review→done) using shared board config.\n- Enforce gates (pr_url, WIP now; PR/worktree/git via run_gates in v0.7.1).\n- Scrub rich fields when moving to done.\n\n## Inputs\n- `card_selector`: worktree or sprint_id\n- `target_status`: planned|active|review|done\n- `config_path`: path to `.project/board.config.yaml`\n- `base_dir`: directory holding backlog.json/board.json/done.json\n- `gates` (optional): payload for run_gates (`worktrees`, `prs`)\n\n## Behavior\n1) Load board config (fail closed if invalid).  \n2) If `provider=checklist`, return advisory error (`PROVIDER.CHECKLIST`).  \n3) If `provider=kanban`:\n   - WIP enforcement using config per-column limits.\n   - Minimal gate: require `pr_url` before review/done.\n   - Optional: if `gates` provided, invoke `scripts/run_gates.py`; on failure, return `GATE.FAILURES` with failed_gates metadata.  \n   - Move card using `sc_kanban.board.transition_card` (includes scrubbing on done).  \n4) Return fenced JSON envelope (v0.5) with updated card or gate failures.\n\n## Output (success example)\n```json\n{\n  \"success\": true,\n  \"canceled\": false,\n  \"aborted_by\": null,\n  \"data\": {\n    \"card\": {\n      \"sprint_id\": \"1.1\",\n      \"title\": \"Setup\",\n      \"pr_url\": \"https://github.com/org/repo/pull/1\",\n      \"completed_at\": \"2025-12-22T18:00:00Z\",\n      \"actual_cycles\": 2\n    }\n  },\n  \"error\": null,\n  \"metadata\": {\n    \"tool_calls\": [],\n    \"duration_ms\": 0\n  }\n}\n```\n\n## Output (provider checklist)\n```json\n{\n  \"success\": false,\n  \"canceled\": false,\n  \"aborted_by\": null,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"PROVIDER.CHECKLIST\",\n    \"message\": \"Board config provider=checklist; call checklist agent\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Invoke checklist-agent/query-update with same card selector\"\n  }\n}\n```\n",
        "packages/sc-kanban/commands/sc-kanban.md": "---\nname: sc-kanban\nversion: 0.8.0\ndescription: Interact with the kanban state machine (backlog → board → done)\n---\n\n# /kanban\n\n## Summary\nInteract with the kanban state machine (backlog → board → done) using the shared board config (`.project/board.config.yaml`).\n\n## Usage\n- `/kanban query [--status planned|active|review|done] [--sprint <id>]`\n- `/kanban transition --card <worktree|sprint_id> --status planned|active|review|done`\n\n## Agents\n- `kanban-query`\n- `kanban-transition`\n\n## Notes\n- Requires valid board config (v0.7) and access to backlog.json/board.json/done.json in the repo.\n- When `provider=checklist`, command should delegate to checklist agent instead of running gates.\n",
        "packages/sc-kanban/skills/sc-kanban/SKILL.md": "---\nname: sc-kanban\nversion: 0.8.0\ndescription: Kanban state machine orchestration with provider abstraction\n---\n\n# sc-kanban Skill (v0.7.0 draft)\n\n## Purpose\nInvoke kanban agents via Agent Runner to query and transition cards across backlog/board/done using shared board config (`.project/board.config.yaml`).\n\n## Flow\n1. Load and validate board config (fail closed on errors).\n2. If `provider=kanban`: call `kanban-query` or `kanban-transition` via Agent Runner.\n3. If `provider=checklist`: call checklist fallback agent defined in config (same v0.5 envelope).\n\n## Inputs\n- Command args from `/kanban` (action, card selector, target status, filters).\n- Workspace files: backlog.json, board.json, done.json.\n\n## Outputs\n- v0.5 envelope with card data or gate failure details (kanban provider), or checklist results when provider=checklist.\n\n## Notes\n- Gate execution, PR/worktree checks, and scrubbing occur inside `kanban-transition` agent.\n- Keep envelopes fenced JSON only.*** End Patch\n",
        "packages/sc-manage/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-manage\",\n  \"description\": \"Interface for managing Synaptic Canvas packages. Provides discovery, installation info, and management utilities for the marketplace.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"packages\", \"management\", \"marketplace\", \"installation\", \"discovery\"],\n  \"commands\": [\n    \"./commands/sc-manage.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-packages-list.md\",\n    \"./agents/sc-package-install.md\",\n    \"./agents/sc-package-uninstall.md\",\n    \"./agents/sc-package-docs.md\"\n  ],\n  \"skills\": [\n    \"./skills/managing-sc-packages/SKILL.md\"\n  ]\n}\n",
        "packages/sc-manage/README.md": "# sc-manage\n\n[![Publisher Verified](https://img.shields.io/badge/publisher-verified-brightgreen)](https://github.com/randlee/synaptic-canvas/blob/main/docs/PUBLISHER-VERIFICATION.md)\n[![Security Scanned](https://img.shields.io/badge/security-scanned-blue)](https://github.com/randlee/synaptic-canvas/blob/main/SECURITY.md)\n[![License MIT](https://img.shields.io/badge/license-MIT-green)](LICENSE)\n[![Version 0.4.0](https://img.shields.io/badge/version-0.4.0-blue)](CHANGELOG.md)\n\nScope: User (recommended) or Project\nRequires: python3, git\n\nManage Synaptic Canvas packages: list installed packages and install or uninstall packages in project, user, or global scopes.\n\nSecurity: See [SECURITY.md](../../../SECURITY.md) for security policy and practices.\n\n## Summary\n- List packages with install status (no/local/global/both)\n- Install packages into a repo's `.claude` (project) or a user/global `.claude`\n- Uninstall packages from selected scope\n- Enforces package policy (e.g., sc-git-worktree is local-only)\n\n## Quick Start (Global install)\n```bash\npython3 tools/sc-install.py install sc-manage --dest ~/.claude\n```\n\n## Usage\n- `/sc-manage --list`\n- `/sc-manage --install <package> --local|--project|--global|--user`\n- `/sc-manage --uninstall <package> --local|--project|--global|--user`\n- `/sc-manage --docs <package>` (preview README and related docs; ask questions)\n\n## Components\n- Command: `commands/sc-manage.md`\n- Skill: `skills/managing-sc-packages/SKILL.md`\n- Agents: `sc-packages-list`, `sc-package-install`, `sc-package-uninstall`, `sc-package-docs`\n- Scripts: `scripts/sc_manage_*.py` (JSON in/out; validated by a PreToolUse hook)\n\n## Notes\n- Project scope (`--local`/`--project`) requires being inside a Git repo (used to resolve `REPO_NAME` for token expansion).\n- User scope (`--user`) defaults to `~/.claude` unless overridden by `USER_CLAUDE_DIR`.\n- Global scope (`--global`) defaults to `~/.claude` unless overridden by `GLOBAL_CLAUDE_DIR`.\n- `SC_REPO_PATH` can override the Synaptic Canvas repo root used for package discovery.\n\n## Version & Changelog\n- 0.4.0 — Initial v0.x publication\n\n## Support\n- Repository: https://github.com/…/synaptic-canvas\n- Issues: https://github.com/…/synaptic-canvas/issues\n",
        "packages/sc-manage/agents/sc-package-docs.md": "---\nname: sc-package-docs\nversion: 0.8.0\ndescription: Locate and return package documentation (README.md) for a given Synaptic Canvas package.\nmodel: sonnet\ncolor: blue\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 scripts/validate_sc_manage_hook.py\"\n---\n\n# sc-package-docs\n\n## Inputs\n- `package`: required package name (e.g., sc-delay-tasks, sc-git-worktree)\n- `sc_repo_path`: absolute path to the Synaptic Canvas repo. Default: `SC_REPO_PATH` or repo root.\n\n## Execution\n1. Run: `python3 scripts/sc_manage_docs.py` with JSON stdin.\n2. The script validates package and returns README path + size.\n\n## Output\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": { \"package\": \"sc-git-worktree\", \"readme_path\": \"/abs/path/packages/sc-git-worktree/README.md\", \"size_bytes\": 2048 },\n  \"error\": null\n}\n```\n````\n\n## Errors\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"README_NOT_FOUND\",\n    \"message\": \"Package README.md not found\",\n    \"recoverable\": false,\n    \"suggested_action\": \"ensure README.md exists under the package root\"\n  }\n}\n```\n````\n\n## Constraints\n- Do not inline large README content in the agent response; return only metadata. The skill is responsible for presentation/Q&A.\n",
        "packages/sc-manage/agents/sc-package-install.md": "---\nname: sc-package-install\nversion: 0.8.0\ndescription: Install a Synaptic Canvas package locally (repo .claude) or globally according to package policy.\nmodel: sonnet\ncolor: blue\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 scripts/validate_sc_manage_hook.py\"\n---\n\n# sc-package-install\n\n## Inputs\n- `package`: required package name (e.g., sc-delay-tasks, sc-git-worktree)\n- `scope`: required `local` | `project` | `global` | `user` (ask if missing)\n- `sc_repo_path`: absolute path to the Synaptic Canvas repo. Default: `SC_REPO_PATH` or repo root.\n- `global_claude_dir`: absolute path to the global `.claude`. Default: `~/.claude` (or `GLOBAL_CLAUDE_DIR`).\n- `user_claude_dir`: absolute path to the user `.claude`. Default: `~/.claude` (or `USER_CLAUDE_DIR`).\n\n## Execution\n1. Run: `python3 scripts/sc_manage_install.py` with JSON stdin.\n2. The script validates package, scope, and install policy.\n3. The script resolves destination and runs `tools/sc-install.py`.\n4. Return JSON summary.\n\n## Output\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": { \"package\": \"sc-git-worktree\", \"scope\": \"local\", \"dest\": \"/path/to/repo/.claude\" },\n  \"error\": null\n}\n```\n````\n\n## Errors\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"SCOPE_NOT_ALLOWED\",\n    \"message\": \"Package 'sc-git-worktree' may only be installed locally\",\n    \"recoverable\": false,\n    \"suggested_action\": \"use --local scope\"\n  }\n}\n```\n````\n\n## Constraints\n- Do not attempt to install outside `.claude` directories.\n- Do not echo secrets; return JSON only.\n",
        "packages/sc-manage/agents/sc-package-uninstall.md": "---\nname: sc-package-uninstall\nversion: 0.8.0\ndescription: Uninstall a Synaptic Canvas package locally (repo .claude) or globally according to package policy.\nmodel: sonnet\ncolor: blue\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 scripts/validate_sc_manage_hook.py\"\n---\n\n# sc-package-uninstall\n\n## Inputs\n- `package`: required package name\n- `scope`: required `local` | `project` | `global` | `user`\n- `sc_repo_path`: absolute path to the Synaptic Canvas repo. Default: `SC_REPO_PATH` or repo root.\n- `global_claude_dir`: absolute path to the global `.claude`. Default: `~/.claude` (or `GLOBAL_CLAUDE_DIR`).\n- `user_claude_dir`: absolute path to the user `.claude`. Default: `~/.claude` (or `USER_CLAUDE_DIR`).\n\n## Execution\n1. Run: `python3 scripts/sc_manage_uninstall.py` with JSON stdin.\n2. The script validates package, scope, and install policy.\n3. The script resolves destination and runs `tools/sc-install.py`.\n4. Return JSON summary.\n\n## Output\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": { \"package\": \"sc-delay-tasks\", \"scope\": \"global\", \"dest\": \"/home/user/.claude\" },\n  \"error\": null\n}\n```\n````\n\n## Errors\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"SCOPE_NOT_ALLOWED\",\n    \"message\": \"Package is not allowed in the requested scope\",\n    \"recoverable\": false,\n    \"suggested_action\": \"choose a permitted scope\"\n  }\n}\n```\n````\n\n## Constraints\n- Do not attempt to uninstall outside `.claude` directories.\n- Return ONLY fenced JSON.\n",
        "packages/sc-manage/agents/sc-packages-list.md": "---\nname: sc-packages-list\nversion: 0.8.0\ndescription: Enumerate available Synaptic Canvas packages, detect install scope (no/local/global), and return a machine-readable table.\nmodel: sonnet\ncolor: blue\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 scripts/validate_sc_manage_hook.py\"\n---\n\n# sc-packages-list\n\n## Purpose\nList available packages and detect whether each is installed locally (current repo .claude) or globally.\n\n## Inputs (optional)\n- `sc_repo_path`: absolute path to the Synaptic Canvas repo. Default: `SC_REPO_PATH` or repo root.\n- `global_claude_dir`: absolute path to the global `.claude`. Default: `~/.claude` (or `GLOBAL_CLAUDE_DIR`).\n\n## Execution\n1. Run: `python3 scripts/sc_manage_list.py` with JSON stdin.\n2. The script discovers packages by reading `<sc_repo_path>/packages/*/manifest.yaml`.\n3. For each manifest, extract:\n   - `name`\n   - first line of `description`\n   - `install.scope` if present: `local-only` | `global-only` | `both` (default `both`)\n4. Detect installed state:\n   - Local: `<repo_root>/.claude/` has any of the manifest's artifacts (commands/skills/agents/scripts)\n   - Global: `<global_claude_dir>/` has any of the manifest's artifacts\n5. Return a list ordered by package name with `installed` = `no` | `local` | `global` | `both`.\n\n## Output\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"packages\": [\n      { \"name\": \"sc-delay-tasks\", \"installed\": \"global\", \"description\": \"Schedule delayed one-shot or bounded polling actions\" },\n      { \"name\": \"sc-git-worktree\", \"installed\": \"local\", \"description\": \"Manage git worktrees with optional tracking\" }\n    ]\n  },\n  \"error\": null\n}\n```\n````\n\n## Error Handling\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"LIST_FAILED\",\n    \"message\": \"Failed to enumerate packages or parse manifests\",\n    \"recoverable\": false,\n    \"suggested_action\": \"verify sc_repo_path and permissions\"\n  }\n}\n```\n````\n\n## Constraints\n- Do not modify files; read-only operations only.\n- Return ONLY fenced JSON.\n",
        "packages/sc-manage/commands/sc-manage.md": "---\nallowed-tools: Bash(python3 scripts/sc_manage_dispatch.py*)\nname: sc-manage\ndescription: List, install, or uninstall Synaptic Canvas Claude packages for the current machine or this repo.\nversion: 0.8.0\noptions:\n  - name: --list\n    description: List available packages and show install status (no/global/local) with a summary table.\n  - name: --install\n    args:\n      - name: package\n        description: \"Package name to install (e.g., sc-delay-tasks, sc-git-worktree).\"\n    description: Install a package. Use --local/--project or --global/--user to choose scope.\n  - name: --uninstall\n    args:\n      - name: package\n        description: Package name to uninstall.\n    description: Uninstall a package from the chosen scope.\n  - name: --docs\n    args:\n      - name: package\n        description: \"Package name whose documentation to display (alias: --doc).\"\n    description: Show package documentation (README) for review and Q&A.\n  - name: --local\n    description: Target the current repository's .claude directory.\n  - name: --project\n    description: Alias for --local.\n  - name: --global\n    description: Target the global .claude directory.\n  - name: --user\n    description: \"Alias for --global (defaults to ~/.claude).\"\n---\n\n# /sc-manage\n\nManage Synaptic Canvas packages:\n- Use `--list` to see available packages and whether they are installed locally or globally.\n- Use `--install <package>` with `--local`/`--project` or `--global`/`--user` to install.\n- Use `--uninstall <package>` with `--local`/`--project` or `--global`/`--user` to remove.\n\nNotes:\n- Some packages are local-only (e.g., sc-git-worktree). The manager will block global installation for those.\n- Listing includes: Package | Installed | Description.\n\n## Context\n\n- Package status and actions: !`python3 scripts/sc_manage_dispatch.py $ARGUMENTS`\n",
        "packages/sc-manage/skills/managing-sc-packages/SKILL.md": "---\nname: managing-sc-packages\ndescription: List, install, or uninstall Synaptic Canvas packages. Use with the `/sc-manage` command.\nversion: 0.8.0\n---\n\n# Managing Synaptic Canvas Packages\n\nUse this skill to manage Synaptic Canvas packages on this machine or in the current repo.\n\n## Agent Delegation\n\nThis skill delegates to specialized agents via the Task tool:\n\n| Operation | Agent | Returns |\n|-----------|-------|---------|\n| List      | `sc-packages-list`       | JSON: packages [{ name, description, installable_scopes, installed }] |\n| Install   | `sc-package-install`     | JSON: success, scope, dest |\n| Uninstall | `sc-package-uninstall`   | JSON: success, scope, dest |\n| Docs      | `sc-package-docs`        | JSON: readme_path, size_bytes |\n\n## Inputs / Flags\n\n- `--list` → call `sc-packages-list`.\n- `--install <package>` → require `--local`/`--project` or `--global`/`--user`; if missing, ask the user. If the package is local-only, force `--local`.\n- `--uninstall <package>` → same scope logic as install.\n- `--docs <package>` (alias `--doc`) → call `sc-package-docs` to load and present the package README.\n\n## Conventions\n\n- Local scope: current repository's `.claude` directory.\n- Project scope: alias for local.\n- User scope: `~/.claude` unless `USER_CLAUDE_DIR` is set.\n- Global scope: `~/.claude` unless `GLOBAL_CLAUDE_DIR` is set.\n- The agents will detect the repo toplevel via `git rev-parse --show-toplevel`.\n- The agents call the Synaptic Canvas installer at `<SC_REPO_PATH>/tools/sc-install.py` (default resolved from `SC_REPO_PATH` or the repo root).\n\n## Safety\n\n- Respect package metadata: if a package manifest declares `install.scope: local-only`, block global installation.\n- Return only fenced JSON from agents; present tables and prompts in this skill.\n",
        "packages/sc-repomix-nuget/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-repomix-nuget\",\n  \"description\": \"Generate comprehensive NuGet repository context for AI analysis. Extracts package metadata, assembly information, and documentation for enhanced code understanding.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"nuget\", \"dotnet\", \"analysis\", \"context\", \"repository\"],\n  \"commands\": [\n    \"./commands/sc-repomix-nuget.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-repomix-nuget-generate.md\",\n    \"./agents/sc-repomix-nuget-validate.md\",\n    \"./agents/sc-repomix-nuget-analyze.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-repomix-nuget/SKILL.md\",\n    \"./skills/sc-repomix-nuget/output-formats.md\",\n    \"./skills/sc-repomix-nuget/registry-schema.md\"\n  ]\n}\n",
        "packages/sc-repomix-nuget/README.md": "# sc-repomix-nuget\n\n[![Publisher Verified](https://img.shields.io/badge/publisher-verified-brightgreen)](https://github.com/randlee/synaptic-canvas/blob/main/docs/PUBLISHER-VERIFICATION.md)\n[![Security Scanned](https://img.shields.io/badge/security-scanned-blue)](https://github.com/randlee/synaptic-canvas/blob/main/SECURITY.md)\n[![License MIT](https://img.shields.io/badge/license-MIT-green)](LICENSE)\n[![Version 0.4.0](https://img.shields.io/badge/version-0.4.0-blue)](CHANGELOG.md)\n\nScope: Local-only\nRequires: node >= 18 (for `npx repomix`), bash\n\nGenerate AI-optimized context for NuGet packages using Repomix with NuGet metadata enrichment (dependencies, dependents, frameworks, namespaces). Produces a compressed API surface designed for AI code tools.\n\nSecurity: See [SECURITY.md](../../../SECURITY.md) for security policy and practices.\n\n## Quick Start\n1) Install into your repo's `.claude`:\n```bash\npython3 tools/sc-install.py install sc-repomix-nuget --dest /path/to/your-repo/.claude\n```\n2) From your repo, run:\n```\n/sc-repomix-nuget --generate --package-path . --output ./nuget-context.xml\n```\n\n## Command\n- `/sc-repomix-nuget --help`\n- `/sc-repomix-nuget --generate [--package-path <path>] [--output <file>] [--include-docs] [--registry-url <url>]`\n\n## Skill & Agents\n- Skill: `sc-repomix-nuget` (Agent Runner → agents)\n- Agents: `sc-repomix-nuget-generate`, `sc-repomix-nuget-validate`, `sc-repomix-nuget-analyze`\n\n## Getting Started\n- Minimal run in a C# repo:\n  ```\n  /sc-repomix-nuget --generate --package-path . --output ./nuget-context.xml\n  ```\n- With registry URL (recommended once you host it):\n  ```\n  /sc-repomix-nuget --generate \\\n    --package-path . \\\n    --output ./nuget-context.xml \\\n--registry-url https://raw.githubusercontent.com/<owner>/<repo>/main/docs/registries/nuget/registry.json\n  ```\n  Notes:\n  - `raw.githubusercontent.com` serves the raw JSON bytes for tools; `github.com` serves HTML pages.\n- Create `docs/registries/nuget/registry.json` in your repo when ready; until then, omit `--registry-url`.\n\n## Defaults\n- Output file: `./nuget-context.xml`\n- If `.nuget-context.json` is missing, the skill attempts to infer `package_id` from a primary `.csproj`.\n\n## Examples\n- Different output path:\n  ```\n  /sc-repomix-nuget --generate --output ./artifacts/nuget-context.xml\n  ```\n- Disable compression (debug):\n  ```\n  .claude/scripts/generate.sh --no-compress\n  ```\n\n## Notes\n- `.nuget-context.json` is optional: provides package id, public namespaces, depends_on\n  - If missing, package id may be inferred from a primary `.csproj`; namespaces via simple heuristics\n- Output is capped at ~500KB for the compressed tier\n\n## CI snippet (optional)\n```yaml\n- name: Generate NuGet AI context\n  run: |\n    npx repomix --style xml --compress \\\n      --include \"**/*.cs\" \\\n      --ignore \"**/obj/**,**/bin/**,**/*.Tests.cs\" \\\n      --output ./artifacts/nuget-context.xml\n```\n\n## Support\n- Repository: https://github.com/randlee/synaptic-canvas\n- Issues: https://github.com/randlee/synaptic-canvas/issues\n",
        "packages/sc-repomix-nuget/agents/sc-repomix-nuget-analyze.md": "---\nname: context-assemble\nversion: 0.8.0\ndescription: Assemble final NuGet context XML by combining Repomix output with NuGet metadata header.\n---\n\n# context-assemble\n\n## Inputs\n- `repomix_output_path`: string (required)\n- `package_metadata`: object (id, github/repo, dependencies[], dependents[], public_namespaces[])\n- `frameworks`: string[] (optional)\n- `output_path`: string (default `./nuget-context.xml`)\n\n## Execution\n1. Read Repomix XML from `repomix_output_path`.\n2. Construct `<nuget_package_context>` header from `package_metadata` + `frameworks`.\n3. Wrap Repomix XML sections under `<nuget_package_output>`.\n4. Write to `output_path`.\n5. Validate the final XML is well-formed.\n\n## Output (machine)\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"output_path\": \"./nuget-context.xml\",\n    \"token_count\": 0,\n    \"sections\": { \"metadata\": 0, \"api_surface\": 0 }\n  },\n  \"error\": null\n}\n```\n````\n\n## Errors\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"OUTPUT.INVALID\",\n    \"message\": \"Repomix output missing or malformed\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Regenerate repomix output and retry\"\n  }\n}\n```\n````\n\n## Constraints\n- Preserve Repomix XML structure exactly.\n- Ensure final XML is well-formed.\n",
        "packages/sc-repomix-nuget/agents/sc-repomix-nuget-generate.md": "---\nname: repomix-generate\nversion: 0.8.0\ndescription: Execute Repomix to generate compressed XML API surface for a NuGet package.\n---\n\n# repomix-generate\n\n## Inputs\n- `package_path`: string (default \".\")\n- `output_path`: string (default \"./repomix-output.xml\")\n- `compress`: boolean (default true)\n- `include_patterns`: string[] (default [\"**/*.cs\"]) \n- `ignore_patterns`: string[] (default [\"**/obj/**\", \"**/bin/**\", \"**/*.Tests.cs\"]) \n\n## Execution\n1. Validate `package_path` exists and contains `.csproj` or `*.cs` files.\n2. Build Repomix command:\n   - `npx -y repomix --style xml --output <output_path>`\n   - Add `--compress` if `compress=true`\n   - Add `--include` for each include pattern\n   - Add `--ignore` for each ignore pattern\n   - Add `--remove-empty-lines`\n3. Execute command; fail if non-zero.\n4. Validate `<output_path>` created and <= 500KB.\n5. Return fenced JSON.\n\n## Output (machine)\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"output_path\": \"./repomix-output.xml\",\n    \"token_count\": 0,\n    \"file_count\": 0,\n    \"compressed\": true\n  },\n  \"error\": null\n}\n```\n````\n\n## Errors\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"REPO.INCOMPATIBLE\",\n    \"message\": \"No .cs files found under package_path\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Specify a directory containing C# sources\"\n  }\n}\n```\n````\n\n## Constraints\n- Do not include tests (`**/*.Tests.cs`, `**/*.Test.cs`).\n- Size cap ~500KB; fail if exceeded.\n",
        "packages/sc-repomix-nuget/agents/sc-repomix-nuget-validate.md": "---\nname: registry-resolve\nversion: 0.8.0\ndescription: Resolve package dependencies and dependents from central registry with optional local manifest augmentation.\n---\n\n# registry-resolve\n\n## Inputs\n- `package_id`: string (optional if discoverable)\n- `manifest_path`: string (optional; default `.nuget-context.json`)\n- `registry_url`: string (optional; default documented in README)\n\n## Execution\n1. If `manifest_path` exists, read:\n   - package.id, package.github/repo\n   - depends_on[], public_namespaces[] (optional)\n2. If `package_id` not provided, try to infer from a primary `.csproj` (PackageId) or fail with a clear error.\n3. Fetch registry JSON (timeout 10s). If fetch fails, continue with empty dependents.\n4. Build output:\n   - package: { id, github? }\n   - dependencies: from local manifest if present; else empty list\n   - dependents: from central registry if found; else empty list\n\n## Output (machine)\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"package\": { \"id\": \"YourCompany.Core\", \"github\": \"YourCompany/Core\" },\n    \"dependencies\": [ { \"id\": \"System.Numerics.Tensors\", \"version\": \"[8.0.0,)\" } ],\n    \"dependents\": [ { \"id\": \"YourCompany.Sensors\", \"github\": \"YourCompany/Sensors\" } ]\n  },\n  \"error\": null\n}\n```\n````\n\n## Errors\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"PACKAGE_ID.MISSING\",\n    \"message\": \"Unable to determine package_id from manifest or .csproj\",\n    \"recoverable\": false,\n    \"suggested_action\": \"Provide --package_id or add .nuget-context.json\"\n  }\n}\n```\n````\n\n## Constraints\n- No caching; fetch registry fresh each invocation.\n- 10s timeout for registry fetch.\n",
        "packages/sc-repomix-nuget/commands/sc-repomix-nuget.md": "---\nname: sc-repomix-nuget\ndescription: Generate AI-optimized NuGet package context using Repomix.\nversion: 0.8.0\noptions:\n  - name: --help\n    description: Show usage and options.\n  - name: --generate\n    description: Generate compressed API surface and assemble final XML context.\n  - name: --package-path\n    args:\n      - name: path\n        description: Path to the package (default \".\").\n    description: Package root path containing .csproj files.\n  - name: --output\n    args:\n      - name: file\n        description: Output file path (default \"./nuget-context.xml\").\n    description: Final XML output path.\n  - name: --include-docs\n    description: Include documentation/examples tier (optional; v0.4 may stub).\n  - name: --registry-url\n    args:\n      - name: url\n        description: Registry JSON URL override.\n    description: Central registry URL (default raw GitHub URL in README).\n---\n\n# /sc-repomix-nuget\n\nInvoke the `sc-repomix-nuget` skill, which orchestrates:\n1) Resolve registry info (dependencies/dependents)\n2) Run Repomix with compression\n3) Assemble final XML with a `<nuget_package_context>` header\n\nTypical:\n- `/sc-repomix-nuget --generate --package-path . --output ./nuget-context.xml`\n",
        "packages/sc-repomix-nuget/skills/sc-repomix-nuget/SKILL.md": "---\nname: sc-repomix-nuget\nversion: 0.8.0\ndescription: >\n  Generate AI-optimized context for NuGet packages using Repomix. Use when preparing\n  AI docs, API references, or dependency analysis (\"nuget context\", \"repomix nuget\").\n---\n\n# Generating NuGet Package Context\n\n## Capabilities\n- Compressed API surface (Tree-sitter `--compress`)\n- Resolve dependencies/dependents (central registry)\n- Inject frameworks/namespaces/repo URLs\n- Two-tier output (API surface; docs optional in v0.4)\n\n## Agent Delegation\n| Operation              | Agent                          | Returns                                   |\n|------------------------|--------------------------------|-------------------------------------------|\n| Generate repomix output| `sc-repomix-nuget-generate`    | JSON: output_path, token_count, file_count|\n| Resolve package graph  | `sc-repomix-nuget-validate`    | JSON: dependencies, dependents, package   |\n| Assemble final context | `sc-repomix-nuget-analyze`     | JSON: output_path, token_count, sections  |\n\nTo invoke an agent: Use the Agent Runner to invoke `<agent-name>` as defined in `.claude/agents/registry.yaml`.\n\n## Parameters\n- `package_path` (default: `.`)\n- `output_path` (default: `./nuget-context.xml`)\n- `include_docs` (default: `false`)\n- `registry_url` (optional; default documented in README)\n\n## Flow (basic)\n1) Agent Runner → `sc-repomix-nuget-validate`\n2) Agent Runner → `sc-repomix-nuget-generate`\n3) Agent Runner → `sc-repomix-nuget-analyze`\n4) Present final `output_path`\n\n## References\n- See `output-formats.md` for the XML structure\n- See `registry-schema.md` for registry details\n",
        "packages/sc-repomix-nuget/skills/sc-repomix-nuget/output-formats.md": "# Output Formats\n\nPrimary output: XML (`nuget_package_output`), with a `<nuget_package_context>` header followed by Repomix XML sections.\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<nuget_package_output>\n  <nuget_package_context>\n    <package id=\"YourCompany.Core\" version=\"2.1.0\" github=\"YourCompany/Core\" frameworks=\"net8.0;net6.0\" />\n    <dependencies>\n      <dep id=\"System.Numerics.Tensors\" version=\"[8.0.0,)\" />\n      <dep id=\"YourCompany.Math\" version=\"[1.4.0,2.0.0)\" github=\"YourCompany/Math\" />\n    </dependencies>\n    <dependents>\n      <dep id=\"YourCompany.Sensors\" github=\"YourCompany/Sensors\" />\n      <dep id=\"YourCompany.Display\" github=\"YourCompany/Display\" />\n    </dependents>\n    <namespaces>\n      <ns>YourCompany.Core</ns>\n      <ns>YourCompany.Core.Extensions</ns>\n    </namespaces>\n  </nuget_package_context>\n\n  <!-- Repomix output follows (wrapped as-is) -->\n  <file_summary>...</file_summary>\n  <directory_structure>...</directory_structure>\n  <files>\n    <file path=\"src/YourCompany.Core/IService.cs\"> ... </file>\n  </files>\n</nuget_package_output>\n```\n\nNotes\n- `github=\"owner/repo\"` shorthand preferred. For non-GitHub, use `repo=\"https://...\"`.\n- Version ranges use NuGet syntax (e.g., `[1.0,2.0)`).\n- `frameworks` is semicolon-separated TFMs.\n",
        "packages/sc-repomix-nuget/skills/sc-repomix-nuget/registry-schema.md": "# Registry Schema & Source\n\nRecommended registry location in your repo:\n- `docs/registries/nuget/registry.json` (track in git)\n- Tools should fetch the raw JSON via:\n-  - `https://raw.githubusercontent.com/<owner>/<repo>/main/docs/registries/nuget/registry.json`\n  (raw.githubusercontent.com serves the raw file bytes; github.com serves HTML.)\n\nBehavior\n- If fetch fails (timeout 10s), the `registry-resolve` agent proceeds with empty dependents and logs a warning.\n- Local `.nuget-context.json` (optional) augments package id, public namespaces, and local dependencies.\n\nMinimal schema (summary)\n```json\n{\n  \"packages\": {\n    \"Package.Id\": {\n      \"github\": \"owner/repo\",   // optional\n      \"repo\": \"https://...\",    // optional\n      \"dependents\": [ { \"id\": \"Other.Id\", \"github\": \"owner/other\" } ]\n    }\n  }\n}\n```\n",
        "packages/sc-roslyn-diff/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-roslyn-diff\",\n  \"description\": \"Semantic diffing for .NET source using roslyn-diff with JSON-first outputs, HTML reports, and git/PR-aware comparisons.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"diff\", \"roslyn\", \"semantic\", \"csharp\", \"vb\", \"git\", \"azure\", \"github\"],\n  \"commands\": [\n    \"./commands/sc-diff.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-diff.md\",\n    \"./agents/sc-git-diff.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-diff/SKILL.md\"\n  ],\n  \"scripts\": [\n    \"./scripts/roslyn_diff_runner.py\",\n    \"./scripts/sc_diff.py\",\n    \"./scripts/sc_git_diff.py\",\n    \"./scripts/validate_sc_diff_hook.py\",\n    \"./scripts/validate_sc_git_diff_hook.py\"\n  ]\n}\n",
        "packages/sc-roslyn-diff/README.md": "# sc-roslyn-diff\n\nSemantic diffing for .NET source using roslyn-diff with JSON-first outputs, HTML reports, and git/PR-aware comparisons.\n\n## What you get\n\n- `/sc-diff` command for file or folder diffs\n- JSON-first output for AI processing (always)\n- Optional HTML reports per pair\n- Git/PR diff agent for GitHub and Azure DevOps\n- Smart batching for large diffs\n\n## Install\n\n```bash\naic plugin add sc-roslyn-diff\n```\n\n## Command\n\n```bash\n/sc-diff <description of files/folders to diff> [options]\n```\n\nOptions:\n- `--help` show usage\n- `--files` comma-delimited list of two file paths\n- `--folders` comma-delimited list of two folder paths\n- `--html` generate HTML report and open it if differences are found\n- `--mode` diff mode: `auto` (default), `roslyn`, `line`\n- `--ignore-whitespace` ignore whitespace-only changes\n- `--context` number of context lines for line diffs (default 3)\n- `--text` write plain text diff to `.sc/roslyn-diff/temp/diff-#.txt` (or path if provided)\n- `--git` write unified diff patch to `.sc/roslyn-diff/temp/diff-#.patch` (or path if provided)\n- `--allow-large` allow large batches above the default cap\n- `--files-per-agent` split batches across agents (default 10)\n\nNotes:\n- Exactly one of `--files` or `--folders` is required.\n- Output is always JSON from roslyn-diff; text/git formats can be written to disk if needed.\n\n## Skill\n\nUse the `sc-diff` skill for orchestration. It delegates to:\n- `sc-diff` agent: file/folder diffing with roslyn-diff\n- `sc-git-diff` agent: git/PR-based diffs (GitHub + Azure DevOps)\n\n## Caching\n\nRepository-specific settings are stored in:\n\n```\n.sc/roslyn-diff/settings.json\n```\n\nThis is used to cache resolved Azure DevOps org/project/repo details and defaults like `files_per_agent`.\n\nHTML reports are written under:\n\n```\n.sc/roslyn-diff/output/\n```\n\n## Requirements\n\n- `dotnet` 10+\n- `roslyn-diff` 0.7.0 (`dotnet tool install -g roslyn-diff --version 0.7.0`)\n- `git` 2.20+\n- `python` 3.10+\n- `az` CLI for Azure PR diffs (optional)\n\n## Output contract\n\nAgents always return fenced JSON using a discriminated union:\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"results\": [\n      {\n        \"pair\": {\n          \"kind\": \"file\",\n          \"old_path\": \"src/Old.cs\",\n          \"new_path\": \"src/New.cs\"\n        },\n        \"is_identical\": false,\n        \"mode\": \"auto\",\n        \"html_path\": \"./diffs/Old__New.html\",\n        \"roslyn\": {\n          \"$schema\": \"roslyn-diff-output-v2\",\n          \"summary\": { \"totalChanges\": 3 }\n        },\n        \"output_paths\": {\n          \"html\": [\"/abs/path/to/.sc/roslyn-diff/output/Old__New.html\"],\n          \"text\": [],\n          \"git\": []\n        },\n        \"warnings\": []\n      }\n    ],\n    \"identical_count\": 12,\n    \"diff_count\": 3,\n    \"errors_count\": 0\n  },\n  \"error\": null\n}\n```\n\n## Security\n\n- Default diff mode is `auto` (semantic for .cs/.vb, line diff otherwise).\n- Large batches require `--allow-large` and will be split across agents.\n- Read-only file operations; no modifications to source files.\n- Local processing only; no external service calls for diff computation.\n",
        "packages/sc-roslyn-diff/agents/sc-diff.md": "---\nname: sc-diff\nversion: 0.8.0\ndescription: Run roslyn-diff on file or folder pairs with JSON-first output and optional HTML reports.\nmodel: sonnet\ncolor: blue\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 ./scripts/validate_sc_diff_hook.py\"\n---\n\n# sc-diff Agent\n\n## Invocation\nInvoked via Task tool or Agent Runner. Do not invoke directly.\n\n## Inputs\n- `files`: string (comma-delimited list of 2 file paths)\n- `folders`: string (comma-delimited list of 2 folder paths)\n- `html`: boolean (default false)\n- `mode`: string (`auto` default, `roslyn`, or `line`)\n- `ignore_whitespace`: boolean (default false)\n- `context_lines`: number (optional, default 3)\n- `text_output`: string|bool (optional; true writes `.sc/roslyn-diff/temp/diff-#.txt`)\n- `git_output`: string|bool (optional; true writes `.sc/roslyn-diff/temp/diff-#.patch`)\n- `allow_large`: boolean (default false)\n- `files_per_agent`: number (default 10)\n- `max_pairs`: number (default 100)\n- `repo_root`: string (optional, defaults to current repo root)\n\n## Execution\n1) Validate exactly one of `files` or `folders` is set.\n2) Normalize paths relative to `repo_root`.\n3) Ensure roslyn-diff is installed globally:\n   - Try `dotnet tool update -g roslyn-diff`\n   - If not installed, run `dotnet tool install -g roslyn-diff`\n4) Resolve file pairs:\n   - `files`: single pair.\n   - `folders`: walk both trees, build union of relative file paths, and pair them by path.\n   - If a file exists only on one side, diff against an empty temp file with the same extension.\n5) If `pair_count > max_pairs` and `allow_large` is false, return `diff.too_large` error.\n6) If `pair_count > files_per_agent`, split into batches and invoke sub-agents (same agent) via Task tool; aggregate results and counts.\n7) For each pair:\n   - Run `roslyn-diff diff <old> <new> --json <json_path>`.\n   - If `html=true`, also pass `--html <html_path>` and open after a diff is found.\n   - Pass `--mode <mode>` when `mode` is not `auto`.\n   - Pass `--ignore-whitespace` and `--context <lines>` when set.\n   - If `text_output` or `git_output` are set, pass `--text <path>` or `--git <path>` (always write to disk, no stdout).\n   - Read JSON output and attach to the result entry.\n   - Set `is_identical` based on exit code (0 = identical, 1 = diff).\n\nImplementation note:\n- Prefer `scripts/sc_diff.py` with JSON input via stdin and JSON output to stdout.\n\n## Output\nReturn fenced JSON only.\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"results\": [\n      {\n        \"pair\": {\n          \"kind\": \"file\",\n          \"old_path\": \"src/Old.cs\",\n          \"new_path\": \"src/New.cs\"\n        },\n        \"is_identical\": false,\n        \"mode\": \"auto\",\n        \"html_path\": \"./diffs/Old__New.html\",\n        \"text_path\": \"./.sc/roslyn-diff/temp/diff-1.txt\",\n        \"git_path\": \"./.sc/roslyn-diff/temp/diff-1.patch\",\n        \"output_paths\": {\n          \"html\": [\"/abs/path/to/.sc/roslyn-diff/output/Old__New.html\"],\n          \"text\": [\"/abs/path/to/.sc/roslyn-diff/temp/diff-1.txt\"],\n          \"git\": [\"/abs/path/to/.sc/roslyn-diff/temp/diff-1.patch\"]\n        },\n        \"roslyn\": { \"$schema\": \"roslyn-diff-output-v2\" },\n        \"warnings\": []\n      }\n    ],\n    \"identical_count\": 12,\n    \"diff_count\": 3,\n    \"errors_count\": 0\n  },\n  \"error\": null\n}\n```\n````\n\nOn failure:\n\n````markdown\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"diff.too_large\",\n    \"message\": \"pair count exceeds max_pairs without allow_large\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Use --allow-large or reduce scope\"\n  }\n}\n```\n````\n\n## Constraints\n- Always return JSON only, fenced.\n- Default mode is `auto`.\n- Do not emit raw text diffs; write to file if needed.\n",
        "packages/sc-roslyn-diff/agents/sc-git-diff.md": "---\nname: sc-git-diff\nversion: 0.8.0\ndescription: Diff files from git history or PRs (GitHub/Azure) using roslyn-diff JSON output.\nmodel: sonnet\ncolor: blue\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"python3 ./scripts/validate_sc_git_diff_hook.py\"\n---\n\n# sc-git-diff Agent\n\n## Invocation\nInvoked via Task tool or Agent Runner. Do not invoke directly.\n\n## Inputs\n- `pr_url`: string (optional)\n- `pr_number`: string|number (optional)\n- `base_ref`: string (optional)\n- `head_ref`: string (optional)\n- `repo_root`: string (optional)\n- `html`: boolean (default false)\n- `mode`: string (`auto` default, `roslyn`, or `line`)\n- `ignore_whitespace`: boolean (default false)\n- `context_lines`: number (optional, default 3)\n- `text_output`: string|bool (optional; true writes `.sc/roslyn-diff/temp/diff-#.txt`)\n- `git_output`: string|bool (optional; true writes `.sc/roslyn-diff/temp/diff-#.patch`)\n- `allow_large`: boolean (default false)\n- `files_per_agent`: number (default 10)\n- `max_pairs`: number (default 100)\n\n## Execution\n1) Resolve repository root and git remote.\n2) Determine provider (GitHub or Azure DevOps) from `pr_url` or remote URL.\n3) Resolve `base_ref` and `head_ref`:\n   - GitHub: prefer `gh pr view` if available; otherwise use `git fetch` and PR refs when possible.\n   - Azure DevOps: use `az repos pr show` (cache org/project/repo in `.sc/roslyn-diff/settings.json`).\n4) List changed files: `git diff --name-only <base_ref>..<head_ref>`.\n5) For each file:\n   - Materialize contents using `git show <ref>:<path>` to temp files.\n   - Run `roslyn-diff diff` with `--json` (and `--html` if requested).\n6) Apply the same batching rules as `sc-diff` using `files_per_agent` and `max_pairs`.\n\nImplementation note:\n- Prefer `scripts/sc_git_diff.py` with JSON input via stdin and JSON output to stdout.\n\n## Output\nReturn fenced JSON only, same envelope as `sc-diff` plus `refs` metadata:\n\n````markdown\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"refs\": {\n      \"base\": \"refs/heads/main\",\n      \"head\": \"refs/pull/123/head\"\n    },\n    \"results\": [],\n    \"identical_count\": 0,\n    \"diff_count\": 0,\n    \"errors_count\": 0\n  },\n  \"error\": null\n}\n```\n````\n\n## Constraints\n- Always return JSON only, fenced.\n- Cache Azure org/project/repo in `.sc/roslyn-diff/settings.json`.\n- Prefer semantic diff via `mode: auto` unless explicitly forced to roslyn or line.\n",
        "packages/sc-roslyn-diff/commands/sc-diff.md": "---\nname: sc-diff\ndescription: Semantic diff command using roslyn-diff for files, folders, and git/PR comparisons.\nversion: 0.8.0\noptions:\n  - name: --help\n    description: Show usage and options.\n  - name: --files\n    args:\n      - name: paths\n        description: Comma-delimited list of two file paths.\n    description: Compare two files.\n  - name: --folders\n    args:\n      - name: paths\n        description: Comma-delimited list of two folder paths.\n    description: Compare two folders.\n  - name: --html\n    description: Generate and open HTML report if differences are found.\n  - name: --mode\n    args:\n      - name: mode\n        description: Diff mode (auto, roslyn, line).\n    description: Choose diff mode (defaults to auto).\n  - name: --ignore-whitespace\n    description: Ignore whitespace-only changes.\n  - name: --context\n    args:\n      - name: lines\n        description: Line diff context count (default 3).\n    description: Set line diff context.\n  - name: --text\n    args:\n      - name: path\n        description: Optional text diff output path (defaults to .sc/roslyn-diff/temp/diff-#.txt).\n    description: Write a plain text diff to disk.\n  - name: --git\n    args:\n      - name: path\n        description: Optional git diff output path (defaults to .sc/roslyn-diff/temp/diff-#.patch).\n    description: Write a unified diff patch to disk.\n  - name: --allow-large\n    description: Allow batches above the default cap.\n  - name: --files-per-agent\n    args:\n      - name: count\n        description: Max pairs per agent (default 10).\n    description: Split large batches across agents.\n---\n\n# /sc-diff\n\nUse the `sc-diff` skill to orchestrate roslyn-diff comparisons.\n\nExamples:\n- `/sc-diff compare old/new --files ./old.cs,./new.cs`\n- `/sc-diff compare folders --folders ./before,./after --html`\n",
        "packages/sc-roslyn-diff/skills/sc-diff/SKILL.md": "---\nname: sc-diff\nversion: 0.8.0\ndescription: >\n  Semantic diffing for .NET source using roslyn-diff. Supports file/folder diffs,\n  HTML reports, and git/PR-aware comparisons (GitHub + Azure DevOps).\n---\n\n# sc-diff\n\n## Capabilities\n- Compare two files or two folders (exactly one of each per request)\n- Auto semantic diff for .cs/.vb with line fallback for non-.NET files\n- JSON-first output for AI consumption\n- Optional HTML report per pair\n- Git/PR-based comparisons via sc-git-diff\n- Smart batching for large diff sets\n\n## Agent Delegation\n| Operation | Agent | Returns |\n|-----------|-------|---------|\n| File/folder diff | `sc-diff` | JSON: results[], counts, warnings |\n| Git/PR diff | `sc-git-diff` | JSON: results[], refs, counts |\n\nInvoke agents via Agent Runner using `.claude/agents/registry.yaml`.\n\n## Parameters\n- `files`: string (comma-delimited list of 2 file paths)\n- `folders`: string (comma-delimited list of 2 folder paths)\n- `html`: boolean (default false)\n- `mode`: `auto` (default), `roslyn`, `line`\n- `ignore_whitespace`: boolean (default false)\n- `context_lines`: number (optional, default 3)\n- `text_output`: string|bool (optional; true writes `.sc/roslyn-diff/temp/diff-#.txt`)\n- `git_output`: string|bool (optional; true writes `.sc/roslyn-diff/temp/diff-#.patch`)\n- `allow_large`: boolean (default false)\n- `files_per_agent`: number (default 10)\n- `max_pairs`: number (default 100)\n- `git_pr`: string (PR URL or PR number)\n\n## Behavior\n1) Validate exactly one of `files` or `folders`.\n2) Resolve inputs into file pairs.\n3) If pair count > `max_pairs` and `allow_large` is false, stop with a warning.\n4) If pair count > `files_per_agent`, split into batches and spawn sub-agents.\n5) Aggregate results: include non-identical diffs and counts.\n\n## Caching\n- Cache Azure DevOps org/project/repo in `.sc/roslyn-diff/settings.json`.\n- Store defaults like `files_per_agent` when set explicitly.\n\n## Output Contract\n- Always return fenced JSON with a discriminated union: `success: true|false`.\n- `success: true` includes aggregated counts and per-pair roslyn-diff JSON outputs.\n",
        "packages/sc-startup/.claude-plugin/plugin.json": "{\n  \"name\": \"sc-startup\",\n  \"description\": \"Run repo startup: load startup prompt, sync master checklist, optional PR triage, worktree hygiene, and CI pull with best-effort status.\",\n  \"version\": \"0.8.0\",\n  \"author\": {\n    \"name\": \"randlee\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"startup\", \"checklist\", \"git\", \"ci\", \"automation\"],\n  \"commands\": [\n    \"./commands/sc-startup.md\"\n  ],\n  \"agents\": [\n    \"./agents/sc-checklist-status.md\",\n    \"./agents/sc-startup-init.md\"\n  ],\n  \"skills\": [\n    \"./skills/sc-startup/SKILL.md\"\n  ]\n}\n",
        "packages/sc-startup/README.md": "# sc-startup (v0.6.0)\n\nStartup runner for Synaptic Canvas. Reads repo-specific startup config, loads the startup prompt, syncs the master checklist, and optionally runs PR triage, worktree hygiene, and CI pull before producing a concise status with recommended next steps. Supports readonly and fast paths to control mutations and context usage.\n\n## Badges\n- Status: pre-release (0.6.0)\n- Compatibility: Synaptic Canvas 0.6.x\n- Safety: readonly mode available\n\n## Installation\n```bash\n# Install via marketplace (example)\n/marketplace install sc-startup --local\n```\nAfter install, copy the example config into your repo:\n```bash\nmkdir -p .claude\ncp packages/sc-startup/.claude/sc-startup.yaml.example .claude/sc-startup.yaml\n```\nEdit paths to point to your prompt/checklist files (repo-root-relative).\n\n## Quick Start\n```bash\n/sc-startup          # normal run: prompt + checklist update + worktree/PR/CI if enabled\n/sc-startup --pr     # include PR triage (auto-fix unless --readonly)\n/sc-startup --pull   # pull master -> develop before checklist update\n/sc-startup --readonly  # report-only everywhere\n/sc-startup --fast      # prompt-only, no agents, minimal context\n```\n\n## Features\n- Reads startup prompt and master checklist with repo-root-relative paths.\n- Optional PR triage (`ci-pr-agent`), worktree scan/cleanup (`sc-git-worktree` agents), and CI pull (`ci-automation` pull-only).\n- Readonly mode for safe reporting; fast mode for minimal context.\n- Best-effort status aggregation with per-task status (success/failure/timeout/partial).\n- Dependency validation with explicit `DEPENDENCY.MISSING` errors.\n- Checklist updates stay in workspace (no auto-commit).\n\n## Configuration (`.claude/sc-startup.yaml`)\n```yaml\nstartup-prompt: pm/ARCH-SC.md              # required\ncheck-list: pm/checklist.md                # required\nworktree-scan: scan        # scan | cleanup | none | \"\"\npr-enabled: true           # set false if PR package unavailable\nworktree-enabled: true     # set false if worktree package unavailable\n```\n\n**Path Detection:**\nThe `sc-startup-init` agent automatically scans for potential startup prompts and checklists in:\n- `pm/` directory (project management files)\n- `project*/` directories (project-specific files)\n- Repository root\n\nWhen multiple candidates are found, they are sorted by modification time (most recent first) and presented for selection.\nPath rules: must be repo-root-relative. Set worktree/PR toggles to false if the package is not installed.\n\n## Dependency Validation\n- If a feature is enabled but its package is missing, the command fails closed with:\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"DEPENDENCY.MISSING\",\n    \"message\": \"Feature 'pr' enabled but required agent 'ci-pr-agent' is not installed\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Install ci-pr-agent or set pr-enabled: false in .claude/sc-startup.yaml\"\n  }\n}\n```\n- Dependencies (package level):\n  - `sc-ci-automation >= 0.1.0` (provides `ci-pr-agent`, pull-only support)\n  - `sc-git-worktree >= 0.6.0` (provides worktree scan/cleanup agents)\n\n## Usage Examples\n- Daily kickoff:\n  ```\n  /sc-startup --pr\n  ```\n  Loads prompt, syncs checklist, triages PRs, reports worktrees.\n- Readonly status for standup:\n  ```\n  /sc-startup --readonly\n  ```\n  Report-only; no fixes or updates.\n- Prompt-only onboarding:\n  ```\n  /sc-startup --fast\n  ```\n  Load prompt, assume role, no agents/checklist.\n- CI pull before checklist:\n  ```\n  /sc-startup --pull --readonly\n  ```\n  Pull master → develop, then readonly checklist status.\n- Worktree hygiene sweep:\n  ```\n  /sc-startup   # with worktree-scan: cleanup\n  ```\n  Cleans worktrees (unless --readonly) and reports cleaned count.\n\n## Agents\n- `ci-pr-agent` (PR list/fix; list-only under `--readonly`)\n- `sc-worktree-scan` / `sc-worktree-cleanup` (scan/report or cleanup; scan-only under `--readonly`)\n- `ci-automation` (pull-only when `--pull` is set; runs before checklist update)\n- `sc-checklist-status` (report/update checklist; no auto-commit; report-only under `--readonly`)\n\n## Security\n- Repo-root-relative paths only; block escapes.\n- Default mutating; `--readonly` forces report-only.\n- No auto-commit of checklist changes.\n- Best-effort: errors/timeouts reported but do not abort.\n- Logging: Agent Runner audit logs under `.claude/state/logs/sc-startup/`; prune ~14 days.\n\n## Troubleshooting (high level)\n- Dependency missing: install required package or set feature toggle false.\n- Config missing/paths invalid: copy `.claude/sc-startup.yaml.example` and fix paths.\n- Checklist not updating: ensure not using `--readonly`; check permissions.\n- Worktree cleanup skipped: ensure `worktree-scan: cleanup` and not `--readonly`.\nSee `TROUBLESHOOTING.md` for more.\n\n## Use Cases\n- Daily kickoff, pre-standup snapshot, handoff validation, onboarding prompt-only, repo hygiene sweep, guarded PR triage, CI-sync-first status. See `USE-CASES.md` for details.\n\n## Changelog\nSee `CHANGELOG.md`.\n\n## License\nMIT, see `LICENSE`.\n/sc-startup --init     # discover config, ask for missing settings, optionally write config\n## Init Flow (`--init`)\n- Runs detection-only agent `sc-startup-init`:\n  - Finds existing config (if present), parses YAML.\n  - Suggests prompt/checklist candidates (globbed, bounded).\n  - Detects installed packages (`sc-ci-automation`, `sc-git-worktree`, `sc-startup`).\n- Skill parses results and uses AskQuestion to resolve missing/ambiguous settings (prompt path, checklist path, worktree-scan, pr-enabled, worktree-enabled).\n- If not `--readonly`, writes `.claude/sc-startup.yaml`; otherwise shows synthesized YAML and exits.\n- After init, normal startup flow can proceed with the resolved config.\n",
        "packages/sc-startup/agents/sc-checklist-status.md": "---\nname: sc-checklist-status\nversion: 0.8.0\ndescription: Read the master checklist, scan the repo for missing items, optionally update the checklist, and report a structured status.\n---\n\n# sc-checklist-status\n\n## Purpose\nEnsure the master checklist reflects current repo work by scanning for missing items and optionally updating the checklist, returning a concise, fenced-JSON status.\n\n## Inputs\n- `checklist_path` (string, required): Repo-root-relative path to the checklist file.\n- `repo_root` (string, required): Absolute path to the repository root; use for path resolution/safety.\n- `mode` (string, optional): `update` (default) to add missing items, `report` for read-only.\n- `readonly` (bool, optional): When true, force report-only (alias for `mode=report`).\n\n## Execution Steps\n1. Validate inputs:\n   - Reject absent `checklist_path` or `repo_root`.\n   - Resolve `checklist_path` to an absolute path.\n   - Reject paths outside allowed directories. Allowed directories include `repo_root`, `cwd`, and any `permissions.additionalDirectories` listed in:\n     - `~/.claude/settings.json`\n     - `<project>/.claude/settings.json`\n     - `~/.codex/settings.json`\n     - `<project>/.codex/settings.json`\n     - `$CODEX_HOME/settings.json` (if set)\n   - If file missing: return `success: false` with `error.code = \"VALIDATION.MISSING_CHECKLIST\"`.\n2. Load checklist contents.\n3. Scan repo for signals of missing work (lightweight heuristics):\n   - Untracked files, TODO/FIXME/NOTE markers in tracked files (respect .gitignore).\n   - Open worktrees/branches hints if available.\n   - Recent changes not reflected in checklist headings/items (best-effort text match).\n4. Compare findings to checklist; derive `missing[]`, `added[]`, `notes[]`.\n5. If `mode=update` and not `readonly`:\n   - Append or patch checklist with missing items using minimal, atomic writes.\n   - Keep ordering stable; do not auto-commit.\n6. Return structured result; treat scan/update errors as `success: false` with informative codes.\n\n## Output Format\nReturn fenced JSON using the minimal envelope:\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"synced\": true,\n    \"added\": [],\n    \"missing\": [],\n    \"notes\": []\n  },\n  \"error\": null\n}\n```\n\nOn failure:\n\n```json\n{\n  \"success\": false,\n  \"data\": null,\n  \"error\": {\n    \"code\": \"VALIDATION.MISSING_CHECKLIST\",\n    \"message\": \"Checklist file not found\",\n    \"recoverable\": true,\n    \"suggested_action\": \"Create the checklist at .claude/master-checklist.md or update config\"\n  }\n}\n```\n\n## Error Handling\n- `VALIDATION.MISSING_CHECKLIST`, `VALIDATION.INVALID_PATH`\n- `IO.READ_FAILURE`, `IO.WRITE_FAILURE`\n- `SCAN.UNREADABLE`, `SCAN.TIMEOUT`\n- `DEPENDENCY.MISSING` if required tooling is absent\n\n## Constraints\n- Fenced JSON only; no markdown prose beyond the fenced block.\n- Do not commit changes; checklist updates remain workspace-only.\n- Honor `readonly`/`mode=report`: never mutate files when set.\n- Keep execution lean; avoid loading large files unnecessarily.\n",
        "packages/sc-startup/agents/sc-startup-init.md": "---\nname: sc-startup-init\nversion: 0.8.0\ndescription: Detect existing sc-startup config, suggest defaults, and report installed packages; returns fenced JSON with YAML payload for the skill to drive Q&A.\n---\n\n# sc-startup-init\n\n## Purpose\nCollect startup configuration signals (existing config, candidate prompt/checklist paths, installed packages) without mutating anything. Return a structured summary so the calling skill can guide the user via AskQuestion.\n\n## Inputs\n- `repo_root` (string, required): Absolute path to repo root (path safety anchor).\n- `config_path` (string, optional): Repo-root-relative path to config. Default: `.claude/sc-startup.yaml`.\n- `readonly` (bool, optional): When true, skip any mutation (this agent never writes anyway; included for clarity).\n- `detect_plugins` (bool, optional, default true): Detect installed packages/plugins.\n\n## Execution Steps\n1) Validate `repo_root` exists; fail with `VALIDATION.INVALID_REPO` if not. Resolve `config_path` against `repo_root`; reject escapes with `VALIDATION.INVALID_PATH`.\n2) If config exists: load YAML, parse keys. On parse failure: `FORMAT.INVALID_YAML`.\n3) Detect packages (if `detect_plugins`):\n   - Check `.claude-plugin/marketplace.json` for plugins `sc-ci-automation`, `sc-git-worktree`, `sc-startup`.\n   - For each, record `installed` (bool) and `version` if present. Optionally confirm `packages/<name>` exists.\n4) Suggest candidates (scan `pm/`, `project(s)/`, and repo root; return multiple if found):\n   - `startup_prompt_candidates`: glob for `pm/**/*prompt*.md`, `pm/**/*startup*.md`, `pm/**/ARCH-*.md`, `project*/**/*prompt*.md`, `project*/**/*startup*.md`, `README*.md` (bounded max 10).\n   - `checklist_candidates`: glob for `pm/**/*checklist*.md`, `project*/**/*checklist*.md`, `**/*checklist*.md` (bounded max 10).\n   - Sort candidates by modification time (most recent first) to prioritize active documents.\n5) Compute `missing_keys` based on required fields (`startup-prompt`, `check-list`) plus optional flags (`worktree-scan`, `pr-enabled`, `worktree-enabled`).\n6) Return fenced JSON with a YAML payload summarizing findings.\n\n## Output Format\nFenced JSON (minimal envelope). `data` contains a YAML string under `yaml` plus structured fields:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"config_found\": true,\n    \"config_path\": \".claude/sc-startup.yaml\",\n    \"config\": { \"startup-prompt\": \"pm/ARCH-SC.md\", \"check-list\": \"pm/checklist.md\" },\n    \"missing_keys\": [\"worktree-scan\"],\n    \"plugins\": {\n      \"sc-ci-automation\": { \"installed\": true, \"version\": \"0.6.0\" },\n      \"sc-git-worktree\": { \"installed\": true, \"version\": \"0.6.0\" },\n      \"sc-startup\": { \"installed\": true, \"version\": \"0.6.0\" }\n    },\n    \"candidates\": {\n      \"startup_prompt\": [\"pm/ARCH-SC.md\", \"pm/startup-prompt.md\", \"README.md\"],\n      \"checklist\": [\"pm/checklist.md\", \"pm/master-checklist.md\"]\n    },\n    \"yaml\": \"startup-prompt: pm/ARCH-SC.md\\ncheck-list: pm/checklist.md\\nworktree-scan: scan\\npr-enabled: true\\nworktree-enabled: true\\n\"\n  },\n  \"error\": null\n}\n```\n\n## Error Handling\n- `VALIDATION.INVALID_REPO`: repo_root missing.\n- `VALIDATION.INVALID_PATH`: config path escapes repo.\n- `VALIDATION.MISSING_CONFIG`: config not found (still success=false; caller can prompt to create).\n- `FORMAT.INVALID_YAML`: config parse error.\n- `SCAN.IO`: file read failure.\n- `DEPENDENCY.MISSING`: only if plugin detection fails due to missing marketplace file.\n\n## Constraints\n- No mutations. Detection-only.\n- Fenced JSON only; do not call AskQuestion or other user-facing tools.\n- Keep globs bounded (e.g., max 10 candidates per category).\n",
        "packages/sc-startup/commands/sc-startup.md": "---\nname: sc-startup\nversion: 0.8.0\ndescription: \"Run the repo startup workflow: load the startup prompt, sync the master checklist, launch optional PR/worktree/CI agents, and return a concise status with next steps.\"\noptions:\n  - name: --pr\n    description: \"Immediately deploy the `ci-pr-agent` with `--list --fix`; render PRs as a table (state \\\"No open PRs\\\" if none). If `--readonly`, run list-only (no fixes).\"\n  - name: --pull\n    description: \"Immediately deploy the `ci-automation` skill in pull-only mode to sync master → develop.\"\n  - name: --init\n    description: \"Run config discovery via `sc-startup-init` (detect existing config, candidates, plugins), then walk user through missing settings with AskQuestion before continuing.\"\n  - name: --fast\n    description: \"Short-circuit: read the startup prompt only, assume the assigned role, and exit (no checklist, no agents, no status report).\"\n  - name: --readonly\n    description: \"Global report-only mode; disable fixes/updates/cleanup. PRs list-only, checklist agent report-only, worktree cleanup becomes scan/report.\"\n  - name: --help\n    description: Show usage and config requirements, then exit.\n---\n\n# /sc-startup command\n\nKick off the Synaptic Canvas project startup routine. Reads repo-specific configuration, launches background agents for PR triage, worktree hygiene, and checklist synchronization, loads the startup prompt and master checklist, waits for sub-agents, then outputs a concise status report with recommended next steps.\n\n## Configuration\n- File (repo-root relative): `.claude/sc-startup.yaml`\n- Keys:\n  - `startup-prompt` (string): Path to the startup prompt file (relative to repo root).\n  - `check-list` (string): Path to the master checklist file (relative to repo root).\n  - `worktree-scan` (string): One of `scan`, `cleanup`, `none`/`\"\"`.\n  - `pr-enabled` (bool, optional): If false, skip PR agent; must be false if PR package is unavailable.\n  - `worktree-enabled` (bool, optional): If false, skip worktree agents; must be false if worktree package is unavailable.\n- Validation: Fail closed with a short error if the config is missing or paths are invalid; enforce repo-root-relative paths only. If a feature is enabled but required packages are missing, fail closed with `DEPENDENCY.MISSING` and a specific message, e.g.:\n  ```json\n  {\n    \"success\": false,\n    \"data\": null,\n    \"error\": {\n      \"code\": \"DEPENDENCY.MISSING\",\n      \"message\": \"Feature 'pr' enabled but required agent 'ci-pr-agent' is not installed\",\n      \"recoverable\": true,\n      \"suggested_action\": \"Install ci-pr-agent or set pr-enabled: false in .claude/sc-startup.yaml\"\n    }\n  }\n  ```\n\n## Execution Flow\n1) `--help`: Print concise usage, flags, and config example; exit without invoking agents.\n2) If `--init`: Agent Runner → `sc-startup-init` (detection only; fenced JSON with YAML payload). Parse results; use AskQuestion to resolve missing/ambiguous settings (prompt path, checklist path, worktree-scan mode, pr-enabled, worktree-enabled). If not `--readonly`, write `.claude/sc-startup.yaml`; otherwise show synthesized YAML only. Then continue with normal flow.\n3) Load `.claude/sc-startup.yaml`; resolve prompt/checklist paths; abort with help if invalid. Validate feature availability against installed packages; fail closed with `DEPENDENCY.MISSING` when enabled packages are absent.\n4) If `--fast`: Read `startup-prompt` only, summarize the role, and exit (skip checklist read, status, and all agents).\n5) If `--pr`: Launch background agent via Agent Runner for `ci-pr-agent`; default `--list --fix`, but `--readonly` forces list-only (no fixes). Capture fenced JSON and render as a table (explicit \"No open PRs\" if empty).\n6) If `worktree-scan` is `scan` or `cleanup`: Launch background `sc-worktree-scan` or `sc-worktree-cleanup` respectively; render results as a table. If `--readonly`, always run scan/report-only; for `cleanup` without `--readonly`, include a `worktrees_cleaned` column.\n7) If `--pull`: Run `ci-automation` in pull-only mode (master → develop handle) and wait for completion before checklist updates to ensure updates reflect merged state. Report status even on failure/timeout.\n8) Always deploy `sc-checklist-status` (inputs: `--update` by default; `--report` for dry runs). Default updates the master checklist when gaps are detected unless `--readonly`, which forces report-only. Return fenced JSON `{success, data, error}` with deltas and any added checklist entries. Checklist changes remain workspace-only (no auto-commit).\n9) Read `startup-prompt` and `check-list` files (post-update if applicable).\n10) Await background agents; aggregate results in deterministic order by `correlation_id`; surface partial failures/timeouts as statuses (best-effort, do not abort).\n11) Output a concise status report:\n   - Prompt summary/role\n   - Checklist sync summary (updated items, remaining gaps)\n   - If checklist sync failed, include the error message verbatim.\n   - PR findings (table) if requested\n   - Worktree scan/cleanup table if configured\n   - CI pull result if `--pull`\n   - If checklist path validation fails (`VALIDATION.INVALID_PATH`), call it out as a warning/issue in the report (include the word \"warning\" or \"issue\").\n   - Recommended next steps\n\n## Agents & Delegation\n- `sc-checklist-status`: Inputs `--report` or `--update`; outputs fenced JSON `{ \"success\": bool, \"data\": { \"synced\": bool, \"added\": [], \"missing\": [], \"notes\": [] }, \"error\": null|object }`. Honor `--readonly` by forcing `--report`. No auto-commit of checklist changes.\n- `ci-pr-agent`: Run with `--list --fix` when `--pr` is set; `--readonly` switches to list-only. Show PR table even if fixes fail (include errors).\n- `sc-worktree-scan` / `sc-worktree-cleanup`: Invoked based on `worktree-scan` value; show table with worktree path/branch/state and cleaned count when applicable; `--readonly` enforces scan/report-only.\n- `ci-automation` (pull-only mode): Launched when `--pull` is set to sync master → develop handle before checklist updates.\n- `sc-startup-init`: Detection-only (config presence, candidates, package detection). Returns fenced JSON with YAML payload; skill uses AskQuestion for any user prompts. No mutations.\n- All invocations go through Agent Runner with registry version enforcement; treat malformed/unfenced JSON as failure and report succinctly.\n\n## Output & UX\n- Default mode is mutating: PR auto-fix and checklist update are enabled unless `--readonly` is provided. `--report` passthrough is available for dry runs. No additional dry-run mode beyond `--readonly` for worktree cleanup.\n- Keep stdout concise; no tool traces. Tables for PRs/worktrees; bullet summaries for checklist and prompt.\n- Use minimal envelope for agent responses; handle `canceled`/timeout cases as partial failures and include them in the report. Aggregate per-task status objects `{agent_id, status: success|failure|timeout|partial, results, error?}` and present best-effort even on failures.\n\n## Examples\n```\n/sc-startup\n/sc-startup --pr\n/sc-startup --pull\n/sc-startup --fast\n/sc-startup --pr --readonly\n/sc-startup --init\n```\n\n## Error Handling\n- Missing config/paths: abort with a short, actionable message showing the expected `.claude/sc-startup.yaml` keys.\n- Agent failure/timeout: continue aggregating other results; mark failure in the final report with suggested next actions.\n- Path safety: refuse absolute paths or locations outside the repo root.\n- Dependencies: if required packages are missing while enabled, fail closed with `DEPENDENCY.MISSING` and surface in the report.\n- Logging: Agent Runner audit logs under `.claude/state/logs/sc-startup/`; prune after ~14 days (script/CI).\n",
        "packages/sc-startup/skills/sc-startup/SKILL.md": "---\nname: sc-startup\nversion: 0.8.0\ndescription: \"Run repo startup: prompt load, checklist sync, optional PR triage, worktree hygiene, and CI pull. Best-effort with structured status.\"\nentry_point: /sc-startup\n---\n\n# sc-startup Skill\n\nThin orchestration for the `/sc-startup` command. Validates config, launches background agents, aggregates statuses, and emits a concise startup report. Delegates all heavy lifting to agents via Agent Runner (registry enforced, audited).\n\n## Command\n- `/sc-startup [--pr] [--pull] [--fast] [--readonly]`\n- `/sc-startup --init` (config discovery and guided setup)\n\n## Agents\n- `ci-pr-agent` (PR list/fix; list-only when `--readonly`)\n- `sc-worktree-scan` / `sc-worktree-cleanup` (worktree hygiene; scan-only when `--readonly`)\n- `ci-automation` (pull-only master → develop; must complete before checklist updates)\n- `sc-checklist-status` (report/update checklist; report-only when `--readonly`; no auto-commit)\n- `sc-startup-init` (detection-only: config presence, candidates, package detection; returns fenced JSON with YAML payload)\n\n## Flow (best-effort)\n1. If `--init`: Agent Runner → `sc-startup-init` (detection-only). Parse results, use AskQuestion to fill missing/ambiguous settings (prompt path, checklist path, worktree-scan, pr-enabled, worktree-enabled). If not `--readonly`, write `.claude/sc-startup.yaml`; otherwise show synthesized YAML. Then continue.\n2. Load `.claude/sc-startup.yaml`; validate required keys and enabled feature dependencies. Fail closed with `DEPENDENCY.MISSING` if enabled package absent.\n3. If `--fast`: read startup prompt only, summarize role, exit (no agents/checklist).\n4. If `--pr` and enabled: Agent Runner → `ci-pr-agent` (`--list --fix`, or list-only when `--readonly`).\n5. If worktree scan/cleanup enabled in config: Agent Runner → `sc-worktree-{scan|cleanup}` (scan/report-only when `--readonly`).\n6. If `--pull`: Agent Runner → `ci-automation` (pull-only master → develop); wait for completion before checklist updates.\n7. Agent Runner → `sc-checklist-status` (default update; report-only when `--readonly`). Checklist changes stay in workspace (no commit).\n8. Read startup prompt + checklist (post-update). Aggregate task statuses in deterministic order; never abort on agent errors/timeouts.\n9. Emit concise report: prompt summary, checklist deltas, PR/worktree/CI outcomes, partial failures, and next steps.\n\nIf `sc-checklist-status` reports `VALIDATION.INVALID_PATH` (path escape), explicitly flag it as a warning/issue in the final report (include the word \"warning\" or \"issue\").\n\n## Config (`.claude/sc-startup.yaml`)\n- `startup-prompt` (string, required)\n- `check-list` (string, required)\n- `worktree-scan` (string: `scan|cleanup|none|\"\"`)\n- `pr-enabled` (bool, optional; must be false if PR package absent)\n- `worktree-enabled` (bool, optional; must be false if worktree package absent)\n\n## Safety\n- Path safety: repo-root-relative only.\n- Default mutating; `--readonly` forces report-only everywhere.\n- No auto-commit of checklist changes.\n- Dependency validation required before launch; fail closed if missing.\n- Logging: Agent Runner audit logs under `.claude/state/logs/sc-startup/`; prune after ~14 days.\n\n## Output Contract\n- Aggregate per-task status objects `{agent_id, status: success|failure|timeout|partial, results, error?}` plus narrative summary.\n- Agents return fenced JSON minimal envelope; treat malformed/unfenced JSON as failure status.\n- Dependency failure format (example):\n  ```json\n  {\n    \"success\": false,\n    \"data\": null,\n    \"error\": {\n      \"code\": \"DEPENDENCY.MISSING\",\n      \"message\": \"Feature 'pr' enabled but required agent 'ci-pr-agent' is not installed\",\n      \"recoverable\": true,\n      \"suggested_action\": \"Install ci-pr-agent or set pr-enabled: false in .claude/sc-startup.yaml\"\n    }\n  }\n  ```\n"
      },
      "plugins": [
        {
          "name": "sc-delay-tasks",
          "source": "./packages/sc-delay-tasks",
          "description": "Schedule delayed one-shot or bounded polling actions with minimal heartbeats. Useful for waiting before running checks (e.g., CI status) or polling with stop-on-success.\n",
          "version": "0.8.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-delay-tasks@synaptic-canvas"
          ]
        },
        {
          "name": "sc-git-worktree",
          "source": "./packages/sc-git-worktree",
          "description": "Manage git worktrees with optional tracking and protected branch safeguards: create, scan, cleanup, abort, and update worktrees using a standard sibling folder layout with tracking documents. Prevents accidental deletion of protected branches.\n",
          "version": "0.8.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-git-worktree@synaptic-canvas"
          ]
        },
        {
          "name": "sc-manage",
          "source": "./packages/sc-manage",
          "description": "Manage Synaptic Canvas Claude packages. List available packages and their install status (local/global), and install or uninstall packages according to policy.\n",
          "version": "0.8.0",
          "author": {
            "name": "synaptic-canvas",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-manage@synaptic-canvas"
          ]
        },
        {
          "name": "sc-repomix-nuget",
          "source": "./packages/sc-repomix-nuget",
          "description": "Generate AI-optimized NuGet package context using Repomix with NuGet metadata (dependencies, dependents, namespaces, frameworks). Produces a compressed API surface.\n",
          "version": "0.8.0",
          "author": {
            "name": "synaptic-canvas",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-repomix-nuget@synaptic-canvas"
          ]
        },
        {
          "name": "sc-github-issue",
          "source": "./packages/sc-github-issue",
          "description": "GitHub issue lifecycle management with worktree isolation: list, create, update, and fix issues with automated workflows including PR creation. Integrates with sc-git-worktree for safe isolation.\n",
          "version": "0.8.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-github-issue@synaptic-canvas"
          ]
        },
        {
          "name": "sc-startup",
          "source": "./packages/sc-startup",
          "description": "Startup runner for Synaptic Canvas: read startup prompt, sync master checklist, optional PR triage, worktree hygiene, and CI pull, then emit a concise status with next steps. Supports read-only mode.\n",
          "version": "0.8.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-startup@synaptic-canvas"
          ]
        },
        {
          "name": "sc-ci-automation",
          "source": "./packages/sc-ci-automation",
          "description": "Run CI quality gates (pull → build → test) with optional auto-fix and PR creation. Coordinates pull from upstream, builds projects, runs tests, applies straightforward fixes, and creates PRs when all quality gates pass. Supports version bumping with --patch flag.\n",
          "version": "0.8.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-ci-automation@synaptic-canvas"
          ]
        },
        {
          "name": "sc-roslyn-diff",
          "source": "./packages/sc-roslyn-diff",
          "description": "Semantic diffing for .NET source using roslyn-diff with JSON-first outputs, HTML reports, and git/PR-aware comparisons.\n",
          "version": "0.8.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-roslyn-diff@synaptic-canvas"
          ]
        },
        {
          "name": "sc-kanban",
          "source": "./packages/sc-kanban",
          "description": "Kanban state machine for Synaptic Canvas: backlog → board → done with gate validation, scrubbing, and shared board config (v0.7).\n",
          "version": "0.8.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-kanban@synaptic-canvas"
          ]
        },
        {
          "name": "sc-codex",
          "source": "./packages/sc-codex",
          "description": "Run Codex agents via a Task Tool-compatible runner, with hooks emulation and background execution support.\n",
          "version": "0.8.0",
          "author": {
            "name": "synaptic-canvas",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-codex@synaptic-canvas"
          ]
        },
        {
          "name": "sc-commit-push-pr",
          "source": "./packages/sc-commit-push-pr",
          "description": "Commit, push, and create PRs for GitHub and Azure DevOps",
          "version": "0.1.0",
          "author": {
            "name": "randlee",
            "email": "[email protected]"
          },
          "license": "MIT",
          "keywords": [],
          "category": "tools",
          "categories": [
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add randlee/synaptic-canvas",
            "/plugin install sc-commit-push-pr@synaptic-canvas"
          ]
        }
      ]
    }
  ]
}