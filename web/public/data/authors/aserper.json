{
  "author": {
    "id": "aserper",
    "display_name": "Amit Serper",
    "avatar_url": "https://avatars.githubusercontent.com/u/10963324?u=9b6d9248900913c7cd980573084a6c526b0fd848&v=4"
  },
  "marketplaces": [
    {
      "name": "rtfd-marketplace",
      "version": null,
      "description": "MCP server for real-time library documentation access across multiple package ecosystems (PyPI, npm, crates.io, GoDocs, DockerHub, GitHub, GCP, and more).",
      "repo_full_name": "aserper/RTFD",
      "repo_url": "https://github.com/aserper/RTFD",
      "repo_description": "Spoonfeed your AI coding assistant with up to date documentation efficiently and without using a cloud service with the RTFD mcp server that runs on YOUR machine without any API key requirements!",
      "signals": {
        "stars": 13,
        "forks": 3,
        "pushed_at": "2026-01-26T23:59:36Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"rtfd-marketplace\",\n  \"owner\": {\n    \"name\": \"Amit Serper\",\n    \"email\": \"aserper+noreply@github.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"rtfd-mcp\",\n      \"source\": \"./.claude-plugin\",\n      \"description\": \"MCP server for real-time library documentation access across multiple package ecosystems (PyPI, npm, crates.io, GoDocs, DockerHub, GitHub, GCP, and more).\",\n      \"version\": \"1.2.2\",\n      \"author\": {\n        \"name\": \"Amit Serper\",\n        \"email\": \"aserper+noreply@github.com\"\n      },\n      \"license\": \"MIT\",\n      \"homepage\": \"https://github.com/aserper/RTFD\",\n      \"keywords\": [\n        \"mcp\",\n        \"documentation\",\n        \"pypi\",\n        \"npm\",\n        \"crates\",\n        \"godocs\",\n        \"docker\",\n        \"github\",\n        \"gcp\"\n      ],\n      \"category\": \"documentation\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"rtfd-mcp\",\n  \"version\": \"1.2.2\",\n  \"description\": \"MCP server for real-time library documentation access across multiple package ecosystems (PyPI, npm, crates.io, GoDocs, DockerHub, GitHub, GCP, and more).\",\n  \"author\": {\n    \"name\": \"Amit Serper\",\n    \"email\": \"aserper+noreply@github.com\"\n  },\n  \"license\": \"MIT\",\n  \"homepage\": \"https://github.com/aserper/RTFD\",\n  \"repository\": \"https://github.com/aserper/RTFD.git\",\n  \"keywords\": [\n    \"mcp\",\n    \"documentation\",\n    \"pypi\",\n    \"npm\",\n    \"crates\",\n    \"godocs\",\n    \"docker\",\n    \"github\",\n    \"gcp\"\n  ]\n}\n",
        "README.md": "# ![RTFD Logo](logo.png) RTFD (Read The F*****g Docs) MCP Server\n\n[![Tests](https://img.shields.io/github/actions/workflow/status/aserper/rtfd/test.yml?style=for-the-badge&logo=github&label=Tests)](https://github.com/aserper/rtfd/actions/workflows/test.yml)\n[![GHCR](https://img.shields.io/badge/ghcr.io-rtfd-blue?style=for-the-badge&logo=docker&logoColor=white)](https://github.com/aserper/rtfd/pkgs/container/rtfd)\n[![PyPI](https://img.shields.io/pypi/v/rtfd-mcp.svg?style=for-the-badge&logo=pypi&logoColor=white)](https://pypi.org/project/rtfd-mcp/)\n[![Supported Python versions](https://img.shields.io/badge/python-3.10%20%7C%203.11%20%7C%203.12%20%7C%203.13-blue.svg?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/downloads/)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](LICENSE)\n\n[![GitHub stars](https://img.shields.io/github/stars/aserper/rtfd.svg?style=social)](https://github.com/aserper/rtfd)\n[![GitHub forks](https://img.shields.io/github/forks/aserper/rtfd.svg?style=social)](https://github.com/aserper/rtfd/fork)\n\nThe RTFD (Read The F*****g Docs) MCP Server acts as a bridge between Large Language Models (LLMs) and real-time documentation. It allows coding agents to query package repositories like PyPI, npm, crates.io, GoDocs, DockerHub, GitHub, and Google Cloud Platform (GCP) to retrieve the most up-to-date documentation and context.\n\nThis server solves a common problem where LLMs hallucinate APIs or provide outdated code examples because their training data is months or years old. By giving agents access to the actual documentation, RTFD ensures that generated code is accurate and follows current best practices.\n\n## ⚠️ Security Warning\n\n> **Security Warning**: This MCP server grants agents access to unverified code and content from external sources (GitHub, PyPI, etc.). This introduces significant risks, including **indirect prompt injection** and the potential for malicious code execution, particularly when operating in autonomous or \"YOLO\" modes. **Use at your own risk.** The maintainers assume no responsibility for any damage or security compromises resulting from the use of this tool.\n>\n> You can mitigate these risks by configuring specific environment variables to restrict functionality. For example, setting `RTFD_FETCH=false` disables all content fetching tools (allowing only metadata lookups), and `VERIFIED_BY_PYPI=true` restricts Python package documentation to only PyPI-verified sources. See the [Configuration](#configuration) section for more details.\n\n## Why use RTFD?\n\n*   **Accuracy:** Agents can access the latest documentation for libraries, ensuring they use the correct version-specific APIs and avoid deprecated methods.\n*   **Context Awareness:** Instead of just getting a raw text dump, the server extracts key sections like installation instructions, quickstart guides, and API references, giving the agent exactly what it needs.\n*   **Privacy:** Unlike cloud-based documentation services, RTFD runs entirely on your local machine. Your queries are sent DIRECTLY to the source (no servers in the middle, no API keys needed, etc) and the documentation you access never leave your system, ensuring complete privacy and no data collection.\n*   **Supported Sources:** PyPI (Python), npm (JavaScript/TypeScript), crates.io (Rust), GoDocs (Go), Zig docs, DockerHub, GitHub Container Registry (GHCR), GitHub repositories, and Google Cloud Platform (GCP).\n\n## Use Cases\n\nRTFD helps in scenarios like:\n\n- **Refactoring old code**: Fetch current `pandas` docs to find deprecated methods and their replacements. Instead of guessing what changed, the LLM reads the actual upgrade guide.\n\n- **Unfamiliar libraries**: Integrating a Rust crate you've never seen? Look up the exact version, feature flags, and examples directly from the docs instead of guessing the API from general patterns.\n\n- **Libraries after training cutoff**: Using a library released after the LLM's training data ends? Fetch the actual README and code examples from GitHub so the LLM can write correct usage instead of hallucinating APIs.\n\n- **Docker optimization**: When optimizing a Dockerfile, inspect the official `python:3.11-slim` image to see exactly what packages and OS layers are included, rather than making assumptions.\n\n- **Dependency audits**: Check PyPI, npm, and crates.io for available updates across all your dependencies. The LLM sees the latest versions and can generate an audit report without manually visiting each registry.\n\n![Dependency audit example](Antigravity.png)\n\n## Features\n\n*   **Documentation Content Fetching:** Retrieve actual documentation content (README and key sections) from PyPI, npm, and GitHub rather than just URLs.\n*   **Smart Section Extraction:** Automatically prioritizes and extracts relevant sections such as \"Installation\", \"Usage\", and \"API Reference\" to reduce noise.\n*   **Format Conversion:** Automatically converts reStructuredText and HTML to Markdown for consistent formatting and easier consumption by LLMs.\n*   **Multi-Source Search:** Aggregates results from PyPI, npm, crates.io, GoDocs, Zig docs, DockerHub, GHCR, GitHub, and GCP.\n*   **GitHub Repository Browsing:** Browse repository file trees (`list_repo_contents`, `get_repo_tree`) and read source code files (`get_file_content`) directly.\n*   **GitHub Packages (GHCR):** List packages and get versions for any GitHub user or organization to find the right image tag.\n*   **PyPI Verification:** Optional security feature (`VERIFIED_BY_PYPI`) to ensure packages are verified by PyPI before fetching documentation.\n*   **Smart GCP Search:** Hybrid search approach combining local service mapping with `cloud.google.com` search to find documentation for any Google Cloud service.\n*   **Pluggable Architecture:** Easily add new documentation providers by creating a single provider module.\n*   **Error Resilience:** Failures in one provider do not crash the server; the system is designed to degrade gracefully.\n\n## Installation\n\n### Claude Code Plugin (For Claude Code Users)\n\nInstall RTFD as a Claude Code plugin in two steps:\n\n```bash\n# Step 1: Add the RTFD marketplace\nclaude plugin marketplace add aserper/RTFD\n\n# Step 2: Install the plugin\nclaude plugin install rtfd-mcp@rtfd-marketplace\n```\n\nFor detailed configuration options and installation alternatives, see [PLUGIN.md](PLUGIN.md).\n\n### From PyPI (Recommended)\n\n```bash\npip install rtfd-mcp\n```\n\nOr with `uv`:\n```bash\nuv pip install rtfd-mcp\n```\n\n### From source\n\nClone the repository and install:\n```bash\ngit clone https://github.com/aserper/RTFD.git\ncd RTFD\nuv sync --extra dev\n```\n\n### Docker (GHCR)\n\nYou can run RTFD directly from the GitHub Container Registry without installing Python or dependencies locally.\n\n```bash\ndocker run -i --rm \\\n  -e GITHUB_AUTH=token \\\n  -e GITHUB_TOKEN=your_token_here \\\n  ghcr.io/aserper/rtfd:latest\n```\n\n**Available Tags:**\n*   `:latest` - Stable release (updates on new releases)\n*   `:edge` - Development build (updates on push to main)\n*   `:vX.X.X` - Specific version tags\n\n\n## Quickstart\n\nRTFD is an MCP server that needs to be configured in your AI agent of choice.\n\n### 1. Install RTFD\n```bash\npip install rtfd-mcp\n# or with uv:\nuv pip install rtfd-mcp\n```\n\n### 2. Configure your Agent\n\n#### Claude Code\n\n**Simplest Method (Recommended):** Use Claude Code plugin marketplace:\n```bash\n# Step 1: Add the RTFD marketplace\nclaude plugin marketplace add aserper/RTFD\n\n# Step 2: Install the plugin\nclaude plugin install rtfd-mcp@rtfd-marketplace\n```\n\n**Alternative Methods:**\n\nManually add RTFD as an MCP server using the following command to automatically add it to your configuration:\n```bash\n# Using GITHUB_TOKEN for authentication (default)\nclaude mcp add rtfd -- command=\"rtfd\" --env GITHUB_AUTH=token --env GITHUB_TOKEN=your_token_here --env RTFD_FETCH=true\n\n# Or using GitHub CLI for authentication\nclaude mcp add rtfd -- command=\"rtfd\" --env GITHUB_AUTH=cli --env RTFD_FETCH=true\n\n# Or using both methods with fallback\nclaude mcp add rtfd -- command=\"rtfd\" --env GITHUB_AUTH=auto --env GITHUB_TOKEN=your_token_here --env RTFD_FETCH=true\n\n# Or using Docker\nclaude mcp add rtfd -- type=docker -- image=ghcr.io/aserper/rtfd:latest --env GITHUB_AUTH=token --env GITHUB_TOKEN=your_token_here\n```\n\nOr manually edit `~/.claude.json`:\n```json\n{\n  \"mcpServers\": {\n    \"rtfd\": {\n      \"command\": \"rtfd\",\n      \"env\": {\n        \"GITHUB_AUTH\": \"token\", // Options: \"token\", \"cli\", \"auto\", or \"disabled\"\n        \"GITHUB_TOKEN\": \"your_token_here\",\n        \"RTFD_FETCH\": \"true\"\n      }\n    }\n  }\n}\n```\n\n#### Cursor\n1. Go to **Settings** > **Cursor Settings** > **MCP Servers**\n2. Click **\"Add new MCP server\"**\n3. Name: `rtfd`\n4. Type: `stdio`\n5. Command: `rtfd`\n6. Add Environment Variable: `GITHUB_AUTH` = `token` (Options: `token`, `cli`, `auto`, `disabled`)\n7. Add Environment Variable: `GITHUB_TOKEN` = `your_token_here`\n8. Add Environment Variable: `RTFD_FETCH` = `true`\n\nOr manually edit `~/.cursor/mcp.json`:\n```json\n{\n  \"mcpServers\": {\n    \"rtfd\": {\n      \"command\": \"rtfd\",\n      \"env\": {\n        \"GITHUB_AUTH\": \"token\", // Options: \"token\", \"cli\", \"auto\", or \"disabled\"\n        \"GITHUB_TOKEN\": \"your_token_here\",\n        \"RTFD_FETCH\": \"true\"\n      }\n    }\n  }\n}\n```\n\n#### Windsurf\n1. Open **Settings** > **Advanced Settings** > **Model Context Protocol**\n2. Edit `~/.codeium/windsurf/mcp_config.json`:\n```json\n{\n  \"mcpServers\": {\n    \"rtfd\": {\n      \"command\": \"rtfd\",\n      \"env\": {\n        \"GITHUB_AUTH\": \"token\", // Options: \"token\", \"cli\", \"auto\", or \"disabled\"\n        \"GITHUB_TOKEN\": \"your_token_here\",\n        \"RTFD_FETCH\": \"true\"\n      }\n    }\n  }\n}\n```\n\n#### Gemini CLI\nEdit `~/.gemini/settings.json`:\n```json\n{\n  \"mcpServers\": {\n    \"rtfd\": {\n      \"command\": \"rtfd\",\n      \"env\": {\n        \"GITHUB_AUTH\": \"token\", // Options: \"token\", \"cli\", \"auto\", or \"disabled\"\n        \"GITHUB_TOKEN\": \"your_token_here\",\n        \"RTFD_FETCH\": \"true\"\n      }\n    }\n  }\n}\n```\n\n#### Codex\nEdit `~/.codex/config.toml`:\n```toml\n[mcpServers.rtfd]\ncommand = \"rtfd\"\n[mcpServers.rtfd.env]\nGITHUB_AUTH = \"token\" # Options: \"token\", \"cli\", \"auto\", or \"disabled\"\nGITHUB_TOKEN = \"your_token_here\"\nRTFD_FETCH = \"true\"\n```\n\n### 3. Verify\nAsk your agent: *\"What tools do you have available?\"* or *\"Search for documentation on pandas\"*.\n\n### Testing with MCP Inspector\n\nThe MCP Inspector tool allows you to test the RTFD MCP server directly without requiring an IDE or agent integration. This is useful for development and debugging.\n\n#### Installation\n\n```bash\n# Install the MCP Inspector tool globally\nnpm install -g @modelcontextprotocol/inspector\n```\n\n#### Usage\n\n```bash\n# Run RTFD with the MCP Inspector\nnpx @modelcontextprotocol/inspector rtfd\n\n# If you need to pass environment variables\nnpx @modelcontextprotocol/inspector rtfd -e GITHUB_AUTH=auto\n```\n\nThe Inspector tool will open an interactive terminal where you can directly call the RTFD tools and see their responses.\n\n## Configuration\n\nRTFD can be configured using the following environment variables:\n\n| Variable | Default | Description |\n| :--- | :--- | :--- |\n| `GITHUB_AUTH` | `token` | GitHub authentication method: `token` (use GITHUB_TOKEN only), `cli` (use gh CLI auth only), `auto` (try GITHUB_TOKEN, then gh CLI), or `disabled` (no GitHub access). |\n| `GITHUB_TOKEN` | `None` | GitHub API token. Highly recommended to increase rate limits (60 -> 5000 requests/hour). |\n| `RTFD_FETCH` | `true` | Enable/disable content fetching tools. Set to `false` to only allow metadata lookups. |\n| `RTFD_CACHE_ENABLED` | `true` | Enable/disable caching. Set to `false` to disable. |\n| `RTFD_CACHE_TTL` | `604800` | Cache time-to-live in seconds (default: 1 week). |\n| `RTFD_TRACK_TOKENS` | `false` | Enable/disable token usage statistics in tool response metadata. |\n| `RTFD_CHUNK_TOKENS` | `2000` | Maximum tokens per response chunk. Set to `0` to disable chunking. Prevents context overflow from large documentation. |\n| `VERIFIED_BY_PYPI` | `false` | If `true`, only allows fetching documentation for packages verified by PyPI. |\n\n## Token Optimization with Deferred Loading\n\nRTFD provides 33 tools across multiple providers. By default, all tool descriptions are loaded into context, consuming ~10-15K tokens. You can reduce this to ~2-3K tokens (~80-85% reduction) using the `defer_loading` feature.\n\n### How It Works\n\n`defer_loading` is a **client-side configuration** that marks tools as discoverable but not initially loaded. When an LLM needs a deferred tool, it's loaded on-demand. RTFD provides tier classifications and a config generator to help you configure this.\n\n### Tool Tier Classification\n\n| Tier | Defer | Category | Tools |\n|------|-------|----------|-------|\n| **1** | No | Core | `search_library_docs`, `github_repo_search` |\n| **2** | Yes | Frequent | `pypi_metadata`, `npm_metadata`, `github_code_search`, `search_docker_images` |\n| **3** | Yes | Regular | `fetch_pypi_docs`, `fetch_npm_docs`, `fetch_github_readme`, `list_repo_contents`, `get_file_content`, `get_repo_tree`, `docker_image_metadata`, `fetch_docker_image_docs`, `search_crates`, `crates_metadata` |\n| **4** | Yes | Situational | `get_commit_diff`, `fetch_dockerfile`, `search_gcp_services`, `fetch_gcp_service_docs`, `godocs_metadata`, `fetch_godocs_docs` |\n| **5** | Yes | Niche | `list_github_packages`, `get_package_versions`, `zig_docs` |\n| **6** | Yes | Admin | `get_cache_info`, `get_cache_entries`, `get_next_chunk` |\n\n**Result**: 2 tools always loaded, 31 tools deferred (~93% token reduction)\n\n### Config Generator CLI\n\nRTFD includes a CLI tool to generate optimized configurations:\n\n```bash\n# Generate Claude Desktop configuration\nrtfd-config --format claude-desktop\n\n# Generate with custom defer tiers (e.g., only defer tiers 4-6)\nrtfd-config --format claude-desktop --defer-tiers 4,5,6\n\n# View tier summary\nrtfd-config --format summary\n\n# List all tools with tier info\nrtfd-config --format tools\n```\n\n### Sample Claude Desktop Configuration\n\n```json\n{\n  \"mcpServers\": {\n    \"rtfd\": {\n      \"command\": \"uvx\",\n      \"args\": [\"rtfd-mcp\"],\n      \"type\": \"mcp_toolset\",\n      \"default_config\": {\"defer_loading\": true},\n      \"configs\": {\n        \"search_library_docs\": {\"defer_loading\": false},\n        \"github_repo_search\": {\"defer_loading\": false}\n      }\n    }\n  }\n}\n```\n\nThis configuration keeps the two most essential tools always loaded while deferring everything else.\n\n### Programmatic Access\n\nYou can access tier information programmatically:\n\n```python\nfrom RTFD.config_generator import (\n    get_all_tools_with_tiers,\n    get_tools_by_tier,\n    generate_claude_desktop_config,\n)\n\n# Get all tools with their tier info\ntools = get_all_tools_with_tiers()\nprint(tools[\"search_library_docs\"])  # {'tier': 1, 'defer_recommended': False, 'category': 'search'}\n\n# Get tools organized by tier\nby_tier = get_tools_by_tier()\nprint(by_tier[1])  # ['github_repo_search', 'search_library_docs']\n\n# Generate config programmatically\nconfig = generate_claude_desktop_config(defer_tiers=[3, 4, 5, 6])\n```\n\n## Releases & Versioning\n\nFor maintainers, see [CONTRIBUTING.md](CONTRIBUTING.md) for the automated release process.\n\n## Available Tools\n\nAll tool responses are returned in JSON format.\n\n### Aggregator\n*   `search_library_docs(library, limit=5)`: Combined lookup across all providers (PyPI, npm, crates.io, GoDocs, GCP, GitHub). Note: Zig and DockerHub are accessed via dedicated tools.\n\n### Cache Management\n*   `get_cache_info()`: Get cache statistics including entry count, database size, and location.\n*   `get_cache_entries()`: Get detailed information about all cached items including age, size, and content preview.\n\n### Documentation Content Fetching\n*   `fetch_pypi_docs(package, max_bytes=20480)`: Fetch Python package documentation from PyPI.\n*   `fetch_npm_docs(package, max_bytes=20480)`: Fetch npm package documentation.\n*   `fetch_godocs_docs(package, max_bytes=20480)`: Fetch Go package documentation from godocs.io (e.g., 'github.com/gorilla/mux').\n*   `fetch_gcp_service_docs(service, max_bytes=20480)`: Fetch Google Cloud Platform service documentation from docs.cloud.google.com (e.g., \"storage\", \"compute\", \"bigquery\").\n*   `fetch_github_readme(repo, max_bytes=20480)`: Fetch README from a GitHub repository (format: \"owner/repo\").\n*   `fetch_docker_image_docs(image, max_bytes=20480)`: Fetch Docker image documentation and description from DockerHub (e.g., \"nginx\", \"postgres\", \"user/image\").\n*   `fetch_dockerfile(image)`: Fetch the Dockerfile for a Docker image by parsing its description for GitHub links (best-effort).\n\n### Metadata Providers\n*   `pypi_metadata(package)`: Fetch Python package metadata.\n*   `npm_metadata(package)`: Fetch JavaScript package metadata.\n*   `crates_metadata(crate)`: Get Rust crate metadata.\n*   `search_crates(query, limit=5)`: Search Rust crates.\n*   `godocs_metadata(package)`: Retrieve Go package documentation.\n*   `search_gcp_services(query, limit=5)`: Search Google Cloud Platform services by name or keyword (e.g., \"storage\", \"compute\", \"bigquery\").\n*   `zig_docs(query)`: Search Zig documentation.\n*   `docker_image_metadata(image)`: Get DockerHub Docker image metadata (stars, pulls, description, etc.).\n*   `search_docker_images(query, limit=5)`: Search for Docker images on DockerHub.\n*   `github_repo_search(query, limit=5, language=\"Python\")`: Search GitHub repositories.\n*   `github_code_search(query, repo=None, limit=5)`: Search code on GitHub.\n*   `list_github_packages(owner, package_type=\"container\")`: List GitHub packages for a user or organization.\n*   `get_package_versions(owner, package_type, package_name)`: Get versions for a specific GitHub package.\n*   `list_repo_contents(repo, path=\"\")`: List contents of a directory in a GitHub repository (format: \"owner/repo\").\n*   `get_file_content(repo, path, max_bytes=102400)`: Get content of a specific file from a GitHub repository.\n*   `get_repo_tree(repo, recursive=False, max_items=1000)`: Get the complete file tree of a GitHub repository.\n*   `get_commit_diff(repo, base, head)`: Get the diff between two commits, branches, or tags.\n\n## Provider-Specific Notes\n\n### GCP (Google Cloud Platform)\n*   **Service Discovery:** Uses a local service mapping (20+ common services), direct search on `cloud.google.com` (for general queries), and GitHub API search of the googleapis/googleapis repository.\n*   **Documentation Source:** Fetches documentation by scraping docs.cloud.google.com and converting to Markdown.\n*   **GitHub Authentication:** Configure using `GITHUB_AUTH` environment variable. Options are `token` (default), `cli`, `auto`, or `disabled`.\n*   **GitHub Token:** Optional but recommended. Without a `GITHUB_TOKEN`, GitHub API search is limited to 60 requests/hour. With a token, the limit increases to 5,000 requests/hour.\n*   **Supported Services:** Cloud Storage, Compute Engine, BigQuery, Cloud Functions, Cloud Run, Pub/Sub, Firestore, GKE, App Engine, Cloud Vision, Cloud Speech, IAM, Secret Manager, and more.\n*   **Service Name Formats:** Accepts various formats (e.g., \"storage\", \"cloud storage\", \"Cloud Storage\", \"kubernetes\", \"k8s\" for GKE).\n\n### Other Providers\n*   **Token Counting:** Disabled by default. Set `RTFD_TRACK_TOKENS=true` to see token stats in Claude Code logs.\n*   **Rate Limiting:** The crates.io provider respects the 1 request/second limit.\n*   **Dependencies:** `mcp`, `httpx`, `beautifulsoup4`, `markdownify`, `docutils`, `tiktoken`.\n\n## Architecture\n\n*   **Entry point:** `src/RTFD/server.py` contains the main search orchestration tool. Provider-specific tools are in `src/RTFD/providers/`.\n*   **Framework:** Uses `mcp.server.fastmcp.FastMCP` to declare tools and run the server over stdio.\n*   **HTTP layer:** `httpx.AsyncClient` with a shared `_http_client()` factory that applies timeouts, redirects, and user-agent headers.\n*   **Data model:** Responses are plain dicts for easy serialization over MCP.\n*   **Serialization:** Tool responses use `serialize_response_with_meta()` from `utils.py`.\n*   **Token counting:** Optional token statistics in the `meta` field (disabled by default). Enable with `RTFD_TRACK_TOKENS=true`.\n\n## Serialization and Token Counting\n\nTool responses are handled by `serialize_response_with_meta()` in `utils.py`:\n\n*   **Token statistics:** When `RTFD_TRACK_TOKENS=true`, the response includes a `_meta` field with token counts (`tokens_json`, `tokens_sent`, `bytes_json`).\n*   **Token counting:** Uses `tiktoken` library with `cl100k_base` encoding (compatible with Claude models).\n*   **Zero-cost metadata:** Token statistics appear in the `_meta` field of `CallToolResult`, which is visible in Claude Code's special metadata logs but NOT sent to the LLM, costing 0 tokens.\n\n## Token-Efficient Tool Descriptions\n\nRTFD uses a compact, structured format for MCP tool descriptions to minimize token consumption while preserving semantic clarity. With 29 tools exposed to LLMs, verbose descriptions would consume ~6,000+ tokens per context load. The optimized format reduces this to ~1,500 tokens—a **75% reduction**.\n\n### Design Principles\n\n1. **Terse summaries** - One-line description of what the tool does\n2. **Structured metadata** - `When:`, `Args:`, `Ex:` format for easy parsing\n3. **Inline examples** - Compact parameter examples with actual values\n4. **Cross-references** - `See also:` for related tools instead of verbose explanations\n5. **No redundancy** - Avoid describing response format (LLMs see the actual response)\n\n### Example Format\n\n```python\n\"\"\"\n{One-line summary}. For related usage, see other_tool.\n\nWhen: {brief condition}\nArgs: param=\"example_value\", param2=default_value\nEx: tool_name(\"arg\") → brief result description\n\"\"\"\n```\n\nThis format provides LLMs with exactly the information needed to:\n- **Understand** when to use the tool\n- **Call** the tool with correct parameters\n- **Interpret** what the response represents\n\nFor guidelines on writing tool descriptions, see [Tool Description Guidelines in CONTRIBUTING.md](CONTRIBUTING.md#writing-tool-descriptions).\n\n## Extensibility & Development\n\n### Adding Providers\nThe RTFD server uses a modular architecture. Providers are located in `src/RTFD/providers/` and implement the `BaseProvider` interface. New providers are automatically discovered and registered upon server restart.\n\nTo add a custom provider:\n1.  Create a new file in `src/RTFD/providers/`.\n2.  Define async functions decorated with `@mcp.tool()`.\n3.  Ensure tools return `CallToolResult` using `serialize_response_with_meta(result_data)`.\n\n### Development Notes\n*   **Dependencies:** Declared in `pyproject.toml` (Python 3.10+).\n*   **Testing:** Use `pytest` to run the test suite.\n*   **Environment:** If you change environment-sensitive settings (e.g., `GITHUB_TOKEN`), restart the `rtfd` process.\n\n"
      },
      "plugins": [
        {
          "name": "rtfd-mcp",
          "source": "./.claude-plugin",
          "description": "MCP server for real-time library documentation access across multiple package ecosystems (PyPI, npm, crates.io, GoDocs, DockerHub, GitHub, GCP, and more).",
          "version": "1.2.2",
          "author": {
            "name": "Amit Serper",
            "email": "aserper+noreply@github.com"
          },
          "license": "MIT",
          "homepage": "https://github.com/aserper/RTFD",
          "keywords": [
            "mcp",
            "documentation",
            "pypi",
            "npm",
            "crates",
            "godocs",
            "docker",
            "github",
            "gcp"
          ],
          "category": "documentation",
          "categories": [
            "crates",
            "docker",
            "documentation",
            "gcp",
            "github",
            "godocs",
            "mcp",
            "npm",
            "pypi"
          ],
          "install_commands": [
            "/plugin marketplace add aserper/RTFD",
            "/plugin install rtfd-mcp@rtfd-marketplace"
          ]
        }
      ]
    }
  ]
}