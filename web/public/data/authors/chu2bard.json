{
  "author": {
    "id": "chu2bard",
    "display_name": "Carson Hubbard",
    "avatar_url": "https://avatars.githubusercontent.com/u/186948656?u=d758c079ca24660d1bd1b523418326ecce47a0c5&v=4"
  },
  "marketplaces": [
    {
      "name": "pinion-os",
      "version": null,
      "description": "Pinion protocol plugins for Claude Code",
      "repo_full_name": "chu2bard/pinion-os",
      "repo_url": "https://github.com/chu2bard/pinion-os",
      "repo_description": "Client SDK, Claude plugin and skill framework for the Pinion protocol. x402 micropayments on Base.",
      "signals": {
        "stars": 383,
        "forks": 23,
        "pushed_at": "2026-02-18T12:09:29Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"pinion-os\",\n  \"owner\": {\n    \"name\": \"chu2bard\"\n  },\n  \"metadata\": {\n    \"description\": \"Pinion protocol plugins for Claude Code\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"pinion-os\",\n      \"description\": \"On-chain AI skills (balance, tx, price, wallet, chat, send, trade, fund) via x402 micropayments on Base\",\n      \"version\": \"0.3.2\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"chu2bard/pinion-os\"\n      },\n      \"author\": { \"name\": \"chu2bard\" },\n      \"homepage\": \"https://github.com/chu2bard/pinion-os\",\n      \"keywords\": [\"x402\", \"mcp\", \"claude\", \"agents\", \"payments\", \"base\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"pinion-os\",\n  \"description\": \"On-chain AI skills via x402 micropayments on Base\",\n  \"version\": \"0.3.2\",\n  \"author\": {\n    \"name\": \"chu2bard\"\n  },\n  \"homepage\": \"https://github.com/chu2bard/pinion-os\",\n  \"repository\": \"https://github.com/chu2bard/pinion-os\",\n  \"mcpServers\": {\n    \"pinion\": {\n      \"command\": \"npx\",\n      \"args\": [\"pinion-os\"],\n      \"env\": {\n        \"PINION_PRIVATE_KEY\": \"\"\n      }\n    }\n  }\n}\n",
        "README.md": "<p align=\"center\">\n  <img src=\"assets/banner.png\" alt=\"Pinion OS\" width=\"100%\" />\n</p>\n\n# pinion-os\n\nClient SDK, Claude Code plugin, and skill server framework for [Pinion](https://pinionos.com). Handles x402 micropayments on Base so your code (or your agent) can call on-chain skills without thinking about payments.\n\n## Architecture\n\n```\n                        +------------------------+\n                        |   Your App / Agent /   |\n                        |     Claude Code        |\n                        +-----------+------------+\n                                    |\n                     +--------------+--------------+\n                     |        pinion-os SDK        |\n                     |   x402 signing & payments   |\n                     +--------------+--------------+\n                                    |\n                     +--------------+--------------+\n                     |   pinionos.com  /  custom   |\n                     |      x402 skill server      |\n                     +--------------+--------------+\n                                    |\n                        +-----------+------------+\n                        |     Base L2 Network     |\n                        |    USDC  settlement     |\n                        +------------------------+\n```\n\nThree layers: your code talks to the SDK, the SDK handles x402 payment signing,\nthe skill server verifies payment through a facilitator and returns data.\n\n## x402 Payment Flow\n\n```\n  Client                    Skill Server                 Facilitator\n    |                             |                           |\n    |--- GET /price/ETH --------->|                           |\n    |<-- 402 + pay requirements --|                           |\n    |                             |                           |\n    |  [sign EIP-3009 auth]       |                           |\n    |                             |                           |\n    |--- GET /price/ETH --------->|                           |\n    |    X-PAYMENT: <signed>      |--- verify + settle ------>|\n    |                             |<-- ok --------------------|\n    |<-- 200 { price: 2650 } -----|                           |\n```\n\nThe SDK handles steps 2-4 automatically. You just call a method and get data back.\n\n## Quickstart\n\n```bash\n# 1. install\nnpm install pinion-os\n\n# 2. set your wallet key (needs ETH for gas, USDC for payments on Base)\nexport PINION_PRIVATE_KEY=0xYOUR_PRIVATE_KEY\n\n# 3. use in code\nnode -e \"\n  import('pinion-os').then(async ({ PinionClient }) => {\n    const p = new PinionClient({ privateKey: process.env.PINION_PRIVATE_KEY });\n    console.log(await p.skills.price('ETH'));\n  })\n\"\n\n# 4. or run as MCP plugin for Claude\nnpx pinion-os\n\n# 5. or build your own skill server\nnpx ts-node examples/custom-skill.ts\n```\n\n## Install\n\n```\nnpm install pinion-os\n```\n\n## SDK Usage\n\n```typescript\nimport { PinionClient } from \"pinion-os\";\n\nconst pinion = new PinionClient({\n  privateKey: process.env.PINION_PRIVATE_KEY,\n});\n\n// check balances\nconst bal = await pinion.skills.balance(\"0x1234...\");\nconsole.log(bal.data);  // { eth: \"1.5\", usdc: \"100.0\" }\n\n// get token price\nconst price = await pinion.skills.price(\"ETH\");\nconsole.log(price.data);  // { token: \"ETH\", usd: \"2650.00\" }\n\n// look up a transaction\nconst tx = await pinion.skills.tx(\"0xabc...\");\nconsole.log(tx.data);  // { from, to, value, ... }\n\n// generate a wallet\nconst w = await pinion.skills.wallet();\nconsole.log(w.data);  // { address, privateKey }\n\n// chat with the agent\nconst chat = await pinion.skills.chat(\"what is x402?\");\nconsole.log(chat.data);  // { response: \"...\" }\n\n// construct a send transaction (sign + broadcast yourself)\nconst send = await pinion.skills.send(\"0xRecipient...\", \"0.1\", \"ETH\");\nconsole.log(send.data);  // { tx: { to, value, data, chainId }, ... }\n\n// swap tokens via 1inch (returns unsigned tx)\nconst trade = await pinion.skills.trade(\"USDC\", \"ETH\", \"10\");\nconsole.log(trade.data);  // { swap: { to, data, value }, approve?: {...} }\n\n// check funding status for a wallet\nconst fund = await pinion.skills.fund(\"0x1234...\");\nconsole.log(fund.data);  // { balances, funding: { steps, ... } }\n```\n\nServer-side skills cost $0.01 USDC on Base via x402. Payment is handled automatically.\n\n### Calling any x402 endpoint\n\nUse `payX402Service` to call any server that supports the x402 protocol:\n\n```typescript\nimport { PinionClient, payX402Service } from \"pinion-os\";\n\nconst pinion = new PinionClient({\n  privateKey: process.env.PINION_PRIVATE_KEY,\n});\n\n// call an external x402 service\nconst result = await payX402Service(pinion.signer, \"https://example.com/api/weather\", {\n  method: \"GET\",\n  maxAmount: \"100000\", // max $0.10 USDC\n});\nconsole.log(result.data);\n```\n\n## MCP Plugin Setup\n\nThe plugin exposes ten tools to any MCP-compatible host: `pinion_balance`,\n`pinion_tx`, `pinion_price`, `pinion_wallet`, `pinion_chat`, `pinion_send`,\n`pinion_trade`, `pinion_fund`, `pinion_pay_service`, `pinion_spend_limit`.\n\n### Claude Desktop\n\nAdd to your config file:\n\n| OS | Path |\n|----|------|\n| macOS | `~/Library/Application Support/Claude/claude_desktop_config.json` |\n| Windows | `%APPDATA%\\Claude\\claude_desktop_config.json` |\n| Linux | `~/.config/Claude/claude_desktop_config.json` |\n\n```json\n{\n  \"mcpServers\": {\n    \"pinion\": {\n      \"command\": \"npx\",\n      \"args\": [\"pinion-os\"],\n      \"env\": {\n        \"PINION_PRIVATE_KEY\": \"0xYOUR_KEY\"\n      }\n    }\n  }\n}\n```\n\nRestart Claude Desktop after saving.\n\n### Claude Code\n\nAdd the marketplace and install:\n\n```\n/plugin marketplace add chu2bard/pinion-os\n/plugin install pinion-os\n```\n\nSet the env var when prompted, or export before launching:\n\n```bash\nexport PINION_PRIVATE_KEY=0xYOUR_KEY\n```\n\nAfter installing, Claude can use all ten pinion tools: balance, tx, price,\nwallet, chat, send, trade, fund, pay_service, spend_limit.\n\nAlternative (MCP-only, without plugin features):\n\n```bash\nclaude mcp add pinion -- npx pinion-os\n```\n\n### Cursor IDE\n\nAdd to `.cursor/mcp.json` in your project root:\n\n```json\n{\n  \"mcpServers\": {\n    \"pinion\": {\n      \"command\": \"npx\",\n      \"args\": [\"pinion-os\"],\n      \"env\": {\n        \"PINION_PRIVATE_KEY\": \"0xYOUR_KEY\"\n      }\n    }\n  }\n}\n```\n\n### Generic MCP Host\n\n```bash\nPINION_PRIVATE_KEY=0xYOUR_KEY npx pinion-os\n```\n\nThe plugin communicates over stdio using the standard MCP protocol.\n\n## Available Skills\n\n### Server-side (x402-paid, $0.01 USDC each)\n\n| Skill | SDK Method | Endpoint | Price | Returns |\n|-------|------------|----------|-------|---------|\n| balance | `skills.balance(addr)` | GET /balance/:address | $0.01 | ETH + USDC balances |\n| tx | `skills.tx(hash)` | GET /tx/:hash | $0.01 | Decoded tx details |\n| price | `skills.price(token)` | GET /price/:token | $0.01 | USD price |\n| wallet | `skills.wallet()` | GET /wallet/generate | $0.01 | New keypair |\n| chat | `skills.chat(msg)` | POST /chat | $0.01 | Agent response |\n| send | `skills.send(to, amt, token)` | POST /send | $0.01 | Unsigned transfer tx |\n| trade | `skills.trade(src, dst, amt)` | POST /trade | $0.01 | Unsigned swap tx (1inch) |\n| fund | `skills.fund(addr)` | GET /fund/:address | $0.01 | Balance + deposit info |\n\n### Client-side (SDK/MCP plugin only)\n\n| Skill | SDK / MCP Tool | Description |\n|-------|---------------|-------------|\n| pay-for-service | `payX402Service(wallet, url)` / `pinion_pay_service` | Call any x402 endpoint on the internet |\n| spend-limit | `pinion_spend_limit` (MCP only) | Per-session USDC budget tracking |\n\n## Build Your Own Skills\n\nUse the server framework to create x402-paywalled endpoints:\n\n```typescript\nimport { createSkillServer, skill } from \"pinion-os/server\";\n\nconst server = createSkillServer({\n  payTo: \"0xYOUR_WALLET\",\n  network: \"base\",\n});\n\nserver.add(skill(\"analyze\", {\n  price: \"$0.02\",\n  endpoint: \"/analyze/:address\",\n  handler: async (req, res) => {\n    const data = await analyzeAddress(req.params.address);\n    res.json(data);\n  },\n}));\n\nserver.add(skill(\"score\", {\n  price: \"$0.05\",\n  endpoint: \"/score/:address\",\n  handler: async (req, res) => {\n    const score = await getScore(req.params.address);\n    res.json({ score });\n  },\n}));\n\nserver.listen(4020);\n// -> http://localhost:4020/analyze/0x... (x402 paywalled)\n// -> http://localhost:4020/score/0x...  (x402 paywalled)\n```\n\nThe server automatically:\n- Returns 402 with payment requirements for unauthenticated requests\n- Verifies x402 payment signatures via the facilitator\n- Settles USDC on Base to your wallet\n\n## Configuration\n\n| Variable | Required | Default | Description |\n|----------|----------|---------|-------------|\n| `PINION_PRIVATE_KEY` | yes | -- | Hex private key (0x...) with USDC on Base |\n| `PINION_API_URL` | no | `https://pinionos.com/skill` | Override the skill API endpoint |\n| `PINION_NETWORK` | no | `base` | Network: `base` or `base-sepolia` |\n| `ADDRESS` | server only | -- | Wallet address to receive payments |\n| `FACILITATOR_URL` | server only | `https://facilitator.payai.network` | x402 facilitator endpoint |\n| `ANTHROPIC_API_KEY` | chat skill | -- | Anthropic API key for the chat skill |\n| `ONEINCH_API_KEY` | trade skill | -- | 1inch API key for token swaps (server-side) |\n\n## Project Structure\n\n```\npinion-os/\n  .claude-plugin/\n    plugin.json        Claude Code plugin manifest\n    marketplace.json   Plugin marketplace catalog\n  .mcp.json            MCP server auto-config\n  src/\n    client/            SDK for calling pinion skills\n      index.ts           PinionClient class\n      skills.ts          typed skill wrappers\n      types.ts           TypeScript interfaces\n      x402.ts            EIP-3009 payment signing\n      x402-generic.ts    generic x402 caller for any endpoint\n    plugin/            Claude MCP server\n      server.ts          MCP request handlers\n      tools.ts           tool definitions + dispatch (10 tools)\n      limits.ts          per-session spend limit tracker\n      config.ts          env/arg configuration\n      index.ts           CLI entry point (npx pinion-os)\n    server/            Framework for building skills\n      index.ts           createSkillServer factory\n      skill.ts           skill() definition helper\n      middleware.ts      x402 middleware wrapper\n      types.ts           server types\n    skills/            Built-in skill handlers\n      balance.ts         ETH/USDC balance lookup\n      tx.ts              transaction decoder\n      price.ts           token price via CoinGecko\n      wallet.ts          keypair generation\n      chat.ts            AI chat via Anthropic\n    shared/            Shared utilities\n      constants.ts       RPC URLs, contract addresses\n      rpc.ts             Base JSON-RPC helper\n      errors.ts          custom error classes\n  examples/\n    use-sdk.ts           SDK usage example\n    custom-skill.ts      custom skill server example\n    claude-config.json   example MCP config\n  tests/\n    client.test.ts       SDK tests\n    x402.test.ts         payment signing tests\n    server.test.ts       skill server tests\n  openclaw.plugin.json   OpenClaw skill manifest\n```\n\n## Troubleshooting\n\n**`PINION_PRIVATE_KEY or WALLET_KEY environment variable is required`**\n\nSet the env var before running. The key must be a hex string starting with `0x`.\n\n**`insufficient USDC balance`**\n\nYour wallet needs USDC on Base (not Ethereum mainnet). Bridge USDC to Base via\nhttps://bridge.base.org or buy directly on Base.\n\n**`402 Payment Required` in response**\n\nThe SDK should handle this automatically. If you see raw 402 responses, check that\nyour private key has both ETH (for gas) and USDC (for payments) on Base.\n\n**MCP plugin not showing up in Claude**\n\nMake sure the config file path is correct for your OS (see setup section above).\nRestart Claude Desktop or Claude Code after changing config.\n\n**`Cannot find module 'pinion-os'`**\n\nRun `npm install pinion-os` in your project, or use `npx pinion-os` to auto-install.\n\n**`ESOCKETTIMEDOUT` or network errors**\n\nCheck your internet connection. The SDK calls `pinionos.com` by default.\nYou can override with `PINION_API_URL` env var.\n\n## Development\n\n```bash\ngit clone https://github.com/chu2bard/pinion-os\ncd pinion-os\nnpm install\nnpm run build\nnpm test\n```\n\n## Contributing\n\nPRs welcome. Keep it simple:\n\n1. Fork and create a branch\n2. Make your changes\n3. Run `npm test` and `npm run lint`\n4. Open a PR with a clear description\n\nNo need for elaborate commit messages. Just describe what changed and why.\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "pinion-os",
          "description": "On-chain AI skills (balance, tx, price, wallet, chat, send, trade, fund) via x402 micropayments on Base",
          "version": "0.3.2",
          "source": {
            "source": "github",
            "repo": "chu2bard/pinion-os"
          },
          "author": {
            "name": "chu2bard"
          },
          "homepage": "https://github.com/chu2bard/pinion-os",
          "keywords": [
            "x402",
            "mcp",
            "claude",
            "agents",
            "payments",
            "base"
          ],
          "categories": [
            "agents",
            "base",
            "claude",
            "mcp",
            "payments",
            "x402"
          ],
          "install_commands": [
            "/plugin marketplace add chu2bard/pinion-os",
            "/plugin install pinion-os@pinion-os"
          ]
        }
      ]
    }
  ]
}