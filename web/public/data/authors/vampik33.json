{
  "author": {
    "id": "vampik33",
    "display_name": "Vladislav",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/51202067?v=4",
    "url": "https://github.com/vampik33",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 2,
      "total_commands": 11,
      "total_skills": 2,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "vampik-plugins",
      "version": null,
      "description": "A collection of Claude Code plugins for development workflows",
      "owner_info": {
        "name": "vampik33",
        "email": "vampik33@users.noreply.github.com"
      },
      "keywords": [],
      "repo_full_name": "vampik33/claude-plugins",
      "repo_url": "https://github.com/vampik33/claude-plugins",
      "repo_description": "Custom plugins for claude code",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-16T13:44:12Z",
        "created_at": "2026-01-09T12:40:26Z",
        "license": "Apache-2.0"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1239
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gtr",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gtr/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gtr/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 498
        },
        {
          "path": "plugins/gtr/README.md",
          "type": "blob",
          "size": 3563
        },
        {
          "path": "plugins/gtr/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gtr/commands/ai.md",
          "type": "blob",
          "size": 820
        },
        {
          "path": "plugins/gtr/commands/config.md",
          "type": "blob",
          "size": 920
        },
        {
          "path": "plugins/gtr/commands/copy.md",
          "type": "blob",
          "size": 724
        },
        {
          "path": "plugins/gtr/commands/editor.md",
          "type": "blob",
          "size": 627
        },
        {
          "path": "plugins/gtr/commands/go.md",
          "type": "blob",
          "size": 622
        },
        {
          "path": "plugins/gtr/commands/list.md",
          "type": "blob",
          "size": 428
        },
        {
          "path": "plugins/gtr/commands/new.md",
          "type": "blob",
          "size": 673
        },
        {
          "path": "plugins/gtr/commands/rm.md",
          "type": "blob",
          "size": 636
        },
        {
          "path": "plugins/gtr/commands/run.md",
          "type": "blob",
          "size": 820
        },
        {
          "path": "plugins/gtr/commands/status.md",
          "type": "blob",
          "size": 622
        },
        {
          "path": "plugins/gtr/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gtr/skills/gtr",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gtr/skills/gtr/SKILL.md",
          "type": "blob",
          "size": 3661
        },
        {
          "path": "plugins/gtr/skills/gtr/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gtr/skills/gtr/references/commands.md",
          "type": "blob",
          "size": 5656
        },
        {
          "path": "plugins/telegram",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 536
        },
        {
          "path": "plugins/telegram/README.md",
          "type": "blob",
          "size": 4723
        },
        {
          "path": "plugins/telegram/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/commands/telegram.md",
          "type": "blob",
          "size": 663
        },
        {
          "path": "plugins/telegram/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/hooks/hooks.json",
          "type": "blob",
          "size": 801
        },
        {
          "path": "plugins/telegram/hooks/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/hooks/scripts/check-credentials.sh",
          "type": "blob",
          "size": 2557
        },
        {
          "path": "plugins/telegram/hooks/scripts/lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/hooks/scripts/lib/config.sh",
          "type": "blob",
          "size": 2749
        },
        {
          "path": "plugins/telegram/hooks/scripts/lib/session.sh",
          "type": "blob",
          "size": 1678
        },
        {
          "path": "plugins/telegram/hooks/scripts/lib/yaml.sh",
          "type": "blob",
          "size": 1623
        },
        {
          "path": "plugins/telegram/hooks/scripts/send-telegram.sh",
          "type": "blob",
          "size": 1807
        },
        {
          "path": "plugins/telegram/hooks/scripts/session-notification.sh",
          "type": "blob",
          "size": 3202
        },
        {
          "path": "plugins/telegram/hooks/scripts/summarize-transcript.sh",
          "type": "blob",
          "size": 3745
        },
        {
          "path": "plugins/telegram/hooks/scripts/update-activity.sh",
          "type": "blob",
          "size": 849
        },
        {
          "path": "plugins/telegram/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/skills/telegram-messaging",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/skills/telegram-messaging/SKILL.md",
          "type": "blob",
          "size": 960
        },
        {
          "path": "plugins/telegram/skills/telegram-messaging/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/telegram/skills/telegram-messaging/references/troubleshooting.md",
          "type": "blob",
          "size": 2417
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"vampik-plugins\",\n  \"owner\": {\n    \"name\": \"vampik33\",\n    \"email\": \"vampik33@users.noreply.github.com\"\n  },\n  \"metadata\": {\n    \"description\": \"A collection of Claude Code plugins for development workflows\",\n    \"version\": \"1.0.0\",\n    \"homepage\": \"https://github.com/vampik33/claude-plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"gtr\",\n      \"description\": \"Git worktree management using git-worktree-runner for parallel branch development\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"vampik33\"\n      },\n      \"source\": \"./plugins/gtr\",\n      \"category\": \"Git Workflow\",\n      \"keywords\": [\"git\", \"worktree\", \"branches\", \"parallel-development\"],\n      \"homepage\": \"https://github.com/vampik33/claude-plugins\"\n    },\n    {\n      \"name\": \"telegram\",\n      \"description\": \"Telegram notifications for Claude Code sessions - send messages manually or automatically after periods of inactivity\",\n      \"version\": \"1.5.0\",\n      \"author\": {\n        \"name\": \"vampik33\"\n      },\n      \"source\": \"./plugins/telegram\",\n      \"category\": \"Notifications\",\n      \"keywords\": [\"telegram\", \"notifications\", \"messaging\", \"alerts\", \"automation\"],\n      \"homepage\": \"https://github.com/vampik33/claude-plugins\"\n    }\n  ]\n}\n",
        "plugins/gtr/.claude-plugin/plugin.json": "{\n  \"name\": \"gtr\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Git worktree management using git-worktree-runner for parallel branch development\",\n  \"author\": {\n    \"name\": \"vampik33\",\n    \"email\": \"vampik33@users.noreply.github.com\",\n    \"url\": \"https://github.com/vampik33\"\n  },\n  \"homepage\": \"https://github.com/vampik33/claude-plugins\",\n  \"repository\": \"https://github.com/vampik33/claude-plugins\",\n  \"license\": \"Apache-2.0\",\n  \"keywords\": [\"git\", \"worktree\", \"branches\", \"parallel-development\"]\n}\n",
        "plugins/gtr/README.md": "# Git Worktree Runner Plugin for Claude Code\n\nA Claude Code plugin for managing git worktrees using [git-worktree-runner](https://github.com/coderabbitai/git-worktree-runner).\n\n## Prerequisites\n\n**Important**: Install git-worktree-runner first:\n\n```bash\ngit clone https://github.com/coderabbitai/git-worktree-runner.git\ncd git-worktree-runner\nsudo ln -s \"$(pwd)/bin/git-gtr\" /usr/local/bin/git-gtr\n```\n\nVerify installation: `git gtr --version`\n\n## Installation\n\n### Option 1: Install from Marketplace (Recommended)\n\nAdd the marketplace and install:\n```\n/plugin marketplace add vampik33/claude-plugins\n/plugin install gtr\n```\n\nOr use the `/plugin` menu to browse and install.\n\n### Option 2: Install from local directory (development)\n\n```bash\nclaude --plugin-dir /path/to/claude-plugins/plugins/gtr\n```\n\n### Option 3: Add to project settings\n\nAdd to your project's `.claude/settings.json`:\n\n```json\n{\n  \"enabledPlugins\": {\n    \"gtr\": {\n      \"source\": \"/path/to/claude-plugins/plugins/gtr\"\n    }\n  }\n}\n```\n\n## Slash Commands\n\n| Command | Description |\n|---------|-------------|\n| `/gtr:new <branch>` | Create new worktree |\n| `/gtr:list` | List all worktrees |\n| `/gtr:rm <branch>` | Remove worktree |\n| `/gtr:ai <branch>` | Launch AI tool in worktree |\n| `/gtr:editor <branch>` | Open worktree in editor |\n| `/gtr:run <branch> <cmd>` | Run command in worktree |\n| `/gtr:go <branch>` | Get worktree path |\n| `/gtr:config` | Configure settings |\n| `/gtr:copy` | Copy files to worktrees |\n| `/gtr:status` | Check installation and config |\n\n## Quick Start\n\n```bash\n# Check installation\n/gtr:status\n\n# Create worktree for a feature\n/gtr:new feature-auth\n\n# Open in your editor\n/gtr:editor feature-auth\n\n# Launch AI tool in the worktree\n/gtr:ai feature-auth\n\n# Run tests\n/gtr:run feature-auth npm test\n\n# Clean up when done\n/gtr:rm feature-auth\n```\n\n## Configuration\n\nSet defaults with `/gtr:config`:\n\n```bash\n/gtr:config set gtr.editor.default cursor\n/gtr:config set gtr.ai.default claude\n/gtr:config set gtr.copy.include \".env*,*.local\"\n/gtr:config set gtr.hook.postCreate \"npm install\"\n```\n\n## Troubleshooting\n\n### \"gtr: command not found\" or \"git: 'gtr' is not a git command\"\n\ngit-worktree-runner is not installed or not in PATH. Install it:\n\n```bash\ngit clone https://github.com/coderabbitai/git-worktree-runner.git\ncd git-worktree-runner\nsudo ln -s \"$(pwd)/bin/git-gtr\" /usr/local/bin/git-gtr\n```\n\nOr add to PATH without sudo:\n```bash\nexport PATH=\"$PATH:/path/to/git-worktree-runner/bin\"\n```\n\n### \"fatal: not a git repository\"\n\nYou must be inside a git repository to use gtr commands. Navigate to your project:\n\n```bash\ncd /path/to/your/project\ngit status  # Verify it's a git repo\n```\n\n### \"Branch already exists\"\n\nUse `--force` flag to create a worktree for an existing branch:\n\n```bash\n/gtr:new existing-branch --force\n```\n\n### Worktree not found\n\nList available worktrees to see what exists:\n\n```bash\n/gtr:list\n```\n\n### Nested Claude issue with /gtr:ai\n\nIf using `/gtr:ai` from within Claude Code and the default AI tool is `claude`, it will try to spawn a nested Claude instance. Use a different AI tool:\n\n```bash\n/gtr:ai feature --ai aider\n```\n\nOr open the worktree path in a separate terminal.\n\n### Paths with spaces break navigation\n\nAlways quote the command substitution when navigating:\n\n```bash\ncd \"$(git gtr go branch-name)\"  # Correct\ncd $(git gtr go branch-name)    # May break with spaces\n```\n\n## Requirements\n\n- Git 2.5+ (worktree support)\n- Bash 3.2+ (4.0+ recommended)\n- git-worktree-runner installed and in PATH\n\n## License\n\nApache License 2.0\n",
        "plugins/gtr/commands/ai.md": "---\ndescription: Launch AI coding tool (Claude Code, Aider, etc.) in a worktree\nargument-hint: \"<branch-name> [--ai <tool>]\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Launch AI Tool in Worktree\n\nLaunch an AI coding tool in the specified worktree directory.\n\n## Usage\n\n```\n/gtr:ai <branch-name> [--ai <tool>]\n```\n\n## Process\n\n1. Parse arguments from `$ARGUMENTS` - branch name and optional `--ai` flag\n2. Verify worktree exists with `git gtr list`\n3. Execute: `git gtr ai \"$ARGUMENTS\"`\n\n**Nested Claude Warning**: If running from within Claude Code with default AI tool `claude`, this will spawn a nested instance which may break TTY/input. Consider `--ai aider` or use a separate terminal.\n\n## Examples\n\n- `/gtr:ai feature-auth` - Launch default AI tool\n- `/gtr:ai feature --ai aider` - Launch Aider specifically\n",
        "plugins/gtr/commands/config.md": "---\ndescription: Configure git-worktree-runner settings\nargument-hint: \"[list|get|set|unset] [key] [value]\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Configure GTR Settings\n\nManage git-worktree-runner configuration.\n\n## Usage\n\n```\n/gtr:config [list|get|set|unset] [key] [value]\n```\n\n## Process\n\n1. Parse arguments from `$ARGUMENTS` - subcommand, key, and value\n2. Execute: `git gtr config \"$ARGUMENTS\"`\n\n## Subcommands\n\n| Command | Description |\n|---------|-------------|\n| `list` | Show all configuration |\n| `get <key>` | Get a configuration value |\n| `set <key> <value>` | Set a configuration value |\n| `unset <key>` | Remove a configuration value |\n\n## Examples\n\n- `/gtr:config list` - Show all settings\n- `/gtr:config set gtr.editor.default cursor` - Set default editor\n- `/gtr:config set gtr.ai.default claude` - Set default AI tool\n- `/gtr:config set gtr.hook.postCreate \"npm install\"` - Auto-install deps\n",
        "plugins/gtr/commands/copy.md": "---\ndescription: Copy/sync files to worktrees\nargument-hint: \"<target> [options] [-- patterns...]\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Copy Files to Worktrees\n\nCopy or sync files from the main repository to worktrees.\n\n## Usage\n\n```\n/gtr:copy <target> [options] [-- patterns...]\n```\n\n## Process\n\n1. Parse arguments from `$ARGUMENTS` - target, flags, and patterns after `--`\n2. Execute: `git gtr copy \"$ARGUMENTS\"`\n3. Report copied files\n\n**Important**: File patterns must be preceded by `--` separator.\n\n## Examples\n\n- `/gtr:copy feature -- \".env*\" \"*.json\"` - Copy env and json files\n- `/gtr:copy -a -- \".env*\"` - Copy env files to all worktrees\n- `/gtr:copy feature --dry-run -- \"*.config.js\"` - Preview copy\n",
        "plugins/gtr/commands/editor.md": "---\ndescription: Open a worktree in configured editor (VS Code, Cursor, Zed)\nargument-hint: \"<branch-name> [--editor <name>]\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Open Worktree in Editor\n\nOpen a worktree directory in the configured code editor.\n\n## Usage\n\n```\n/gtr:editor <branch-name> [--editor <name>]\n```\n\n## Process\n\n1. Parse arguments from `$ARGUMENTS` - branch name and optional `--editor` flag\n2. Verify worktree exists with `git gtr list`\n3. Execute: `git gtr editor \"$ARGUMENTS\"`\n\n## Examples\n\n- `/gtr:editor feature-auth` - Open in default editor\n- `/gtr:editor feature --editor vscode` - Open in VS Code\n",
        "plugins/gtr/commands/go.md": "---\ndescription: Get worktree path for navigation\nargument-hint: \"<branch-name>\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Get Worktree Path\n\nGet the path to a worktree for navigation purposes.\n\n**Note**: This prints the path. It cannot change your shell's directory - use the path in your terminal.\n\n## Usage\n\n```\n/gtr:go <branch-name>\n```\n\n## Process\n\n1. Parse branch name from `$ARGUMENTS`\n2. Execute: `git gtr go \"$ARGUMENTS\"`\n3. Provide copy-paste ready navigation command\n\n## Shell Navigation\n\n```bash\ncd \"$(git gtr go <branch-name>)\"\n```\n\n## Examples\n\n- `/gtr:go feature-auth` - Get path to feature worktree\n",
        "plugins/gtr/commands/list.md": "---\ndescription: List all git worktrees in the current repository\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# List Worktrees\n\nList all git worktrees for the current repository.\n\n## Usage\n\n```\n/gtr:list [options]\n```\n\n## Process\n\n1. Execute: `git gtr list`\n2. Display results with paths, branches, and main worktree indicator\n\n## Examples\n\n- `/gtr:list` - Show all worktrees\n- `/gtr:list --json` - JSON output for scripting\n",
        "plugins/gtr/commands/new.md": "---\ndescription: Create a new git worktree for parallel branch development\nargument-hint: \"<branch-name> [options]\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Create New Worktree\n\nCreate a new git worktree using git-worktree-runner.\n\n## Usage\n\n```\n/gtr:new <branch-name> [options]\n```\n\n## Process\n\n1. Parse arguments from `$ARGUMENTS` - branch name and optional flags\n2. Execute: `git gtr new \"$ARGUMENTS\"`\n3. Report result and suggest next steps: `/gtr:editor` or `/gtr:ai`\n\n## Examples\n\n- `/gtr:new feature-auth` - Create worktree for new feature\n- `/gtr:new feature --force --name backend` - Custom name\n- `/gtr:new hotfix --yes --no-copy` - Quick non-interactive\n",
        "plugins/gtr/commands/rm.md": "---\ndescription: Remove a git worktree\nargument-hint: \"<branch-name> [options]\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Remove Worktree\n\nRemove one or more git worktrees.\n\n## Usage\n\n```\n/gtr:rm <branch-name> [options]\n```\n\n## Process\n\n1. Parse arguments from `$ARGUMENTS` - branch/worktree name and flags\n2. Execute: `git gtr rm \"$ARGUMENTS\"`\n3. Report result; optionally show remaining worktrees\n\nNote: Use `--yes` for non-interactive removal.\n\n## Examples\n\n- `/gtr:rm feature-auth` - Remove specific worktree\n- `/gtr:rm feature --yes --delete-branch` - Remove and delete branch\n- `/gtr:rm --all --yes` - Remove all worktrees\n",
        "plugins/gtr/commands/run.md": "---\ndescription: Execute a command in the specified worktree directory\nargument-hint: \"<branch-name> <command> [args...]\"\nskill: gtr\nallowed-tools: Bash(git gtr *)\n---\n\n# Run Command in Worktree\n\nExecute a shell command within the context of a worktree directory.\n\n## Usage\n\n```\n/gtr:run <branch-name> <command> [args...]\n```\n\n## Process\n\n1. Parse arguments from `$ARGUMENTS` - first arg is branch, rest is command\n2. Execute: `git gtr run \"$ARGUMENTS\"`\n3. Display output and exit status\n\n**Caution**: This executes arbitrary shell commands. Be careful with destructive commands.\n\n## Examples\n\n- `/gtr:run feature npm test` - Run tests in worktree\n- `/gtr:run feature npm run build` - Build in worktree\n- `/gtr:run feature git status` - Check git status\n- `/gtr:run feature \"npm install && npm test\"` - Chained commands\n",
        "plugins/gtr/commands/status.md": "---\ndescription: Check gtr installation status and current configuration\nskill: gtr\nallowed-tools: Bash(git gtr *), Bash(git rev-parse *)\n---\n\n# GTR Status\n\nCheck the installation status of git-worktree-runner and display current configuration.\n\n## Usage\n\n```\n/gtr:status\n```\n\n## Process\n\n1. Check installation: `git gtr --version`\n2. Check git repo: `git rev-parse --is-inside-work-tree`\n3. Show configuration: `git gtr config list`\n4. List worktrees: `git gtr list`\n\n## Output\n\n- gtr version and installation status\n- Repository context\n- Default editor and AI tool\n- Worktree directory setting\n- Active worktrees count\n",
        "plugins/gtr/skills/gtr/SKILL.md": "---\nname: gtr\ndescription: This skill should be used when the user invokes /gtr:* commands to manage git worktrees using git-worktree-runner (gtr). Enables parallel branch development through worktree creation, editor/AI integration, and lifecycle management.\n---\n\n# Git Worktree Runner (gtr)\n\n## Overview\n\nThis skill provides workflows for managing git worktrees using the `git gtr` CLI tool. Git worktrees enable working on multiple branches simultaneously in separate directories without stashing changes or switching branches.\n\n## Quick Start\n\nTo check if gtr is installed:\n```bash\ngit gtr --version\n```\n\nIf not installed, guide user through installation:\n```bash\ngit clone https://github.com/coderabbitai/git-worktree-runner.git\ncd git-worktree-runner\nsudo ln -s \"$(pwd)/bin/git-gtr\" /usr/local/bin/git-gtr\n```\n\n## Common Workflows\n\n### Create and Work on Feature Branch\n\nFull lifecycle for feature development:\n\n```bash\n# 1. Create worktree for new feature\ngit gtr new feature-name\n\n# 2. Open in editor (uses configured default)\ngit gtr editor feature-name\n\n# 3. Launch AI tool in worktree (see note about nested Claude)\ngit gtr ai feature-name\n\n# 4. Run commands in worktree\ngit gtr run feature-name npm test\ngit gtr run feature-name npm run build\n\n# 5. When done, remove worktree\ngit gtr rm feature-name\n```\n\n### Quick Parallel Development\n\nFor quick context switching between branches:\n\n```bash\n# List existing worktrees\ngit gtr list\n\n# Create worktree from existing branch\ngit gtr new existing-branch\n\n# Navigate to worktree (prints path - use quotes for spaces)\ncd \"$(git gtr go branch-name)\"\n\n# Or run commands directly\ngit gtr run branch-name git status\n```\n\n### Multiple Worktrees Same Branch\n\nFor different aspects of the same feature:\n\n```bash\ngit gtr new feature --force --name frontend\ngit gtr new feature --force --name backend\n```\n\n### Non-Interactive/CI Usage\n\nFor automation scenarios:\n\n```bash\ngit gtr new ci-test --yes --no-copy\ngit gtr rm ci-test --yes --delete-branch\n```\n\n## Core Commands\n\n| Command | Description |\n|---------|-------------|\n| `git gtr new <branch>` | Create new worktree |\n| `git gtr list` | List all worktrees |\n| `git gtr editor <branch>` | Open worktree in editor |\n| `git gtr ai <branch>` | Launch AI tool in worktree |\n| `git gtr run <branch> <cmd>` | Execute command in worktree |\n| `git gtr go <branch>` | Print worktree path |\n| `git gtr rm <branch>` | Remove worktree |\n| `git gtr copy <target>` | Sync files to worktree(s) |\n| `git gtr config` | Manage configuration |\n\n## Configuration\n\nKey settings via `git gtr config set`:\n\n```bash\n# Set default editor (cursor, vscode, zed)\ngit gtr config set gtr.editor.default cursor\n\n# Set default AI tool (claude, aider, codex, continue, cursor)\ngit gtr config set gtr.ai.default claude\n\n# Set worktrees directory\ngit gtr config set gtr.worktrees.dir ~/worktrees\n\n# Set files to auto-copy on worktree creation\ngit gtr config set gtr.copy.include \".env*,*.local\"\n```\n\n## Hooks\n\nHooks run at worktree lifecycle events and receive environment variables:\n- `REPO_ROOT` - Repository root path\n- `WORKTREE_PATH` - Worktree directory location\n- `BRANCH` - Branch name\n\nConfigure hooks:\n```bash\ngit gtr config set gtr.hook.postCreate \"npm install\"\ngit gtr config set gtr.hook.preRemove \"npm run clean\"\ngit gtr config set gtr.hook.postRemove \"echo 'Cleaned up'\"\n```\n\n## File Copying\n\nCopy files to worktrees:\n\n```bash\n# Copy specific patterns to one worktree (note the -- separator)\ngit gtr copy feature -- \".env*\" \"*.json\"\n\n# Copy to all worktrees\ngit gtr copy -a -- \".env*\"\n```\n\n## Reference\n\nFor detailed command options and configuration, see `references/commands.md`.\n",
        "plugins/gtr/skills/gtr/references/commands.md": "# Git Worktree Runner - Command Reference\n\n## Installation\n\n```bash\ngit clone https://github.com/coderabbitai/git-worktree-runner.git\ncd git-worktree-runner\nsudo ln -s \"$(pwd)/bin/git-gtr\" /usr/local/bin/git-gtr\n```\n\nRequirements:\n- Git 2.5+ (worktree support)\n- Bash 3.2+ (4.0+ recommended)\n- Optional: bash-completion v2+ for shell completions\n\n## Commands\n\n### git gtr new\n\nCreate a new worktree.\n\n```bash\ngit gtr new <branch> [options]\n```\n\n**Options:**\n| Flag | Description |\n|------|-------------|\n| `--force`, `-f` | Allow creating worktree even if branch exists |\n| `--name <name>` | Custom folder name instead of branch name |\n| `--yes`, `-y` | Skip confirmation prompts |\n| `--no-copy` | Skip copying files after creation |\n| `--base <branch>` | Base branch to create from (default: main/master) |\n\n**Examples:**\n```bash\ngit gtr new feature-auth\ngit gtr new feature --force --name backend\ngit gtr new hotfix --yes --no-copy\ngit gtr new feature --base develop\n```\n\n### git gtr list\n\nList all worktrees for the current repository.\n\n```bash\ngit gtr list [options]\n```\n\n**Options:**\n| Flag | Description |\n|------|-------------|\n| `--json` | Output in JSON format |\n| `--porcelain` | Machine-readable output |\n\n### git gtr editor\n\nOpen a worktree in the configured editor.\n\n```bash\ngit gtr editor <branch> [options]\n```\n\n**Options:**\n| Flag | Description |\n|------|-------------|\n| `--editor <name>` | Override default editor (cursor, vscode, zed) |\n\n**Examples:**\n```bash\ngit gtr editor feature-auth\ngit gtr editor feature --editor vscode\n```\n\n### git gtr ai\n\nLaunch an AI coding tool in the worktree.\n\n```bash\ngit gtr ai <branch> [options]\n```\n\n**Options:**\n| Flag | Description |\n|------|-------------|\n| `--ai <tool>` | Override default AI tool |\n\n**Supported AI tools:**\n- `claude` - Claude Code CLI\n- `aider` - Aider\n- `codex` - OpenAI Codex\n- `continue` - Continue\n- `cursor` - Cursor AI\n\n**Examples:**\n```bash\ngit gtr ai feature-auth\ngit gtr ai feature --ai aider\n```\n\n### git gtr run\n\nExecute a command in the worktree directory.\n\n```bash\ngit gtr run <branch> <command> [args...]\n```\n\n**Examples:**\n```bash\ngit gtr run feature npm test\ngit gtr run feature npm run build\ngit gtr run feature git status\ngit gtr run feature \"npm install && npm test\"\n```\n\n### git gtr go\n\nPrint the worktree path (useful for navigation).\n\n```bash\ngit gtr go <branch>\n```\n\n**Usage for navigation** (note the quotes for paths with spaces):\n```bash\ncd \"$(git gtr go feature)\"\n```\n\n### git gtr rm\n\nRemove one or more worktrees.\n\n```bash\ngit gtr rm <branch> [options]\n```\n\n**Options:**\n| Flag | Description |\n|------|-------------|\n| `--yes`, `-y` | Skip confirmation prompts |\n| `--delete-branch` | Also delete the branch after removing worktree |\n| `--force`, `-f` | Force removal even with uncommitted changes |\n| `--all`, `-a` | Remove all worktrees |\n\n**Examples:**\n```bash\ngit gtr rm feature-auth\ngit gtr rm feature --yes --delete-branch\ngit gtr rm --all --yes\n```\n\n### git gtr copy\n\nCopy/sync files to worktrees.\n\n```bash\ngit gtr copy <target> [options] [-- patterns...]\n```\n\n**Options:**\n| Flag | Description |\n|------|-------------|\n| `--all`, `-a` | Copy to all worktrees |\n| `--dry-run` | Show what would be copied |\n\n**Examples:**\n```bash\ngit gtr copy feature -- \".env*\" \"*.json\"\ngit gtr copy -a -- \".env*\"\ngit gtr copy feature --dry-run -- \"*.config.js\"\n```\n\n### git gtr config\n\nManage gtr configuration.\n\n```bash\ngit gtr config <subcommand> [options]\n```\n\n**Subcommands:**\n- `list` - Show all configuration\n- `get <key>` - Get a configuration value\n- `set <key> <value>` - Set a configuration value\n- `unset <key>` - Remove a configuration value\n\n## Configuration Keys\n\n### Worktree Settings\n\n| Key | Description | Default |\n|-----|-------------|---------|\n| `gtr.worktrees.dir` | Base directory for worktrees | `../` |\n| `gtr.worktrees.prefix` | Folder name prefix | `\"\"` |\n| `gtr.defaultBranch` | Default base branch | `main` or `master` |\n\n### Editor Settings\n\n| Key | Description | Default |\n|-----|-------------|---------|\n| `gtr.editor.default` | Default editor | `cursor` |\n\n**Supported editors:** `cursor`, `vscode`, `zed`\n\n### AI Tool Settings\n\n| Key | Description | Default |\n|-----|-------------|---------|\n| `gtr.ai.default` | Default AI tool | `claude` |\n\n**Supported tools:** `claude`, `aider`, `codex`, `continue`, `cursor`\n\n### File Copy Settings\n\n| Key | Description | Example |\n|-----|-------------|---------|\n| `gtr.copy.include` | Patterns to copy | `.env*,*.local` |\n| `gtr.copy.exclude` | Patterns to exclude | `*.log,*.tmp` |\n| `gtr.copy.includeDirs` | Directories to copy | `node_modules` |\n| `gtr.copy.excludeDirs` | Nested dirs to exclude | `.git,dist` |\n\n### Hook Settings\n\n| Key | Description |\n|-----|-------------|\n| `gtr.hook.postCreate` | Command after worktree creation |\n| `gtr.hook.preRemove` | Command before worktree removal |\n| `gtr.hook.postRemove` | Command after worktree removal |\n\n**Hook Environment Variables**: Hooks receive these exported variables:\n- `REPO_ROOT` - Repository root path\n- `WORKTREE_PATH` - Worktree directory location\n- `BRANCH` - Branch name being created/removed\n\n**Hook examples:**\n```bash\ngit gtr config set gtr.hook.postCreate \"npm install\"\ngit gtr config set gtr.hook.preRemove \"npm run clean\"\ngit gtr config set gtr.hook.postRemove \"echo 'Removed $BRANCH'\"\n```\n\n## Configuration Precedence\n\n1. Local git config (`.git/config`)\n2. Repository `.gtrconfig` file\n3. Global git config (`~/.gitconfig`)\n4. System configuration\n5. Environment variables\n6. Built-in defaults\n\n## Platform Support\n\n- macOS (Ventura and newer)\n- Linux (Ubuntu, Fedora, Arch, etc.)\n- Windows (Git Bash or WSL2)\n",
        "plugins/telegram/.claude-plugin/plugin.json": "{\n  \"name\": \"telegram\",\n  \"version\": \"1.5.0\",\n  \"description\": \"Telegram notifications for Claude Code sessions - send messages manually or automatically after periods of inactivity\",\n  \"author\": {\n    \"name\": \"vampik33\",\n    \"email\": \"vampik33@users.noreply.github.com\",\n    \"url\": \"https://github.com/vampik33\"\n  },\n  \"homepage\": \"https://github.com/vampik33/claude-plugins\",\n  \"repository\": \"https://github.com/vampik33/claude-plugins\",\n  \"license\": \"Apache-2.0\",\n  \"keywords\": [\"telegram\", \"notifications\", \"messaging\", \"alerts\"]\n}\n",
        "plugins/telegram/README.md": "# Telegram Plugin for Claude Code\n\nSend Telegram notifications from Claude Code sessions - manually via command or automatically after periods of inactivity.\n\n## Features\n\n- `/telegram` command for manual message sending\n- Automatic notifications when idle time exceeds threshold\n- Opt-in credential validation (only when enabled)\n- Dual-scope configuration (user-level + project-level, like CLAUDE.md)\n- Debug mode for troubleshooting\n\n## Quick Start\n\n1. Install dependencies: `jq` and `curl`\n2. Set up credentials (see below)\n3. Create config file to enable the plugin:\n   - Global: `~/.claude/telegram.local.md`\n   - Per-project: `.claude/telegram.local.md`\n4. Use `/telegram` or wait for automatic notifications\n\n## Prerequisites\n\n### Dependencies\n\n- `jq` - Required for safe JSON encoding ([installation](https://jqlang.github.io/jq/download/))\n- `curl` - For API requests (usually pre-installed)\n\n### Credentials Setup\n\nSet these environment variables:\n\n```bash\nexport TELEGRAM_BOT_TOKEN=\"your-bot-token\"\nexport TELEGRAM_CHAT_ID=\"your-chat-id\"\n```\n\n**How to get credentials:**\n\n1. **Bot Token**: Message [@BotFather](https://t.me/botfather) on Telegram\n   - Send `/newbot` or `/mybots`\n   - Copy the API token provided\n\n2. **Chat ID**: Message [@userinfobot](https://t.me/userinfobot) on Telegram\n   - It will reply with your chat ID\n   - For groups: add the bot first, then check ID\n\n**Persistence:** Add to your shell profile (`~/.bashrc`, `~/.zshrc`):\n\n```bash\nexport TELEGRAM_BOT_TOKEN=\"your-bot-token\"\nexport TELEGRAM_CHAT_ID=\"your-chat-id\"\n```\n\n**Per-project credentials:** Use [direnv](https://direnv.net/):\n\n```bash\n# .envrc\nexport TELEGRAM_BOT_TOKEN=\"project-token\"\nexport TELEGRAM_CHAT_ID=\"project-chat\"\n```\n\n## Installation\n\nAdd to your Claude Code plugins or use `--plugin-dir`:\n\n```bash\nclaude --plugin-dir /path/to/telegram\n```\n\n## Usage\n\n### Manual Notifications\n\n```\n/telegram Your message here\n```\n\nIf no message provided, defaults to \"Task completed\".\n\n### Automatic Notifications\n\nThe plugin sends notifications when:\n1. `.claude/telegram.local.md` exists with `enabled: true`\n2. Idle time (since last interaction) exceeds the configured threshold\n3. Credentials are properly set\n\n## Configuration\n\nThe plugin supports two configuration scopes, similar to CLAUDE.md:\n\n| Scope | Location | Purpose |\n|-------|----------|---------|\n| User (global) | `~/.claude/telegram.local.md` | Default settings for all projects |\n| Project | `.claude/telegram.local.md` | Project-specific overrides |\n\n### Merge Behavior\n\n- **Field resolution**: project value > user value > default\n- Missing fields in project config **fall back to user config**\n- `enabled: false` at either level **disables** the plugin\n- Notification body uses **project body if present**, otherwise user body\n\n### Example Setup\n\n**User config** (`~/.claude/telegram.local.md`) - global defaults:\n\n```markdown\n---\nenabled: true\nsession_threshold_minutes: 15\n---\n\nClaude Code task completed\n```\n\n**Project override** (`.claude/telegram.local.md`):\n\n```markdown\n---\nsession_threshold_minutes: 5\n---\n\nBuild finished in my-project\n```\n\n**Result**: enabled=true (from user), threshold=5 min (from project), message=\"Build finished in my-project\" (from project)\n\n### Settings\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `enabled` | boolean | true | Enable plugin (credential validation + auto notifications) |\n| `session_threshold_minutes` | number | 10 | Minimum idle time (since last interaction) to trigger notification |\n\nThe markdown body (after `---`) is used as the notification message. Idle time is automatically appended (e.g., \"Build completed, ready for review (15m)\").\n\n**Note:** If a config file exists but has no frontmatter (or empty frontmatter), the plugin treats it as `enabled: true` with default threshold. To explicitly disable, you must set `enabled: false`.\n\n**Important:** Without any config file (user or project level), the plugin shows a warning but does not block. It will not validate credentials or send automatic notifications until configured.\n\n### Gitignore\n\nAdd to your project's `.gitignore` (user-level config in `~/.claude/` is not in git):\n\n```\n.claude/*.local.md\n```\n\n## Debug Mode\n\nFor troubleshooting, enable debug mode:\n\n```bash\nexport TELEGRAM_DEBUG=1\n```\n\nThis shows verbose output including API requests and responses.\n\n## Troubleshooting\n\nSee [troubleshooting guide](skills/telegram-messaging/references/troubleshooting.md) for common issues.\n\n**Quick checks:**\n- Credentials set? `echo $TELEGRAM_BOT_TOKEN`\n- Config exists? `cat ~/.claude/telegram.local.md` or `cat .claude/telegram.local.md`\n- Test manually: `/telegram Test message`\n\n## License\n\nApache-2.0\n",
        "plugins/telegram/commands/telegram.md": "---\ndescription: Send a Telegram message\nallowed-tools: [\"Bash\"]\nargument-hint: \"[message]\"\n---\n\n# Send Telegram Message\n\nSend a notification message via Telegram Bot API.\n\n## Instructions\n\nIf `$ARGUMENTS` is empty or not provided, set the message \"Task completed\".\n\nSend the message using the shared script:\n\n```bash\nMESSAGE=\"${ARGUMENTS:-Task completed}\"\nbash \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/send-telegram.sh\" \"$MESSAGE\"\n```\n\nCheck the exit code and report any errors to the user.\n\n## Examples\n\n- `/telegram` - Sends \"Task completed\"\n- `/telegram Build finished` - Sends \"Build finished\"\n- `/telegram Tests passed, ready for review` - Sends custom message\n",
        "plugins/telegram/hooks/hooks.json": "{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/check-credentials.sh\",\n            \"timeout\": 5\n          }\n        ]\n      }\n    ],\n    \"UserPromptSubmit\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/update-activity.sh\",\n            \"timeout\": 2\n          }\n        ]\n      }\n    ],\n    \"Stop\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/session-notification.sh\",\n            \"timeout\": 10\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "plugins/telegram/hooks/scripts/check-credentials.sh": "#!/bin/bash\nset -euo pipefail\n\n# Check if Telegram credentials are set (opt-in based on config file)\n# Runs on SessionStart to validate environment\n# Only blocks if telegram.local.md exists with enabled: true\n\n# Debug mode support\nif [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then\n  set -x\n  exec 2>&1\nfi\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\n\n# Read hook input before sourcing (stdin must be captured first)\nHOOK_INPUT=$(cat)\nsource \"$SCRIPT_DIR/lib/config.sh\"\nsource \"$SCRIPT_DIR/lib/session.sh\"\nextract_session_id \"$HOOK_INPUT\"\n\n# Clean up stale session files from previous force-quit sessions\ncleanup_stale_session_files\nSESSION_FILE=$(get_session_file_path)\nrm -f \"$SESSION_FILE\" 2>/dev/null || true\n\n# Check if plugin is enabled (opt-in behavior with dual-scope support)\n# User config: ~/.claude/telegram.local.md (global defaults)\n# Project config: .claude/telegram.local.md (project overrides)\nENABLED_STATUS=$(is_plugin_enabled)\n\nif [[ \"$ENABLED_STATUS\" == \"unconfigured\" ]]; then\n  # No config at either level\n  echo '{\"systemMessage\": \"Telegram plugin: No config found. Create ~/.claude/telegram.local.md (global) or .claude/telegram.local.md (project) with enabled: true to enable notifications.\"}'\n  exit 0\nfi\n\nif [[ \"$ENABLED_STATUS\" != \"true\" ]]; then\n  # Explicitly disabled\n  exit 0\nfi\n\n# Plugin is enabled - validate dependencies and credentials\n\n# Check for required dependencies first\nMISSING_DEPS=()\ncommand -v jq &> /dev/null || MISSING_DEPS+=(\"jq\")\ncommand -v curl &> /dev/null || MISSING_DEPS+=(\"curl\")\n\nif [[ ${#MISSING_DEPS[@]} -gt 0 ]]; then\n  DEPS_LIST=$(IFS=\", \"; echo \"${MISSING_DEPS[*]}\")\n  cat >&2 <<EOF\n{\n  \"error\": \"Missing dependencies: $DEPS_LIST\",\n  \"systemMessage\": \"Telegram plugin: Missing required dependencies ($DEPS_LIST). Install them to use Telegram notifications:\\n\\n- jq: https://jqlang.github.io/jq/download/\\n- curl: Usually pre-installed on most systems\"\n}\nEOF\n  exit 2\nfi\n\n# Check for credentials\nMISSING_CREDS=()\n[[ -z \"${TELEGRAM_BOT_TOKEN:-}\" ]] && MISSING_CREDS+=(\"TELEGRAM_BOT_TOKEN\")\n[[ -z \"${TELEGRAM_CHAT_ID:-}\" ]] && MISSING_CREDS+=(\"TELEGRAM_CHAT_ID\")\n\nif [[ ${#MISSING_CREDS[@]} -gt 0 ]]; then\n  CREDS_LIST=$(IFS=\", \"; echo \"${MISSING_CREDS[*]}\")\n  cat >&2 <<EOF\n{\n  \"error\": \"Missing Telegram credentials: $CREDS_LIST\",\n  \"systemMessage\": \"Telegram plugin: Missing required environment variables ($CREDS_LIST). See README.md for setup instructions.\"\n}\nEOF\n  exit 2\nfi\n\n# Success message\necho '{\"systemMessage\": \"Telegram plugin: Ready. Use /telegram to send messages.\"}'\nexit 0\n",
        "plugins/telegram/hooks/scripts/lib/config.sh": "#!/bin/bash\n# Configuration resolution with dual-scope support (user-level + project-level)\n# Similar to CLAUDE.md behavior: user as default, project overrides\n\nLIB_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nsource \"$LIB_DIR/yaml.sh\"\n\n# Get user-level config path\nget_user_config_path() {\n  echo \"${HOME}/.claude/telegram.local.md\"\n}\n\n# Get project-level config path\nget_project_config_path() {\n  echo \"${CLAUDE_PROJECT_DIR:-.}/.claude/telegram.local.md\"\n}\n\n# Resolve config value with dual-scope support\n# Priority: project > user > default\n# Usage: resolve_config_field \"field_name\" \"default_value\"\nresolve_config_field() {\n  local field=\"$1\"\n  local default=\"$2\"\n\n  local user_config\n  local project_config\n  user_config=$(get_user_config_path)\n  project_config=$(get_project_config_path)\n\n  # Check project config first (highest priority)\n  if [[ -f \"$project_config\" ]]; then\n    local project_fm\n    project_fm=$(extract_frontmatter \"$project_config\")\n    local project_value\n    project_value=$(parse_yaml_field \"$field\" \"\" \"$project_fm\")\n    if [[ -n \"$project_value\" ]]; then\n      echo \"$project_value\"\n      return\n    fi\n  fi\n\n  # Check user config (fallback)\n  if [[ -f \"$user_config\" ]]; then\n    local user_fm\n    user_fm=$(extract_frontmatter \"$user_config\")\n    local user_value\n    user_value=$(parse_yaml_field \"$field\" \"\" \"$user_fm\")\n    if [[ -n \"$user_value\" ]]; then\n      echo \"$user_value\"\n      return\n    fi\n  fi\n\n  # Return default\n  echo \"$default\"\n}\n\n# Check if plugin is enabled\n# Returns: \"true\", \"false\", or \"unconfigured\"\n# Uses resolve_config_field pattern: project > user > default\nis_plugin_enabled() {\n  local user_config\n  local project_config\n  user_config=$(get_user_config_path)\n  project_config=$(get_project_config_path)\n\n  # No config at either level = unconfigured\n  if [[ ! -f \"$project_config\" && ! -f \"$user_config\" ]]; then\n    echo \"unconfigured\"\n    return\n  fi\n\n  # Use resolve_config_field for proper fallback chain\n  # If project has enabled -> use it\n  # Else if user has enabled -> use it\n  # Else default to \"true\" (config exists but no explicit enabled field)\n  resolve_config_field \"enabled\" \"true\"\n}\n\n# Get notification body (project takes full precedence)\n# Usage: get_notification_body\nget_notification_body() {\n  local project_config\n  local user_config\n  project_config=$(get_project_config_path)\n  user_config=$(get_user_config_path)\n\n  # Project body takes full precedence\n  if [[ -f \"$project_config\" ]]; then\n    local body\n    body=$(extract_body \"$project_config\" | head -c 500)\n    if [[ -n \"$body\" ]]; then\n      echo \"$body\"\n      return\n    fi\n  fi\n\n  # Fall back to user body\n  if [[ -f \"$user_config\" ]]; then\n    extract_body \"$user_config\" | head -c 500\n  fi\n}\n",
        "plugins/telegram/hooks/scripts/lib/session.sh": "#!/bin/bash\n# Session management and hook initialization utilities\n\n# Extract and export session_id from hook input JSON\n# Usage: Call after capturing stdin, e.g.:\n#   HOOK_INPUT=$(cat)\n#   extract_session_id \"$HOOK_INPUT\"\n# Sets: CLAUDE_SESSION_ID (exported)\nextract_session_id() {\n  local input=\"${1:-}\"\n  export CLAUDE_SESSION_ID=$(echo \"$input\" | jq -r '.session_id // empty')\n}\n\n# Extract and export cwd from hook input JSON\n# Usage: extract_cwd \"$HOOK_INPUT\"\n# Sets: CLAUDE_CWD (exported)\nextract_cwd() {\n  local input=\"${1:-}\"\n  export CLAUDE_CWD=$(echo \"$input\" | jq -r '.cwd // empty')\n}\n\n# Extract transcript_path from hook input JSON\n# Only available in Stop/SubagentStop hooks\n# Usage: extract_transcript_path \"$HOOK_INPUT\"\n# Sets: TRANSCRIPT_PATH\nextract_transcript_path() {\n  local input=\"${1:-}\"\n  TRANSCRIPT_PATH=$(echo \"$input\" | jq -r '.transcript_path // empty')\n}\n\n# Get session activity file path (tracks last user interaction)\n# Uses Claude's session_id to avoid multi-instance conflicts\n# Requires CLAUDE_SESSION_ID to be set via extract_session_id\nget_session_file_path() {\n  if [[ -z \"${CLAUDE_SESSION_ID:-}\" ]]; then\n    # Fallback if session ID not available\n    echo \"/tmp/claude-telegram-session-unknown\"\n    return\n  fi\n  echo \"/tmp/claude-telegram-session-${CLAUDE_SESSION_ID}\"\n}\n\n# Clean up stale session files older than specified hours (default: 24)\n# These can accumulate if Claude terminates abnormally\n# Usage: cleanup_stale_session_files [hours]\ncleanup_stale_session_files() {\n  local max_age_hours=\"${1:-24}\"\n  find /tmp -maxdepth 1 -name 'claude-telegram-session-*' -type f -mmin \"+$((max_age_hours * 60))\" -delete 2>/dev/null || true\n}\n",
        "plugins/telegram/hooks/scripts/lib/yaml.sh": "#!/bin/bash\n# Pure YAML frontmatter parsing utilities\n\n# Extract YAML frontmatter from a file (content between first pair of ---)\n# Usage: extract_frontmatter \"/path/to/file\"\n# Returns: Frontmatter content (without --- delimiters)\nextract_frontmatter() {\n  local file=\"$1\"\n  sed -n '/^---$/,/^---$/{ /^---$/d; p; }' \"$file\" 2>/dev/null || echo \"\"\n}\n\n# Parse a field from YAML frontmatter\n# Usage: parse_yaml_field \"field_name\" \"default_value\" \"$frontmatter\"\n# Returns: Field value or default if not found\n# Handles: comments, quotes, whitespace\nparse_yaml_field() {\n  local field=\"$1\"\n  local default=\"$2\"\n  local frontmatter=\"$3\"\n\n  # Extract line matching field, strip comment, extract value, remove quotes/whitespace\n  local value\n  value=$(echo \"$frontmatter\" \\\n    | grep \"^${field}:\" \\\n    | head -1 \\\n    | sed -e 's/#.*//' -e \"s/${field}:[[:space:]]*//\" \\\n    | tr -d ' \"'\"'\" \\\n    || echo \"\")\n\n  echo \"${value:-$default}\"\n}\n\n# Extract markdown body (content after second ---)\n# Usage: extract_body \"/path/to/file\"\n# Returns: Body content with collapsed whitespace\nextract_body() {\n  local file=\"$1\"\n  local in_body=0\n  local dash_count=0\n  local result=\"\"\n\n  while IFS= read -r line || [[ -n \"$line\" ]]; do\n    if [[ \"$line\" == \"---\" ]]; then\n      ((dash_count++))\n      continue\n    fi\n    if [[ $dash_count -ge 2 ]]; then\n      if [[ -z \"$result\" && -z \"${line// /}\" ]]; then\n        continue\n      fi\n      if [[ -n \"$result\" ]]; then\n        result=\"$result \"\n      fi\n      result=\"$result$line\"\n    fi\n  done < \"$file\"\n\n  echo \"$result\" | sed 's/^[[:space:]]*//;s/[[:space:]]*$//;s/[[:space:]]\\{2,\\}/ /g'\n}\n",
        "plugins/telegram/hooks/scripts/send-telegram.sh": "#!/bin/bash\nset -euo pipefail\n\n# Shared Telegram message sender\n# Usage: send-telegram.sh \"message\"\n# Returns: 0 on success, 1 on failure\n# Output: JSON response on success, error message on failure\n# Debug: Set TELEGRAM_DEBUG=1 for verbose output\n\n# Debug mode support\nif [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then\n  set -x\nfi\n\nMESSAGE=\"${1:-}\"\n\nif [[ -z \"$MESSAGE\" ]]; then\n  echo \"Error: No message provided\" >&2\n  exit 1\nfi\n\nif [[ -z \"${TELEGRAM_BOT_TOKEN:-}\" ]] || [[ -z \"${TELEGRAM_CHAT_ID:-}\" ]]; then\n  echo \"Error: Missing TELEGRAM_BOT_TOKEN or TELEGRAM_CHAT_ID\" >&2\n  exit 1\nfi\n\n# Use jq for proper JSON escaping (handles quotes, backslashes, newlines, control chars)\nif ! command -v jq &> /dev/null; then\n  echo \"Error: jq is required for safe JSON encoding\" >&2\n  exit 1\nfi\n\nJSON_PAYLOAD=$(jq -n \\\n  --arg chat_id \"$TELEGRAM_CHAT_ID\" \\\n  --arg text \"$MESSAGE\" \\\n  '{chat_id: $chat_id, text: $text}')\n\nif [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then\n  echo \"Payload: $JSON_PAYLOAD\" >&2\nfi\n\n# Send with timeout and capture response\n# Disable tracing to prevent token leak in debug mode\n{ set +x; } 2>/dev/null\nRESPONSE=$(curl -s -m 10 -X POST \"https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"$JSON_PAYLOAD\" 2>&1) || {\n  echo \"Error: curl failed\" >&2\n  exit 1\n}\n# Re-enable tracing if debug mode is on\nif [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then set -x; fi\n\nif [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then\n  echo \"Response: $RESPONSE\" >&2\nfi\n\n# Validate API response\nif echo \"$RESPONSE\" | jq -e '.ok == true' > /dev/null 2>&1; then\n  echo \"$RESPONSE\"\n  exit 0\nelse\n  ERROR_DESC=$(echo \"$RESPONSE\" | jq -r '.description // \"Unknown error\"' 2>/dev/null || echo \"Invalid response\")\n  echo \"Error: Telegram API failed - $ERROR_DESC\" >&2\n  exit 1\nfi\n",
        "plugins/telegram/hooks/scripts/session-notification.sh": "#!/bin/bash\nset -euo pipefail\n\n# Send Telegram notification when session ends (if configured)\n# Checks session duration against threshold from settings\n\n# Debug mode support\nif [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then\n  set -x\n  exec 2>&1\nfi\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\n\n# Read hook input before sourcing (stdin must be captured first)\nHOOK_INPUT=$(cat)\nsource \"$SCRIPT_DIR/lib/config.sh\"\nsource \"$SCRIPT_DIR/lib/session.sh\"\nextract_session_id \"$HOOK_INPUT\"\nextract_cwd \"$HOOK_INPUT\"\nextract_transcript_path \"$HOOK_INPUT\"\n\n# Read session file early to ensure cleanup happens even if plugin is disabled\n# This handles cases where user disables plugin mid-session\nSESSION_FILE=$(get_session_file_path)\nSESSION_START=\"0\"\n\nif [[ -f \"$SESSION_FILE\" ]]; then\n  SESSION_START=$(cat \"$SESSION_FILE\" 2>/dev/null || echo \"0\")\n  rm -f \"$SESSION_FILE\" 2>/dev/null || true\nfi\n\n# Check if plugin is enabled at any level (user or project config)\nENABLED_STATUS=$(is_plugin_enabled)\n\nif [[ \"$ENABLED_STATUS\" != \"true\" ]]; then\n  exit 0\nfi\n\n# Get threshold (project > user > default of 10 minutes)\nTHRESHOLD=$(resolve_config_field \"session_threshold_minutes\" \"10\")\n# Validate threshold is numeric\nif ! [[ \"$THRESHOLD\" =~ ^[0-9]+$ ]]; then\n  THRESHOLD=10\nfi\n\nif [[ \"$SESSION_START\" == \"0\" || ! \"$SESSION_START\" =~ ^[0-9]+$ ]]; then\n  # Invalid timestamp, skip\n  exit 0\nfi\n\nCURRENT_TIME=$(date +%s)\nELAPSED_SECONDS=$((CURRENT_TIME - SESSION_START))\nELAPSED_MINUTES=$((ELAPSED_SECONDS / 60))\n\n# Check if threshold exceeded\nif [[ $ELAPSED_MINUTES -lt $THRESHOLD ]]; then\n  exit 0\nfi\n\n# Get project name (used in message and custom body resolution)\nPROJECT_NAME=$(basename \"${CLAUDE_PROJECT_DIR:-$(pwd)}\")\n\n# Get custom message (project body > user body)\nCUSTOM_MESSAGE=$(get_notification_body)\n\n# Get transcript summary if available\nTASK_SUMMARY=\"\"\nif [[ -n \"${TRANSCRIPT_PATH:-}\" && -f \"${TRANSCRIPT_PATH}\" ]]; then\n  if [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then\n    TASK_SUMMARY=$(\"$SCRIPT_DIR/summarize-transcript.sh\" \"$TRANSCRIPT_PATH\" 2>&1 || echo \"\")\n  else\n    TASK_SUMMARY=$(\"$SCRIPT_DIR/summarize-transcript.sh\" \"$TRANSCRIPT_PATH\" 2>/dev/null || echo \"\")\n  fi\nfi\n\n# Build notification message parts\nMESSAGE_PARTS=()\nif [[ -n \"$CUSTOM_MESSAGE\" ]]; then\n  MESSAGE_PARTS+=(\"$CUSTOM_MESSAGE (${ELAPSED_MINUTES}m)\")\nelse\n  MESSAGE_PARTS+=(\"Claude Code session completed in $PROJECT_NAME (${ELAPSED_MINUTES}m)\")\nfi\n\nif [[ -n \"$TASK_SUMMARY\" ]]; then\n  MESSAGE_PARTS+=(\"$TASK_SUMMARY\")\nfi\n\n# Add session metadata\nif [[ -n \"${CLAUDE_CWD:-}\" ]]; then\n  MESSAGE_PARTS+=(\"Dir: ${CLAUDE_CWD}\")\nfi\nif [[ -n \"${CLAUDE_SESSION_ID:-}\" ]]; then\n  MESSAGE_PARTS+=(\"Session: ${CLAUDE_SESSION_ID}\")\nfi\n\n# Join parts with newlines\nMESSAGE=$(printf '%s\\n' \"${MESSAGE_PARTS[@]}\")\n\n# Send notification using shared script (handles JSON escaping and response validation)\nif [[ \"${TELEGRAM_DEBUG:-}\" == \"1\" ]]; then\n  echo \"Sending notification: $MESSAGE\" >&2\n  bash \"$SCRIPT_DIR/send-telegram.sh\" \"$MESSAGE\" || echo \"Warning: Failed to send session notification\" >&2\nelse\n  bash \"$SCRIPT_DIR/send-telegram.sh\" \"$MESSAGE\" > /dev/null 2>&1 || echo \"Warning: Failed to send session notification\" >&2\nfi\n\nexit 0\n",
        "plugins/telegram/hooks/scripts/summarize-transcript.sh": "#!/bin/bash\nset -euo pipefail\n\n# Summarize a Claude Code transcript for notifications\n# Usage: summarize-transcript.sh <transcript_path>\n# Returns: Brief summary of actions taken\n#\n# Design limits (to keep notifications concise):\n# - Extraction: Limit to 5 unique items per category (head -5)\n# - Display: Edit files show up to 3 names, otherwise count\n# - Display: Created files show up to 2 names, otherwise count\n# - Display: Bash commands show up to 3 command types\n\nTRANSCRIPT_PATH=\"${1:-}\"\n\nif [[ -z \"$TRANSCRIPT_PATH\" || ! -f \"$TRANSCRIPT_PATH\" ]]; then\n  echo \"\"\n  exit 0\nfi\n\nif ! command -v jq &> /dev/null; then\n  echo \"\"\n  exit 0\nfi\n\n# Extract tool usage from transcript\n# The transcript is JSONL with assistant messages containing tool_use content blocks\n\n# Get edited files (Edit tool)\nEDITED_FILES=$(jq -r 'select(.type==\"assistant\") | .message.content[]? | select(.type==\"tool_use\" and .name==\"Edit\") | .input.file_path // empty' \"$TRANSCRIPT_PATH\" 2>/dev/null | \\\n  xargs -I {} basename {} 2>/dev/null | \\\n  sort -u | head -5 || echo \"\")\n\n# Get created files (Write tool)\nCREATED_FILES=$(jq -r 'select(.type==\"assistant\") | .message.content[]? | select(.type==\"tool_use\" and .name==\"Write\") | .input.file_path // empty' \"$TRANSCRIPT_PATH\" 2>/dev/null | \\\n  grep -v '^$' | \\\n  xargs -I {} basename {} 2>/dev/null | \\\n  sort -u | head -5 || echo \"\")\n\n# Get bash commands (extract meaningful ones, skip internal commands)\nBASH_COMMANDS=$(jq -r 'select(.type==\"assistant\") | .message.content[]? | select(.type==\"tool_use\" and .name==\"Bash\") | .input.command // empty' \"$TRANSCRIPT_PATH\" 2>/dev/null | \\\n  grep -vE \"^(find |ls |cat |head |tail |echo |pwd|cd )\" 2>/dev/null | \\\n  head -5 | \\\n  sed 's/&&.*//' | \\\n  awk '{print $1, $2}' | \\\n  sort -u || echo \"\")\n\n# Get read files count\nREAD_COUNT=$(jq -r 'select(.type==\"assistant\") | .message.content[]? | select(.type==\"tool_use\" and .name==\"Read\") | .input.file_path // empty' \"$TRANSCRIPT_PATH\" 2>/dev/null | \\\n  wc -l | tr -d ' ' || echo \"0\")\n\n# Build summary parts\nSUMMARY_PARTS=()\n\n# Count edited files (grep -c . counts non-empty lines only)\nif [[ -n \"$EDITED_FILES\" ]]; then\n  EDIT_COUNT=$(echo \"$EDITED_FILES\" | grep -c . || echo 0)\nelse\n  EDIT_COUNT=0\nfi\nif [[ \"$EDIT_COUNT\" -gt 0 ]]; then\n  if [[ \"$EDIT_COUNT\" -le 3 ]]; then\n    EDIT_LIST=$(echo \"$EDITED_FILES\" | tr '\\n' ', ' | sed 's/,$//' | sed 's/,/, /g')\n    SUMMARY_PARTS+=(\"Edited: $EDIT_LIST\")\n  else\n    SUMMARY_PARTS+=(\"Edited $EDIT_COUNT files\")\n  fi\nfi\n\n# Count created files (grep -c . counts non-empty lines only)\nif [[ -n \"$CREATED_FILES\" ]]; then\n  CREATE_COUNT=$(echo \"$CREATED_FILES\" | grep -c . || echo 0)\nelse\n  CREATE_COUNT=0\nfi\nif [[ \"$CREATE_COUNT\" -gt 0 ]]; then\n  if [[ \"$CREATE_COUNT\" -le 2 ]]; then\n    CREATE_LIST=$(echo \"$CREATED_FILES\" | tr '\\n' ', ' | sed 's/,$//' | sed 's/,/, /g')\n    SUMMARY_PARTS+=(\"Created: $CREATE_LIST\")\n  else\n    SUMMARY_PARTS+=(\"Created $CREATE_COUNT files\")\n  fi\nfi\n\n# Add bash commands summary (grep -c . counts non-empty lines only)\nif [[ -n \"$BASH_COMMANDS\" ]]; then\n  CMD_COUNT=$(echo \"$BASH_COMMANDS\" | grep -c . || echo 0)\nelse\n  CMD_COUNT=0\nfi\nif [[ \"$CMD_COUNT\" -gt 0 ]]; then\n  # Extract first word of each command for summary\n  CMD_SUMMARY=$(echo \"$BASH_COMMANDS\" | awk '{print $1}' | sort -u | head -3 | tr '\\n' ', ' | sed 's/,$//' | sed 's/,/, /g')\n  if [[ -n \"$CMD_SUMMARY\" ]]; then\n    SUMMARY_PARTS+=(\"Ran: $CMD_SUMMARY\")\n  fi\nfi\n\n# If nothing significant, mention exploration\nif [[ ${#SUMMARY_PARTS[@]} -eq 0 ]]; then\n  if [[ \"$READ_COUNT\" -gt 3 ]]; then\n    SUMMARY_PARTS+=(\"Explored $READ_COUNT files\")\n  fi\nfi\n\n# Join parts with bullet points\nif [[ ${#SUMMARY_PARTS[@]} -gt 0 ]]; then\n  printf '%s\\n' \"${SUMMARY_PARTS[@]}\" | sed 's/^/ /'\nfi\n",
        "plugins/telegram/hooks/scripts/update-activity.sh": "#!/bin/bash\nset -euo pipefail\n\n# Update last activity timestamp on each user prompt\n# Called by UserPromptSubmit hook\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\n\n# Read hook input before sourcing (stdin must be captured first)\nHOOK_INPUT=$(cat)\nsource \"$SCRIPT_DIR/lib/config.sh\"\nsource \"$SCRIPT_DIR/lib/session.sh\"\nextract_session_id \"$HOOK_INPUT\"\n\n# Check if plugin is enabled\nENABLED_STATUS=$(is_plugin_enabled)\nif [[ \"$ENABLED_STATUS\" != \"true\" ]]; then\n  exit 0\nfi\n\n# Check credentials are present (skip silently if not)\n[[ -z \"${TELEGRAM_BOT_TOKEN:-}\" ]] && exit 0\n[[ -z \"${TELEGRAM_CHAT_ID:-}\" ]] && exit 0\n\n# Update activity timestamp\nSESSION_FILE=$(get_session_file_path)\nSESSION_DIR=\"$(dirname \"$SESSION_FILE\")\"\n\nmkdir -p \"$SESSION_DIR\" 2>/dev/null || true\necho \"$(date +%s)\" > \"$SESSION_FILE\" 2>/dev/null || true\n\nexit 0\n",
        "plugins/telegram/skills/telegram-messaging/SKILL.md": "---\nname: Telegram Messaging\ndescription: Send Telegram messages via /telegram command or automatic session notifications. Helps with Bot API setup, credential configuration, and troubleshooting delivery issues.\n---\n\n# Telegram Messaging\n\nSend messages to Telegram using the Bot API. The plugin provides both manual (`/telegram`) and automatic session notifications.\n\n## Quick Start\n\n```\n/telegram Your message here\n```\n\nFor setup instructions (credentials, configuration), see the [plugin README](../../README.md).\n\n## Plugin Behavior\n\n**Opt-in design:** The plugin only validates credentials and sends automatic notifications when `.claude/telegram.local.md` exists with `enabled: true`.\n\n**Manual command:** The `/telegram` command works anytime if credentials are set, regardless of the config file.\n\n## Resources\n\n- **Full documentation:** [README.md](../../README.md)\n- **Troubleshooting:** [references/troubleshooting.md](references/troubleshooting.md)\n",
        "plugins/telegram/skills/telegram-messaging/references/troubleshooting.md": "# Telegram Plugin Troubleshooting\n\nCommon issues and solutions. For setup instructions, see [README.md](../../../README.md).\n\n## Credential Issues\n\n| Error | Cause | Fix |\n|-------|-------|-----|\n| \"Missing credentials\" | Env vars not set | Set `TELEGRAM_BOT_TOKEN` and `TELEGRAM_CHAT_ID` |\n| \"Unauthorized\" | Invalid/expired token | Regenerate via @BotFather  `/mybots`  API Token |\n| \"chat not found\" | Wrong chat ID or bot not started | Verify with @userinfobot; send `/start` to bot first |\n\n## Notification Issues\n\n### Automatic notifications not sending\n\n**Checklist:**\n1. `.claude/telegram.local.md` exists?\n2. Contains `enabled: true` in frontmatter?\n3. Idle time exceeded `session_threshold_minutes`?\n4. Credentials are set?\n\n**Debug:**\n```bash\nexport TELEGRAM_DEBUG=1\n# Then run your session and check output\n```\n\n### Idle threshold not working\n\nThreshold is in **minutes**, not seconds. Measures time since your last interaction.\n\n- `10` = notifications only after 10+ minutes of inactivity\n- `0` = notify immediately when session ends (regardless of idle time)\n\n### Custom message not appearing\n\nCustom message must come after the frontmatter closing `---`:\n\n```markdown\n---\nenabled: true\nsession_threshold_minutes: 10\n---\n\nYour custom message here\n```\n\n## Message Issues\n\n### Special characters breaking messages\n\nThe plugin uses `jq` for safe JSON encoding. If issues persist:\n- Keep messages under 4096 characters (Telegram limit)\n- Avoid excessive special characters\n\n### Rate limiting (\"Too Many Requests\")\n\nTelegram allows ~30 messages/second. Normal usage won't trigger this.\n\nIf it occurs, check `retry_after` in response for wait time.\n\n## Environment Issues\n\n### Credentials not persisting\n\n`export` only works for current shell session. See [README - Credentials Setup](../../../README.md#credentials-setup) for persistence options.\n\n### Different credentials per project\n\nUse [direnv](https://direnv.net/) with `.envrc` file in project root.\n\n## Plugin Issues\n\n### Commands not available\n\n1. Is plugin in Claude Code's plugin path?\n2. Is `plugin.json` valid JSON?\n3. Restart Claude Code after adding plugins\n\n### Hooks not running\n\n1. Is `hooks/hooks.json` valid JSON?\n2. Are scripts executable? (`chmod +x hooks/scripts/*.sh`)\n3. Check for syntax errors: `bash -n hooks/scripts/*.sh`\n\n### Debug mode\n\nSee [README - Debug Mode](../../../README.md#debug-mode) for verbose output options.\n"
      },
      "plugins": [
        {
          "name": "gtr",
          "description": "Git worktree management using git-worktree-runner for parallel branch development",
          "version": "1.0.0",
          "author": {
            "name": "vampik33"
          },
          "source": "./plugins/gtr",
          "category": "Git Workflow",
          "keywords": [
            "git",
            "worktree",
            "branches",
            "parallel-development"
          ],
          "homepage": "https://github.com/vampik33/claude-plugins",
          "categories": [
            "branches",
            "git",
            "git-workflow",
            "parallel-development",
            "worktree"
          ],
          "install_commands": [
            "/plugin marketplace add vampik33/claude-plugins",
            "/plugin install gtr@vampik-plugins"
          ]
        },
        {
          "name": "telegram",
          "description": "Telegram notifications for Claude Code sessions - send messages manually or automatically after periods of inactivity",
          "version": "1.5.0",
          "author": {
            "name": "vampik33"
          },
          "source": "./plugins/telegram",
          "category": "Notifications",
          "keywords": [
            "telegram",
            "notifications",
            "messaging",
            "alerts",
            "automation"
          ],
          "homepage": "https://github.com/vampik33/claude-plugins",
          "categories": [
            "alerts",
            "automation",
            "messaging",
            "notifications",
            "telegram"
          ],
          "install_commands": [
            "/plugin marketplace add vampik33/claude-plugins",
            "/plugin install telegram@vampik-plugins"
          ]
        }
      ]
    }
  ]
}