{
  "author": {
    "id": "tomashm",
    "display_name": "Tomas Håheim Mortensen",
    "avatar_url": "https://avatars.githubusercontent.com/u/1936696?u=4d42ceaffe2aece584182cc3dc4543fffd936c5d&v=4"
  },
  "marketplaces": [
    {
      "name": "bashbouncer",
      "version": null,
      "description": "Three-tier shell command safety gate for Claude Code",
      "repo_full_name": "tomashm/bashbouncer",
      "repo_url": "https://github.com/tomashm/bashbouncer",
      "repo_description": "For those who run `claude --dangerously-skip-permissions` but still want a safety net.",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-11T21:37:01Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"bashbouncer\",\n  \"owner\": {\n    \"name\": \"tomashm\"\n  },\n  \"metadata\": {\n    \"description\": \"Three-tier shell command safety gate for Claude Code\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"bashbouncer\",\n      \"source\": \"./\",\n      \"description\": \"Three-tier shell command safety gate: static rules, LLM, ask user\",\n      \"homepage\": \"https://github.com/tomashm/bashbouncer\",\n      \"repository\": \"https://github.com/tomashm/bashbouncer\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"bashbouncer\",\n  \"description\": \"Shell command safety gate: settings.json fast-path, LLM classification, ask user\",\n  \"version\": \"0.2.4\"\n}\n",
        "README.md": "# BashBouncer\n\nA shell command safety gate for Claude Code that learns as you use it. Intercepts every Bash call before it runs.\n\nFor those who run `claude --dangerously-skip-permissions` but still want a safety net.\n\n## Example session\n```\n❯ claude --dangerously-skip-permissions\n\n ▐▛███▜▌   Claude Code v2.1.39\n▝▜█████▛▘  Opus 4.6 · Claude API\n  ▘▘ ▝▝    /Users/tomashm\n\n❯ ssh to 192.168.1.1 and reboot it using \"shutdown\"\n\n⏺ This will reboot a remote machine, which disrupts any running services and active connections. Before I proceed:\n\n  - Is this a device you control (e.g., home router at 192.168.1.1)?\n  - Are you fine with immediate reboot (shutdown -r now)?\n\n  If so, I'll run:\n\n  ssh 192.168.1.1 'sudo shutdown -r now'\n\n  Confirm and I'll execute it.\n\n❯ yes\n\n⏺ Bash(ssh 192.168.1.1 'sudo shutdown -r now')\n  ⎿  PreToolUse:Bash hook returned blocking error\n  ⎿  Error: BashBouncer LLM flagged as unsafe\n\n────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\n ☐ ssh\n\n`ssh 192.168.1.1 'sudo shutdown -r now'` was flagged by BashBouncer. How should it be handled?\n\n❯ 1. Allow once\n     Run this time only\n  2. Allow\n     Teach BashBouncer that ssh is safe\n  3. Block\n     Don't run it\n  4. Block always\n     Teach BashBouncer to always block this\n  5. Type something.\n────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\n  6. Chat about this\n\nEnter to select · ↑/↓ to navigate · Esc to cancel\n```\n\n## How it works\n\n```\ncommand ──► prefix rules ──► LLM ──► ask you\n                 │             │          │\n            allow/deny     allow/deny  allow/deny\n```\n\n**Prefix rules** are checked first — zero latency. Reads `Bash(prefix:*)` entries from Claude Code's settings files (all four: `<project>/.claude/settings.local.json`, `<project>/.claude/settings.json`, `~/.claude/settings.local.json`, `~/.claude/settings.json`). Prefix matches are hard allow/deny — no LLM call, no user prompt.\n\n**LLM classification** handles everything else — destructive git flags, secret variable references, file ops outside project root, cloud CLI mutations, system-wide installs. Uses Cerebras for fast, cheap inference (3s timeout — falls back to allow if the API is slow). LLM memory is managed in `.claude/bashbouncer.local.md`.\n\n**Ask you** is the fallback. If the LLM flags a command as unsafe or can't decide, you get four options: allow once, allow (teaches BashBouncer), block, or block always.\n\n## What you'll see\n\n**Nothing, most of the time.** Prefix-matched commands run silently. LLM-approved commands run with a subtle timing annotation.\n\nWhen BashBouncer isn't sure, Claude asks you to allow or deny. If you allow, it offers to remember your choice so you're not asked again.\n\n## Customizing rules\n\nCreate `.claude/bashbouncer.local.md` in your project root, or just let BashBouncer update this file for you as you allow/block commands:\n\n```markdown\nssh to *.staging.example.com is safe.\nRails console is a normal part of our workflow.\nNever allow terraform destroy.\n```\n\nThis file is passed as additional context to the LLM classifier. Write project-specific knowledge in natural language — the LLM reads it and applies it with nuance.\n\n## Installation\n\nBashBouncer uses [Cerebras](https://cloud.cerebras.ai/) for LLM classification (lightning fast, free API keys, generous limits):\n\n```bash\n# Add to your shell profile (~/.zshrc, ~/.bashrc, etc.)\nexport CEREBRAS_API_KEY=your-key-here\n```\n\nThen install the plugin:\n\n```bash\n# Add marketplace\nclaude plugin marketplace add tomashm/bashbouncer\n\n# Install plugin\nclaude plugin install bashbouncer@bashbouncer\n\n# Update later\nclaude plugin update bashbouncer@bashbouncer\n```\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "bashbouncer",
          "source": "./",
          "description": "Three-tier shell command safety gate: static rules, LLM, ask user",
          "homepage": "https://github.com/tomashm/bashbouncer",
          "repository": "https://github.com/tomashm/bashbouncer",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add tomashm/bashbouncer",
            "/plugin install bashbouncer@bashbouncer"
          ]
        }
      ]
    }
  ]
}