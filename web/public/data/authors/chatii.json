{
  "author": {
    "id": "chatii",
    "display_name": "Taichi Inaba",
    "avatar_url": "https://avatars.githubusercontent.com/u/1707999?u=51770d3a44eedcbf6ff687b57cecaffe448365a2&v=4"
  },
  "marketplaces": [
    {
      "name": "chatii-plugins",
      "version": null,
      "description": "chatii's Claude Code plugins collection",
      "repo_full_name": "chatii/claude-code-finding-tanaoroshi",
      "repo_url": "https://github.com/chatii/claude-code-finding-tanaoroshi",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-03T15:40:21Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"chatii-plugins\",\n  \"description\": \"chatii's Claude Code plugins collection\",\n  \"owner\": {\n    \"name\": \"chatii\",\n    \"email\": \"chatii@inbaa.dev\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"tanaoroshi\",\n      \"description\": \"セッションログから価値ある発見を抽出し、プロジェクト知識として蓄積する棚卸しプラグイン\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"chatii\",\n        \"email\": \"chatii@inbaa.dev\"\n      },\n      \"source\": \"./\",\n      \"category\": \"productivity\",\n      \"homepage\": \"https://github.com/chatii/claude-code-finding-tanaoroshi\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"tanaoroshi\",\n  \"version\": \"1.0.0\",\n  \"description\": \"セッションログから価値ある発見を抽出し、プロジェクト知識として蓄積する棚卸しプラグイン\",\n  \"author\": {\n    \"name\": \"chatii\",\n    \"email\": \"chatii@inbaa.dev\"\n  },\n  \"license\": \"MIT\",\n  \"repository\": \"https://github.com/chatii/claude-code-finding-tanaoroshi\"\n}\n",
        "README.md": "# tanaoroshi - セッションログ棚卸しプラグイン\n\nClaude Codeとのセッションログから価値ある発見（Findings）を抽出し、プロジェクト知識として蓄積するプラグイン。\n\n## 特徴\n\n- **自動保存**: セッション終了時にログを自動保存\n- **棚卸し**: 「棚卸しして」と言うだけで発見を抽出・整理\n- **カテゴリ管理**: ユーザー定義カテゴリ + 自動振り分け\n- **Claude Codeとの連携**: 蓄積した知識を自動参照するルールを生成\n\n## プラグインの影響範囲\n\nこのプラグインがプロジェクトに与える影響の一覧です。\n\n### 読み取り\n| 対象 | タイミング | 説明 |\n|------|-----------|------|\n| セッションログ（`.jsonl`） | 棚卸し実行時 | Claude Codeが自動生成するトランスクリプト |\n| `.claude/tanaoroshi.json` | 棚卸し実行時 | カテゴリ設定の読み込み |\n\n### 作成・更新\n| 対象 | タイミング | 説明 |\n|------|-----------|------|\n| `.claude/.tanaoroshi/logs/pending/*.jsonl` | セッション終了時 | セッションログのコピーを保存 |\n| `.claude/.tanaoroshi/.gitignore` | 初回セッション終了時 | ログをGit管理外にする |\n| `.claude/findings/**/*.md` | 棚卸し実行時 | 抽出した発見を保存 |\n| `.claude/findings/index.md` | 棚卸し実行時 | 発見の一覧を更新 |\n| `.claude/rules/findings.md` | 棚卸し実行時 | 自動参照ルールを生成 |\n\n### 移動・削除\n| 対象 | タイミング | 説明 |\n|------|-----------|------|\n| 処理済みログ → `logs/{year}/{month}/` | 棚卸し実行時 | 有用なログをアーカイブ |\n| 不要なログ → 削除 | 棚卸し実行時 | 発見がないログを削除 |\n\n## 処理フロー\n\n```mermaid\nflowchart TD\n    subgraph \"セッション終了時（自動）\"\n        A[セッション終了] --> B[SessionEnd Hook 発火]\n        B --> C[save-session-log.sh 実行]\n        C --> D[ログを pending/ にコピー]\n    end\n\n    subgraph \"棚卸し実行時（手動）\"\n        E[\"「棚卸しして」\"] --> F[tanaoroshi Skill 起動]\n        F --> G[tanaoroshi.json 読み込み]\n        G --> H[pending/*.jsonl を取得]\n        H --> I{ログあり?}\n        I -->|No| J[終了]\n        I -->|Yes| K[jq でメッセージ抽出]\n        K --> L{棚卸しセッション<br>自体?}\n        L -->|Yes| M[ログを削除]\n        L -->|No| N[発見を抽出]\n        N --> O{価値ある<br>発見あり?}\n        O -->|No| M\n        O -->|Yes| P[カテゴリを判定]\n        P --> Q[findings/*.md に保存]\n        Q --> R[index.md 更新]\n        R --> S[rules/findings.md 生成]\n        S --> T[\"ログを {year}/{month}/ に移動\"]\n        T --> U[結果を報告]\n    end\n```\n\n## インストール\n\n### 方法1: 手動インストール\n```bash\n/plugin marketplace add chatii/claude-code-finding-tanaoroshi\n/plugin install tanaoroshi\n```\n\n### 方法2: プロジェクト設定で共有\nプロジェクトの `.claude/settings.json` に追加すると、チームメンバー全員が自動的に利用可能：\n\n```json\n{\n  \"extraKnownMarketplaces\": {\n    \"chatii-plugins\": {\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"chatii/claude-code-finding-tanaoroshi\"\n      }\n    }\n  },\n  \"enabledPlugins\": {\n    \"tanaoroshi@chatii-plugins\": true\n  }\n}\n```\n\n## 使い方\n\n```\n棚卸しして\n```\n\nまたは `セッションログを整理して` / `発見をまとめて` でも実行可能。\n\n### ディレクトリ構成\n```\n.claude/\n├── tanaoroshi.json              # 設定ファイル\n├── findings/                    # 発見の蓄積先\n│   ├── index.md                 # 発見の一覧\n│   ├── {category}/              # ユーザー定義カテゴリ\n│   └── _etc/                    # 自動振り分けカテゴリ\n│       └── {autoCategoryName}/\n├── rules/\n│   └── findings.md              # 自動生成される参照ルール\n└── .tanaoroshi/\n    └── logs/\n        ├── pending/             # 未処理ログ\n        └── {year}/{month}/      # 処理済みログ\n```\n\n## 設定\n\n`.claude/tanaoroshi.json` を作成：\n```json\n{\n  \"outputDir\": \".claude/findings\",\n  \"categories\": [\n    { \"name\": \"docker\" },\n    { \"name\": \"testing\" },\n    {\n      \"name\": \"decisions\",\n      \"description\": \"技術選択の理由、方針決定の経緯\"\n    }\n  ]\n}\n```\n\n| キー | デフォルト | 説明 |\n|------|-----------|------|\n| `outputDir` | `.claude/findings` | 発見の出力先 |\n| `categories` | `[]` | カテゴリ定義の配列 |\n\n### カテゴリの振り分け\n\n1. 設定された `categories` に当てはまる → `{outputDir}/{name}/`\n2. どれにも当てはまらない → `{outputDir}/_etc/{autoCategoryName}/`\n\n`_etc/` に同じカテゴリが増えてきたら、`categories` に追加して正式なカテゴリに昇格できる。\n\n## 記録される発見\n\n### 記録すべきもの\n\n- マニュアルに書いてない挙動\n- 実際にやってみて初めてわかったこと\n- 特定の組み合わせでの挙動\n- ハマりポイントと解決策\n- ベストプラクティス\n- 技術選択の理由と経緯\n\n### 記録しないもの\n\n- 概念の一般的な説明\n- 公式ドキュメントのコピー\n- 単純な使い方\n\n## 要件\n\n- Claude Code v2.0.12 以上\n- jq（セッションログの処理に使用）\n\n## ライセンス\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "tanaoroshi",
          "description": "セッションログから価値ある発見を抽出し、プロジェクト知識として蓄積する棚卸しプラグイン",
          "version": "1.0.0",
          "author": {
            "name": "chatii",
            "email": "chatii@inbaa.dev"
          },
          "source": "./",
          "category": "productivity",
          "homepage": "https://github.com/chatii/claude-code-finding-tanaoroshi",
          "categories": [
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add chatii/claude-code-finding-tanaoroshi",
            "/plugin install tanaoroshi@chatii-plugins"
          ]
        }
      ]
    }
  ]
}