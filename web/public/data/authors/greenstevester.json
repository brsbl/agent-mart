{
  "author": {
    "id": "greenstevester",
    "display_name": "steve greensill",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/2203987?u=49634d88e6a17b5bf93129ca61fa5faa0e48ca86&v=4",
    "url": "https://github.com/greenstevester",
    "bio": "That's not a knife.",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 5,
      "total_commands": 0,
      "total_skills": 5,
      "total_stars": 3,
      "total_forks": 1
    }
  },
  "marketplaces": [
    {
      "name": "fastlane-skill",
      "version": "1.1.0",
      "description": "Claude Code skills for iOS/macOS app automation with Fastlane",
      "owner_info": {
        "name": "greenstevester"
      },
      "keywords": [],
      "repo_full_name": "greenstevester/fastlane-skill",
      "repo_url": "https://github.com/greenstevester/fastlane-skill",
      "repo_description": "AI skill to setup and use fastlane to automate building and releasing your iOS and Android apps",
      "homepage": null,
      "signals": {
        "stars": 3,
        "forks": 1,
        "pushed_at": "2026-01-02T11:47:24Z",
        "created_at": "2025-12-28T12:56:54Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 2073
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 271
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/beta",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/beta/SKILL.md",
          "type": "blob",
          "size": 2241
        },
        {
          "path": "skills/match",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/match/SKILL.md",
          "type": "blob",
          "size": 7649
        },
        {
          "path": "skills/release",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/release/SKILL.md",
          "type": "blob",
          "size": 3259
        },
        {
          "path": "skills/setup-fastlane",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/setup-fastlane/SKILL.md",
          "type": "blob",
          "size": 4175
        },
        {
          "path": "skills/snapshot",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/snapshot/SKILL.md",
          "type": "blob",
          "size": 8042
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"fastlane-skill\",\n  \"version\": \"1.1.0\",\n  \"description\": \"Claude Code skills for iOS/macOS app automation with Fastlane\",\n  \"owner\": {\n    \"name\": \"greenstevester\"\n  },\n  \"repository\": \"https://github.com/greenstevester/fastlane-skill\",\n  \"plugins\": [\n    {\n      \"name\": \"setup-fastlane\",\n      \"description\": \"Set up Fastlane for iOS/macOS app automation with Homebrew\",\n      \"source\": \"./skills/setup-fastlane\",\n      \"version\": \"1.1.0\",\n      \"homepage\": \"https://github.com/greenstevester/fastlane-skill/blob/main/skills/setup-fastlane/SKILL.md\",\n      \"author\": {\n        \"name\": \"greenstevester\"\n      }\n    },\n    {\n      \"name\": \"beta\",\n      \"description\": \"Upload builds to TestFlight for beta testing\",\n      \"source\": \"./skills/beta\",\n      \"version\": \"1.1.0\",\n      \"homepage\": \"https://github.com/greenstevester/fastlane-skill/blob/main/skills/beta/SKILL.md\",\n      \"author\": {\n        \"name\": \"greenstevester\"\n      }\n    },\n    {\n      \"name\": \"release\",\n      \"description\": \"Submit app to the App Store with metadata and screenshots\",\n      \"source\": \"./skills/release\",\n      \"version\": \"1.1.0\",\n      \"homepage\": \"https://github.com/greenstevester/fastlane-skill/blob/main/skills/release/SKILL.md\",\n      \"author\": {\n        \"name\": \"greenstevester\"\n      }\n    },\n    {\n      \"name\": \"match\",\n      \"description\": \"Set up Match for iOS code signing certificate management\",\n      \"source\": \"./skills/match\",\n      \"version\": \"1.1.0\",\n      \"homepage\": \"https://github.com/greenstevester/fastlane-skill/blob/main/skills/match/SKILL.md\",\n      \"author\": {\n        \"name\": \"greenstevester\"\n      }\n    },\n    {\n      \"name\": \"snapshot\",\n      \"description\": \"Automate App Store screenshot capture across devices and languages\",\n      \"source\": \"./skills/snapshot\",\n      \"version\": \"1.1.0\",\n      \"homepage\": \"https://github.com/greenstevester/fastlane-skill/blob/main/skills/snapshot/SKILL.md\",\n      \"author\": {\n        \"name\": \"greenstevester\"\n      }\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"fastlane-skill\",\n  \"version\": \"1.1.0\",\n  \"description\": \"Claude Code skills for iOS/macOS app automation with Fastlane\",\n  \"author\": {\n    \"name\": \"greenstevester\"\n  },\n  \"repository\": \"https://github.com/greenstevester/fastlane-skill\",\n  \"license\": \"MIT\"\n}\n",
        "skills/beta/SKILL.md": "---\nname: beta\ndescription: Build and upload iOS app to TestFlight\nargument-hint: [--skip-build-increment] [--external] [--changelog \"text\"]\nallowed-tools: Bash, Read\n---\n\n## TestFlight Beta Release\n\nBuild and upload the iOS app to TestFlight for beta testing.\n\n### Pre-flight Checks\n- Fastlane installed: !`fastlane --version 2>/dev/null | grep \"fastlane \" | head -1 || echo \"✗ Not installed - run: brew install fastlane\"`\n- Fastfile exists: !`ls fastlane/Fastfile 2>/dev/null && echo \"✓ Found\" || echo \"✗ Not found - run /setup-fastlane first\"`\n- App-specific password: !`[ -n \"$FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD\" ] && echo \"✓ Set\" || echo \"⚠️ Not set - export FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD='xxxx-xxxx-xxxx-xxxx'\"`\n\n### Arguments: ${ARGUMENTS:-none}\n\n---\n\n## What This Does\n\n1. **Syncs certificates** via Match (appstore type)\n2. **Increments build number** (unless `--skip-build-increment`)\n3. **Builds release archive** with gym\n4. **Uploads to TestFlight** via pilot\n5. **Optionally distributes to external testers** (if `--external`)\n\n---\n\n## Commands\n\n### Standard Beta (Internal Testers)\n```bash\ncd project/product/swiftui-ios-app  # or your fastlane directory\nfastlane beta\n```\n\n### Skip Build Number Increment\n```bash\nfastlane beta skip_build_increment:true\n```\n\n### External Testers (with changelog)\n```bash\nfastlane beta_external changelog:\"Bug fixes and performance improvements\"\n```\n\n---\n\n## Troubleshooting\n\n### \"No value found for 'username'\"\nSet your Apple ID in `fastlane/Appfile`:\n```ruby\napple_id(\"your@email.com\")\n```\n\n### \"Please sign in with an app-specific password\"\n1. Go to https://account.apple.com → Sign-In & Security → App-Specific Passwords\n2. Generate a password named \"Fastlane\"\n3. Export it:\n```bash\nexport FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD='xxxx-xxxx-xxxx-xxxx'\n```\n\n### rsync error during export\nIf you see `--extended-attributes: unknown option`, Homebrew rsync conflicts with Xcode:\n```bash\nbrew uninstall rsync  # Use system rsync\n```\n\n---\n\n## After Upload\n\n- Build will appear in TestFlight within 1-5 minutes\n- Internal testers are notified automatically\n- External testers require `beta_external` lane or manual distribution in App Store Connect\n",
        "skills/match/SKILL.md": "---\nname: match\ndescription: Set up Match for iOS code signing certificate management\nargument-hint: [--readonly] [--type development|appstore|adhoc]\nallowed-tools: Bash, Read, Write, Edit\n---\n\n## Code Signing with Match\n\nSet up Fastlane Match to manage iOS code signing certificates and provisioning profiles in a shared Git repository.\n\n### Pre-flight Checks\n- Fastlane installed: !`fastlane --version 2>/dev/null | grep \"fastlane \" | head -1 || echo \"✗ Not installed - run: brew install fastlane\"`\n- Fastfile exists: !`ls fastlane/Fastfile 2>/dev/null && echo \"✓ Found\" || echo \"✗ Not found - run /setup-fastlane first\"`\n- Existing Matchfile: !`ls fastlane/Matchfile 2>/dev/null && echo \"✓ Already configured\" || echo \"○ Not configured yet\"`\n- Git available: !`git --version 2>/dev/null | head -1 || echo \"✗ Git not installed\"`\n\n### Arguments: ${ARGUMENTS:-setup}\n\n---\n\n## What is Match?\n\nMatch stores your iOS certificates and provisioning profiles in a **private Git repository**, encrypted with a passphrase. Benefits:\n\n- **Team sharing**: Everyone uses the same certificates (no more \"works on my machine\")\n- **CI/CD ready**: Clone the repo in your pipeline, no manual cert management\n- **Revoke protection**: Prevents accidental certificate revocation\n- **Audit trail**: Git history shows who changed what and when\n\n---\n\n## Step 1: Create a Private Git Repository\n\nCreate a **private** repository to store your encrypted certificates:\n\n```bash\n# GitHub CLI (recommended)\ngh repo create certificates --private --clone\ncd certificates && cd ..\n\n# Or manually at github.com/new (select Private)\n```\n\n**Repository naming conventions:**\n- `certificates` or `ios-certificates`\n- `fastlane-certs`\n- `{company}-signing`\n\n> **Security**: This repo will contain encrypted certificates. Keep it private and limit access to team members who need to build the app.\n\n---\n\n## Step 2: Initialize Match\n\nRun match init to create your Matchfile:\n\n```bash\nfastlane match init\n```\n\nWhen prompted:\n1. **Storage mode**: Select `git`\n2. **Git URL**: Enter your private repo URL (e.g., `git@github.com:yourorg/certificates.git`)\n\nThis creates `fastlane/Matchfile`:\n\n```ruby\ngit_url(\"git@github.com:yourorg/certificates.git\")\n\nstorage_mode(\"git\")\n\ntype(\"development\") # Default type, can be overridden per-lane\n\n# app_identifier([\"com.yourcompany.app\"])  # Optional: limit to specific apps\n# username(\"user@example.com\")              # Optional: Apple ID\n```\n\n---\n\n## Step 3: Generate Certificates\n\nGenerate certificates for each distribution type:\n\n### Development (for debugging on devices)\n```bash\nfastlane match development\n```\n\n### App Store (for TestFlight and App Store)\n```bash\nfastlane match appstore\n```\n\n### Ad Hoc (for direct device distribution)\n```bash\nfastlane match adhoc\n```\n\n**First run prompts:**\n1. **Apple ID**: Your Apple Developer account email\n2. **Passphrase**: Create a strong passphrase to encrypt certificates (save this securely!)\n\n> **Important**: Save the passphrase in a password manager. You'll need it for CI/CD and new team members.\n\n---\n\n## Step 4: Integrate with Fastfile\n\nUpdate your lanes to use Match before building:\n\n```ruby\ndefault_platform(:ios)\n\nplatform :ios do\n  desc \"Sync all certificates\"\n  lane :sync_signing do\n    match(type: \"development\")\n    match(type: \"appstore\")\n  end\n\n  desc \"Build for TestFlight\"\n  lane :beta do |options|\n    match(type: \"appstore\", readonly: true)\n    increment_build_number unless options[:skip_build_increment]\n    gym(scheme: \"YourApp\", export_method: \"app-store\")\n    pilot(skip_waiting_for_build_processing: true)\n  end\n\n  desc \"Build for App Store\"\n  lane :release do\n    match(type: \"appstore\", readonly: true)\n    increment_build_number\n    gym(scheme: \"YourApp\", export_method: \"app-store\")\n    deliver(submit_for_review: false, force: true)\n  end\nend\n```\n\n**Key pattern**: Use `readonly: true` in build lanes to prevent accidental certificate regeneration.\n\n---\n\n## Step 5: Onboard Team Members\n\nNew team members run:\n\n```bash\n# Clone and decrypt existing certificates (readonly)\nfastlane match development --readonly\nfastlane match appstore --readonly\n```\n\nThey'll need:\n1. Access to the private certificates repository\n2. The Match passphrase\n3. Apple Developer team membership\n\n**Readonly mode** ensures they can't accidentally revoke or regenerate certificates.\n\n---\n\n## Step 6: CI/CD Setup\n\nSet these environment variables in your CI/CD system:\n\n```bash\n# Required\nMATCH_PASSWORD=\"your-match-passphrase\"\nMATCH_GIT_URL=\"git@github.com:yourorg/certificates.git\"\n\n# For App Store Connect (choose one method)\n# Method 1: App-specific password\nFASTLANE_USER=\"your@appleid.com\"\nFASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD=\"xxxx-xxxx-xxxx-xxxx\"\n\n# Method 2: API Key (recommended for CI)\nAPP_STORE_CONNECT_API_KEY_ID=\"ABC123\"\nAPP_STORE_CONNECT_API_KEY_ISSUER_ID=\"xyz-xyz-xyz\"\nAPP_STORE_CONNECT_API_KEY_KEY=\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"\n```\n\n### GitHub Actions Example\n\n```yaml\n- name: Install certificates\n  run: fastlane match appstore --readonly\n  env:\n    MATCH_PASSWORD: ${{ secrets.MATCH_PASSWORD }}\n    MATCH_GIT_URL: ${{ secrets.MATCH_GIT_URL }}\n```\n\n### Xcode Cloud\n\nAdd to `ci_scripts/ci_post_clone.sh`:\n```bash\n# Install Fastlane and sync certificates\nbrew install fastlane\nfastlane match appstore --readonly\n```\n\nSet `MATCH_PASSWORD` in Xcode Cloud environment variables.\n\n---\n\n## Troubleshooting\n\n### \"Couldn't decrypt the repo\"\nWrong passphrase. Verify `MATCH_PASSWORD` is correct.\n\n### \"Code signing error: No provisioning profiles\"\nRun `fastlane match appstore` (without `--readonly`) to generate profiles.\n\n### \"Your certificate has been revoked\"\nSomeone revoked certs in Apple Developer portal. Regenerate:\n```bash\nfastlane match nuke development  # Removes all development certs\nfastlane match development       # Regenerates\n```\n\n### \"Multiple teams found\"\nSpecify team in Matchfile:\n```ruby\nteam_id(\"ABCD1234\")\n```\n\n### \"Unable to find app with bundle identifier\"\nRegister the app first:\n```bash\nfastlane produce create -a com.yourcompany.app -n \"Your App Name\"\n```\n\n---\n\n## Match Commands Reference\n\n```bash\n# Setup\nfastlane match init                    # Create Matchfile\nfastlane match development             # Generate dev certs\nfastlane match appstore                # Generate App Store certs\nfastlane match adhoc                   # Generate Ad Hoc certs\n\n# Team use (readonly - won't modify certs)\nfastlane match development --readonly\nfastlane match appstore --readonly\n\n# Maintenance\nfastlane match nuke development        # Revoke all dev certs\nfastlane match nuke distribution       # Revoke all dist certs\nfastlane match change_password         # Change encryption passphrase\n\n# Debugging\nfastlane match development --verbose   # Detailed output\n```\n\n---\n\n## Security Best Practices\n\n1. **Private repository**: Never make the certificates repo public\n2. **Strong passphrase**: Use 20+ characters, store in password manager\n3. **Limit access**: Only team members who build should have repo access\n4. **Rotate periodically**: Change passphrase annually with `match change_password`\n5. **API keys over passwords**: Use App Store Connect API keys for CI/CD\n\n---\n\n## Files Created\n\n```\nfastlane/\n└── Matchfile          # Match configuration\n\n# In your certificates repo:\ncerts/\n├── development/       # Development certificates\n└── distribution/      # App Store/Ad Hoc certificates\nprofiles/\n├── development/       # Development provisioning profiles\n├── appstore/          # App Store provisioning profiles\n└── adhoc/             # Ad Hoc provisioning profiles\n```\n",
        "skills/release/SKILL.md": "---\nname: release\ndescription: Submit iOS app to App Store for review\nargument-hint: [--version \"1.x.x\"] [--auto-release] [--skip-metadata]\nallowed-tools: Bash, Read\n---\n\n## App Store Production Release\n\nSubmit the iOS app to App Store Connect for review and release.\n\n### Pre-flight Checks\n- Fastlane installed: !`fastlane --version 2>/dev/null | grep \"fastlane \" | head -1 || echo \"✗ Not installed - run: brew install fastlane\"`\n- Fastfile exists: !`ls fastlane/Fastfile 2>/dev/null && echo \"✓ Found\" || echo \"✗ Not found - run /setup-fastlane first\"`\n- App-specific password: !`[ -n \"$FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD\" ] && echo \"✓ Set\" || echo \"⚠️ Not set - export FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD='xxxx-xxxx-xxxx-xxxx'\"`\n\n### Arguments: ${ARGUMENTS:-none}\n\n---\n\n## What This Does\n\n### `fastlane release` (Submit Existing Build)\n1. **Selects latest TestFlight build** already uploaded\n2. **Submits for App Store review**\n3. Ideal when you've already tested a beta build\n\n### `fastlane release_full` (Full Pipeline)\n1. **Syncs certificates** via Match (appstore type)\n2. **Bumps version number** (if `version:` provided)\n3. **Increments build number**\n4. **Builds release archive** with gym\n5. **Uploads to App Store Connect**\n6. **Submits for review**\n7. **Auto-releases after approval** (if `auto_release:true`)\n\n---\n\n## Commands\n\n### Submit Existing TestFlight Build\n```bash\ncd project/product/swiftui-ios-app  # or your fastlane directory\nfastlane release\n```\n\n### Full Release with Version Bump\n```bash\nfastlane release_full version:\"1.1.0\"\n```\n\n### Full Release with Auto-Release\n```bash\nfastlane release_full version:\"1.2.0\" auto_release:true\n```\nThis will automatically release to the App Store once Apple approves the build.\n\n---\n\n## Workflow Recommendation\n\n1. **Test first**: Run `fastlane beta` to upload to TestFlight\n2. **Verify in TestFlight**: Ensure the build works correctly\n3. **Submit for review**: Run `fastlane release` to submit the tested build\n4. **Or full pipeline**: Use `fastlane release_full` for a fresh build + submit\n\n---\n\n## Troubleshooting\n\n### \"No value found for 'username'\"\nSet your Apple ID in `fastlane/Appfile`:\n```ruby\napple_id(\"your@email.com\")\n```\n\n### \"Please sign in with an app-specific password\"\n1. Go to https://account.apple.com → Sign-In & Security → App-Specific Passwords\n2. Generate a password named \"Fastlane\"\n3. Export it:\n```bash\nexport FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD='xxxx-xxxx-xxxx-xxxx'\n```\n\n### \"The provided entity includes an attribute with a value that has already been used\"\nThe version number already exists. Increment the version:\n```bash\nfastlane release_full version:\"1.0.1\"\n```\n\n### Build rejected or needs changes\n1. Address Apple's feedback\n2. Increment build number and re-upload:\n```bash\nfastlane beta\n```\n3. Submit again:\n```bash\nfastlane release\n```\n\n---\n\n## After Submission\n\n- **Review time**: Typically 24-48 hours (can be longer)\n- **Check status**: App Store Connect → My Apps → Your App → App Store\n- **If rejected**: Review feedback, fix issues, increment build, resubmit\n- **If approved with auto_release**: App goes live immediately\n- **If approved without auto_release**: Manually release in App Store Connect\n\n",
        "skills/setup-fastlane/SKILL.md": "---\nname: setup-fastlane\ndescription: Set up Fastlane for iOS/macOS app automation\nargument-hint: [project-path]\nallowed-tools: Bash, Read, Write, Edit, Glob\n---\n\n## Fastlane Setup (One-Time)\n\n```\n┌─────────────────────────────────────────────────────────────────┐\n│  ONE-TIME SETUP                                                 │\n│  ══════════════                                                 │\n│  After this, you'll have:                                       │\n│                                                                 │\n│    fastlane ios test    → Run tests                             │\n│    fastlane ios beta    → Upload to TestFlight                  │\n│    fastlane ios release → Submit to App Store                   │\n│                                                                 │\n│  Do this once per project. Takes ~10 minutes.                   │\n└─────────────────────────────────────────────────────────────────┘\n```\n\n### Environment Check\n- Xcode CLI: !`xcode-select -p 2>/dev/null && echo \"✓\" || echo \"✗ Run: xcode-select --install\"`\n- Homebrew: !`brew --version 2>/dev/null | head -1 || echo \"✗ Run: /bin/bash -c \\\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\\\"\"`\n- Fastlane: !`fastlane --version 2>/dev/null | grep -o \"fastlane [0-9.]*\" | head -1 || echo \"✗ Run: brew install fastlane\"`\n\n### Your Project\n- Project: !`find . -maxdepth 2 -name \"*.xcodeproj\" 2>/dev/null | head -1 || echo \"None found\"`\n- Workspace: !`find . -maxdepth 2 -name \"*.xcworkspace\" ! -path \"*/.build/*\" ! -path \"*/xcodeproj/*\" 2>/dev/null | head -1 || echo \"None\"`\n- Bundle ID: !`grep -r \"PRODUCT_BUNDLE_IDENTIFIER\" --include=\"*.pbxproj\" . 2>/dev/null | head -1 | sed 's/.*= //' | tr -d '\";' || echo \"Not found\"`\n- Team ID: !`grep -r \"DEVELOPMENT_TEAM\" --include=\"*.pbxproj\" . 2>/dev/null | head -1 | sed 's/.*= //' | tr -d '\";' || echo \"Not found\"`\n\n### Target: ${ARGUMENTS:-current directory}\n\n---\n\n## Step 1: Install Fastlane\n\n```bash\nbrew install fastlane\n```\n\n> **Why Homebrew?** Bundler 4.x broke Fastlane's Ruby dependencies. Homebrew avoids all version conflicts.\n\n---\n\n## Step 2: Create Configuration Files\n\n### `fastlane/Appfile`\n```ruby\napp_identifier(\"{{BUNDLE_ID}}\")  # Your bundle ID\napple_id(\"{{APPLE_ID}}\")         # Your Apple ID email\nteam_id(\"{{TEAM_ID}}\")           # Your team ID\n```\n\n### `fastlane/Fastfile`\n```ruby\ndefault_platform(:ios)\n\nplatform :ios do\n  desc \"Run tests\"\n  lane :test do\n    scan(scheme: \"{{SCHEME}}\")\n  end\n\n  desc \"Upload to TestFlight\"\n  lane :beta do\n    increment_build_number\n    gym(scheme: \"{{SCHEME}}\", export_method: \"app-store\")\n    pilot(skip_waiting_for_build_processing: true)\n  end\n\n  desc \"Submit to App Store\"\n  lane :release do\n    increment_build_number\n    gym(scheme: \"{{SCHEME}}\", export_method: \"app-store\")\n    deliver(submit_for_review: false, force: true)\n  end\nend\n```\n\nReplace `{{SCHEME}}` with your app's scheme name (usually the app name).\n\n---\n\n## Step 3: Set Up Metadata (Optional)\n\nDownload your existing App Store listing:\n```bash\nfastlane deliver download_metadata\nfastlane deliver download_screenshots\n```\n\nThis creates `fastlane/metadata/` with editable text files for your app description, keywords, etc.\n\n---\n\n## You're Done!\n\n```bash\n# Verify setup\nfastlane lanes\n\n# Run your first lane\nfastlane ios test\n```\n\n### Quick Reference\n| Command | What it does |\n|---------|--------------|\n| `fastlane ios test` | Run tests |\n| `fastlane ios beta` | Build + TestFlight |\n| `fastlane ios release` | Build + App Store |\n| `fastlane deliver download_metadata` | Fetch App Store listing |\n\n---\n\n## Next Steps\n\n- **Code signing issues?** Ask: \"Set up Match for code signing\"\n- **Need screenshots?** Ask: \"Automate my App Store screenshots\"\n- **CI/CD setup?** See [Xcode Cloud guide](../../docs/xcode-cloud.md)\n",
        "skills/snapshot/SKILL.md": "---\nname: snapshot\ndescription: Automate App Store screenshot capture across devices and languages\nargument-hint: [--devices \"iPhone 15 Pro\"] [--languages \"en-US,ja\"]\nallowed-tools: Bash, Read, Write, Edit\n---\n\n## Automated App Store Screenshots\n\nSet up Fastlane Snapshot to automatically capture App Store screenshots across multiple devices and languages.\n\n### Pre-flight Checks\n- Fastlane installed: !`fastlane --version 2>/dev/null | grep \"fastlane \" | head -1 || echo \"✗ Not installed - run: brew install fastlane\"`\n- Fastfile exists: !`ls fastlane/Fastfile 2>/dev/null && echo \"✓ Found\" || echo \"✗ Not found - run /setup-fastlane first\"`\n- Existing Snapfile: !`ls fastlane/Snapfile 2>/dev/null && echo \"✓ Already configured\" || echo \"○ Not configured yet\"`\n- UI Test target: !`find . -maxdepth 3 -name \"*UITests*\" -type d 2>/dev/null | head -1 || echo \"○ No UI test target found\"`\n- Simulators available: !`xcrun simctl list devices available | grep -E \"iPhone|iPad\" | head -3`\n\n### Arguments: ${ARGUMENTS:-setup}\n\n---\n\n## Why Automate Screenshots?\n\nApp Store requires screenshots for multiple device sizes. Manual capture means:\n- 5+ device sizes × 5+ screenshots × N languages = **hours of work**\n- Risk of inconsistency between screenshots\n- Repeat everything for each app update\n\nSnapshot automates this: run once, get all screenshots.\n\n---\n\n## Step 1: Initialize Snapshot\n\n```bash\nfastlane snapshot init\n```\n\nThis creates:\n- `fastlane/Snapfile` - Configuration file\n- `fastlane/SnapshotHelper.swift` - Helper for UI tests\n\n---\n\n## Step 2: Configure Snapfile\n\nEdit `fastlane/Snapfile`:\n\n```ruby\n# Devices to capture (App Store requirements)\ndevices([\n  \"iPhone 15 Pro Max\",      # 6.7\" display (required)\n  \"iPhone 15 Pro\",          # 6.1\" display\n  \"iPhone SE (3rd generation)\", # 4.7\" display (if supporting older phones)\n  \"iPad Pro 13-inch (M4)\",  # iPad screenshots (if universal app)\n])\n\n# Languages to capture\nlanguages([\n  \"en-US\",\n  # \"ja\",      # Japanese\n  # \"de-DE\",   # German\n  # \"fr-FR\",   # French\n  # \"es-ES\",   # Spanish\n])\n\n# UI Test scheme\nscheme(\"YourAppUITests\")\n\n# Output directory\noutput_directory(\"./fastlane/screenshots\")\n\n# Clear old screenshots before capture\nclear_previous_screenshots(true)\n\n# Stop on first error (set false to continue despite failures)\nstop_after_first_error(true)\n\n# Dark mode variants (iOS 13+)\n# dark_mode(true)\n\n# Workspace or project (uncomment one)\n# workspace(\"YourApp.xcworkspace\")\n# project(\"YourApp.xcodeproj\")\n```\n\n---\n\n## Step 3: Add SnapshotHelper to UI Tests\n\n1. **Add SnapshotHelper.swift** to your UI test target:\n   - Drag `fastlane/SnapshotHelper.swift` into Xcode\n   - Ensure it's added to your **UITests** target (not main app)\n\n2. **Import and configure** in your UI test file:\n\n```swift\nimport XCTest\n\nclass ScreenshotTests: XCTestCase {\n\n    override func setUpWithError() throws {\n        continueAfterFailure = false\n        let app = XCUIApplication()\n        setupSnapshot(app)  // Initialize snapshot\n        app.launch()\n    }\n\n    func testTakeScreenshots() throws {\n        let app = XCUIApplication()\n\n        // Screenshot 1: Home screen\n        snapshot(\"01_HomeScreen\")\n\n        // Navigate to feature and capture\n        app.buttons[\"Feature\"].tap()\n        snapshot(\"02_FeatureScreen\")\n\n        // Screenshot with content\n        app.textFields[\"Search\"].tap()\n        app.textFields[\"Search\"].typeText(\"Example\")\n        snapshot(\"03_SearchResults\")\n\n        // Settings screen\n        app.buttons[\"Settings\"].tap()\n        snapshot(\"04_Settings\")\n\n        // Any additional screens...\n        snapshot(\"05_DetailView\")\n    }\n}\n```\n\n---\n\n## Step 4: Run Snapshot\n\n```bash\n# Capture all screenshots\nfastlane snapshot\n\n# Specific device only\nfastlane snapshot --devices \"iPhone 15 Pro Max\"\n\n# Specific language only\nfastlane snapshot --languages \"en-US\"\n\n# Skip launch (use existing simulator state)\nfastlane snapshot --skip_open_summary\n```\n\nScreenshots are saved to `fastlane/screenshots/{language}/{device}/`.\n\n---\n\n## Step 5: Upload to App Store Connect\n\nAfter capturing, upload with deliver:\n\n```bash\n# Upload screenshots only (no binary)\nfastlane deliver --skip_binary_upload --skip_metadata\n\n# Or use the screenshots lane from setup-fastlane\nfastlane ios screenshots\n```\n\n---\n\n## App Store Screenshot Requirements (2024)\n\n### Required Device Sizes\n\n| Display Size | Example Devices | Dimensions |\n|-------------|-----------------|------------|\n| 6.7\" | iPhone 15 Pro Max, 14 Pro Max | 1290 × 2796 |\n| 6.5\" | iPhone 15 Plus, 14 Plus, 11 Pro Max | 1284 × 2778 |\n| 5.5\" | iPhone 8 Plus (legacy) | 1242 × 2208 |\n| 12.9\" iPad | iPad Pro 12.9\" | 2048 × 2732 |\n\n> **Minimum**: You need at least 6.7\" or 6.5\" iPhone screenshots. Other sizes can be auto-generated by App Store Connect.\n\n### Screenshot Count\n- **Minimum**: 1 per device size\n- **Maximum**: 10 per device size\n- **Recommended**: 5-6 highlighting key features\n\n---\n\n## Optional: Frame Screenshots with Device Bezels\n\nAdd device frames around screenshots using `frameit`:\n\n```bash\n# Install frameit\nbrew install imagemagick\n\n# Frame screenshots\nfastlane frameit\n\n# Silver device frames\nfastlane frameit silver\n```\n\nCreate `fastlane/screenshots/Framefile.json` for custom titles:\n\n```json\n{\n  \"default\": {\n    \"title\": {\n      \"font\": \"./fonts/MyFont.ttf\",\n      \"color\": \"#000000\"\n    },\n    \"background\": \"#FFFFFF\",\n    \"padding\": 50,\n    \"show_complete_frame\": true\n  }\n}\n```\n\n---\n\n## Troubleshooting\n\n### \"SnapshotHelper.swift not found\"\nRe-run `fastlane snapshot init` and add the helper to your UI test target.\n\n### \"Unable to boot simulator\"\nReset the simulator:\n```bash\nxcrun simctl shutdown all\nxcrun simctl erase all\n```\n\n### Screenshots are black/blank\n- Ensure `setupSnapshot(app)` is called **before** `app.launch()`\n- Add small delays if content loads asynchronously:\n```swift\nsleep(1)  // Wait for content\nsnapshot(\"01_HomeScreen\")\n```\n\n### \"No matching device found\"\nCheck available simulators:\n```bash\nxcrun simctl list devices available\n```\nUpdate Snapfile device names to match exactly.\n\n### UI test fails to find element\nUse accessibility identifiers:\n```swift\n// In your app code\nbutton.accessibilityIdentifier = \"settingsButton\"\n\n// In UI test\napp.buttons[\"settingsButton\"].tap()\n```\n\n---\n\n## Integrate with Fastfile\n\nAdd a dedicated lane for screenshots:\n\n```ruby\nlane :screenshots do\n  snapshot(\n    scheme: \"YourAppUITests\",\n    devices: [\"iPhone 15 Pro Max\", \"iPad Pro 13-inch (M4)\"],\n    languages: [\"en-US\"]\n  )\n  # Optional: frame screenshots\n  # frameit(white: true)\nend\n\nlane :upload_screenshots do\n  deliver(\n    skip_binary_upload: true,\n    skip_metadata: true,\n    overwrite_screenshots: true\n  )\nend\n```\n\n---\n\n## Best Practices\n\n1. **Use sample data**: Pre-populate app with attractive demo content\n2. **Consistent state**: Reset app state before each test run\n3. **Accessibility IDs**: More reliable than text matching\n4. **Handle async**: Add waits for network content to load\n5. **Dark mode**: Capture both light and dark variants\n6. **Localization**: Test with actual translations, not placeholders\n7. **Landscape**: Include landscape screenshots for iPad if relevant\n\n---\n\n## Files Created\n\n```\nfastlane/\n├── Snapfile                    # Snapshot configuration\n├── SnapshotHelper.swift        # Helper for UI tests (copy to test target)\n└── screenshots/\n    ├── en-US/\n    │   ├── iPhone 15 Pro Max/\n    │   │   ├── 01_HomeScreen.png\n    │   │   ├── 02_FeatureScreen.png\n    │   │   └── ...\n    │   └── iPad Pro 13-inch (M4)/\n    │       └── ...\n    └── ja/\n        └── ...\n```\n\n---\n\n## Complete Workflow\n\n```bash\n# 1. Set up snapshot\nfastlane snapshot init\n\n# 2. Write UI tests with snapshot() calls\n\n# 3. Capture screenshots\nfastlane snapshot\n\n# 4. Review screenshots in fastlane/screenshots/\n\n# 5. Optional: add device frames\nfastlane frameit\n\n# 6. Upload to App Store Connect\nfastlane deliver --skip_binary_upload --skip_metadata\n```\n"
      },
      "plugins": [
        {
          "name": "setup-fastlane",
          "description": "Set up Fastlane for iOS/macOS app automation with Homebrew",
          "source": "./skills/setup-fastlane",
          "version": "1.1.0",
          "homepage": "https://github.com/greenstevester/fastlane-skill/blob/main/skills/setup-fastlane/SKILL.md",
          "author": {
            "name": "greenstevester"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add greenstevester/fastlane-skill",
            "/plugin install setup-fastlane@fastlane-skill"
          ]
        },
        {
          "name": "beta",
          "description": "Upload builds to TestFlight for beta testing",
          "source": "./skills/beta",
          "version": "1.1.0",
          "homepage": "https://github.com/greenstevester/fastlane-skill/blob/main/skills/beta/SKILL.md",
          "author": {
            "name": "greenstevester"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add greenstevester/fastlane-skill",
            "/plugin install beta@fastlane-skill"
          ]
        },
        {
          "name": "release",
          "description": "Submit app to the App Store with metadata and screenshots",
          "source": "./skills/release",
          "version": "1.1.0",
          "homepage": "https://github.com/greenstevester/fastlane-skill/blob/main/skills/release/SKILL.md",
          "author": {
            "name": "greenstevester"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add greenstevester/fastlane-skill",
            "/plugin install release@fastlane-skill"
          ]
        },
        {
          "name": "match",
          "description": "Set up Match for iOS code signing certificate management",
          "source": "./skills/match",
          "version": "1.1.0",
          "homepage": "https://github.com/greenstevester/fastlane-skill/blob/main/skills/match/SKILL.md",
          "author": {
            "name": "greenstevester"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add greenstevester/fastlane-skill",
            "/plugin install match@fastlane-skill"
          ]
        },
        {
          "name": "snapshot",
          "description": "Automate App Store screenshot capture across devices and languages",
          "source": "./skills/snapshot",
          "version": "1.1.0",
          "homepage": "https://github.com/greenstevester/fastlane-skill/blob/main/skills/snapshot/SKILL.md",
          "author": {
            "name": "greenstevester"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add greenstevester/fastlane-skill",
            "/plugin install snapshot@fastlane-skill"
          ]
        }
      ]
    }
  ]
}