{
  "author": {
    "id": "fridzema",
    "display_name": "Robert Fridzema",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/8180660?u=20d8a0bfb52d03a2a9f6d8688414d771f08834b0&v=4",
    "url": "https://github.com/fridzema",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 4,
      "total_skills": 0,
      "total_stars": 3,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "clockwork-mcp-marketplace",
      "version": "1.0.0",
      "description": "Laravel Clockwork debugging plugin for Claude Code",
      "owner_info": {
        "name": "Robert Fridzema",
        "email": "robert@fridzema.com"
      },
      "keywords": [],
      "repo_full_name": "fridzema/clockwork-mcp",
      "repo_url": "https://github.com/fridzema/clockwork-mcp",
      "repo_description": "MCP server for Laravel Clockwork - debug and analyze Laravel applications with AI assistance. Query     performance, N+1 detection, cache analysis, and more.",
      "homepage": "",
      "signals": {
        "stars": 3,
        "forks": 0,
        "pushed_at": "2026-01-28T14:27:47Z",
        "created_at": "2026-01-16T17:31:05Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 603
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 284
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 8364
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/latest.md",
          "type": "blob",
          "size": 631
        },
        {
          "path": "commands/n+1.md",
          "type": "blob",
          "size": 2055
        },
        {
          "path": "commands/slow.md",
          "type": "blob",
          "size": 1682
        },
        {
          "path": "commands/status.md",
          "type": "blob",
          "size": 618
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"clockwork-mcp-marketplace\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Laravel Clockwork debugging plugin for Claude Code\",\n  \"owner\": {\n    \"name\": \"Robert Fridzema\",\n    \"email\": \"robert@fridzema.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"clockwork\",\n      \"description\": \"Debug Laravel apps with Clockwork - N+1 detection, slow queries, performance analysis\",\n      \"source\": \"./\",\n      \"category\": \"development\",\n      \"version\": \"0.4.1\",\n      \"author\": {\n        \"name\": \"Robert Fridzema\"\n      }\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"clockwork\",\n  \"description\": \"Debug Laravel apps with Clockwork - N+1 detection, slow queries, performance analysis\",\n  \"version\": \"0.4.1\",\n  \"author\": {\n    \"name\": \"Robert Fridzema\"\n  },\n  \"repository\": \"https://github.com/fridzema/clockwork-mcp\",\n  \"license\": \"MIT\"\n}\n",
        "README.md": "# clockwork-mcp\n\n[![CI](https://github.com/fridzema/clockwork-mcp/actions/workflows/ci.yml/badge.svg)](https://github.com/fridzema/clockwork-mcp/actions/workflows/ci.yml)\n[![npm version](https://badge.fury.io/js/clockwork-mcp.svg)](https://www.npmjs.com/package/clockwork-mcp)\n[![Node.js](https://img.shields.io/badge/node-%3E%3D18-brightgreen)](https://nodejs.org/)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\nMCP server for Laravel Clockwork - debug Laravel apps with Claude Code.\n\n## What it does\n\nThis MCP server gives Claude Code access to your Laravel application's Clockwork debugging data, enabling:\n\n- **Debugging** - Find slow queries, N+1 problems, cache issues, errors\n- **Performance analysis** - Track response times, query counts, memory usage\n- **Development insight** - Understand request flow, see runtime behavior\n\n## Installation\n\n### Option 1: Claude Code Plugin (Recommended)\n\n```\n/marketplace add github:fridzema/clockwork-mcp\n/plugin install clockwork\n```\n\nThis installs the MCP server and adds convenience commands:\n- `/clockwork:status` - Check storage status\n- `/clockwork:latest` - Show latest request summary\n- `/clockwork:slow` - Find slow queries\n- `/clockwork:n+1` - Detect N+1 patterns\n\n### Option 2: Manual MCP Configuration\n\nAdd to your Claude Code MCP settings:\n\n```json\n{\n  \"mcpServers\": {\n    \"clockwork\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"clockwork-mcp\"]\n    }\n  }\n}\n```\n\n## Quick Start\n\n### 1. Install Clockwork in your Laravel app\n\n```bash\ncomposer require itsgoingd/clockwork\n```\n\n### 2. Start debugging\n\nAsk Claude to analyze your requests:\n\n- \"Show me the latest request\"\n- \"Find slow queries in the last request\"\n- \"Check for N+1 query problems\"\n- \"Compare this request with the previous one\"\n\nOr use the slash commands:\n- `/clockwork:status`\n- `/clockwork:latest`\n- `/clockwork:slow`\n- `/clockwork:n+1`\n\n## Usage Examples\n\n### Debugging a Slow Endpoint\n\n```\nYou: \"The /api/orders endpoint is slow, can you analyze it?\"\n```\n\nClaude will use the MCP tools to:\n1. Find the latest request to `/api/orders`\n2. Analyze query performance\n3. Detect N+1 patterns\n4. Suggest fixes like eager loading or caching\n\n### Investigating a 500 Error\n\n```\nYou: \"I just got a 500 error on the checkout page, what happened?\"\n```\n\nClaude will:\n1. Find the latest failed request\n2. Show error logs and exception details\n3. Identify the problematic code path\n\n### Optimizing Database Queries\n\n```\nYou: \"Check if there are N+1 issues on the products page\"\n```\n\nClaude will:\n1. Analyze recent requests to the products route\n2. Detect repeated query patterns\n3. Suggest eager loading with `->with('relation')`\n\n### More Natural Language Examples\n\n**Performance:**\n- \"Compare the last two requests to /api/users\"\n- \"Which queries are taking the longest?\"\n- \"Show me the cache hit ratio\"\n\n**Debugging:**\n- \"What middleware ran on the last request?\"\n- \"Show me all log entries with errors\"\n- \"List the events that were dispatched\"\n\n**Analysis:**\n- \"Give me a performance summary of the latest request\"\n- \"Show the full request timeline\"\n- \"What views were rendered?\"\n\n**Exception & Error Analysis:**\n- \"Show me exception patterns from the last hour\"\n- \"What errors have been occurring?\"\n- \"Group recent exceptions by type\"\n\n**Route Performance:**\n- \"Which routes are slowest? Show p95 response times\"\n- \"Analyze route performance for the past day\"\n- \"Compare response times across endpoints\"\n\n**Memory Issues:**\n- \"Are there any memory issues?\"\n- \"Detect memory leaks or growth patterns\"\n- \"Which requests are using the most memory?\"\n\n**Queue Jobs:**\n- \"List failed queue jobs\"\n- \"Show me recent job executions\"\n- \"What jobs are pending?\"\n\n**Test Execution:**\n- \"List recent test runs\"\n- \"Show failed tests\"\n- \"What tests are being skipped?\"\n\n## Tools\n\n### Request Discovery\n| Tool | Description |\n|------|-------------|\n| `list_requests` | List recent requests with filtering |\n| `get_request` | Get full request details by ID |\n| `get_latest_request` | Get the most recent request |\n| `search_requests` | Search by controller, URI, status, duration |\n\n### Database Analysis\n| Tool | Description |\n|------|-------------|\n| `get_queries` | Get all database queries for a request |\n| `analyze_slow_queries` | Find queries above threshold |\n| `detect_n_plus_one` | Detect N+1 query patterns |\n| `get_query_stats` | Get aggregate query statistics |\n\n### Performance\n| Tool | Description |\n|------|-------------|\n| `get_performance_summary` | Response time, memory, query overview |\n| `get_timeline` | Execution timeline events |\n| `compare_requests` | Compare two requests side by side |\n\n### Cache & Redis\n| Tool | Description |\n|------|-------------|\n| `get_cache_operations` | Cache hits, misses, writes |\n| `get_cache_stats` | Hit ratio and totals |\n| `get_redis_commands` | Redis commands executed |\n\n### Application Context\n| Tool | Description |\n|------|-------------|\n| `get_logs` | Log entries with level filtering |\n| `get_events` | Dispatched events and listeners |\n| `get_views` | Rendered views |\n| `get_http_requests` | Outgoing HTTP requests |\n\n### Artisan Commands\n| Tool | Description |\n|------|-------------|\n| `list_commands` | List profiled command executions |\n| `get_command` | Full command execution details |\n\n### Traces & Execution Flow\n| Tool | Description |\n|------|-------------|\n| `get_call_graph` | Hierarchical execution tree from timeline events |\n| `get_query_stack_trace` | Source location for a database query |\n| `get_log_stack_trace` | Source location for a log entry |\n\n### Profiling (Xdebug)\n| Tool | Description |\n|------|-------------|\n| `get_xdebug_profile` | Xdebug profiling data (stub) |\n| `get_xdebug_hotspots` | Xdebug hotspots (stub) |\n\n### Queue Jobs\n| Tool | Description |\n|------|-------------|\n| `list_queue_jobs` | List queue jobs with filtering |\n| `get_queue_job` | Full queue job details |\n\n### Test Execution\n| Tool | Description |\n|------|-------------|\n| `list_tests` | List test executions with filtering |\n| `get_test` | Full test execution details |\n\n### Request Context\n| Tool | Description |\n|------|-------------|\n| `get_auth_user` | Authenticated user for a request |\n| `get_session_data` | Session data for a request |\n| `get_middleware_chain` | Middleware chain for a request |\n| `get_route_details` | Route details for a request |\n\n### Multi-Request Analysis\n| Tool | Description |\n|------|-------------|\n| `analyze_exceptions` | Group exceptions by message pattern |\n| `analyze_route_performance` | Route performance with percentiles (p50/p95/p99) |\n| `detect_memory_issues` | Detect high memory usage and growth patterns |\n\n### Utility\n| Tool | Description |\n|------|-------------|\n| `get_clockwork_status` | Storage status and statistics |\n| `explain_request_flow` | High-level request summary |\n\n## Configuration\n\n### Storage Backends\n\nBy default, Clockwork MCP auto-detects your Laravel project and uses `php artisan tinker` to read Clockwork data. This works with **all** Clockwork storage backends:\n\n- File (default)\n- SQLite\n- MySQL\n- PostgreSQL\n- Redis\n\nWhen you configure Clockwork to use SQL or Redis storage in your Laravel app (`config/clockwork.php`), the MCP server automatically uses the same storage by running PHP commands through `artisan tinker`. No additional configuration required.\n\n### Environment Variables\n\n| Variable | Default | Description |\n|----------|---------|-------------|\n| `CLOCKWORK_PROJECT_PATH` | Auto-detect | Path to Laravel project root |\n| `CLOCKWORK_STORAGE_DRIVER` | Auto-detect | Force storage driver (`artisan` or `file`) |\n| `CLOCKWORK_PHP_PATH` | `php` | Custom PHP binary path |\n| `CLOCKWORK_STORAGE_PATH` | Auto-detect | Direct path to storage (file driver only) |\n\n### Auto-detection\n\nThe MCP server automatically finds Clockwork storage by:\n1. Checking `CLOCKWORK_PROJECT_PATH` environment variable\n2. Looking for Laravel project (has `artisan` file) in current directory\n3. Traversing up to find a Laravel project\n\nWhen a Laravel project is found, the **artisan driver** is used by default, which supports all Clockwork storage backends. The **file driver** is used as a fallback when only a direct storage path is available.\n\n## Requirements\n\n- Node.js 18+\n- Laravel project with Clockwork installed\n- Claude Code with MCP support\n\n## License\n\nMIT\n",
        "commands/latest.md": "---\ndescription: Show summary of the most recent request\n---\n\nUse the `get_latest_request` MCP tool to get the most recent Clockwork request.\n\nOutput a summary in this format:\n\n## Latest Request\n\n**[METHOD] /uri/path** â†’ STATUS (XXXms)\n\n| Metric | Value |\n|--------|-------|\n| Controller | ControllerName@action |\n| Duration | XXX ms |\n| Memory | XX.X MB |\n| Queries | N queries (XXX ms total) |\n| Cache | N hits, N misses |\n\n### Middleware\n- middleware1\n- middleware2\n\nIf there are any errors in the logs, show them:\n\n### Errors\n- Error message here\n\nIf no requests are found, suggest making a request to the Laravel app first.\n",
        "commands/n+1.md": "---\ndescription: Detect N+1 query patterns in recent requests\n---\n\nUse the `detect_n_plus_one` MCP tool to find N+1 query patterns.\n\n## Scope Options\n\nBy default, analyzes only the latest request. Use these options to analyze multiple requests:\n\n- `count`: Number of recent HTTP requests (e.g., `count: 10`)\n- `since`: Time duration to look back (e.g., `since: \"1h\"`, `since: \"30m\"`, `since: \"2d\"`)\n- `all`: Analyze all available requests (max 100)\n- `uri`: Filter by URI pattern (e.g., `uri: \"/api/users\"`)\n- `requestId`: Analyze specific request by ID\n\nExamples:\n- Latest request only: `detect_n_plus_one` (no scope params)\n- Last 10 requests: `detect_n_plus_one` with `count: 10`\n- Last hour: `detect_n_plus_one` with `since: \"1h\"`\n- Specific endpoint: `detect_n_plus_one` with `count: 20, uri: \"/api/orders\"`\n\n## Output Format\n\nFor single request:\n\n## N+1 Query Detection\n\nFound N potential N+1 patterns in request [METHOD] /uri/path\n\n### Pattern 1: X occurrences\n```sql\nSELECT * FROM table WHERE id = ?\n```\n**Fix:** Use eager loading with `->with('relation')` or `->load('relation')`\n\nFor multiple requests:\n\n## N+1 Query Detection - Last N Requests\n\nAnalyzed N requests, found M patterns in K requests\n\n### Pattern 1: X total occurrences (avg Y/request)\n```sql\nSELECT * FROM posts WHERE user_id = ?\n```\nAffected requests:\n- GET /api/users (15 occurrences)\n- GET /api/dashboard (8 occurrences)\n- GET /api/profile (5 occurrences)\n\n**Fix:** `User::with('posts')`\n\n### Pattern 2: Y total occurrences\n```sql\nSELECT * FROM comments WHERE post_id = ?\n```\nAffected requests:\n- GET /api/posts (22 occurrences)\n\n**Fix:** `Post::with('comments')`\n\n## How to Fix N+1 Queries\n\nIn your controller or query:\n```php\n// Before (N+1)\n$users = User::all();\nforeach ($users as $user) {\n    echo $user->posts; // Triggers query for each user\n}\n\n// After (eager loaded)\n$users = User::with('posts')->get();\nforeach ($users as $user) {\n    echo $user->posts; // No additional queries\n}\n```\n\nIf no N+1 patterns are found:\n\n## N+1 Query Detection\n\nNo N+1 patterns detected.\n",
        "commands/slow.md": "---\ndescription: Find slow queries (>100ms) in recent requests\n---\n\nUse the `analyze_slow_queries` MCP tool to find slow database queries.\n\n## Scope Options\n\nBy default, analyzes only the latest request. Use these options to analyze multiple requests:\n\n- `count`: Number of recent HTTP requests (e.g., `count: 10`)\n- `since`: Time duration to look back (e.g., `since: \"1h\"`, `since: \"30m\"`, `since: \"2d\"`)\n- `all`: Analyze all available requests (max 100)\n- `uri`: Filter by URI pattern (e.g., `uri: \"/api/users\"`)\n- `requestId`: Analyze specific request by ID\n\nExamples:\n- Latest request only: `analyze_slow_queries` (no scope params)\n- Last 10 requests: `analyze_slow_queries` with `count: 10`\n- Last hour: `analyze_slow_queries` with `since: \"1h\"`\n- Specific endpoint: `analyze_slow_queries` with `count: 20, uri: \"/api/orders\"`\n\n## Output Format\n\nFor single request:\n\n## Slow Queries (>100ms)\n\nFound N slow queries in request [METHOD] /uri/path\n\n| # | Duration | Query |\n|---|----------|-------|\n| 1 | XXX ms | SELECT ... |\n\nFor multiple requests:\n\n## Slow Queries (>100ms) - Last N Requests\n\nAnalyzed N requests, found M slow queries in K requests\n\n### Pattern 1: X occurrences (max XXX ms)\n```sql\nSELECT * FROM table WHERE column = ?\n```\nAffected: GET /api/users (3x), POST /api/orders (2x)\n\n### Pattern 2: Y occurrences (max XXX ms)\n```sql\nUPDATE table SET column = ? WHERE id = ?\n```\nAffected: PUT /api/users/1\n\n### Recommendations\n- Add indexes for frequently queried columns\n- Consider caching for repeated queries\n- Use eager loading to reduce query count\n\nIf no slow queries are found:\n\n## Slow Queries (>100ms)\n\nNo slow queries found. All queries executed under 100ms.\n",
        "commands/status.md": "---\ndescription: Check Clockwork storage status and statistics\n---\n\nUse the `get_clockwork_status` MCP tool to check the Clockwork storage.\n\nOutput a summary in this format:\n\n## Clockwork Status\n\n- **Storage found:** Yes/No\n- **Path:** /path/to/storage/clockwork\n- **Total requests:** N\n- **Oldest request:** YYYY-MM-DD HH:MM:SS\n- **Newest request:** YYYY-MM-DD HH:MM:SS\n- **Storage size:** X.XX MB\n\nIf storage is not found, suggest checking that:\n1. Clockwork is installed (`composer require itsgoingd/clockwork`)\n2. The Laravel app has made requests with Clockwork enabled\n3. You're in the Laravel project directory\n"
      },
      "plugins": [
        {
          "name": "clockwork",
          "description": "Debug Laravel apps with Clockwork - N+1 detection, slow queries, performance analysis",
          "source": "./",
          "category": "development",
          "version": "0.4.1",
          "author": {
            "name": "Robert Fridzema"
          },
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add fridzema/clockwork-mcp",
            "/plugin install clockwork@clockwork-mcp-marketplace"
          ]
        }
      ]
    }
  ]
}