{
  "author": {
    "id": "a5c-ai",
    "display_name": "a5c.ai",
    "avatar_url": "https://avatars.githubusercontent.com/u/197881114?v=4"
  },
  "marketplaces": [
    {
      "name": "a5c.ai",
      "version": null,
      "description": "Babysitter",
      "repo_full_name": "a5c-ai/babysitter",
      "repo_url": "https://github.com/a5c-ai/babysitter",
      "repo_description": "Babysitter enables Claude Code to manage sophisticated development workflows through deterministic, resumable orchestration",
      "signals": {
        "stars": 19,
        "forks": 2,
        "pushed_at": "2026-01-31T14:31:39Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"a5c.ai\",\n  \"owner\": {\n    \"name\": \"a5c.ai\",\n    \"email\": \"support@a5c.ai\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"babysitter\",\n      \"source\": \"./plugins/babysitter\",\n      \"description\": \"Babysitter\",\n      \"version\": \"4.0.127\",\n      \"author\": {\n        \"name\": \"a5c.ai\"\n      }\n    }\n  ]\n}\n",
        "README.md": "<div align=\"center\">\n\n# Babysitter\n\n[![npm version](https://img.shields.io/npm/v/@a5c-ai/babysitter-sdk.svg)](https://www.npmjs.com/package/@a5c-ai/babysitter-sdk)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![GitHub issues](https://img.shields.io/github/issues/a5c-ai/babysitter.svg)](https://github.com/a5c-ai/babysitter/issues)\n[![GitHub stars](https://img.shields.io/github/stars/a5c-ai/babysitter.svg)](https://github.com/a5c-ai/babysitter/stargazers)\n\n> **Orchestrate complex, multi-step workflows with human-in-the-loop approval, iterative refinement, and quality convergence.**\n\n[Getting Started](#installation) | [Documentation](#documentation) | [Community](#community-and-support)\n\n</div>\n\n---\n\nhttps://github.com/user-attachments/assets/8c3b0078-9396-48e8-aa43-5f40da30c20b\n\n---\n\n## Table of Contents\n\n- [What is Babysitter?](#what-is-babysitter)\n- [What is a5c.ai?](#what-is-a5cai)\n- [Prerequisites](#prerequisites)\n- [Installation](#installation)\n- [Quick Start](#quick-start)\n- [How It Works](#how-it-works)\n- [Why Babysitter?](#why-babysitter)\n- [Documentation](#documentation)\n- [Contributing](#contributing)\n- [Community and Support](#community-and-support)\n- [License](#license)\n\n---\n\n## What is Babysitter?\n\nBabysitter is an orchestration framework for Claude Code that enables deterministic, event-sourced workflow management. It allows you to build complex, multi-step development processes with built-in quality gates, human approval checkpoints, and automatic iteration until quality targets are met. Babysitter works seamlessly with your existing subagents, skills, and tools, orchestrating them into sophisticated workflows.\n\n## What is a5c.ai?\n\n**a5c.ai** (agentic ai) is an organization building advanced AI orchestration and automation tools for complex software development tasks.\n\n---\n\n## Prerequisites\n\n- **Node.js**: Version 20.0.0+ (22.x LTS recommended)\n- **Claude Code**: Latest version ([docs](https://code.claude.com/docs/en/quickstart))\n- **Git**: For cloning (optional)\n\n---\n\n## Installation\n\n### 1. Install the SDK\n\n```bash\nnpm install -g @a5c-ai/babysitter@latest @a5c-ai/babysitter-sdk@latest @a5c-ai/babysitter-breakpoints@latest\n```\n\n### 2. Install the Plugin\n\n```bash\nclaude plugin marketplace add a5c-ai/babysitter\nclaude plugin install --scope user babysitter@a5c.ai\nclaude plugin enable --scope user babysitter@a5c.ai\n```\n\nThen restart Claude Code.\n\n### 3. Verify Installation\n\nType `/skills` in Claude Code to verify \"babysit\" appears.\n\n---\n\n## Quick Start\n\n```bash\nclaude \"/babysitter:call implement user authentication with TDD\"\n```\n\nOr in natural language:\n\n```\nUse the babysitter skill to implement user authentication with TDD\n```\n\nClaude will create an orchestration run, execute tasks step-by-step, handle quality checks and approvals, and continue until completion.\n\n---\n\n## How It Works\n\n```\n+-----------------------------------------------------------------+\n|                     Babysitter Loop                              |\n|                                                                  |\n|   +----------+     +----------+     +----------+     +----------+|\n|   | Iterate  | --> |   Get    | --> | Execute  | --> |   Post   ||\n|   |          |     | Effects  |     |  Tasks   |     | Results  ||\n|   +----------+     +----------+     +----------+     +----------+|\n|        |                                               |         |\n|        +----------------- repeat <---------------------+         |\n+-----------------------------------------------------------------+\n```\n\n**Each iteration:** Advance process -> Get pending effects -> Execute tasks -> Record outcomes -> Repeat until complete.\n\n**Everything is recorded:** `.a5c/runs/<runId>/` contains journal, tasks, and state. Pause, resume, or recover at any point.\n\n---\n\n## Why Babysitter?\n\n| Traditional Approach | Babysitter |\n|---------------------|------------|\n| Run script once, hope it works | Iterate until quality target met |\n| Manual approval via chat | Structured breakpoints with context |\n| State lost on session end | Event-sourced, fully resumable |\n| Single task execution | Parallel execution, dependencies |\n| No audit trail | Complete journal of all events |\n| Fixed workflow | Process-driven, customizable |\n\n**Key differentiators:** Deterministic replay, quality convergence, human-in-the-loop breakpoints, agent scoring, and parallel execution.\n\n---\n\n## Documentation\n\n### Getting Started\n- [Quickstart Guide](docs/user-guide/getting-started/quickstart.md)\n- [Beginner Tutorial: REST API](docs/user-guide/tutorials/beginner-rest-api.md)\n\n### Features\n- [Process Library](docs/user-guide/features/process-library.md) - 2,000+ pre-built processes\n- [Process Definitions](docs/user-guide/features/process-definitions.md)\n- [Quality Convergence](docs/user-guide/features/quality-convergence.md)\n- [Run Resumption](docs/user-guide/features/run-resumption.md)\n- [Journal System](docs/user-guide/features/journal-system.md)\n- [Best Practices](docs/user-guide/features/best-practices.md)\n- [Architecture Overview](docs/user-guide/features/architecture-overview.md)\n\n### Reference\n- [FAQ](docs/user-guide/reference/faq.md)\n- [Troubleshooting](docs/user-guide/reference/troubleshooting.md)\n- [Security](docs/user-guide/reference/security.md)\n- [CLI Reference](docs/user-guide/reference/cli-reference.md)\n\n---\n\n## Contributing\n\nWe welcome contributions! Here's how you can help:\n\n- **Report bugs**: [GitHub Issues](https://github.com/a5c-ai/babysitter/issues)\n- **Suggest features**: Share your ideas for improvements\n- **Submit pull requests**: Fix bugs or add features\n- **Improve documentation**: Help make docs clearer\n\nSee [CONTRIBUTING.md](https://github.com/a5c-ai/babysitter/blob/main/CONTRIBUTING.md) for detailed guidelines.\n\n---\n\n## Community and Support\n\n- **GitHub Issues**: [Report bugs or request features](https://github.com/a5c-ai/babysitter/issues)\n- **GitHub Discussions**: [Ask questions and share ideas](https://github.com/a5c-ai/babysitter/discussions)\n- **npm**: [@a5c-ai/babysitter-sdk](https://www.npmjs.com/package/@a5c-ai/babysitter-sdk)\n\n### Star History\n\n<a href=\"https://star-history.com/#a5c-ai/babysitter&Date\">\n <picture>\n   <source media=\"(prefers-color-scheme: dark)\" srcset=\"https://api.star-history.com/svg?repos=a5c-ai/babysitter&type=Date&theme=dark\" />\n   <source media=\"(prefers-color-scheme: light)\" srcset=\"https://api.star-history.com/svg?repos=a5c-ai/babysitter&type=Date\" />\n   <img alt=\"Star History Chart\" src=\"https://api.star-history.com/svg?repos=a5c-ai/babysitter&type=Date\" />\n </picture>\n</a>\n\n### Contributors\n\n<a href=\"https://github.com/a5c-ai/babysitter/graphs/contributors\">\n  <img src=\"https://contrib.rocks/image?repo=a5c-ai/babysitter\" />\n</a>\n\n---\n\n## License\n\nThis project is licensed under the **MIT License**. See [LICENSE.md](https://github.com/a5c-ai/babysitter/blob/main/LICENSE.md) for details.\n\n---\n\n<div align=\"center\">\n\n**Built with Claude by A5C AI**\n\n[Back to Top](#babysitter)\n\n</div>\n",
        "plugins/babysitter/README.md": "# Babysitter Plugin for Claude Code\n\n> **Orchestrate complex, multi-step workflows with event-sourced state management, hook-based extensibility, and human-in-the-loop approval.**\n\nThe Babysitter plugin enables Claude Code to manage sophisticated development workflows through deterministic, resumable orchestration. Built on the `@a5c-ai/babysitter-sdk`, it provides event-sourced state management, native hooks, and composable process definitions.\n\n---\n\n## üéØ What is Babysitter?\n\nBabysitter orchestrates `.a5c/runs/<runId>/` directories through iterative execution:\n\n- **Event-sourced state** - All changes recorded as immutable events in `journal.jsonl`\n- **Resumable workflows** - Pause and resume at any point\n- **Hook-driven architecture** - Extensible lifecycle hooks at every step\n- **Human-in-the-loop** - Approval gates via breakpoints\n- **Multi-task orchestration** - Node scripts, LLM agents, Claude skills, breakpoints, sleep gates\n- **Parallel execution** - Run independent tasks concurrently\n\n**Use cases:**\n- TDD workflows with quality convergence\n- Multi-phase build/test/deploy pipelines\n- Code review with agent scoring\n- Iterative refinement until quality targets met\n- Complex planning ‚Üí execution ‚Üí verification workflows\n\n---\n\n## üöÄ Quick Start\n\n### 1. Installation\n\n#### Prerequisites\n\n- **Claude Code CLI** installed and configured\n- **Node.js** v18+ and npm (for SDK CLI)\n- Git (for cloning plugin repositories)\n\n#### Install the Plugin\n\n**Option A: Via Claude Code Marketplace (Recommended)**\n\nInstall from the marketplace:\n\n```bash\n# Add the plugin repository to marketplace\n/plugin marketplace add a5c-ai/babysitter\n\n# Install the plugin\n/plugin install babysitter@a5c.ai\n```\n\nThen:\n1. Restart Claude Code if prompted\n2. Verify installation with `/skills` - you should see \"babysitter\" in the list\n\n**Option B: Manual Installation**\n\n```bash\n# Clone the plugin repository\ngit clone https://github.com/a5c-ai/babysitter.git ~/.claude/plugins/babysitter\n\n# Or if you already have it in your project\ncp -r plugins/babysitter ~/.claude/plugins/\n\n# Verify installation\nls ~/.claude/plugins/babysitter/\n```\n\n**Option C: Project-Local Installation**\n\nFor project-specific plugin usage:\n\n```bash\n# Create plugin directory in your project\nmkdir -p .claude/plugins\n\n# Copy or clone the plugin\ngit clone https://github.com/a5c-ai/babysitter.git .claude/plugins/babysitter\n\n# Claude Code will automatically detect plugins in .claude/plugins/\n```\n\n#### Install the SDK CLI\n\nThe Babysitter SDK CLI is used for orchestration:\n\n```bash\n# Install globally (recommended)\nnpm install -g @a5c-ai/babysitter-sdk@latest\n\n# Or use npx (no installation required)\nnpx -y @a5c-ai/babysitter-sdk@latest --version\n\n# Set up CLI alias for convenience\necho 'alias babysitter=\"npx -y @a5c-ai/babysitter-sdk@latest\"' >> ~/.bashrc\nsource ~/.bashrc\n```\n\n#### Verify Installation\n\n```bash\n# Verify plugin is loaded\n# In Claude Code, type:\n/skills\n\n# You should see \"babysitter\" in the list\n\n# Verify SDK CLI\nnpx -y @a5c-ai/babysitter-sdk@latest --version\n\n# Test the babysitter skill\n# In Claude Code, ask:\n# \"Use the babysitter skill to show me the available commands\"\n```\n\n#### Configuration (Optional)\n\n**Claude Code Settings**\n\nConfigure plugin behavior in `.claude/settings.json` or `.claude/settings.local.json`:\n\n```json\n{\n  \"plugins\": {\n    \"babysitter\": {\n      \"enabled\": true,\n      \"defaultRunsDir\": \".a5c/runs\",\n      \"autoNodeMaxTasks\": 10\n    }\n  }\n}\n```\n\n**Environment Variables**\n\n```bash\n# Default runs directory\nexport BABYSITTER_RUNS_DIR=\".a5c/runs\"\n\n# Enable verbose logging\nexport BABYSITTER_LOG_LEVEL=\"debug\"\n\n# Allow secret logs (use with caution)\nexport BABYSITTER_ALLOW_SECRET_LOGS=\"false\"\n```\n\n**Hook Configuration**\n\nEnable custom hooks by creating hook directories:\n\n```bash\n# Per-project hooks\nmkdir -p .a5c/hooks/on-run-start\nmkdir -p .a5c/hooks/on-breakpoint\n\n# Per-user hooks\nmkdir -p ~/.config/babysitter/hooks/on-run-start\nmkdir -p ~/.config/babysitter/hooks/on-breakpoint\n```\n\n### 2. Create Your First Run\n\n```bash\n# Create a run with example process\n$CLI run:create \\\n  --process-id babysitter/tdd-quality-convergence \\\n  --entry .claude/skills/babysit/process/tdd-quality-convergence.js#process \\\n  --inputs .claude/skills/babysit/process/examples/tdd-quality-convergence-example.json\n```\n\n### 3. Drive Orchestration\n\n```bash\n# Run a single iteration (repeat in a loop)\n$CLI run:iterate .a5c/runs/<runId> --json --iteration 1\n```\n\n### 4. Use with Claude Code\n\n**Via Skills (Recommended)**\n\nJust ask Claude to use the babysitter skill:\n\n```\nUse the babysitter skill to implement user authentication with TDD,\ntargeting 90% quality score with iterative refinement.\n```\n\nClaude will:\n1. Analyze your request\n2. Create a process definition\n3. Request approval via breakpoint\n4. Orchestrate execution step-by-step\n5. Handle quality convergence automatically\n\n**Via Commands**\n\nUse Claude Code commands for specific actions:\n\n```bash\n# Create a new babysitter run\n/babysitter:babysit \"Implement user authentication\"\n\n# Resume an existing run\n/babysitter:babysit resume run-20260120-auth\n```\n\n**Check Available Skills**\n\n```bash\n# List all loaded skills\n/skills\n\n# Should show:\n# - babysitter\n# - babysitter-breakpoint (deprecated, now integrated)\n# - babysitter-score\n```\n\n**Example Prompts**\n\n- \"Use babysitter to implement feature X with TDD and quality gates\"\n- \"Create a babysitter run for a multi-phase deployment pipeline\"\n- \"Resume babysitter run run-20260120-xyz and continue execution\"\n- \"Use babysitter to set up an iterative code review workflow\"\n\n---\n\n## üìö Core Concepts\n\n### Runs\n\nA **run** is a directory under `.a5c/runs/<runId>/` containing:\n\n```\n.a5c/runs/<runId>/\n‚îú‚îÄ‚îÄ run.json           # Run metadata\n‚îú‚îÄ‚îÄ inputs.json        # Process inputs\n‚îú‚îÄ‚îÄ journal.jsonl      # Event log (append-only)\n‚îú‚îÄ‚îÄ state.json         # Current state cache\n‚îú‚îÄ‚îÄ code/              # Process implementation\n‚îÇ   ‚îî‚îÄ‚îÄ main.js        # Process entry point\n‚îú‚îÄ‚îÄ tasks/             # Task execution artifacts\n‚îÇ   ‚îî‚îÄ‚îÄ <effectId>/\n‚îÇ       ‚îú‚îÄ‚îÄ input.json\n‚îÇ       ‚îú‚îÄ‚îÄ result.json\n‚îÇ       ‚îú‚îÄ‚îÄ stdout.log\n‚îÇ       ‚îî‚îÄ‚îÄ stderr.log\n‚îî‚îÄ‚îÄ artifacts/         # Human-readable outputs\n    ‚îî‚îÄ‚îÄ *.md\n```\n\n### Processes\n\nA **process** is a JavaScript function that orchestrates tasks:\n\n```javascript\nexport async function process(inputs, ctx) {\n  // Phase 1: Build\n  const buildResult = await ctx.task(buildTask, { command: 'npm run build' });\n\n  // Phase 2: Test (with parallel checks)\n  const [testResult, lintResult] = await ctx.parallel.all([\n    () => ctx.task(testTask, { command: 'npm test' }),\n    () => ctx.task(lintTask, { command: 'npm run lint' })\n  ]);\n\n  // Phase 3: Approve\n  await ctx.breakpoint({\n    question: 'Build and tests passed. Deploy to production?',\n    context: { runId: ctx.runId }\n  });\n\n  return { success: true, buildResult, testResult, lintResult };\n}\n```\n\n### Tasks\n\n**Tasks** are the atomic units of work. Types:\n\n| Kind | Description | Example |\n|------|-------------|---------|\n| `node` | Node.js script | Run tests, build code |\n| `agent` | LLM agent | Planning, scoring, review |\n| `skill` | Claude Code skill | Code analysis, refactoring |\n| `breakpoint` | Human approval | Review and approve |\n| `sleep` | Time gate | Wait until specific time |\n\n**Task definition:**\n\n```javascript\nimport { defineTask } from '@a5c-ai/babysitter-sdk';\n\nexport const buildTask = defineTask('build', (args, taskCtx) => ({\n  kind: 'node',\n  title: 'Build project',\n  node: {\n    entry: './scripts/build.js',\n    args: ['--output', 'dist/']\n  },\n  io: {\n    outputJsonPath: `tasks/${taskCtx.effectId}/result.json`\n  }\n}));\n```\n\n### Hooks\n\n**Hooks** are shell scripts that execute at lifecycle events:\n\n```bash\n# plugins/babysitter/hooks/on-run-start/notify.sh\n#!/bin/bash\nPAYLOAD=$(cat)  # Read JSON payload from stdin\n\nRUN_ID=$(echo \"$PAYLOAD\" | jq -r '.runId')\necho \"üöÄ Run started: $RUN_ID\"\n\n# Send notification, update dashboard, etc.\n```\n\n**Hook types:**\n- `on-run-start` - Run begins\n- `on-run-complete` - Run succeeds\n- `on-run-fail` - Run fails\n- `on-task-start` - Task begins\n- `on-breakpoint` - Breakpoint reached\n- Custom hooks via `ctx.hook()`\n\n**Hook search order:**\n1. Per-repo: `.a5c/hooks/<hook-name>/*.sh`\n2. Per-user: `~/.config/babysitter/hooks/<hook-name>/*.sh`\n3. Plugin: `plugins/babysitter/hooks/<hook-name>/*.sh`\n\n---\n\n## üèóÔ∏è Directory Structure\n\n```\nplugins/babysitter/\n‚îú‚îÄ‚îÄ README.md                          # This file\n‚îú‚îÄ‚îÄ BABYSITTER_PLUGIN_SPECIFICATION.md # Complete specification\n‚îú‚îÄ‚îÄ HOOKS.md                           # Hook system guide\n‚îú‚îÄ‚îÄ todos.md                           # Development roadmap\n‚îÇ\n‚îú‚îÄ‚îÄ commands/                          # Claude Code commands\n‚îÇ   ‚îú‚îÄ‚îÄ babysitter-run.md\n‚îÇ   ‚îú‚îÄ‚îÄ babysitter-resume.md\n‚îÇ   ‚îî‚îÄ‚îÄ setup-babysitter-run-resume.sh\n‚îÇ\n‚îú‚îÄ‚îÄ hooks/                             # Plugin hooks\n‚îÇ   ‚îú‚îÄ‚îÄ hook-dispatcher.sh             # Main dispatcher\n‚îÇ   ‚îú‚îÄ‚îÄ on-breakpoint-dispatcher.sh    # Breakpoint hooks\n‚îÇ   ‚îú‚îÄ‚îÄ on-run-start/\n‚îÇ   ‚îú‚îÄ‚îÄ on-run-complete/\n‚îÇ   ‚îú‚îÄ‚îÄ on-run-fail/\n‚îÇ   ‚îú‚îÄ‚îÄ on-task-start/\n‚îÇ   ‚îî‚îÄ‚îÄ on-breakpoint/\n‚îÇ       ‚îî‚îÄ‚îÄ breakpoint-cli.sh          # Default breakpoint handler\n‚îÇ\n‚îî‚îÄ‚îÄ skills/                            # Claude Code skills\n    ‚îî‚îÄ‚îÄ babysitter/\n        ‚îú‚îÄ‚îÄ SKILL.md                   # Main orchestration skill\n        ‚îú‚îÄ‚îÄ reference/\n        ‚îÇ   ‚îî‚îÄ‚îÄ ADVANCED_PATTERNS.md   # Advanced patterns guide\n        ‚îî‚îÄ‚îÄ process/                   # Packaged processes\n            ‚îú‚îÄ‚îÄ tdd-quality-convergence.js\n            ‚îú‚îÄ‚îÄ tdd-quality-convergence.md\n            ‚îî‚îÄ‚îÄ examples/\n                ‚îî‚îÄ‚îÄ *.json\n```\n\n---\n\n## üí° Usage Examples\n\n### Example 1: Simple Build and Test\n\n```javascript\nexport async function process(inputs, ctx) {\n  const buildResult = await ctx.task(buildTask, {\n    command: 'npm run build'\n  });\n\n  if (!buildResult.success) {\n    throw new Error('Build failed');\n  }\n\n  const testResult = await ctx.task(testTask, {\n    command: 'npm test'\n  });\n\n  return { success: testResult.success };\n}\n```\n\n### Example 2: Agent-Based Quality Scoring\n\n```javascript\nimport { defineTask } from '@a5c-ai/babysitter-sdk';\n\nexport const agentScoringTask = defineTask('agent-scorer', (args, taskCtx) => ({\n  kind: 'agent',\n\n  agent: {\n    name: 'quality-scorer',\n    prompt: {\n      role: 'senior QA engineer',\n      task: 'Analyze test results and provide quality score 0-100',\n      context: {\n        testResults: args.testResults,\n        coverage: args.coverage\n      },\n      instructions: [\n        'Review test pass rate',\n        'Assess code coverage',\n        'Calculate overall score',\n        'Provide recommendations'\n      ],\n      outputFormat: 'JSON with score, analysis, recommendations'\n    },\n    outputSchema: {\n      type: 'object',\n      required: ['score', 'analysis'],\n      properties: {\n        score: { type: 'number', minimum: 0, maximum: 100 },\n        analysis: { type: 'string' },\n        recommendations: { type: 'array', items: { type: 'string' } }\n      }\n    }\n  },\n\n  io: {\n    inputJsonPath: `tasks/${taskCtx.effectId}/input.json`,\n    outputJsonPath: `tasks/${taskCtx.effectId}/result.json`\n  }\n}));\n\nexport async function process(inputs, ctx) {\n  const testResult = await ctx.task(testTask, {});\n\n  const qualityScore = await ctx.task(agentScoringTask, {\n    testResults: testResult,\n    coverage: testResult.coverage\n  });\n\n  ctx.log(`Quality score: ${qualityScore.score}/100`);\n\n  return { score: qualityScore.score };\n}\n```\n\n### Example 3: Parallel Execution\n\n```javascript\nexport async function process(inputs, ctx) {\n  // Run quality checks in parallel\n  const [coverage, lint, typeCheck, security] = await ctx.parallel.all([\n    () => ctx.task(coverageTask, {}),\n    () => ctx.task(lintTask, {}),\n    () => ctx.task(typeCheckTask, {}),\n    () => ctx.task(securityTask, {})\n  ]);\n\n  return { coverage, lint, typeCheck, security };\n}\n```\n\n### Example 4: Iterative Convergence\n\n```javascript\nexport async function process(inputs, ctx) {\n  const targetQuality = inputs.targetQuality || 85;\n  const maxIterations = inputs.maxIterations || 5;\n  let iteration = 0;\n  let currentQuality = 0;\n\n  while (iteration < maxIterations && currentQuality < targetQuality) {\n    iteration++;\n\n    // Implement and test\n    const impl = await ctx.task(implementTask, { iteration });\n    const test = await ctx.task(testTask, {});\n\n    // Agent scores quality\n    const score = await ctx.task(agentScoringTask, {\n      implementation: impl,\n      tests: test\n    });\n\n    currentQuality = score.overallScore;\n\n    ctx.log(`Iteration ${iteration}: Quality ${currentQuality}/${targetQuality}`);\n\n    if (currentQuality < targetQuality) {\n      // Breakpoint for review\n      await ctx.breakpoint({\n        question: `Quality ${currentQuality}/${targetQuality}. Continue?`,\n        context: { iteration, score }\n      });\n    }\n  }\n\n  return { converged: currentQuality >= targetQuality, iterations: iteration };\n}\n```\n\n### Example 5: Skill Invocation\n\n```javascript\nexport const skillTask = defineTask('analyzer', (args, taskCtx) => ({\n  kind: 'skill',\n\n  skill: {\n    name: 'codebase-analyzer',\n    context: {\n      scope: args.scope,\n      analysisType: 'consistency',\n      criteria: ['Naming conventions', 'Error handling'],\n      instructions: [\n        'Scan specified paths',\n        'Check consistency',\n        'Analyze patterns',\n        'Generate report'\n      ]\n    }\n  },\n\n  io: {\n    inputJsonPath: `tasks/${taskCtx.effectId}/input.json`,\n    outputJsonPath: `tasks/${taskCtx.effectId}/result.json`\n  }\n}));\n\nexport async function process(inputs, ctx) {\n  const analysis = await ctx.task(skillTask, { scope: 'src/' });\n  return { analysis };\n}\n```\n\n---\n\n## üéì Core Workflow\n\nBabysitter uses a **4-step iteration loop**:\n\n### 1. Run Iteration\n\n```bash\n$CLI run:iterate .a5c/runs/<runId> --json --iteration <n>\n```\n\n**Output:**\n```json\n{\n  \"iteration\": 1,\n  \"status\": \"executed|waiting|completed|failed|none\",\n  \"action\": \"executed-tasks|waiting|none\",\n  \"count\": 3\n}\n```\n\n**Status values:**\n- `executed` - Tasks executed, continue looping\n- `waiting` - Breakpoint/sleep, pause until released\n- `completed` - Run finished successfully\n- `failed` - Run failed with error\n- `none` - No pending effects\n\n### 2. Get Effects\n\n```bash\n$CLI task:list .a5c/runs/<runId> --pending --json\n```\n\n**Output:**\n```json\n{\n  \"tasks\": [\n    {\n      \"effectId\": \"effect-abc123\",\n      \"kind\": \"node|agent|skill|breakpoint\",\n      \"label\": \"auto\",\n      \"status\": \"requested\"\n    }\n  ]\n}\n```\n\n### 3. Perform Effects\n\n```bash\n$CLI task:post .a5c/runs/<runId> <effectId> --status <ok|error> --json\n```\n\n**Output:**\n```json\n{\n  \"status\": \"ok|error\",\n  \"committed\": {\n    \"resultRef\": \"tasks/effect-abc123/result.json\",\n    \"stdoutRef\": \"tasks/effect-abc123/stdout.log\",\n    \"stderrRef\": \"tasks/effect-abc123/stderr.log\"\n  },\n  \"stdoutRef\": \"tasks/effect-abc123/stdout.log\",\n  \"stderrRef\": \"tasks/effect-abc123/stderr.log\",\n  \"resultRef\": \"tasks/effect-abc123/result.json\"\n}\n```\n\n### 4. Results Posted\n\nAfter executing the effect externally (or inside a hook), `task:post`:\n- Writes result to `tasks/<effectId>/result.json`\n- Appends event to `journal.jsonl`\n- Updates `state.json` cache\n\n---\n\n## üîß CLI Quick Reference\n\n```bash\nCLI=\"npx -y @a5c-ai/babysitter-sdk@latest\"\n\n# Create run\n$CLI run:create \\\n  --process-id <id> \\\n  --entry <path>#<export> \\\n  --inputs <path>\n\n# Check status\n$CLI run:status <runId> --json\n\n# View events\n$CLI run:events <runId> --limit 20 --reverse\n\n# Iterate once\n$CLI run:iterate <runId> --json --iteration 1\n\n# List tasks\n$CLI task:list <runId> --pending --json\n\n# Post task result\n$CLI task:post <runId> <effectId> --status <ok|error> --json\n```\n\n---\n\n## üö¶ Advanced Features\n\n### Agent Tasks\n\nUse LLMs for planning, scoring, and review:\n\n```javascript\n{\n  kind: 'agent',\n  agent: {\n    name: 'feature-planner',\n    prompt: {\n      role: 'senior architect',\n      task: 'Generate implementation plan',\n      context: { feature: '...' },\n      instructions: ['Analyze', 'Plan', 'Recommend'],\n      outputFormat: 'JSON with approach, steps, risks'\n    },\n    outputSchema: { /* JSON schema */ }\n  },\n  io: { /* ... */ }\n}\n```\n\n### Skill Tasks\n\nInvoke Claude Code skills as tasks:\n\n```javascript\n{\n  kind: 'skill',\n  skill: {\n    name: 'codebase-analyzer',\n    context: {\n      scope: 'src/',\n      instructions: ['Scan', 'Analyze', 'Report']\n    }\n  },\n  io: { /* ... */ }\n}\n```\n\n### Breakpoints\n\nRequest human approval:\n\n```javascript\nawait ctx.breakpoint({\n  question: 'Approve deployment to production?',\n  title: 'Production Deployment',\n  context: {\n    runId: ctx.runId,\n    files: [\n      { path: 'artifacts/deploy-plan.md', format: 'markdown' }\n    ]\n  }\n});\n```\n\n### Custom Hooks\n\nAdd custom lifecycle hooks:\n\n```javascript\n// In process\nawait ctx.hook('pre-commit', {\n  files: ['src/feature.ts'],\n  message: 'feat: add new feature'\n});\n```\n\n```bash\n# .a5c/hooks/pre-commit/lint-check.sh\n#!/bin/bash\nPAYLOAD=$(cat)\nFILES=$(echo \"$PAYLOAD\" | jq -r '.files[]')\n\n# Run linter on changed files\nnpx eslint $FILES\n```\n\n### Parallel Execution\n\nRun independent tasks concurrently:\n\n```javascript\nconst results = await ctx.parallel.all([\n  () => ctx.task(task1, { ... }),\n  () => ctx.task(task2, { ... }),\n  () => ctx.task(task3, { ... })\n]);\n```\n\n### Quality Convergence\n\nIterate until quality target met:\n\n```javascript\nlet quality = 0;\nwhile (quality < targetQuality && iteration < maxIterations) {\n  // Implement, test, score\n  const score = await ctx.task(agentScoringTask, { ... });\n  quality = score.overallScore;\n  iteration++;\n}\n```\n\n---\n\n## üìñ Documentation\n\n### Core Documentation\n\n- **[BABYSITTER_PLUGIN_SPECIFICATION.md](./BABYSITTER_PLUGIN_SPECIFICATION.md)** - Complete specification (architecture, components, API)\n- **[HOOKS.md](./HOOKS.md)** - Hook system guide (types, development, examples)\n- **[skills/babysit/SKILL.md](./skills/babysit/SKILL.md)** - Main orchestration skill instructions\n- **[skills/babysit/reference/ADVANCED_PATTERNS.md](./skills/babysit/reference/ADVANCED_PATTERNS.md)** - Advanced patterns (agents, skills, convergence)\n\n### Process Documentation\n\n- **[tdd-quality-convergence.md](./.claude/skills/babysit/process/tdd-quality-convergence.md)** - Comprehensive TDD example with agent scoring\n- **[PACKAGING_PROCESSES_WITH_SKILLS.md](./PACKAGING_PROCESSES_WITH_SKILLS.md)** - How to package processes with skills\n\n### SDK Documentation\n\n- **[packages/sdk/sdk.md](../../packages/sdk/sdk.md)** - Babysitter SDK API reference\n\n---\n\n## üéØ Example Processes\n\n### TDD Quality Convergence\n\n**Location:** `.claude/skills/babysit/process/tdd-quality-convergence.js`\n\nDemonstrates:\n- Agent-based planning\n- TDD red-green-refactor cycle\n- Quality convergence with iterative feedback\n- Parallel quality checks\n- Human-in-the-loop breakpoints\n- Agent-based quality scoring\n- Final review and approval\n\n**Usage:**\n```bash\n$CLI run:create \\\n  --process-id babysitter/tdd-quality-convergence \\\n  --entry .claude/skills/babysit/process/tdd-quality-convergence.js#process \\\n  --inputs .claude/skills/babysit/process/examples/tdd-quality-convergence-example.json\n```\n\n---\n\n## üîç Troubleshooting\n\n### CLI not found\n\n```bash\n# Install globally (optional)\nnpm install -g @a5c-ai/babysitter-sdk@latest\n\n# Or use npx\nnpx -y @a5c-ai/babysitter-sdk@latest --version\n```\n\n### Run stuck in \"waiting\"\n\nCheck for breakpoints:\n\n```bash\n$CLI run:status .a5c/runs/<runId>\n# Look for \"Awaiting input\" or breakpoint in pending tasks\n```\n\nRelease breakpoint via hooks or CLI (depending on setup).\n\n### Journal corruption\n\n```bash\n# Verify journal integrity\n$CLI run:events .a5c/runs/<runId> --json\n\n# If corrupted, restore from backup or rebuild state\n```\n\n### Task fails silently\n\nCheck task logs:\n\n```bash\n# View task stdout/stderr\ncat .a5c/runs/<runId>/tasks/<effectId>/stdout.log\ncat .a5c/runs/<runId>/tasks/<effectId>/stderr.log\n\n# View task with verbose output\n$CLI task:show .a5c/runs/<runId> <effectId> --json\n```\n\n### Hook not executing\n\nVerify hook permissions and search order:\n\n```bash\n# Make hook executable\nchmod +x .a5c/hooks/on-run-start/my-hook.sh\n\n# Test hook manually\necho '{\"runId\":\"test\"}' | .a5c/hooks/on-run-start/my-hook.sh\n```\n\n### Need alternate runs directory\n\n```bash\n# Specify custom runs directory\n$CLI run:create --runs-dir /path/to/runs ...\n$CLI run:status /path/to/runs/<runId>\n```\n\n---\n\n## ü§ù Contributing\n\n### Adding Custom Hooks\n\n1. Create hook script in `.a5c/hooks/<hook-name>/`\n2. Make it executable: `chmod +x <script>.sh`\n3. Read JSON payload from stdin\n4. Exit 0 for success, non-zero for failure\n\n### Creating Processes\n\n1. Create process file: `.a5c/processes/<category>/<name>.js`\n2. Export `process` function\n3. Define tasks with `defineTask`\n4. Test with `run:create`\n\n### Packaging Processes with Skills\n\n1. Create process in `.claude/skills/<skill-name>/process/`\n2. Add documentation: `<process-name>.md`\n3. Add example inputs: `examples/<process-name>-example.json`\n4. Reference in skill's `SKILL.md`\n\nSee [PACKAGING_PROCESSES_WITH_SKILLS.md](./PACKAGING_PROCESSES_WITH_SKILLS.md) for details.\n\n---\n\n## üìã Key Features Summary\n\n‚úÖ **Event-sourced orchestration** - Deterministic, reproducible workflows\n‚úÖ **Resumable execution** - Pause and resume at any point\n‚úÖ **Hook-driven extensibility** - Customize behavior at every lifecycle event\n‚úÖ **Human-in-the-loop** - Breakpoints for approval and review\n‚úÖ **Multi-task types** - Node scripts, LLM agents, Claude skills, breakpoints, sleep gates\n‚úÖ **Parallel execution** - Run independent tasks concurrently\n‚úÖ **Quality convergence** - Iterate until quality targets met\n‚úÖ **Agent-based scoring** - LLM assessment of quality and progress\n‚úÖ **CLI-driven** - Complete control via `@a5c-ai/babysitter-sdk` CLI\n‚úÖ **Skill integration** - Package processes with Claude Code skills\n\n---\n\n## üìù License\n\nSee main project LICENSE.\n\n---\n\n## üîó Quick Links\n\n- [Plugin Specification](./BABYSITTER_PLUGIN_SPECIFICATION.md)\n- [Hooks Guide](./HOOKS.md)\n- [Advanced Patterns](./skills/babysit/reference/ADVANCED_PATTERNS.md)\n- [SDK API Reference](../../packages/sdk/sdk.md)\n- [TDD Example Process](./.claude/skills/babysit/process/tdd-quality-convergence.js)\n- [Process Packaging Guide](./PACKAGING_PROCESSES_WITH_SKILLS.md)\n\n---\n\n**Get started:** Ask Claude to \"use the babysitter skill\" for your next complex workflow!\n"
      },
      "plugins": [
        {
          "name": "babysitter",
          "source": "./plugins/babysitter",
          "description": "Babysitter",
          "version": "4.0.127",
          "author": {
            "name": "a5c.ai"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add a5c-ai/babysitter",
            "/plugin install babysitter@a5c.ai"
          ]
        }
      ]
    }
  ]
}