{
  "author": {
    "id": "Z-M-Huang",
    "display_name": "Mark.Huang",
    "avatar_url": "https://avatars.githubusercontent.com/u/25124355?u=e2d336b7786c267c88293353cd5b94c4435153e1&v=4"
  },
  "marketplaces": [
    {
      "name": "claude-codex",
      "version": null,
      "description": "Multi-AI orchestration plugins for Claude Code with task-based pipeline enforcement",
      "repo_full_name": "Z-M-Huang/claude-codex",
      "repo_url": "https://github.com/Z-M-Huang/claude-codex",
      "repo_description": "Multi-AI orchestration plugin for Claude Code with sequential reviews, Codex final gate, and hook-based enforcement",
      "signals": {
        "stars": 20,
        "forks": 8,
        "pushed_at": "2026-02-19T01:40:29Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-codex\",\n  \"owner\": {\n    \"name\": \"Z-M-Huang\"\n  },\n  \"metadata\": {\n    \"description\": \"Multi-AI orchestration plugins for Claude Code with task-based pipeline enforcement\",\n    \"version\": \"1.5.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-codex\",\n      \"source\": \"./plugins/claude-codex\",\n      \"description\": \"Multi-AI orchestration pipeline with task-based enforcement pipeline (sonnet → opus → codex)\",\n      \"version\": \"1.5.0\",\n      \"author\": {\n        \"name\": \"Z-M-Huang\"\n      },\n      \"homepage\": \"https://github.com/Z-M-Huang/claude-codex\",\n      \"repository\": \"https://github.com/Z-M-Huang/claude-codex\",\n      \"license\": \"MIT\",\n      \"keywords\": [\"multi-ai\", \"code-review\", \"orchestration\", \"pipeline\", \"task-based\", \"multi-session\"],\n      \"category\": \"development\",\n      \"tags\": [\"ai\", \"review\", \"automation\", \"pipeline\", \"tdd\"],\n      \"skills\": \"./skills/\"\n    }\n  ]\n}\n",
        "README.md": "# Claude Codex Marketplace\n\n![Visitors](https://visitor-badge.laobi.icu/badge?page_id=Z-M-Huang.claude-codex&style=flat-square)\n![GitHub release](https://img.shields.io/github/v/release/Z-M-Huang/claude-codex?style=flat-square)\n![GitHub license](https://img.shields.io/github/license/Z-M-Huang/claude-codex?style=flat-square)\n![GitHub last commit](https://img.shields.io/github/last-commit/Z-M-Huang/claude-codex?style=flat-square)\n![Windows](https://img.shields.io/badge/Windows-0078D6?style=flat-square&logo=windows&logoColor=white)\n![macOS](https://img.shields.io/badge/macOS-000000?style=flat-square&logo=apple&logoColor=white)\n![Linux](https://img.shields.io/badge/Linux-FCC624?style=flat-square&logo=linux&logoColor=black)\n\nA Claude Code plugin marketplace providing multi-AI orchestration tools for planning, implementing, and reviewing code changes.\n\n> **New to Claude Codex?** Check out our [Wiki](https://github.com/Z-M-Huang/claude-codex/wiki) for beginner-friendly guides and tutorials. Available in [English](https://github.com/Z-M-Huang/claude-codex/wiki) and [中文](https://github.com/Z-M-Huang/claude-codex/wiki/Home-zh).\n\n## Why Multi-AI Review?\n\n**Would you deploy code that only one person looked at?**\n\nIn professional software development, code reviews are mandatory. Google requires review for every change. Microsoft uses multiple review stages. Claude Codex brings this professional standard to AI-assisted development.\n\nInstead of trusting a single AI's output, your code goes through **three independent reviews**:\n\n| Reviewer | What It Catches |\n|----------|-----------------|\n| **Claude Sonnet** | Obvious bugs, security basics, code style |\n| **Claude Opus** | Architectural issues, subtle bugs, edge cases |\n| **Codex** | Fresh perspective from a different AI |\n\n**The result:** More bugs caught, better security, and production-ready code.\n\nEach reviewer checks for OWASP Top 10 vulnerabilities, proper error handling, and code quality. If Sonnet misses something, Opus or Codex will likely catch it. The loop-until-approved model means code doesn't proceed until all three reviewers give the green light.\n\nLearn more: [Why Claude Codex?](https://github.com/Z-M-Huang/claude-codex/wiki/Why-Claude-Codex)\n\n## Installation\n\n### Step 1: Add Marketplace\n\n```bash\n/plugin marketplace add Z-M-Huang/claude-codex\n```\n\n### Step 2: Install Plugin\n\n```bash\n# Install at user scope (available in all projects) - RECOMMENDED\n/plugin install claude-codex@claude-codex --scope user\n\n# OR install at project scope (this project only)\n/plugin install claude-codex@claude-codex --scope project\n```\n\n### Step 3: Add .task to .gitignore\n\nThe plugin automatically creates `.task/` in your project directory. Add it to `.gitignore`:\n\n```bash\necho \".task\" >> .gitignore\n```\n\n> **Multi-Project Support:** When installed at user scope, you can run the pipeline in multiple projects simultaneously. Each project gets its own isolated `.task/` directory.\n\n### Usage\n\nAfter installation, use skills with the plugin namespace:\n\n```bash\n# Start the full pipeline (feature development)\n/claude-codex:multi-ai Add user authentication with JWT\n\n# Start the bug-fix pipeline (dual RCA + targeted fix)\n/claude-codex:bug-fix Login fails silently when session token expires\n```\n\n## Available Plugins\n\n### claude-codex\n\nMulti-AI orchestration pipeline with **hook-based enforcement** using Task + Resume architecture.\n**Skills:**\n\n| Skill          | Purpose                                     |\n| -------------- | ------------------------------------------- |\n| `multi-ai`     | Feature development pipeline (orchestrates agents) |\n| `bug-fix`      | Bug-fix pipeline (dual RCA + Codex validation + targeted fix) |\n\n**Custom Agents:**\n\n| Agent                   | Model  | Purpose                                  |\n| ----------------------- | ------ | ---------------------------------------- |\n| `requirements-gatherer` | Opus   | Business Analyst + PM hybrid             |\n| `planner`               | Opus   | Architect + Fullstack hybrid             |\n| `plan-reviewer`         | Both   | Architecture + Security + QA validation  |\n| `implementer`           | Sonnet | Fullstack + TDD + Quality implementation |\n| `code-reviewer`         | Both   | Security + Performance + QA validation   |\n| `root-cause-analyst`    | Both   | Debugging + fault isolation (bug-fix pipeline) |\n\n## Recommended Subscriptions\n\n| Service         | Subscription | Purpose                                        |\n| --------------- | ------------ | ---------------------------------------------- |\n| **Claude Code** | MAX 20       | Main thread (planning, coding) + Review skills |\n| **Codex CLI**   | Plus         | Final reviews (invoked via skill)              |\n\n## How It Works\n\n### Feature Development with `/multi-ai`\n\n```bash\n/claude-codex:multi-ai Add user authentication with JWT tokens\n```\n\nThis command orchestrates specialized agents:\n\n1. **Requirements** (team-based) - Specialist teammates explore in parallel, lead asks informed questions, `requirements-gatherer` synthesizes\n2. **Planning** (semi-interactive) - `planner` agent creates plan, asks user only if needed\n3. **Plan Reviews** (autonomous) - `plan-reviewer` agents (sonnet, opus) + Codex gate\n4. **Implementation** (autonomous) - `implementer` agent iterates until tests pass + reviews approve\n5. **Code Reviews** (autonomous) - `code-reviewer` agents (sonnet, opus) + Codex gate\n6. **Complete** - Reports results\n\n### Bug Fixes with `/bug-fix`\n\n```bash\n/claude-codex:bug-fix Login fails silently when session token expires\n```\n\nOptimized for diagnosing and fixing bugs with minimal, targeted changes:\n\n1. **Dual RCA** - Two `root-cause-analyst` agents (Sonnet + Opus) analyze the bug in parallel\n2. **Consolidation** - Orchestrator reads both RCA outputs, consolidates diagnosis, writes fix plan\n3. **Codex Validation** - Codex reviews the consolidated RCA + fix plan\n4. **Implementation** - Minimal fix targeting the root cause\n5. **Code Reviews** (autonomous) - `code-reviewer` agents (sonnet, opus) + Codex gate\n\n### Task-Based Pipeline Enforcement\n\nThe pipeline uses **task dependencies**, **hook validation**, and **agent teams** (v1.5.0):\n\n```\n┌────────────────────────────────────────────────────┐\n│  SEQUENTIAL REVIEWS (enforced via blockedBy)        │\n│  ┌──────────────────────────────────────────────┐  │\n│  │ 1. Implement code (implementer agent)        │  │\n│  │ 2. Code review (sonnet) - blocked until impl │  │\n│  │ 3. Code review (opus) - blocked until sonnet │  │\n│  │ 4. Code review (codex) - blocked until opus  │  │\n│  │                                              │  │\n│  │ IF review needs_changes                      │  │\n│  │    → Create fix task + re-review task        │  │\n│  │    → Same reviewer validates fixes           │  │\n│  │                                              │  │\n│  │ IF all reviews approved                      │  │\n│  │    → Pipeline complete                       │  │\n│  └──────────────────────────────────────────────┘  │\n└────────────────────────────────────────────────────┘\n```\n\n**Key benefits:**\n\n- **Hook enforcement** - SubagentStop validates acceptance criteria coverage\n- **Task dependencies** - `blockedBy` prevents skipping reviews\n- **Same-reviewer validation** - Fixes are validated by the reviewer who requested them\n- **Clarification support** - Reviewers can request clarification via `needs_clarification` status\n\n## Marketplace Structure\n\n```\nclaude-codex/\n├── .claude-plugin/\n│   └── marketplace.json          # Marketplace catalog\n├── plugins/\n│   └── claude-codex/             # Multi-AI plugin\n│       ├── .claude-plugin/\n│       │   └── plugin.json       # Plugin manifest\n│       ├── agents/               # Custom agent definitions\n│       │   ├── requirements-gatherer.md\n│       │   ├── planner.md\n│       │   ├── plan-reviewer.md\n│       │   ├── implementer.md\n│       │   ├── code-reviewer.md\n│       │   └── root-cause-analyst.md\n│       ├── skills/               # Pipeline skills\n│       │   ├── multi-ai/         # Feature development orchestrator\n│       │   └── bug-fix/          # Bug-fix orchestrator\n│       ├── scripts/              # Orchestration scripts\n│       ├── hooks/                # Pipeline enforcement hooks\n│       ├── docs/                 # Standards and workflow\n│       ├── .task.template/       # Task directory template\n│       ├── CLAUDE.md\n│       └── AGENTS.md\n└── README.md\n```\n\n## Prerequisites\n\n- [Claude Code](https://claude.ai/code) installed and authenticated\n- [Codex CLI](https://github.com/openai/codex) installed and authenticated (for review-codex skill)\n- [Bun](https://bun.sh/) installed (required by Claude Code, also used for cross-platform JSON processing)\n\n> **Note:** This plugin works on Windows, macOS, and Linux. All shell scripts use Bun for JSON processing instead of `jq`, ensuring cross-platform compatibility out of the box.\n\n## Default Settings\n\nThe pipeline uses these hardcoded defaults:\n\n| Setting | Default | Description |\n|---------|---------|-------------|\n| Plan review loop limit | 10 | Max iterations for plan reviews |\n| Code review loop limit | 15 | Max iterations for code reviews |\n| Auto-resolve attempts | 3 | Retries before pausing on errors |\n\n## Creating Your Own Plugin\n\nTo add a new plugin to this marketplace:\n\n1. Create a directory under `plugins/your-plugin-name/`\n2. Add `.claude-plugin/plugin.json` with your plugin manifest\n3. Add your skills under `skills/`\n4. Update `.claude-plugin/marketplace.json` to include your plugin\n\nExample plugin.json:\n\n```json\n{\n  \"name\": \"your-plugin-name\",\n  \"version\": \"1.0.9\",\n  \"description\": \"What your plugin does\",\n  \"author\": { \"name\": \"Your Name\" },\n  \"skills\": \"./skills/\"\n}\n```\n\n## Troubleshooting\n\n### Plugin not found\n\n```bash\n# Verify marketplace is added\n/plugin marketplace list\n\n# Re-add if needed\n/plugin marketplace add Z-M-Huang/claude-codex\n```\n\n### Skills not loading\n\n```bash\n# Check plugin is installed\n/plugin list\n\n# Reinstall if needed\n/plugin uninstall claude-codex@claude-codex\n/plugin install claude-codex@claude-codex --scope user\n```\n\n### Validate plugin structure\n\n```bash\n/plugin validate .\n```\n\n### Skill not working with slash command\n\nWhen invoking skills from external projects, you must use the full namespaced format:\n\n```bash\n# Correct - use the full namespace\n/claude-codex:multi-ai Add user authentication\n\n# Wrong - bare skill name doesn't work from external projects\n/multi-ai Add user authentication\n```\n\nThe bare skill name (e.g., `/multi-ai`) only works within the plugin's internal context. When using the plugin from your own project, always prefix with `claude-codex:`.\n\n**Alternative:** You can also ask Claude naturally without using slash commands:\n\n> \"Use the multi-ai pipeline to add user authentication\"\n\nClaude will recognize this and invoke the appropriate skill.\n\n## Documentation\n\nFor detailed guides, visit our [Wiki](https://github.com/Z-M-Huang/claude-codex/wiki):\n\n### English\n\n- [Why Claude Codex?](https://github.com/Z-M-Huang/claude-codex/wiki/Why-Claude-Codex) - Benefits of multi-AI review\n- [Getting Started](https://github.com/Z-M-Huang/claude-codex/wiki/Getting-Started) - Step-by-step installation for beginners\n- [Understanding the Pipeline](https://github.com/Z-M-Huang/claude-codex/wiki/Understanding-the-Pipeline) - How the review process works\n- [How to Use](https://github.com/Z-M-Huang/claude-codex/wiki/How-to-Use) - Commands and usage examples\n- [Configuration](https://github.com/Z-M-Huang/claude-codex/wiki/Configuration) - Customization options\n- [Troubleshooting](https://github.com/Z-M-Huang/claude-codex/wiki/Troubleshooting) - Common issues and solutions\n\n### 中文\n\n- [为什么选择 Claude Codex？](https://github.com/Z-M-Huang/claude-codex/wiki/Why-Claude-Codex-zh) - 多 AI 审查的优势\n- [快速开始](https://github.com/Z-M-Huang/claude-codex/wiki/Getting-Started-zh) - 零基础安装指南\n- [流水线详解](https://github.com/Z-M-Huang/claude-codex/wiki/Understanding-the-Pipeline-zh) - 审查流程工作原理\n- [使用方法](https://github.com/Z-M-Huang/claude-codex/wiki/How-to-Use-zh) - 命令和使用示例\n- [配置说明](https://github.com/Z-M-Huang/claude-codex/wiki/Configuration-zh) - 自定义选项\n- [常见问题](https://github.com/Z-M-Huang/claude-codex/wiki/Troubleshooting-zh) - 问题排查与解决\n\n## Related Projects\n\n- [claude-codex-gemini](https://github.com/Z-M-Huang/claude-codex-gemini) - Adds Gemini as a dedicated orchestrator\n\n## License\n\nGPL-3.0 with attribution requirement.\n\nIf you use, modify, or distribute this software, please provide attribution to:\n- **Author:** Z-M-Huang\n- **Project:** Claude Codex\n- **Repository:** https://github.com/Z-M-Huang/claude-codex\n\nSee [LICENSE](LICENSE) for full terms.\n"
      },
      "plugins": [
        {
          "name": "claude-codex",
          "source": "./plugins/claude-codex",
          "description": "Multi-AI orchestration pipeline with task-based enforcement pipeline (sonnet → opus → codex)",
          "version": "1.5.0",
          "author": {
            "name": "Z-M-Huang"
          },
          "homepage": "https://github.com/Z-M-Huang/claude-codex",
          "repository": "https://github.com/Z-M-Huang/claude-codex",
          "license": "MIT",
          "keywords": [
            "multi-ai",
            "code-review",
            "orchestration",
            "pipeline",
            "task-based",
            "multi-session"
          ],
          "category": "development",
          "tags": [
            "ai",
            "review",
            "automation",
            "pipeline",
            "tdd"
          ],
          "skills": "./skills/",
          "categories": [
            "ai",
            "automation",
            "code-review",
            "development",
            "multi-ai",
            "multi-session",
            "orchestration",
            "pipeline",
            "review",
            "task-based",
            "tdd"
          ],
          "install_commands": [
            "/plugin marketplace add Z-M-Huang/claude-codex",
            "/plugin install claude-codex@claude-codex"
          ]
        }
      ]
    },
    {
      "name": "cc-obsidian-mem",
      "version": null,
      "description": "Obsidian-based persistent memory system for Claude Code",
      "repo_full_name": "Z-M-Huang/cc-obsidian-mem",
      "repo_url": "https://github.com/Z-M-Huang/cc-obsidian-mem",
      "repo_description": "Claude code knowledge base using obsidian",
      "signals": {
        "stars": 10,
        "forks": 3,
        "pushed_at": "2026-02-11T23:20:37Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"cc-obsidian-mem\",\n  \"owner\": {\n    \"name\": \"Mark Huang\"\n  },\n  \"metadata\": {\n    \"description\": \"Obsidian-based persistent memory system for Claude Code\",\n    \"homepage\": \"https://github.com/Z-M-Huang/cc-obsidian-mem\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"cc-obsidian-mem\",\n      \"version\": \"1.0.6\",\n      \"source\": \"./plugin\",\n      \"description\": \"Automatically captures session activity, errors, decisions, and patterns into a browsable, visualizable knowledge base.\"\n    }\n  ]\n}\n",
        "README.md": "# cc-obsidian-mem\r\n\r\n> **This repository is archived and no longer actively maintained.** I've moved away from Obsidian and am no longer using or developing this project. Feel free to fork it and build on it, or use it as a starting point for your own memory system.\r\n\r\nObsidian-based persistent memory system for Claude Code. Automatically captures session activity, errors, decisions, and patterns into a browsable, visualizable knowledge base.\r\n\r\n## Documentation\r\n\r\nCheck out the **[Wiki](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki)** for comprehensive guides:\r\n\r\n| Guide | Description |\r\n|-------|-------------|\r\n| [Getting Started](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Getting-Started) | Step-by-step setup for beginners |\r\n| [Installation](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Installation) | Detailed installation instructions |\r\n| [Configuration](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Configuration) | All configuration options explained |\r\n| [MCP Tools](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/MCP-Tools) | Tools Claude uses to access memory |\r\n| [Skills](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Skills) | Slash commands (`/mem-search`, `/mem-save`, etc.) |\r\n| [Vault Structure](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Vault-Structure) | How knowledge is organized |\r\n| [Troubleshooting](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Troubleshooting) | Common issues and solutions |\r\n| [FAQ](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/FAQ) | Frequently asked questions |\r\n\r\n## Features\r\n\r\n- **Automatic Capture**: Hooks automatically track file edits, commands, and errors\r\n- **Exploration Tracking**: Captures codebase exploration (files read, search patterns used)\r\n- **AI Summaries**: Claude-powered knowledge extraction from conversations with Zod validation\r\n- **Obsidian Integration**: Full Obsidian syntax support with Dataview queries for visualization\r\n- **Canvas Visualizations**: Auto-generated dashboard, timeline, and graph canvases\r\n- **File-Based Indexing**: JSON index files for faster search operations\r\n- **Session Summaries**: Creates session summary notes with exploration history\r\n- **Project Organization**: Memories organized by project with cross-project patterns\r\n- **MCP Tools**: Search, read, and write memories directly from Claude Code\r\n- **Skills**: User-invokable commands (`/mem-search`, `/mem-save`, `/mem-status`)\r\n\r\n## Quick Start\r\n\r\n### Prerequisites\r\n\r\n- [Bun](https://bun.sh/) runtime installed\r\n- [Obsidian](https://obsidian.md/) with an existing vault\r\n- [Dataview plugin](https://github.com/blacksmithgu/obsidian-dataview) (recommended for dashboards)\r\n- Claude Code CLI **v1.0.49 or later** (required for `--no-session-persistence` flag)\r\n  - Check your version: `claude --version`\r\n  - Upgrade if needed: `npm install -g @anthropic-ai/claude-code`\r\n\r\n### Step 1: Install the Plugin\r\n\r\n**Option A: From GitHub Marketplace (Recommended)**\r\n\r\n```bash\r\n# In Claude Code, run:\r\n/plugin marketplace add z-m-huang/cc-obsidian-mem\r\n/plugin install cc-obsidian-mem\r\n```\r\n\r\n**Option B: From Local Clone**\r\n\r\n```bash\r\n# Clone the repository\r\ngit clone https://github.com/Z-M-Huang/cc-obsidian-mem.git\r\ncd cc-obsidian-mem/plugin\r\nbun install\r\n\r\n# In Claude Code, run:\r\n/plugin marketplace add /path/to/cc-obsidian-mem\r\n/plugin install cc-obsidian-mem\r\n```\r\n\r\n### Step 2: Configure Your Vault\r\n\r\nRun the setup wizard:\r\n\r\n```bash\r\n# Navigate to the plugin directory and run setup\r\ncd ~/.claude/plugins/cc-obsidian-mem  # or your clone location\r\ncd plugin && bun run setup\r\n```\r\n\r\nThe wizard will prompt you for your Obsidian vault path and create the config file.\r\n\r\n**Or manually create** `~/.cc-obsidian-mem/config.json`:\r\n\r\n```json\r\n{\r\n  \"vault\": {\r\n    \"path\": \"/path/to/your/obsidian/vault\",\r\n    \"memFolder\": \"_claude-mem\"\r\n  },\r\n  \"logging\": {\r\n    \"verbose\": false\r\n  },\r\n  \"capture\": {\r\n    \"fileEdits\": true,\r\n    \"bashCommands\": true,\r\n    \"bashOutput\": { \"enabled\": true, \"maxLength\": 5000 },\r\n    \"errors\": true,\r\n    \"decisions\": true\r\n  },\r\n  \"summarization\": {\r\n    \"enabled\": true,\r\n    \"model\": \"sonnet\",\r\n    \"sessionSummary\": true,\r\n    \"errorSummary\": true,\r\n    \"timeout\": 180000\r\n  },\r\n  \"contextInjection\": {\r\n    \"enabled\": true,\r\n    \"maxTokens\": 4000,\r\n    \"includeRelatedErrors\": true,\r\n    \"includeProjectPatterns\": true\r\n  },\r\n  \"canvas\": {\r\n    \"enabled\": true,\r\n    \"autoGenerate\": true,\r\n    \"updateStrategy\": \"always\"\r\n  },\r\n  \"processing\": {\r\n    \"frequency\": \"compact-only\",\r\n    \"periodicInterval\": 10\r\n  },\r\n  \"deduplication\": {\r\n    \"enabled\": true,\r\n    \"threshold\": 0.6\r\n  }\r\n}\r\n```\r\n\r\n> **Note**: AI summarization uses the Claude Code CLI (`claude -p`), so no separate API key is required. Valid model values: `sonnet`, `opus`, `haiku`.\r\n\r\n### Step 3: Restart Claude Code\r\n\r\nRestart Claude Code to load the plugin and hooks.\r\n\r\n### Step 4: Enable Proactive Memory Use (Important!)\r\n\r\nThe plugin provides MCP tools, but Claude won't automatically use them unless instructed. Add the following to your project's `CLAUDE.md` file:\r\n\r\n```markdown\r\n## Memory System (cc-obsidian-mem)\r\n\r\nYou have access to a persistent memory system via MCP tools. Use it proactively.\r\n\r\n### Available Tools\r\n\r\n| Tool                  | Use When                                                 |\r\n| --------------------- | -------------------------------------------------------- |\r\n| `mem_search`          | Looking for past decisions, errors, patterns, or context |\r\n| `mem_read`            | Need full content of a specific note                     |\r\n| `mem_write`           | Saving important decisions, patterns, or learnings       |\r\n| `mem_write_knowledge` | Saving Q&A, explanations, research from conversations    |\r\n| `mem_supersede`       | Updating/replacing outdated information                  |\r\n| `mem_project_context` | Starting work on a project (get recent context)          |\r\n| `mem_list_projects`   | Need to see all tracked projects                         |\r\n| `mem_generate_canvas` | Generate Obsidian canvas visualizations                  |\r\n| `mem_file_ops`        | Delete, move, or create directories in the vault         |\r\n\r\n### When to Search Memory\r\n\r\n**Proactively search memory (`mem_search`) when:**\r\n\r\n- Starting work on a codebase - check for project context and recent decisions\r\n- Encountering an error - search for similar errors and their solutions\r\n- Making architectural decisions - look for related past decisions\r\n- User asks \"how did we...\" or \"why did we...\" or \"what was...\"\r\n- Implementing a feature similar to past work\r\n\r\n**Example searches:**\r\n\r\n- `mem_search query=\"authentication\" type=\"decision\"` - Find auth-related decisions\r\n- `mem_search query=\"TypeError\" type=\"error\"` - Find past TypeScript errors\r\n- `mem_search query=\"database schema\"` - Find DB-related knowledge\r\n- `mem_project_context project=\"my-project\"` - Get full project context\r\n\r\n### When to Save to Memory\r\n\r\n**Save to memory (`mem_write`) when:**\r\n\r\n- Making significant architectural or technical decisions\r\n- Discovering important patterns or gotchas\r\n- Solving tricky bugs (save the solution)\r\n- Learning something project-specific that will be useful later\r\n\r\n**Use `mem_supersede` when:**\r\n\r\n- A previous decision is being replaced\r\n- Updating outdated documentation or patterns\r\n```\r\n\r\nYou can also add this to your global `~/.claude/CLAUDE.md` to apply it to all projects.\r\n\r\n### Updating the Plugin\r\n\r\nWhen updating to a new version, we recommend a clean reinstall:\r\n\r\n```bash\r\n# 1. Uninstall the current version\r\n/plugin uninstall cc-obsidian-mem\r\n\r\n# 2. Reinstall from marketplace\r\n/plugin install cc-obsidian-mem\r\n\r\n# 3. Restart Claude Code session\r\n# Exit and start a new Claude session to load the updated hooks\r\n```\r\n\r\n> **Note**: Your configuration file (`~/.cc-obsidian-mem/config.json`) and all knowledge in your Obsidian vault are preserved during reinstall. Only the plugin code is updated.\r\n\r\n---\r\n\r\n## Usage\r\n\r\n### Automatic Capture\r\n\r\nOnce installed, the plugin automatically:\r\n\r\n- Tracks file edits, bash commands, and errors during sessions\r\n- Extracts knowledge from web searches and documentation lookups\r\n- Generates AI-powered knowledge extraction when you run `/compact` or end a session\r\n- Persists decisions, errors, patterns, and learnings to your Obsidian vault\r\n\r\n### Skills (User Commands)\r\n\r\n#### `/mem-search` - Search your knowledge base\r\n\r\n```\r\n/mem-search authentication error fix\r\n/mem-search database schema decisions\r\n/mem-search API rate limiting patterns\r\n```\r\n\r\n#### `/mem-save` - Save knowledge explicitly\r\n\r\n```\r\n/mem-save decision: We chose PostgreSQL for better JSON support\r\n/mem-save pattern: This regex validates email addresses\r\n/mem-save learning: API rate limits at 100 req/min\r\n```\r\n\r\n#### `/mem-status` - Check system status\r\n\r\n```\r\n/mem-status\r\n```\r\n\r\n### MCP Tools\r\n\r\nThese tools are available to Claude during conversations:\r\n\r\n| Tool                  | Description                                                             |\r\n| --------------------- | ----------------------------------------------------------------------- |\r\n| `mem_search`          | Search notes by query, project, type, or tags                           |\r\n| `mem_read`            | Read a specific note's content                                          |\r\n| `mem_write`           | Create or update notes (error, decision, pattern, file, learning)       |\r\n| `mem_write_knowledge` | Write knowledge notes (qa, explanation, decision, research, learning)   |\r\n| `mem_supersede`       | Create a new note that supersedes an existing one (bidirectional links) |\r\n| `mem_project_context` | Get context for a project                                               |\r\n| `mem_list_projects`   | List all tracked projects                                               |\r\n| `mem_generate_canvas` | Generate canvas visualizations (dashboard, timeline, graph)             |\r\n| `mem_file_ops`        | Cross-platform file operations (delete, move, mkdir) for vault cleanup  |\r\n\r\n---\r\n\r\n## Architecture\r\n\r\n```\r\n┌──────────────┐     ┌─────────────┐     ┌────────────────┐\r\n│ Claude Code  │◄───►│ MCP Server  │◄───►│ Obsidian Vault │\r\n└──────┬───────┘     └─────────────┘     └────────────────┘\r\n       │\r\n       ▼\r\n┌──────────────┐     ┌─────────────┐\r\n│    Hooks     │────►│Session Store│\r\n│ (Lifecycle)  │     │ (Ephemeral) │\r\n└──────────────┘     └─────────────┘\r\n```\r\n\r\n### Hooks\r\n\r\n| Hook               | Purpose                                                                    |\r\n| ------------------ | -------------------------------------------------------------------------- |\r\n| `SessionStart`     | Initialize session tracking, inject project context, migrate pending files |\r\n| `UserPromptSubmit` | Track user prompts                                                         |\r\n| `PostToolUse`      | Capture observations, extract knowledge from web tools                     |\r\n| `PreCompact`       | Trigger background AI summarization before `/compact`                      |\r\n| `SessionEnd`       | Generate canvas visualizations, cleanup session files                      |\r\n\r\n---\r\n\r\n## Vault Structure\r\n\r\n```\r\nvault/\r\n├── _claude-mem/\r\n│   ├── index.md                     # Dashboard with Dataview queries\r\n│   ├── projects/\r\n│   │   └── {project-name}/\r\n│   │       ├── {project-name}.md    # Project overview\r\n│   │       ├── _index.json          # Project index (auto-generated for fast search)\r\n│   │       ├── errors/\r\n│   │       │   ├── errors.md        # Category index\r\n│   │       │   └── *.md             # Error patterns\r\n│   │       ├── decisions/\r\n│   │       │   ├── decisions.md     # Category index\r\n│   │       │   └── *.md             # Architectural decisions\r\n│   │       ├── knowledge/\r\n│   │       │   ├── knowledge.md     # Category index\r\n│   │       │   └── *.md             # Q&A, explanations, learnings\r\n│   │       ├── research/\r\n│   │       │   ├── research.md      # Category index\r\n│   │       │   └── *.md             # External research notes\r\n│   │       ├── patterns/\r\n│   │       │   ├── patterns.md      # Category index\r\n│   │       │   └── *.md             # Project-specific patterns\r\n│   │       ├── files/\r\n│   │       │   ├── files.md         # Category index\r\n│   │       │   └── *.md             # File-specific knowledge\r\n│   │       ├── sessions/            # Session summary notes\r\n│   │       │   └── *.md             # {date}_{session_id}.md\r\n│   │       └── canvases/\r\n│   │           ├── dashboard.canvas # Grid layout by folder type\r\n│   │           ├── timeline.canvas  # Decisions chronologically\r\n│   │           └── graph.canvas     # Radial knowledge graph\r\n│   ├── global/\r\n│   │   ├── patterns/                # Reusable cross-project patterns\r\n│   │   └── knowledge/               # General learnings\r\n│   └── templates/                   # Note templates\r\n```\r\n\r\n> **Note**: Session data is stored ephemerally in `~/.cc-obsidian-mem/sessions/` during active sessions (including `{session_id}.json` for state and `{session_id}.exploration.jsonl` for exploration tracking) and cleaned up when sessions end. Only persistent knowledge is stored in the vault.\r\n\r\n### Note Linking\r\n\r\nNotes follow a hierarchical linking structure for Obsidian graph navigation:\r\n\r\n- Individual notes link to their category index via `parent` frontmatter\r\n- Category indexes link to the project base\r\n- Superseded notes have bidirectional links (`superseded_by` ↔ `supersedes`)\r\n\r\n---\r\n\r\n## Obsidian Features Used\r\n\r\n- **Frontmatter/Properties**: YAML metadata for filtering and Dataview\r\n- **Wikilinks**: `[[Note]]`, `[[Note#heading]]` for navigation\r\n- **Callouts**: `> [!warning]`, `> [!success]` for visual highlighting\r\n- **Dataview queries**: Dynamic dashboards and indexes\r\n- **Graph view**: Visualize connections between notes\r\n- **Tags**: `#error`, `#decision`, `#learning`, `#project/name` for organization\r\n\r\n---\r\n\r\n## Troubleshooting\r\n\r\nFor detailed troubleshooting, see the [Troubleshooting Wiki](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Troubleshooting).\r\n\r\n**Quick fixes:**\r\n\r\n| Problem | Solution |\r\n|---------|----------|\r\n| Plugin not loading | Run `/plugin list` to verify, restart Claude Code |\r\n| No data captured | Check config exists at `~/.cc-obsidian-mem/config.json` |\r\n| AI summaries not working | Verify `summarization.enabled: true` in config |\r\n| Claude not using memory | Add memory instructions to your `CLAUDE.md` (see Step 4) |\r\n\r\n**Enable debug logging:**\r\n\r\n```json\r\n\"logging\": { \"verbose\": true }\r\n```\r\n\r\nThen view: `tail -f /tmp/cc-obsidian-mem-*.log`\r\n\r\n### `--continue` picks up wrong session\r\n\r\nIf Claude's `--continue` command picks up an agent session instead of your actual conversation, this is caused by polluted session files from cc-obsidian-mem's background processes.\r\n\r\n**This was fixed in v1.0.4+** by using the `--no-session-persistence` flag. The cleanup below is only needed for sessions created with older versions.\r\n\r\n**Option 1: Delete all session history (simplest)**\r\n\r\nThis removes all Claude Code session history. You won't be able to `--continue` any previous sessions.\r\n\r\n- **Windows:** Delete all contents in `%USERPROFILE%\\.claude\\projects`\r\n- **macOS/Linux:** `rm -rf ~/.claude/projects/*`\r\n\r\n**Option 2: Targeted cleanup (preserves other sessions)**\r\n\r\nOnly removes sessions polluted by cc-obsidian-mem:\r\n\r\n**Windows (PowerShell):**\r\n\r\n```powershell\r\nGet-ChildItem \"$env:USERPROFILE\\.claude\\projects\" -Recurse -Filter \"*.jsonl\" |\r\n  Where-Object { (Get-Content $_.FullName -Raw) -match \"cc-mem-agent|cc-obsidian-mem-\" } |\r\n  Remove-Item -Force\r\nGet-ChildItem \"$env:USERPROFILE\\.claude\\projects\" -Recurse -Filter \"sessions-index.json\" |\r\n  Remove-Item -Force\r\n```\r\n\r\n**macOS/Linux:**\r\n\r\n```bash\r\ngrep -rl \"cc-mem-agent\\|cc-obsidian-mem-\" ~/.claude/projects --include=\"*.jsonl\" | xargs rm -f\r\nfind ~/.claude/projects -name \"sessions-index.json\" -delete\r\n```\r\n\r\n---\r\n\r\n## Development\r\n\r\n### Project Structure\r\n\r\n```\r\ncc-obsidian-mem/\r\n├── .claude-plugin/\r\n│   └── marketplace.json     # Marketplace manifest\r\n├── plugin/\r\n│   ├── .claude-plugin/\r\n│   │   └── plugin.json      # Plugin manifest\r\n│   ├── .mcp.json            # MCP server config\r\n│   ├── hooks/\r\n│   │   ├── hooks.json       # Hook definitions\r\n│   │   └── scripts/         # Hook scripts\r\n│   ├── scripts/             # Utility scripts\r\n│   ├── skills/              # Skill definitions\r\n│   ├── tests/               # Test files\r\n│   └── src/\r\n│       ├── vault/           # Vault management (read/write/search), canvas generation\r\n│       ├── summarizer/      # AI-powered knowledge extraction\r\n│       ├── mcp-server/      # MCP tools (mem_search, mem_write, etc.)\r\n│       ├── session-end/     # Background session processing\r\n│       ├── sqlite/          # SQLite database operations\r\n│       ├── context/         # Context injection for prompts\r\n│       ├── sdk/             # SDK agent integration\r\n│       ├── shared/          # Types, config, validation, logging\r\n│       ├── cli/             # Setup CLI\r\n│       ├── fallback/        # JSON fallback storage\r\n│       └── worker/          # Background worker service\r\n```\r\n\r\n### Topic-Based Filenames (Deduplication)\r\n\r\nKnowledge notes use **topic-based filenames** instead of date-prefixed filenames. This prevents duplicate notes on the same topic:\r\n\r\n- Notes are named `authentication-bug.md` instead of `2026-01-15_authentication-bug.md`\r\n- When new knowledge matches an existing topic, it's **appended** to the existing note\r\n- Each entry within a note has a timestamp header (`## Entry: YYYY-MM-DD HH:MM`)\r\n\r\n**Deduplication Algorithm** (v1.0.4+):\r\n\r\n- Uses **Jaccard word similarity** to match topics with similar (not just identical) titles\r\n- Searches **across all categories** to find similar topics, but only appends to **same-category** matches\r\n- Default threshold: 60% similarity (configurable)\r\n- Stopwords (common words like \"the\", \"for\", \"in\") are filtered before comparison\r\n- Falls back to exact slug matching for single-word titles\r\n\r\n**Configuration** (add to `~/.cc-obsidian-mem/config.json`):\r\n\r\n```json\r\n\"deduplication\": {\r\n  \"enabled\": true,\r\n  \"threshold\": 0.6\r\n}\r\n```\r\n\r\n| Option      | Values        | Description                                    |\r\n| ----------- | ------------- | ---------------------------------------------- |\r\n| `enabled`   | `true`/`false`| Enable cross-category deduplication (default: `true`) |\r\n| `threshold` | 0.0 - 1.0     | Similarity threshold (default: `0.6` = 60%)    |\r\n\r\n**Migration for existing vaults**: Existing date-prefixed notes continue to work. New knowledge will use topic-based filenames. You can manually merge duplicate notes if desired.\r\n\r\n### Running Tests\r\n\r\n```bash\r\ncd plugin && bun test\r\n```\r\n\r\n### Building\r\n\r\n```bash\r\ncd plugin && bun run build\r\n```\r\n\r\n---\r\n\r\n## Support\r\n\r\n- **Documentation:** [Wiki](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki)\r\n- **Bug Reports:** [GitHub Issues](https://github.com/Z-M-Huang/cc-obsidian-mem/issues)\r\n- **Questions:** [GitHub Discussions](https://github.com/Z-M-Huang/cc-obsidian-mem/discussions)\r\n\r\n## License\r\n\r\nMIT\r\n\r\n## Credits\r\n\r\nInspired by [claude-mem](https://github.com/thedotmack/claude-mem) by thedotmack.\r\n"
      },
      "plugins": [
        {
          "name": "cc-obsidian-mem",
          "version": "1.0.6",
          "source": "./plugin",
          "description": "Automatically captures session activity, errors, decisions, and patterns into a browsable, visualizable knowledge base.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add Z-M-Huang/cc-obsidian-mem",
            "/plugin install cc-obsidian-mem@cc-obsidian-mem"
          ]
        }
      ]
    }
  ]
}