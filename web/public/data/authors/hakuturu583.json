{
  "author": {
    "id": "hakuturu583",
    "display_name": "Masaya Kataoka",
    "avatar_url": "https://avatars.githubusercontent.com/u/10348912?u=584813eeed663a03131bbfe195e747c4a259dd16&v=4"
  },
  "marketplaces": [
    {
      "name": "ros2-workspace-plugins",
      "version": null,
      "description": "ROS 2 workspace management plugins with intelligent build/test automation",
      "repo_full_name": "hakuturu583/ros2-claude-code-plugin",
      "repo_url": "https://github.com/hakuturu583/ros2-claude-code-plugin",
      "repo_description": null,
      "signals": {
        "stars": 8,
        "forks": 0,
        "pushed_at": "2025-12-12T03:29:31Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"ros2-workspace-plugins\",\n  \"owner\": {\n    \"name\": \"Masaya Kataoka\",\n    \"email\": \"ms.kataoka@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"ROS 2 workspace management plugins with intelligent build/test automation\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"ros2-workspace\",\n      \"source\": \"./\",\n      \"description\": \"Complete ROS 2 workspace management with intelligent build/test automation, ccache support, and smart package selection\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"Masaya Kataoka\",\n        \"email\": \"ms.kataoka@gmail.com\"\n      },\n      \"repository\": \"https://github.com/hakuturu583/ros2-claude-code-plugin.git\",\n      \"homepage\": \"https://github.com/hakuturu583/ros2-claude-code-plugin\",\n      \"license\": \"MIT\",\n      \"keywords\": [\n        \"ros2\",\n        \"robotics\",\n        \"colcon\",\n        \"build\",\n        \"test\",\n        \"workspace\",\n        \"automation\",\n        \"ccache\",\n        \"development\"\n      ],\n      \"category\": \"Development Tools\",\n      \"tags\": [\n        \"ros2\",\n        \"workspace\",\n        \"build-automation\"\n      ]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"ros2-workspace\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Complete ROS 2 workspace management with intelligent build/test automation, ccache support, and smart package selection\",\n  \"author\": {\n    \"name\": \"Masaya Kataoka\",\n    \"email\": \"ms.kataoka@gmail.com\",\n    \"url\": \"https://github.com/hakuturu583\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/hakuturu583/ros2-claude-code-plugin.git\"\n  },\n  \"homepage\": \"https://github.com/hakuturu583/ros2-claude-code-plugin\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"ros2\", \"robotics\", \"colcon\", \"build\", \"test\", \"workspace\", \"automation\", \"ccache\", \"development\"]\n}\n",
        "README.md": "# ROS 2 Workspace Plugin\n\nClaude Code plugin for ROS 2 workspace management with colcon build and test automation.\n\n## Features\n\n- **Automatic workspace detection**: Finds ROS 2 workspace root by traversing up directories\n- **Workspace tracking**: Creates `.ros_workspace.txt` with workspace root path\n- **Git integration**: Automatically adds generated files to `.gitignore`\n- **Colcon build**: Executes `colcon build` with ccache support via `build.sh` and returns to original directory\n- **Colcon test**: Executes `colcon test` with automatic result display via `test.sh` and returns to original directory\n- **Test results**: Display detailed test results with `colcon test-result --verbose` and returns to original directory\n- **Smart package selection**: Automatically builds/tests only packages in current directory\n- **Directory preservation**: All commands preserve your working directory - no manual `cd` needed\n\n## Installation\n\n### From Marketplace (Recommended)\n\nInstall directly from the Claude Code plugin marketplace:\n\n```bash\n# Search for the plugin\ncc plugin search ros2\n\n# Install the plugin\ncc plugin install ros2-workspace\n\n# The plugin will be automatically available in all your projects\n```\n\n### Manual Installation\n\n#### Option 1: Clone from GitHub\n\n```bash\n# Clone to Claude Code plugins directory\nmkdir -p ~/.claude/plugins\ngit clone https://github.com/hakuturu583/ros2-claude-code-plugin.git ~/.claude/plugins/ros2-workspace\n```\n\n#### Option 2: Local Development\n\n```bash\n# Use plugin from local directory\ncc --plugin-dir /path/to/ros2-claude-code-plugin\n```\n\n## Usage\n\n### `/colcon-build` command\n\nExecute colcon build with automatic workspace detection:\n\n```bash\n/colcon-build\n```\n\nWith options:\n\n```bash\n/colcon-build --symlink-install\n/colcon-build --packages-select my_package\n/colcon-build --symlink-install --packages-select my_package\n```\n\n### `/colcon-test` command\n\nExecute colcon test with automatic workspace detection and result display:\n\n```bash\n/colcon-test\n```\n\nWith options:\n\n```bash\n/colcon-test --packages-select my_package\n/colcon-test --packages-up-to my_package\n/colcon-test --retest-until-pass 3\n```\n\n### `/colcon-test-result` command\n\nDisplay detailed test results from the workspace:\n\n```bash\n/colcon-test-result\n```\n\nWith options:\n\n```bash\n/colcon-test-result --all\n/colcon-test-result --test-result-base custom_results\n```\n\n**Note**: This command automatically navigates to the workspace root, displays test results, and returns to your original directory.\n\n### Smart Package Selection\n\nThe plugin automatically determines which packages to build/test based on your current directory:\n\n**Scenario 1: Working on specific package**\n```bash\n# Navigate to package directory\ncd ~/ros2_ws/src/my_robot_package\n\n# Start Claude Code\ncc\n\n# Build only this package and dependencies\n/colcon-build\n# Result: colcon build --packages-up-to my_robot_package\n\n# Test only this package and dependencies\n/colcon-test\n# Result: colcon test --packages-up-to my_robot_package\n# Note: Automatically returns to ~/ros2_ws/src/my_robot_package after build/test\n```\n\n**Scenario 2: Working in workspace root**\n```bash\n# Navigate to workspace root\ncd ~/ros2_ws\n\n# Start Claude Code\ncc\n\n# Build entire workspace\n/colcon-build\n# Result: colcon build\n\n# Test entire workspace\n/colcon-test\n# Result: colcon test\n```\n\n**Scenario 3: Override with explicit package selection**\n```bash\n# From any directory, you can override\n/colcon-build --packages-select specific_package\n# Result: Builds only specific_package (not its dependencies)\n\n/colcon-test --packages-select specific_package\n# Result: Tests only specific_package (not its dependencies)\n```\n\n**What it does:**\n\n1. Finds Git repository root (directory containing `.git`)\n2. Creates/checks `colcon_build_options.yaml` in Git repo root (build configuration)\n3. Checks for `.ros_workspace.txt` in Git repo root, or traverses up to find ROS 2 workspace root\n   - Looks for `src/` directory without `package.xml` in parent\n4. Creates `.ros_workspace.txt` and `build.sh` script in Git repo root (if not exists)\n   - `.ros_workspace.txt`: stores workspace root path\n   - `build.sh`: build script with ccache support for faster compilation\n5. Adds generated files to `.gitignore` (if not already present)\n6. **Intelligent package discovery**:\n   - Runs `colcon list --names-only` in current directory to find packages you're working on\n   - Runs `colcon list --names-only` in workspace root to discover all packages\n7. Updates `colcon_build_options.yaml` by adding any missing packages with empty configuration\n8. Copies `colcon_build_options.yaml` to `<workspace_root>/colcon.meta`\n9. **Smart build execution via build.sh**:\n   - Executes build through `build.sh` script with ccache enabled\n   - If packages found in current directory: builds only those + dependencies with `--packages-up-to`\n   - If no packages in current directory: builds entire workspace\n   - User can override with explicit package selection arguments\n   - Displays ccache statistics after build completion\n\n## Build Configuration\n\nThe plugin manages build options through `colcon_build_options.yaml` in your Git repository root:\n\n- **Automatic creation**: File is created with default template on first run\n- **Auto-discovery**: Runs `colcon list --names-only` before each build to discover packages\n- **Auto-update**: Automatically adds missing packages to the configuration file\n- **Git ignored**: Automatically added to `.gitignore` (local configuration)\n- **Applied before build**: Content is copied to `<workspace_root>/colcon.meta` before each build\n\n### Example `colcon_build_options.yaml`\n\n```yaml\n# Colcon build options for this ROS 2 workspace\n# This file will be copied to <workspace_root>/colcon.meta before building\n# See: https://colcon.readthedocs.io/en/released/user/configuration.html\n\n{\n  \"names\": {\n    \"my_package\": {\n      \"cmake-args\": [\"-DCMAKE_BUILD_TYPE=Release\"]\n    },\n    \"another_package\": {\n      \"cmake-args\": [\"-DBUILD_TESTING=OFF\"]\n    },\n    \"sensor_driver\": {},\n    \"controller_node\": {}\n  }\n}\n```\n\n**How it works:**\n1. On first run, the file is created with an empty `names` object\n2. Each time you run `/colcon-build`, the plugin discovers all packages with `colcon list --names-only`\n3. Any packages not in the file are automatically added with empty configuration `{}`\n4. You can then customize build options for specific packages\n5. Changes take effect on the next build\n\n## Generated Scripts\n\nThe plugin automatically generates and updates helper scripts in your Git repository root:\n\n### Build Script (build.sh)\n\nAutomatically generated and updated on every `/colcon-build` run with ccache support:\n\n#### Features\n\n- **Smart ccache integration**: Automatically detects and uses ccache if installed\n- **Helpful warnings**: Displays installation instructions if ccache is not found\n- **Works without ccache**: Falls back to normal gcc/g++ if ccache is unavailable\n- **Workspace-aware**: Reads workspace root from `.ros_workspace.txt`\n- **Statistics**: Displays ccache statistics after each build (when ccache is used)\n- **Standalone usage**: Can be used independently from Claude Code plugin\n\n#### Example usage\n\n```bash\n# Auto-generated and updated on every /colcon-build run\n./build.sh --packages-up-to my_package --symlink-install\n\n# The script will:\n# 1. Check if ccache is installed (shows warning if not found)\n# 2. Enable ccache if available (CC=\"ccache gcc\", CXX=\"ccache g++\")\n# 3. Navigate to workspace root\n# 4. Run: colcon build --packages-up-to my_package --symlink-install\n# 5. Show ccache statistics (if ccache is used)\n```\n\n**Without ccache:**\n```\nWARNING: ccache is not installed!\nccache significantly speeds up recompilation by caching previous builds.\n\nTo install ccache:\n  Ubuntu/Debian: sudo apt install ccache\n  Fedora/RHEL:   sudo dnf install ccache\n  Arch Linux:    sudo pacman -S ccache\n  macOS:         brew install ccache\n\nContinuing without ccache...\n```\n\n#### Benefits\n\n- **Faster builds**: ccache caches compilation results, speeding up rebuilds significantly (when installed)\n- **Works everywhere**: Falls back gracefully to normal compilation without ccache\n- **User-friendly**: Clear warnings and installation instructions when ccache is missing\n- **Consistent environment**: Same build settings across team members\n- **Easy to use**: Simple wrapper script with helpful error messages\n\n### Test Script (test.sh)\n\nAutomatically generated and updated on every `/colcon-test` run:\n\n#### Features\n\n- **Automatic test execution**: Runs `colcon test` with provided arguments\n- **Result display**: Automatically shows test results with `colcon test-result --all`\n- **Workspace-aware**: Reads workspace root from `.ros_workspace.txt`\n- **Error handling**: Validates workspace setup before running tests\n- **Standalone usage**: Can be used independently from Claude Code plugin\n\n#### Example usage\n\n```bash\n# Auto-generated and updated on every /colcon-test run\n./test.sh --packages-up-to my_package\n\n# The script will:\n# 1. Verify .ros_workspace.txt exists\n# 2. Navigate to workspace root\n# 3. Run: colcon test --packages-up-to my_package\n# 4. Display test results with colcon test-result --all\n```\n\nExample output:\n```\nTesting ROS 2 workspace...\nWorkspace: /home/user/ros2_ws\n\nRunning: colcon test --packages-up-to my_package\n\n[Test execution...]\n\nTest completed!\n\nViewing test results...\nSummary: 15 tests, 0 errors, 0 failures, 0 skipped\n```\n\n#### Benefits\n\n- **Automatic result display**: No need to manually run `colcon test-result`\n- **Clear feedback**: See test results immediately after execution\n- **Consistent testing**: Same test process across team members\n- **Easy to use**: Simple wrapper script with helpful error messages\n- **Works everywhere**: Requires only colcon and ROS 2 installation\n\n## Additional Commands\n\n### `/colcon-test-result`\n\nDisplay detailed test results without re-running tests:\n\n```bash\n# From any directory in your Git repository\n/colcon-test-result\n\n# The command will:\n# 1. Navigate to workspace root (from .ros_workspace.txt)\n# 2. Run: colcon test-result --verbose\n# 3. Display detailed test results\n# 4. Return to your original directory\n```\n\n**Key features:**\n- **No directory change**: Returns to original directory after displaying results\n- **Verbose by default**: Shows detailed test output with `--verbose` flag\n- **Flexible options**: Can pass any `colcon test-result` options\n- **Quick access**: View test results from anywhere in your repository\n\n**Example output:**\n```\nUsing workspace root from .ros_workspace.txt: /home/user/ros2_ws\n\nbuild/my_package/test_results/my_package/test_my_node.gtest.xml: 5 tests, 0 errors, 0 failures, 0 skipped\nbuild/sensor_driver/test_results/sensor_driver/test_driver.gtest.xml: 10 tests, 0 errors, 0 failures, 0 skipped\n\nSummary: 15 tests, 0 errors, 0 failures, 0 skipped\n\nReturned to original directory: /home/user/ros2_ws/src/my_package\n```\n\n## Requirements\n\n- ROS 2 installed\n- `colcon` build tool available in PATH\n- ROS 2 workspace with standard structure (must have `src/` directory)\n- Git repository initialized (command must be run from within a Git repository)\n- **Optional**: `ccache` installed for faster compilation (highly recommended)\n  - Install on Ubuntu: `sudo apt install ccache`\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "ros2-workspace",
          "source": "./",
          "description": "Complete ROS 2 workspace management with intelligent build/test automation, ccache support, and smart package selection",
          "version": "0.1.0",
          "author": {
            "name": "Masaya Kataoka",
            "email": "ms.kataoka@gmail.com"
          },
          "repository": "https://github.com/hakuturu583/ros2-claude-code-plugin.git",
          "homepage": "https://github.com/hakuturu583/ros2-claude-code-plugin",
          "license": "MIT",
          "keywords": [
            "ros2",
            "robotics",
            "colcon",
            "build",
            "test",
            "workspace",
            "automation",
            "ccache",
            "development"
          ],
          "category": "Development Tools",
          "tags": [
            "ros2",
            "workspace",
            "build-automation"
          ],
          "categories": [
            "automation",
            "build",
            "build-automation",
            "ccache",
            "colcon",
            "development",
            "development-tools",
            "robotics",
            "ros2",
            "test",
            "workspace"
          ],
          "install_commands": [
            "/plugin marketplace add hakuturu583/ros2-claude-code-plugin",
            "/plugin install ros2-workspace@ros2-workspace-plugins"
          ]
        }
      ]
    }
  ]
}