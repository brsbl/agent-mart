{
  "author": {
    "id": "windschord",
    "display_name": "Toshiki Hayashi",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/1859918?u=fccd4cc49d1153c6cec446a224e038c1af72ee71&v=4",
    "url": "https://github.com/windschord",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 8,
      "total_commands": 0,
      "total_skills": 13,
      "total_stars": 1,
      "total_forks": 1
    }
  },
  "marketplaces": [
    {
      "name": "claude-development-skills",
      "version": null,
      "description": "Claude Code用の開発・ドキュメンテーション・分析スキルコレクション",
      "owner_info": {
        "name": "Winds Chord"
      },
      "keywords": [],
      "repo_full_name": "windschord/claude_skils",
      "repo_url": "https://github.com/windschord/claude_skils",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 1,
        "pushed_at": "2026-01-29T12:09:49Z",
        "created_at": "2025-11-01T02:10:39Z",
        "license": "Apache-2.0"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 4310
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 13231
        },
        {
          "path": "depth-interviewing-career",
          "type": "tree",
          "size": null
        },
        {
          "path": "depth-interviewing-career/SKILL.md",
          "type": "blob",
          "size": 16953
        },
        {
          "path": "depth-interviewing-product",
          "type": "tree",
          "size": null
        },
        {
          "path": "depth-interviewing-product/SKILL.md",
          "type": "blob",
          "size": 14688
        },
        {
          "path": "incident-rca",
          "type": "tree",
          "size": null
        },
        {
          "path": "incident-rca/README.md",
          "type": "blob",
          "size": 14243
        },
        {
          "path": "incident-rca/SKILL.md",
          "type": "blob",
          "size": 29081
        },
        {
          "path": "jules-cli",
          "type": "tree",
          "size": null
        },
        {
          "path": "jules-cli/README.md",
          "type": "blob",
          "size": 11534
        },
        {
          "path": "jules-cli/SKILL.md",
          "type": "blob",
          "size": 18789
        },
        {
          "path": "operations-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "operations-design/README.md",
          "type": "blob",
          "size": 9115
        },
        {
          "path": "operations-design/SKILL.md",
          "type": "blob",
          "size": 54909
        },
        {
          "path": "report-summarizing",
          "type": "tree",
          "size": null
        },
        {
          "path": "report-summarizing/README.md",
          "type": "blob",
          "size": 3917
        },
        {
          "path": "report-summarizing/SKILL.md",
          "type": "blob",
          "size": 26008
        },
        {
          "path": "requirements-defining",
          "type": "tree",
          "size": null
        },
        {
          "path": "requirements-defining/SKILL.md",
          "type": "blob",
          "size": 7116
        },
        {
          "path": "sdd-document-management",
          "type": "tree",
          "size": null
        },
        {
          "path": "sdd-document-management/SKILL.md",
          "type": "blob",
          "size": 21098
        },
        {
          "path": "sdd-documentation",
          "type": "tree",
          "size": null
        },
        {
          "path": "sdd-documentation/SKILL.md",
          "type": "blob",
          "size": 8720
        },
        {
          "path": "sdd-troubleshooting",
          "type": "tree",
          "size": null
        },
        {
          "path": "sdd-troubleshooting/SKILL.md",
          "type": "blob",
          "size": 6866
        },
        {
          "path": "software-designing",
          "type": "tree",
          "size": null
        },
        {
          "path": "software-designing/SKILL.md",
          "type": "blob",
          "size": 6301
        },
        {
          "path": "task-executing",
          "type": "tree",
          "size": null
        },
        {
          "path": "task-executing/README.md",
          "type": "blob",
          "size": 5740
        },
        {
          "path": "task-executing/SKILL.md",
          "type": "blob",
          "size": 8098
        },
        {
          "path": "task-planning",
          "type": "tree",
          "size": null
        },
        {
          "path": "task-planning/SKILL.md",
          "type": "blob",
          "size": 10352
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-development-skills\",\n  \"owner\": {\n    \"name\": \"Winds Chord\"\n  },\n  \"metadata\": {\n    \"description\": \"Claude Code用の開発・ドキュメンテーション・分析スキルコレクション\",\n    \"version\": \"2.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"sdd-documentation\",\n      \"description\": \"ソフトウェア設計ドキュメント（SDD）を作成・管理・実装します。4つのサブスキル（requirements-defining、software-designing、task-planning、task-executing）を統括し、requirements.md（EARS記法）、design.md（技術設計）、tasks.md（タスク計画）の作成から実装・逆順レビューまでの全工程を管理します。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./sdd-documentation\",\n        \"./requirements-defining\",\n        \"./software-designing\",\n        \"./task-planning\",\n        \"./task-executing\",\n        \"./sdd-troubleshooting\",\n        \"./sdd-document-management\"\n      ]\n    },\n    {\n      \"name\": \"task-executing\",\n      \"description\": \"docs/tasks.mdに記載されたタスクを実行し、実装を行います。タスクごとにステータス更新とコミットを作成し、実装完了後は逆順レビュー（実装→タスク→設計→要件）で整合性を確認します。SDDワークフローの実装フェーズで使用してください。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./task-executing\"\n      ]\n    },\n    {\n      \"name\": \"incident-rca\",\n      \"description\": \"インシデント調査で根本原因を特定するためのなぜなぜ分析ファシリテーションツールです。推測を避け、ユーザーの発言を記録し、リアルタイムでマインドツリーを作成して全体を可視化します。複合要因を分割し、最低1つの根本原因を特定します。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./incident-rca\"\n      ]\n    },\n    {\n      \"name\": \"jules-cli\",\n      \"description\": \"docs/tasks.mdに記載されたタスクをJules CLIを使って依頼・管理します。タスクを日本語でフォーマットしてJulesに送信し、進捗を追跡して完了後にtasks.mdを更新します。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./jules-cli\"\n      ]\n    },\n    {\n      \"name\": \"operations-design\",\n      \"description\": \"運用設計コンサルタントとして、対象業界の最新トレンドを調査し、サービス仕様をヒアリングした上で、ITIL 4・SRE・DevOpsのベストプラクティスに基づいた運用設計書を作成します。推論を避け、不明点は必ず質問し、一貫性を保つよう客観的にレビューします。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./operations-design\"\n      ]\n    },\n    {\n      \"name\": \"report-summarizing\",\n      \"description\": \"調査結果や分析レポートをエグゼクティブサマリー + 本編の2部構成で整理します。Mermaidダイアグラムによる全体像の可視化、結論・推奨事項・重要ポイントの要約を冒頭に配置し、長大なドキュメントを意思決定者向けに読みやすく構造化します。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./report-summarizing\"\n      ]\n    },\n    {\n      \"name\": \"depth-interviewing-career\",\n      \"description\": \"社員のキャリア観・働きがい・職場環境をデプスインタビュー形式で聞き出すスキルです。オープンエンドな質問を通じて本音を引き出し、構造化された分析レポートを作成します。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./depth-interviewing-career\"\n      ]\n    },\n    {\n      \"name\": \"depth-interviewing-product\",\n      \"description\": \"製品やサービスに対するユーザーの利用実態・満足度・改善要望をデプスインタビュー形式で聞き出すスキルです。顧客インサイトを発見し、構造化された分析レポートを作成します。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./depth-interviewing-product\"\n      ]\n    }\n  ]\n}\n",
        "README.md": "# Claude Code Skills\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/windschord/claude_skils)\n[![Status](https://img.shields.io/badge/status-WIP-orange.svg)](https://github.com/windschord/claude_skils)\n\n> **注意**: このプロジェクトは現在開発中（Work In Progress）です。機能や仕様が変更される可能性があります。\n\nClaude Code用のスキルコレクションです。各スキルは独立したディレクトリで管理され、プロジェクトのニーズに応じて選択・使用できます。\n\n---\n\n## インストール\n\n### Claude Codeでマーケットプレイスを追加\n\nClaude Codeで以下のコマンドを実行します：\n\n```\n/plugin marketplace add https://github.com/windschord/claude_skils.git\n```\n\nこれにより、このリポジトリがマーケットプレイスとして追加され、すべてのスキルが利用可能になります。\n\n### 追加を確認\n\nマーケットプレイスが正しく追加されたか確認します：\n\n```\n/plugin marketplace list\n```\n\n`claude-development-skills`がリストに表示されていれば成功です。\n\n### ローカル開発の場合\n\nローカルで開発やカスタマイズを行う場合は、リポジトリをクローンしてローカルパスを指定します：\n\n```bash\n# リポジトリをクローン\ngit clone https://github.com/windschord/claude_skils.git\n\n# Claude Codeでローカルマーケットプレイスを追加\n/plugin marketplace add /path/to/claude_skils\n```\n\n---\n\n## 利用可能なスキル\n\n### SDD Documentation（オーケストレーター）\n\nソフトウェア設計ドキュメント（SDD）を作成・管理・実装するスキルです。4つのサブスキルを統括し、要件定義から実装までの全工程を管理します。\n\n**サブスキル構成:**\n\n| サブスキル | 役割 | 成果物 |\n|-----------|------|--------|\n| requirements-defining | EARS記法による要件定義 | docs/requirements.md |\n| software-designing | 技術アーキテクチャ設計 | docs/design.md |\n| task-planning | AIエージェント向けタスク分解 | docs/tasks.md |\n| task-executing | タスク実行・逆順レビュー | 実装コード |\n\n**主な機能:**\n- EARS記法による要件定義（requirements.md）\n- 技術設計の文書化（design.md）\n- タスク管理と進捗追跡（tasks.md）\n- タスク実行と逆順レビュー\n- ドキュメント間の整合性チェック\n\n**詳細:** [sdd-documentation/SKILL.md](sdd-documentation/SKILL.md)\n\n**使用開始:**\n```text\ndocsディレクトリを初期化してください\n```\n\n### Task Executing\n\ndocs/tasks.mdに記載されたタスクを実行し、SDDワークフローに沿った実装を行うスキルです。\n\n**主な機能:**\n- タスクごとのステータス管理（TODO → IN_PROGRESS → DONE）\n- 統一されたGitコミットテンプレート\n- 実装後の逆順レビュー（実装→タスク→設計→要件）\n- 並列実行可能なタスクの並列処理\n\n**詳細:** [task-executing/SKILL.md](task-executing/SKILL.md)\n\n**使用開始:**\n```text\n次のタスクを実行してください\n```\n\n### Incident RCA\n\nインシデント調査で根本原因を特定するためのなぜなぜ分析ファシリテーションツールです。\n\n**主な機能:**\n- なぜなぜ分析による体系的な根本原因の特定\n- ユーザーの発言を漏らさず記録\n- リアルタイムマインドツリーの作成と可視化\n- ファシリテーターとしての中立的なサポート\n- 複合要因の分割と個別分析\n- 最低1つの根本原因の特定保証\n\n**詳細:** [incident-rca/README.md](incident-rca/README.md)\n\n**使用開始:**\n```\nインシデントの根本原因を分析したい\n```\n\n### Jules CLI\n\ndocs/tasks.mdに記載されたタスクをJules CLIを使って依頼・管理するスキルです。\n\n**主な機能:**\n- タスクを日本語でフォーマットしてJulesに依頼\n- Julesの進捗状況を追跡・管理\n- 完了したタスクをtasks.mdで自動更新\n- 複数タスクの並行依頼サポート\n- 詳細な文脈提供による高品質な実装\n\n**詳細:** [jules-cli/README.md](jules-cli/README.md)\n\n**使用開始:**\n```\n次のタスクをJulesに依頼してください\n```\n\n### Operations Design\n\n運用設計コンサルタントとして、ITIL 4・SRE・DevOpsに基づいた運用設計書を作成するスキルです。\n\n**主な機能:**\n- 対象業界の最新トレンド調査\n- サービス仕様の体系的ヒアリング\n- インフラパターン別テンプレート（クラウドネイティブ/IaaS/オンプレミス）\n- 包括的な運用設計書の作成（20セクション）\n- 設計内容の一貫性チェックと客観的レビュー\n- 会話ログによるコンテキスト保持\n\n**詳細:** [operations-design/README.md](operations-design/README.md)\n\n**使用開始:**\n```\n運用設計書を作成したい\n```\n\n### Report Summarizing\n\n調査結果や分析レポートをエグゼクティブサマリー + 本編の2部構成で整理するスキルです。\n\n**主な機能:**\n- エグゼクティブサマリー + 本編の2部構成への変換\n- Mermaidダイアグラム（マインドマップ、フローチャート等）による全体像の可視化\n- 結論・推奨事項・重要ポイントを冒頭1〜2ページに要約\n- 詳細セクションへの内部リンクによるナビゲーション\n- GitHub/VSCodeで直接レンダリング可能なMarkdown形式\n\n**詳細:** [report-summarizing/SKILL.md](report-summarizing/SKILL.md)\n\n**使用開始:**\n```text\nこのドキュメントをエグゼクティブサマリー形式に変換してください\n```\n\n### Depth Interviewing (Career)\n\n社員のキャリア観・働きがい・職場環境をデプスインタビュー形式で聞き出すスキルです。\n\n**主な機能:**\n- オープンエンドな質問による本音の引き出し\n- キャリア観、働きがい、職場環境の体系的なヒアリング\n- 構造化された分析レポートの作成\n- インサイトの発見と可視化\n\n**詳細:** [depth-interviewing-career/SKILL.md](depth-interviewing-career/SKILL.md)\n\n**使用開始:**\n```text\n社員インタビューを開始してください\n```\n\n### Depth Interviewing (Product)\n\n製品やサービスに対するユーザーの利用実態・満足度・改善要望をデプスインタビュー形式で聞き出すスキルです。\n\n**主な機能:**\n- ユーザーの利用実態の深掘り\n- 満足度・不満点の体系的なヒアリング\n- 顧客インサイトの発見\n- 構造化された分析レポートの作成\n\n**詳細:** [depth-interviewing-product/SKILL.md](depth-interviewing-product/SKILL.md)\n\n**使用開始:**\n```text\nユーザーインタビューを開始してください\n```\n\n---\n\n## ディレクトリ構造\n\n```text\nclaude_skils/\n├── .claude-plugin/\n│   └── marketplace.json              # マーケットプレイス設定\n├── .gitignore                         # Git除外設定\n├── README.md                          # このファイル\n├── CLAUDE.md                          # Claude Code用ガイド\n├── LICENSE                            # MITライセンス\n│\n├── sdd-documentation/                 # SDDオーケストレータースキル\n│   ├── SKILL.md                       # スキル定義（統括）\n│   └── references/                    # ワークフローガイド\n│\n├── requirements-defining/             # 要件定義サブスキル\n│   ├── SKILL.md                       # スキル定義\n│   ├── assets/templates/              # 要件定義テンプレート\n│   └── references/                    # EARS記法リファレンス\n│\n├── software-designing/                # 設計サブスキル\n│   ├── SKILL.md                       # スキル定義\n│   ├── assets/templates/              # 設計テンプレート\n│   └── references/                    # 設計パターンリファレンス\n│\n├── task-planning/                     # タスク計画サブスキル\n│   ├── SKILL.md                       # スキル定義\n│   ├── assets/templates/              # タスク管理テンプレート\n│   └── references/                    # タスク管理ガイドライン\n│\n├── task-executing/                    # タスク実行サブスキル\n│   ├── SKILL.md                       # スキル定義\n│   └── README.md                      # スキル詳細ドキュメント\n│\n├── incident-rca/                      # Incident RCAスキル\n│   ├── SKILL.md                       # スキル定義\n│   ├── README.md                      # スキル詳細ドキュメント\n│   └── templates/                     # 分析テンプレート\n│\n├── jules-cli/                         # Jules CLIスキル\n│   ├── SKILL.md                       # スキル定義\n│   └── README.md                      # スキル詳細ドキュメント\n│\n├── operations-design/                 # Operations Designスキル\n│   ├── SKILL.md                       # スキル定義\n│   ├── README.md                      # スキル詳細ドキュメント\n│   ├── assets/templates/              # 運用設計書テンプレート\n│   ├── guides/                        # ガイドドキュメント\n│   ├── hearing_items/                 # ヒアリング項目\n│   └── references/                    # リファレンス資料\n│\n├── report-summarizing/                # Report Summarizingスキル\n│   ├── SKILL.md                       # スキル定義\n│   └── assets/templates/              # サマリーテンプレート\n│\n├── depth-interviewing-career/         # キャリアインタビュースキル\n│   └── SKILL.md                       # スキル定義\n│\n└── depth-interviewing-product/        # 製品インタビュースキル\n    └── SKILL.md                       # スキル定義\n```\n\n---\n\n## スキルの追加方法（開発者向け）\n\nこのリポジトリに新しいスキルを追加する場合：\n\n1. **スキルディレクトリを作成**\n   ```bash\n   mkdir my-new-skill\n   cd my-new-skill\n   ```\n\n2. **SKILL.mdを作成**\n   ```markdown\n   ---\n   name: my-new-skill\n   description: スキルの説明\n   ---\n\n   # My New Skill\n\n   スキルの詳細な説明...\n   ```\n\n3. **README.mdを作成**\n\n   スキルの使い方、機能、例などを記載します。\n\n4. **marketplace.jsonに追加**\n\n   `.claude-plugin/marketplace.json`の`plugins`配列に新しいスキルを追加します：\n   ```json\n   {\n     \"name\": \"my-new-skill\",\n     \"description\": \"スキルの説明\",\n     \"source\": \"./\",\n     \"strict\": false,\n     \"skills\": [\n       \"./my-new-skill\"\n     ]\n   }\n   ```\n\n---\n\n## 開発\n\n### 日本語文章チェック\n\nこのプロジェクトでは、textlintを使用して日本語ドキュメントの品質を維持しています。\n\n**ローカルでチェック:**\n```bash\n# 依存関係のインストール\nnpm install\n\n# textlintを実行\nnpm run textlint\n\n# 自動修正を試みる\nnpm run textlint:fix\n```\n\n**GitHub Actions:**\nプルリクエスト作成時に、自動的にtextlintが実行されます。エラーが検出された場合は、PRにコメントが追加されます。\n\n**設定:**\n- `.textlintrc.json`: textlintのルール設定\n- `.textlintignore`: チェック対象外ファイルの設定（テンプレート、リファレンスファイルを除外）\n- 有効なルール:\n  - `preset-ja-technical-writing`: 技術文書向け日本語ルール（一部のルールは緩和設定）\n\n---\n\n## 貢献\n\n貢献を歓迎します！以下の方法で参加できます：\n\n### イシューの報告\n\nバグや改善提案がある場合は、GitHubのIssuesで報告してください。\n\n### プルリクエスト\n\n1. このリポジトリをフォーク\n2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)\n3. 変更をコミット (`git commit -m 'Add amazing feature'`)\n4. ブランチにプッシュ (`git push origin feature/amazing-feature`)\n5. プルリクエストを作成\n\n### 新しいスキルの提案\n\n新しいスキルのアイデアがある場合は、Issueで提案してください。以下の情報を含めると検討がスムーズです：\n\n- スキルの目的\n- 解決する課題\n- 主な機能\n- 使用例\n\n---\n\n## ライセンス\n\nこのプロジェクトはMITライセンスの下で公開されています。詳細は[LICENSE](LICENSE)ファイルをご覧ください。\n\n---\n\n## サポート\n\n質問や問題がある場合は、GitHubのIssuesでお知らせください。\n\n**リポジトリ**: https://github.com/windschord/claude_skils\n",
        "depth-interviewing-career/SKILL.md": "---\nname: depth-interviewing-career\ndescription: キャリア設計のためのデプスインタビューを実施し、本人の価値観・強み・動機を引き出す。5 Whys、ラダリング法を用いてキャリアビジョンの明確化を支援し、すべての会話をファイルに記録する。転職相談、自己理解、キャリアカウンセリング時に使用する。\n---\n\n# デプスインタビュースキル（キャリア設計向け）\n\n本人も気づいていない価値観や動機を引き出すデプスインタビューを実施します。表面的な希望や条件ではなく、「なぜそれを大切にするのか」「どんな時に充実感を感じるのか」を深掘りし、キャリアビジョンの明確化を支援します。\n\n## 概要\n\nこのスキルは以下の機能を提供します：\n\n- **価値観の探索**: 5 Whys、ラダリング法による本質的な価値観の発見\n- **1次情報の記録**: すべての会話をファイルに記録し、後から参照可能に\n- **自己理解の深化**: 強み、動機、理想の働き方の言語化\n- **構造化されたプロセス**: 過去→現在→未来の流れで自己理解を深める\n\n## このスキルを使用する場面\n\n以下の状況でこのスキルを有効にしてください：\n\n### キャリア転換期\n- 転職を考えているが、何がしたいか分からない\n- 現状に不満があるが、原因が言語化できない\n- 複数の選択肢があり、判断基準が見つからない\n\n### 自己理解を深めたい時\n- 自分の強みや価値観を明確にしたい\n- 何にやりがいを感じるか言語化したい\n- 将来のビジョンを描きたい\n\n### キャリア設計の支援時\n- メンタリングやコーチング\n- 1on1での深い対話\n- キャリアカウンセリング\n\n## インタビューの基本原則\n\n### 1. 傾聴と受容\n\n**実施すること**:\n- 相手の話を遮らず最後まで聞く\n- 価値観に優劣をつけず、すべてを受け入れる\n- 「なぜ」「具体的には」で深掘りする\n- 感情や躊躇に注目する\n\n**実施しないこと**:\n- 「普通は〜」「一般的に〜」と比較する\n- 相手の価値観を評価・批判する\n- アドバイスや解決策を急いで提示する\n- 自分の経験や価値観を押し付ける\n\n### 2. 記録の徹底\n\nすべての会話はインタビューログファイルに記録してください。\n\nインタビュー開始時に必ずログファイルを作成し、以下を記録します：\n- 相手の発言（原文のまま）\n- 価値観や動機に関するキーワード\n- 感情が動いたポイント\n- 深掘りのきっかけとなった発言\n\n### 3. 答えは相手の中にある\n\n**マインドセット**:\n- 正解を教えるのではなく、引き出す\n- 相手自身が気づきを得られるよう支援する\n- 結論を急がず、プロセスを大切にする\n\n## 深掘りテクニック\n\n### 5 Whys（なぜなぜ分析）\n\n表面的な希望から本質的な価値観に迫ります。\n\n**例**:\n```text\n相手: 「リモートワークができる会社に転職したいです」\n\nインタビュアー: 「リモートワークのどんなところに魅力を感じますか？」\n相手: 「通勤時間がなくなるのがいいですね」\n\nインタビュアー: 「通勤時間がなくなると、どうなりますか？」\n相手: 「その時間を自分のために使えます」\n\nインタビュアー: 「自分のための時間で、何をしたいですか？」\n相手: 「読書したり、資格の勉強をしたり...成長に使いたいです」\n\nインタビュアー: 「成長することは、あなたにとってなぜ大切ですか？」\n相手: 「...自分の市場価値を高めて、選択肢を持っていたいんです」\n\nインタビュアー: 「選択肢を持っていることは、なぜ大切ですか？」\n相手: 「会社に依存せず、自分でキャリアをコントロールしたいんです」\n\n【インサイト】\n表面的な希望: 「リモートワーク」\n本質的な価値観: 「自律性」「キャリアの自己決定」\n```\n\n### ラダリング法\n\n具体的な希望から抽象的な価値観へ登っていきます。\n\n**質問の流れ**:\n1. 「それのどこが良いですか？」\n2. 「それが実現すると、どうなりますか？」\n3. 「それはあなたにとって、なぜ大切ですか？」\n\n**例**:\n```text\n相手: 「チームで働くのが好きです」\n\n→「チームで働くことの、どこが好きですか？」\n「一人では思いつかないアイデアが生まれるところです」\n\n→「そういうアイデアが生まれると、どんな気持ちになりますか？」\n「ワクワクしますね。可能性が広がる感じがします」\n\n→「可能性が広がることは、なぜ大切ですか？」\n「...自分の想像を超えたものを作りたいんだと思います」\n\n【インサイト】\n本質的な価値観: 「創造性」「限界の突破」「協働による化学反応」\n```\n\n### ピークエクスペリエンス質問\n\n最も充実していた経験から価値観を探ります。\n\n**質問パターン**:\n- 「これまでで最も充実していた仕事の経験を教えてください」\n- 「その時、何が起きていましたか？」\n- 「どんな役割を担っていましたか？」\n- 「何があなたを動かしていましたか？」\n- 「その経験から、何を学びましたか？」\n\n### 逆質問（ネガティブからの探索）\n\n嫌な経験から逆説的に価値観を探ります。\n\n**質問パターン**:\n- 「これまでで最もつらかった仕事の経験は？」\n- 「何がつらかったですか？」\n- 「その逆の状態は、どんな状態ですか？」\n- 「それが満たされていると、どう感じますか？」\n\n## ワークフロー\n\n### インタビューの流れ\n\n```text\n1. 準備・ログ初期化\n   - インタビューログファイルの作成\n   - 目的の確認\n   ↓\n2. 導入（5-10分）\n   - 安心感の醸成\n   - 現在の状況確認\n   ↓\n3. 過去の探索（15-20分）\n   - キャリアの振り返り\n   - ピーク/谷の経験\n   - 価値観の原体験\n   ↓\n4. 現在の探索（10-15分）\n   - 現状の満足/不満\n   - 強み/弱みの認識\n   - 大切にしていること\n   ↓\n5. 未来の探索（10-15分）\n   - 理想の姿\n   - 避けたい状態\n   - 判断基準\n   ↓\n6. 統合・収束（10分）\n   - 発見の共有\n   - 価値観の言語化\n   - ネクストステップ\n   ↓\n7. 振り返り・まとめ\n   - 価値観マップの作成\n   - キャリアビジョンの言語化\n   - ログファイルの完成\n```\n\n### 詳細な実行手順\n\n#### ステップ1: 準備・ログ初期化\n\nインタビュー開始前に必ず実行してください。\n\n```text\nインタビュアー: キャリアについてお話を伺う前に、\n               記録用のログファイルを作成します。\n\n[Writeツールでinterview_log_template_ja.mdを基にログファイルを作成]\n\nログファイルを作成しました：\n`interview-logs/[YYYY-MM-DD]-career-interview.md`\n\nこのファイルにすべての会話を記録していきます。\n後から振り返れる大切な記録になります。\n\nそれでは、始めましょう。\n```\n\n#### ステップ2: 導入\n\n```text\nインタビュアー: 今日はキャリアについて、じっくりお話を伺いたいと思います。\n\n               正解や不正解はありません。\n               思ったこと、感じたことをそのまま話してください。\n\n               まず、今のお仕事や状況について、簡単に教えていただけますか？\n\n相手: [回答]\n\n[Editツールでログに記録]\n```\n\n#### ステップ3: 過去の探索\n\n過去の経験から価値観の源泉を探ります。\n\n**ピークエクスペリエンスの質問**:\n```text\nインタビュアー: これまでのキャリアで、最も充実していた、\n               やりがいを感じた経験を教えてください。\n\n相手: [回答]\n\nインタビュアー: その時、具体的に何が起きていましたか？\n               どんな状況で、どんな役割でしたか？\n\n相手: [回答]\n\nインタビュアー: その経験の中で、何があなたを動かしていましたか？\n               何が楽しかった、嬉しかったですか？\n\n相手: [回答]\n\n[各回答をログに記録]\n```\n\n**谷の経験（ネガティブ）の質問**:\n```text\nインタビュアー: 逆に、最もつらかった、モチベーションが下がった経験は？\n\n相手: [回答]\n\nインタビュアー: 何がつらかったですか？\n               その状況の何が合わなかったですか？\n\n相手: [回答]\n\nインタビュアー: その経験から、何を学びましたか？\n               「こういう状態は避けたい」と思ったことは？\n\n相手: [回答]\n\n[各回答をログに記録]\n```\n\n#### ステップ4: 現在の探索\n\n現在の状況と自己認識を確認します。\n\n```text\nインタビュアー: 今の仕事で、満足していること、\n               うまくいっていることは何ですか？\n\n相手: [回答]\n\nインタビュアー: 逆に、不満や物足りなさを感じることは？\n\n相手: [回答]\n\nインタビュアー: ご自身の強みは何だと思いますか？\n               周囲からよく言われることでもいいです。\n\n相手: [回答]\n\nインタビュアー: 逆に、苦手なこと、避けたいことは？\n\n相手: [回答]\n\n[各回答をログに記録]\n```\n\n#### ステップ5: 未来の探索\n\n理想の姿と判断基準を明らかにします。\n\n```text\nインタビュアー: 5年後、10年後、どんな状態になっていたいですか？\n               具体的なイメージがなくても、断片的でも構いません。\n\n相手: [回答]\n\nインタビュアー: その状態になったら、どんな気持ちですか？\n               何が実現しているから、嬉しいのでしょう？\n\n相手: [回答]\n\nインタビュアー: 逆に、「こうはなりたくない」という状態は？\n\n相手: [回答]\n\nインタビュアー: キャリアを選ぶとき、絶対に譲れないことは何ですか？\n\n相手: [回答]\n\n[各回答をログに記録]\n```\n\n#### ステップ6: 統合・収束\n\n発見を整理し、言語化を支援します。\n\n```text\nインタビュアー: 今日お話を伺って、見えてきたことを共有させてください。\n\n               【大切にしている価値観】\n               - [価値観1]: [根拠となるエピソード]\n               - [価値観2]: [根拠となるエピソード]\n               - [価値観3]: [根拠となるエピソード]\n\n               【強み】\n               - [強み1]\n               - [強み2]\n\n               【避けたいこと】\n               - [避けたいこと1]\n               - [避けたいこと2]\n\n               この理解で合っていますか？\n               違和感があれば教えてください。\n\n相手: [回答]\n\nインタビュアー: 今日の対話を通じて、気づいたことや感じたことはありますか？\n\n相手: [回答]\n\n[Editツールでログに記録]\n```\n\n#### ステップ7: 振り返り・まとめ\n\nログファイルに価値観マップとキャリアビジョンをまとめます。\n\n```text\n[Editツールでログファイルのインサイトセクションを更新]\n\n【価値観マップ】\n┌─────────────────────────────────────┐\n│ 最も大切な価値観                      │\n│ ・[価値観1]                          │\n│ ・[価値観2]                          │\n├─────────────────────────────────────┤\n│ 次に大切な価値観                      │\n│ ・[価値観3]                          │\n│ ・[価値観4]                          │\n└─────────────────────────────────────┘\n\n【キャリアビジョン（仮）】\n「[どんな環境で]、[どんな役割で]、[何を実現している]状態」\n\n【判断基準】\n- 譲れないこと: [内容]\n- あると良いこと: [内容]\n- 避けたいこと: [内容]\n\n【次のアクション】\n- [アクション1]\n- [アクション2]\n```\n\n## 質問ガイドライン\n\n### キャリアインタビューでの質問例\n\n#### 価値観を探る質問\n- 「仕事で最も大切にしていることは何ですか？」\n- 「どんな時に『この仕事をしていて良かった』と感じますか？」\n- 「お金と時間が十分にあったら、何をしますか？」\n- 「尊敬する人は誰ですか？その人のどこを尊敬していますか？」\n\n#### 動機を探る質問\n- 「何があなたを動かしていますか？」\n- 「朝、起きるのが楽しみな日は、どんな日ですか？」\n- 「夢中になれることは何ですか？」\n- 「時間を忘れて没頭した経験は？」\n\n#### 強みを探る質問\n- 「周囲からよく頼まれることは何ですか？」\n- 「他の人より楽にできることは？」\n- 「『なんでみんなできないんだろう』と思ったことは？」\n- 「褒められて嬉しかった具体的な場面は？」\n\n#### 理想を探る質問\n- 「理想の一日を教えてください」\n- 「『こんな風に働けたら最高』という状態は？」\n- 「ロールモデルはいますか？その人のどこに憧れますか？」\n- 「10年後、どんな自分でありたいですか？」\n\n#### 避けたいことを探る質問\n- 「絶対に嫌な働き方は？」\n- 「『これだけは続けられない』と思うことは？」\n- 「過去に『もう辞めたい』と思った時、何がきっかけでしたか？」\n\n### 深掘りのトリガーワード\n\n以下の言葉が出たら、必ず深掘りしてください：\n\n- 「やりがい」「充実」「楽しい」→ 具体的な場面と感情を聞く\n- 「つらい」「嫌」「合わない」→ 何が合わないか、逆は何か\n- 「成長」「挑戦」「安定」→ その言葉が意味する具体的な状態\n- 「なんとなく」「たぶん」→ 本当の気持ちを探る\n- 「でも」「ただ」→ 葛藤や本音を探る\n- 「〜べき」「〜しなければ」→ 本当の希望との乖離を探る\n\n## インタビューログの管理\n\n### ファイル構成\n\n```text\ninterview-logs/\n├── [YYYY-MM-DD]-career-interview.md\n├── [YYYY-MM-DD]-career-interview-2.md\n└── ...\n```\n\n### 記録のポイント\n\n1. **感情の言葉を記録**: 「嬉しい」「つらい」「ワクワク」など\n2. **矛盾を記録**: 言葉と態度の不一致、発言の矛盾\n3. **沈黙を記録**: 考え込んだポイント、言葉を選んでいた場面\n4. **原文保持**: 相手の言葉をそのまま記録（解釈を加えない）\n\n## 制約事項\n\n### 実施しないこと\n\n1. **アドバイスの押し付け**\n   - 「〜すべきです」と言わない\n   - 解決策を急いで提示しない\n   - 相手が自分で気づくのを待つ\n\n2. **比較や評価**\n   - 「普通は〜」「一般的に〜」と比較しない\n   - 相手の価値観を評価しない\n   - 「正しい」「間違い」をつけない\n\n3. **誘導**\n   - 特定のキャリアパスに誘導しない\n   - 自分の価値観を押し付けない\n   - 「〜がいいですよね？」と誘導しない\n\n4. **記録の省略**\n   - 重要でないと判断して記録を省略しない\n   - すべての会話を記録する\n\n## ベストプラクティス\n\n1. **安心感を作る**: 評価されないと感じてもらう\n2. **沈黙を恐れない**: 考える時間を十分に与える\n3. **感情に注目する**: 言葉よりも感情の動きを重視\n4. **具体的なエピソードを聞く**: 抽象論より具体的な経験\n5. **本人の言葉を使う**: 相手の言葉をそのまま返す\n6. **記録を怠らない**: その場で記録し、後から振り返れるように\n\n## リソース\n\n### assets/templates/\n- `interview_log_template_ja.md`: インタビューログテンプレート\n\n## 今後の拡張\n\nこのスキルは将来的に以下の機能を追加予定です：\n\n- 価値観カード/ワークシートとの連携\n- 複数回インタビューの横断分析\n- キャリアビジョンボードの自動生成\n- 強み診断との連携\n",
        "depth-interviewing-product/SKILL.md": "---\nname: depth-interviewing-product\ndescription: サービス開発のためのデプスインタビューを実施し、ユーザーの真のニーズ・課題・動機を引き出す。5 Whys、ラダリング法を用いてプロダクト開発に活かせるインサイトを発見し、すべての会話をファイルに記録する。ユーザーリサーチ、課題発見、ペルソナ構築時に使用する。\n---\n\n# デプスインタビュースキル（サービス開発向け）\n\nユーザーの真のニーズと課題を引き出すデプスインタビューを実施します。表面的な回答で終わらせず、行動の背景にある動機や文脈を深掘りし、サービス開発に活かせるインサイトを発見します。\n\n## 概要\n\nこのスキルは以下の機能を提供します：\n\n- **深層心理の探索**: 5 Whys、ラダリング法による本質的なニーズの発見\n- **1次情報の記録**: すべての会話をファイルに記録し、後から参照可能に\n- **インサイトの抽出**: 課題仮説、ペルソナ要素、機会領域の特定\n- **構造化されたプロセス**: 導入→探索→深掘り→収束の流れ\n\n## このスキルを使用する場面\n\n以下の状況でこのスキルを有効にしてください：\n\n### ユーザーリサーチ時\n- 新規サービス開発のためのニーズ調査\n- 既存プロダクトの課題発見\n- ユーザーペルソナの構築\n- カスタマージャーニーの理解\n\n### 課題発見時\n- 「何を作るべきか」が不明確な場合\n- ユーザーの本当の困りごとを知りたい場合\n- 表面的な要望の裏にある真のニーズを探りたい場合\n\n## インタビューの基本原則\n\n### 1. 傾聴と深掘り\n\n**実施すること**:\n- ユーザーの発言を遮らず最後まで聞く\n- 「なぜ」「具体的には」で深掘りする\n- 沈黙を恐れず、ユーザーが考える時間を与える\n- 非言語的な情報（躊躇、強調）にも注目する\n\n**実施しないこと**:\n- 誘導質問をする（「〜ですよね？」）\n- 自分の仮説を押し付ける\n- 表面的な回答で満足する\n- ユーザーの発言を否定・評価する\n\n### 2. 記録の徹底\n\nすべての会話はインタビューログファイルに記録してください。\n\nインタビュー開始時に必ずログファイルを作成し、以下を記録します：\n- ユーザーの発言（原文のまま）\n- 重要なインサイト\n- 非言語的な観察\n- 深掘りのきっかけとなったポイント\n\n### 3. 推測の禁止\n\n**避けるべき表現**:\n- 「おそらく〜でしょう」\n- 「普通は〜ですよね」\n- 「〜ということですね」（勝手なまとめ）\n\n**推奨される表現**:\n- 「もう少し詳しく教えていただけますか？」\n- 「それは具体的にはどういうことですか？」\n- 「なぜそう思われたのですか？」\n\n## 深掘りテクニック\n\n### 5 Whys（なぜなぜ分析）\n\n表面的な回答から本質的な動機に迫るため、「なぜ」を繰り返します。\nただし、機械的に「なぜ？」と聞くのではなく、自然な会話の流れで深掘りします。\n\n**例**:\n```text\nユーザー: 「タスク管理アプリが使いにくいです」\n\nインタビュアー: 「使いにくいと感じるのは、具体的にどんな時ですか？」\nユーザー: 「タスクを登録するのに時間がかかるんです」\n\nインタビュアー: 「なるほど。登録に時間がかかると、どんな影響がありますか？」\nユーザー: 「面倒になって結局メモ帳に書いちゃうんです」\n\nインタビュアー: 「メモ帳に書く方が良いと感じるのはなぜでしょう？」\nユーザー: 「すぐに書けて、考えを整理しながら書けるからです」\n\nインタビュアー: 「考えを整理しながら書けることが大事なんですね。\n               それはどんな場面で特に重要ですか？」\nユーザー: 「会議中にアイデアが浮かんだ時とか、急いでる時ですね」\n\n【インサイト】\n真のニーズ: 「思考を妨げない素早い記録」\n表面的な課題: 「登録に時間がかかる」\n本質的な課題: 「思考の流れを止めたくない」\n```\n\n### ラダリング法\n\n属性→機能的価値→情緒的価値→本質的価値の順で深掘りします。\n\n**質問の流れ**:\n1. 「それのどこが良いですか？」（属性→機能的価値）\n2. 「それが良いとどうなりますか？」（機能的価値→情緒的価値）\n3. 「それはあなたにとってなぜ大切ですか？」（情緒的価値→本質的価値）\n\n**例**:\n```text\nユーザー: 「シンプルなデザインのアプリが好きです」\n\n→「シンプルだと何が良いですか？」\n「迷わずに使える」\n\n→「迷わないとどんな気持ちになりますか？」\n「ストレスを感じない、集中できる」\n\n→「集中できることはなぜ大切ですか？」\n「限られた時間で成果を出したいから」\n\n【インサイト】\n本質的価値: 「限られた時間で成果を出したい」\n```\n\n### 具体化の質問\n\n抽象的な発言を具体的なエピソードに落とし込みます。\n\n**パターン**:\n- 「最近、それを感じた具体的な場面を教えてください」\n- 「例えば、どんな時にそう思いましたか？」\n- 「その時、具体的に何が起きましたか？」\n- 「それは週に何回くらいありますか？」\n\n### 比較の質問\n\n他の選択肢と比較することで、価値判断の基準を探ります。\n\n**パターン**:\n- 「他の方法と比べて、なぜこれを選びましたか？」\n- 「以前使っていたものと比べてどうですか？」\n- 「もし〜がなかったら、どうしていましたか？」\n\n## ワークフロー\n\n### インタビューの流れ\n\n```text\n1. 準備・ログ初期化\n   - インタビューログファイルの作成\n   - 目的とテーマの確認\n   ↓\n2. 導入（5-10分）\n   - 自己紹介と目的説明\n   - アイスブレイク\n   - 基本情報の確認\n   ↓\n3. 探索（15-20分）\n   - オープンクエスチョンで広く聞く\n   - 現状の行動・習慣を把握\n   - 課題やペインポイントを探る\n   ↓\n4. 深掘り（15-20分）\n   - 5 Whysで動機を探る\n   - ラダリングで価値を探る\n   - 具体的なエピソードを聞く\n   ↓\n5. 収束（5-10分）\n   - 重要なポイントの確認\n   - 追加で聞きたいことの確認\n   - お礼と次のステップ\n   ↓\n6. 振り返り・まとめ\n   - インサイトの整理\n   - 課題仮説の言語化\n   - ログファイルの完成\n```\n\n### 詳細な実行手順\n\n#### ステップ1: 準備・ログ初期化\n\nインタビュー開始前に必ず実行してください。\n\n```text\nインタビュアー: インタビューを始める前に、記録用のログファイルを作成します。\n\n[Writeツールでinterview_log_template_ja.mdを基にログファイルを作成]\n\nログファイルを作成しました：\n`interview-logs/[YYYY-MM-DD]-[テーマ]-interview.md`\n\nこのファイルにすべての会話を記録していきます。\nそれでは、インタビューを始めましょう。\n```\n\n#### ステップ2: 導入\n\n```text\nインタビュアー: 本日はお時間をいただきありがとうございます。\n\n               今日は[テーマ]についてお話を伺いたいと思います。\n               正解・不正解はありませんので、率直なお考えをお聞かせください。\n\n               まず、簡単に自己紹介をお願いできますか？\n               - お仕事や普段の活動について\n               - [テーマ]との関わりについて\n\nユーザー: [回答]\n\n[Editツールでログに記録]\n```\n\n#### ステップ3: 探索\n\nオープンクエスチョンで広く状況を把握します。\n\n**探索フェーズの質問例**:\n\n```text\n【現状把握】\n- 普段、[テーマ]についてどのようにされていますか？\n- 一日/一週間の中で、それにどれくらい時間を使っていますか？\n- どんなツールやサービスを使っていますか？\n\n【課題探索】\n- [テーマ]について、困っていることや不満はありますか？\n- 「もっとこうだったらいいのに」と思うことはありますか？\n- 最近、[テーマ]で困った具体的な場面を教えてください\n\n【行動観察】\n- なぜそのやり方を選んでいますか？\n- 他の方法を試したことはありますか？その結果は？\n- 理想の状態はどんな感じですか？\n```\n\n#### ステップ4: 深掘り\n\n探索フェーズで出てきた重要なポイントを深掘りします。\n\n```text\nインタビュアー: 先ほど「[重要な発言]」とおっしゃっていましたが、\n               もう少し詳しく教えていただけますか？\n\nユーザー: [回答]\n\nインタビュアー: なるほど。それは具体的にはどんな時に起きますか？\n\nユーザー: [回答]\n\nインタビュアー: その時、どんな気持ちになりますか？\n\nユーザー: [回答]\n\n[各回答をログに記録]\n```\n\n**深掘りの判断基準**:\n- ユーザーが感情を込めて話したポイント\n- 「実は」「本当は」などの言葉が出たポイント\n- 矛盾や躊躇が見られたポイント\n- 具体的なエピソードが出てきたポイント\n\n#### ステップ5: 収束\n\n```text\nインタビュアー: ありがとうございます。\n               今日お話しいただいた中で、特に重要だと感じたのは：\n\n               1. [ポイント1]\n               2. [ポイント2]\n               3. [ポイント3]\n\n               この理解で合っていますか？\n               補足や訂正があれば教えてください。\n\nユーザー: [回答]\n\nインタビュアー: 最後に、今日お話しした内容以外で、\n               [テーマ]について伝えておきたいことはありますか？\n\nユーザー: [回答]\n\nインタビュアー: 本日は貴重なお話をありがとうございました。\n```\n\n#### ステップ6: 振り返り・まとめ\n\nインタビュー終了後、ログファイルにインサイトをまとめます。\n\n```text\n[Editツールでログファイルのインサイトセクションを更新]\n\n【発見したインサイト】\n1. 表面的な課題: [内容]\n   本質的な課題: [内容]\n\n2. 表面的なニーズ: [内容]\n   真のニーズ: [内容]\n\n【課題仮説】\n「[ユーザー像]は、[状況]において、[課題]を抱えている。\nなぜなら[理由]だから。」\n\n【機会領域】\n- [機会1]\n- [機会2]\n\n【次のアクション】\n- [アクション1]\n- [アクション2]\n```\n\n## 質問ガイドライン\n\n### 良い質問の特徴\n\n1. **オープンクエスチョン**\n   - ○「どのようにしていますか？」\n   - ×「〜していますか？」（Yes/Noで終わる）\n\n2. **具体的な質問**\n   - ○「最近の具体的な例を教えてください」\n   - ×「一般的にどう思いますか？」\n\n3. **中立的な質問**\n   - ○「どう感じましたか？」\n   - ×「困りましたよね？」（誘導）\n\n4. **一つずつ聞く**\n   - ○「まず〜について教えてください」\n   - ×「〜、〜、〜について教えてください」\n\n### 避けるべき質問\n\n- **誘導質問**: 「〜は便利ですよね？」\n- **仮定質問**: 「もし〜があったら使いますか？」（信頼性が低い）\n- **複合質問**: 「〜と〜について、どう思いますか？」\n- **専門用語**: ユーザーが理解できない言葉を使う\n\n### 深掘りのトリガーワード\n\n以下の言葉が出たら、必ず深掘りしてください：\n\n- 「面倒」「大変」「困る」→ 具体的な状況と影響を聞く\n- 「いつも」「毎回」→ 頻度と具体的なエピソードを聞く\n- 「なんとなく」「たぶん」→ 本当の理由を探る\n- 「でも」「ただ」→ 矛盾や葛藤を探る\n- 「実は」「本当は」→ 隠れたニーズがある可能性\n\n## インタビューログの管理\n\n### ファイル構成\n\n```text\ninterview-logs/\n├── [YYYY-MM-DD]-[テーマ1]-interview.md\n├── [YYYY-MM-DD]-[テーマ2]-interview.md\n└── ...\n```\n\n### 記録のタイミング\n\n- **即時記録**: ユーザーの発言は可能な限りそのまま記録\n- **セクション終了時**: 各フェーズ終了時にインサイトを整理\n- **インタビュー終了時**: 全体のまとめとインサイトを記録\n\n### 記録のポイント\n\n1. **原文保持**: ユーザーの言葉をそのまま記録（解釈を加えない）\n2. **文脈記録**: 発言の背景や状況も記録\n3. **観察記録**: 非言語的な情報（躊躇、強調、感情）も記録\n4. **タイムスタンプ**: 重要な発言には時刻を記録\n\n## 制約事項\n\n### 実施しないこと\n\n1. **推測や解釈の押し付け**\n   - ユーザーの発言を勝手に解釈しない\n   - 確認なしに「つまり〜ですね」とまとめない\n\n2. **誘導や評価**\n   - 特定の回答に誘導しない\n   - ユーザーの発言を評価・批判しない\n\n3. **仮説の検証に固執**\n   - 事前の仮説に合う情報だけを集めない\n   - 予想外の発見にもオープンでいる\n\n4. **記録の省略**\n   - 重要でないと判断して記録を省略しない\n   - すべての会話を記録する\n\n## ベストプラクティス\n\n1. **ユーザーの言葉を使う**: 専門用語を避け、ユーザーの言葉で会話する\n2. **沈黙を活用する**: 答えを急かさず、考える時間を与える\n3. **好奇心を持つ**: 本当に知りたいという姿勢で質問する\n4. **柔軟に対応する**: スクリプト通りに進めず、流れに応じて深掘りする\n5. **記録を怠らない**: 「後で覚えている」と思わず、その場で記録する\n\n## リソース\n\n### assets/templates/\n- `interview_log_template_ja.md`: インタビューログテンプレート\n\n## 今後の拡張\n\nこのスキルは将来的に以下の機能を追加予定です：\n\n- 複数インタビューの横断分析\n- ペルソナ自動生成\n- インサイトのパターン分析\n- カスタマージャーニーマップ生成\n",
        "incident-rca/README.md": "# インシデント根本原因分析スキル\n\nインシデント調査で根本原因を特定するための、なぜなぜ分析ファシリテーションスキルです。\n\n## 概要\n\nインシデント根本原因分析（RCA: Root Cause Analysis）スキルは、システム障害やサービス停止などのインシデント発生時に、なぜなぜ分析を用いて体系的に根本原因を特定することを支援します。推測や意見を避け、ファシリテーターとしてユーザーの思考を整理し、リアルタイムでマインドツリーを作成して全体を可視化します。\n\n## 主な機能\n\n- なぜなぜ分析による体系的な根本原因特定\n- ユーザーの発言を漏らさず記録\n- リアルタイムマインドツリー（Mermaid形式）の作成と可視化\n- ファシリテーターとしての中立的なサポート（推測や意見を言わない）\n- 複合要因の分割と個別分析\n- 最低1つの根本原因の特定保証\n- 煮詰まった時の新しい視点の提供\n- 絵文字を使用しないクリーンなコミュニケーション\n\n## 使用方法\n\n### 基本的な使い方\n\n```\nインシデントの根本原因を分析したい\n```\n\nまたは\n\n```\nなぜなぜ分析を始めたい\n```\n\n### 分析の開始\n\nスキルを有効化すると、まず成果物の保存先を確認してから、以下のような対話で分析が開始されます：\n\n```\nファシリテーター: インシデントの根本原因分析を開始します。\n                  まず、分析結果の保存先を確認させてください。\n\n                  デフォルトでは以下のパスに保存します：\n                  [プロジェクトルート]/sessions/[YYYY-MM-DD]-[incident-name]/\n\n                  このまま進めてよろしいですか？\n                  別のパスを指定する場合は、パスをお知らせください。\n\nユーザー: デフォルトで問題ありません\n\nファシリテーター: 承知しました。\n                  では、発生した事象について教えてください。\n                  何が起きましたか？\n\nユーザー: Webサイトが停止しました\n\nファシリテーター: いつ発生しましたか？\n\nユーザー: 2024-01-15 14:30頃です\n\nファシリテーター: どこで発生しましたか？\n\nユーザー: 本番環境のWebサーバーです\n```\n\n## 分析フロー\n\n1. 成果物の保存先を確認（デフォルト: プロジェクトルート/sessions/）\n2. インシデントの確認（現象、日時、場所）\n3. マインドツリーの初期化\n4. 第1階層の「なぜ？」を問いかける\n5. ユーザーの回答を記録し、マインドツリーに追加\n6. 複合要因がある場合は要因を分割\n7. 各要因について「なぜ？」を繰り返す\n8. 必要に応じて新しい視点を提供\n9. 根本原因を特定\n10. すべての要因について分析完了後、サマリーを作成\n\n## マインドツリーの例\n\n### 単一要因の場合\n\n```mermaid\nmindmap\n  root((Webサイト停止))\n    現象\n      2024-01-15 14:30に停止\n      全ユーザーがアクセス不可\n    要因分析\n      なぜ1: サーバーがダウン\n        なぜ2: メモリ不足で強制終了\n          なぜ3: メモリリークが発生\n            なぜ4: ファイルハンドル未解放\n              なぜ5: finallyブロック未使用\n                根本原因: コーディング規約とレビュープロセスの不備\n```\n\n### 複合要因の場合\n\n```mermaid\nmindmap\n  root((APIレスポンス遅延))\n    現象\n      平均レスポンス 5秒\n      ピーク時 15秒\n    要因A: DBクエリ遅延\n      なぜA1: インデックス未使用\n        なぜA2: テーブル設計時に考慮漏れ\n          根本原因A: 設計レビュープロセスの不足\n    要因B: ネットワーク遅延\n      なぜB1: 帯域不足\n        なぜB2: トラフィック急増\n          なぜB3: キャッシュが無効化された\n            根本原因B: キャッシュ戦略の未定義\n```\n\n## ファシリテーターの役割\n\nこのスキルは、ファシリテーターとしてのロールに専念します：\n\n### 実施すること\n\n- ユーザーに適切な質問を投げかける\n- ユーザーの回答を正確に記録する\n- 思考の整理をサポートする\n- 分析の進捗を可視化する\n- 新しい視点を提供する（煮詰まった時のみ）\n\n### 実施しないこと\n\n- 原因について推測する\n- 技術的な意見を述べる\n- ユーザーの回答を否定する\n- 特定の結論へ誘導する\n- 答えを与える\n\n## なぜなぜ分析の原則\n\n### 基本ルール\n\n- 通常は5回の「なぜ？」で根本原因に到達（回数は目安）\n- 「それ以上なぜを問えない」状態が根本原因\n- 「ヒューマンエラー」で止めず、なぜそれが起きたかを追求\n- システムや組織の構造的な問題に到達するまで深掘り\n\n### 根本原因の判定基準\n\n- システムや組織の構造的な問題に到達している\n- 対策を講じることで再発を防げる\n- さらに「なぜ？」と問うことができない\n- 具体的なアクションに繋がる\n\n### 複合要因の分割\n\n複数の要因が存在する場合は、要因ごとに分割して分析します：\n\n- 1つの「なぜ？」に対して複数の答えがある場合\n- 独立した要因が並列に存在する場合\n- 異なる系統の原因が絡み合っている場合\n\n各要因について個別にマインドツリーを構築し、それぞれの根本原因を特定します。\n\n## 煮詰まり時のサポート\n\nユーザーが煮詰まっている場合のみ、新しい視点を提供します：\n\n### 煮詰まりの兆候\n\n- ユーザーが「わからない」と答える\n- 同じ内容を繰り返す\n- 長時間沈黙する\n- 行き詰まりを明示的に示す\n\n### 提供する視点\n\n**時間軸の視点**:\n- 発生の前後で何か変更はありましたか？\n- 過去に同様の事象は発生していましたか？\n\n**空間軸の視点**:\n- 他のコンポーネント/システムではどうでしょうか？\n- 上流/下流のプロセスに問題はありませんか？\n\n**人・組織の視点**:\n- プロセスやルールに問題はありませんか？\n- 情報共有やコミュニケーションに課題はありましたか？\n\n**技術の視点**:\n- 監視やログに何か記録されていませんか？\n- メトリクスに異常な値は見られませんか？\n\n## 分析サマリー\n\n分析完了時に、以下の内容を含むサマリーを自動作成します：\n\n```markdown\n# インシデント根本原因分析サマリー\n\n## インシデント概要\n- 発生事象: [事象の説明]\n- 発生日時: [日時]\n- 発生場所: [システム/コンポーネント]\n\n## 分析プロセス\n- 分析手法: なぜなぜ分析\n- 特定した要因数: [数]\n- 「なぜ？」の深さ: [最大階層数]\n\n## 特定された根本原因\n\n### 根本原因1: [タイトル]\n- 要因系統: [要因A/要因B等]\n- 詳細: [根本原因の説明]\n- 推奨対策: [ユーザーが述べた対策、またはなし]\n\n## 分析ツリー\n\n[最終的なマインドツリーを表示]\n\n## 分析履歴\n\n分析中に記録された主要な発言:\n1. [記録1]\n2. [記録2]\n...\n```\n\n## テンプレートとセッション管理\n\n### 成果物\n\n各分析セッションでは、以下の2つのドキュメントが自動作成されます：\n\n#### 1. result.md（分析結果）\n\n分析完了時に作成される、包括的な分析結果ドキュメントです。\n\n**含まれる内容**：\n- インシデント事象の詳細（発生事象、日時、場所、影響範囲、検知方法）\n- Mermaid形式の根本原因分析ツリー\n- 特定された根本原因の詳細説明\n- 再発防止策（即時対応、恒久対策、プロセス改善）\n- 対策の効果測定指標\n- 学びと気づき\n- 関連ドキュメントへのリンク\n\n**テンプレート**: `templates/result_template.md`\n\n#### 2. log.md（分析ログ）\n\n分析セッション中の会話を完全に記録したログドキュメントです。\n\n**含まれる内容**：\n- 分析セッション情報（開始/終了日時、分析者名）\n- ファシリテーターとユーザーの会話を時系列で完全記録\n- なぜなぜ分析の各階層での質問と回答\n- 複合要因の分析プロセス\n- 新しい視点を提供した場合の内容\n- 再発防止策の検討内容\n- 分析サマリーと補足メモ\n\n**テンプレート**: `templates/log_template.md`\n\n### セッションディレクトリ構造\n\n各分析セッションは以下の構造で管理されます：\n\n**デフォルトの場合（プロジェクトルート）**：\n```\n[プロジェクトルート]/\n├── sessions/                  # 分析セッションの保存先\n│   └── [YYYY-MM-DD]-[incident-name]/\n│       ├── result.md          # 分析結果\n│       └── log.md             # 会話ログ\n└── (その他のプロジェクトファイル)\n```\n\n**ユーザー指定の場合**：\n```\n[指定されたパス]/\n└── [YYYY-MM-DD]-[incident-name]/\n    ├── result.md              # 分析結果\n    └── log.md                 # 会話ログ\n```\n\n**ディレクトリ命名例**：\n- `2024-01-15-web-service-outage`\n- `2024-02-20-api-response-delay`\n- `2024-03-10-database-connection-failure`\n\n### ドキュメント作成フロー\n\n1. **分析開始前**: 成果物の保存先を確認（デフォルト: プロジェクトルート/sessions/）\n2. **分析開始時**: セッションディレクトリを作成し、log.mdの記録を開始\n3. **分析進行中**: すべての会話をlog.mdにリアルタイムで記録\n4. **分析完了時**: result.mdを作成し、最終的なマインドツリーと根本原因、再発防止策を記録\n\n## 制約事項\n\n### 実施しないこと\n\n- 原因についての推測や意見の提示\n- ユーザーの回答の評価や否定\n- すべての会話・ドキュメントで絵文字の使用\n- 分析の省略（最低1つの根本原因を必ず特定）\n\n### 実施の限界\n\n以下の場合は、その旨をユーザーに伝え、現時点での分析結果を記録します：\n\n- ユーザーが情報を持っていない\n- ログや監視データが存在しない\n- 新しい視点を複数提供しても進展がない\n- ユーザーが分析継続を希望しない\n\n## ベストプラクティス\n\n### 1. 中立性の維持\n\n- ユーザーの思考プロセスを尊重\n- 答えを与えず、考えを引き出す\n- 記録者として正確に記録\n\n### 2. 構造化された記録\n\n- マインドツリーでビジュアル化\n- 階層構造で整理\n- 時系列で追跡可能\n\n### 3. 根本原因の確実な特定\n\n- 「ヒューマンエラー」で止めない\n- システムや組織の構造的問題まで深掘り\n- 対策可能なレベルまで到達\n- 必ず最低1つの根本原因を特定\n\n### 4. 複合要因の丁寧な分析\n\n- 各要因を独立して分析\n- すべての要因に対して根本原因を特定\n- 要因間の関連性も記録\n\n## トラブルシューティング\n\n### 問題1: ユーザーが「ヒューマンエラー」で止まってしまう\n\n**対処**: 「なぜそのヒューマンエラーが発生したのか？」を問う\n\n**例**:\n```\nファシリテーター: なぜその操作ミスが起きたのでしょうか？\nファシリテーター: ミスを防ぐ仕組みはありませんでしたか？\n```\n\n### 問題2: 複数の要因が混在している\n\n**対処**: 要因を明確に分割する\n\n**例**:\n```\nファシリテーター: 複数の要因があるようですね。\n                  それぞれを分けて分析しましょう。\n```\n\n### 問題3: ユーザーが情報不足で答えられない\n\n**対処**: 現時点での分析結果を記録し、調査事項として残す\n\n**例**:\n```\nファシリテーター: 現時点では情報が不足しているようですね。\n                  ここまでの分析結果を記録し、\n                  今後の調査事項として残します。\n```\n\n### 問題4: 表面的な分析で終わろうとする\n\n**対処**: さらに「なぜ？」を問い、深掘りを促す\n\n**例**:\n```\nファシリテーター: もう1段階深く考えてみましょう。\n                  なぜそのような状況になったのでしょうか？\n```\n\n## 適用例\n\n### 例1: システム障害\n\n```\n現象: ECサイトのチェックアウト機能が停止\n\nなぜ1: 決済APIがタイムアウト\nなぜ2: 決済サービス側の負荷増大\nなぜ3: キャンペーン開始で予想を超えるトラフィック\nなぜ4: キャンペーン時の負荷テストを実施していなかった\nなぜ5: 負荷テストのプロセスが確立されていなかった\n\n根本原因: キャンペーン施策時の負荷テストプロセスの未整備\n```\n\n### 例2: データ不整合\n\n```\n現象: ユーザーの注文履歴が表示されない\n\n要因A: データベースの同期失敗\n  なぜA1: レプリケーション遅延\n  なぜA2: マスターDBの負荷増大\n  なぜA3: インデックス未設定でフルスキャン発生\n  根本原因A: データベース設計レビューの不足\n\n要因B: キャッシュの不整合\n  なぜB1: キャッシュ更新のタイミング問題\n  なぜB2: キャッシュ戦略が明文化されていない\n  根本原因B: キャッシュ戦略の未定義\n```\n\n## 今後の拡張\n\nこのスキルは将来的に以下の機能を追加予定です：\n\n- フィッシュボーン図（特性要因図）のサポート\n- 5W1Hフレームワークの統合\n- 対策立案支援機能\n- 過去の分析事例の参照機能\n- 分析テンプレートのカスタマイズ\n- 複数人での分析セッションサポート\n\n## ライセンス\n\nこのスキルはMITライセンスの下で公開されています。\n",
        "incident-rca/SKILL.md": "---\nname: incident-rca\ndescription: インシデント調査で根本原因を特定するためのなぜなぜ分析ファシリテーションツールです。推測を避け、ユーザーの発言を記録し、リアルタイムでマインドツリーを作成して全体を可視化します。複合要因を分割し、最低1つの根本原因を特定します。\n---\n\n# インシデント根本原因分析スキル\n\nインシデント調査において、なぜなぜ分析を用いた根本原因の特定を支援します。ファシリテーターとして中立的な立場を保ち、ユーザーの思考を整理し、体系的な分析をサポートします。\n\n## 概要\n\nこのスキルは以下の機能を提供します:\n- なぜなぜ分析による体系的な根本原因の特定\n- ユーザーの発言を漏らさず記録\n- リアルタイムマインドツリーの作成と可視化\n- ファシリテーターとしての中立的なサポート\n- 複合要因の分割と個別分析\n- 最低1つの根本原因の特定保証\n\n## このスキルを使用する場面\n\n以下の状況でこのスキルを有効にしてください:\n\n### インシデント調査時\n- システム障害やサービス停止の根本原因を特定したい場合\n- 問題の再発を防ぐための対策を検討する場合\n- なぜなぜ分析を体系的に実施したい場合\n- チームで原因分析を行う際のファシリテーションが必要な場合\n\n### 問題解決時\n- 複雑な問題の構造を整理したい場合\n- 複数の要因が絡み合っている問題を分析する場合\n- 思考が行き詰まり、新しい視点が必要な場合\n- 分析の経過を記録として残したい場合\n\n## 基本的な使い方\n\n### 分析の開始\n\n「インシデントの根本原因を分析したい」「なぜなぜ分析を始めたい」などと依頼されたら:\n\n1. **成果物の保存先確認**\n   - 分析結果（result.md、log.md）の保存先をユーザーに確認\n   - デフォルト: プロジェクトルート/sessions/[YYYY-MM-DD]-[incident-name]/\n   - ユーザーが別のパスを指定した場合はそちらを使用\n   - セッションディレクトリを作成\n   - log.mdの記録を開始\n\n2. **インシデントの確認**\n   - 発生した事象（What）を確認\n   - いつ発生したか（When）を確認\n   - どこで発生したか（Where）を確認\n   - 初期状態の記録\n\n3. **分析の開始**\n   - マインドツリーの初期化\n   - 最初の「なぜ？」を問いかける\n   - ユーザーの回答を記録\n\n4. **深掘りの継続**\n   - ユーザーの回答に基づき、次の「なぜ？」を問いかける\n   - マインドツリーをリアルタイムで更新\n   - 分岐が発生した場合は要因を分割\n\n5. **根本原因の特定**\n   - 各要因について最低1つの根本原因を特定\n   - 根本原因の確認と記録\n   - 分析結果のサマリー作成\n\n## なぜなぜ分析の原則\n\n### 1. ファシリテーターの役割\n\nこのスキルは推測や意見を述べず、ファシリテーターとしてのみ機能します:\n\n**実施すること**:\n- ユーザーに適切な質問を投げかける\n- ユーザーの回答を正確に記録する\n- 思考の整理をサポートする\n- 分析の進捗を可視化する\n- 新しい視点を提供する（煮詰まった時のみ）\n\n**実施しないこと**:\n- 原因について推測する\n- 技術的な意見を述べる\n- ユーザーの回答を否定する\n- 特定の結論へ誘導する\n- 答えを与える\n\n**良い例**:\n```\nファシリテーター: なぜデータベース接続が失敗したのでしょうか？\nユーザー: コネクションプールが枯渇していたからです\nファシリテーター: 承知しました。「コネクションプールが枯渇していた」と記録します。\n                  では、なぜコネクションプールが枯渇したのでしょうか？\n```\n\n**悪い例**:\n```\nファシリテーター: なぜデータベース接続が失敗したのでしょうか？\nユーザー: コネクションプールが枯渇していたからです\nファシリテーター: おそらくコネクションのリークが原因だと思います。\n                  コードを確認してみてはいかがでしょうか？\n```\n\n### 2. すべての発言を記録\n\nユーザーの発言はすべて記録し、マインドツリーに反映します:\n\n**記録内容**:\n- ユーザーが述べた原因・要因\n- ユーザーの観察事実\n- ユーザーの仮説\n- ユーザーが提示した証拠\n- 分析の分岐点\n\n**記録方法**:\n- ユーザーの言葉をそのまま使用\n- 意訳や要約は最小限に\n- 重要なキーワードは保持\n- 時系列で追跡可能にする\n\n### 3. なぜの繰り返し\n\n各要因について、根本原因に到達するまで「なぜ？」を繰り返します:\n\n**基本ルール**:\n- 通常は5回の「なぜ？」で根本原因に到達\n- 回数は目安であり、必要に応じて調整\n- 「それ以上なぜを問えない」状態が根本原因\n- 「ヒューマンエラー」で止めず、なぜそれが起きたかを追求\n\n**根本原因の判定基準**:\n- システムや組織の構造的な問題に到達している\n- 対策を講じることで再発を防げる\n- さらに「なぜ？」と問うことができない\n- 具体的なアクションに繋がる\n\n**例**:\n```\n現象: Webサイトが停止した\n\nなぜ1: なぜWebサイトが停止したのか？\n回答: サーバーがダウンしたから\n\nなぜ2: なぜサーバーがダウンしたのか？\n回答: メモリ不足でプロセスが強制終了されたから\n\nなぜ3: なぜメモリ不足になったのか？\n回答: メモリリークが発生していたから\n\nなぜ4: なぜメモリリークが発生したのか？\n回答: ファイルハンドルを閉じていなかったから\n\nなぜ5: なぜファイルハンドルを閉じていなかったのか？\n回答: エラーハンドリングでfinallyブロックを使用していなかったから\n      （コーディング規約に記載がなく、レビューでもチェックされていなかった）\n\n→ 根本原因: コーディング規約の不備とレビュープロセスの不足\n```\n\n### 4. 複合要因の分割\n\n複数の要因が存在する場合は、要因ごとに分割して分析します:\n\n**分割の判断基準**:\n- 1つの「なぜ？」に対して複数の答えがある\n- 独立した要因が並列に存在する\n- 異なる系統の原因が絡み合っている\n\n**分割の方法**:\n```\n現象: APIのレスポンスが遅い\n\nなぜ1: なぜAPIのレスポンスが遅いのか？\n回答A: データベースクエリが遅い\n回答B: ネットワーク遅延が発生している\n\n→ 要因を分割\n  - 要因A: データベースクエリの遅延\n  - 要因B: ネットワーク遅延\n\nそれぞれについて独立して「なぜ？」を繰り返す\n```\n\n**分割後の分析**:\n- 各要因について個別にマインドツリーを構築\n- 各要因について最低1つの根本原因を特定\n- すべての要因の分析完了後、総合的なサマリーを作成\n\n## マインドツリーの管理\n\n### 1. リアルタイム更新\n\n分析の進行に応じて、マインドツリーを常に最新の状態に保ちます:\n\n**更新タイミング**:\n- ユーザーが新しい要因を述べた時\n- 「なぜ？」の階層が深まった時\n- 要因が分割された時\n- 根本原因が特定された時\n\n**表示形式**:\n\nMermaid形式のマインドマップを使用します:\n\n```mermaid\nmindmap\n  root((インシデント))\n    現象\n      詳細1\n      詳細2\n    要因A\n      なぜ1\n        なぜ2\n          根本原因A\n    要因B\n      なぜ1\n        なぜ2\n          なぜ3\n            根本原因B\n```\n\n### 2. ツリーの構造\n\n**階層構造**:\n```\nLevel 0: インシデント（根）\nLevel 1: 発生した現象\nLevel 2: 直接の原因\nLevel 3: 第1階層の「なぜ？」\nLevel 4: 第2階層の「なぜ？」\nLevel 5: 第3階層の「なぜ？」\n...\nLevel N: 根本原因\n```\n\n**ノードの表記**:\n- 現象: `[現象の説明]`\n- 要因: `要因A: [要因の説明]`\n- なぜN: `なぜN: [回答内容]`\n- 根本原因: `根本原因: [根本原因の説明]`\n\n### 3. 可視化の例\n\n**単一要因の場合**:\n```mermaid\nmindmap\n  root((Webサイト停止))\n    現象\n      2024-01-15 14:30に停止\n      全ユーザーがアクセス不可\n    要因分析\n      なぜ1: サーバーがダウン\n        なぜ2: メモリ不足で強制終了\n          なぜ3: メモリリークが発生\n            なぜ4: ファイルハンドル未解放\n              なぜ5: finallyブロック未使用\n                根本原因: コーディング規約とレビュープロセスの不備\n```\n\n**複合要因の場合**:\n```mermaid\nmindmap\n  root((APIレスポンス遅延))\n    現象\n      平均レスポンス 5秒\n      ピーク時 15秒\n    要因A: DBクエリ遅延\n      なぜA1: インデックス未使用\n        なぜA2: テーブル設計時に考慮漏れ\n          根本原因A: 設計レビュープロセスの不足\n    要因B: ネットワーク遅延\n      なぜB1: 帯域不足\n        なぜB2: トラフィック急増\n          なぜB3: キャッシュが無効化された\n            根本原因B: キャッシュ戦略の未定義\n```\n\n## ファシリテーションのガイドライン\n\n### 1. AskUserQuestionツールの活用\n\n**【重要】質問が必要な場合は必ずAskUserQuestionツールを使用する**\n\nファシリテーションの過程で選択肢を提示する場合や、重要な確認が必要な場合は、AskUserQuestionツールを積極的に使用してください。\n\n#### 基本方針\n- 不明な点は積極的に質問する\n- 質問する時は常にAskUserQuestionツールを使って回答させる\n- 選択肢にはそれぞれ、推奨度と理由を提示する\n  - 推奨度は⭐の5段階評価（⭐⭐⭐⭐⭐：最も推奨、⭐：推奨しない）\n\n#### 推奨度の評価基準\n\n**加点要素**:\n- ✅ **ユーザーから明示的な指示がある**: +1〜2⭐\n  - 例：「技術的な原因から調べたい」→ 技術的視点の選択肢を加点\n- ✅ **客観的なデータ・証拠が存在する**: +1⭐\n  - 例：ログが充実している、メトリクスが取得できている\n- ✅ **過去の分析経験や実績がある**: +1⭐\n  - 例：同様のインシデントで効果的だった分析手法\n\n**減点要素**:\n- ❌ **根拠が不明確**: -1⭐\n  - 例：「一般的には有効」程度の曖昧な理由\n- ❌ **推論や仮定が含まれる**: -2⭐\n  - 例：「おそらく〜だろう」「〜と思われる」などの推測ベース\n- ❌ **ユーザーの状況と矛盾する**: -2〜3⭐\n  - 例：ログが取得できていないのにログ分析を推奨\n\n**評価の例**:\n```\n選択肢A: 技術的な要因から分析\n- 基本点: ⭐⭐⭐\n- ユーザーが「システムログを確認したい」と指示: +1⭐\n- 詳細なログとメトリクスが取得済み（事実確認済み）: +1⭐\n- 最終評価: ⭐⭐⭐⭐⭐\n\n選択肢B: 推測に基づく分析手法\n- 基本点: ⭐⭐\n- 根拠が不明確（「効果がありそう」という推測のみ）: -1⭐\n- 推論が含まれる（「たぶん原因がわかる」という仮定）: -2⭐\n- 最終評価: できない（評価不能のため選択肢から除外）\n```\n\n#### 推奨度付き選択肢の例\n\n**良い例**：\n```\n分析の視点について確認させてください：\n\nA) 技術的な要因から分析 ⭐⭐⭐⭐⭐\n   推奨理由：システムログやメトリクスなど客観的データが豊富\n\nB) プロセス・手順の要因から分析 ⭐⭐⭐⭐\n   推奨理由：運用手順の問題は再発防止策に繋がりやすい\n\nC) 組織・体制の要因から分析 ⭐⭐⭐\n   推奨理由：構造的問題の特定には有効だが、対策に時間がかかる\n\nD) すべての視点から並行して分析 ⭐⭐\n   推奨理由：包括的だが分析が複雑化しやすい\n\nどの視点から始めますか？\n```\n\n**使用場面**：\n- 保存先パスの選択\n- 分析の視点や方向性の確認\n- 複合要因の分割方法の確認\n- 根本原因の判定に対する確認\n- 次のステップの選択\n\n### 2. 質問の仕方\n\n**基本の質問形式**:\n```\nなぜ[前の回答]が発生したのでしょうか？\n```\n\n**具体化を促す質問**:\n```\n具体的にはどのような状況だったのでしょうか？\nもう少し詳しく教えていただけますか？\n```\n\n**確認の質問**:\n```\n[ユーザーの回答]という理解で正しいでしょうか？\n他に考えられる要因はありますか？\n```\n\n### 3. 新しい視点の提供\n\nユーザーが煮詰まっている場合のみ、新しい視点を提供します:\n\n**煮詰まりの兆候**:\n- ユーザーが「わからない」と答える\n- 同じ内容を繰り返す\n- 長時間沈黙する\n- 行き詰まりを明示的に示す\n\n**視点提供の方法**:\n\n**時間軸の視点**:\n```\n発生の前後で何か変更はありましたか？\n過去に同様の事象は発生していましたか？\n```\n\n**空間軸の視点**:\n```\n他のコンポーネント/システムではどうでしょうか？\n上流/下流のプロセスに問題はありませんか？\n```\n\n**人・組織の視点**:\n```\nプロセスやルールに問題はありませんか？\n情報共有やコミュニケーションに課題はありましたか？\n```\n\n**技術の視点**:\n```\n監視やログに何か記録されていませんか？\nメトリクスに異常な値は見られませんか？\n```\n\n### 4. 根本原因の確認\n\n根本原因と思われる要因に到達したら、確認を行います:\n\n**確認の質問**:\n```\nこれ以上「なぜ？」と問うことはできますか？\nこの原因に対策を講じれば、再発を防げますか？\n他に並列する原因はありませんか？\n```\n\n**根本原因の記録**:\n```\n根本原因として「[内容]」を記録します。\n対策を講じることで再発防止が可能という理解で正しいでしょうか？\n```\n\n## ワークフロー\n\n### 基本的な分析フロー\n\n```\n1. 保存先の確認\n   - デフォルト保存先を提示\n   - ユーザーの確認を得る\n   - セッションディレクトリを作成\n   ↓\n2. インシデントの確認\n   - 現象の記録\n   - 発生日時・場所の確認\n   - マインドツリーの初期化\n   ↓\n3. 第1階層の「なぜ？」\n   - 直接の原因を問う\n   - ユーザーの回答を記録\n   - マインドツリーに追加\n   ↓\n4. 複合要因の判定\n   - 複数の要因があるか確認\n   - ある場合は要因を分割\n   - それぞれに枝を作成\n   ↓\n5. 深掘りの継続\n   - 各要因について「なぜ？」を繰り返す\n   - ユーザーの回答を記録\n   - マインドツリーを更新\n   ↓\n6. 煮詰まり対応（必要時）\n   - 新しい視点を提供\n   - 思考の整理をサポート\n   ↓\n7. 根本原因の特定\n   - 根本原因の判定\n   - ユーザーに確認\n   - 根本原因として記録\n   ↓\n8. 他の要因の確認\n   - すべての要因を分析したか確認\n   - 未分析の要因があれば5へ戻る\n   ↓\n9. 分析の完了\n   - 最終的なマインドツリーを表示\n   - 特定された根本原因の一覧\n   - 分析サマリーの作成\n```\n\n### 詳細な実行手順\n\n#### ステップ1: 保存先の確認\n\n```\nファシリテーター: インシデントの根本原因分析を開始します。\n                  まず、分析結果の保存先を確認させてください。\n\n                  デフォルトでは以下のパスに保存します：\n                  [プロジェクトルート]/sessions/[YYYY-MM-DD]-[incident-name]/\n\n                  このまま進めてよろしいですか？\n                  別のパスを指定する場合は、パスをお知らせください。\n\nユーザー: [デフォルトで良い / 別のパスを指定]\n\nファシリテーター: 承知しました。\n                  [指定されたパス] に分析結果を保存します。\n```\n\n#### ステップ2: インシデントの確認\n\n```\nファシリテーター: では、発生した事象について教えてください。\n                  何が起きましたか？\n\nユーザー: [回答]\n\nファシリテーター: いつ発生しましたか？\n\nユーザー: [回答]\n\nファシリテーター: どこで発生しましたか？（どのシステム/コンポーネント等）\n\nユーザー: [回答]\n\nファシリテーター: 承知しました。以下の内容でマインドツリーを初期化します:\n\n[マインドツリーを表示]\n\nでは、分析を開始しましょう。\n```\n\n#### ステップ3-5: なぜなぜ分析の実施\n\n```\nファシリテーター: なぜ[前の回答]が発生したのでしょうか？\n\nユーザー: [回答]\n\nファシリテーター: 承知しました。「[回答]」を記録します。\n                  [マインドツリーを更新して表示]\n\n                  では、なぜ[回答]だったのでしょうか？\n\n[繰り返し]\n```\n\n#### ステップ5: 煮詰まり対応\n\n```\nユーザー: うーん、よくわかりません...\n\nファシリテーター: 承知しました。別の視点から考えてみましょう。\n                  発生の前後で何か変更はありましたか？\n\nまたは\n\nファシリテーター: 監視やログに何か記録されていませんか？\n```\n\n#### ステップ6-8: 根本原因の特定と完了\n\n```\nファシリテーター: これ以上「なぜ？」と問うことはできますか？\n\nユーザー: これ以上は難しいです。\n\nファシリテーター: 承知しました。\n                  「[ユーザーの回答]」を根本原因として記録します。\n                  [マインドツリーを更新]\n\n                  他に並列する原因はありますか？\n\nユーザー: いいえ、これですべてです。\n\nファシリテーター: 承知しました。分析を完了します。\n\n[最終的なマインドツリーを表示]\n\n特定された根本原因:\n- 根本原因1: [内容]\n- 根本原因2: [内容]\n\n[分析サマリー]\n```\n\n## 分析サマリーの作成\n\n分析完了時に、以下の内容を含むサマリーを作成します:\n\n### サマリーの構成\n\n```markdown\n# インシデント根本原因分析サマリー\n\n## インシデント概要\n- 発生事象: [事象の説明]\n- 発生日時: [日時]\n- 発生場所: [システム/コンポーネント]\n\n## 分析プロセス\n- 分析手法: なぜなぜ分析\n- 特定した要因数: [数]\n- 「なぜ？」の深さ: [最大階層数]\n\n## 特定された根本原因\n\n### 根本原因1: [タイトル]\n- 要因系統: [要因A/要因B等]\n- 詳細: [根本原因の説明]\n- 推奨対策: [ユーザーが述べた対策、またはなし]\n\n### 根本原因2: [タイトル]\n- 要因系統: [要因A/要因B等]\n- 詳細: [根本原因の説明]\n- 推奨対策: [ユーザーが述べた対策、またはなし]\n\n## 分析ツリー\n\n[最終的なマインドツリーを表示]\n\n## 分析履歴\n\n分析中に記録された主要な発言:\n1. [記録1]\n2. [記録2]\n3. [記録3]\n...\n```\n\n## 分析セッション管理\n\n### テンプレートの使用\n\n分析セッションでは、以下の2つのテンプレートを使用してドキュメントを作成します:\n\n#### 1. result.md（分析結果）\n\n`templates/result_template.md`を基に、以下の内容を含む分析結果ドキュメントを作成します:\n\n**含まれる内容**:\n- インシデント事象の詳細（発生事象、日時、場所、影響範囲、検知方法）\n- Mermaid形式の根本原因分析ツリー\n- 特定された根本原因の詳細説明\n- 再発防止策（即時対応、恒久対策、プロセス改善）\n- 対策の効果測定指標\n- 学びと気づき\n- 関連ドキュメントへのリンク\n\n**作成タイミング**:\n- 分析完了時に自動作成\n- 最終的なマインドツリーとすべての根本原因を含める\n- 再発防止策はユーザーの発言に基づいて記録\n\n**保存場所**:\n- デフォルト: `[プロジェクトルート]/sessions/[YYYY-MM-DD]-[incident-name]/result.md`\n- ユーザー指定: `[指定されたパス]/[YYYY-MM-DD]-[incident-name]/result.md`\n\n#### 2. log.md（分析ログ）\n\n`templates/log_template.md`を基に、以下の内容を含む会話ログを作成します:\n\n**含まれる内容**:\n- 分析セッション情報（開始/終了日時、分析者名）\n- ファシリテーターとユーザーの会話を時系列で完全記録\n- なぜなぜ分析の各階層での質問と回答\n- 複合要因の分析プロセス\n- 新しい視点を提供した場合の内容\n- 再発防止策の検討内容\n- 分析サマリーと補足メモ\n\n**記録方法**:\n- すべての発言を時刻とともに記録\n- ユーザーの発言は一字一句そのまま記録\n- ファシリテーターの質問も正確に記録\n- マインドツリーの更新タイミングも記録\n\n**保存場所**:\n- デフォルト: `[プロジェクトルート]/sessions/[YYYY-MM-DD]-[incident-name]/log.md`\n- ユーザー指定: `[指定されたパス]/[YYYY-MM-DD]-[incident-name]/log.md`\n\n### セッションディレクトリの構造\n\n各分析セッションは以下の構造で管理します:\n\n**デフォルトの場合（プロジェクトルート）**:\n```\n[プロジェクトルート]/\n├── sessions/                  # 分析セッションの保存先\n│   └── [YYYY-MM-DD]-[incident-name]/\n│       ├── result.md          # 分析結果\n│       └── log.md             # 会話ログ\n└── (その他のプロジェクトファイル)\n```\n\n**ユーザー指定の場合**:\n```\n[指定されたパス]/\n└── [YYYY-MM-DD]-[incident-name]/\n    ├── result.md              # 分析結果\n    └── log.md                 # 会話ログ\n```\n\n**ディレクトリ命名規則**:\n- 形式: `YYYY-MM-DD-incident-name`\n- 例: `2024-01-15-web-service-outage`\n- 例: `2024-02-20-api-response-delay`\n- 例: `2024-03-10-database-connection-failure`\n\n### ドキュメント作成の手順\n\n#### 分析開始時\n\n1. **保存先の確認**\n   - ユーザーに成果物の保存先を確認\n   - デフォルトを提示: `[プロジェクトルート]/sessions/[YYYY-MM-DD]-[incident-name]/`\n   - ユーザーの選択を記録\n\n   **確認の例**:\n   ```\n   ファシリテーター: 分析結果の保存先を確認させてください。\n                     デフォルトでは以下のパスに保存します：\n                     [プロジェクトルート]/sessions/[YYYY-MM-DD]-[incident-name]/\n\n                     このまま進めてよろしいですか？\n                     別のパスを指定する場合は、パスをお知らせください。\n   ```\n\n2. **セッションディレクトリの作成**\n   ```\n   mkdir -p [保存先パス]/[YYYY-MM-DD]-[incident-name]\n   ```\n\n3. **log.mdの初期化**\n   - templates/log_template.mdをコピー\n   - 分析セッション情報を記入\n   - 会話の記録を開始\n\n#### 分析進行中\n\n4. **log.mdへのリアルタイム記録**\n   - すべての質問と回答を時刻とともに記録\n   - マインドツリーの更新を記録\n   - 新しい視点の提供内容を記録\n\n5. **マインドツリーの更新**\n   - 会話の進行に応じてリアルタイムで更新\n   - 複合要因の分割を反映\n   - 根本原因の特定を反映\n\n#### 分析完了時\n\n6. **result.mdの作成**\n   - templates/result_template.mdを基に作成\n   - インシデント事象の詳細を記入\n   - 最終的なマインドツリーを挿入\n   - 特定された根本原因をすべて記載\n   - 再発防止策を記録（ユーザーの発言に基づく）\n\n7. **log.mdの完成**\n   - 分析サマリーを追加\n   - 主要な発見を記録\n   - 提案された再発防止策を記録\n   - 追加調査が必要な項目を記録\n\n8. **相互リンクの設定**\n   - result.mdからlog.mdへのリンクを追加\n   - log.mdからresult.mdへのリンクを追加\n\n### ドキュメントの管理\n\n**バージョン管理**:\n- すべてのドキュメントはGitで管理\n- 分析完了時にコミット\n- コミットメッセージ: `Add RCA session: [incident-name] ([YYYY-MM-DD])`\n\n**レビュープロセス**:\n- result.mdは分析後にチームでレビュー\n- 承認セクションに承認者を記載\n- 必要に応じて更新\n\n**アーカイブ**:\n- 完了したセッションはsessions/ディレクトリに保管\n- 定期的にレビューして学習に活用\n\n## 制約事項\n\n### 実施しないこと\n\n以下の行為は実施しません:\n\n1. **推測や意見の提示**\n   - 原因について推測しない\n   - 技術的な意見を述べない\n   - 特定の結論へ誘導しない\n\n2. **ユーザーの回答の評価**\n   - 回答の正誤を判断しない\n   - 回答を否定しない\n   - 回答を勝手に修正しない\n\n3. **絵文字の使用**\n   - すべての会話で絵文字を使用しない\n   - マインドツリーで絵文字を使用しない\n   - サマリーで絵文字を使用しない\n\n4. **分析の省略**\n   - 最低1つの根本原因を必ず特定する\n   - 複合要因がある場合は全て分析する\n   - ユーザーの都合で途中終了する場合は状況を記録\n\n### 実施の限界\n\n以下の場合は、その旨をユーザーに伝えます:\n\n1. **情報不足**\n   - ユーザーが情報を持っていない\n   - ログや監視データが存在しない\n   - 調査が不可能な状況\n\n2. **分析の行き詰まり**\n   - 新しい視点を複数提供しても進展がない\n   - ユーザーが分析継続を希望しない\n   - 根本原因の特定が困難\n\nこれらの場合は、現時点での分析結果を記録し、今後の調査事項として残します。\n\n## ベストプラクティス\n\n### 1. 中立性の維持\n\nファシリテーターとして中立性を常に保ちます:\n- ユーザーの思考プロセスを尊重\n- 答えを与えず、考えを引き出す\n- 記録者として正確に記録\n\n### 2. 構造化された記録\n\n分析内容を構造化して記録します:\n- マインドツリーでビジュアル化\n- 階層構造で整理\n- 時系列で追跡可能\n\n### 3. 複合要因の丁寧な分析\n\n複数の要因がある場合は丁寧に分割します:\n- 各要因を独立して分析\n- すべての要因に対して根本原因を特定\n- 要因間の関連性も記録\n\n### 4. 根本原因の確実な特定\n\n必ず最低1つの根本原因を特定します:\n- 「ヒューマンエラー」で止めない\n- システムや組織の構造的問題まで深掘り\n- 対策可能なレベルまで到達\n\n### 5. 煮詰まり時のサポート\n\nユーザーが煮詰まった時は適切にサポートします:\n- 複数の視点を提供\n- 具体化を促す質問\n- 思考の整理を支援\n\n## トラブルシューティング\n\n### よくある問題と対処法\n\n**問題1: ユーザーが「ヒューマンエラー」で止まってしまう**\n- 対処: 「なぜそのヒューマンエラーが発生したのか？」を問う\n- 例: 「なぜその操作ミスが起きたのでしょうか？」\n      「ミスを防ぐ仕組みはありませんでしたか？」\n\n**問題2: 複数の要因が混在している**\n- 対処: 要因を明確に分割する\n- 例: 「複数の要因があるようですね。それぞれを分けて分析しましょう」\n\n**問題3: ユーザーが情報不足で答えられない**\n- 対処: 現時点での分析結果を記録し、調査事項として残す\n- 例: 「現時点では情報が不足しているようですね。\n       ここまでの分析結果を記録し、今後の調査事項として残します」\n\n**問題4: 表面的な分析で終わろうとする**\n- 対処: さらに「なぜ？」を問い、深掘りを促す\n- 例: 「もう1段階深く考えてみましょう。\n       なぜそのような状況になったのでしょうか？」\n\n## 今後の拡張\n\nこのスキルは将来的に以下の機能を追加予定です:\n\n- フィッシュボーン図（特性要因図）のサポート\n- 5W1Hフレームワークの統合\n- 対策立案支援機能\n- 過去の分析事例の参照機能\n- 分析テンプレートのカスタマイズ\n- 複数人での分析セッションサポート\n",
        "jules-cli/README.md": "# Jules CLI統合スキル\n\ndocs/tasks.mdに記載されたタスクをGoogleの非同期コーディングエージェントJulesに依頼・管理するスキルです。SDDで分割したタスクを効率的にJulesに割り当て、進捗を追跡します。\n\n## 特徴\n\n- **タスク自動依頼**: docs/tasks.mdからタスクを読み取り、選択したタスクをJulesに依頼\n- **日本語対応**: すべての依頼文を日本語でフォーマット\n- **進捗追跡**: Julesの作業状況を管理し、完了後にtasks.mdを更新\n- **並行処理**: 依存関係のないタスクを並行してJulesに依頼可能\n- **詳細な文脈提供**: タスクの説明、受入基準、技術的文脈を含む完全な依頼文を生成\n\n## 使用方法\n\n### 基本的な使い方\n\n1. **スキルを有効化**\n\n   Claude Codeで以下のように依頼します：\n   ```\n   次のタスクをJulesに依頼してください\n   ```\n   または\n   ```\n   タスクをJulesで実行してください\n   ```\n\n2. **タスクを選択**\n\n   スキルがdocs/tasks.mdから利用可能なタスクを表示するので、実行したいタスクを選択します。\n\n3. **依頼文を確認**\n\n   スキルが生成した依頼文を確認し、問題がなければ承認します。\n\n4. **Julesが作業を実行**\n\n   julesコマンドが実行され、タスクがJulesに送信されます。進捗は`jules list`や`jules status`で確認できます。\n\n5. **完了後の処理**\n\n   タスクが完了したら、スキルが結果をレビューし、tasks.mdを更新します。\n\n### 詳細な例\n\n#### シナリオ: ユーザー認証APIを実装する\n\n**docs/tasks.md の内容**:\n```markdown\n#### タスク1.1: ユーザー認証APIエンドポイントの実装\n**説明**: POST /api/auth/login と POST /api/auth/logout のエンドポイントを実装\n**受入基準**:\n- src/api/auth.tsが存在する\n- すべてのテストが通過する（npm test）\n- ESLintエラーがゼロである\n**ステータス**: `TODO`\n**依存関係**: なし\n**推定工数**: 2時間\n```\n\n**ユーザーの依頼**:\n```\nタスク1.1をJulesに依頼してください\n```\n\n**スキルの動作**:\n1. docs/tasks.mdを読み取る\n2. タスク1.1の情報を抽出\n3. 日本語の依頼文を作成：\n   ```\n   タスク: ユーザー認証APIエンドポイントの実装\n\n   概要:\n   POST /api/auth/login と POST /api/auth/logout のエンドポイントを実装してください。\n   JWTトークンを使用した認証方式を採用し、パスワードはbcryptでハッシュ化します。\n\n   受入基準:\n   - src/api/auth.tsが存在し、login/logoutエンドポイントが実装されている\n   - すべてのテストが通過する（npm test）\n   - ESLintエラーがゼロである\n\n   技術的文脈:\n   - フレームワーク: Next.js 14\n   - 認証: JWT + bcrypt\n   - 参照実装: src/api/users.ts\n\n   推定工数: 2時間\n   ```\n4. ユーザーに確認を求める\n5. 承認後、julesコマンドを実行\n6. タスクIDを記録（例: task-abc123）\n7. tasks.mdのステータスを`IN_PROGRESS`に更新\n\n**完了後**:\n```\njules status task-abc123  # 完了を確認\njules result task-abc123  # 結果を取得\n```\nスキルが結果をレビューし、tasks.mdのステータスを`REVIEW`に更新します。\n\n## Jules依頼文の構造\n\nスキルが生成する依頼文は以下の構造を持ちます：\n\n```\nタスク: [タスクタイトル]\n\n概要:\n[タスクの詳細な説明]\n\n受入基準:\n- [基準1]\n- [基準2]\n- [基準3]\n\n技術的文脈:\n- [フレームワークやライブラリ]\n- [参照すべきファイルやコード]\n- [制約事項]\n\n推定工数: [時間]\n```\n\nすべて日本語で記述され、Julesが理解しやすい形式になっています。\n\n## ワークフロー\n\n```\n1. ユーザーがスキルを起動\n   「次のタスクをJulesに依頼してください」\n   ↓\n2. スキルがdocs/tasks.mdを読み取る\n   TODO状態のタスクを特定\n   ↓\n3. タスクリストを表示\n   ユーザーがタスクを選択\n   ↓\n4. 依頼文を日本語で作成\n   タスクの説明、受入基準、技術的文脈を含む\n   ↓\n5. ユーザーに依頼文を確認してもらう\n   承認後、次へ進む\n   ↓\n6. julesコマンドを実行\n   依頼文をJulesに送信\n   ↓\n7. タスクIDを記録\n   ユーザーに報告\n   ↓\n8. tasks.mdを更新\n   ステータスをIN_PROGRESSに変更\n   ↓\n9. 進捗を確認（必要に応じて）\n   jules listやjules statusを使用\n   ↓\n10. 完了後、結果をレビュー\n    受入基準を満たしているか確認\n    ↓\n11. tasks.mdを最終更新\n    ステータスをREVIEWまたはDONEに変更\n```\n\n## 並行処理\n\n依存関係のない複数のタスクを並行してJulesに依頼できます：\n\n**例**:\n```\nユーザー: タスク1.1、1.2、1.3をJulesに依頼してください\n```\n\nスキルは各タスクについて：\n1. 個別の依頼文を作成\n2. 順次julesコマンドを実行\n3. すべてのタスクIDを記録\n4. 各タスクの進捗を個別に追跡\n\n**並行実行の条件**:\n- 依存関係が存在しない\n- 異なるファイル・コンポーネントを対象とする\n- 相互に影響を与えない\n\n## tasks.mdの更新\n\nスキルは以下のようにtasks.mdを更新します：\n\n### ステータスの遷移\n\n```\nTODO → IN_PROGRESS（Jules実行中）→ REVIEW（完了、レビュー待ち）→ DONE（承認済み）\n```\n\n### 記録される情報\n\n```markdown\n#### タスク1.1: ユーザー認証APIエンドポイントの実装\n**説明**: POST /api/auth/login と POST /api/auth/logout のエンドポイントを実装\n**受入基準**:\n- src/api/auth.tsが存在する\n- テストが通過する\n**ステータス**: `REVIEW`\n**依存関係**: なし\n**推定工数**: 2時間\n**Jules Task ID**: task-abc123\n**開始日時**: 2024-01-15 10:30\n**完了日時**: 2024-01-15 12:15\n**作業時間**: 1時間45分\n```\n\n## エラーハンドリング\n\n### Julesでエラーが発生した場合\n\nスキルは以下の手順で対処します：\n\n1. **エラー内容を確認**\n   ```\n   jules status <task-id>\n   ```\n\n2. **ユーザーに報告**\n   - エラーの詳細\n   - 推定される原因\n   - 推奨される対処方法\n\n3. **対処を提案**\n   - 依頼文を修正して再実行\n   - 依存関係を解決\n   - 手動で対処\n\n4. **tasks.mdを更新**\n   - ステータスをBLOCKEDに変更\n   - エラー内容を記録\n\n### タスクが長時間完了しない場合\n\n1. 現在の状態を確認\n2. ユーザーに状況を報告\n3. キャンセルまたは待機を提案\n\n## Jules CLIコマンドリファレンス\n\nこのスキルが使用する主なコマンド：\n\n### タスクの作成\n```bash\njules \"タスクの説明\"\n```\n\n### タスクの管理\n```bash\njules list               # タスクリスト表示\njules status <task-id>   # タスクの状態確認\njules show <task-id>     # タスクの詳細表示\njules result <task-id>   # 完了したタスクの結果取得\n```\n\n### タスクの制御\n```bash\njules cancel <task-id>   # タスクのキャンセル\njules retry <task-id>    # タスクの再実行\n```\n\n## ベストプラクティス\n\n### 1. タスクの粒度を適切に\n\n- 1つのタスクは1-3時間程度\n- 1つの明確な目的を持つ\n- 独立して完結する\n- 検証が容易\n\n### 2. 受入基準を明確に\n\n検証可能な受入基準をtasks.mdに記載：\n\n**良い例**:\n```\n受入基準:\n- src/components/LoginForm.tsxが存在する\n- npm testを実行してすべてのテストが通過する\n- npm run lintを実行してエラーがゼロである\n```\n\n**悪い例**:\n```\n受入基準:\n- ちゃんと動く\n- きれいなコード\n```\n\n### 3. 技術的文脈を提供\n\nJulesが適切に作業できるよう、必要な情報をtasks.mdに含める：\n- プロジェクトの技術スタック\n- 参照すべき既存コード\n- コーディング規約\n- 制約事項\n\n### 4. 依存関係を明示\n\ntasks.mdで依存関係を明確に記載：\n```markdown\n**依存関係**: Task 1.1, Task 1.2\n```\n\nこれにより、スキルが適切な実行順序を判断できます。\n\n## 制約事項\n\n### 実行の制限\n\n以下の場合はJulesへの依頼を控えます：\n\n1. **タスクの曖昧性**\n   - 受入基準が不明確\n   - 実装方法が複数考えられる\n   - 技術的文脈が不足している\n\n2. **リスクの高い操作**\n   - 本番環境への直接的な変更\n   - データベースの削除操作\n   - 認証情報の変更\n\n3. **ユーザーの判断が必要な場合**\n   - 技術選択が必要\n   - アーキテクチャの決定が必要\n   - トレードオフの判断が必要\n\n### 環境要件\n\n- Jules CLIがインストールされている必要がある\n- julesコマンドがPATHに含まれている必要がある\n- 認証が正しく設定されている必要がある\n- ネットワーク接続が必要\n\n## トラブルシューティング\n\n### julesコマンドが見つからない\n\n**原因**: Jules CLIがインストールされていない、またはPATHに含まれていない\n\n**解決**:\n1. Jules CLIのインストールを確認\n2. PATHを設定\n3. `which jules`で確認\n\n### 認証エラーが発生する\n\n**原因**: Jules CLIの認証が設定されていない\n\n**解決**:\n```bash\njules auth login\n```\nでGoogle認証を完了してください。\n\n### タスクが失敗する\n\n**原因**: 依頼文が不明瞭、または依存関係が不足\n\n**解決**:\n1. tasks.mdのタスク説明を詳細化\n2. 受入基準を明確にする\n3. 技術的文脈を追加\n4. 依存関係を解決\n\n### 並行実行で競合が発生する\n\n**原因**: 同じファイルを編集するタスクを並行実行した\n\n**解決**:\n1. 依存関係を見直す\n2. 順次実行に変更\n3. タスクの粒度を調整\n\n## SDD-Docsスキルとの連携\n\nこのスキルはSDD-Docsスキルと組み合わせて使用することで、最大の効果を発揮します：\n\n### 推奨ワークフロー\n\n1. **SDD-Docsスキルで設計**\n   ```\n   docsディレクトリを初期化してください\n   ```\n   - requirements.md（要件定義）を作成\n   - design.md（技術設計）を作成\n   - tasks.md（タスク管理）を作成\n\n2. **Jules CLIスキルで実装**\n   ```\n   次のタスクをJulesに依頼してください\n   ```\n   - tasks.mdからタスクを選択\n   - Julesに依頼\n   - 進捗を追跡\n\n3. **Task Executorスキルでレビュー**（オプション）\n   ```\n   完了したタスクをレビューしてください\n   ```\n   - 受入基準を確認\n   - コード品質をチェック\n   - tasks.mdを更新\n\n### 連携の利点\n\n- **一貫した文書管理**: SDDドキュメントとタスク管理を統合\n- **効率的な実装**: タスクを自動的にJulesに割り当て\n- **進捗の可視化**: tasks.mdで進捗を一元管理\n- **品質保証**: 受入基準に基づいた検証\n\n## さらに詳しく\n\n- Jules CLIの公式ドキュメント: https://developers.googleblog.com/ja/meet-jules-tools-a-command-line-companion-for-googles-async-coding-agent/\n- SDD-Docsスキル: [../sdd-docs/README.md](../sdd-docs/README.md)\n- Task Executorスキル: [../task-executor/README.md](../task-executor/README.md)\n\n## ライセンス\n\nこのスキルはMITライセンスの下で公開されています。\n",
        "jules-cli/SKILL.md": "---\nname: jules-cli\ndescription: docs/tasks.mdに記載されたタスクをJules CLIを使って依頼・管理します。タスクを日本語でフォーマットしてJulesに送信し、進捗を追跡して完了後にtasks.mdを更新します。\n---\n\n# Jules CLI統合スキル\n\ndocs/tasks.mdに記載されたタスクをGoogleの非同期コーディングエージェントJulesに依頼・管理するスキルです。SDDで分割したタスクを効率的にJulesに割り当て、進捗を追跡します。\n\n## 概要\n\nこのスキルは以下の機能を提供します：\n- docs/tasks.mdからタスクを読み取り、選択可能なリストを表示\n- 選択されたタスクを日本語でフォーマットしてJulesに依頼\n- Julesの進捗状況を確認・管理\n- 完了したタスクをtasks.mdで更新\n- 複数タスクの並行依頼サポート\n\n## このスキルを使用する場面\n\n以下の状況でこのスキルを有効にしてください：\n\n### タスク実行時\n- docs/tasks.mdのタスクをJulesに依頼したい場合\n- 長時間かかるタスクを非同期で実行したい場合\n- 複数のタスクを並行して実行したい場合\n- Jules CLIを使った開発ワークフローを構築する場合\n\n### プロジェクト管理時\n- タスクの進捗をJulesで管理したい場合\n- チーム内でJulesを活用している場合\n- 自動化可能なタスクをJulesに任せたい場合\n\n## 基本的な使い方\n\n### タスクの依頼\n\n「次のタスクをJulesに依頼してください」「タスクをJulesで実行してください」などと依頼されたら：\n\n1. **tasks.mdの読み取り**\n   - docs/tasks.mdの内容を確認\n   - TODO状態のタスクを特定\n   - 依存関係を確認\n\n2. **タスクの選択**\n   - ユーザーにタスクリストを表示\n   - 依頼するタスクを選択してもらう\n   - 複数選択も可能\n\n3. **Jules依頼文の作成**\n   - タスクの説明、受入基準、技術的文脈を日本語でフォーマット\n   - Julesが理解しやすい形式に整形\n   - 必要な参照情報を含める\n\n4. **julesコマンドの実行**\n   - `jules \"依頼文\"` コマンドを実行\n   - タスクIDを記録\n   - ユーザーに依頼完了を報告\n\n5. **進捗の追跡**\n   - 必要に応じてJulesの進捗を確認\n   - 完了したら結果をレビュー\n   - tasks.mdを更新\n\n## Jules依頼文の原則\n\n### 1. 明確で具体的な指示\n\nJulesが理解しやすい形式で依頼文を作成します：\n\n**基本構造**：\n```\nタスク: [タスクタイトル]\n\n概要:\n[タスクの詳細な説明]\n\n受入基準:\n- [基準1]\n- [基準2]\n- [基準3]\n\n技術的文脈:\n- [フレームワークやライブラリ]\n- [参照すべきファイルやコード]\n- [制約事項]\n\n推定工数: [時間]\n```\n\n**良い例**：\n```\nタスク: ユーザー認証APIエンドポイントの実装\n\n概要:\nPOST /api/auth/login と POST /api/auth/logout のエンドポイントを実装してください。\nJWTトークンを使用した認証方式を採用し、パスワードはbcryptでハッシュ化します。\n\n受入基準:\n- src/api/auth.tsが存在し、login/logoutエンドポイントが実装されている\n- すべてのテストが通過する（npm test）\n- ESLintエラーがゼロである\n- JWTトークンが正しく生成・検証される\n\n技術的文脈:\n- フレームワーク: Next.js 14 App Router\n- 認証ライブラリ: jose（JWT）、bcrypt（パスワードハッシュ化）\n- 参照実装: src/api/users.ts\n- データベース: PostgreSQL with Prisma ORM\n\n推定工数: 2時間\n```\n\n**悪い例**：\n```\nログイン機能を作って\n```\n\n### 2. 日本語での依頼\n\nすべての依頼文は日本語で記述します：\n\n**理由**：\n- ユーザーが日本語での依頼を希望している\n- タスクの内容が日本語で記載されている場合が多い\n- Julesは多言語対応しており、日本語も理解できる\n\n**注意事項**：\n- 技術用語は英語のまま使用（例: JWT, API, bcrypt）\n- ファイルパスやコマンドは英語のまま\n- 説明文や受入基準は日本語で記述\n\n### 3. 文脈の提供\n\nJulesが適切に作業できるよう、必要な文脈を提供します：\n\n**含めるべき情報**：\n- プロジェクトの技術スタック\n- 参照すべき既存コード\n- コーディング規約やスタイルガイド\n- 制約事項や注意点\n- 依存関係のあるタスク\n\n**例**：\n```\n技術的文脈:\n- このプロジェクトはNext.js 14のApp Routerを使用しています\n- 既存の実装パターンはsrc/api/users.tsを参照してください\n- ESLintとPrettierの設定に従ってください\n- データベーススキーマはprisma/schema.prismaで定義されています\n- Task 1.2（データモデルの定義）の完了が前提です\n```\n\n### 4. 受入基準の明確化\n\n検証可能な受入基準を提供します：\n\n**良い受入基準**：\n```\n受入基準:\n- src/components/LoginForm.tsxが存在する\n- npm testを実行してすべてのテストが通過する\n- npm run lintを実行してエラーがゼロである\n- ログイン成功時にJWTトークンが返される\n- ログイン失敗時に適切なエラーメッセージが返される\n- パスワードはbcryptでハッシュ化されている\n```\n\n**悪い受入基準**：\n```\n受入基準:\n- ちゃんと動く\n- きれいなコード\n```\n\n## Jules CLIコマンド\n\n### タスクの作成・依頼\n\n```bash\n# 基本的な依頼\njules \"タスクの説明\"\n\n# 長い依頼文の場合はヒアドキュメントを使用\njules \"$(cat <<'EOF'\nタスク: ユーザー認証APIの実装\n\n概要:\nPOST /api/auth/login エンドポイントを実装してください。\n\n受入基準:\n- src/api/auth.tsが存在する\n- テストが通過する\n\n技術的文脈:\n- Next.js 14\n- JWT + bcrypt\nEOF\n)\"\n```\n\n### タスクの状態確認\n\n```bash\n# タスクリストの表示\njules list\n\n# 特定のタスクの状態確認\njules status <task-id>\n\n# タスクの詳細表示\njules show <task-id>\n```\n\n### タスクの管理\n\n```bash\n# タスクのキャンセル\njules cancel <task-id>\n\n# タスクの再実行\njules retry <task-id>\n\n# 完了したタスクの結果取得\njules result <task-id>\n```\n\n## ワークフロー\n\n### 基本的な実行フロー\n\n```\n1. tasks.mdを読み取る\n   ↓\n2. TODO状態のタスクをリスト表示\n   ↓\n3. ユーザーがタスクを選択\n   ↓\n4. 依頼文を日本語で作成\n   ↓\n5. ユーザーに依頼文を確認してもらう\n   ↓\n6. julesコマンドを実行\n   ↓\n7. タスクIDを記録\n   ↓\n8. 進捗を定期的に確認（必要に応じて）\n   ↓\n9. 完了したら結果をレビュー\n   ↓\n10. tasks.mdを更新（ステータスをIN_PROGRESSまたはREVIEW）\n   ↓\n11. レビュー完了後、DONEにマーク\n```\n\n### 詳細な実行手順\n\n#### ステップ1: タスクの選択\n\n```\nファシリテーター: docs/tasks.mdから実行可能なタスクを確認しました。\n                  以下のタスクが利用可能です：\n\n                  1. Task 1.1: ユーザー認証APIエンドポイントの実装\n                     推定工数: 2時間\n                     依存関係: なし\n\n                  2. Task 1.2: データモデルの定義\n                     推定工数: 1時間\n                     依存関係: なし\n\n                  3. Task 2.1: 認証ミドルウェアの実装\n                     推定工数: 1.5時間\n                     依存関係: Task 1.1\n\n                  どのタスクをJulesに依頼しますか？（番号で選択、複数選択可）\n\nユーザー: 1と2\n\nファシリテーター: 承知しました。Task 1.1とTask 1.2をJulesに依頼します。\n```\n\n#### ステップ2: 依頼文の作成と確認\n\n```\nファシリテーター: 以下の依頼文でJulesに送信します。確認してください：\n\n【Task 1.1の依頼文】\nタスク: ユーザー認証APIエンドポイントの実装\n\n概要:\nPOST /api/auth/login と POST /api/auth/logout のエンドポイントを実装してください。\nJWTトークンを使用した認証方式を採用し、パスワードはbcryptでハッシュ化します。\n\n受入基準:\n- src/api/auth.tsが存在し、login/logoutエンドポイントが実装されている\n- すべてのテストが通過する（npm test）\n- ESLintエラーがゼロである\n\n技術的文脈:\n- フレームワーク: Next.js 14\n- 認証: JWT + bcrypt\n- 参照実装: src/api/users.ts\n\n推定工数: 2時間\n\nこのまま送信してよろしいですか？\n\nユーザー: はい\n\nファシリテーター: Julesに依頼を送信します。\n```\n\n#### ステップ3: julesコマンドの実行\n\n```\n# Task 1.1の依頼\njules \"$(cat <<'EOF'\nタスク: ユーザー認証APIエンドポイントの実装\n\n概要:\nPOST /api/auth/login と POST /api/auth/logout のエンドポイントを実装してください。\nJWTトークンを使用した認証方式を採用し、パスワードはbcryptでハッシュ化します。\n\n受入基準:\n- src/api/auth.tsが存在し、login/logoutエンドポイントが実装されている\n- すべてのテストが通過する（npm test）\n- ESLintエラーがゼロである\n\n技術的文脈:\n- フレームワーク: Next.js 14\n- 認証: JWT + bcrypt\n- 参照実装: src/api/users.ts\n\n推定工数: 2時間\nEOF\n)\"\n\n# Task 1.2の依頼\njules \"$(cat <<'EOF'\nタスク: データモデルの定義\n\n概要:\nPrismaスキーマファイルにユーザーと認証関連のデータモデルを定義してください。\n\n受入基準:\n- prisma/schema.prismaにUserモデルが定義されている\n- prisma migrateが正常に実行できる\n- TypeScript型定義が自動生成される\n\n技術的文脈:\n- ORM: Prisma\n- データベース: PostgreSQL\n- 既存のスキーマを参考にしてください\n\n推定工数: 1時間\nEOF\n)\"\n```\n\n#### ステップ4: タスクIDの記録とユーザーへの報告\n\n```\nファシリテーター: Julesへの依頼が完了しました。\n\n                  依頼したタスク:\n                  - Task 1.1: task-abc123（進行中）\n                  - Task 1.2: task-def456（進行中）\n\n                  進捗は以下のコマンドで確認できます：\n                  jules status task-abc123\n                  jules status task-def456\n\n                  完了を待つ間、他の作業を進めることができます。\n```\n\n#### ステップ5: 進捗の確認\n\n```\n# 定期的に進捗を確認\njules list\n\n# 特定のタスクの詳細確認\njules status task-abc123\n```\n\n#### ステップ6: 完了後の処理\n\n```\nファシリテーター: Task 1.1が完了しました。結果を確認します。\n\n# 結果の取得\njules result task-abc123\n\nファシリテーター: 実装内容を確認しました。以下のファイルが作成されています：\n                  - src/api/auth.ts\n                  - src/api/auth/login/route.ts\n                  - src/api/auth/logout/route.ts\n                  - tests/api/auth.test.ts\n\n                  テストが通過し、ESLintエラーもゼロです。\n                  受入基準をすべて満たしています。\n\n                  tasks.mdを更新してTask 1.1をREVIEWステータスにマークします。\n```\n\n#### ステップ7: tasks.mdの更新\n\n```\n# tasks.mdのステータスを更新\nTask 1.1: TODO → IN_PROGRESS（Jules実行中）→ REVIEW（完了、レビュー待ち）→ DONE（承認済み）\n\n更新内容:\n- ステータスをREVIEWに変更\n- Jules task ID（task-abc123）を記録\n- 完了日時を記録\n```\n\n## tasks.md更新の原則\n\n### 1. ステータス管理\n\nJulesに依頼したタスクは以下のステータスで管理します：\n\n**ステータスの遷移**：\n```\nTODO → IN_PROGRESS（Jules実行中）→ REVIEW（完了、レビュー待ち）→ DONE（承認済み）\n```\n\n**各ステータスの意味**：\n- `TODO`: 未着手\n- `IN_PROGRESS`: Julesが作業中\n- `REVIEW`: Julesが完了、レビュー待ち\n- `DONE`: レビュー完了、承認済み\n\n### 2. タスク情報の記録\n\ntasks.mdには以下の情報を記録します：\n\n**追加情報**：\n```markdown\n#### タスク1.1: ユーザー認証APIエンドポイントの実装\n**説明**: POST /api/auth/login と POST /api/auth/logout のエンドポイントを実装\n**受入基準**:\n- src/api/auth.tsが存在する\n- テストが通過する\n**ステータス**: `REVIEW`\n**Jules Task ID**: task-abc123\n**開始日時**: 2024-01-15 10:30\n**完了日時**: 2024-01-15 12:15\n**作業時間**: 1時間45分\n```\n\n### 3. レビューとDONEへの移行\n\n```\nファシリテーター: Task 1.1のレビューが完了しました。\n                  実装は要件を満たしており、コード品質も良好です。\n                  ステータスをDONEにマークします。\n\n                  完了サマリー:\n                  ユーザー認証APIエンドポイント（login/logout）を実装。\n                  JWTとbcryptを使用した安全な認証を実現。\n                  すべてのテストが通過し、ESLintエラーもゼロ。\n```\n\n## 複数タスクの並行処理\n\n### 並行実行の条件\n\n以下の条件を満たすタスクは並行してJulesに依頼できます：\n\n**条件**：\n- 依存関係が存在しない\n- 異なるファイル・コンポーネントを対象とする\n- 相互に影響を与えない\n\n**例**：\n```\n並行実行可能:\n- Task 1.1: APIエンドポイントの実装\n- Task 1.2: データモデルの定義\n- Task 1.3: 設定ファイルの作成\n\n順次実行が必要:\n- Task 1.1: APIエンドポイントの実装（依存: なし）\n- Task 2.1: 認証ミドルウェアの実装（依存: Task 1.1）\n```\n\n### 並行実行の手順\n\n```\n1. 並行実行可能なタスクを特定\n2. それぞれのタスクについて依頼文を作成\n3. 複数のjulesコマンドを順次実行\n4. すべてのタスクIDを記録\n5. 各タスクの進捗を個別に追跡\n```\n\n## エラーハンドリング\n\n### Julesでエラーが発生した場合\n\n**対処手順**：\n```\n1. エラー内容を確認\n   jules status <task-id>\n\n2. エラーの原因を分析\n   - 依頼文の不明瞭さ\n   - 技術的な問題\n   - 依存関係の問題\n\n3. ユーザーに報告\n   - エラーの詳細\n   - 推定される原因\n   - 推奨される対処方法\n\n4. 必要に応じて再実行\n   - 依頼文を修正\n   - 依存関係を解決\n   - jules retry <task-id>\n\n5. tasks.mdを更新\n   - ステータスをBLOCKEDに変更\n   - エラー内容を記録\n```\n\n**例**：\n```\nファシリテーター: Task 1.1の実行中にエラーが発生しました。\n\n                  エラー内容:\n                  依存パッケージ'jose'がインストールされていません。\n\n                  推奨される対処:\n                  1. npm install joseを実行\n                  2. Julesのタスクを再実行\n\n                  このまま対処を進めますか？それとも手動で解決しますか？\n```\n\n### タスクが長時間完了しない場合\n\n**対処手順**：\n```\n1. 現在の状態を確認\n   jules status <task-id>\n\n2. 作業内容を確認\n   jules show <task-id>\n\n3. ユーザーに状況を報告\n   - 現在の進捗\n   - 推定残り時間\n   - 次のアクション\n\n4. 必要に応じてキャンセルまたは待機を提案\n```\n\n## 制約事項\n\n### 実行の制限\n\n以下の場合はJulesへの依頼を控えます：\n\n1. **タスクの曖昧性**\n   - 受入基準が不明確\n   - 実装方法が複数考えられる\n   - 技術的文脈が不足している\n\n2. **リスクの高い操作**\n   - 本番環境への直接的な変更\n   - データベースの削除操作\n   - 認証情報の変更\n\n3. **ユーザーの判断が必要な場合**\n   - 技術選択が必要\n   - アーキテクチャの決定が必要\n   - トレードオフの判断が必要\n\nこれらの場合は、ユーザーに確認または詳細化を依頼します。\n\n### Jules CLIの制限\n\n**考慮事項**：\n- Jules CLIを利用できる環境が必要\n- julesコマンドがPATHに含まれている必要がある\n- 認証が正しく設定されている必要がある\n- ネットワーク接続が必要\n\n## ベストプラクティス\n\n### 1. 依頼文の品質\n\n**明確で具体的な依頼文を作成**：\n- 曖昧な表現を避ける\n- 具体的な成果物を明示する\n- 検証可能な受入基準を提供する\n- 必要な文脈をすべて含める\n\n### 2. タスクの粒度\n\n**適切な粒度でタスクを依頼**：\n- 1つのタスクは1-3時間程度\n- 1つの明確な目的を持つ\n- 独立して完結する\n- 検証が容易\n\n### 3. 進捗管理\n\n**定期的な進捗確認**：\n- 長時間のタスクは定期的に状態を確認\n- 問題が発生したら早期に対処\n- 完了したらすぐにレビュー\n\n### 4. ドキュメントの同期\n\n**tasks.mdを最新に保つ**：\n- ステータス変更を即座に反映\n- Jules Task IDを記録\n- 作業時間を記録\n- 問題や気づきをメモ\n\n## 絵文字の使用禁止\n\nすべてのメッセージ、依頼文、ドキュメントで絵文字を使用しません：\n\n**禁止事項**：\n- Jules依頼文に絵文字を含めない\n- ユーザーへのメッセージに絵文字を使わない\n- tasks.mdの更新に絵文字を含めない\n- コミットメッセージに絵文字を使わない\n\n## トラブルシューティング\n\n### よくある問題と解決方法\n\n**問題1: julesコマンドが見つからない**\n- 原因: Jules CLIがインストールされていない、またはPATHに含まれていない\n- 解決: Jules CLIのインストールを確認し、PATHを設定\n\n**問題2: 認証エラーが発生する**\n- 原因: Jules CLIの認証が設定されていない\n- 解決: `jules auth login`で認証を設定\n\n**問題3: タスクが失敗する**\n- 原因: 依頼文が不明瞭、または依存関係が不足\n- 解決: 依頼文を詳細化し、必要な前提条件を確認\n\n**問題4: 並行実行で競合が発生する**\n- 原因: 同じファイルを編集するタスクを並行実行した\n- 解決: 依存関係を見直し、順次実行に変更\n\n## 今後の拡張\n\nこのスキルは将来的に以下の機能を追加予定です：\n\n- Jules CLIの詳細な状態監視\n- タスクの優先順位付け\n- 自動的なレビュープロセス\n- チームでのタスク共有機能\n- タスク実行時間の分析とレポート\n",
        "operations-design/README.md": "# 運用設計コンサルタントスキル\n\n運用設計の専門コンサルタントとして、対象業界の最新トレンドを調査し、ITIL 4・SRE・DevOpsのベストプラクティスに基づいた実践的な運用設計書を作成するスキルです。\n\n## 概要\n\nこのスキルは以下の機能を提供します：\n\n- 対象業界の最新トレンドと技術動向の調査\n- サービス仕様の体系的なヒアリング\n- ITIL 4・SRE・DevOpsに基づいた運用設計\n- 包括的な運用設計書の作成\n- 設計内容の一貫性チェックと客観的レビュー\n- 推論を避けた事実ベースの設計\n\n## 主な特徴\n\n### 1. AskUserQuestionツールによる確実な質問\n\n**すべての質問はAskUserQuestionツールを使用して実施します：**\n\n- 質問が必要な場合は必ずAskUserQuestionツールを使用\n- 不明な点は積極的に質問\n- 質問する時は常にAskUserQuestionツールを使って回答させる\n- 選択肢にはそれぞれ、推奨度と理由を提示\n  - 推奨度は⭐の5段階評価（⭐⭐⭐⭐⭐：最も推奨、⭐：推奨しない）\n\n### 2. 会話ログによるコンテキスト保持\n\n**すべての会話内容をファイルに記録し、コンテキストを失わないようにします：**\n\n- セッション開始時に会話ログファイルを自動作成\n- ヒアリング内容、調査結果、決定事項をすべて記録\n- 長期間のセッションでも情報を失わない\n- 過去の議論をいつでも参照可能\n- 設計の根拠と経緯を明確に追跡\n\n### 3. 業界調査の必須化\n\n運用設計を開始する前に、必ず対象業界の最新トレンドを調査します：\n\n- 最新の業界動向\n- 主要な技術トレンド\n- セキュリティ・コンプライアンス要件\n- 業界標準のSLO/SLA水準\n\n### 4. 推論の禁止\n\n推測や推論を避け、事実に基づいた設計を行います：\n\n- 不明な点は必ずユーザーに質問\n- 業界トレンドはWeb検索で調査\n- 提供された情報のみを使用\n- 「おそらく」「たぶん」などの曖昧な判断を排除\n\n### 5. 体系的なヒアリング\n\nサービス仕様を段階的かつ体系的に収集します：\n\n- 既存ドキュメントの確認\n- サービス基本情報の収集\n- システム構成の把握\n- 運用要件の明確化\n\n### 6. 一貫性の客観的レビュー\n\n設計書作成後、内容の一貫性を客観的にレビューします：\n\n- SLO/SLI/SLAの整合性チェック\n- 運用体制と作業内容の整合性確認\n- 監視とインシデント対応の整合性確認\n- 変更管理とリリース管理の整合性確認\n\n## ディレクトリ構造\n\n```\noperations-design/\n├── SKILL.md                              # スキル定義ファイル\n├── README.md                             # このファイル\n├── assets/\n│   └── templates/\n│       ├── operations_design_template_ja.md  # 汎用運用設計書テンプレート\n│       ├── operations_design_template_cloud_native_ja.md  # クラウドネイティブ対応\n│       ├── operations_design_template_cloud_instance_ja.md  # クラウドインスタンス対応\n│       ├── operations_design_template_onpremise_ja.md  # オンプレミス対応\n│       └── conversation_log_template_ja.md   # 会話ログテンプレート\n└── references/\n    ├── operations_design_guide_ja.md     # 運用設計の詳細ガイド\n    └── industry_research_guide_ja.md     # 業界調査のガイドライン\n```\n\n**テンプレートの選択**:\n\nインフラパターンに応じて、最適なテンプレートが自動選択されます：\n\n- **クラウドネイティブ**: サーバレス、Kubernetes環境向け（責任共有モデル考慮）\n- **クラウドインスタンス**: EC2/GCE/Azure VM等のIaaS向け（LAMP等）\n- **オンプレミス**: 自社データセンター向け（リソース保有とスケーリングリードタイム考慮）\n\n## 使用方法\n\n### スキルの有効化\n\nClaude Codeで以下のように依頼してください：\n\n```\n運用設計書を作成したい\n```\n\nまたは\n\n```\n運用設計を支援してほしい\n```\n\n### 基本的なワークフロー\n\n1. **会話ログの初期化**\n   - セッション開始時に会話ログファイルを作成\n   - すべてのヒアリング内容を記録開始\n\n2. **インフラパターンの選択**\n   - クラウドネイティブ/サーバレス/Kubernetes\n   - クラウドインスタンス/IaaS\n   - オンプレミス\n   - 適切なテンプレートの自動選択\n\n3. **業界トレンド調査**\n   - 対象業界の最新動向をWeb検索で調査\n   - ITIL 4、SRE、DevOpsのベストプラクティスを確認\n   - 調査結果を会話ログに記録\n\n4. **サービス仕様のヒアリング**\n   - 既存ドキュメントの確認\n   - サービス概要、技術構成、運用要件を収集\n   - 各質問と回答を会話ログに記録\n\n5. **運用設計書の作成**\n   - 選択されたテンプレートに基づいて段階的に作成\n   - 各セクション完成後にユーザー確認\n   - 承認状況を会話ログに記録\n\n6. **一貫性チェック**\n   - 全セクション完成後に矛盾をチェック\n   - 問題があれば修正提案\n   - チェック結果を会話ログに記録\n\n7. **最終承認と完成**\n   - ユーザーの最終承認\n   - 運用設計書の保存\n   - 最終的な決定事項とサマリーを会話ログに記録\n\n## 運用設計書のセクション\n\n作成される運用設計書には以下のセクションが含まれます：\n\n1. 概要（目的、対象範囲、前提条件、**インフラパターン特有の考慮事項**）\n2. サービス概要\n3. 運用方針と目標（SLO/SLI/**SLA**/エラーバジェット）\n4. 運用体制\n5. 運用スケジュール\n6. 定常運用作業\n7. 監視・通知\n8. インシデント管理\n9. 変更管理\n10. リリース管理\n12. バックアップ・リカバリ\n13. セキュリティ運用\n14. キャパシティ管理\n15. コスト管理\n16. 問題管理\n17. ナレッジ管理\n18. 継続的改善\n19. 運用ツール\n20. 付録\n\n## リソース\n\n### テンプレート\n\n- `assets/templates/operations_design_template_ja.md`\n  - 包括的な運用設計書テンプレート\n  - 20セクション構成\n  - ITIL 4、SRE、DevOpsの要素を統合\n\n- `assets/templates/conversation_log_template_ja.md`\n  - 会話ログテンプレート\n  - セッション情報、会話記録、サマリーセクション\n  - コンテキスト保持と決定事項追跡\n\n### リファレンス\n\n- `references/operations_design_guide_ja.md`\n  - ITIL 4フレームワークの詳細\n  - SREの原則とベストプラクティス\n  - DevOpsの実践\n  - SLO/SLI/SLAの設計ガイド\n  - 運用プロセスの詳細\n  - ツール選定のポイント\n  - コスト最適化手法\n\n- `references/industry_research_guide_ja.md`\n  - 業界調査の目的と方法\n  - 業界別の調査ポイント\n  - 最新トレンドの把握方法\n  - 調査結果の活用方法\n\n## 適用可能な業界\n\nこのスキルは以下の業界に対応しています：\n\n- Webサービス/SaaS\n- EC/マーケットプレイス\n- 金融サービス（銀行、証券、保険、フィンテック）\n- メディア/コンテンツ配信\n- ヘルスケア\n- ゲーム\n- IoT/組み込み\n- エンタープライズ（社内システム）\n\n## 主な採用フレームワーク\n\n### ITIL 4\n\n- サービスバリューシステム（SVS）\n- 34のプラクティス\n- 継続的改善\n- アジャイル・DevOpsとの統合\n\n### SRE（Site Reliability Engineering）\n\n- SLO/SLI/エラーバジェット\n- 4つのゴールデンシグナル\n- トイル削減\n- ポストモーテム文化\n\n### DevOps\n\n- CI/CDパイプライン\n- Infrastructure as Code\n- Four Keys（DORA metrics）\n- 自動化とコラボレーション\n\n## ベストプラクティス\n\n### 1. 段階的な作成\n\n- 一度にすべてを作成しない\n- 各セクション完成後にユーザー確認\n- 承認を得てから次のセクションへ\n\n### 2. 具体性と測定可能性\n\n- 抽象的な表現を避ける\n- 測定可能な数値目標を設定\n- 「高速に」ではなく「500ms以内に」\n\n### 3. 一貫性の確保\n\n- セクション間の矛盾をチェック\n- SLOと運用プロセスの整合性\n- 全体としての実現可能性\n\n### 4. 継続的な更新\n\n- 運用開始後も定期的に見直し\n- 最新トレンドの取り込み\n- 実態との乖離を防ぐ\n\n## ライセンス\n\nこのスキルはMITライセンスの下で提供されています。\n\n## 貢献\n\n改善提案やバグ報告は、GitHubのIssueまたはPull Requestでお願いします。\n\n## 関連スキル\n\n- `sdd-documentation`: ソフトウェア設計ドキュメント作成スキル\n- `incident-rca`: インシデント根本原因分析スキル\n- `auto-executor`: タスク実行スキル\n",
        "operations-design/SKILL.md": "---\nname: operations-design\ndescription: 運用設計コンサルタントとして、対象業界の最新トレンドを調査し、サービス仕様をヒアリングした上で、ITIL 4・SRE・DevOpsのベストプラクティスに基づいた運用設計書を作成します。推論を避け、不明点は必ず質問し、一貫性を保つよう客観的にレビューします。\n---\n\n# 運用設計コンサルタントスキル\n\n運用設計の専門コンサルタントとして、サービスやシステムの運用設計書を作成します。対象業界の最新トレンドを調査し、ITIL 4、SRE、DevOpsの最新フレームワークとベストプラクティスを活用して、実践的で高品質な運用設計を提供します。\n\n## 概要\n\nこのスキルは以下の機能を提供します:\n\n- 対象業界の最新トレンドと技術動向の調査\n- サービス仕様の体系的なヒアリング\n- ITIL 4・SRE・DevOpsに基づいた運用設計\n- 包括的な運用設計書の作成\n- 設計内容の一貫性チェックと客観的レビュー\n- 推論を避けた事実ベースの設計\n- **AskUserQuestionツールによる確実な質問と回答取得**\n- **会話ログによるコンテキスト保持と記録管理**\n\n## このスキルを使用する場面\n\n以下の状況でこのスキルを有効にしてください:\n\n### 運用設計書の新規作成時\n- 新規サービスの運用設計を行う場合\n- 既存サービスの運用設計を見直す場合\n- クラウド移行に伴う運用設計が必要な場合\n- DevOps/SREの導入に伴う運用設計の再構築が必要な場合\n\n### 運用改善・最適化時\n- 運用コストの最適化を図りたい場合\n- 運用品質を向上させたい場合\n- インシデント発生率を低減したい場合\n- SLO/SLAの設定・見直しを行う場合\n\n### コンサルティング時\n- 運用設計の専門的なアドバイスが必要な場合\n- 業界のベストプラクティスを取り入れたい場合\n- 運用プロセスの標準化を図りたい場合\n\n## 基本的な使い方\n\n### 運用設計の開始\n\n「運用設計書を作成したい」「運用設計を支援してほしい」などと依頼されたら:\n\n1. **業界トレンドの調査**\n   - 対象業界の最新動向をWeb検索で調査\n   - ITIL 4、SRE、DevOpsの最新フレームワークを確認\n   - 最新のベストプラクティスを把握\n\n2. **サービス仕様のヒアリング**\n   - サービスの目的と提供価値\n   - システム構成と技術スタック\n   - ビジネス要件と制約条件\n   - 既存の運用状況（該当する場合）\n\n3. **運用設計書の作成**\n   - テンプレートに基づいて段階的に作成\n   - 各セクションについてユーザーに確認\n   - 不明点は必ず質問\n\n4. **一貫性チェックとレビュー**\n   - 設計内容の矛盾がないか確認\n   - SLO/SLIの整合性チェック\n   - 運用体制と作業内容の整合性確認\n\n## 運用設計コンサルタントとしての原則\n\n### 1. 推論の禁止\n\nこのスキルは推測や推論を避け、事実に基づいた設計を行います:\n\n**実施すること**:\n- ユーザーに必要な情報を質問する\n- 提供された情報のみを使用する\n- 業界トレンドはWeb検索で調査する\n- 不明確な点は明示的に確認する\n\n**実施しないこと**:\n- 「おそらく〜だろう」と推測する\n- 「一般的には〜」と曖昧に進める\n- ユーザーの意図を勝手に解釈する\n- 情報不足のまま設計を進める\n\n**良い例**:\n```\nコンサルタント: サービスの可用性目標について確認させてください。\n                以下のどれに該当しますか？\n\nA) 99.9%（月間ダウンタイム約43分） - Webサービスの一般的な目標\nB) 99.95%（月間ダウンタイム約22分） - ミッションクリティカルなサービス\nC) 99.99%（月間ダウンタイム約4分） - 金融サービス等の高可用性要求\nD) その他（具体的な目標値をお聞かせください）\n```\n\n**悪い例**:\n```\nコンサルタント: Webサービスなので、一般的に99.9%の可用性で良いと思います。\n                これで進めます。\n```\n\n### 2. 体系的なヒアリング\n\nサービス仕様を段階的かつ体系的にヒアリングします:\n\n**【重要】すべてのヒアリングはAskUserQuestionツールを使用して実施すること**\n\n**ヒアリングの流れ**:\n\n1. **サービス設計書の有無確認**\n   ```\n   まず、既存のドキュメントについて確認させてください。\n   以下のドキュメントはお持ちですか？\n\n   - システム設計書\n   - アーキテクチャ図\n   - 要件定義書\n   - サービス仕様書\n\n   これらがあれば、内容を共有していただけますか？\n   ```\n\n2. **基本情報の収集**\n   - サービス名と目的\n   - 対象ユーザーと規模\n   - 提供する主要機能\n   - ビジネス上の重要度\n\n3. **技術情報の収集**\n   - システムアーキテクチャ\n   - 使用している技術スタック\n   - インフラ構成（クラウド/オンプレミス）\n   - 外部システムとの連携\n\n4. **運用要件の収集**\n   - 可用性要件\n   - パフォーマンス要件\n   - セキュリティ要件\n   - コンプライアンス要件\n\n### 3. 業界トレンドの必須調査\n\n運用設計を開始する前に、必ず業界の最新トレンドを調査します:\n\n**調査項目**:\n- 対象業界の最新動向\n- 採用すべき技術トレンド\n- ベストプラクティスとフレームワーク\n- セキュリティや規制の最新要件\n\n**調査方法**:\n```\nWebSearchツールを使用して以下を調査:\n1. \"[業界名] 運用設計 最新トレンド\"\n2. \"[サービス種別] SRE DevOps ベストプラクティス 最新\"\n3. \"[業界名] セキュリティ コンプライアンス 最新\"\n```\n\n**調査結果の提示**:\n```\n[業界名]の最新トレンド調査結果をまとめました。\n\n【主要トレンド】\n1. [トレンド1]\n   - 概要: [説明]\n   - 本サービスへの適用: [提案]\n\n2. [トレンド2]\n   - 概要: [説明]\n   - 本サービスへの適用: [提案]\n\nこれらのトレンドを運用設計に反映させることを推奨しますが、\n貴社の状況に照らして、どのトレンドを採用すべきか確認させてください。\n```\n\n### 4. 一貫性の客観的レビュー\n\n設計書作成後、内容の一貫性を客観的にレビューします:\n\n**レビュー観点**:\n\n1. **SLO/SLI/SLAの整合性**\n   - SLOが測定可能なSLIで定義されているか\n   - SLAがSLOと整合しているか\n   - エラーバジェットが適切に設定されているか\n\n2. **運用体制と作業内容の整合性**\n   - 定義された作業に対して担当者が割り当てられているか\n   - 運用時間帯と作業スケジュールが矛盾していないか\n   - オンコール体制が適切に設計されているか\n\n3. **監視とインシデント対応の整合性**\n   - 監視項目とアラートレベルが定義されているか\n   - インシデント分類と対応時間が整合しているか\n   - エスカレーションパスが明確か\n\n4. **変更管理とリリース管理の整合性**\n   - 変更分類とリリース種別が整合しているか\n   - 承認プロセスが適切に設計されているか\n   - ロールバック計画が各変更種別に対応しているか\n\n**レビュー実施方法**:\n```\n運用設計書のレビューを実施します。\n\n【レビュー結果】\n\n✅ 整合性が取れている項目:\n- [項目1]: [確認内容]\n- [項目2]: [確認内容]\n\n⚠️ 矛盾または不明確な項目:\n- [項目1]: [矛盾内容] → [確認事項]\n- [項目2]: [不明確な点] → [質問]\n\n以下の点について確認させてください:\n[質問リスト]\n```\n\n## ワークフロー\n\n### 基本的な作業フロー\n\n```\n0. 会話ログの初期化\n   - 会話ログファイルの作成\n   - セッション情報の記録\n   - ユーザーへの通知\n   ↓\n0.5. インフラパターンの選択\n   - クラウドネイティブ/サーバレス/Kubernetes\n   - クラウドインスタンス/IaaS\n   - オンプレミス\n   - 適切なテンプレートの選択\n   ↓\n1. 業界トレンド調査\n   - 対象業界の調査\n   - 最新技術トレンドの把握\n   - ベストプラクティスの確認\n   - **調査結果を会話ログに記録**\n   ↓\n2. サービス仕様のヒアリング\n   - 既存ドキュメントの確認\n   - サービス概要の把握\n   - 技術情報の収集\n   - 運用要件の確認\n   - **各質問と回答を会話ログに記録**\n   ↓\n3. 運用設計書の作成（段階的）\n   - 概要・サービス情報\n   - 運用方針とSLO/SLI\n   - 運用体制\n   - 定常運用作業\n   - 監視・インシデント管理\n   - 変更・リリース管理\n   - バックアップ・セキュリティ\n   - その他の運用項目\n   - **各セクションの承認状況を会話ログに記録**\n   ↓\n4. 各セクションでのユーザー確認\n   - 内容の確認\n   - 修正・追加\n   - 承認\n   - **確認結果を会話ログに記録**\n   ↓\n5. 一貫性チェック\n   - 矛盾の検出\n   - 不明確な点の洗い出し\n   - 修正提案\n   - **チェック結果を会話ログに記録**\n   ↓\n6. 最終レビューと承認\n   - 全体の整合性確認\n   - ユーザーの最終承認\n   - 運用設計書の完成\n   - **最終的な決定事項とサマリーを会話ログに記録**\n```\n\n### 詳細な実行手順\n\n#### ステップ0: 会話ログの初期化\n\n**【重要】運用設計セッション開始時に必ず実行すること**\n\n```\nコンサルタント: 運用設計のご依頼ありがとうございます。\n\n                セッションを開始する前に、会話ログファイルを作成します。\n                このファイルに、これからのすべてのヒアリング内容、\n                調査結果、決定事項を記録していきます。\n\n                [Writeツールでconversation_log_template_ja.mdを基に\n                 会話ログファイルを作成]\n\n                会話ログファイルを作成しました：\n                `[YYYY-MM-DD]-[サービス名]-conversation-log.md`\n\n                このファイルにすべての情報を記録しますので、\n                長期間のセッションでもコンテキストを失うことなく\n                進めることができます。\n\n                それでは、インフラパターンの確認から開始させてください。\n```\n\n**作成するファイルの内容**:\n- テンプレート: `assets/templates/conversation_log_template_ja.md`\n- ファイル名: `[YYYY-MM-DD]-[サービス名]-conversation-log.md`\n- セッション情報を記入（開始日時、対象サービス、コンサルタント、ユーザー）\n\n#### ステップ0.1: 既存システム有無と移行方式の確認\n\n**【重要】新規構築か移行案件かで、以降のヒアリング内容が大きく変わる**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                運用設計を始める前に、プロジェクトの性質を確認させてください。\n\n                このプロジェクトはどれに該当しますか？\n\n                A) **完全新規構築** ⭐⭐⭐⭐⭐\n                   - ゼロからシステムを構築\n                   - 既存システムの制約なし\n                   - 最新技術を自由に選択可能\n\n                   推奨理由: クラウドネイティブ技術を最大限活用できる\n                   考慮事項: 運用ノウハウを一から構築する必要がある\n\n                B) **オンプレミスからクラウド移行（Lift & Shift）** ⭐⭐⭐⭐\n                   - 既存のオンプレミスシステムをクラウドへ移行\n                   - アプリケーションは基本的に変更せず、インフラのみ移行\n                   - 段階的な移行を計画\n\n                   推奨理由: 移行リスクを最小化、短期間で移行可能\n                   考慮事項: 現行運用の課題、移行制約のヒアリングが必須\n\n                C) **既存クラウドサービスのリプラットフォーム** ⭐⭐⭐\n                   - 既にクラウドで稼働中\n                   - アーキテクチャを刷新（例: EC2ベース → サーバレス）\n                   - クラウドネイティブ化を推進\n\n                   推奨理由: クラウド活用の最適化、コスト削減\n                   考慮事項: 既存運用の課題分析が必須\n\n                D) **既存システムの運用設計見直し** ⭐⭐⭐⭐\n                   - システムは既に稼働中\n                   - 運用プロセス・体制の改善が目的\n                   - システム構成の大きな変更はなし\n\n                   推奨理由: 運用品質の向上、コスト最適化\n                   考慮事項: 現行運用の詳細な分析が必須\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。[選択されたパターン]のプロジェクトですね。\n\n                [Editツールで会話ログに記録]\n\n                [B、C、Dを選択した場合]\n                既存システムについて、追加で確認させてください：\n\n                Q1: 現行システムの運用課題は何ですか？\n                    - 可用性の問題\n                    - パフォーマンスの問題\n                    - 運用コストの問題\n                    - 運用負荷の問題\n                    - その他\n\n                Q2: 現行の運用ドキュメントはありますか？\n                    - 運用設計書: 有/無\n                    - 運用手順書: 有/無\n                    - 障害対応手順書: 有/無\n                    - インシデント履歴: 有/無\n\n                Q3: 移行スケジュールの制約はありますか？\n                    - 移行期限: [日付]\n                    - ダウンタイム許容時間: [時間]\n                    - 段階的移行の可否: 可/不可\n\n                それでは、次に予算とスケジュールを確認させてください。\n```\n\n**会話ログへの記録内容**:\n```markdown\n### [HH:MM] プロジェクト性質の確認\n\n**プロジェクトタイプ**: [A/B/C/D]\n\n**記録事項**:\n- プロジェクト性質: [新規/移行/リプラットフォーム/運用見直し]\n- 既存システムの課題: [課題リスト]（該当する場合）\n- 移行制約: [制約内容]（該当する場合）\n- 次のアクション: 予算・スケジュール制約の確認\n```\n\n#### ステップ0.2: 予算・スケジュール制約の確認\n\n**【重要】予算制約を知らないと実現不可能な設計になる可能性がある**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                運用設計の前提条件として、予算とスケジュールを確認させてください。\n\n                【予算について】\n                Q1: 運用コストの月額予算はありますか？\n\n                A) **明確な予算上限あり** ⭐⭐⭐⭐⭐\n                   - 月額予算: [金額]円\n                   - 予算超過時の対応: [内容]\n\n                   推奨理由: 予算内で最適な設計ができる\n                   考慮事項: コスト制約を考慮した設計が必要\n\n                B) **おおよその目安あり** ⭐⭐⭐⭐\n                   - 月額目安: [金額]円程度\n                   - 多少の超過は許容\n\n                   推奨理由: 柔軟な設計が可能\n                   考慮事項: コスト最適化の優先度を確認\n\n                C) **予算制約なし（品質優先）** ⭐⭐⭐\n                   - 可用性・パフォーマンスを最優先\n                   - コストは二の次\n\n                   推奨理由: 最高品質の運用設計が可能\n                   考慮事項: コスト効率の観点も提案する\n\n                D) **未定（今後決定）** ⭐⭐\n                   - まず運用設計を作成してから予算を決める\n                   - 複数パターンの提示を希望\n\n                   推奨理由: 選択肢を持てる\n                   考慮事項: 複数プランの作成が必要\n\n                Q2: コストと品質のトレードオフについて\n\n                可用性目標とコストはトレードオフの関係にあります。\n                どちらを優先しますか？\n\n                A) **品質優先（高可用性）** ⭐⭐⭐⭐⭐\n                   - 99.99%以上の可用性を目指す\n                   - コストが高くなっても許容\n\n                B) **バランス重視** ⭐⭐⭐⭐\n                   - 99.9%程度の可用性で十分\n                   - コストとのバランスを重視\n\n                C) **コスト優先** ⭐⭐⭐\n                   - 最低限の可用性でコストを抑える\n                   - ダウンタイムは許容範囲\n\n                【スケジュールについて】\n                Q3: 運用開始の期限はありますか？\n\n                - 運用開始予定日: [YYYY-MM-DD]\n                - 期限の厳格性: 絶対厳守/できれば守りたい/柔軟\n                - マイルストーン: [主要なマイルストーン]\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。\n\n                [Editツールで会話ログに記録]\n\n                予算制約を考慮しつつ、最適な運用設計を提案させていただきます。\n                それでは、インフラパターンの選択に進みます。\n```\n\n**会話ログへの記録内容**:\n```markdown\n### [HH:MM] 予算・スケジュール制約の確認\n\n**予算情報**:\n- 月額予算: [金額]円 / おおよその目安: [金額]円 / 予算制約なし / 未定\n- コスト優先度: 品質優先/バランス重視/コスト優先\n\n**スケジュール情報**:\n- 運用開始予定日: [YYYY-MM-DD]\n- 期限の厳格性: [厳格性レベル]\n- マイルストーン: [リスト]\n\n**記録事項**:\n- 予算制約が運用設計に与える影響: [分析]\n- 次のアクション: インフラパターンの選択\n```\n\n#### ステップ0.5: インフラパターンの選択\n\n**【重要】運用設計書のテンプレートを選択するため、インフラパターンを確認すること**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                運用設計書を作成する前に、インフラのパターンを確認させてください。\n\n                システムのインフラ構成はどれに該当しますか？\n\n                A) **クラウドネイティブ / サーバレス / Kubernetes** ⭐⭐⭐⭐⭐\n                   - Lambda, Cloud Functions, Cloud Run等のサーバレス\n                   - EKS, GKE, AKS等のKubernetes環境\n                   - マネージドサービス中心の構成\n                   - コンテナベースのアプリケーション\n\n                   推奨理由: 最新のクラウドネイティブ技術を活用\n                   考慮事項: 責任共有モデル、クラウドサービスのSLA依存\n\n                B) **クラウドインスタンス / IaaS（LAMP等）** ⭐⭐⭐⭐\n                   - EC2、GCE、Azure VM等のクラウドインスタンス\n                   - オンプレミスからのLift & Shift\n                   - LAMP/LEMP等の従来型Web構成\n                   - 仮想マシンベースのアプリケーション\n\n                   推奨理由: オンプレミスと同様の運用が可能、クラウドの柔軟性も活用\n                   考慮事項: OS・ミドルウェア管理が必要、一部クラウドサービス制限あり\n\n                C) **オンプレミス** ⭐⭐⭐\n                   - 自社データセンター\n                   - コロケーション施設\n                   - 物理サーバー/VMware、Hyper-V等\n                   - 完全な自社管理インフラ\n\n                   推奨理由: 完全なコントロールが可能\n                   考慮事項: スケーリングリードタイム（2〜4ヶ月）、リソース保有コスト、\n                            全責任範囲の管理が必要\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。[選択されたパターン]に適した運用設計書テンプレートを使用します。\n\n                [選択されたパターンに応じたテンプレートを使用]\n                - A選択時: operations_design_template_cloud_native_ja.md\n                - B選択時: operations_design_template_cloud_instance_ja.md\n                - C選択時: operations_design_template_onpremise_ja.md\n\n                それでは、業界トレンド調査に進みます。\n```\n\n#### ステップ1: 業界トレンド調査\n\n```\nコンサルタント: 運用設計を開始する前に、対象業界の最新トレンドを調査させてください。\n\n                まず、サービスの業界分類を教えていただけますか？\n\n                A) Webサービス/SaaS\n                B) EC/マーケットプレイス\n                C) 金融サービス\n                D) メディア/コンテンツ配信\n                E) ヘルスケア\n                F) その他（具体的にお聞かせください）\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。[業界]の最新トレンドを調査します。\n                [WebSearchで調査実施]\n\n                調査が完了しました。以下のトレンドが確認できました。\n                [調査結果の提示]\n\n                [Editツールで会話ログに調査結果を記録]\n\n                調査結果を会話ログに記録しました。\n                これらのトレンドを踏まえて運用設計を進めていきます。\n```\n\n**会話ログへの記録内容**:\n```markdown\n### [HH:MM] 業界トレンド調査\n\n**調査対象業界**: [業界名]\n\n**調査結果**:\n1. [トレンド1]: [概要]\n2. [トレンド2]: [概要]\n3. [トレンド3]: [概要]\n\n**記録事項**:\n- 調査実施日: [YYYY-MM-DD]\n- 主要な技術トレンド: [リスト]\n- 本サービスへの適用候補: [リスト]\n- 次のアクション: サービス仕様のヒアリング開始\n```\n\n#### ステップ2: サービス仕様のヒアリング\n\n**【重要】以下のすべての質問はAskUserQuestionツールを使用して実施すること**\n\n**【重要】各質問と回答は会話ログに記録すること**\n\n**2-1. 既存ドキュメントの確認**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                サービス仕様について確認させてください。\n\n                既存のドキュメントはお持ちですか？\n                - システム設計書\n                - アーキテクチャ図\n                - 要件定義書\n                - その他の仕様書\n\n                お持ちの場合は共有していただけますか？\n\nユーザー: [回答]\n```\n\n**2-2. サービス基本情報の収集**\n\nドキュメントがない場合や不足がある場合:\n\n```\nコンサルタント: サービスの基本情報をヒアリングさせてください。\n\n【サービス概要】\nQ1. サービス名を教えてください\nQ2. サービスの目的は何ですか？（ユーザーにどのような価値を提供しますか？）\nQ3. 対象ユーザーは誰ですか？（一般消費者/企業/特定業界等）\nQ4. 想定ユーザー数はどれくらいですか？\n\n[1つずつ質問し、回答を記録]\n```\n\n**2-3. システム構成の収集**\n\n```\nコンサルタント: システム構成について教えてください。\n\n【システムアーキテクチャ】\nQ1. システムの主要コンポーネントは何ですか？\n    - フロントエンド\n    - バックエンド\n    - データベース\n    - その他\n\nQ2. 使用している技術スタックを教えてください\n    - プログラミング言語\n    - フレームワーク\n    - データベース\n    - インフラ（クラウド/オンプレミス）\n\nQ3. 外部サービスとの連携はありますか？\n    - 決済サービス\n    - 認証サービス\n    - その他のAPI連携\n\n[1つずつ質問し、回答を記録]\n```\n\n**2-4. 運用要件の収集**\n\n```\nコンサルタント: 運用に関する要件を確認させてください。\n\n【運用要件】\nQ1. 可用性の要件は？\n    A) 99.9%（月間約43分のダウンタイム許容）\n    B) 99.95%（月間約22分のダウンタイム許容）\n    C) 99.99%（月間約4分のダウンタイム許容）\n    D) その他\n\nQ2. サービス提供時間は？\n    A) 24時間365日\n    B) 平日のみ（営業時間）\n    C) その他\n\nQ3. 重要なセキュリティ要件やコンプライアンス要件はありますか？\n    - 個人情報の取り扱い\n    - 業界特有の規制\n    - 認証・認可の要件\n\n[1つずつ質問し、回答を記録]\n```\n\n**2-5. データ量とトラフィック特性の確認**\n\n**【重要】キャパシティ設計、オートスケーリング設計、コスト試算に直結する情報**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                システムのデータ量とトラフィック特性を確認させてください。\n                これらはキャパシティ設計とコスト試算に必須の情報です。\n\n                【データ量について】\n                Q1: 想定データ量はどれくらいですか？\n\n                - 初期データ量: [XX] GB / TB\n                - 月間データ増加量: [XX] GB / TB\n                - 年間データ成長率: [XX]%\n                - 3年後の想定データ量: [XX] TB\n\n                Q2: トランザクション数はどれくらいですか？\n\n                - 平均リクエスト数: [XX]リクエスト/秒\n                - ピーク時リクエスト数: [XX]リクエスト/秒\n                - 平常時とピーク時の比率: [XX]倍\n\n                【トラフィックパターンについて】\n                Q3: トラフィックのパターンを教えてください\n\n                A) **時間帯による変動あり** ⭐⭐⭐⭐⭐\n                   - ピーク時間帯: [時間帯]\n                   - オフピーク時間帯: [時間帯]\n                   - ピーク時の負荷: 平常時の[XX]倍\n\n                   推奨理由: オートスケーリングで最適化可能\n                   考慮事項: スケーリング戦略の設計が必要\n\n                B) **曜日による変動あり** ⭐⭐⭐⭐\n                   - ピーク曜日: [曜日]\n                   - オフピーク曜日: [曜日]\n                   - 変動幅: [XX]倍\n\n                   推奨理由: 週次でのリソース調整が可能\n                   考慮事項: 週末のメンテナンス計画に影響\n\n                C) **季節性の変動あり** ⭐⭐⭐⭐\n                   - ピークシーズン: [時期]\n                   - オフシーズン: [時期]\n                   - 変動幅: [XX]倍\n\n                   推奨理由: 長期的なキャパシティ計画が可能\n                   考慮事項: 事前のキャパシティ増強が必要\n\n                D) **イベント・キャンペーンによる急激なスパイク** ⭐⭐⭐\n                   - 想定イベント: [内容]\n                   - スパイク時の負荷: 平常時の[XX]倍\n                   - 頻度: [頻度]\n\n                   推奨理由: イベント対応の計画が可能\n                   考慮事項: 急激なスケーリングへの対応が必須\n\n                E) **安定的（変動が少ない）** ⭐⭐⭐⭐\n                   - 時間帯・曜日による大きな変動なし\n                   - 緩やかな成長のみ\n\n                   推奨理由: 運用が容易、コスト予測が簡単\n                   考慮事項: 過剰なスケーリング機能は不要\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。\n\n                [Editツールで会話ログに記録]\n\n                データ量とトラフィック特性を考慮したキャパシティ設計を行います。\n```\n\n**会話ログへの記録内容**:\n```markdown\n### [HH:MM] データ量とトラフィック特性の確認\n\n**データ量**:\n- 初期データ量: [XX] GB/TB\n- 月間増加量: [XX] GB/TB\n- 年間成長率: [XX]%\n- 3年後想定: [XX] TB\n\n**トランザクション数**:\n- 平均: [XX]リクエスト/秒\n- ピーク: [XX]リクエスト/秒\n- 比率: [XX]倍\n\n**トラフィックパターン**:\n- パターン種別: [時間帯変動/曜日変動/季節性/イベントスパイク/安定]\n- ピーク時期・時間帯: [詳細]\n- 変動幅: [XX]倍\n\n**記録事項**:\n- キャパシティ設計への影響: [分析]\n- コスト試算への影響: [分析]\n- 次のアクション: 運用チームの体制とスキル確認\n```\n\n**2-6. 運用チームの体制とスキルレベルの確認**\n\n**【重要】運用チームのスキルに合わない技術を選定すると運用不可能になる**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                運用チームの体制とスキルレベルを確認させてください。\n                これは運用設計の実現可能性を判断するために必須です。\n\n                【運用体制について】\n                Q1: 運用チームの構成はどうなっていますか？\n\n                - 運用要員数: [XX]名\n                - 運用体制: 24時間365日対応可能/平日のみ/営業時間のみ\n                - オンコール体制: 構築可能/構築困難/不可\n                - シフト体制: 可能/不可\n\n                Q2: 開発チームとの連携体制は？\n\n                A) **DevOps体制（開発と運用が統合）** ⭐⭐⭐⭐⭐\n                   - 開発チームが運用も担当\n                   - CI/CD、Infrastructure as Codeを実践\n                   - オンコール体制も開発チームで対応\n\n                   推奨理由: 最新のSRE/DevOpsプラクティスを適用可能\n                   考慮事項: 高度な技術スキルが必要\n\n                B) **協力体制（開発と運用が協力）** ⭐⭐⭐⭐\n                   - 運用チームが日常運用を担当\n                   - 開発チームが技術サポート・障害対応支援\n                   - 定期的な情報共有会議あり\n\n                   推奨理由: バランスの良い体制\n                   考慮事項: コミュニケーションプロセスの設計が必要\n\n                C) **分離体制（開発と運用が別組織）** ⭐⭐⭐\n                   - 運用チームが完全に独立\n                   - 開発チームとの連携は限定的\n                   - 手順書ベースの運用\n\n                   推奨理由: 明確な責任分界\n                   考慮事項: 詳細な運用手順書が必須、自動化が困難\n\n                【技術スキルについて】\n                Q3: 運用チームの技術スキルレベルを教えてください\n\n                **クラウド運用経験**:\n                - AWS/GCP/Azure運用経験: あり（[X]年）/なし\n                - マネージドサービス活用経験: あり/なし\n                - インフラのコード化（Terraform等）: 経験あり/なし\n\n                **コンテナ・Kubernetes経験**:\n                - Docker運用経験: あり（[X]年）/なし\n                - Kubernetes運用経験: あり（[X]年）/なし\n                - Helm等のツール利用経験: あり/なし\n\n                **プログラミング・スクリプティング**:\n                - プログラミング能力: あり（言語: [XX]）/なし\n                - シェルスクリプト作成: 可能/基本的なもののみ/不可\n                - 自動化ツール（Ansible等）: 経験あり/なし\n\n                **監視・ログ分析**:\n                - 監視ツール使用経験: あり（[ツール名]）/なし\n                - ログ分析経験: あり/なし\n                - APM（Application Performance Monitoring）: 経験あり/なし\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。\n\n                [Editツールで会話ログに記録]\n\n                運用チームのスキルレベルを考慮した、実現可能な運用設計を行います。\n```\n\n**会話ログへの記録内容**:\n```markdown\n### [HH:MM] 運用チームの体制とスキルレベル確認\n\n**運用体制**:\n- 運用要員数: [XX]名\n- 運用時間: 24/365 / 平日のみ / 営業時間のみ\n- オンコール体制: 可能/困難/不可\n- 開発との連携: DevOps / 協力体制 / 分離体制\n\n**技術スキル**:\n- AWS/クラウド運用: [経験年数]\n- Kubernetes運用: [経験年数]\n- プログラミング: [言語リスト]\n- 監視ツール: [ツールリスト]\n- 自動化ツール: [ツールリスト]\n\n**記録事項**:\n- 実現可能な運用設計の制約: [分析]\n- スキルギャップと教育計画の必要性: [分析]\n- 次のアクション: 開発・運用の責任分界確認\n```\n\n**2-7. 開発・運用の責任分界の確認**\n\n**【重要】責任分界が不明確だと運用時にトラブルになる**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                開発チームと運用チームの責任分界を明確にさせてください。\n\n                【責任分界について】\n                以下の作業について、どちらが責任を持ちますか？\n\n                Q1: デプロイ作業の実施\n                A) 開発チームが実施\n                B) 運用チームが実施\n                C) 開発チームが作成したスクリプトを運用チームが実行\n                D) 完全自動化（承認のみ人手）\n\n                Q2: アプリケーションログの分析\n                A) 開発チームが分析\n                B) 運用チームが分析\n                C) 運用チームが一次分析、開発チームが詳細分析\n\n                Q3: インフラ変更（スケーリング、設定変更等）\n                A) 開発チームが実施\n                B) 運用チームが実施\n                C) 協議の上、ケースバイケース\n\n                Q4: 障害対応（アプリケーション起因）\n                A) 開発チームが対応\n                B) 運用チームが対応（必要に応じて開発にエスカレーション）\n                C) 運用チームが一次対応、開発チームが二次対応\n\n                Q5: 障害対応（インフラ起因）\n                A) 開発チームが対応\n                B) 運用チームが対応\n                C) 協議の上、ケースバイケース\n\n                Q6: パフォーマンスチューニング\n                A) 開発チームが実施\n                B) 運用チームが実施\n                C) 協力して実施\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。\n\n                [Editツールで会話ログに記録]\n\n                責任分界を明確にした運用設計を行います。\n```\n\n**会話ログへの記録内容**:\n```markdown\n### [HH:MM] 開発・運用の責任分界確認\n\n**責任分界（RACI）**:\n- デプロイ実施: [開発/運用/協力/自動化]\n- ログ分析: [開発/運用/協力]\n- インフラ変更: [開発/運用/協議]\n- 障害対応（アプリ起因）: [開発/運用/協力]\n- 障害対応（インフラ起因）: [開発/運用/協議]\n- パフォーマンスチューニング: [開発/運用/協力]\n\n**記録事項**:\n- 運用設計書のRACI定義に反映: [内容]\n- 次のアクション: 外部連携先のSLA確認\n```\n\n**2-8. 外部連携先のSLAと依存関係の確認**\n\n**【重要】外部サービスのSLAが自システムのSLO上限を決める**\n\n```\nコンサルタント: （AskUserQuestionツールを使用）\n                外部サービスとの連携について詳しく確認させてください。\n\n                【外部連携の詳細】\n                先ほど確認した外部サービス連携について、\n                各サービスの詳細を教えてください。\n\n                各外部サービスについて：\n\n                Q1: サービス名と提供元\n                - サービス名: [サービス名]\n                - 提供元: [会社名]\n\n                Q2: SLA（サービスレベル合意）の有無\n                - SLA契約: あり/なし\n                - 保証可用性: [XX.XX]%\n                - SLA未達時の補償: あり/なし\n\n                Q3: ダウン時の影響と対応\n                - 外部サービスがダウンした場合の自システムへの影響:\n                  A) サービス全停止（致命的）\n                  B) 主要機能が停止（重大）\n                  C) 一部機能が停止（中程度）\n                  D) 影響なし（代替手段あり）\n\n                - ダウン時の自システムの動作:\n                  A) エラーを返す\n                  B) リトライする（回数: [XX]回、間隔: [XX]秒）\n                  C) フォールバック処理を実行\n                  D) キューに溜めて後で処理\n\n                Q4: レスポンスタイム要件\n                - 外部サービスの想定レスポンスタイム: [XX]ms/秒\n                - タイムアウト設定: [XX]秒\n                - タイムアウト時の処理: [処理内容]\n\n                Q5: API制限（レートリミット）\n                - リクエスト数制限: [XX]リクエスト/秒、[XX]リクエスト/日\n                - 制限超過時の動作: エラー/スロットリング/キューイング\n\n                [外部サービスごとに上記を繰り返し質問]\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。\n\n                [Editツールで会話ログに記録]\n\n                外部サービスの依存関係を考慮したSLO設計を行います。\n\n                これでサービス仕様のヒアリングは完了しました。\n                次に、運用設計書の作成に進みます。\n```\n\n**会話ログへの記録内容**:\n```markdown\n### [HH:MM] 外部連携先のSLAと依存関係確認\n\n**外部サービス一覧**:\n\n1. [サービス名1]:\n   - 提供元: [会社名]\n   - SLA: [XX.XX]%\n   - ダウン時の影響: 全停止/主要機能停止/一部停止/影響なし\n   - フォールバック戦略: [内容]\n   - レスポンスタイム: [XX]ms、タイムアウト: [XX]秒\n   - API制限: [XX]req/秒\n\n2. [サービス名2]:\n   - （同様の情報）\n\n**記録事項**:\n- 外部サービス依存によるSLO制約: [分析]\n- 複合SLAの計算: [計算結果]\n- フォールバック戦略の必要性: [分析]\n- 次のアクション: セキュリティ・コンプライアンス要件の詳細確認\n```\n\n**2-9. セキュリティ・コンプライアンス要件の詳細確認**\n\n**【重要】DevSecOpsの実装に必要な情報**\n\nセキュリティとコンプライアンスについて以下のカテゴリでヒアリングを実施：\n\n1. **コンプライアンス要件**: GDPR, PCI DSS, HIPAA, 金融規制\n2. **認証・認可要件**: MFA, SSO, RBAC, ABAC, パスワードポリシー\n3. **セキュリティ脅威対策**: SQLi, XSS, CSRF, DDoS, 不正アクセス\n4. **データ保護**: 暗号化（at rest/in transit）、KMS、シークレット管理\n5. **CI/CDセキュリティ**: SAST, SCA, コンテナスキャン, DAST, シークレットスキャン\n6. **監査ログ**: 記録対象、保持期間、改ざん防止\n\n**詳細な質問項目**: `hearing_items/2-9_security_compliance.md` を Readツールで参照し、プロジェクトの性質に応じて適切な質問を選択・実施。\n\n**会話ログ記録**: `guides/conversation_logging.md` の形式で、回答内容を会話ログに記録。\n\n#### ステップ3: 運用設計書の作成\n\n運用設計書を段階的に作成します。各セクション完成後、ユーザーに確認を取ります。\n\n**3-1. 概要セクションの作成**\n\n```\nコンサルタント: ヒアリング内容を基に、運用設計書の「概要」セクションを作成しました。\n\n[作成した内容を提示]\n\n内容を確認していただけますか？\n\n- 承認して次に進む\n- 修正が必要\n\nユーザー: [回答]\n```\n\n**3-2. 運用方針とSLO/SLIの作成**\n\n```\nコンサルタント: 次に、運用方針とSLO/SLIを定義します。\n\n調査した業界トレンドによると、[業界]では以下のような\nSLO設定が推奨されています：\n\n[トレンド調査結果に基づく推奨値]\n\n貴サービスの場合、以下のSLOを提案します：\n\n【提案するSLO】\n- 可用性: [値]\n- レスポンスタイム: [値]\n- エラーレート: [値]\n\nこの提案で問題ありませんか？\n調整が必要な項目があれば教えてください。\n\nユーザー: [回答]\n\nコンサルタント: 承知しました。[調整内容]を反映してSLOセクションを作成しました。\n\n[作成した内容を提示]\n\n内容を確認していただけますか？\n\nユーザー: [回答]\n```\n\n**3-3. その他のセクション作成**\n\n同様の形式で以下のセクションを順次作成:\n- 運用体制\n- 運用スケジュール\n- 定常運用作業\n- 監視・通知\n- インシデント管理\n- 変更管理\n- リリース管理\n- バックアップ・リカバリ\n- セキュリティ運用\n- その他\n\n各セクション完成後、必ずユーザーの確認と承認を得ます。\n\n#### ステップ4: 一貫性チェック\n\n全セクション完成後、一貫性をチェックします。\n\n```\nコンサルタント: 運用設計書の全セクションが完成しました。\n                内容の一貫性チェックを実施します。\n\n[チェック実施]\n\n【一貫性チェック結果】\n\n✅ 整合性が確認できた項目:\n1. SLO「可用性99.9%」に対して、適切な監視項目とアラート設定が定義されています\n2. インシデント対応時間がSLOのMTTR目標と整合しています\n3. 運用体制（24/365オンコール）とサービス提供時間（24時間365日）が整合しています\n\n⚠️ 確認が必要な項目:\n1. 変更管理の「通常変更」のリードタイム（3営業日）と、リリーススケジュールの\n   「週次リリース」の整合性について\n   → 週次リリースを実現するには、リードタイムの短縮が必要ではないでしょうか？\n\n2. バックアップのRPO（6時間）と、SLOで定義された「データ損失は許容しない」\n   という要件の整合性について\n   → RPOを短縮すべきか、SLO要件を調整すべきか、確認が必要です\n\nこれらの点について、どのように対応すべきか教えていただけますか？\n\nユーザー: [回答]\n\nコンサルタント: 承知しました。[調整内容]を反映して運用設計書を更新します。\n```\n\n#### ステップ5: 最終レビューと完成\n\n```\nコンサルタント: 一貫性チェックの結果を反映し、運用設計書を最終版にまとめました。\n\n【最終版の概要】\n- 全20セクション\n- SLO: [主要な目標値]\n- 運用体制: [体制概要]\n- 主要な運用プロセス: [プロセス概要]\n\n最終レビューをお願いします。\n承認いただければ、この運用設計書を正式版として保存します。\n\nユーザー: [回答]\n\nコンサルタント: ありがとうございます。\n                運用設計書を[保存先]に保存しました。\n```\n\n## ユーザーへの質問ガイドライン\n\n**【重要】質問時は必ずAskUserQuestionツールを使用すること**\n\n運用設計のコンサルティング過程で、以下のルールを厳守してください：\n\n### 必須ルール\n\n1. **質問が必要な場合は必ずAskUserQuestionツールを使用する**\n   - 通常のテキストでの質問は禁止\n   - すべての質問はAskUserQuestionツールで実施\n   - ユーザーに選択や判断を求める場合は必ずツールを使用\n\n2. **不明な点は積極的に質問する**\n   - 推測や推論で進めない\n   - 少しでも不明確な点があれば質問\n   - 情報不足のまま次に進まない\n\n3. **質問する時は常にAskUserQuestionツールを使って回答させる**\n   - ユーザーからの回答はツールを通じて取得\n   - 確実な回答を得るまで次のステップに進まない\n   - 回答が曖昧な場合は再質問\n\n4. **選択肢にはそれぞれ、推奨度と理由を提示する**\n   - 推奨度は⭐の5段階評価（⭐⭐⭐⭐⭐：最も推奨、⭐：推奨しない）\n   - 各選択肢に明確な理由と根拠を記載\n   - 根拠は業界調査結果やユーザーの明示的指示に基づく\n\n### 推奨度の評価基準\n\n**加点要素**:\n- ✅ **ユーザーから明示的な指示がある**: +1〜2⭐\n  - 例：「コスト最適化を重視したい」→ コスト効率の良い選択肢を加点\n- ✅ **業界トレンド調査により根拠が明確**: +1⭐\n  - 例：Web検索で「業界標準として広く採用されている」ことを確認\n- ✅ **サービス特性と整合性がある**: +1⭐\n  - 例：24/365サービスの場合、高可用性構成を加点\n\n**減点要素**:\n- ❌ **根拠が不明確**: -1⭐\n  - 例：「一般的には良い」程度の曖昧な理由\n- ❌ **推論や仮定が含まれる**: -2⭐\n  - 例：「おそらく〜だろう」「〜と思われる」などの推測ベース\n- ❌ **ユーザーの指示と矛盾する**: -2〜3⭐\n  - 例：「コスト削減したい」と言っているのに高コストの選択肢を推奨\n\n### 推奨度付き選択肢の例\n\n**良い例**：\n```\n可用性目標について確認させてください：\n\nA) 99.9%（月間ダウンタイム約43分） ⭐⭐⭐⭐\n   推奨理由：一般的なWebサービスの標準。コストと品質のバランスが良い\n   根拠：業界調査により、同種サービスの70%がこの水準を採用\n\nB) 99.95%（月間ダウンタイム約22分） ⭐⭐⭐⭐⭐\n   推奨理由：貴サービスが決済機能を含むため、より高い可用性を推奨\n   根拠：決済サービス業界標準（PCI DSS推奨レベル）\n\nC) 99.99%（月間ダウンタイム約4分） ⭐⭐\n   推奨理由：最高水準だがコストが2-3倍必要\n   根拠：金融サービス等のミッションクリティカルなシステム向け\n\nどれを選択しますか？\n```\n\n**使用場面**：\n- 技術スタックの選択\n- SLO目標値の設定\n- 運用体制の選択\n- バックアップ戦略の選択\n- デプロイメント方式の選択\n- 監視ツールの選択\n\n## 会話ログの管理\n\n**【重要】すべてのユーザーとの会話は会話ログファイルに記録すること**\n\n運用設計のコンサルティング過程で収集したすべての情報を会話ログファイルに記録し、コンテキストを失わないようにします。\n\n**ファイル名**: `[YYYY-MM-DD]-[サービス名]-conversation-log.md`\n\n**記録タイミング**:\n- 業界トレンド調査後\n- 各ヒアリング質問の後\n- 各セクション完成後\n- 一貫性チェック後\n- セッション終了時\n\n**詳細なガイド**: `guides/conversation_logging.md` を Readツールで参照し、会話ログの作成方法、記録フォーマット、活用方法を確認してください。\n\n## 運用設計書作成の原則\n\n### 1. 段階的な作成とユーザー確認\n\n**【重要】必ず段階的に作成し、各ステップでユーザー確認を取る**\n\n運用設計書は以下の順序で段階的に作成します：\n\n**作業の流れ**:\n\n1. **概要セクション**\n   - サービス概要、目的、対象範囲を記載\n   - 完成したら必ずユーザーに内容を確認\n   - ユーザーの承認を得てから次へ進む\n\n2. **業界トレンド分析セクション**\n   - 調査結果を基にトレンド分析を記載\n   - 完成したら必ずユーザーに内容を確認\n   - ユーザーの承認を得てから次へ進む\n\n3. **運用方針とSLO/SLIセクション**\n   - トレンド分析を基に運用方針とSLOを定義\n   - 完成したら必ずユーザーに内容を確認\n   - ユーザーの承認を得てから次へ進む\n\n4. **その他の運用セクション**\n   - 運用体制、監視、インシデント管理等を順次作成\n   - 各セクション完成後にユーザー確認\n   - 承認を得てから次のセクションへ\n\n5. **一貫性チェック**\n   - 全セクション完成後に矛盾をチェック\n   - 問題があれば修正提案\n   - ユーザーの承認を得て完了\n\n**確認の取り方**:\n\n各セクション完成時に以下のように確認を求めます：\n\n```\n[セクション名]の作成が完了しました。\n内容を確認していただけますか？\n\n[作成した内容を提示]\n\n- 承認して次に進む\n- 修正が必要\n\n修正が必要な場合は、どの部分をどのように修正すべきか教えてください。\n```\n\n### 2. 具体性と測定可能性\n\n運用設計書には具体的で測定可能な内容を記載します：\n\n**良い例**:\n- 可用性目標: 99.9%（月間ダウンタイム43分以内）\n- レスポンスタイム: P95で500ms以内\n- インシデント対応: P1は15分以内に対応開始\n\n**悪い例**:\n- 可用性目標: 高い可用性を維持する\n- レスポンスタイム: 速やかに応答する\n- インシデント対応: 迅速に対応する\n\n### 3. 推論の禁止\n\n**避けるべき表現**:\n- 「おそらく〜でしょう」\n- 「一般的には〜です」\n- 「〜と想定されます」\n- 「〜のようです」\n\n**推奨される表現**:\n- 「[情報源]によると〜です」\n- 「ユーザーから〜と確認しました」\n- 「業界調査の結果、〜であることが分かりました」\n- 「〜について確認させてください」\n\n## 制約事項\n\n### 実施しないこと\n\n以下の行為は実施しません:\n\n1. **推測や推論**\n   - 情報が不足している場合に推測しない\n   - 「おそらく」「たぶん」などの曖昧な判断をしない\n   - 必ず事実確認またはユーザーへの質問を行う\n\n2. **一方的な進行**\n   - ユーザーの確認なしに次のセクションに進まない\n   - 選択肢を提示せずに勝手に決定しない\n   - 重要な決定をユーザー不在で行わない\n\n3. **一貫性のない設計**\n   - セクション間で矛盾する内容を記載しない\n   - SLOと運用プロセスが整合しない設計をしない\n   - レビューを省略しない\n\n### 情報不足時の対応\n\n以下の場合は、作業を進めず、ユーザーに確認します:\n\n1. **サービス仕様が不明確**\n   - 「サービスの〜について情報が不足しています。確認させてください」\n   - 必要な情報をリストアップして質問\n\n2. **運用要件が未定義**\n   - 「運用要件の〜が未定義です。以下から選択していただけますか？」\n   - 選択肢を提示（推奨度付き）\n\n3. **矛盾する情報**\n   - 「〜と〜が矛盾しているようです。どちらが正しいか確認させてください」\n   - 矛盾箇所を明示して確認\n\n## ベストプラクティス\n\n### 1. トレンド調査の徹底\n\n運用設計を開始する前に必ず業界トレンドを調査します:\n- 対象業界の最新動向\n- 最新の技術トレンド\n- ITIL 4、SRE、DevOpsのベストプラクティス\n- セキュリティ・コンプライアンスの最新要件\n\n### 2. 段階的なヒアリング\n\nサービス仕様を段階的に収集します:\n- 既存ドキュメントの確認から開始\n- 基本情報→技術情報→運用要件の順で収集\n- 各段階で不明点を明確にする\n\n### 3. 一貫性の確保\n\n設計内容の一貫性を常にチェックします:\n- SLO/SLI/SLAの整合性\n- 運用体制と作業内容の整合性\n- 監視とインシデント対応の整合性\n- 変更管理とリリース管理の整合性\n\n### 4. 客観的なレビュー\n\n完成した運用設計書を客観的にレビューします:\n- 矛盾箇所の検出\n- 不明確な記述の洗い出し\n- 測定可能性の確認\n- 実現可能性の検証\n\n## リソース\n\n### assets/templates/\n\n**運用設計書テンプレート（インフラパターン別）**:\n- `operations_design_template_ja.md`: 汎用テンプレート（パターン未選択時）\n- `operations_design_template_cloud_native_ja.md`: クラウドネイティブ/サーバレス/Kubernetes対応\n- `operations_design_template_cloud_instance_ja.md`: クラウドインスタンス/IaaS対応（LAMP等）\n- `operations_design_template_onpremise_ja.md`: オンプレミス対応\n\n**その他のテンプレート**:\n- `conversation_log_template_ja.md`: 会話ログテンプレート\n\n### references/\n- `operations_design_guide_ja.md`: 運用設計の詳細ガイド\n- `industry_research_guide_ja.md`: 業界調査のガイドライン\n\n## 今後の拡張\n\nこのスキルは将来的に以下の機能を追加予定です:\n\n- 運用コスト試算機能\n- 運用成熟度評価機能\n- 既存運用設計のギャップ分析\n- 運用設計のテンプレートカスタマイズ\n- 複数サービスの統合運用設計\n",
        "report-summarizing/README.md": "# Report Summarizing スキル\n\n調査結果や分析レポートを、4層の情報階層（エグゼクティブサマリー→概要→詳細分析→Appendix）で整理・再構成するスキルです。\n\n## 概要\n\n長大なドキュメントを意思決定者向けに読みやすく構造化します。段階的な情報開示（Progressive Disclosure）により、読者が必要な深さまで情報を取得できます。\n\n## 主な機能\n\n- **4層の情報階層**: サマリー→概要→詳細→Appendixで段階的に情報を開示\n- **充実したエグゼクティブサマリー**: 結論（3-5行）、推奨事項、重要ポイント（各2-3行）\n- **概要セクション**: PROS/CONS表、課題/対策表で全体像を把握\n- **技術詳細の分離**: ソースコード修正案等はAppendixに配置\n- **Mermaidダイアグラム**: マインドマップ、フローチャート等で全体像を可視化\n- **内部リンク**: 各層間のナビゲーション\n- **GitHub/VSCode対応**: 直接レンダリング可能なMarkdown形式\n\n## 使用方法\n\n### 既存ドキュメントの変換\n\n```text\nこのドキュメントを4層構造のレポート形式に変換してください\n```\n\n### 新規レポートの作成\n\n```text\n調査結果をエグゼクティブサマリー形式でまとめてください\n```\n\n## ドキュメント構造（4層）\n\n```text\n# レポートタイトル\n\n## エグゼクティブサマリー（レベル1: 意思決定者向け）\n├── 結論（3〜5行: 推奨理由、効果、トレードオフを含む）\n├── 推奨事項（優先順位 + 理由）\n├── 重要ポイント（各2-3行 + 概要/詳細へのリンク）\n├── 全体像（Mermaidダイアグラム）\n└── ナビゲーション（レベル別リンク）\n\n## 概要（レベル2: 中間層）\n├── [トピック1]の概要\n│   ├── 要約（3-5行）\n│   ├── PROS/CONS表（各1行）\n│   ├── 課題/対策表（影響度付き）\n│   └── 詳細へのリンク\n├── [トピック2]の概要\n└── 比較サマリー\n\n## 詳細分析（レベル3: 本編）\n├── 背景と目的\n├── 調査範囲と方法\n├── [トピック]の詳細分析\n│   ├── PROS詳細\n│   ├── CONS詳細\n│   └── 課題と対策（実装方針、Appendix参照）\n├── リスク分析\n└── 次のステップ\n\n## Appendix（レベル4: 技術詳細）\n├── A. ソースコード修正案\n├── B. 技術仕様\n├── C. 用語集\n└── D. 参考文献\n```\n\n## 各層の役割\n\n| 層 | 対象読者 | 情報量 | 含める内容 |\n|---|---------|--------|----------|\n| サマリー | 意思決定者 | 1-2ページ | 結論、推奨理由、効果、トレードオフ |\n| 概要 | 関係者 | 各0.5-1ページ | PROS/CONS一覧、課題/対策要約 |\n| 詳細分析 | 実装担当者 | 必要に応じて | 詳細な分析、根拠、実装方針 |\n| Appendix | 開発者 | 必要に応じて | ソースコード、技術仕様 |\n\n## ファイル構成\n\n```text\nreport-summarizing/\n├── SKILL.md                           # スキル定義\n├── README.md                          # このファイル\n└── assets/\n    └── templates/\n        └── executive_summary_template_ja.md  # テンプレート\n```\n\n## ベストプラクティス\n\n1. **サマリーだけで判断可能に**: タイトルだけでなく2-3行の説明を含める\n2. **Progressive Disclosure**: 4層で段階的に情報を開示\n3. **技術詳細の分離**: ソースコードはAppendixへ\n4. **視覚的な情報提示**: ダイアグラム・表を積極活用\n5. **ナビゲーションの充実**: 概要と詳細の両方へリンク\n\n## 詳細情報\n\n詳細な使い方やガイドラインは [SKILL.md](SKILL.md) を参照してください。\n",
        "report-summarizing/SKILL.md": "---\nname: report-summarizing\ndescription: 調査結果や分析レポートを4層構造（エグゼクティブサマリー→概要→詳細→Appendix）で整理し、意思決定者向けに構造化します。レポート作成時や既存ドキュメントの再構成時に使用してください。\n---\n\n# レポート構造化スキル\n\n調査結果や分析レポートを、4層の情報階層（エグゼクティブサマリー→概要→詳細分析→Appendix）で整理・再構成します。読者が必要な深さまで段階的に情報を取得でき、意思決定を支援します。\n\n## 概要\n\nこのスキルは以下の機能を提供します:\n- 長大なドキュメントを4層構造（サマリー→概要→詳細→Appendix）に再構成\n- 段階的な情報開示（Progressive Disclosure）による読みやすさの向上\n- Mermaidダイアグラム（マインドマップ、フローチャート等）による全体像の可視化\n- 結論・推奨事項・重要ポイントを冒頭1〜2ページに要約（意思決定可能なレベルで）\n- PROS/CONS、課題/対策を概要セクションで表形式に整理\n- ソースコード修正案等の技術詳細はAppendixに分離\n- 詳細セクションへの内部リンクによるナビゲーション\n- GitHub/VSCodeで直接レンダリング可能なMarkdown形式\n\n## このスキルを使用する場面\n\n以下の状況でこのスキルを有効にしてください:\n\n### ドキュメント整理時\n- 調査結果が長大になり、全体像を把握しにくい場合\n- 意思決定者向けに要約が必要な場合\n- 技術調査の比較・関係性を可視化したい場合\n- 既存のMarkdownドキュメントを読みやすく再構成したい場合\n\n### レポート作成時\n- 新規に調査レポートを作成する場合\n- 複数の調査結果を統合してまとめる場合\n- チームへの共有用にドキュメントを整理する場合\n\n## 基本的な使い方\n\n### 既存ドキュメントの変換\n\n「このドキュメントをエグゼクティブサマリー形式に変換してください」などと依頼されたら:\n\n1. **ドキュメントの分析**\n   - 既存ドキュメントの構造を確認\n   - 主要なセクション、結論、重要ポイントを特定\n   - 関係性や依存関係を抽出\n\n2. **エグゼクティブサマリーの作成**\n   - 結論・推奨事項を1〜2ページに要約\n   - 重要ポイントを箇条書きで整理\n   - Mermaidダイアグラムで全体像を可視化\n   - 詳細セクションへのリンクを配置\n\n3. **本編の再構成**\n   - 論理的な順序でセクションを整理\n   - 各セクションにアンカーを設定\n   - サマリーからリンク可能な形式に整形\n\n4. **ユーザー確認**\n   - 変換結果を確認\n   - 必要に応じて調整\n\n### 新規レポートの作成\n\n「調査結果をレポートにまとめてください」などと依頼されたら:\n\n1. **情報の整理**\n   - 調査内容の確認\n   - 結論と推奨事項の特定\n   - 重要ポイントの抽出\n\n2. **テンプレートに基づくドキュメント作成**\n   - assets/templates/executive_summary_template_ja.mdを基に作成\n   - エグゼクティブサマリーから記述\n   - 本編を順次追加\n\n3. **ユーザー確認**\n   - 内容の確認\n   - 追加情報の有無を確認\n\n## ドキュメント構造\n\n### 4層の情報階層\n\n本スキルは以下の4層構造でドキュメントを整理します。読者が必要な深さまで段階的に情報を取得できるようにすることが目的です。\n\n```text\n┌─────────────────────────────────────────────────────────┐\n│ レベル1: エグゼクティブサマリー（1-2ページ）            │\n│ → 意思決定に必要な情報のみ。これだけで判断可能          │\n├─────────────────────────────────────────────────────────┤\n│ レベル2: 概要（各項目0.5-1ページ）                      │\n│ → PROS/CONS要約、主要課題と対策を表形式で              │\n├─────────────────────────────────────────────────────────┤\n│ レベル3: 詳細分析（本編）                               │\n│ → 詳細な分析、根拠データ、課題の詳細説明               │\n├─────────────────────────────────────────────────────────┤\n│ レベル4: Appendix（付録）                               │\n│ → ソースコード修正案、技術仕様、参考文献               │\n└─────────────────────────────────────────────────────────┘\n```\n\n### 各層の役割と情報量\n\n| 層 | 対象読者 | 情報量の目安 | 含める内容 | 含めない内容 |\n|---|---------|------------|----------|------------|\n| エグゼクティブサマリー | 意思決定者 | 1-2ページ | 結論、推奨理由、重要ポイント要約 | 詳細な分析、コード |\n| 概要 | プロジェクト関係者 | 各項目0.5-1ページ | PROS/CONS一覧、課題・対策の要約 | 詳細な説明、実装方法 |\n| 詳細分析 | 実装担当者 | 必要に応じて | 詳細な分析、根拠、対策の実装方針 | ソースコード修正案 |\n| Appendix | 開発者 | 必要に応じて | ソースコード、技術仕様、参考文献 | - |\n\n### 推奨される構成\n\n```markdown\n# [レポートタイトル]\n\n## エグゼクティブサマリー\n### 結論\n[3〜5行で結論 + 推奨理由 + 想定効果 + トレードオフ]\n\n### 推奨事項\n[表形式: 優先度 | アクション | 効果 | 理由]\n\n### 重要ポイント\n[各項目: タイトル + 2-3行の説明 + 概要/詳細へのリンク]\n\n### 全体像\n[Mermaidダイアグラム]\n\n### ナビゲーション\n[レベル別リンク一覧]\n\n---\n\n## 概要\n### [トピック1]の概要\n[要約 + PROS/CONS表 + 課題/対策表 + 詳細リンク]\n\n### [トピック2]の概要\n[同様]\n\n### 比較サマリー\n[選択肢比較表]\n\n---\n\n## 詳細分析\n### 背景と目的\n### 調査範囲と方法\n### [トピック1]の詳細分析\n[詳細な分析 + PROSの詳細 + CONSの詳細 + 課題対策の詳細]\n### リスク分析\n### 次のステップ\n\n---\n\n## Appendix\n### A. ソースコード修正案\n### B. 技術仕様\n### C. 用語集\n### D. 参考文献\n```\n\n## Mermaidダイアグラムの活用\n\n### 1. マインドマップ（全体構造の可視化）\n\n調査内容の構造や関係性を表現する場合:\n\n```mermaid\nmindmap\n  root((調査テーマ))\n    カテゴリA\n      項目A1\n      項目A2\n    カテゴリB\n      項目B1\n      項目B2\n    カテゴリC\n      項目C1\n```\n\n**使用場面**:\n- 調査範囲の全体像を示す\n- カテゴリ別の分類を可視化\n- 階層構造を表現\n\n### 2. フローチャート（プロセス・フローの可視化）\n\n意思決定フローや処理の流れを表現する場合:\n\n```mermaid\nflowchart TD\n    A[開始] --> B{条件判定}\n    B -->|はい| C[アクションA]\n    B -->|いいえ| D[アクションB]\n    C --> E[終了]\n    D --> E\n```\n\n**使用場面**:\n- 推奨アクションのフローを示す\n- 意思決定プロセスを可視化\n- 手順を明確化\n\n### 3. 比較図（オプション比較）\n\n複数の選択肢を比較する場合:\n\n```mermaid\nflowchart LR\n    subgraph オプションA\n        A1[利点1]\n        A2[利点2]\n    end\n    subgraph オプションB\n        B1[利点1]\n        B2[利点2]\n    end\n    subgraph オプションC\n        C1[利点1]\n        C2[利点2]\n    end\n```\n\n**使用場面**:\n- 技術選定の比較\n- アプローチの比較\n- コスト・効果の比較\n\n### 4. シーケンス図（インタラクションの可視化）\n\nコンポーネント間のやり取りを表現する場合:\n\n```mermaid\nsequenceDiagram\n    participant A as コンポーネントA\n    participant B as コンポーネントB\n    A->>B: リクエスト\n    B-->>A: レスポンス\n```\n\n**使用場面**:\n- システム間の連携を示す\n- API呼び出しの流れを表現\n- 処理シーケンスを可視化\n\n### 5. アーキテクチャ図（システム構成）\n\nシステム構成や技術スタックを表現する場合:\n\n```mermaid\ngraph TB\n    subgraph フロントエンド\n        FE[React/Next.js]\n    end\n    subgraph バックエンド\n        BE[API Server]\n        DB[(Database)]\n    end\n    FE --> BE\n    BE --> DB\n```\n\n**使用場面**:\n- システムアーキテクチャを示す\n- 技術スタックを可視化\n- インフラ構成を表現\n\n## エグゼクティブサマリーの書き方\n\n### 基本原則: サマリーだけで判断可能にする\n\nエグゼクティブサマリーは「詳細を読まなくても意思決定できる」レベルの情報を提供する。タイトルだけでなく、「なぜその結論に至ったか」「何がポイントか」を含める。\n\n### 1. 結論セクション\n\n**原則**:\n- **3〜5行で記載**（1-3文ではなく、より詳細に）\n- 「何を推奨するか」「なぜ推奨するか」「どの程度の効果か」「トレードオフは何か」を含める\n- 曖昧な表現を避け、具体的な数値やファクトを含める\n\n**良い例**:\n```markdown\n### 結論\n\n本調査の結果、**Next.js 14の採用**を推奨する。\n\n**推奨理由**:\n- App Routerにより初期読み込み時間が平均40%短縮される\n- Server Componentsによりバンドルサイズが30%削減可能\n- 既存のReactコンポーネントは段階的に移行可能（破壊的変更なし）\n\n**想定される効果**: パフォーマンス指標（LCP）が2.5秒→1.5秒に改善、SEOスコア15%向上\n\n**主なトレードオフ**: 移行に約2人月の工数が必要。一部のサードパーティライブラリは更新が必要。\n```\n\n**悪い例（タイトルのみ）**:\n```markdown\n### 結論\n\nNext.js 14の採用を推奨する。\n```\n→ 問題: なぜ推奨するのか、効果は何か、リスクは何かが分からない\n\n**悪い例（曖昧）**:\n```markdown\n### 結論\n\n調査の結果、いくつかの選択肢があることがわかりました。それぞれにメリット・デメリットがあり、状況に応じて選択することが重要です。\n```\n→ 問題: 何も決まっていない。読者に判断を丸投げしている\n\n### 2. 推奨事項セクション\n\n**原則**:\n- 優先順位を明示（P1/P2/P3または高/中/低）\n- 具体的なアクションを記載\n- 期限や担当を可能な範囲で示唆\n\n**良い例**:\n```markdown\n### 推奨事項\n\n| 優先度 | 推奨アクション | 期待効果 |\n|-------|--------------|---------|\n| P1（高） | Next.js 14へのマイグレーション計画を策定 | パフォーマンス30%向上 |\n| P2（中） | 既存コンポーネントのServer Components対応 | バンドルサイズ削減 |\n| P3（低） | テスト環境の整備 | 品質向上 |\n```\n\n### 3. 重要ポイントセクション\n\n**原則**:\n- 3〜5項目に絞る\n- **各項目は2〜3行の説明を含める**（タイトルだけでなく、内容が分かるレベルに）\n- 「概要」と「詳細」の両方へのリンクを提供し、段階的に深掘りできるようにする\n\n**良い例**:\n```markdown\n### 重要ポイント\n\n#### パフォーマンス向上\nServer Componentsの採用により、初期読み込み時間が平均40%短縮される。特にモバイル環境でのLCPが2.5秒から1.5秒に改善し、SEOスコアも15%向上する見込み。\n→ [概要](#パフォーマンスの概要) | [詳細](#パフォーマンスの詳細分析)\n\n#### 開発効率の改善\nApp Routerの新しいファイルベースルーティングにより、ルート定義が直感的になる。既存プロジェクトでのルーティングコードが約30%削減可能。\n→ [概要](#開発効率の概要) | [詳細](#開発効率の詳細分析)\n\n#### 移行の実現可能性\n既存のpagesディレクトリとApp Routerは共存可能。段階的な移行が可能で、一度に全てを移行する必要はない。リスクを最小化しながら進められる。\n→ [概要](#移行の概要) | [詳細](#移行の詳細分析)\n```\n\n**悪い例（タイトルのみ）**:\n```markdown\n### 重要ポイント\n\n- **パフォーマンス**: [詳細](#パフォーマンス分析)\n- **開発効率**: [詳細](#開発効率の改善)\n- **移行コスト**: [詳細](#移行戦略)\n```\n→ 問題: タイトルだけでは内容が分からず、詳細を読まないと判断できない\n\n### 4. 概要セクション（中間層）\n\n**役割**:\n- エグゼクティブサマリーと詳細分析の**橋渡し**\n- サマリーから飛んだ読者が、いきなり詳細に入らず段階的に情報を得られるようにする\n- PROS/CONS、課題/対策を**表形式で一覧化**し、俯瞰できるようにする\n\n**原則**:\n- 各トピックを3〜5行の要約 + 表形式で整理\n- PROS/CONSは1行ずつで簡潔に（詳細は本編に）\n- 課題と対策も1行ずつで整理し、影響度を明示\n- 詳細分析へのリンクを必ず設置\n\n**良い例**:\n```markdown\n### パフォーマンスの概要\n\n#### 要約\nServer Componentsの採用により、クライアントに送信されるJavaScriptが大幅に削減される。\n特に初期読み込み時のパフォーマンスが改善し、Core Web Vitalsのスコア向上が期待できる。\n既存のClient Componentsとの併用も可能。\n\n#### PROS / CONS\n\n| PROS | CONS |\n|------|------|\n| 初期読み込み時間が40%短縮 | Server側の負荷が増加 |\n| バンドルサイズが30%削減 | キャッシュ戦略の見直しが必要 |\n| SEOスコアが15%向上 | 学習コストが発生 |\n\n#### 主要課題と対策\n\n| 課題 | 影響 | 対策 |\n|-----|------|------|\n| Server負荷の増加 | 中 | CDNキャッシュの活用で軽減可能 |\n| streaming対応 | 低 | 段階的に対応、初期は不要 |\n\n→ [詳細分析を見る](#パフォーマンスの詳細分析)\n```\n\n### 5. 全体像セクション\n\n**原則**:\n- Mermaidダイアグラムで視覚化\n- 複雑な関係性を1つの図で表現\n- 図の下に簡潔な説明を追加\n\n**良い例**:\n```markdown\n### 全体像\n\n```mermaid\nmindmap\n  root((Next.js 14 移行))\n    メリット\n      パフォーマンス向上\n      開発効率改善\n      SEO最適化\n    考慮事項\n      移行コスト\n      学習コスト\n      依存ライブラリ\n    推奨アプローチ\n      段階的移行\n      パイロット導入\n      チーム教育\n```\n\n上図は、Next.js 14移行における主要な検討ポイントを示している。詳細は本編各セクションを参照。\n```\n\n## 技術的詳細の分離（ソースコード修正案等）\n\n### 原則: 技術的詳細はAppendixに分離する\n\nソースコード修正案、詳細な設定値、API仕様などの**技術的詳細**は本編から分離し、**Appendixに配置**する。\n\n**理由**:\n- 本編は「何をすべきか」「なぜそうすべきか」を説明する場所\n- ソースコードは「どう実装するか」の詳細であり、対象読者が限定される\n- 本編にコードが混在すると、読みにくく情報の乖離が大きくなる\n\n### 本編とAppendixの役割分担\n\n| 配置場所 | 記載する内容 | 記載しない内容 |\n|---------|------------|--------------|\n| 本編（詳細分析） | 課題の説明、対策の方針、実装の方向性 | 具体的なコード、詳細な設定値 |\n| Appendix | ソースコード修正案、設定ファイル例、API定義 | 課題の説明（本編へリンク） |\n\n### 本編での参照方法\n\n本編で対策を説明する際は、Appendixへのリンクを設置する:\n\n```markdown\n#### 課題と対策（詳細）\n\n**課題1: N+1クエリ問題**\n- **問題の詳細**: 一覧取得時に関連データを個別に取得しており、レコード数に比例してクエリ数が増加\n- **影響範囲**: 商品一覧API、注文履歴API\n- **対策**: DataLoaderパターンを導入し、バッチ処理で一括取得\n- **実装方針**: GraphQL DataLoaderを使用。修正対象は2ファイル\n- **コード修正案**: [Appendix A.1参照](#a1-n1クエリ問題の修正案)\n```\n\n### Appendixでの記載方法\n\nAppendixでは、どの課題に対する修正案かを明記し、本編へのリンクを設置する:\n\n```markdown\n### Appendix A. ソースコード修正案\n\n#### A.1 N+1クエリ問題の修正案\n\n**関連セクション**: [課題1: N+1クエリ問題](#課題と対策詳細)\n**対象ファイル**: `src/loaders/productLoader.ts`\n\n// 修正前\nconst products = await Product.findAll();\nfor (const product of products) {\n  product.category = await Category.findById(product.categoryId);\n}\n\n// 修正後\nconst products = await Product.findAll();\nconst categoryIds = products.map(p => p.categoryId);\nconst categories = await Category.findByIds(categoryIds);\nconst categoryMap = new Map(categories.map(c => [c.id, c]));\nproducts.forEach(p => p.category = categoryMap.get(p.categoryId));\n\n**修正のポイント**:\n- 個別取得をバッチ取得に変更\n- Map構造でO(1)のルックアップを実現\n```\n\n## 内部リンクの活用\n\n### アンカーリンクの設定\n\n本編の各セクションにはアンカーを設定し、サマリーからリンク可能にします:\n\n**サマリー側**:\n```markdown\n詳細は[パフォーマンス分析](#パフォーマンス分析)を参照。\n```\n\n**本編側**:\n```markdown\n## パフォーマンス分析\n\n[詳細内容]\n```\n\n### ナビゲーションセクション\n\nサマリーの末尾に、本編へのナビゲーションを設置:\n\n```markdown\n### 詳細へのナビゲーション\n\n| セクション | 概要 |\n|-----------|------|\n| [1. 背景と目的](#背景と目的) | 調査の背景と目的 |\n| [2. 調査方法](#調査方法) | 調査手法と対象 |\n| [3. 調査結果](#調査結果) | 詳細な調査結果 |\n| [4. 分析と考察](#分析と考察) | 結果の分析 |\n| [5. リスク分析](#リスク分析) | 想定されるリスク |\n| [Appendix](#appendix) | 補足資料 |\n```\n\n## ワークフロー\n\n### 既存ドキュメントの変換フロー\n\n```text\n1. ドキュメントの読み込み\n   - 既存ドキュメントの構造を分析\n   - 主要セクション、結論を特定\n   - PROS/CONS、課題、対策、コード修正案を識別\n   ↓\n2. 情報の抽出と分類\n   - 結論と推奨事項を抽出\n   - 重要ポイントをリストアップ\n   - 情報を4層に分類:\n     * サマリー向け（結論、推奨理由、効果）\n     * 概要向け（PROS/CONS一覧、課題/対策要約）\n     * 詳細分析向け（詳細な説明、根拠データ）\n     * Appendix向け（ソースコード、技術仕様）\n   ↓\n3. エグゼクティブサマリーの作成\n   - 結論セクション（3-5行で理由・効果・トレードオフを含む）\n   - 推奨事項（表形式、理由列を追加）\n   - 重要ポイント（各項目2-3行の説明 + 概要/詳細へのリンク）\n   - Mermaidダイアグラムを作成\n   - レベル別ナビゲーションを設置\n   ↓\n4. 概要セクションの作成\n   - 各トピックの要約（3-5行）\n   - PROS/CONS表（1行ずつ）\n   - 課題/対策表（影響度付き）\n   - 詳細分析へのリンク\n   ↓\n5. 詳細分析の再構成\n   - 論理的な順序で整理\n   - PROS/CONSの詳細説明\n   - 課題と対策の詳細（コードはAppendix参照）\n   - アンカーを設定\n   ↓\n6. Appendixの作成\n   - ソースコード修正案（本編へのリンク付き）\n   - 技術仕様\n   - 用語集、参考文献\n   ↓\n7. ユーザー確認\n   - 変換結果を確認\n   - 情報の階層が適切か確認\n   - フィードバックに基づき調整\n```\n\n### 新規レポート作成フロー\n\n```text\n1. 情報のヒアリング\n   - 調査内容の確認\n   - 結論・推奨事項の確認\n   - 重要ポイントの確認\n   - PROS/CONS、課題、対策の確認\n   ↓\n2. 構成の設計\n   - 4層構造の各層に含める内容を決定\n   - ダイアグラムの種類を選択\n   - ソースコード修正案の有無を確認（あればAppendix行き）\n   ↓\n3. ドキュメント作成（上から下へ）\n   - テンプレートを基に作成\n   - エグゼクティブサマリー（結論を3-5行で、重要ポイントも2-3行ずつ）\n   - 概要セクション（PROS/CONS表、課題/対策表）\n   - 詳細分析（詳細な説明、コードはAppendix参照）\n   - Appendix（ソースコード、技術仕様）\n   ↓\n4. 階層間の整合性チェック\n   - サマリーだけで判断可能か確認\n   - 概要で全体像が把握できるか確認\n   - 詳細への誘導が適切か確認\n   ↓\n5. レビューと調整\n   - 内容の確認\n   - 必要に応じて調整\n```\n\n## ユーザーとの対話ガイドライン\n\n### 1. 変換時の確認事項\n\n既存ドキュメントを変換する際は、以下を確認します:\n\n```text\nドキュメントの変換について確認させてください：\n\n1. 最も重要な結論は何ですか？\n2. 推奨事項の優先順位はどうしますか？\n3. 特に強調したいポイントはありますか？\n4. 本編のセクション構成は現状のままで良いですか？\n```\n\n### 2. ダイアグラムの選択\n\n全体像を可視化する際は、適切なダイアグラム形式を提案します:\n\n```text\n全体像の可視化について確認させてください：\n\nA) マインドマップ - 階層構造や関係性を表現\nB) フローチャート - プロセスや意思決定フローを表現\nC) 比較図 - 複数選択肢の比較を表現\nD) その他 - 具体的に教えてください\n\nどの形式が適切ですか？\n```\n\n### 3. 詳細レベルの調整\n\nサマリーの詳細レベルを確認します:\n\n```text\nエグゼクティブサマリーの詳細レベルについて：\n\nA) 超簡潔（半ページ程度）- 結論と推奨のみ\nB) 標準（1ページ程度）- 結論、推奨、重要ポイント\nC) 詳細（2ページ程度）- 上記 + 背景・リスクの要約\n\nどのレベルが適切ですか？\n```\n\n## 検証チェックリスト\n\n変換・作成後は以下を確認:\n\n### エグゼクティブサマリー（レベル1）\n- [ ] 結論が3〜5行で記載されている（推奨理由、効果、トレードオフを含む）\n- [ ] 推奨事項に優先順位と「理由」列が含まれている\n- [ ] 重要ポイントが3〜5項目あり、各項目2-3行の説明がある\n- [ ] 重要ポイントから「概要」と「詳細」の両方へリンクがある\n- [ ] Mermaidダイアグラムで全体像が可視化されている\n- [ ] **サマリーだけで意思決定可能な情報量がある**\n\n### 概要セクション（レベル2）\n- [ ] 各トピックに3-5行の要約がある\n- [ ] PROS/CONSが表形式で一覧化されている（各1行）\n- [ ] 課題/対策が表形式で整理されている（影響度付き）\n- [ ] 詳細分析へのリンクがある\n- [ ] **サマリーと詳細の橋渡しとして機能している**\n\n### 詳細分析（レベル3）\n- [ ] 論理的な順序でセクションが整理されている\n- [ ] PROS/CONSの詳細な説明がある\n- [ ] 課題と対策の詳細（実装方針まで）がある\n- [ ] ソースコードはAppendix参照になっている\n- [ ] 各セクションにアンカーが設定されている\n\n### Appendix（レベル4）\n- [ ] ソースコード修正案が本編から分離されている\n- [ ] 各修正案に「関連セクション」へのリンクがある\n- [ ] 技術仕様、用語集、参考文献が整理されている\n\n### 全体\n- [ ] GitHubでMermaidが正しくレンダリングされる\n- [ ] 内部リンクが正しく機能する\n- [ ] **4層の情報階層が適切に機能している**\n- [ ] **読者が必要な深さまで段階的に情報を取得できる**\n\n## ベストプラクティス\n\n### 1. 結論ファースト\n- 最も重要な情報を冒頭に配置\n- 詳細は後から参照できるようにリンク\n\n### 2. 視覚的な情報提示\n- Mermaidダイアグラムを積極的に活用\n- 表形式で比較情報を整理\n- 箇条書きで要点を明確化\n\n### 3. ナビゲーションの充実\n- サマリーから本編へのリンクを設置\n- 本編内でも関連セクションへのリンクを追加\n- 目次を活用\n\n### 4. 適切な粒度\n- サマリーは1〜2ページに収める\n- 本編は必要に応じて詳細に\n- 長すぎるセクションは分割を検討\n\n### 5. 曖昧さの排除\n- 「〜かもしれない」より「〜である」\n- 具体的な数値や根拠を示す\n- 推奨事項は明確なアクションとして記述\n\n## リソース\n\n### assets/templates/\n- `executive_summary_template_ja.md`: エグゼクティブサマリー形式のテンプレート\n\n## 今後の拡張\n\nこのスキルは将来的に以下の機能を追加予定です:\n\n- 英語版テンプレートの追加\n- PDFエクスポート対応\n- プレゼンテーション形式への変換\n- 複数ドキュメントの統合機能\n- バージョン管理・差分表示機能\n",
        "requirements-defining/SKILL.md": "---\nname: requirements-defining\ndescription: EARS記法を用いた要件定義書を作成・編集します。ユーザーストーリーの作成、受入基準の定義、非機能要件の整理が必要な場合に使用してください。\nversion: \"1.0.0\"\n---\n\n# 要件定義スキル\n\nEARS記法（Easy Approach to Requirements Syntax）を用いて、明確でテスト可能な要件定義書を作成します。\n\n## 概要\n\nこのスキルは、以下の成果物を作成・管理します：\n- **docs/requirements/index.md**: 要件一覧（目次）\n- **docs/requirements/stories/US-XXX.md**: ユーザーストーリー詳細\n- **docs/requirements/nfr/*.md**: 非機能要件（カテゴリ別）\n\n## ドキュメント構成\n\n```text\ndocs/requirements/\n├── index.md                 # 目次・概要・要件サマリ\n├── stories/\n│   ├── US-001.md           # ユーザーストーリー詳細\n│   ├── US-002.md\n│   └── ...\n└── nfr/\n    ├── performance.md      # 性能要件\n    ├── security.md         # セキュリティ要件\n    └── usability.md        # ユーザビリティ要件\n```\n\n## このスキルを使用する場面\n\n### 新規作成時\n- 新規プロジェクトで要件定義書が必要な場合\n- ユーザーストーリーを明確に定義したい場合\n- テスト可能な受入基準を作成したい場合\n- 非機能要件（性能、セキュリティ等）を整理したい場合\n\n### 既存ドキュメントの修正時\n- docs/requirements/に新しい要件を追加する場合\n- 既存の要件をEARS記法に変換・修正する場合\n- 要件のレビュー・改善が必要な場合\n\n## EARS記法ガイド\n\n### 基本パターン\n\n| パターン | 形式 | 使用場面 |\n|---------|------|----------|\n| 基本 | `システムは〜しなければならない` | 常時適用される要件 |\n| イベント | `〜の時、システムは〜しなければならない` | イベント駆動要件 |\n| 条件 | `もし〜ならば、システムは〜しなければならない` | 状態依存要件 |\n| 継続 | `〜の間、システムは〜しなければならない` | 継続的要件 |\n| 場所 | `〜において、システムは〜しなければならない` | コンテキスト固有要件 |\n\n### 要件の例\n\n```markdown\n- REQ-001: ユーザーが「カートに追加」をクリックした時、システムは500ms以内に商品を追加しなければならない\n- REQ-002: カートが空の場合、システムは「カートは空です」と表示しなければならない\n- REQ-003: 決済処理中、システムは進捗インジケーターを表示しなければならない\n- NFR-001: システムは性能劣化なしに1000人の同時ユーザーを処理できなければならない\n```\n\n### 避けるべき表現\n\n| 避けるべき | 推奨 |\n|-----------|------|\n| 「〜すべきである」 | 「〜しなければならない」 |\n| 「〜することが望ましい」 | 「〜しなければならない」 |\n| 「高速に」「使いやすく」 | 具体的な数値（「2秒以内」「3クリック以内」） |\n| 複数の「しなければならない」 | 要件を分割 |\n\n## ワークフロー\n\n### 新規作成フロー\n\n1. **情報収集**: プロジェクトの目的、対象ユーザー、主要機能を確認\n2. **ディレクトリ作成**: `docs/requirements/stories/` と `docs/requirements/nfr/` を作成\n3. **index.md作成**: 目次テンプレートを使用して概要を記述\n4. **ユーザーストーリー作成**: 各ストーリーを `stories/US-XXX.md` として作成\n5. **非機能要件作成**: カテゴリ別に `nfr/*.md` を作成\n6. **index.md更新**: 作成した各ドキュメントへのリンクを追加\n7. **レビュー**: チェックリストで品質確認\n8. **ユーザー確認**: 承認を得て完了\n\n### ストーリー追加フロー\n\n1. **新規ファイル作成**: `stories/US-XXX.md` を作成\n2. **EARS記法で要件定義**: ユーザーストーリーテンプレートに従う\n3. **index.md更新**: ストーリー一覧テーブルにリンクを追加\n4. **関連ドキュメント更新**: 関連する既存ストーリーに相互リンクを追加\n\n## 検証チェックリスト\n\n- [ ] ユーザーストーリーが明確に定義されている\n- [ ] すべての要件がEARS記法に従っている\n- [ ] 要件IDが一意である（REQ-XXX、NFR-XXX）\n- [ ] 各要件がテスト可能である\n- [ ] 非機能要件が含まれている\n- [ ] 曖昧な表現が排除されている\n\n## ユーザーとの対話ガイドライン\n\n### 情報分類プロセス\n\nユーザーの指示を受け取ったら、まず以下を分類：\n\n**明示された情報**:\n- ユーザーが明確に述べた要件、仕様、制約\n\n**不明な情報**:\n- ユーザーが言及していないが、要件定義に必要な情報\n- 「おそらく〜だろう」と推測が必要な項目\n\n### 確認が必要な場面\n\n- プロジェクトの種類や目的\n- 対象ユーザー\n- 主要な機能\n- 非機能要件の具体的な値（性能、セキュリティなど）\n- ユーザーストーリーの優先順位\n\n### 確認の形式\n\n```text\n要件定義の前に、以下の点を確認させてください：\n\n【明示された情報】\n- [ユーザーから明示的に指定された内容]\n\n【不明/要確認の情報】\n1. [項目1]: [選択肢A] / [選択肢B] / その他\n2. [項目2]: [具体的な質問]\n\n上記の不明点について教えていただけますか？\n```\n\n## 後続スキルとの連携\n\nrequirements.mdの作成完了後：\n- **software-designing**: requirements.mdを基に技術設計を行う\n- **task-planning**: 要件に基づきタスクを分解\n\n後続スキルで整合性の確認が行われます。\n\n## リソース\n\n### テンプレート\n- 目次テンプレート: `assets/templates/requirements_index_template_ja.md`\n- ユーザーストーリーテンプレート: `assets/templates/user_story_template_ja.md`\n- 非機能要件テンプレート: `assets/templates/nfr_template_ja.md`\n\n### リファレンス\n- EARS記法リファレンス: `references/ears_notation_ja.md`\n\n### 命名規則\n\n| ファイル種別 | 命名規則 | 例 |\n|-------------|---------|-----|\n| ユーザーストーリー | `US-XXX.md` | `US-001.md`, `US-002.md` |\n| 性能要件 | `performance.md` | - |\n| セキュリティ要件 | `security.md` | - |\n| ユーザビリティ要件 | `usability.md` | - |\n| 可用性要件 | `availability.md` | - |\n| 保守性要件 | `maintainability.md` | - |\n\n### リンク形式\n\nindex.mdから個別ファイルへのリンクは、マークダウン形式と`@`形式の両方を記載：\n\n```markdown\n| US-001 | タイトル | 高 | 承認済 | [詳細](stories/US-001.md) @stories/US-001.md |\n```\n\n- **マークダウン形式**: `[詳細](stories/US-001.md)` - GitHub等での閲覧用\n- **@形式**: `@stories/US-001.md` - Claude Codeがファイルを参照する際に使用\n",
        "sdd-document-management/SKILL.md": "---\nname: sdd-document-management\ndescription: SDDドキュメントのメンテナンス・整理を行うスキル。ドキュメント間の整合性チェック、実装との同期確認、完了タスクのアーカイブ、肥大化ファイルの最適化を提供します。すべての操作でユーザー承認を必須とします。\nversion: \"1.0.0\"\n---\n\n# SDDドキュメント管理スキル\n\nSDDワークフローで作成されたドキュメントのメンテナンス・整理を行い、ドキュメントの品質と一貫性を維持します。\n\n## 概要\n\n開発が進むにつれて発生する以下の問題を解決します：\n\n| 問題 | 解決機能 |\n|------|----------|\n| ドキュメント間の仕様矛盾 | 整合性チェック |\n| 実装とドキュメントの乖離 | 実装同期チェック |\n| 完了済みタスクの蓄積 | アーカイブ |\n| ファイルの肥大化 | ファイル最適化 |\n\n### スキル構成\n\n```text\nsdd-document-management\n├── 1. 整合性チェック (consistency-check)\n│   - requirements ↔ design ↔ tasks 間の矛盾検出\n│   - 変更履歴に基づく差分追跡\n│   - 矛盾箇所のレポート出力\n│\n├── 2. 実装同期チェック (sync-check)\n│   - 実装コードとドキュメントの乖離検出\n│   - API定義 vs 実装、DB設計 vs スキーマ等\n│   - 更新が必要な箇所のリストアップ\n│\n├── 3. アーカイブ (archive)\n│   - 完了済みタスク(DONE)のアーカイブ移動\n│   - 古い決定事項のアーカイブ\n│   - アーカイブディレクトリ構造の管理\n│\n└── 4. ファイル最適化 (optimize)\n    - 肥大化ファイルの分割提案\n    - 重複内容の統合提案\n    - 目次・インデックスの再生成\n```\n\n### 共通原則\n\n**すべての操作でユーザー承認を必須とする**\n\n```text\nチェック実行 → レポート出力 → ★ ユーザー承認 ★ → 修正/アーカイブ実行\n```\n\n## このスキルを使用する場面\n\n### 定期メンテナンス\n- 開発フェーズの区切りでドキュメント整理を行いたい場合\n- リリース前にドキュメントの品質を確認したい場合\n\n### 問題検知時\n- ドキュメント間に矛盾を発見した場合\n- 実装とドキュメントの不一致に気づいた場合\n- ファイルが大きくなりすぎて管理が難しい場合\n\n### タスク整理時\n- 完了済みタスクが蓄積してindex.mdが見づらくなった場合\n- 過去の決定事項を整理したい場合\n\n---\n\n## 機能1: 整合性チェック (consistency-check)\n\nrequirements、design、tasks間の矛盾や不整合を検出します。\n\n### チェック観点\n\n#### 1. 要件→設計の整合性\n\n| チェック項目 | 内容 |\n|-------------|------|\n| 要件カバレッジ | すべてのREQ-XXXに対応する設計要素があるか |\n| 過剰設計 | 要件にない機能が設計に含まれていないか |\n| 用語の一貫性 | 同じ概念に異なる用語が使われていないか |\n\n#### 2. 設計→タスクの整合性\n\n| チェック項目 | 内容 |\n|-------------|------|\n| 設計カバレッジ | すべての設計要素に対応するタスクがあるか |\n| タスク過不足 | 設計にない実装がタスクに含まれていないか |\n| 参照の正確性 | タスクが参照するコンポーネント/APIは定義されているか |\n\n#### 3. クロスリファレンス\n\n| チェック項目 | 内容 |\n|-------------|------|\n| ID参照 | REQ-XXX、DEC-XXX等の参照が有効か |\n| ファイル参照 | 参照先ファイルが存在するか |\n| ステータス整合 | 依存タスクのステータスが矛盾していないか |\n\n### 実行手順\n\n```text\n1. docs/requirements/ のすべてのREQ-XXX、US-XXXをリストアップ\n2. docs/design/ の設計要素と要件の対応を確認\n3. docs/tasks/ のタスクと設計の対応を確認\n4. 矛盾・不整合をレポートにまとめる\n5. ★ ユーザーに提示し承認を得る ★\n6. 承認された修正を実行\n```\n\n### レポート形式\n\n```markdown\n# 整合性チェックレポート\n\n## 実行日時\n[YYYY-MM-DD HH:MM]\n\n## サマリー\n\n| カテゴリ | 件数 |\n|---------|------|\n| 要件カバレッジ不足 | X件 |\n| 過剰設計 | X件 |\n| 参照エラー | X件 |\n| 用語不一致 | X件 |\n\n## 詳細\n\n### 要件カバレッジ不足\n\n| 要件ID | 要件内容 | 状態 |\n|--------|---------|------|\n| REQ-XXX | [要件の内容] | 設計なし |\n\n#### 推奨アクション\n- [ ] docs/design/に設計を追加\n- [ ] 要件を削除（不要な場合）\n\n### 過剰設計\n\n| 設計要素 | ファイル | 状態 |\n|---------|---------|------|\n| [コンポーネント名] | docs/design/components/xxx.md | 対応要件なし |\n\n#### 推奨アクション\n- [ ] docs/requirements/に要件を追加\n- [ ] 設計を削除（不要な場合）\n\n### 参照エラー\n\n| 参照元 | 参照ID | 状態 |\n|--------|-------|------|\n| docs/tasks/phase-1/TASK-001.md | REQ-999 | 存在しない |\n\n#### 推奨アクション\n- [ ] 参照IDを修正\n- [ ] 参照先を作成\n\n### 用語不一致\n\n| 用語A | 使用箇所A | 用語B | 使用箇所B |\n|-------|----------|-------|----------|\n| ユーザー | docs/requirements/stories/US-001.md | 利用者 | docs/design/components/auth.md |\n\n#### 推奨アクション\n- [ ] 用語を統一（どちらかに揃える）\n```\n\n### ユーザー承認フロー\n\n```text\n整合性チェックが完了しました。\n\n【検出された問題】\n- 要件カバレッジ不足: X件\n- 過剰設計: X件\n- 参照エラー: X件\n- 用語不一致: X件\n\n詳細レポートを確認し、以下の対応を選択してください：\n\nA) すべての推奨アクションを実行\nB) 問題ごとに個別に対応を選択\nC) 今回は修正せずレポートのみ保存\n```\n\n---\n\n## 機能2: 実装同期チェック (sync-check)\n\n実装コードとドキュメントの乖離を検出します。\n\n### チェック観点\n\n#### 1. API同期\n\n| チェック項目 | 比較対象 |\n|-------------|---------|\n| エンドポイント | docs/design/api/*.md vs 実装コード |\n| リクエスト/レスポンス | ドキュメント定義 vs 実際の型定義 |\n| HTTPメソッド | ドキュメント vs ルーティング |\n\n#### 2. データベース同期\n\n| チェック項目 | 比較対象 |\n|-------------|---------|\n| テーブル定義 | docs/design/database/*.md vs マイグレーション/スキーマ |\n| カラム定義 | ドキュメント vs 実際のスキーマ |\n| リレーション | ドキュメント vs 実際の外部キー |\n\n#### 3. コンポーネント同期\n\n| チェック項目 | 比較対象 |\n|-------------|---------|\n| インターフェース | docs/design/components/*.md vs 実装 |\n| 公開メソッド | ドキュメント vs 実際のエクスポート |\n| 依存関係 | ドキュメント vs import文 |\n\n### 実行手順\n\n```text\n1. docs/design/api/ のAPI定義を抽出\n2. 実装コードからルーティング・コントローラーを検出\n3. 定義と実装を比較し乖離を検出\n4. 同様にDB、コンポーネントもチェック\n5. 乖離レポートを作成\n6. ★ ユーザーに提示し承認を得る ★\n7. 承認された更新を実行\n```\n\n### 乖離の分類\n\n| 分類 | 説明 | 推奨アクション |\n|-----|------|---------------|\n| ドキュメント古い | 実装が先に変更された | ドキュメントを更新 |\n| 実装漏れ | ドキュメントにあるが実装がない | 実装を追加 or ドキュメントを削除 |\n| 未文書化 | 実装にあるがドキュメントがない | ドキュメントを追加 or 実装を削除 |\n\n### レポート形式\n\n```markdown\n# 実装同期チェックレポート\n\n## 実行日時\n[YYYY-MM-DD HH:MM]\n\n## サマリー\n\n| カテゴリ | 同期 | 乖離 |\n|---------|-----|------|\n| API | X件 | X件 |\n| データベース | X件 | X件 |\n| コンポーネント | X件 | X件 |\n\n## API乖離詳細\n\n### ドキュメントが古い\n\n| エンドポイント | ドキュメント | 実装 | 差異 |\n|---------------|-------------|------|-----|\n| POST /api/users | docs/design/api/users.md | src/routes/users.ts | レスポンスフィールド追加 |\n\n#### 詳細\n- ドキュメント定義:\n  ```json\n  { \"id\": \"string\", \"name\": \"string\" }\n  ```\n- 実装:\n  ```json\n  { \"id\": \"string\", \"name\": \"string\", \"createdAt\": \"string\" }\n  ```\n\n#### 推奨アクション\n- [ ] docs/design/api/users.mdを更新してcreatedAtを追加\n\n### 未文書化の実装\n\n| 実装 | ファイル | 説明 |\n|-----|---------|------|\n| DELETE /api/users/:id | src/routes/users.ts | ユーザー削除API |\n\n#### 推奨アクション\n- [ ] docs/design/api/users.mdに削除APIを追加\n- [ ] 不要な実装なら削除\n\n## データベース乖離詳細\n\n[同様の形式で記載]\n\n## コンポーネント乖離詳細\n\n[同様の形式で記載]\n```\n\n### ユーザー承認フロー\n\n```text\n実装同期チェックが完了しました。\n\n【検出された乖離】\n- API: X件\n- データベース: X件\n- コンポーネント: X件\n\n対応を選択してください：\n\nA) ドキュメントを実装に合わせて更新\nB) 実装をドキュメントに合わせて修正（タスク作成）\nC) 個別に対応を選択\nD) 今回は修正せずレポートのみ保存\n```\n\n---\n\n## 機能3: アーカイブ (archive)\n\n完了済みタスクや古い決定事項をアーカイブディレクトリに移動します。\n\n### アーカイブ対象\n\n| 対象 | 条件 | 移動先 |\n|-----|------|--------|\n| 完了タスク | ステータスがDONE | docs/archive/tasks/phase-N/ |\n| 古い決定事項 | 明示的に指定 or 一定期間経過 | docs/archive/decisions/ |\n| 古いトラブルシューティング | 修正完了から一定期間経過 | docs/archive/troubleshooting/ |\n\n### ディレクトリ構造\n\n```text\ndocs/\n├── requirements/\n├── design/\n├── tasks/\n├── troubleshooting/\n└── archive/                    # アーカイブ\n    ├── tasks/                  # 完了済みタスク\n    │   ├── phase-1/\n    │   │   ├── TASK-001.md\n    │   │   └── TASK-002.md\n    │   └── phase-2/\n    ├── decisions/              # 古い決定事項\n    │   └── DEC-001.md\n    └── troubleshooting/        # 完了した問題分析\n        └── 2024-01-15-login-bug/\n```\n\n### 実行手順\n\n```text\n1. docs/tasks/からステータスDONEのタスクを検出\n2. アーカイブ対象リストを作成\n3. ★ ユーザーに提示し承認を得る ★\n4. 承認されたファイルをdocs/archive/に移動\n5. 移動元のindex.mdを更新\n6. アーカイブのindex.mdを更新\n```\n\n### アーカイブ時の処理\n\n1. **ファイル移動**\n   - 元のディレクトリ構造を維持\n   - タイムスタンプをファイル名に付与（オプション）\n\n2. **インデックス更新**\n   - 移動元のindex.mdからエントリを削除\n   - アーカイブのindex.mdにエントリを追加\n\n3. **参照の保持**\n   - 他ドキュメントからの参照がある場合は警告\n   - 必要に応じてリンクを更新\n\n### レポート形式\n\n```markdown\n# アーカイブ対象レポート\n\n## 実行日時\n[YYYY-MM-DD HH:MM]\n\n## 完了済みタスク\n\n| タスクID | タスク名 | 完了日 | フェーズ |\n|---------|---------|--------|---------|\n| TASK-001 | ユーザー認証の実装 | 2024-01-10 | phase-1 |\n| TASK-002 | API設計の実装 | 2024-01-12 | phase-1 |\n\n### 移動先\n- docs/tasks/phase-1/TASK-001.md → docs/archive/tasks/phase-1/TASK-001.md\n- docs/tasks/phase-1/TASK-002.md → docs/archive/tasks/phase-1/TASK-002.md\n\n## 古い決定事項\n\n| 決定ID | 決定内容 | 決定日 |\n|--------|---------|--------|\n| DEC-001 | 認証方式の選定 | 2024-01-05 |\n\n### 移動先\n- docs/design/decisions/DEC-001.md → docs/archive/decisions/DEC-001.md\n\n## 参照確認\n\n以下のファイルがアーカイブ対象を参照しています：\n\n| 参照元 | 参照先 | 対応 |\n|--------|-------|------|\n| docs/design/components/auth.md | TASK-001 | リンク更新が必要 |\n```\n\n### ユーザー承認フロー\n\n```text\nアーカイブ対象を検出しました。\n\n【アーカイブ対象】\n- 完了済みタスク: X件\n- 古い決定事項: X件\n\n【参照への影響】\n- リンク更新が必要: X件\n\n対応を選択してください：\n\nA) すべてアーカイブ（リンクも自動更新）\nB) 個別に選択\nC) 今回はアーカイブしない\n```\n\n---\n\n## 機能4: ファイル最適化 (optimize)\n\n肥大化したファイルの分割や重複内容の統合を提案します。\n\n### 最適化観点\n\n#### 1. ファイルサイズ\n\n| 状態 | 基準 | アクション |\n|-----|------|-----------|\n| 正常 | 500行未満 | なし |\n| 注意 | 500-1000行 | 分割を検討 |\n| 要対応 | 1000行以上 | 分割を推奨 |\n\n#### 2. セクション数\n\n| 状態 | 基準 | アクション |\n|-----|------|-----------|\n| 正常 | 10セクション未満 | なし |\n| 注意 | 10-20セクション | 分割を検討 |\n| 要対応 | 20セクション以上 | 分割を推奨 |\n\n#### 3. 重複コンテンツ\n\n| 状態 | 基準 | アクション |\n|-----|------|-----------|\n| 軽微 | 類似度30%未満 | なし |\n| 注意 | 類似度30-50% | 統合を検討 |\n| 要対応 | 類似度50%以上 | 統合を推奨 |\n\n### 分割パターン\n\n#### パターンA: 機能別分割\n\n```text\nBefore:\n  docs/design/components/all-components.md (1500行)\n\nAfter:\n  docs/design/components/\n  ├── index.md (概要・目次)\n  ├── auth.md (認証関連)\n  ├── user.md (ユーザー管理)\n  └── notification.md (通知関連)\n```\n\n#### パターンB: フェーズ別分割\n\n```text\nBefore:\n  docs/tasks/all-tasks.md (2000行)\n\nAfter:\n  docs/tasks/\n  ├── index.md (概要・進捗サマリ)\n  ├── phase-1/ (フェーズ1タスク)\n  ├── phase-2/ (フェーズ2タスク)\n  └── phase-3/ (フェーズ3タスク)\n```\n\n### 実行手順\n\n```text\n1. docs/配下のすべてのMarkdownファイルを走査\n2. ファイルサイズ、セクション数を計測\n3. 重複コンテンツを検出\n4. 最適化提案レポートを作成\n5. ★ ユーザーに提示し承認を得る ★\n6. 承認された最適化を実行\n```\n\n### レポート形式\n\n```markdown\n# ファイル最適化レポート\n\n## 実行日時\n[YYYY-MM-DD HH:MM]\n\n## サマリー\n\n| カテゴリ | 正常 | 注意 | 要対応 |\n|---------|-----|------|--------|\n| サイズ超過 | X件 | X件 | X件 |\n| セクション過多 | X件 | X件 | X件 |\n| 重複コンテンツ | - | X件 | X件 |\n\n## 分割推奨ファイル\n\n### docs/design/components/auth.md\n\n| 項目 | 値 |\n|-----|-----|\n| 現在の行数 | 1,200行 |\n| セクション数 | 25 |\n| 状態 | 要対応 |\n\n#### 分割提案\n\n```text\ndocs/design/components/\n├── auth/\n│   ├── index.md (概要・目次)\n│   ├── authentication.md (認証処理)\n│   ├── authorization.md (認可処理)\n│   └── session.md (セッション管理)\n```\n\n#### 分割後の構成\n\n| ファイル | 内容 | 推定行数 |\n|---------|------|---------|\n| index.md | 概要、コンポーネント一覧 | 100行 |\n| authentication.md | ログイン、ログアウト、トークン管理 | 400行 |\n| authorization.md | 権限チェック、ロール管理 | 350行 |\n| session.md | セッション作成、更新、破棄 | 350行 |\n\n## 重複コンテンツ\n\n### 類似度: 65%\n\n| ファイルA | ファイルB |\n|----------|----------|\n| docs/requirements/stories/US-005.md | docs/design/components/user.md |\n\n#### 重複箇所\n- ユーザー属性の定義（両方に同じ内容）\n- バリデーションルール（両方に同じ内容）\n\n#### 推奨アクション\n- [ ] 共通定義をdocs/design/common/user-attributes.mdに抽出\n- [ ] 各ファイルから参照に変更\n\n## インデックス再生成\n\n以下のindex.mdが目次と実際のファイルで不一致があります：\n\n| ファイル | 問題 |\n|---------|------|\n| docs/tasks/index.md | 5件のタスクが目次にない |\n| docs/design/index.md | 2件の削除済みファイルが目次に残っている |\n```\n\n### ユーザー承認フロー\n\n```text\nファイル最適化分析が完了しました。\n\n【検出された問題】\n- 分割推奨: X件\n- 重複コンテンツ: X件\n- インデックス不整合: X件\n\n対応を選択してください：\n\nA) すべての最適化を実行\nB) 分割のみ実行\nC) インデックス再生成のみ実行\nD) 個別に選択\nE) 今回は実行せずレポートのみ保存\n```\n\n---\n\n## ユーザー対話ガイドライン\n\n### スキル起動時\n\n```text\nSDDドキュメント管理を開始します。\n\nどの機能を実行しますか？\n\n1. 整合性チェック - ドキュメント間の矛盾を検出\n2. 実装同期チェック - 実装とドキュメントの乖離を検出\n3. アーカイブ - 完了タスク・古い決定事項を整理\n4. ファイル最適化 - 肥大化ファイルの分割・重複統合\n5. フルスキャン - 上記すべてを実行\n```\n\n### 問題検出時\n\n```text\n[機能名]が完了しました。\n\n【検出結果サマリー】\n[サマリー表]\n\n詳細を確認しますか？\n- 詳細を表示する場合は「詳細」\n- 修正に進む場合は「修正」\n- スキップする場合は「スキップ」\n```\n\n### 修正実行前\n\n```text\n以下の修正を実行します：\n\n[修正内容リスト]\n\n実行してよろしいですか？（はい/いいえ）\n```\n\n### 修正完了時\n\n```text\n修正が完了しました。\n\n【実行結果】\n- 修正したファイル: X件\n- 移動したファイル: X件\n- 更新したインデックス: X件\n\n変更内容をコミットしますか？（はい/いいえ）\n```\n\n---\n\n## 成果物の保存\n\n### レポート保存先\n\n```text\ndocs/\n└── reports/                    # 管理レポート\n    ├── consistency/            # 整合性チェックレポート\n    │   └── [YYYY-MM-DD].md\n    ├── sync/                   # 実装同期チェックレポート\n    │   └── [YYYY-MM-DD].md\n    ├── archive/                # アーカイブレポート\n    │   └── [YYYY-MM-DD].md\n    └── optimize/               # 最適化レポート\n        └── [YYYY-MM-DD].md\n```\n\n### レポート保持期間\n\n- 直近10件のレポートを保持\n- 古いレポートは自動削除（オプション）\n\n---\n\n## SDDワークフローとの統合\n\n```text\nsdd-documentation\n    │\n    ├── requirements-defining → docs/requirements/\n    ├── software-designing   → docs/design/\n    ├── task-planning        → docs/tasks/\n    ├── task-executing       → 実装コード\n    ├── sdd-troubleshooting  → 問題分析・修正タスク\n    │\n    └── sdd-document-management → ドキュメント管理（このスキル）\n```\n\n### 推奨実行タイミング\n\n| タイミング | 推奨機能 |\n|-----------|---------|\n| フェーズ完了時 | アーカイブ、ファイル最適化 |\n| リリース前 | フルスキャン（すべての機能） |\n| 定期メンテナンス | 整合性チェック、実装同期チェック |\n| 仕様変更後 | 整合性チェック |\n| 大規模実装後 | 実装同期チェック |\n\n---\n\n## ベストプラクティス\n\n### 1. 定期的な実行\n\n- 週次または隔週で整合性チェックを実行\n- フェーズ完了ごとにアーカイブを実行\n- リリース前にフルスキャンを実行\n\n### 2. 小さな修正の積み重ね\n\n- 大量の問題を一度に修正しない\n- 優先度の高い問題から順に対応\n- 各修正後に動作確認\n\n### 3. 承認プロセスの遵守\n\n- 自動修正に頼らず必ずレポートを確認\n- 不明な点はユーザーに確認\n- 修正内容を記録に残す\n\n### 4. バックアップの確保\n\n- アーカイブ前にgit commitを確認\n- 大規模な最適化前にブランチを作成\n- 元に戻せる状態を維持\n\n---\n\n## リソース\n\n### リファレンス\n- 管理ガイドライン: `references/management_guide_ja.md`\n\n### テンプレート\n- 整合性チェックレポート: `assets/templates/consistency_report_template_ja.md`\n- 実装同期チェックレポート: `assets/templates/sync_report_template_ja.md`\n- アーカイブレポート: `assets/templates/archive_report_template_ja.md`\n- 最適化レポート: `assets/templates/optimize_report_template_ja.md`\n\n### 関連スキル\n- オーケストレーター: `sdd-documentation/SKILL.md`\n- 要件定義: `requirements-defining/SKILL.md`\n- 設計: `software-designing/SKILL.md`\n- タスク計画: `task-planning/SKILL.md`\n- タスク実行: `task-executing/SKILL.md`\n- トラブルシューティング: `sdd-troubleshooting/SKILL.md`\n",
        "sdd-documentation/SKILL.md": "---\nname: sdd-documentation\ndescription: ソフトウェア設計ドキュメント（SDD）を作成・管理・実装します。requirements/、design/、tasks/の作成から、タスク実行・逆順レビューまでの全工程を統括します。SDDワークフロー全体の管理が必要な場合に使用してください。\nversion: \"1.0.0\"\n---\n\n# SDD ドキュメンテーションスキル\n\nソフトウェア設計ドキュメント（SDD）の作成・管理・実装を統括するオーケストレータースキルです。\n\n## 概要\n\nこのスキルは、以下の6つのサブスキルを連携させて、要件定義から実装・メンテナンスまでの全工程を管理します：\n\n| サブスキル | 役割 | 成果物 |\n|-----------|------|--------|\n| **requirements-defining** | EARS記法による要件定義 | docs/requirements/ |\n| **software-designing** | 技術アーキテクチャ設計 | docs/design/ |\n| **task-planning** | AIエージェント向けタスク分解 | docs/tasks/ |\n| **task-executing** | タスク実行・逆順レビュー | 実装コード |\n| **sdd-troubleshooting** | 問題分析・修正方針策定 | docs/troubleshooting/, docs/tasks/ |\n| **sdd-document-management** | ドキュメント管理・メンテナンス | docs/archive/, docs/reports/ |\n\n## ドキュメント構成\n\n```text\ndocs/\n├── requirements/           # 要件定義\n│   ├── index.md           # 目次・概要\n│   ├── stories/US-XXX.md  # ユーザーストーリー詳細\n│   └── nfr/*.md           # 非機能要件\n├── design/                # 設計\n│   ├── index.md           # 目次・アーキテクチャ概要\n│   ├── components/*.md    # コンポーネント詳細\n│   ├── api/*.md           # API設計詳細\n│   ├── database/schema.md # データベーススキーマ\n│   └── decisions/DEC-XXX.md # 技術的決定事項\n├── tasks/                 # タスク管理\n│   ├── index.md           # 目次・進捗サマリ\n│   └── phase-N/TASK-XXX.md # タスク詳細\n├── troubleshooting/       # トラブルシューティング\n│   └── [YYYY-MM-DD]-[issue-name]/\n├── archive/               # アーカイブ（完了済み）\n│   ├── tasks/             # 完了済みタスク\n│   ├── decisions/         # 古い決定事項\n│   └── troubleshooting/   # 完了した問題分析\n└── reports/               # 管理レポート\n    ├── consistency/       # 整合性チェックレポート\n    ├── sync/              # 実装同期チェックレポート\n    ├── archive/           # アーカイブレポート\n    └── optimize/          # 最適化レポート\n```\n\n## このスキルを使用する場面\n\n### 一括初期化\n- 新規プロジェクトでSDDドキュメント一式が必要な場合\n\n### 全体管理\n- 3つのドキュメント間の整合性を確認したい場合\n- 逆順レビュー（タスク → 設計 → 要件）を実施したい場合\n\n### 実装フェーズ\n- docs/tasks/に沿って実装を行う場合\n- 実装後の逆順レビューが必要な場合\n\n### トラブルシューティング・デバッグ（必須）\n**以下の状況では、必ず`sdd-troubleshooting`サブスキルを使用してください：**\n\n- **テストエラー** - テストが失敗した場合（原因分析が必須）\n- **ビルドエラー** - コンパイルエラー、型エラーが発生した場合\n- **実行時エラー** - 例外、クラッシュ、異常終了が発生した場合\n- **動作不良** - 期待と異なる動作をしている場合\n- **バグ報告** - ユーザーからバグが報告された場合\n\n**重要**: 修正コードを書く前に、必ず根本原因を分析してください。推測に基づく修正は禁止です。\n\n### ドキュメント管理\n- ドキュメント間の矛盾を検出・解消したい場合\n- 実装とドキュメントの同期を確認したい場合\n- 完了済みタスクをアーカイブしたい場合\n- 肥大化したファイルを整理したい場合\n\n### 個別作業が必要な場合\n特定の工程のみ実施する場合は、各サブスキルを直接使用：\n- 要件定義のみ → `requirements-defining`\n- 設計のみ → `software-designing`\n- タスク計画のみ → `task-planning`\n- 実装のみ → `task-executing`\n- 問題分析のみ → `sdd-troubleshooting`\n- ドキュメント管理のみ → `sdd-document-management`\n\n## ワークフロー\n\n### 新規開発フロー\n\n```text\n1. 初期化 → docs/ディレクトリ構造を作成\n      ↓\n2. requirements-defining → docs/requirements/\n      ↓ ユーザー確認・承認\n3. software-designing → docs/design/\n      ↓ ユーザー確認・承認\n4. task-planning → docs/tasks/\n      ↓ ユーザー確認・承認\n5. ドキュメント逆順レビュー\n      ↓\n6. task-executing → 実装コード\n      ↓\n7. 実装逆順レビュー → 完了\n```\n\n### トラブルシューティングフロー（デバッグ・エラー修正時は必須）\n\n**エラーやバグに遭遇したら、このフローに従ってください。修正コードを先に書くことは禁止です。**\n\n```text\nエラー/バグ発生\n      ↓\n┌─────────────────────────────────────────────────┐\n│ ⚠️ 禁止: 推測で修正、原因不明のまま修正          │\n└─────────────────────────────────────────────────┘\n      ↓\n1. 問題事象の確認（エラーメッセージ、再現手順、期待動作）\n      ↓\n2. 根本原因の分析（コードを追跡して原因を特定）\n      ↓\n3. 仕様との照合（docs/requirements/, docs/design/）\n      ↓\n4. 修正方針の策定（どう直すか、影響範囲は）\n      ↓\n5. ★ ユーザー承認 ★（必須ゲート - 承認なしで実装禁止）\n      ↓\n6. タスク分割 → docs/tasks/に追加\n      ↓\n7. task-executing → 修正実装\n```\n\n## ドキュメント初期化\n\n「docsディレクトリを初期化してください」と依頼されたら：\n\n1. **ディレクトリ構造の作成**\n2. **requirements/index.md** - テンプレート: `requirements-defining/assets/templates/requirements_index_template_ja.md`\n3. **design/index.md** - テンプレート: `software-designing/assets/templates/design_index_template_ja.md`\n4. **tasks/index.md** - テンプレート: `task-planning/assets/templates/tasks_index_template_ja.md`\n\n## 逆順レビュープロセス\n\n```text\ndocs/tasks/ → docs/design/ → docs/requirements/\n```\n\n詳細なチェック項目は `references/checklist_ja.md` を参照。\n\n## EARS記法クイックリファレンス\n\n| パターン | 形式 | 使用場面 |\n|---------|------|----------|\n| 基本 | `システムは〜しなければならない` | 常時適用される要件 |\n| イベント | `〜の時、システムは〜しなければならない` | イベント駆動要件 |\n| 条件 | `もし〜ならば、システムは〜しなければならない` | 状態依存要件 |\n| 継続 | `〜の間、システムは〜しなければならない` | 継続的要件 |\n| 場所 | `〜において、システムは〜しなければならない` | コンテキスト固有要件 |\n\n## ユーザーとの対話ガイドライン\n\n### 情報分類プロセス\n\n1. **明示された情報**: ユーザーが明確に述べた要件、仕様、制約\n2. **不明な情報**: 推測が必要な項目（「おそらく〜」は不明として扱う）\n\n### 確認の形式\n\n```text\nドキュメント作成の前に、以下の点を確認させてください：\n\n【明示された情報】\n- [ユーザーから明示的に指定された内容]\n\n【不明/要確認の情報】\n1. [項目1]: [選択肢A] / [選択肢B] / その他\n2. [項目2]: [具体的な質問]\n\n上記の不明点について教えていただけますか？\n```\n\n## リソース\n\n### リファレンス\n- ワークフローガイド: `references/workflow_guide_ja.md`\n- 検証チェックリスト: `references/checklist_ja.md`\n\n### サブスキル\n- 要件定義: `requirements-defining/SKILL.md`\n- 設計: `software-designing/SKILL.md`\n- タスク計画: `task-planning/SKILL.md`\n- タスク実行: `task-executing/SKILL.md`\n- トラブルシューティング: `sdd-troubleshooting/SKILL.md`\n- ドキュメント管理: `sdd-document-management/SKILL.md`\n",
        "sdd-troubleshooting/SKILL.md": "---\nname: sdd-troubleshooting\ndescription: エラー・バグ・システム問題を体系的な根本原因分析で解決します。テストエラー、ビルドエラー、実行時例外、動作不良を分析し、仕様（要件定義・設計）と照合して修正方針を策定します。テスト失敗、ビルドエラー、実行時エラー、機能不良、バグ報告があった場合に使用してください。\nversion: \"1.0.0\"\n---\n\n# SDDトラブルシューティングスキル\n\nデバッグ・エラー修正・問題分析のための中核スキル。あらゆる問題に対して体系的に分析し、仕様に基づいた修正方針を策定します。\n\n## 重要な原則\n\n```text\n┌─────────────────────────────────────────────────────────────────┐\n│ エラー・バグ発生時の鉄則                                          │\n├─────────────────────────────────────────────────────────────────┤\n│ 1. 修正コードを書く前に、必ず根本原因を特定する                    │\n│ 2. 推測に基づく修正は禁止（「たぶんこれが原因」はNG）             │\n│ 3. 修正方針は必ずユーザー承認を得てから実装に進む                 │\n│ 4. 原因不明のまま「とりあえず動くように」は禁止                   │\n└─────────────────────────────────────────────────────────────────┘\n```\n\n## ワークフロー概要\n\n```text\nエラー/バグ発生\n      ↓\n1. 問題事象の確認（現象、再現手順、期待動作）\n      ↓\n2. 根本原因の分析（コードを追跡して原因を特定）\n      ↓\n3. 仕様との照合（docs/requirements/, docs/design/）\n      ↓\n4. 修正方針の策定（どう直すか、影響範囲は）\n      ↓\n5. ★ ユーザー承認 ★（必須ゲート - 承認なしで実装禁止）\n      ↓\n6. タスク分割 → docs/tasks/に追加\n```\n\n**詳細な分析手法**: [references/analysis_guide_ja.md](references/analysis_guide_ja.md)\n\n## このスキルを使用する場面\n\n**以下のいずれかに該当する場合は、このスキルを使用する。**\n\n### テスト・ビルドエラー時\n- テストが失敗した場合\n- ビルドエラー、コンパイルエラー、型エラー\n- lint/静的解析エラー\n- CI/CDパイプラインの失敗\n\n### 実行時エラー・例外発生時\n- 例外やエラーがスローされた場合\n- クラッシュ・異常終了\n- タイムアウト・ハング\n\n### デバッグ時\n- 期待と異なる動作をしている\n- データが正しく処理されない\n- 機能が動作しない\n\n### 問題報告時\n- ユーザーからの動作不良報告\n- バグや不具合の発見\n\n### 禁止パターン\n\n```text\n❌ エラーメッセージを見てなんとなく修正\n❌ とりあえずtry-catchで囲む\n❌ 似たエラーを以前直したから同じ修正\n❌ 検索で見つけた解決策をそのまま適用\n❌ 原因はわからないが動くようになった\n\n✅ このスキルで根本原因を特定 → 修正方針を承認 → 実装\n```\n\n## 各ステップの概要\n\n### ステップ1: 問題事象の確認\n\n収集する情報:\n\n| 項目 | 内容 |\n|-----|------|\n| 現象 | 何が起きているか |\n| 期待動作 | 本来どう動くべきか |\n| 再現手順 | どうすれば再現できるか |\n| 発生環境 | どの環境で起きるか |\n| エラー情報 | エラーメッセージ、ログ、スタックトレース |\n\n### ステップ2: 根本原因の分析\n\n1. 関連コードの特定（エラーメッセージ、スタックトレースから）\n2. コードフローの追跡（入力から出力まで）\n3. 原因の特定（なぜその問題が発生するか明確化）\n\n**分析テクニック**: [references/analysis_guide_ja.md](references/analysis_guide_ja.md)\n\n### ステップ3: 仕様との照合\n\n- **要件定義との照合**: docs/requirements/を参照\n- **設計との照合**: docs/design/を参照\n- **乖離の分類**:\n  - 実装バグ（仕様は正しいが実装が間違っている）\n  - 仕様バグ（仕様自体に問題がある）\n  - 仕様漏れ（仕様に記載がない）\n\n### ステップ4: 修正方針の策定\n\n検討項目:\n- 修正アプローチ（複数ある場合は比較）\n- 修正対象ファイル\n- 影響範囲\n- リスク評価\n- 仕様更新の要否\n\n### ステップ5: ユーザー承認（必須）\n\n**修正方針をユーザーに提示し、承認を得てから次に進む。**\n\n```text\n修正方針について承認をお願いします。\n\n【修正方針サマリー】\n- 問題: [問題の概要]\n- 原因: [原因の概要]\n- 修正内容: [修正の概要]\n- 影響範囲: [影響範囲の概要]\n\n上記の修正方針で進めてよろしいでしょうか？\n```\n\n### ステップ6: タスク分割\n\n- 適切な粒度（20-40分程度）\n- 1タスク1責務\n- 依存関係を明確化\n- docs/tasks/に追加\n\n**タスクテンプレート**: [assets/templates/bugfix_task_template_ja.md](assets/templates/bugfix_task_template_ja.md)\n\n## 成果物の保存\n\n```text\ndocs/troubleshooting/\n└── [YYYY-MM-DD]-[issue-name]/\n    └── analysis.md\n```\n\n**分析レポートテンプレート**: [assets/templates/analysis_report_template_ja.md](assets/templates/analysis_report_template_ja.md)\n\n## SDDワークフローとの統合\n\n```text\nsdd-documentation\n    ├── requirements-defining → docs/requirements/\n    ├── software-designing   → docs/design/\n    ├── task-planning        → docs/tasks/\n    ├── task-executing       → 実装コード\n    └── sdd-troubleshooting  → 問題分析・修正タスク（このスキル）\n```\n\n連携するドキュメント:\n- **参照**: docs/requirements/（仕様照合用）\n- **参照**: docs/design/（仕様照合用）\n- **更新**: docs/tasks/（修正タスク追加）\n- **作成**: docs/troubleshooting/（分析レポート）\n\n## リソース\n\n| リソース | 内容 |\n|---------|------|\n| [references/analysis_guide_ja.md](references/analysis_guide_ja.md) | 分析テクニック、問題分類、チェックリスト |\n| [assets/templates/analysis_report_template_ja.md](assets/templates/analysis_report_template_ja.md) | 分析レポートテンプレート |\n| [assets/templates/bugfix_task_template_ja.md](assets/templates/bugfix_task_template_ja.md) | バグ修正タスクテンプレート |\n",
        "software-designing/SKILL.md": "---\nname: software-designing\ndescription: 技術設計書を作成・編集します。アーキテクチャ設計、コンポーネント定義、API設計、データベーススキーマの文書化が必要な場合に使用してください。requirements/が存在する場合は整合性を確認します。\nversion: \"1.0.0\"\n---\n\n# 設計スキル\n\n技術アーキテクチャ、コンポーネント設計、API設計、データベーススキーマを文書化する設計書を作成します。\n\n## 概要\n\nこのスキルは、以下の成果物を作成・管理します：\n- **docs/design/index.md**: 設計概要（目次）\n- **docs/design/components/*.md**: コンポーネント詳細\n- **docs/design/api/*.md**: API設計詳細\n- **docs/design/database/schema.md**: データベーススキーマ\n- **docs/design/decisions/DEC-XXX.md**: 技術的決定事項\n\n## ドキュメント構成\n\n```text\ndocs/design/\n├── index.md                 # 目次・アーキテクチャ概要\n├── components/\n│   ├── component-a.md       # コンポーネント詳細\n│   └── component-b.md\n├── api/\n│   ├── users.md             # API設計詳細\n│   └── items.md\n├── database/\n│   └── schema.md            # データベーススキーマ\n└── decisions/\n    ├── DEC-001.md           # 技術的決定事項\n    └── DEC-002.md\n```\n\n## このスキルを使用する場面\n\n### 新規作成時\n- 技術アーキテクチャを文書化したい場合\n- コンポーネント設計を明確にしたい場合\n- API設計を定義したい場合\n- データベーススキーマを設計したい場合\n\n### 既存ドキュメントの修正時\n- docs/design/の設計内容を更新・変更する場合\n- 新しいコンポーネントを追加する場合\n\n## 前提条件\n\n### requirements/との連携\ndocs/requirements/が存在する場合：\n1. 要件を読み込み、設計との整合性を確認\n2. すべての要件（REQ-XXX）に対応する設計要素があるか確認\n3. 要件にない機能が設計に含まれていないか確認\n\n## 設計原則\n\n### コンポーネント設計\n1. **単一責任の原則**: 各コンポーネントは1つの明確な目的を持つ\n2. **疎結合**: コンポーネント間の依存関係を最小限に\n3. **高凝集**: 関連する機能を同じコンポーネントに\n4. **インターフェース定義**: 明確な入出力を定義\n\n### API設計\n- RESTful原則に従う\n- 適切なHTTPステータスコードを使用\n- バージョニング戦略を定義\n- エラーレスポンスの一貫性\n\n### データベース設計\n- 正規化と非正規化のバランス\n- インデックス戦略\n- トランザクション境界\n\n## ワークフロー\n\n1. **要件確認**: docs/requirements/が存在すれば内容を確認\n2. **情報分類**: 明示された情報と不明な情報を分類\n3. **不明点確認**: 必要な情報をユーザーに確認\n4. **ディレクトリ作成**: `docs/design/` 以下のサブディレクトリを作成\n5. **各ドキュメント作成**: テンプレートを使用\n6. **整合性確認**: requirements/との整合性をチェック\n7. **ユーザー確認**: 承認を得て完了\n\n## 検証チェックリスト\n\n- [ ] アーキテクチャ概要が記載されている\n- [ ] 主要コンポーネントが定義されている\n- [ ] 技術的決定事項と根拠が記載されている\n- [ ] 情報の明確性チェックが完了している\n- [ ] requirements/の全要件に対応する設計要素がある\n- [ ] CI/CD設計が含まれている\n- [ ] 品質基準が定義されている（カバレッジ80%、Linter、複雑性）\n\n## 要件との整合性チェック\n\ndocs/requirements/が存在する場合、以下を確認：\n\n| チェック項目 | 確認内容 |\n|-------------|---------|\n| 機能カバレッジ | すべての要件（REQ-XXX）に対応する設計要素があるか |\n| 非機能要件対応 | NFR-XXXの要件が設計に反映されているか |\n| 過剰設計チェック | requirements/にない機能が設計に含まれていないか |\n\n## ユーザーとの対話ガイドライン\n\n### 確認が必要な場面\n- アーキテクチャパターンの選択\n- 技術スタックの選定\n- データモデルの構造\n- 外部サービスとの連携方法\n\n### 推奨度付き選択肢の提示\n\n```text\n技術スタックについて確認させてください：\n\nA) Next.js + TypeScript\n   推奨理由：モダンで型安全、SSR/SSG対応\n\nB) React + JavaScript\n   推奨理由：シンプルで導入が容易\n\nどれを選択しますか？\n```\n\n## 後続スキルとの連携\n\ndocs/design/の作成完了後：\n- **task-planning**: design/を基にタスクを分解\n\ntask-planningスキルで逆順レビュー（タスク → 設計 → 要件）が行われます。\n\n## リソース\n\n### テンプレート\n- 目次テンプレート: `assets/templates/design_index_template_ja.md`\n- コンポーネントテンプレート: `assets/templates/component_template_ja.md`\n- APIテンプレート: `assets/templates/api_template_ja.md`\n- データベーステンプレート: `assets/templates/database_template_ja.md`\n- 技術的決定テンプレート: `assets/templates/decision_template_ja.md`\n\n### リファレンス\n- 設計パターン: `references/design_patterns_ja.md`\n- CI/CDガイド: `references/cicd_guide_ja.md`\n- EARS記法（要件参照用）: `references/ears_notation_ja.md`\n\n### 命名規則\n\n| ファイル種別 | 命名規則 | 例 |\n|-------------|---------|-----|\n| コンポーネント | ケバブケース | `user-service.md`, `auth-handler.md` |\n| API | リソース名 | `users.md`, `items.md` |\n| 技術的決定 | `DEC-XXX.md` | `DEC-001.md`, `DEC-002.md` |\n\n### リンク形式\n\nindex.mdから個別ファイルへのリンクは、マークダウン形式と`@`形式の両方を記載：\n\n```markdown\n| ComponentA | 目的 | [詳細](components/component-a.md) @components/component-a.md |\n```\n\n- **マークダウン形式**: `[詳細](components/component-a.md)` - GitHub等での閲覧用\n- **@形式**: `@components/component-a.md` - Claude Codeがファイルを参照する際に使用\n",
        "task-executing/README.md": "# Task Executor スキル\n\ndocs/tasks.mdに記載されたタスクを自動的に実行するClaude Codeスキルです。\n\n## 概要\n\nTask Executorスキルは、プロジェクトのdocs/tasks.mdファイルからタスクを読み取り、サブエージェントを使用して自動的に実装を行います。並列実行可能なタスクは並列で処理し、各タスク完了後に適切なコミットを作成します。\n\n## 主な機能\n\n- docs/tasks.mdからのタスク自動読み取り\n- サブエージェントを使用した自動実装\n- 並列実行可能なタスクの並列処理\n- タスクごとの自動コミット作成\n- 重要な変更前の安全なコミット作成\n- タスク完了時のtasks.md自動更新\n- 絵文字を使用しないクリーンなメッセージ\n\n## 使用方法\n\n### 基本的な使い方\n\n```\n次のタスクを実行してください\n```\n\nまたは\n\n```\ntasks.mdのタスクを進めてください\n```\n\n### 複数タスクの実行\n\n```\ntasks.mdのすべてのTODOタスクを実行してください\n```\n\n## タスクの実行フロー\n\n1. docs/tasks.mdを読み取り、TODO状態のタスクを特定\n2. 依存関係を確認し、実行可能なタスクを決定\n3. 並列実行可能なタスクをグループ化\n4. サブエージェントを起動してタスクを実行\n5. タスク完了後、コミットを作成\n6. tasks.mdを更新して完了をマーク\n7. 次のタスクへ進む\n\n## tasks.mdの形式\n\nこのスキルは、sdd-documentationスキルで作成されたtasks.mdファイルを想定しています：\n\n```markdown\n#### タスク1.1: ユーザー認証APIエンドポイントの実装\n\n**説明**:\n`src/api/auth.ts`に以下のエンドポイントを実装する：\n- POST /api/auth/login - ユーザーログイン処理\n- POST /api/auth/logout - ログアウト処理\n\n**技術的文脈**:\n- フレームワーク: Next.js 14\n- 認証: JWT + bcrypt\n\n**受入基準**:\n- [ ] login/logoutエンドポイントが実装されている\n- [ ] JWTトークンが正しく生成・検証される\n- [ ] すべてのテストが通過する\n\n**依存関係**: なし\n**推定工数**: 30分（AIエージェント作業時間）\n**ステータス**: `TODO`\n```\n\n## コミット管理\n\n### タスクごとのコミット\n\n各タスク完了後、以下の形式でコミットを作成します：\n\n```\n[Task 1.1] ユーザー認証APIエンドポイントの実装\n\nPOST /api/auth/login と POST /api/auth/logout エンドポイントを実装。\nJWTトークンを使用した認証方式を採用し、bcryptでパスワードをハッシュ化。\n\n関連: docs/tasks.md Task 1.1\n```\n\n### 重要な変更前のコミット\n\nアーキテクチャの大幅な変更や大規模なリファクタリングの前には、安全なポイントとしてコミットを作成します：\n\n```\n[Task 2.3] 認証システムリファクタリング前の安全なポイント\n\n大規模なリファクタリングを開始する前の安定した状態を保存。\n```\n\n## tasks.mdの更新\n\nタスク完了後、以下のように更新されます：\n\n```markdown\n#### タスク1.1: ユーザー認証APIエンドポイントの実装\n\n**説明**: [元の説明]\n**受入基準**: [元の受入基準]\n**ステータス**: `DONE`\n**完了サマリー**: login/logoutエンドポイントをJWT認証で実装、すべてのテスト通過\n```\n\n## 並列実行\n\n依存関係のないタスクは自動的に並列実行されます：\n\n```\n以下のタスクを並列実行します：\n\n- Task 1.1: ユーザー認証APIエンドポイントの実装\n- Task 1.2: データモデルの定義\n- Task 1.3: 設定ファイルの作成\n\n実行を開始してよろしいですか？\n```\n\n## 制約事項\n\n以下の場合は自動実行を行わず、ユーザーに確認を求めます：\n\n- タスクの説明が曖昧で、実装方法が複数考えられる場合\n- 本番環境への直接的な変更など、リスクの高い操作\n- 技術選択やアーキテクチャの決定が必要な場合\n\n## 絵文字の使用禁止\n\nこのスキルでは、すべてのメッセージ、コミットメッセージ、ドキュメント更新において絵文字を使用しません。クリーンで読みやすいテキストコミュニケーションを維持します。\n\n## ベストプラクティス\n\n### tasks.mdの作成\n\ntasks.mdは、sdd-documentationスキルを使用して作成することを推奨します：\n\n1. requirements.mdで要件を定義\n2. design.mdで設計を文書化\n3. tasks.mdでタスクに分解\n4. auto-executorスキルで実行\n\n### タスクの粒度\n\n各タスクは以下の粒度が推奨されます：\n- サブエージェント1回の実行で完了できる範囲\n- 20-90分程度の作業量\n- 明確な受入基準を持つ\n\n### 受入基準の具体化\n\n受入基準は検証可能な形で記載してください：\n```markdown\n**受入基準**:\n- [ ] 特定のファイルが存在する\n- [ ] すべてのテストが通過する\n- [ ] ESLintエラーがゼロ\n```\n\n## トラブルシューティング\n\n### タスクが並列実行されない\n\n**原因**: 依存関係が設定されている\n\n**解決**: tasks.mdの依存関係フィールドを確認し、不要な依存関係を削除\n\n### サブエージェントがタスクを完了できない\n\n**原因**: タスクの説明が不十分\n\n**解決**: tasks.mdのタスク説明を詳細化し、以下を含める：\n- 実装すべきファイルパス\n- 使用する技術やライブラリ\n- 具体的な実装手順\n- 技術的文脈\n\n## ライセンス\n\nこのスキルはMITライセンスの下で公開されています。\n",
        "task-executing/SKILL.md": "---\nname: task-executing\ndescription: docs/tasks/に記載されたタスクを実行し、実装を行います。タスクごとにステータス更新とコミットを作成し、実装完了後は逆順レビュー（実装→タスク→設計→要件）で整合性を確認します。SDDワークフローの実装フェーズで使用してください。\nversion: \"1.0.0\"\n---\n\n# タスク実行スキル\n\ndocs/tasks/に記載されたタスクを実行し、SDDワークフローに沿った実装を行います。\n\n## 概要\n\nこのスキルは、SDDワークフローの実装フェーズを担当します：\n\n```text\nrequirements-defining → software-designing → task-planning → task-executing\n   (requirements/)         (design/)           (tasks/)         (実装)\n```\n\n### 主な機能\n- docs/tasks/からタスクを読み取り、実行順序を決定\n- タスクごとのステータス更新（TODO → IN_PROGRESS → DONE）\n- 統一されたコミットテンプレートによるGit管理\n- 実装後の逆順レビュー（実装→タスク→設計→要件の整合性確認）\n- 並列実行可能なタスクの並列処理\n\n## このスキルを使用する場面\n\n### 実装フェーズ\n- docs/tasks/のタスクを実行する場合\n- SDDに沿った実装を行う場合\n- タスクの進捗を管理したい場合\n\n### SDDワークフロー統合\n- sdd-documentationスキルから呼び出される場合\n- 実装後の整合性確認が必要な場合\n\n## ワークフロー\n\n```text\n1. docs/tasks/index.md読み取り\n   ↓\n2. 実行可能なタスクを特定（TODO状態、依存関係解消済み）\n   ↓\n3. 個別タスクファイルを読み込み\n   ↓\n4. ステータスをIN_PROGRESSに更新・コミット\n   ↓\n5. サブエージェントで実装\n   ↓\n6. 受入基準の確認\n   ↓\n7. タスク完了前チェックリスト確認（該当カテゴリを提示）\n   ↓\n8. コミット作成（テンプレート使用）\n   ↓\n9. ステータスをDONEに更新・コミット\n   ↓\n10. 逆順レビュー\n   ↓\n11. 次のタスクへ（または完了）\n```\n\n## タスクステータス管理\n\n### ステータス遷移\n\n```text\nTODO → IN_PROGRESS → DONE\n         ↓\n      BLOCKED（問題発生時）\n```\n\n### 更新タイミング\n\n| タイミング | ステータス | アクション |\n|-----------|-----------|-----------|\n| タスク開始時 | `IN_PROGRESS` | タスクファイルとindex.mdを更新、コミット |\n| タスク完了時 | `DONE` | 完了サマリー追加、更新、コミット |\n| 問題発生時 | `BLOCKED` | ブロック理由を記載 |\n\n## タスク完了前チェックリスト\n\nタスクをDONEとしてマークする前に、タスク内容を分析して該当するカテゴリを特定し、以下のチェックリストで確認を行います。\n\n### チェックリストの適用ルール\n\n1. **タスク内容の分析**: タスクの説明・受入基準から該当カテゴリを特定\n2. **チェックリストの提示**: 該当するすべてのカテゴリのチェックリストを提示\n3. **確認の実施**: 各項目について確認したかをユーザーに問う\n4. **未確認項目の警告**: 未確認項目がある場合は警告を表示し、完了を保留\n\n### UI変更を含む場合\n\n以下の条件に該当するタスク:\n- フロントエンドコンポーネントの作成・修正\n- CSSやスタイルの変更\n- レイアウト関連の実装\n\n```text\n- [ ] 実際のブラウザで目視確認した\n- [ ] 配置先コンテキスト（サイドバー/モーダル/フルページ）でレイアウトを確認した\n- [ ] レスポンシブ対応が必要な場合、複数の画面幅で確認した\n```\n\n### 外部システム連携（Docker/Git等）を含む場合\n\n以下の条件に該当するタスク:\n- Docker/コンテナ関連の設定・実装\n- Git操作の自動化\n- 外部API/サービスとの連携\n- ファイルシステム操作\n\n```text\n- [ ] モックではなく実際のシステムで動作確認した\n- [ ] 権限・マウント設定の相互作用を確認した\n- [ ] エラー時のログ出力・ハンドリングを確認した\n```\n\n### データ操作を含む場合\n\n以下の条件に該当するタスク:\n- データベース操作\n- ファイル読み書き\n- リスト・配列の処理\n- ユーザー入力の処理\n\n```text\n- [ ] 空データ・null値での動作を確認した\n- [ ] 境界値（0件、1件、大量データ）での動作を確認した\n```\n\n### コンポーネント再利用・移動を含む場合\n\n以下の条件に該当するタスク:\n- 既存コンポーネントの別画面での利用\n- コンポーネントのリファクタリング\n- 共通コンポーネント化\n\n```text\n- [ ] 元のコンテキストと新しいコンテキストの違いを確認した\n- [ ] サイズ制約・親要素の影響を確認した\n```\n\n### リモートリポジトリが存在する場合\n\n以下の条件に該当するタスク:\n- リモートリポジトリへのプッシュを伴う実装\n- プルリクエストの作成・更新\n- CI/CDパイプラインの実行\n\n```text\n- [ ] テストカバレッジが80％以上である\n- [ ] lintでエラーが一切ない\n- [ ] PRチェックがすべてパスしている\n- [ ] nitsなどの軽微なレビュー指摘も含めて解消されており、追加指摘が一切ない\n- [ ] 選択したライブラリやツールを含めてセキュリティ上の指摘が一切ない\n```\n\n### チェックリスト確認の例\n\n```text\n【タスク完了前チェック】\n\nTask 1.3: ユーザー一覧コンポーネントのサイドバー対応\n\n該当カテゴリ:\n- UI変更を含む\n- コンポーネント再利用・移動を含む\n\nチェックリスト:\n[UI変更]\n- [ ] 実際のブラウザで目視確認した\n- [ ] 配置先コンテキスト（サイドバー）でレイアウトを確認した\n- [ ] レスポンシブ対応が必要な場合、複数の画面幅で確認した\n\n[コンポーネント再利用・移動]\n- [ ] 元のコンテキスト（フルページ）と新しいコンテキスト（サイドバー）の違いを確認した\n- [ ] サイズ制約・親要素の影響を確認した\n\n上記の項目を確認しましたか？未確認の項目があれば、確認後に完了としてください。\n```\n\n## 逆順レビュー\n\n### レビューの流れ\n\n```text\n実装 → docs/tasks/ → docs/design/ → docs/requirements/\n```\n\n### 主要チェック項目\n\n1. **実装 → タスク**: 受入基準達成、ファイル一致、テスト通過\n2. **タスク → 設計**: コンポーネント/API/データモデル対応\n3. **設計 → 要件**: 要件カバレッジ、過剰実装チェック\n\n詳細は `references/execution_guide_ja.md` を参照。\n\n## ベストプラクティス\n\n1. **タスク開始時に必ずステータス更新**: IN_PROGRESSに変更してからコミット\n2. **コミットテンプレートを厳守**: 関連ドキュメントへの参照を必ず含める\n3. **受入基準を全て確認**: 一部でも未達成なら完了としない\n4. **逆順レビューを省略しない**: 整合性確認で問題を早期発見\n5. **絵文字を使用しない**: コミットメッセージ、ドキュメント全てで禁止\n\n## SDDワークフローとの統合\n\nsdd-documentationスキルは、以下の順序でサブスキルを呼び出します：\n\n```text\n1. requirements-defining → docs/requirements/作成\n2. software-designing → docs/design/作成\n3. task-planning → docs/tasks/作成\n4. task-executing → 実装＆逆順レビュー（このスキル）\n```\n\n### 完了条件\n\n- すべてのタスクがDONEステータス\n- 逆順レビューで不整合がない（または解消済み）\n- すべてのコミットが作成済み\n\n## リソース\n\n### リファレンス\n- コミットテンプレート: `references/commit_templates_ja.md`\n- 実行ガイド: `references/execution_guide_ja.md`\n",
        "task-planning/SKILL.md": "---\nname: task-planning\ndescription: 実装タスク管理書を作成・編集します。設計書からタスク分解、AIエージェント向けの具体的な実装指示、TDD手順の定義が必要な場合に使用してください。requirements/、design/との整合性を逆順レビューで確認します。\nversion: \"1.0.0\"\n---\n\n# タスク計画スキル\n\n設計書を基に、AIエージェント（Claude Code等）が実行可能な具体的なタスクに分解します。\n\n## 概要\n\nこのスキルは、以下の成果物を作成・管理します：\n- **docs/tasks/index.md**: タスク一覧（目次・進捗サマリ）\n- **docs/tasks/[phase]/TASK-XXX.md**: 個別タスク詳細\n\n## ドキュメント構成\n\n```text\ndocs/tasks/\n├── index.md                 # 目次・進捗サマリ\n├── phase-1/\n│   ├── TASK-001.md          # タスク詳細\n│   └── TASK-002.md\n├── phase-2/\n│   ├── TASK-003.md\n│   └── TASK-004.md\n└── phase-3/\n    └── TASK-005.md\n```\n\n## このスキルを使用する場面\n\n### 新規作成時\n- 設計書からタスクを分解したい場合\n- AIエージェント向けの実装指示を作成したい場合\n- TDD（テスト駆動開発）の手順を定義したい場合\n- 実装の優先順位・依存関係を整理したい場合\n\n### 既存ドキュメントの修正時\n- docs/tasks/にタスクを追加・修正する場合\n- タスクのステータスを更新する場合\n- 依存関係や見積もりを修正する場合\n\n## 前提条件\n\n### 前段スキルとの連携\n\n**docs/requirements/、docs/design/が存在する場合**:\n1. 両方のドキュメントを読み込む\n2. タスクが設計・要件と整合しているか確認\n3. 逆順レビュー（タスク → 設計 → 要件）を実施\n\n## AIエージェント向けタスク設計\n\n### タスク粒度の目安\n\n| 分類 | 作業時間 | 内容例 |\n|------|----------|--------|\n| シンプル | 10-20分 | 単一ファイル作成、基本関数実装、設定追加 |\n| 標準 | 20-40分 | 複数ファイル、APIエンドポイント、基本テスト |\n| 複雑 | 40-90分 | 複数コンポーネント統合、包括的テスト |\n| 要分解 | 90分以上 | さらに小さいタスクに分解 |\n\n### タスク定義の必須要素\n\n```markdown\n#### タスク1.1: [タスクタイトル]\n\n**説明**:\n- 対象ファイルパス: `src/components/Button.tsx`\n- 実装する機能の詳細\n- 使用する技術・ライブラリ\n\n**技術的文脈**:\n- フレームワーク: Next.js 14 (App Router)\n- スタイリング: Tailwind CSS\n- 参照すべき既存コード: `src/components/Card.tsx`\n\n**情報の明確性**:\n\n| 分類 | 内容 |\n|------|------|\n| 明示された情報 | [ユーザーから明確に指定された仕様] |\n| 不明/要確認の情報 | [推測が必要な項目] |\n\n**実装手順（TDD）**:\n1. テスト作成: `src/components/Button.test.tsx`\n2. テスト実行: 失敗を確認\n3. テストコミット\n4. 実装: テストを通過させる\n5. 実装コミット\n\n**受入基準**:\n- [ ] `src/components/Button.tsx`が存在する\n- [ ] TypeScriptの型定義が含まれている\n- [ ] テストが3つ以上ある\n- [ ] `npm test`で全テスト通過\n- [ ] ESLintエラーがゼロ\n\n**依存関係**: なし\n**推定工数**: 30分（AIエージェント作業時間）\n**ステータス**: `TODO`\n```\n\n\n## TDD（テスト駆動開発）の原則\n\n### 基本サイクル\n\n```text\n1. テストを書く\n   ↓\n2. テスト実行（失敗確認）\n   ↓\n3. テストをコミット\n   ↓\n4. 最小限の実装\n   ↓\n5. テスト通過を確認\n   ↓\n6. 実装をコミット\n   ↓\n7. リファクタリング（必要に応じて）\n```\n\n### TDD適用のタスク記述例\n\n```markdown\n**実装手順（TDD）**:\n1. テスト作成: `src/auth/authenticate.test.ts`にテストケースを作成\n   - 正常な認証のテスト\n   - 無効な認証情報のテスト\n   - 空の入力のテスト\n2. テスト実行: すべてのテストが失敗することを確認\n3. テストコミット: テストのみをコミット\n4. 実装: `authenticate.ts`を実装してテストを通過させる\n5. 実装コミット: すべてのテストが通過したらコミット\n```\n\n## ワークフロー\n\n### 新規作成フロー\n\n1. **ドキュメント確認**: docs/requirements/、docs/design/を読み込む\n2. **情報分類**: 明示された情報と不明な情報を分類\n3. **不明点確認**: 必要な情報をユーザーに確認\n4. **ディレクトリ作成**: `docs/tasks/` 以下にフェーズ別ディレクトリを作成\n5. **index.md作成**: 目次と進捗サマリを記述\n6. **フェーズ分け**: 作業を論理的なフェーズに分割\n7. **タスク分解**: 各フェーズのタスクを `[phase]/TASK-XXX.md` として作成\n8. **index.md更新**: 作成したタスクへのリンクを追加\n9. **依存関係整理**: タスク間の依存関係を明確化\n10. **逆順レビュー**: タスク → 設計 → 要件の整合性確認\n11. **ユーザー確認**: 承認を得て完了\n\n### タスク追加フロー\n\n1. **新規ファイル作成**: `[phase]/TASK-XXX.md` を作成\n2. **タスクテンプレートに従う**: 情報の明確性・受入基準・TDD手順を記述\n3. **index.md更新**: タスク一覧テーブルにリンクを追加\n4. **依存関係更新**: 関連タスクの依存関係を更新\n\n## 逆順レビュープロセス\n\n### レビューの流れ\n\n```text\ndocs/tasks/ → docs/design/ → docs/requirements/\n（実装計画）   （技術設計）    （要件定義）\n```\n\n### ステップ1: タスク → 設計の整合性チェック\n\n| チェック項目 | 確認内容 |\n|-------------|---------|\n| コンポーネント対応 | タスクが参照するコンポーネントはdesign/components/に定義されているか |\n| API対応 | タスクで実装するAPIはdesign/api/と一致しているか |\n| データモデル対応 | タスクで使用するデータ構造はdesign/database/と一致しているか |\n| 技術スタック | タスクで使用する技術はdesign/decisions/と一致しているか |\n\n### ステップ2: 設計 → 要件の整合性チェック\n\n| チェック項目 | 確認内容 |\n|-------------|---------|\n| 機能カバレッジ | すべての要件（REQ-XXX）に対応する設計要素があるか |\n| 非機能要件対応 | NFR-XXXの要件が設計に反映されているか |\n| 過剰設計チェック | requirements/にない機能が設計に含まれていないか |\n\n### 不整合発見時の報告\n\n```text\nドキュメントの整合性チェックで以下の不整合を発見しました：\n\n【タスク → 設計の不整合】\n1. tasks/phase-2/TASK-003.mdで「PaymentService」を実装するとありますが、\n   design/components/にPaymentServiceの定義がありません。\n\n【設計 → 要件の不整合】\n2. design/components/に「通知機能」がありますが、\n   requirements/stories/に対応する要件がありません。\n\n【過不足】\n3. REQ-005（レポート出力機能）に対応するタスクがありません。\n\nこれらについて確認させてください：\n1. PaymentServiceの設計を追加しますか？\n2. 通知機能は必要ですか？\n3. REQ-005のタスクを追加しますか？\n```\n\n## 検証チェックリスト\n\n- [ ] タスクが適切な粒度に分解されている（20-40分程度）\n- [ ] 各タスクに受入基準がある\n- [ ] 依存関係が明確である\n- [ ] 推定工数が記載されている\n- [ ] ステータスが有効な値である\n- [ ] 各タスクの「情報の明確性」セクションが記載されている\n- [ ] 推測に基づく実装指示が含まれていない\n- [ ] TDD手順が含まれている\n- [ ] すべてのタスクがdesign/のコンポーネント/APIに対応している\n- [ ] すべての設計要素がrequirements/に対応している\n\n## ユーザーとの対話ガイドライン\n\n### 確認が必要な場面\n\n- タスクの粒度\n- 優先順位\n- 見積もり時間\n- 実装の順序\n- テストカバレッジの目標\n- 使用するライブラリのバージョン\n\n### サブエージェント向け情報の完全性\n\n各タスクに以下が含まれているか確認：\n\n**技術仕様**:\n- [ ] 対象ファイルの絶対パス\n- [ ] 使用するライブラリ/フレームワークのバージョン\n- [ ] 関数/クラスのシグネチャ\n- [ ] 型定義（TypeScriptの場合）\n\n**実装詳細**:\n- [ ] 入力の形式と型\n- [ ] 出力の形式と型\n- [ ] エラーケースとその処理方法\n\n**テスト仕様**:\n- [ ] テストファイルのパス\n- [ ] テストケースの具体的な内容\n- [ ] 期待される入出力の具体例\n\n## フェーズ分けの考え方\n\n1. **基盤構築**: 環境設定、基本構造\n2. **コア機能**: 主要な機能の実装\n3. **拡張機能**: 追加機能、改善\n4. **統合・テスト**: 結合、品質保証\n5. **リリース準備**: デプロイ、文書化\n\n## リソース\n\n### テンプレート\n- 目次テンプレート: `assets/templates/tasks_index_template_ja.md`\n- タスク詳細テンプレート: `assets/templates/task_detail_template_ja.md`\n\n### リファレンス\n- タスクガイドライン: `references/task_guidelines_ja.md`\n\n### 命名規則\n\n| ファイル種別 | 命名規則 | 例 |\n|-------------|---------|-----|\n| フェーズディレクトリ | `phase-N` | `phase-1`, `phase-2` |\n| タスクファイル | `TASK-XXX.md` | `TASK-001.md`, `TASK-002.md` |\n\n### タスクIDの採番ルール\n- プロジェクト全体で一意のIDを割り当て\n- フェーズをまたいでも連番を維持\n- 例: Phase 1で TASK-001〜003、Phase 2で TASK-004〜 と続ける\n\n### リンク形式\n\nindex.mdから個別ファイルへのリンクは、マークダウン形式と`@`形式の両方を記載：\n\n```markdown\n| TASK-001 | タイトル | TODO | - | 30min | [詳細](phase-1/TASK-001.md) @phase-1/TASK-001.md |\n```\n\n- **マークダウン形式**: `[詳細](phase-1/TASK-001.md)` - GitHub等での閲覧用\n- **@形式**: `@phase-1/TASK-001.md` - Claude Codeがファイルを参照する際に使用\n"
      },
      "plugins": [
        {
          "name": "sdd-documentation",
          "description": "ソフトウェア設計ドキュメント（SDD）を作成・管理・実装します。4つのサブスキル（requirements-defining、software-designing、task-planning、task-executing）を統括し、requirements.md（EARS記法）、design.md（技術設計）、tasks.md（タスク計画）の作成から実装・逆順レビューまでの全工程を管理します。",
          "source": "./",
          "strict": false,
          "skills": [
            "./sdd-documentation",
            "./requirements-defining",
            "./software-designing",
            "./task-planning",
            "./task-executing",
            "./sdd-troubleshooting",
            "./sdd-document-management"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install sdd-documentation@claude-development-skills"
          ]
        },
        {
          "name": "task-executing",
          "description": "docs/tasks.mdに記載されたタスクを実行し、実装を行います。タスクごとにステータス更新とコミットを作成し、実装完了後は逆順レビュー（実装→タスク→設計→要件）で整合性を確認します。SDDワークフローの実装フェーズで使用してください。",
          "source": "./",
          "strict": false,
          "skills": [
            "./task-executing"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install task-executing@claude-development-skills"
          ]
        },
        {
          "name": "incident-rca",
          "description": "インシデント調査で根本原因を特定するためのなぜなぜ分析ファシリテーションツールです。推測を避け、ユーザーの発言を記録し、リアルタイムでマインドツリーを作成して全体を可視化します。複合要因を分割し、最低1つの根本原因を特定します。",
          "source": "./",
          "strict": false,
          "skills": [
            "./incident-rca"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install incident-rca@claude-development-skills"
          ]
        },
        {
          "name": "jules-cli",
          "description": "docs/tasks.mdに記載されたタスクをJules CLIを使って依頼・管理します。タスクを日本語でフォーマットしてJulesに送信し、進捗を追跡して完了後にtasks.mdを更新します。",
          "source": "./",
          "strict": false,
          "skills": [
            "./jules-cli"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install jules-cli@claude-development-skills"
          ]
        },
        {
          "name": "operations-design",
          "description": "運用設計コンサルタントとして、対象業界の最新トレンドを調査し、サービス仕様をヒアリングした上で、ITIL 4・SRE・DevOpsのベストプラクティスに基づいた運用設計書を作成します。推論を避け、不明点は必ず質問し、一貫性を保つよう客観的にレビューします。",
          "source": "./",
          "strict": false,
          "skills": [
            "./operations-design"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install operations-design@claude-development-skills"
          ]
        },
        {
          "name": "report-summarizing",
          "description": "調査結果や分析レポートをエグゼクティブサマリー + 本編の2部構成で整理します。Mermaidダイアグラムによる全体像の可視化、結論・推奨事項・重要ポイントの要約を冒頭に配置し、長大なドキュメントを意思決定者向けに読みやすく構造化します。",
          "source": "./",
          "strict": false,
          "skills": [
            "./report-summarizing"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install report-summarizing@claude-development-skills"
          ]
        },
        {
          "name": "depth-interviewing-career",
          "description": "社員のキャリア観・働きがい・職場環境をデプスインタビュー形式で聞き出すスキルです。オープンエンドな質問を通じて本音を引き出し、構造化された分析レポートを作成します。",
          "source": "./",
          "strict": false,
          "skills": [
            "./depth-interviewing-career"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install depth-interviewing-career@claude-development-skills"
          ]
        },
        {
          "name": "depth-interviewing-product",
          "description": "製品やサービスに対するユーザーの利用実態・満足度・改善要望をデプスインタビュー形式で聞き出すスキルです。顧客インサイトを発見し、構造化された分析レポートを作成します。",
          "source": "./",
          "strict": false,
          "skills": [
            "./depth-interviewing-product"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add windschord/claude_skils",
            "/plugin install depth-interviewing-product@claude-development-skills"
          ]
        }
      ]
    }
  ]
}