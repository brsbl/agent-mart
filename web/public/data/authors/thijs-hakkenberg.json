{
  "author": {
    "id": "thijs-hakkenberg",
    "display_name": "thijs-hakkenberg",
    "avatar_url": "https://avatars.githubusercontent.com/u/97637552?v=4"
  },
  "marketplaces": [
    {
      "name": "valkyrie-mom",
      "version": null,
      "description": "Valkyrie Mansions of Madness scenario editor plugin and MCP server",
      "repo_full_name": "thijs-hakkenberg/ValkyrieMCP",
      "repo_url": "https://github.com/thijs-hakkenberg/ValkyrieMCP",
      "repo_description": "An MCP Server for Valkyrie scenarios",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-13T21:59:05Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"valkyrie-mom\",\n  \"description\": \"Valkyrie Mansions of Madness scenario editor plugin and MCP server\",\n  \"owner\": {\n    \"name\": \"Thijs Hakkenberg\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"valkyrie-mom\",\n      \"description\": \"AI-assisted Mansions of Madness scenario editor for Valkyrie — MCP server, 7 skills, and scenario designer agent\",\n      \"version\": \"1.0.1\",\n      \"author\": {\n        \"name\": \"Thijs Hakkenberg\"\n      },\n      \"source\": \"./\",\n      \"category\": \"development\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"valkyrie-mom\",\n  \"version\": \"1.0.1\",\n  \"description\": \"AI-assisted Mansions of Madness scenario editor for Valkyrie\",\n  \"author\": {\n    \"name\": \"Thijs Hakkenberg\"\n  },\n  \"repository\": \"https://github.com/thijs-hakkenberg/ValkyrieMCP\",\n  \"keywords\": [\"valkyrie\", \"mansions-of-madness\", \"scenario-editor\", \"mcp\", \"board-game\"],\n  \"mcpServers\": {\n    \"valkyrie-mom\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@thijshakkenberg/valkyrie-mom-mcp\"]\n    }\n  }\n}\n",
        "README.md": "# valkyrie-mom-mcp\n\n[![npm](https://img.shields.io/npm/v/@thijshakkenberg/valkyrie-mom-mcp)](https://www.npmjs.com/package/@thijshakkenberg/valkyrie-mom-mcp)\n\nMCP (Model Context Protocol) server and Claude Code plugin for AI-assisted Mansions of Madness 2nd Edition scenario creation with [Valkyrie](https://github.com/NPBruce/valkyrie).\n\n## What it does\n\nThis server exposes Valkyrie scenario editing as MCP tools, enabling AI assistants (Claude, etc.) to create, modify, validate, and build complete MoM scenarios. It auto-detects the Valkyrie editor directory so scenarios appear directly in the app.\n\nThe plugin bundles 7 skills covering advanced patterns (event loops, mythos scaling, tile placement chains, custom puzzles, etc.) and an autonomous scenario designer agent.\n\n## Install\n\n### As a Claude Code plugin (recommended)\n\n```bash\nclaude plugin marketplace add thijs-hakkenberg/ValkyrieMCP\nclaude plugin install valkyrie-mom\n```\n\nThis gives you:\n- **MCP server** with 20 tools for scenario editing (auto-started)\n- **7 skills**: `/scenario`, `/event-patterns`, `/tile-placement`, `/variables-and-mythos`, `/custom-monsters`, `/ui-and-puzzles`, `/items-and-distribution`\n- **Scenario designer agent** for autonomous scenario creation\n- **5 MCP resources** for format documentation\n\nTo update to the latest version:\n```bash\nclaude plugin marketplace update valkyrie-mom\nclaude plugin update valkyrie-mom\n```\n\nTo uninstall:\n```bash\nclaude plugin uninstall valkyrie-mom\n```\n\n### As a standalone MCP server (Claude Desktop, other MCP clients)\n\nAdd to your MCP client config (e.g., `~/.claude/mcp.json` or Claude Desktop settings):\n\n```json\n{\n  \"mcpServers\": {\n    \"valkyrie-mom\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@thijshakkenberg/valkyrie-mom-mcp\"]\n    }\n  }\n}\n```\n\nThis gives you the MCP tools and resources, but not the skills or agent (those require Claude Code).\n\n### From source\n\n```bash\ngit clone https://github.com/thijs-hakkenberg/ValkyrieMCP.git\ncd ValkyrieMCP\nnpm install\nnpx tsx src/index.ts   # Run MCP server via stdio\n```\n\n## Skills\n\n| Skill | Description |\n|-------|-------------|\n| `/scenario` | Guided end-to-end scenario creation workflow |\n| `/event-patterns` | Event loops, multi-question dialogues, silent events, token swaps, random events, variable branching |\n| `/tile-placement` | Standard placement chains, multi-entry tiles, naming conventions |\n| `/variables-and-mythos` | Variable system, mythos scaling formula, random generation, hero detection, content pack gating |\n| `/custom-monsters` | Custom activations, evade/horror events, round-based spawn triggering |\n| `/ui-and-puzzles` | Prologues, interactive journals, combination locks, built-in puzzle types |\n| `/items-and-distribution` | Random items, unique items, starting items, inspection events |\n\n## MCP Tools\n\n### Lifecycle\n| Tool | Description |\n|------|-------------|\n| `list_scenarios` | List all scenarios in the Valkyrie editor directory |\n| `create_scenario` | Create a new scenario (defaults to Valkyrie editor dir) |\n| `load_scenario` | Load an existing scenario from a directory |\n| `get_scenario_state` | Get current scenario component/localization summary |\n| `validate_scenario` | Run all validation rules |\n| `build_scenario` | Save and build `.valkyrie` package |\n\n### Components\n| Tool | Description |\n|------|-------------|\n| `upsert_event` | Create or update an event |\n| `upsert_tile` | Create or update a tile |\n| `upsert_token` | Create or update a token |\n| `upsert_spawn` | Create or update a monster spawn |\n| `upsert_item` | Create or update an item |\n| `upsert_puzzle` | Create or update a puzzle |\n| `upsert_ui` | Create or update a UI element |\n| `delete_component` | Delete a component with cascade reference cleanup |\n| `set_localization` | Set localization key-value pairs |\n\n### Map\n| Tool | Description |\n|------|-------------|\n| `get_map_ascii` | Render tile layout as ASCII art |\n| `suggest_tile_layout` | Suggest coordinates for linear, L-shape, or hub-spoke layouts |\n| `place_tile_relative` | Compute position relative to an existing tile |\n\n### Reference\n| Tool | Description |\n|------|-------------|\n| `search_game_content` | Search game content catalogs (846 entries across tiles, monsters, items, audio) |\n\n### Diagnostics\n| Tool | Description |\n|------|-------------|\n| `export_bug_report` | Generate a ZIP bug report with session trace, scenario files, validation results, and Valkyrie logs |\n\n## MCP Resources\n\n| Resource | URI |\n|----------|-----|\n| Event format docs | `valkyrie://format/events` |\n| Localization format docs | `valkyrie://format/localization` |\n| Component format docs | `valkyrie://format/components` |\n| Pattern reference | `valkyrie://format/patterns` |\n| Current scenario state | `valkyrie://scenario/current` |\n\n## MCP Prompts\n\n| Prompt | Description |\n|--------|-------------|\n| `create-scenario` | Guided workflow for creating a new scenario |\n| `review-scenario` | Analyze a scenario for balance and completeness |\n\n## Valkyrie Editor Paths\n\nThe server auto-detects where Valkyrie stores editor scenarios:\n\n| Platform | Path |\n|----------|------|\n| macOS / Linux | `~/.config/Valkyrie/MoM/Editor/` |\n| Windows | `%APPDATA%\\Valkyrie\\MoM\\Editor\\` |\n\n## Scenario File Format\n\nA scenario is a directory containing:\n\n- `quest.ini` - Quest config and file listings\n- `events.ini` - Event components (triggers, buttons, branching)\n- `tiles.ini` - Map tile placements\n- `tokens.ini` - Search, explore, interact, and wall tokens\n- `spawns.ini` - Monster spawn configurations\n- `items.ini` - Quest items\n- `ui.ini` - UI elements (backgrounds, etc.)\n- `other.ini` - Puzzles and misc components\n- `Localization.English.txt` - CSV localization (key,value pairs)\n\nBuilt scenarios are ZIP archives with a `.valkyrie` extension.\n\n## Validation Rules\n\nThe server validates scenarios against 12 rule categories:\n\n1. **Unique names** - No duplicate component names\n2. **Required fields** - Tiles have `side`, displayed events have `buttons`\n3. **Cross-references** - All referenced components exist\n4. **Event graph** - `EventStart` trigger exists, no unreachable/dead-end events\n5. **Event flow** - Buttons vs event-ref consistency, silent event rules\n6. **Localization completeness** - Event text, button labels, quest metadata\n7. **Format rules** - Valid format version, type=MoM, tile rotations\n8. **Catalog references** - Tile sides, monster names, items match game content\n9. **Tile connectivity** - Tiles are spatially connected\n10. **Mythos structure** - Proper mythos trigger configuration\n11. **Investigator token** - TokenInvestigators setup and removal\n12. **Explore token** - Explore tokens linked to tile reveal events\n\n## Development\n\n```bash\nnpm test          # Run all tests (1096 tests across 36 files)\nnpm run test:watch # Watch mode\nnpm run lint       # Type check\nnpm run build      # Compile to dist/\n```\n\n## Project Structure\n\n```\n.claude-plugin/    Plugin manifest\nskills/            7 skill SKILL.md files\nagents/            Scenario designer agent\nsrc/\n  io/              INI parser/writer, localization CSV, ZIP packager\n  model/           ScenarioModel, LocalizationStore, component types\n  validation/      12 rules + orchestrator\n    rules/         Individual validation rule implementations\n  tools/           MCP tool implementations\n  resources/       Format documentation resources\n  catalogs/        846-entry game content catalog\n  diagnostics/     Bug report builder, session trace, ring buffer\n  server.ts        MCP server registration\n  index.ts         Entry point (stdio transport)\ntests/\n  fixtures/        ExoticMaterial (reference scenario), MinimalScenario\n  io/              IO layer tests\n  model/           Model layer tests\n  tools/           Tool tests\n  validation/      Validation rule tests\n  diagnostics/     Diagnostics tests\n  golden.test.ts   Round-trip integrity tests\n  integration.test.ts  Full pipeline tests\n```\n\n## Related Projects\n\n- [Valkyrie](https://github.com/NPBruce/valkyrie) - Scenario builder and player\n- [valkyrie-questdata](https://github.com/NPBruce/valkyrie-questdata) - Community scenario source data\n- [valkyrie-store](https://github.com/NPBruce/valkyrie-store) - Scenario manifest pipeline\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "valkyrie-mom",
          "description": "AI-assisted Mansions of Madness scenario editor for Valkyrie — MCP server, 7 skills, and scenario designer agent",
          "version": "1.0.1",
          "author": {
            "name": "Thijs Hakkenberg"
          },
          "source": "./",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add thijs-hakkenberg/ValkyrieMCP",
            "/plugin install valkyrie-mom@valkyrie-mom"
          ]
        }
      ]
    }
  ]
}