{
  "author": {
    "id": "jasonpaulso",
    "display_name": "Jason Schulz",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/11001042?u=04e3ecc4745a5dc19e3cc53d96e70e6d520cdc14&v=4",
    "url": "https://github.com/jasonpaulso",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 3,
      "total_skills": 1,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "jasonschulz-plugins",
      "version": "1.0.0",
      "description": "Jason Schulz's Claude Code plugins",
      "owner_info": {
        "name": "Jason Schulz"
      },
      "keywords": [],
      "repo_full_name": "jasonpaulso/jasonschulz-plugins",
      "repo_url": "https://github.com/jasonpaulso/jasonschulz-plugins",
      "repo_description": "Claude Code plugins marketplace - project-context-sync and more",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-11-30T16:16:32Z",
        "created_at": "2025-11-30T14:31:25Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 849
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 505
        },
        {
          "path": "plugins/project-context-sync/README.md",
          "type": "blob",
          "size": 7496
        },
        {
          "path": "plugins/project-context-sync/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync/agents/context-auditor.md",
          "type": "blob",
          "size": 2694
        },
        {
          "path": "plugins/project-context-sync/agents/feature-planner.md",
          "type": "blob",
          "size": 5702
        },
        {
          "path": "plugins/project-context-sync/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync/commands/plan-feature.md",
          "type": "blob",
          "size": 5568
        },
        {
          "path": "plugins/project-context-sync/commands/sync-context.md",
          "type": "blob",
          "size": 1502
        },
        {
          "path": "plugins/project-context-sync/commands/whats-next.md",
          "type": "blob",
          "size": 752
        },
        {
          "path": "plugins/project-context-sync/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync/hooks/hooks.json",
          "type": "blob",
          "size": 5759
        },
        {
          "path": "plugins/project-context-sync/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync/skills/project-context",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-context-sync/skills/project-context/SKILL.md",
          "type": "blob",
          "size": 7543
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"jasonschulz-plugins\",\n  \"owner\": {\n    \"name\": \"Jason Schulz\"\n  },\n  \"metadata\": {\n    \"description\": \"Jason Schulz's Claude Code plugins\",\n    \"version\": \"1.0.0\",\n    \"homepage\": \"https://github.com/jasonpaulso/jasonschulz-plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"project-context-sync\",\n      \"source\": \"./plugins/project-context-sync\",\n      \"description\": \"Automatic project context synchronization for long-running agent work\",\n      \"version\": \"1.1.0\",\n      \"author\": {\n        \"name\": \"Jason Schulz\"\n      },\n      \"category\": \"productivity\",\n      \"homepage\": \"https://github.com/jasonpaulso/jasonschulz-plugins\",\n      \"keywords\": [\n        \"context\",\n        \"memory\",\n        \"long-running\",\n        \"progress\",\n        \"documentation\",\n        \"session\",\n        \"handoff\"\n      ]\n    }\n  ],\n  \"version\": \"1.0.0\"\n}\n",
        "plugins/project-context-sync/.claude-plugin/plugin.json": "{\n  \"name\": \"project-context-sync\",\n  \"version\": \"1.1.0\",\n  \"description\": \"Automatic project context synchronization for long-running agent work. Maintains PROGRESS.md, enforces clean session handoffs, and uses --resume for continuity.\",\n  \"author\": {\n    \"name\": \"Jason Schulz\",\n    \"url\": \"https://github.com/jasonschulz\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"context\",\n    \"memory\",\n    \"long-running\",\n    \"progress\",\n    \"documentation\",\n    \"session\",\n    \"handoff\",\n    \"continuity\"\n  ]\n}\n",
        "plugins/project-context-sync/README.md": "# project-context-sync\n\nAutomatic project context synchronization for long-running Claude Code sessions.\n\nBased on patterns from [Anthropic's research on effective harnesses for long-running agents](https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents).\n\n## The Problem\n\nWhen AI agents work across multiple sessions, each new session starts with no memory of what came before. This leads to:\n\n- **One-shotting**: Trying to do too much at once, leaving half-implemented features\n- **Premature completion**: Declaring victory without proper documentation\n- **Context loss**: Previous decisions and rationale forgotten\n- **Repeated mistakes**: Re-discovering issues that were already solved\n\n## The Solution\n\nThis plugin implements a two-part solution:\n\n1. **Structural state** (git): What code exists, what changed\n2. **Semantic state** (PROGRESS.md): Why changes were made, what was attempted, what's next\n\nTogether, these form a complete picture that bridges sessions.\n\n## How It Works\n\n### Deterministic Hooks\n\n| Hook | Behavior |\n|------|----------|\n| `SessionStart` | Injects PROGRESS.md + git history, validates schema |\n| `PostToolUse` | Tracks file modifications (session-isolated) |\n| `PreCompact` | Prompts context update before memory compaction |\n| `Stop` (pre-validate) | Machine-readable validation of PROGRESS.md |\n| `Stop` (prompt) | LLM evaluation with validation summary |\n| `SubagentStop` | Ensures subagents document their work |\n| `SessionEnd` | Spawns `claude -p --resume` with duplicate prevention |\n\n### v1.1 Improvements\n\n1. **SessionEnd lock file**: Prevents duplicate executions (5-second window)\n2. **Session ID isolation**: Modifications tracked per-session, not globally\n3. **Pre-validation for Stop hook**: Machine-readable summary injected into prompt\n4. **PROGRESS.md schema validation**: Checks for required sections, offers repair templates\n5. **Git repo validation**: Graceful handling of non-git directories\n\n### Model-Invoked Skill\n\nThe `project-context-sync` skill provides guidance on:\n- Reading and updating PROGRESS.md\n- Working incrementally (one feature at a time)\n- Leaving clean handoffs for future sessions\n\n### Slash Commands\n\n- `/sync-context` - Force synchronization of project context\n- `/whats-next` - Show prioritized next actions\n\n### Agent\n\n- `context-auditor` - Validates documentation accuracy against code state\n\n## Installation\n\n### From Local Directory\n\n```bash\nclaude /plugin add /path/to/project-context-sync\n```\n\n### Enable for a Project\n\nThe plugin activates automatically when enabled. To customize behavior, create `.claude/context-sync.json`:\n\n```json\n{\n  \"enabled\": true,\n  \"sessionEndSync\": true,\n  \"syncTimeout\": 180,\n  \"maxTurns\": 5,\n  \"minModificationsForSync\": 1,\n  \"requireProgressFile\": false,\n  \"gitHistoryLines\": 10,\n  \"showFullProgress\": true,\n  \"quietStart\": false\n}\n```\n\n## Usage\n\n### First Session\n\n1. Plugin detects no `.claude/PROGRESS.md`\n2. SessionStart injects guidance on creating one\n3. Run `/sync-context` or ask Claude to initialize context\n4. Claude creates PROGRESS.md with project overview and initial plan\n\n### Subsequent Sessions\n\n1. `SessionStart` hook injects context with schema validation\n2. Claude reads PROGRESS.md and git history\n3. Work on ONE prioritized task\n4. `Stop` hook validates documentation before allowing exit\n\n### Stop Hook Validation\n\nThe Stop hook now runs in two phases:\n\n1. **Pre-validation** (`validate-progress.js`): Generates machine-readable summary\n   - Checks PROGRESS.md exists\n   - Validates required sections present\n   - Counts commits since last update\n   - Lists files modified this session\n   - Provides repair template if sections missing\n\n2. **LLM Evaluation**: Receives validation summary in context\n   - Makes informed decision based on facts, not introspection\n   - Can reference specific issues from validation\n   - Blocks with actionable feedback\n\n### SessionEnd Behavior\n\nThe `SessionEnd` hook uses `--resume` to continue with the same session context:\n- Lock file prevents duplicate executions (5-second window)\n- Only runs if Stop hook didn't finalize (checks session ID)\n- Only runs if there's uncommitted work or modifications\n- Uses minimal turns (default: 5)\n- Hard timeout (default: 180s)\n- Validates git repo before running git commands\n\n## File Structure\n\n```\n.claude/\n├── PROGRESS.md              # Semantic state (required for full benefit)\n├── features.json            # Feature tracking (optional)\n├── context-sync.json        # Plugin config (optional)\n├── .context-state/          # Internal state (managed by plugin)\n│   ├── current-session.json # Session tracking with ID\n│   ├── modifications.json   # Session-isolated modification tracking\n│   └── .session-end.lock    # Duplicate execution prevention\n└── logs/                    # SessionEnd logs (for debugging)\n```\n\n## PROGRESS.md Required Sections\n\nThe plugin validates these sections exist:\n\n- **Current State**: What's working, what's broken\n- **Recent Work**: What was done recently and why\n- **Next Steps**: Prioritized list of what to work on\n\nIf sections are missing, the validation output includes a repair template.\n\n## Design Rationale\n\n### Why Machine Pre-Validation for Stop Hook\n\nRelying solely on LLM introspection for \"is documentation current?\" is fragile. The model can:\n- Hallucinate that PROGRESS.md is up to date\n- Miss that commits happened after the last update\n- Approve despite missing sections\n\nThe pre-validation script provides facts the LLM can't deny:\n- Exact count of commits since last PROGRESS.md update\n- List of files modified this session\n- Boolean checks for required sections\n\n### Why Session ID Isolation\n\nWithout session isolation, concurrent tabs or rapid session restarts cause:\n- Modifications from session A polluting session B's tracking\n- Stop hook approving based on stale modification data\n- SessionEnd spawning cleanup for wrong session\n\nEach session now tracks its own modifications and validates against its own ID.\n\n### Why Lock File for SessionEnd\n\nClaude Code v2.x has a known issue where hooks can fire multiple times. The lock file pattern (from dev-gom's hook-session-summary) prevents:\n- Multiple background `claude -p` processes spawning\n- Race conditions in state files\n- Duplicate documentation updates\n\n## Limitations\n\n- **Hooks can't force mid-session updates**: Stop hook creates backpressure, but can't force updates during work\n- **PreCompact timing**: May not catch all cases before compaction\n- **SessionEnd is best-effort**: Background process may fail silently (check logs)\n- **Non-git projects**: Less context available, but still tracks modifications\n\n## See Also\n\n- [Effective harnesses for long-running agents](https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents)\n- [Claude Code Hooks Reference](https://docs.anthropic.com/en/docs/claude-code/hooks)\n- [Agent Skills](https://docs.anthropic.com/en/docs/claude-code/skills)\n\n## Changelog\n\n### v1.1.0\n- Added timestamp-based lock file for SessionEnd duplicate prevention\n- Added session_id isolation for modification tracking\n- Added validate-progress.js pre-validation script for Stop hook\n- Added PROGRESS.md schema validation with repair templates\n- Added git repo detection before running git commands\n- Improved context markers for model salience\n- Updated Stop hook prompt to use validation summary\n\n### v1.0.0\n- Initial release\n\n## License\n\nMIT\n",
        "plugins/project-context-sync/agents/context-auditor.md": "---\ndescription: Audits project context for completeness, accuracy, and drift from actual code state\ncapabilities: [\"validate-progress\", \"detect-drift\", \"reconcile-documentation\", \"suggest-updates\"]\n---\n\n# Context Auditor Agent\n\nSpecialized agent for validating that project documentation accurately reflects the codebase.\n\n## When to Use\n\n- After significant refactoring or large merges\n- When resuming work after extended breaks\n- Before major releases or handoffs\n- When documentation feels out of sync\n- After multiple rapid sessions\n\n## Capabilities\n\n### Validate Progress File\n\nChecks that PROGRESS.md:\n- Contains all required sections (Current State, Recent Work, Next Steps)\n- Has accurate status indicators\n- References files that actually exist\n- Doesn't reference deleted code or features\n\n### Detect Documentation Drift\n\nCompares documented state against:\n- Actual file structure (do referenced files exist?)\n- Git history (are recent commits documented?)\n- Test results (do \"passing\" features actually pass?)\n- Dependencies (are documented deps in package.json/requirements.txt?)\n\n### Reconcile Documentation\n\nWhen drift is detected:\n- Identifies specific discrepancies\n- Proposes concrete updates\n- Can auto-fix obvious issues (with confirmation)\n- Preserves intent while updating facts\n\n### Suggest Updates\n\nBased on analysis:\n- Recommends sections to update\n- Identifies stale \"Next Steps\" that may be complete\n- Flags \"Recent Work\" that should age out\n- Suggests architectural decisions to document\n\n## Invocation\n\nClaude will invoke this agent when you:\n- Ask to \"audit\", \"validate\", or \"check\" project context\n- Mention documentation being \"out of date\" or \"stale\"\n- Request a \"context review\" or \"documentation check\"\n- Ask \"is my PROGRESS.md accurate?\"\n\n## Output\n\nThe auditor provides:\n1. **Summary**: Overall documentation health\n2. **Discrepancies**: Specific issues found\n3. **Recommendations**: Prioritized fixes\n4. **Auto-fixable**: Items that can be corrected automatically\n\n## Example Audit Report\n\n```markdown\n## Context Audit Report\n\n### Summary\nDocumentation is **partially current**. 3 issues detected.\n\n### Discrepancies\n\n1. **Stale Reference**: PROGRESS.md mentions `src/auth/legacy.ts` but file was deleted in commit abc123\n2. **Undocumented Work**: 4 commits since last PROGRESS.md update\n3. **Status Mismatch**: Feature \"user-login\" marked passing but tests currently failing\n\n### Recommendations\n\n1. Remove reference to deleted legacy.ts\n2. Add recent commits to \"Recent Work\" section\n3. Update user-login status or fix failing tests\n\n### Auto-Fixable\n\n- [ ] Remove stale file reference (confirm?)\n- [ ] Add commit summaries to Recent Work (confirm?)\n```\n",
        "plugins/project-context-sync/agents/feature-planner.md": "---\ndescription: Deep codebase exploration agent for planning multi-session features with verification criteria\ncapabilities: [\"codebase-exploration\", \"architecture-analysis\", \"work-item-generation\", \"verification-design\"]\n---\n\n# Feature Planner Agent\n\nSpecialized agent that performs thorough codebase exploration to create well-structured feature plans with session-sized work items.\n\n## When to Invoke\n\nThis agent is invoked by the `/plan-feature` command for features that require:\n- Deep codebase understanding before planning\n- Cross-cutting changes across multiple modules\n- Complex dependency analysis\n- Risk assessment for breaking changes\n\n## Agent Instructions\n\nYou are a feature planning specialist. Your job is to explore a codebase thoroughly and produce a `feature_list.json` with session-sized work items that have clear verification criteria.\n\n### Phase 1: Discovery (25% of effort)\n\n**Understand the Request**\n1. Parse the feature description or Jira ticket reference\n2. Identify explicit and implicit requirements\n3. Note success criteria and constraints\n\n**Map the Codebase**\n1. Use `Glob` to understand project structure:\n   ```\n   Glob: **/*.ts, **/*.tsx, **/*.js, **/*.json\n   ```\n2. Identify key directories:\n   - Source code locations\n   - Test directories\n   - Configuration files\n   - Build/deploy configs\n\n**Find Related Code**\n1. Use `Grep` to find patterns related to the feature:\n   ```\n   Grep: \"authentication\", \"login\", \"token\", etc.\n   ```\n2. Read key files to understand:\n   - Existing patterns and conventions\n   - Similar features already implemented\n   - Integration points\n\n### Phase 2: Architecture Analysis (25% of effort)\n\n**Understand Dependencies**\n1. Read `package.json` / `requirements.txt` for external deps\n2. Trace internal imports to understand module relationships\n3. Identify shared utilities and patterns\n\n**Assess Impact**\n1. What files need to be modified?\n2. What new files need to be created?\n3. What existing tests might break?\n4. What APIs will change?\n\n**Identify Risks**\n- Breaking changes to existing functionality\n- Performance implications\n- Security considerations\n- Migration requirements for data/state\n- Cross-team dependencies\n\n### Phase 3: Work Item Design (40% of effort)\n\n**Sizing Guidelines**\n\nSession-sized means:\n- Can be completed in ~2-4 hours of focused work\n- Has clear start and finish conditions\n- Changes are cohesive and can be committed together\n- Tests can be written and run in the same session\n\n**Dependency Ordering**\n\nCreate items in implementation order:\n1. Foundation items (utilities, types, configs)\n2. Core functionality items\n3. Integration items (connecting components)\n4. Polish items (error handling, edge cases)\n5. Testing items (if not TDD)\n\n**Verification Design**\n\nEach item MUST have verification commands that:\n- Can run automatically\n- Have clear pass/fail criteria\n- Complete in reasonable time (<2 min)\n- Don't require manual intervention\n\nGood verification patterns:\n```json\n{\n  \"command\": \"npm test -- --grep 'ComponentName'\",\n  \"description\": \"Unit tests for new component pass\"\n}\n```\n```json\n{\n  \"command\": \"npm run typecheck\",\n  \"description\": \"No TypeScript errors\"\n}\n```\n```json\n{\n  \"command\": \"test -f src/components/NewComponent.tsx\",\n  \"description\": \"Component file exists\"\n}\n```\n```json\n{\n  \"command\": \"grep -q 'export.*NewFunction' src/utils/index.ts\",\n  \"description\": \"Function is exported\"\n}\n```\n\n### Phase 4: Output Generation (10% of effort)\n\n**Generate feature_list.json**\n\nOutput must conform to the schema at `schemas/feature-list.schema.json`.\n\nRequired fields:\n- `feature`: Clear, concise name\n- `description`: What and why\n- `created`: ISO timestamp\n- `status`: \"planning\" (will change to \"in-progress\" when work starts)\n- `estimatedSessions`: Based on work item count\n- `items`: Array of work items with verification\n\n**Work Item Template**\n```json\n{\n  \"id\": \"item-NNN\",\n  \"description\": \"Clear action statement\",\n  \"status\": \"pending\",\n  \"acceptanceCriteria\": [\n    \"Specific condition 1\",\n    \"Specific condition 2\"\n  ],\n  \"verification\": [\n    {\n      \"command\": \"...\",\n      \"description\": \"What this proves\"\n    }\n  ],\n  \"estimatedEffort\": \"small|medium|large\",\n  \"dependencies\": [\"item-NNN\"],\n  \"notes\": \"Implementation hints, patterns to follow\"\n}\n```\n\n## Output Format\n\nReturn a structured report:\n\n```markdown\n## Feature Analysis: [Name]\n\n### Codebase Understanding\n- Project type: [monorepo/single-app/library]\n- Tech stack: [list]\n- Relevant directories: [list]\n- Related existing features: [list]\n\n### Proposed Architecture\n[Brief description of approach]\n\n### Risk Assessment\n- **High**: [risks]\n- **Medium**: [risks]  \n- **Low**: [risks]\n\n### Work Items Summary\n| ID | Description | Effort | Dependencies |\n|----|-------------|--------|--------------|\n| item-001 | ... | small | - |\n| item-002 | ... | medium | item-001 |\n\n### feature_list.json\n\n\\`\\`\\`json\n{\n  \"feature\": \"...\",\n  ...\n}\n\\`\\`\\`\n\n### Recommendations\n- [Any suggestions for the implementation phase]\n```\n\n## Quality Checklist\n\nBefore returning, verify:\n- [ ] All work items are session-sized (not too large)\n- [ ] Dependencies form a valid DAG (no cycles)\n- [ ] Every item has at least one verification command\n- [ ] Verification commands are executable (correct syntax)\n- [ ] Acceptance criteria are specific and testable\n- [ ] Notes include relevant file paths and patterns\n- [ ] Risk factors are documented\n- [ ] Total effort estimate is reasonable\n\n## Error Handling\n\nIf you cannot create a valid plan:\n1. Document what information is missing\n2. List specific questions that need answers\n3. Provide a partial plan with gaps marked\n4. Suggest how to proceed (e.g., \"need API spec first\")\n",
        "plugins/project-context-sync/commands/plan-feature.md": "---\ndescription: Plan a feature into session-sized work items with verification criteria\nallowed-tools: Read, Write, Edit, Bash, Glob, Grep, Task\n---\n\n# Plan Feature\n\nBreak down a feature into session-sized work items with clear acceptance criteria and verification commands.\n\n## Purpose\n\nThis command implements the \"initializer agent\" pattern from Anthropic's long-running agent research. It produces a `feature_list.json` that:\n- Guides subsequent coding sessions\n- Provides clear start/finish boundaries\n- Enables automated verification\n\n## Input\n\nThe command argument should describe the feature:\n```\n/plan-feature Add user authentication with JWT tokens\n```\n\nOr reference a ticket:\n```\n/plan-feature BUSIE-2360 Modernize framework stack\n```\n\n## Workflow\n\n### Phase 1: Discovery\n\n1. **Understand the request**\n   - Parse feature description or fetch Jira ticket details\n   - Identify scope and success criteria\n   - Note any constraints or requirements\n\n2. **Explore the codebase**\n   - Use Glob to find relevant files\n   - Use Grep to understand existing patterns\n   - Read key files to understand architecture\n   - Identify integration points\n\n3. **Assess complexity**\n   - Simple: 1-2 sessions, single component\n   - Medium: 3-5 sessions, multiple components\n   - Complex: 5+ sessions, cross-cutting concerns\n   - Epic: Requires breaking into sub-features\n\n### Phase 2: Architecture\n\n4. **Design the approach**\n   - Identify components to create/modify\n   - Note dependencies between changes\n   - Consider testing strategy\n   - Document technical decisions\n\n5. **Identify risks**\n   - Breaking changes\n   - Performance implications\n   - Security considerations\n   - Migration requirements\n\n### Phase 3: Work Item Creation\n\n6. **Break into work items**\n\n   Each work item should be:\n   - **Session-sized**: Completable in one session (~2-4 hours of context)\n   - **Self-contained**: Clear start and finish\n   - **Testable**: Has verification commands\n   - **Ordered**: Dependencies respected\n\n   Work item structure:\n   ```json\n   {\n     \"id\": \"item-001\",\n     \"description\": \"Create auth middleware\",\n     \"status\": \"pending\",\n     \"acceptanceCriteria\": [\n       \"Middleware validates JWT tokens\",\n       \"Invalid tokens return 401\",\n       \"Valid tokens attach user to request\"\n     ],\n     \"verification\": [\n       {\n         \"command\": \"npm test -- --grep 'auth middleware'\",\n         \"description\": \"Unit tests pass\"\n       },\n       {\n         \"command\": \"curl -I http://localhost:3000/api/protected\",\n         \"description\": \"Protected route returns 401 without token\",\n         \"expectedOutput\": \"401\"\n       }\n     ],\n     \"estimatedEffort\": \"medium\",\n     \"dependencies\": [],\n     \"notes\": \"Use existing jwt library, follow patterns in src/middleware/\"\n   }\n   ```\n\n7. **Define verification commands**\n\n   Good verification commands:\n   - `npm test` / `npm run test:unit` - Unit tests\n   - `npm run lint` - Code style\n   - `npm run typecheck` - Type safety\n   - `npm run build` - Builds successfully\n   - `curl` commands - API endpoints work\n   - `grep -r \"pattern\" src/` - Code patterns exist\n   - Custom scripts for integration tests\n\n### Phase 4: Output\n\n8. **Generate feature_list.json**\n\n   Write to `.claude/feature_list.json`:\n   ```json\n   {\n     \"feature\": \"User Authentication\",\n     \"description\": \"Add JWT-based authentication...\",\n     \"created\": \"2025-01-15T10:00:00Z\",\n     \"status\": \"planning\",\n     \"estimatedSessions\": 4,\n     \"completedSessions\": 0,\n     \"items\": [...],\n     \"metadata\": {\n       \"complexity\": \"medium\",\n       \"riskFactors\": [\"Breaking API changes\"],\n       \"relatedFiles\": [\"src/auth/\", \"src/middleware/\"],\n       \"dependencies\": [\"jsonwebtoken\", \"bcrypt\"]\n     }\n   }\n   ```\n\n9. **Update PROGRESS.md**\n\n   Add planning summary to Recent Work and first item to Next Steps.\n\n## Output\n\nAfter planning, provide:\n\n```markdown\n## Feature Plan: [Name]\n\n**Complexity**: [simple|medium|complex|epic]\n**Estimated Sessions**: N\n\n### Work Items\n\n1. **[item-001]** [Description] - [effort]\n2. **[item-002]** [Description] - [effort]\n   - Depends on: item-001\n3. ...\n\n### Risks Identified\n- [Risk 1]\n- [Risk 2]\n\n### Ready to Start\n\nFirst work item: **[item-001]** - [Description]\n\nVerification commands ready. Run `/whats-next` to begin.\n```\n\n## Tips for Good Work Items\n\n### Too Large (Bad)\n- \"Implement authentication\" - Too vague, multiple sessions\n- \"Refactor the entire auth module\" - Unclear scope\n\n### Good Size\n- \"Create JWT token generation utility\"\n- \"Add password hashing to user model\"\n- \"Create login API endpoint with validation\"\n- \"Add auth middleware to protected routes\"\n- \"Write integration tests for auth flow\"\n\n### Verification Examples\n\nFor a new API endpoint:\n```json\n{\n  \"command\": \"npm test -- auth.test.ts\",\n  \"description\": \"Auth tests pass\"\n},\n{\n  \"command\": \"curl -X POST http://localhost:3000/api/login -d '{\\\"email\\\":\\\"test@test.com\\\",\\\"password\\\":\\\"test\\\"}' -H 'Content-Type: application/json'\",\n  \"description\": \"Login endpoint responds\",\n  \"expectedOutput\": \"token\"\n}\n```\n\nFor a refactoring task:\n```json\n{\n  \"command\": \"npm run typecheck\",\n  \"description\": \"No type errors\"\n},\n{\n  \"command\": \"npm test\",\n  \"description\": \"All existing tests still pass\"\n}\n```\n\n## Invoking the Feature Planner Agent\n\nFor complex features, this command may invoke the `feature-planner` agent for deeper exploration:\n\n```\nUse Task tool with subagent_type=\"feature-planner\"\nPrompt: \"Explore and plan: [feature description]\"\n```\n\nThe agent will perform thorough codebase exploration before generating work items.\n",
        "plugins/project-context-sync/commands/sync-context.md": "---\ndescription: Synchronize project context - read current state and update PROGRESS.md\nallowed-tools: Read, Write, Edit, Bash(git:*)\n---\n\n# Sync Project Context\n\nSynchronize project documentation with actual code state.\n\n## Steps\n\n1. **Read current state**:\n   - Read `.claude/PROGRESS.md` if it exists\n   - Run `git log --oneline -10` for recent history\n   - Run `git status` for uncommitted changes\n   - Check `.claude/features.json` if it exists\n\n2. **Analyze drift**:\n   - Compare documented state to actual git history\n   - Identify any undocumented recent work\n   - Note any documented \"in progress\" items that may be complete\n\n3. **Update PROGRESS.md**:\n   - Create file if it doesn't exist (use template from skill)\n   - Update \"Current State\" section\n   - Move completed items to \"Recent Work\"\n   - Refresh \"Next Steps\" based on current priorities\n   - Clear any resolved blockers\n\n4. **Report**:\n   - Summarize what was updated\n   - State the current priority task\n\n## If PROGRESS.md Doesn't Exist\n\nCreate it with this structure:\n\n```markdown\n# Project Progress\n\n## Current State\n\n**Status**: [Assess based on git history and code state]\n\n[Describe current project state based on analysis]\n\n## Recent Work\n\n[Populate from recent git commits]\n\n## Next Steps\n\n1. [Derive from context or ask user]\n\n## Blockers\n\n[None identified, or list any obvious issues]\n```\n\n## Output\n\nAfter syncing, provide:\n- Brief confirmation of what changed\n- Current top priority\n- Any blockers or decisions needed\n",
        "plugins/project-context-sync/commands/whats-next.md": "---\ndescription: Show prioritized next actions from project context\nallowed-tools: Read, Bash(git:*)\n---\n\n# What's Next\n\nDisplay the current priority task and context for starting work.\n\n## Steps\n\n1. Read `.claude/PROGRESS.md`\n2. Read `.claude/features.json` if it exists\n3. Check `git status` for any uncommitted work from previous session\n4. Check `git stash list` for any stashed changes\n\n## Output Format\n\n```\n## Priority Task\n[Top item from Next Steps]\n\n## Context\n[Relevant details from PROGRESS.md]\n\n## Uncommitted Work\n[If any exists from previous session]\n\n## Blockers\n[If any]\n\n## Ready to Start?\n[Brief confirmation or any setup needed]\n```\n\n## If No PROGRESS.md Exists\n\nSuggest running `/sync-context` first to initialize project tracking.\n",
        "plugins/project-context-sync/hooks/hooks.json": "{\n  \"description\": \"Automatic project context synchronization - maintains PROGRESS.md, feature_list.json, and enforces clean session handoffs with verification\",\n  \"version\": \"1.2.0\",\n  \"author\": \"Jason Schulz\",\n  \"lastUpdated\": \"2025-11-30\",\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"description\": \"Initialize plugin state and inject current project context including active features\",\n        \"priority\": 100,\n        \"enabled\": true,\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"node ${CLAUDE_PLUGIN_ROOT}/scripts/session-start.js\",\n            \"description\": \"Reads PROGRESS.md, feature_list.json, runs smoke tests, outputs context for Claude\",\n            \"timeout\": 45\n          }\n        ]\n      }\n    ],\n    \"PostToolUse\": [\n      {\n        \"description\": \"Track file modifications and mark context as potentially stale\",\n        \"matcher\": \"Write|Edit|NotebookEdit\",\n        \"priority\": 50,\n        \"enabled\": true,\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"node ${CLAUDE_PLUGIN_ROOT}/scripts/track-modification.js\",\n            \"description\": \"Records modification events for context staleness detection\",\n            \"timeout\": 5,\n            \"continueOnError\": true,\n            \"suppressOutput\": true\n          }\n        ]\n      }\n    ],\n    \"PreCompact\": [\n      {\n        \"description\": \"Prompt context update before memory compaction\",\n        \"priority\": 80,\n        \"enabled\": true,\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"node ${CLAUDE_PLUGIN_ROOT}/scripts/pre-compact.js\",\n            \"description\": \"Reminds Claude to update PROGRESS.md before context is compacted\",\n            \"timeout\": 5\n          }\n        ]\n      }\n    ],\n    \"Stop\": [\n      {\n        \"description\": \"Pre-validate PROGRESS.md and feature_list.json, run verification commands\",\n        \"priority\": 95,\n        \"enabled\": true,\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"node ${CLAUDE_PLUGIN_ROOT}/scripts/validate-progress.js\",\n            \"description\": \"Validates documentation, runs work item verification commands, updates feature_list.json\",\n            \"timeout\": 120\n          }\n        ]\n      },\n      {\n        \"description\": \"Evaluate session completion including work item verification results\",\n        \"priority\": 90,\n        \"enabled\": true,\n        \"hooks\": [\n          {\n            \"type\": \"prompt\",\n            \"prompt\": \"You are evaluating whether this Claude Code session can stop. A pre-validation script has already run and its output is included in the context.\\n\\nReview the validation results and session context to determine:\\n\\n## 1. Feature Work Item Status (if feature_list.json exists)\\n\\nCheck `details.featureList` in validation output:\\n- If `currentWorkItem` exists and `verificationResults.requiredPassed` is true:\\n  - Work item was verified and marked complete ✅\\n  - This is a clean session end\\n- If `currentWorkItem` exists and `verificationResults.requiredPassed` is false:\\n  - Verification FAILED - block session end\\n  - Show which tests failed from `verificationResults.tests`\\n  - Request fixes before allowing session to end\\n- If `currentWorkItem` has no verification commands:\\n  - Warn but don't block - ask user to confirm work is complete\\n\\n## 2. PROGRESS.md Structure\\n\\nCheck `details.sectionsPresent` and `details.sectionsMissing`:\\n- Required sections: Current State, Recent Work, Next Steps\\n- If sections are missing, the validation output includes a repair template\\n- Block and request the missing sections be added\\n\\n## 3. Documentation Currency\\n\\nCheck:\\n- `commitsSinceUpdate` - if > 0, documentation may be stale\\n- `filesModifiedThisSession` - these should be reflected in PROGRESS.md\\n- `uncommittedChanges` - meaningful changes should be committed\\n\\n## 4. Clean State\\n\\nIs the project ready for the next session?\\n- No half-implemented features\\n- Clear next steps documented\\n- Any blockers noted\\n- If feature work, next work item should be clear\\n\\nSession context: $ARGUMENTS\\n\\nRespond with JSON:\\n- If all requirements met: {\\\"decision\\\": \\\"approve\\\", \\\"reason\\\": \\\"Work item verified and documentation complete.\\\"}\\n- If verification failed: {\\\"decision\\\": \\\"block\\\", \\\"reason\\\": \\\"Work item verification failed: [specific failures]. Fix and re-run verification.\\\"}\\n- If other issues: {\\\"decision\\\": \\\"block\\\", \\\"reason\\\": \\\"Please address: [specific items]\\\"}\",\n            \"timeout\": 60\n          }\n        ]\n      }\n    ],\n    \"SubagentStop\": [\n      {\n        \"description\": \"Ensure subagents document their work before completing\",\n        \"priority\": 80,\n        \"enabled\": true,\n        \"hooks\": [\n          {\n            \"type\": \"prompt\",\n            \"prompt\": \"Verify this subagent completed its assigned task and documented progress appropriately. If the subagent made code changes, they should be noted for the main session's PROGRESS.md update.\\n\\nSubagent context: $ARGUMENTS\\n\\nRespond with JSON: {\\\"decision\\\": \\\"approve\\\", \\\"reason\\\": \\\"...\\\"} if task is complete, or {\\\"decision\\\": \\\"block\\\", \\\"reason\\\": \\\"...\\\"} if work is incomplete.\",\n            \"timeout\": 30\n          }\n        ]\n      }\n    ],\n    \"SessionEnd\": [\n      {\n        \"description\": \"Spawn background context finalization using --resume for continuity\",\n        \"priority\": 100,\n        \"enabled\": true,\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"node ${CLAUDE_PLUGIN_ROOT}/scripts/session-end.js\",\n            \"description\": \"Resumes session for final context update if Stop hook did not complete\",\n            \"timeout\": 10\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "plugins/project-context-sync/skills/project-context/SKILL.md": "---\nname: project-context-sync\ndescription: |\n  Maintains synchronized project context for long-running work across sessions.\n  Use when: starting a session (read context), completing significant work (update context),\n  making architectural decisions (document rationale), or before stopping work (ensure clean handoff).\n  Triggers on: \"continue working\", \"what's next\", \"resume\", \"pick up where\", \"context\", \"progress\",\n  \"document\", \"handoff\", \"session\", \"PROGRESS.md\", \"plan feature\", \"feature list\"\n---\n\n# Project Context Synchronization\n\nThis skill ensures Claude maintains accurate project state across sessions, following patterns from Anthropic's long-running agent research.\n\n## Core Philosophy\n\nEach session should:\n1. **Start informed**: Read existing context before diving in\n2. **Work incrementally**: One feature at a time, commit often\n3. **End verified**: Run verification commands before marking work complete\n4. **End clean**: Leave documentation that your future self (next session) can understand\n\n## Context Files\n\n### .claude/PROGRESS.md\n\nThis is the **semantic bridge** between sessions. It answers: \"What was I doing? What's next?\"\n\nRequired sections:\n- **Current State**: What's working, what's broken\n- **Recent Work**: Last 3-5 significant changes with rationale\n- **Next Steps**: Prioritized list of what to work on\n- **Blockers** (optional): Known issues or decisions needed\n- **Architecture Decisions** (optional): Why significant choices were made\n\n### .claude/feature_list.json (For Multi-Session Features)\n\nWhen working on features that span multiple sessions, use this structured format:\n\n```json\n{\n  \"feature\": \"User Authentication\",\n  \"description\": \"Add JWT-based authentication with login/logout\",\n  \"created\": \"2025-01-15T10:00:00Z\",\n  \"status\": \"in-progress\",\n  \"estimatedSessions\": 4,\n  \"completedSessions\": 1,\n  \"items\": [\n    {\n      \"id\": \"item-001\",\n      \"description\": \"Create JWT token generation utility\",\n      \"status\": \"complete\",\n      \"acceptanceCriteria\": [\n        \"Generates valid JWT tokens\",\n        \"Tokens include user ID and expiration\"\n      ],\n      \"verification\": [\n        {\n          \"command\": \"npm test -- --grep 'JWT'\",\n          \"description\": \"JWT tests pass\"\n        }\n      ],\n      \"completedAt\": \"2025-01-15T14:30:00Z\",\n      \"sessionId\": \"abc123\"\n    },\n    {\n      \"id\": \"item-002\",\n      \"description\": \"Create login API endpoint\",\n      \"status\": \"in-progress\",\n      \"acceptanceCriteria\": [\n        \"POST /api/login accepts email/password\",\n        \"Returns JWT token on success\",\n        \"Returns 401 on failure\"\n      ],\n      \"verification\": [\n        {\n          \"command\": \"npm test -- auth.test.ts\",\n          \"description\": \"Auth tests pass\"\n        },\n        {\n          \"command\": \"curl -X POST http://localhost:3000/api/login -d '{}'\",\n          \"description\": \"Login endpoint responds\",\n          \"expectedOutput\": \"401\"\n        }\n      ],\n      \"dependencies\": [\"item-001\"]\n    }\n  ],\n  \"metadata\": {\n    \"complexity\": \"medium\",\n    \"riskFactors\": [\"Breaking API changes\"],\n    \"relatedFiles\": [\"src/auth/\", \"src/middleware/\"]\n  }\n}\n```\n\n**Key Benefits:**\n- Session-sized work items with clear boundaries\n- Verification commands run automatically before session end\n- Smoke tests on session start verify previous work still passes\n- Progress tracking across sessions\n\n### .claude/context-sync.json (Optional)\n\nPlugin configuration:\n\n```json\n{\n  \"enabled\": true,\n  \"requireProgressFile\": false,\n  \"gitHistoryLines\": 10,\n  \"showFullProgress\": true,\n  \"quietStart\": false,\n  \"runSmokeTests\": true,\n  \"smokeTestTimeout\": 30,\n  \"verificationTimeout\": 60,\n  \"autoUpdateFeatureList\": true,\n  \"requireVerificationPass\": true\n}\n```\n\n## Session Workflow\n\n### On Session Start\n\nThe plugin automatically:\n1. Injects PROGRESS.md content\n2. Shows active feature progress (if feature_list.json exists)\n3. Runs smoke tests on last completed work item\n4. Displays next work item with acceptance criteria\n\nYou should:\n1. **Review context**: Check for regression warnings\n2. **Confirm next task**: Usually the suggested work item\n3. **Mark item in-progress**: Update feature_list.json if needed\n\n### During Work\n\n- **Commit incrementally**: After each logical unit of work\n- **Use descriptive messages**: Future sessions read these\n- **Test continuously**: Don't wait until the end\n- **Update PROGRESS.md**: After completing significant milestones\n\n### Before Stopping\n\nThe Stop hook will:\n1. Run verification commands for current work item\n2. If verification passes, mark item complete\n3. Validate PROGRESS.md structure\n4. Check for uncommitted changes\n\nIf verification fails, you'll be prompted to fix issues.\n\n## Commands\n\n- `/sync-context` - Force synchronize context (read + update)\n- `/whats-next` - Show prioritized next actions\n- `/plan-feature <description>` - Create feature_list.json with work items\n\n## Planning Multi-Session Features\n\nUse `/plan-feature` for complex work:\n\n```\n/plan-feature Add user authentication with JWT tokens\n```\n\nThis triggers the planning workflow:\n1. **Discovery**: Explore codebase for relevant code\n2. **Architecture**: Design the approach, identify risks\n3. **Work Items**: Break into session-sized pieces\n4. **Verification**: Define commands to prove completion\n\nThe result is a `feature_list.json` that guides subsequent sessions.\n\n### Good Work Item Sizing\n\n**Too Large:**\n- \"Implement authentication\" (vague, multiple sessions)\n- \"Refactor the entire auth module\" (unclear scope)\n\n**Good:**\n- \"Create JWT token generation utility\"\n- \"Add password hashing to user model\"\n- \"Create login API endpoint with validation\"\n- \"Add auth middleware to protected routes\"\n\n### Good Verification Commands\n\n```json\n{\n  \"verification\": [\n    {\n      \"command\": \"npm test -- auth.test.ts\",\n      \"description\": \"Auth tests pass\"\n    },\n    {\n      \"command\": \"npm run typecheck\",\n      \"description\": \"No TypeScript errors\"\n    },\n    {\n      \"command\": \"npm run lint\",\n      \"description\": \"No lint errors\"\n    }\n  ]\n}\n```\n\n## Best Practices\n\n### Commit Messages\nWrite for your future self:\n- Bad: \"fix bug\"\n- Good: \"Fix auth token refresh failing after 24h - was comparing timestamps in wrong timezone\"\n\n### Progress Updates\nBe specific:\n- Bad: \"Worked on auth\"\n- Good: \"Implemented password reset flow. Email sending works, but reset link expiration not yet tested.\"\n\n### Incremental Work\nFrom Anthropic's research: \"Ask the model to work on only one feature at a time.\"\n\nIf a task is too large for one session:\n1. Use `/plan-feature` to create work items\n2. Each session completes one work item\n3. Verification ensures clean handoffs\n\n## Integration with Git\n\nThis skill complements git, not replaces it:\n- **Git**: What changed (code)\n- **PROGRESS.md**: Why it changed, what's next (intent)\n- **feature_list.json**: Structured progress tracking (state machine)\n\nTogether they form a complete picture for the next session.\n\n## Workflow Example\n\n**Session 1: Planning**\n```\n> /plan-feature Add user notifications\n```\nCreates feature_list.json with 5 work items.\n\n**Session 2: Item 1**\n- Start: See \"item-001: Create notification model\"\n- Work: Implement model, write tests\n- End: Verification runs → Tests pass → Item marked complete\n\n**Session 3: Item 2**\n- Start: Smoke test on item-001 passes ✅\n- See \"item-002: Create notification service\"\n- Work: Implement service\n- End: Verification runs → All tests pass\n\n**Session N: Complete**\n- All items complete\n- Feature status → \"complete\"\n- PROGRESS.md updated with summary\n"
      },
      "plugins": [
        {
          "name": "project-context-sync",
          "source": "./plugins/project-context-sync",
          "description": "Automatic project context synchronization for long-running agent work",
          "version": "1.1.0",
          "author": {
            "name": "Jason Schulz"
          },
          "category": "productivity",
          "homepage": "https://github.com/jasonpaulso/jasonschulz-plugins",
          "keywords": [
            "context",
            "memory",
            "long-running",
            "progress",
            "documentation",
            "session",
            "handoff"
          ],
          "categories": [
            "context",
            "documentation",
            "handoff",
            "long-running",
            "memory",
            "productivity",
            "progress",
            "session"
          ],
          "install_commands": [
            "/plugin marketplace add jasonpaulso/jasonschulz-plugins",
            "/plugin install project-context-sync@jasonschulz-plugins"
          ]
        }
      ]
    }
  ]
}