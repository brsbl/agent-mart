{
  "author": {
    "id": "open-horizon-labs",
    "display_name": "Open Horizon Labs",
    "avatar_url": "https://avatars.githubusercontent.com/u/151782585?v=4"
  },
  "marketplaces": [
    {
      "name": "superego",
      "version": null,
      "description": "Superego plugin marketplace",
      "repo_full_name": "open-horizon-labs/superego",
      "repo_url": "https://github.com/open-horizon-labs/superego",
      "repo_description": null,
      "signals": {
        "stars": 12,
        "forks": 0,
        "pushed_at": "2026-01-24T14:16:46Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"superego\",\n  \"owner\": {\n    \"name\": \"Cloud Atlas AI\",\n    \"email\": \"hello@cloudatlas.ai\"\n  },\n  \"metadata\": {\n    \"description\": \"Superego plugin marketplace\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"superego\",\n      \"source\": \"./plugin\",\n      \"description\": \"Metacognitive advisor that monitors Claude Code and provides feedback\",\n      \"version\": \"0.9.7\",\n      \"author\": {\n        \"name\": \"Cloud Atlas AI\"\n      }\n    }\n  ]\n}\n",
        "README.md": "# Superego\n\nA metacognitive advisor for AI coding assistants. Monitors conversations, evaluates the assistant's approach, and provides feedback before finishing.\n\n**Supported platforms:**\n- **Claude Code** - Full support via plugin\n- **OpenAI Codex CLI** - Alpha support via skill (see [codex-skill/](codex-skill/))\n- **OpenCode** - Alpha support via TypeScript plugin (see [opencode-plugin/](opencode-plugin/))\n\n## What It Does\n\nWhen you use Claude Code (or OpenCode) with superego enabled:\n\n1. **Session starts** - Claude is told superego is active and to take feedback seriously\n2. **Claude works** - You interact normally with Claude\n3. **Before large edits** - Superego evaluates proposed changes in context (Edit/Write over 20 lines)\n4. **Before Claude finishes** - Superego evaluates the full conversation\n5. **If concerns found** - Claude is blocked and shown the feedback\n6. **Claude continues** - Incorporates feedback, may ask you clarifying questions\n7. **Clean exit** - Once addressed (or no concerns), Claude finishes normally\n\nThis creates feedback loops where Claude can course-correct both during work and before presenting results.\n\n## Quickstart: Claude Code\n\n```bash\n# 1. Install the plugin\n/plugin marketplace add cloud-atlas-ai/superego\n/plugin install superego@superego\n\n# 2. Initialize in your project (installs binary if needed)\n/superego:init\n```\n\nThe `/superego:init` command detects if the binary is missing and offers to install it via Homebrew or Cargo.\n\n### Level Up: Strategic Alignment with Open Horizons\n\nSuperego provides metacognitive feedback—but feedback without strategic context is incomplete. For the full power of aligned AI development, combine superego with **[Open Horizons MCP](https://github.com/cloud-atlas-ai/oh-mcp-server)**:\n\n```bash\n# Add OH MCP marketplace\n/plugin marketplace add cloud-atlas-ai/oh-mcp-server\n/plugin install oh-mcp@oh-mcp-server\n\n# Configure\n/oh-mcp:setup\n```\n\n**What you get:**\n- Superego monitors *how* Claude works (metacognitive feedback)\n- OH MCP connects *why* Claude works (strategic alignment)\n- Every decision traces back to your missions and aims\n- Claude logs decisions directly to your strategic framework\n\nLearn more: [OH MCP Server](https://github.com/cloud-atlas-ai/oh-mcp-server) | [Open Horizons](https://app.openhorizons.me)\n\n### Slash Commands\n\n| Command | Description |\n|---------|-------------|\n| `/superego:init` | Initialize superego for this project (offers binary install if needed) |\n| `/superego:status` | Check if plugin, binary, and project are configured |\n| `/superego:prompt` | Manage prompts: list, switch (code/writing), show current |\n| `/superego:review` | On-demand review of changes (staged, pr, or file) |\n| `/superego:enable` | Enable superego (offers init if not set up) |\n| `/superego:disable` | Temporarily disable for current session |\n| `/superego:remove` | Remove superego from project |\n\n### Updating\n\n```bash\nclaude plugin marketplace update superego   # Refresh cache\nclaude plugin update superego@superego      # Update plugin\n# Restart Claude Code to apply\n```\n\n### Manual binary installation\n\nIf you prefer to install the `sg` binary manually instead of via `/superego:init`:\n\n```bash\n# Homebrew (macOS)\nbrew install cloud-atlas-ai/superego/superego\n\n# Cargo (cross-platform)\ncargo install superego\n\n# From source\ngit clone https://github.com/cloud-atlas-ai/superego.git\ncd superego && cargo install --path .\n```\n\nThen run `sg init` in your project to create `.superego/`.\n\n## Quickstart: OpenCode (Alpha)\n\nOpenCode support is in alpha. It uses a TypeScript plugin that runs entirely within OpenCode—no separate binary needed.\n\n```bash\n# 1. Download plugin to your project\nmkdir -p .opencode/plugin\ncurl -L -o .opencode/plugin/superego.js \\\n  https://github.com/cloud-atlas-ai/superego/releases/latest/download/index.js\n\n# 2. Start OpenCode and initialize\nopencode\n# Ask: \"use superego init\"\n```\n\nOr install globally:\n```bash\nmkdir -p ~/.config/opencode/plugin\ncurl -L -o ~/.config/opencode/plugin/superego.js \\\n  https://github.com/cloud-atlas-ai/superego/releases/latest/download/index.js\n```\n\nSee [opencode-plugin/README.md](opencode-plugin/README.md) for build-from-source instructions and detailed configuration.\n\n## Quickstart: OpenAI Codex CLI (Alpha)\n\nCodex support uses a skill that the agent can invoke at decision points.\n\n```bash\n# 1. Install the skill\nmkdir -p ~/.codex/skills/superego\ncurl -L -o ~/.codex/skills/superego/SKILL.md \\\n  https://raw.githubusercontent.com/cloud-atlas-ai/superego/main/codex-skill/SKILL.md\n\n# 2. In Codex, ask the agent to set up:\n#    \"$superego init\"\n```\n\nThe `$superego init` command installs the binary, creates `.superego/`, and adds AGENTS.md guidance automatically.\n\nAfter setup, the agent calls `$superego` at decision points to evaluate the conversation.\n\nSee [codex-skill/](codex-skill/) for details.\n\n## What You'll See\n\nWhen superego has feedback, Claude will continue working instead of stopping, addressing concerns like:\n- Scope drift from the current task\n- Missing error handling or edge cases\n- Approaches that don't align with project conventions\n- Incomplete implementations\n\nIf Claude disagrees with non-trivial feedback, it will escalate to you for a decision.\n\n## Debugging\n\n### Check if hooks are firing\n```bash\ntail -f .superego/hook.log\n```\n\nYou'll see:\n```\n[15:42:01] Hook fired\n[15:42:01] Running: sg evaluate-llm\n[15:42:03] Evaluation complete\n[15:42:03] Blocking with feedback: Consider error handling...\n```\n\n### Check superego state\n```bash\ncat .superego/state.json        # Last evaluation timestamp\ncat .superego/feedback          # Pending feedback (if any)\nls .superego/decisions/         # Audit trail of all feedback\n```\n\n### Manual evaluation\n```bash\nsg evaluate-llm --transcript-path ~/.claude/projects/<project>/transcript.jsonl\n```\n\n### Reset everything\n```bash\nsg reset    # Removes .superego/ directory\nsg init     # Fresh start\n```\n\n### Migrating from legacy hooks\n\nIf you previously used `sg init` before v0.4.0 (which created `.claude/hooks/superego/`):\n```bash\n/plugin marketplace add cloud-atlas-ai/superego\n/plugin install superego@superego\nsg migrate  # Remove legacy hooks\n```\n\n## Customization\n\n### Prompt Types\n\nSuperego ships with multiple prompts for different use cases:\n\n| Prompt | Description |\n|--------|-------------|\n| `code` | Metacognitive advisor for coding agents (default) |\n| `writing` | Co-author reviewer for writing and content creation |\n\nSwitch prompts via CLI or slash command:\n\n```bash\nsg prompt list              # Show available prompts\nsg prompt switch writing    # Switch to writing prompt\nsg prompt show              # Show current prompt info\n\n# Or in Claude Code:\n/superego:prompt switch writing\n```\n\nYour customizations are preserved when switching—each prompt type has its own backup (`prompt.<type>.md.bak`).\n\n### Custom Prompt Editing\n\nEdit `.superego/prompt.md` to customize what superego evaluates:\n- Add project-specific guidelines\n- Adjust strictness\n- Focus on particular concerns\n\n### Environment Variables\n\n- `SUPEREGO_DISABLED=1` - Disable superego entirely\n- `SUPEREGO_CHANGE_THRESHOLD=N` - Lines required to trigger PreToolUse evaluation (default: 20)\n\n## How It Works\n\n```\nSessionStart hook\n    └── Injects contract: \"SUPEREGO ACTIVE: critically evaluate feedback...\"\n\nPreToolUse hook (before any tool)\n    ├── Checks if periodic eval is due (time-based)\n    ├── For Edit/Write: checks change size (lines added/modified)\n    ├── If >= threshold (default 20): runs sg evaluate-llm with pending change\n    ├── If concerns: returns {\"decision\":\"block\",\"reason\":\"SUPEREGO FEEDBACK: ...\"}\n    │   └── Claude sees feedback, reconsiders the change\n    └── If small or clean: allows tool execution\n\nStop hook (when Claude tries to finish)\n    ├── Runs sg evaluate-llm\n    ├── Reads transcript since last evaluation\n    ├── Sends to LLM with superego prompt\n    ├── If concerns: returns {\"decision\":\"block\",\"reason\":\"SUPEREGO FEEDBACK: ...\"}\n    │   └── Claude sees feedback, continues working\n    └── If clean: allows stop\n\nPreCompact hook (before context truncation)\n    └── Same as Stop - evaluates before transcript is lost\n```\n\n## Commands\n\n```bash\nsg init              # Initialize superego (creates .superego/)\nsg migrate           # Remove legacy hooks (for users upgrading from < v0.4.0)\nsg reset             # Remove .superego/ directory\nsg prompt list       # Show available prompts\nsg prompt switch X   # Switch to prompt X (code, writing)\nsg prompt show       # Show current prompt info\nsg review            # Review staged changes (or uncommitted if nothing staged)\nsg review pr         # Review PR diff vs base branch\nsg review <file>     # Review changes in a specific file\nsg evaluate-llm      # Run LLM evaluation (called by hooks)\nsg has-feedback      # Check for pending feedback (exit 0=yes, 1=no)\nsg get-feedback      # Get and clear pending feedback\nsg --version         # Show version\n```\n\n## Requirements\n\n- Claude Code CLI\n- `jq` (for hook JSON parsing)\n- Rust toolchain (to build from source) or Homebrew (for pre-built binary)\n\n## License\n\nSource-available. See [LICENSE](LICENSE) for details.\n"
      },
      "plugins": [
        {
          "name": "superego",
          "source": "./plugin",
          "description": "Metacognitive advisor that monitors Claude Code and provides feedback",
          "version": "0.9.7",
          "author": {
            "name": "Cloud Atlas AI"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add open-horizon-labs/superego",
            "/plugin install superego@superego"
          ]
        }
      ]
    },
    {
      "name": "miranda",
      "version": null,
      "description": "Miranda plugin marketplace - Mouse, Drummer, and Notes skills",
      "repo_full_name": "open-horizon-labs/miranda",
      "repo_url": "https://github.com/open-horizon-labs/miranda",
      "repo_description": null,
      "signals": {
        "stars": 7,
        "forks": 0,
        "pushed_at": "2026-01-29T20:06:07Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"miranda\",\n  \"owner\": {\n    \"name\": \"Drazen Urch\",\n    \"email\": \"drazen@urch.eu\"\n  },\n  \"metadata\": {\n    \"description\": \"Miranda plugin marketplace - Mouse, Drummer, and Notes skills\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"miranda\",\n      \"source\": \"./plugin\",\n      \"description\": \"Mouse, Drummer, and Notes skills for autonomous task execution, batch PR merging, and PR feedback handling\",\n      \"version\": \"0.2.0\",\n      \"author\": {\n        \"name\": \"Drazen Urch\"\n      }\n    }\n  ]\n}\n",
        "README.md": "# Miranda\n\nTelegram bot for remote Claude orchestration. The ractor who gives voice to the Primer.\n\n> *Named after Miranda from Neal Stephenson's \"The Diamond Age\" - the ractor who voices the Young Lady's Illustrated Primer for Nell.*\n\n## What is Miranda?\n\nMiranda lets you orchestrate Claude Code sessions from your phone via Telegram:\n\n- **Start autonomous tasks** - Spawn Claude workers that claim GitHub issues, work them in isolated branches, and create PRs\n- **Answer questions remotely** - When Claude needs input, get a notification and respond via inline buttons\n- **Batch merge PRs** - Review and merge multiple PRs as a cohesive batch\n- **Address PR feedback** - Handle review comments autonomously\n- **Monitor progress** - Check session status and logs from anywhere\n\n## Components\n\n| Name | Role | Reference |\n|------|------|-----------|\n| **Miranda** | Telegram bot | The ractor who voices the Primer |\n| **oh-plan** | Task planner | Investigates and creates GitHub issues |\n| **oh-task** | Issue worker | Works GitHub issues autonomously |\n| **oh-merge** | Batch merger | Merges GitHub issue PRs in rhythm |\n| **oh-notes** | PR feedback | Addresses review comments |\n\n## Claude Code Plugin\n\nMiranda includes skills for Claude Code that can be installed via the plugin marketplace:\n\n```bash\n# Add the marketplace\nclaude plugin marketplace add cloud-atlas-ai/miranda\n\n# Install the plugin\nclaude plugin install miranda@miranda\n```\n\n### Skills\n\n#### GitHub Issue Workflow (Recommended)\n\n**oh-plan** (`oh-plan '<task description>'`)\n- Takes a high-level task description\n- Investigates the codebase for relevant files and patterns\n- Asks clarifying questions via AskUserQuestion\n- Creates GitHub issue(s) with `oh-planned` label\n- Issues are ready for oh-task to work on\n\n**oh-task** (`oh-task <issue-number> [base-branch]`)\n- Claims a GitHub issue and works it to completion\n- Creates isolated git worktree on `issue/<number>` branch\n- Runs superego review before committing\n- Creates PR with \"Closes #N\" for auto-close\n- Handles stacked PRs when base-branch is specified\n\n**oh-merge** (`oh-merge`)\n- Finds all PRs with `oh-merge` label\n- Runs holistic batch review across all changes\n- Detects and handles stacked PRs\n- Squash merges in dependency order\n- GitHub auto-closes linked issues\n\n**oh-notes** (`oh-notes <pr-number>`)\n- Addresses review comments on GitHub issue PRs\n- Creates GitHub issues for descendant tasks (from sg review findings)\n- Works in isolated worktree, pushes fixes\n\n#### Legacy ba Workflow (Deprecated)\n\n> **Note:** The ba-based skills are deprecated. Use the GitHub issue workflow above for new projects.\n\n**mouse** (`mouse <task-id> [base-branch]`) - *Deprecated*\n- Claims a ba task and works it to completion\n- Use `oh-task` instead for GitHub issue-based workflow\n\n**drummer** (`drummer`) - *Deprecated*\n- Finds all PRs with `drummer-merge` label\n- Use `oh-merge` instead for GitHub issue-based workflow\n\n**notes** (`notes <pr-number>`) - *Deprecated*\n- Addresses review comments on ba task PRs\n- Use `oh-notes` instead for GitHub issue-based workflow\n\n## Architecture\n\n```\nPhone <-> Telegram <-> Miranda <-> tmux sessions (Claude /oh-task)\n                          ^\n                    PreToolUse hook (notify-miranda.sh)\n```\n\nWhen Claude calls `AskUserQuestion`, a hook notifies Miranda, which sends a Telegram message with inline buttons. Your response is piped back to the tmux session.\n\n## Setup\n\n### Bot Setup\n\n1. Create a Telegram bot via [@BotFather](https://t.me/BotFather)\n2. Get your Telegram user ID (use [@userinfobot](https://t.me/userinfobot))\n3. Configure environment:\n\n```bash\ncp .env.example .env\n# Edit .env with your values:\n# TELEGRAM_BOT_TOKEN=xxx\n# ALLOWED_USER_IDS=123,456\n```\n\n### Server Setup\n\n```bash\n# Install dependencies\npnpm install\n\n# Development\npnpm dev\n\n# Production\npnpm build\npnpm start\n```\n\n### Claude Code Setup\n\nOn the server where Claude runs:\n\n```bash\n# Install the miranda plugin\nclaude plugin marketplace add cloud-atlas-ai/miranda\nclaude plugin install miranda@miranda\n\n# Configure hook for notifications (in ~/.claude/settings.json)\n# The plugin handles this automatically\n```\n\n## Telegram Commands\n\n### GitHub Issue Workflow\n\n| Command | Action |\n|---------|--------|\n| `/ohplan <project> <description>` | Plan task and create GitHub issues |\n| `/ohtask <project> <issue> [branch]` | Start oh-task skill for GitHub issue |\n| `/ohmerge <project>` | Batch merge GitHub issue PRs (oh-merge label) |\n| `/ohnotes <project> <pr>` | Address GitHub issue PR feedback |\n\n### Project Management\n\n| Command | Action |\n|---------|--------|\n| `/projects` | List projects on server with task counts |\n| `/tasks <project>` | List tasks for a project |\n| `/newproject <repo>` | Clone GitHub repo and init sg |\n| `/pull` | Pull all clean projects |\n\n### Session Management\n\n| Command | Action |\n|---------|--------|\n| `/status` | Show active sessions |\n| `/stop <task>` | Kill a session |\n| `/logs <task>` | Show recent output |\n| `/cleanup` | Remove orphaned sessions |\n| `/killall` | Kill all sessions |\n\n### System\n\n| Command | Action |\n|---------|--------|\n| `/selfupdate` | Pull and rebuild Miranda |\n| `/restart` | Graceful restart |\n| `/reset <project>` | Hard reset project to origin |\n| `/ssh` | Get SSH command |\n\n### Legacy (Deprecated)\n\n| Command | Action |\n|---------|--------|\n| `/mouse <task> [branch]` | Start mouse skill for ba task |\n| `/drummer <project>` | Batch merge ba PRs |\n| `/notes <project> <pr>` | Address ba PR feedback |\n\n## Dependencies\n\nMiranda works best with these tools installed on the server:\n\n- [superego](https://github.com/cloud-atlas-ai/superego) - Metacognitive code review\n- [gh](https://cli.github.com/) - GitHub CLI for PR and issue operations\n- [ba](https://github.com/cloud-atlas-ai/ba) - Task tracking (only for legacy workflow)\n\n## License\n\nSource-available. See [LICENSE](LICENSE) for details.\n\n## Related Projects\n\n- [Open Horizons](https://github.com/cloud-atlas-ai/open-horizons) - Strategic alignment platform\n- [Superego](https://github.com/cloud-atlas-ai/superego) - Metacognitive advisor for AI assistants\n- [WM](https://github.com/cloud-atlas-ai/wm) - Working memory for AI assistants\n"
      },
      "plugins": [
        {
          "name": "miranda",
          "source": "./plugin",
          "description": "Mouse, Drummer, and Notes skills for autonomous task execution, batch PR merging, and PR feedback handling",
          "version": "0.2.0",
          "author": {
            "name": "Drazen Urch"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add open-horizon-labs/miranda",
            "/plugin install miranda@miranda"
          ]
        }
      ]
    }
  ]
}