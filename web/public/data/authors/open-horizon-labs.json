{
  "author": {
    "id": "open-horizon-labs",
    "display_name": "Open Horizon Labs",
    "avatar_url": "https://avatars.githubusercontent.com/u/151782585?v=4"
  },
  "marketplaces": [
    {
      "name": "superego",
      "version": null,
      "description": "Superego plugin marketplace",
      "repo_full_name": "open-horizon-labs/superego",
      "repo_url": "https://github.com/open-horizon-labs/superego",
      "repo_description": null,
      "signals": {
        "stars": 13,
        "forks": 0,
        "pushed_at": "2026-01-24T14:16:46Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"superego\",\n  \"owner\": {\n    \"name\": \"Cloud Atlas AI\",\n    \"email\": \"hello@cloudatlas.ai\"\n  },\n  \"metadata\": {\n    \"description\": \"Superego plugin marketplace\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"superego\",\n      \"source\": \"./plugin\",\n      \"description\": \"Metacognitive advisor that monitors Claude Code and provides feedback\",\n      \"version\": \"0.9.7\",\n      \"author\": {\n        \"name\": \"Cloud Atlas AI\"\n      }\n    }\n  ]\n}\n",
        "README.md": "# Superego\n\nA metacognitive advisor for AI coding assistants. Monitors conversations, evaluates the assistant's approach, and provides feedback before finishing.\n\n**Supported platforms:**\n- **Claude Code** - Full support via plugin\n- **OpenAI Codex CLI** - Alpha support via skill (see [codex-skill/](codex-skill/))\n- **OpenCode** - Alpha support via TypeScript plugin (see [opencode-plugin/](opencode-plugin/))\n\n## What It Does\n\nWhen you use Claude Code (or OpenCode) with superego enabled:\n\n1. **Session starts** - Claude is told superego is active and to take feedback seriously\n2. **Claude works** - You interact normally with Claude\n3. **Before large edits** - Superego evaluates proposed changes in context (Edit/Write over 20 lines)\n4. **Before Claude finishes** - Superego evaluates the full conversation\n5. **If concerns found** - Claude is blocked and shown the feedback\n6. **Claude continues** - Incorporates feedback, may ask you clarifying questions\n7. **Clean exit** - Once addressed (or no concerns), Claude finishes normally\n\nThis creates feedback loops where Claude can course-correct both during work and before presenting results.\n\n## Quickstart: Claude Code\n\n```bash\n# 1. Install the plugin\n/plugin marketplace add cloud-atlas-ai/superego\n/plugin install superego@superego\n\n# 2. Initialize in your project (installs binary if needed)\n/superego:init\n```\n\nThe `/superego:init` command detects if the binary is missing and offers to install it via Homebrew or Cargo.\n\n### Level Up: Strategic Alignment with Open Horizons\n\nSuperego provides metacognitive feedback—but feedback without strategic context is incomplete. For the full power of aligned AI development, combine superego with **[Open Horizons MCP](https://github.com/cloud-atlas-ai/oh-mcp-server)**:\n\n```bash\n# Add OH MCP marketplace\n/plugin marketplace add cloud-atlas-ai/oh-mcp-server\n/plugin install oh-mcp@oh-mcp-server\n\n# Configure\n/oh-mcp:setup\n```\n\n**What you get:**\n- Superego monitors *how* Claude works (metacognitive feedback)\n- OH MCP connects *why* Claude works (strategic alignment)\n- Every decision traces back to your missions and aims\n- Claude logs decisions directly to your strategic framework\n\nLearn more: [OH MCP Server](https://github.com/cloud-atlas-ai/oh-mcp-server) | [Open Horizons](https://app.openhorizons.me)\n\n### Slash Commands\n\n| Command | Description |\n|---------|-------------|\n| `/superego:init` | Initialize superego for this project (offers binary install if needed) |\n| `/superego:status` | Check if plugin, binary, and project are configured |\n| `/superego:prompt` | Manage prompts: list, switch (code/writing), show current |\n| `/superego:review` | On-demand review of changes (staged, pr, or file) |\n| `/superego:enable` | Enable superego (offers init if not set up) |\n| `/superego:disable` | Temporarily disable for current session |\n| `/superego:remove` | Remove superego from project |\n\n### Updating\n\n```bash\nclaude plugin marketplace update superego   # Refresh cache\nclaude plugin update superego@superego      # Update plugin\n# Restart Claude Code to apply\n```\n\n### Manual binary installation\n\nIf you prefer to install the `sg` binary manually instead of via `/superego:init`:\n\n```bash\n# Homebrew (macOS)\nbrew install cloud-atlas-ai/superego/superego\n\n# Cargo (cross-platform)\ncargo install superego\n\n# From source\ngit clone https://github.com/cloud-atlas-ai/superego.git\ncd superego && cargo install --path .\n```\n\nThen run `sg init` in your project to create `.superego/`.\n\n## Quickstart: OpenCode (Alpha)\n\nOpenCode support is in alpha. It uses a TypeScript plugin that runs entirely within OpenCode—no separate binary needed.\n\n```bash\n# 1. Download plugin to your project\nmkdir -p .opencode/plugin\ncurl -L -o .opencode/plugin/superego.js \\\n  https://github.com/cloud-atlas-ai/superego/releases/latest/download/index.js\n\n# 2. Start OpenCode and initialize\nopencode\n# Ask: \"use superego init\"\n```\n\nOr install globally:\n```bash\nmkdir -p ~/.config/opencode/plugin\ncurl -L -o ~/.config/opencode/plugin/superego.js \\\n  https://github.com/cloud-atlas-ai/superego/releases/latest/download/index.js\n```\n\nSee [opencode-plugin/README.md](opencode-plugin/README.md) for build-from-source instructions and detailed configuration.\n\n## Quickstart: OpenAI Codex CLI (Alpha)\n\nCodex support uses a skill that the agent can invoke at decision points.\n\n```bash\n# 1. Install the skill\nmkdir -p ~/.codex/skills/superego\ncurl -L -o ~/.codex/skills/superego/SKILL.md \\\n  https://raw.githubusercontent.com/cloud-atlas-ai/superego/main/codex-skill/SKILL.md\n\n# 2. In Codex, ask the agent to set up:\n#    \"$superego init\"\n```\n\nThe `$superego init` command installs the binary, creates `.superego/`, and adds AGENTS.md guidance automatically.\n\nAfter setup, the agent calls `$superego` at decision points to evaluate the conversation.\n\nSee [codex-skill/](codex-skill/) for details.\n\n## What You'll See\n\nWhen superego has feedback, Claude will continue working instead of stopping, addressing concerns like:\n- Scope drift from the current task\n- Missing error handling or edge cases\n- Approaches that don't align with project conventions\n- Incomplete implementations\n\nIf Claude disagrees with non-trivial feedback, it will escalate to you for a decision.\n\n## Debugging\n\n### Check if hooks are firing\n```bash\ntail -f .superego/hook.log\n```\n\nYou'll see:\n```\n[15:42:01] Hook fired\n[15:42:01] Running: sg evaluate-llm\n[15:42:03] Evaluation complete\n[15:42:03] Blocking with feedback: Consider error handling...\n```\n\n### Check superego state\n```bash\ncat .superego/state.json        # Last evaluation timestamp\ncat .superego/feedback          # Pending feedback (if any)\nls .superego/decisions/         # Audit trail of all feedback\n```\n\n### Manual evaluation\n```bash\nsg evaluate-llm --transcript-path ~/.claude/projects/<project>/transcript.jsonl\n```\n\n### Reset everything\n```bash\nsg reset    # Removes .superego/ directory\nsg init     # Fresh start\n```\n\n### Migrating from legacy hooks\n\nIf you previously used `sg init` before v0.4.0 (which created `.claude/hooks/superego/`):\n```bash\n/plugin marketplace add cloud-atlas-ai/superego\n/plugin install superego@superego\nsg migrate  # Remove legacy hooks\n```\n\n## Customization\n\n### Prompt Types\n\nSuperego ships with multiple prompts for different use cases:\n\n| Prompt | Description |\n|--------|-------------|\n| `code` | Metacognitive advisor for coding agents (default) |\n| `writing` | Co-author reviewer for writing and content creation |\n\nSwitch prompts via CLI or slash command:\n\n```bash\nsg prompt list              # Show available prompts\nsg prompt switch writing    # Switch to writing prompt\nsg prompt show              # Show current prompt info\n\n# Or in Claude Code:\n/superego:prompt switch writing\n```\n\nYour customizations are preserved when switching—each prompt type has its own backup (`prompt.<type>.md.bak`).\n\n### Custom Prompt Editing\n\nEdit `.superego/prompt.md` to customize what superego evaluates:\n- Add project-specific guidelines\n- Adjust strictness\n- Focus on particular concerns\n\n### Environment Variables\n\n- `SUPEREGO_DISABLED=1` - Disable superego entirely\n- `SUPEREGO_CHANGE_THRESHOLD=N` - Lines required to trigger PreToolUse evaluation (default: 20)\n\n## How It Works\n\n```\nSessionStart hook\n    └── Injects contract: \"SUPEREGO ACTIVE: critically evaluate feedback...\"\n\nPreToolUse hook (before any tool)\n    ├── Checks if periodic eval is due (time-based)\n    ├── For Edit/Write: checks change size (lines added/modified)\n    ├── If >= threshold (default 20): runs sg evaluate-llm with pending change\n    ├── If concerns: returns {\"decision\":\"block\",\"reason\":\"SUPEREGO FEEDBACK: ...\"}\n    │   └── Claude sees feedback, reconsiders the change\n    └── If small or clean: allows tool execution\n\nStop hook (when Claude tries to finish)\n    ├── Runs sg evaluate-llm\n    ├── Reads transcript since last evaluation\n    ├── Sends to LLM with superego prompt\n    ├── If concerns: returns {\"decision\":\"block\",\"reason\":\"SUPEREGO FEEDBACK: ...\"}\n    │   └── Claude sees feedback, continues working\n    └── If clean: allows stop\n\nPreCompact hook (before context truncation)\n    └── Same as Stop - evaluates before transcript is lost\n```\n\n## Commands\n\n```bash\nsg init              # Initialize superego (creates .superego/)\nsg migrate           # Remove legacy hooks (for users upgrading from < v0.4.0)\nsg reset             # Remove .superego/ directory\nsg prompt list       # Show available prompts\nsg prompt switch X   # Switch to prompt X (code, writing)\nsg prompt show       # Show current prompt info\nsg review            # Review staged changes (or uncommitted if nothing staged)\nsg review pr         # Review PR diff vs base branch\nsg review <file>     # Review changes in a specific file\nsg evaluate-llm      # Run LLM evaluation (called by hooks)\nsg has-feedback      # Check for pending feedback (exit 0=yes, 1=no)\nsg get-feedback      # Get and clear pending feedback\nsg --version         # Show version\n```\n\n## Requirements\n\n- Claude Code CLI\n- `jq` (for hook JSON parsing)\n- Rust toolchain (to build from source) or Homebrew (for pre-built binary)\n\n## License\n\nSource-available. See [LICENSE](LICENSE) for details.\n"
      },
      "plugins": [
        {
          "name": "superego",
          "source": "./plugin",
          "description": "Metacognitive advisor that monitors Claude Code and provides feedback",
          "version": "0.9.7",
          "author": {
            "name": "Cloud Atlas AI"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add open-horizon-labs/superego",
            "/plugin install superego@superego"
          ]
        }
      ]
    }
  ]
}