{
  "author": {
    "id": "artimath",
    "display_name": "Ryan Hunter",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/19831746?u=105d55c22180816dbcf2c5b1c3637ac9e88dd969&v=4",
    "url": "https://github.com/artimath",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 6,
      "total_skills": 17,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "surf-market",
      "version": null,
      "description": "Personal Claude Code meta tooling marketplace modeled after Anthropic practices.",
      "owner_info": {
        "name": "Artimath",
        "email": "ryan@artimath.dev"
      },
      "keywords": [],
      "repo_full_name": "artimath/surf-market",
      "repo_url": "https://github.com/artimath/surf-market",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-12-22T12:14:01Z",
        "created_at": "2025-12-22T12:04:17Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 718
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 518
        },
        {
          "path": "plugins/claude-code-meta/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/commands/build-command.md",
          "type": "blob",
          "size": 2231
        },
        {
          "path": "plugins/claude-code-meta/commands/build-hook.md",
          "type": "blob",
          "size": 2285
        },
        {
          "path": "plugins/claude-code-meta/commands/build-marketplace.md",
          "type": "blob",
          "size": 2646
        },
        {
          "path": "plugins/claude-code-meta/commands/build-plugin.md",
          "type": "blob",
          "size": 2391
        },
        {
          "path": "plugins/claude-code-meta/commands/build-skill.md",
          "type": "blob",
          "size": 2208
        },
        {
          "path": "plugins/claude-code-meta/commands/update-plugin.md",
          "type": "blob",
          "size": 10743
        },
        {
          "path": "plugins/claude-code-meta/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/SKILL.md",
          "type": "blob",
          "size": 3100
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/agent-builder.md",
          "type": "blob",
          "size": 12837
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/cc-docs-toc.md",
          "type": "blob",
          "size": 3816
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/command-testing.md",
          "type": "blob",
          "size": 2894
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/creating-components.md",
          "type": "blob",
          "size": 2695
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/cross-link-syntax.md",
          "type": "blob",
          "size": 11216
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/docs-plugin-builder.md",
          "type": "blob",
          "size": 19243
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/grep-patterns.md",
          "type": "blob",
          "size": 10762
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/hook-builder.md",
          "type": "blob",
          "size": 11066
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/marketplace-builder.md",
          "type": "blob",
          "size": 11488
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/plugin-builder.md",
          "type": "blob",
          "size": 11224
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/plugin-updates.md",
          "type": "blob",
          "size": 4623
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/scaling-strategies.md",
          "type": "blob",
          "size": 14065
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-builder.md",
          "type": "blob",
          "size": 17917
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/README.md",
          "type": "blob",
          "size": 719
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/algorithmic-art",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/algorithmic-art/SKILL.md",
          "type": "blob",
          "size": 20173
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/brand-guidelines",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/brand-guidelines/SKILL.md",
          "type": "blob",
          "size": 2235
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/canvas-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/canvas-design/SKILL.md",
          "type": "blob",
          "size": 12068
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/doc-coauthoring",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/doc-coauthoring/SKILL.md",
          "type": "blob",
          "size": 15815
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/SKILL.md",
          "type": "blob",
          "size": 1511
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/3p-updates.md",
          "type": "blob",
          "size": 3274
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/company-newsletter.md",
          "type": "blob",
          "size": 3295
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/faq-answers.md",
          "type": "blob",
          "size": 2366
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/general-comms.md",
          "type": "blob",
          "size": 602
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/SKILL.md",
          "type": "blob",
          "size": 9092
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/evaluation.md",
          "type": "blob",
          "size": 21663
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/mcp_best_practices.md",
          "type": "blob",
          "size": 7330
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/node_mcp_server.md",
          "type": "blob",
          "size": 28550
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/python_mcp_server.md",
          "type": "blob",
          "size": 25099
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator/SKILL.md",
          "type": "blob",
          "size": 18086
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator/references/output-patterns.md",
          "type": "blob",
          "size": 1813
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator/references/workflows.md",
          "type": "blob",
          "size": 818
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/slack-gif-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/slack-gif-creator/SKILL.md",
          "type": "blob",
          "size": 7841
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/SKILL.md",
          "type": "blob",
          "size": 3124
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/arctic-frost.md",
          "type": "blob",
          "size": 544
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/botanical-garden.md",
          "type": "blob",
          "size": 519
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/desert-rose.md",
          "type": "blob",
          "size": 496
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/forest-canopy.md",
          "type": "blob",
          "size": 506
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/golden-hour.md",
          "type": "blob",
          "size": 528
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/midnight-galaxy.md",
          "type": "blob",
          "size": 513
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/modern-minimalist.md",
          "type": "blob",
          "size": 549
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/ocean-depths.md",
          "type": "blob",
          "size": 555
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/sunset-boulevard.md",
          "type": "blob",
          "size": 558
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/tech-innovation.md",
          "type": "blob",
          "size": 547
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/web-artifacts-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/web-artifacts-builder/SKILL.md",
          "type": "blob",
          "size": 3087
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/docx",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/docx/SKILL.md",
          "type": "blob",
          "size": 10268
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/docx/docx-js.md",
          "type": "blob",
          "size": 16509
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/docx/ooxml.md",
          "type": "blob",
          "size": 25004
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/frontend-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/frontend-design/SKILL.md",
          "type": "blob",
          "size": 4440
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pdf",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pdf/FORMS.md",
          "type": "blob",
          "size": 9438
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pdf/REFERENCE.md",
          "type": "blob",
          "size": 16692
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pdf/SKILL.md",
          "type": "blob",
          "size": 7068
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/SKILL.md",
          "type": "blob",
          "size": 21781
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/css.md",
          "type": "blob",
          "size": 10239
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/html2pptx.md",
          "type": "blob",
          "size": 42881
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/ooxml.md",
          "type": "blob",
          "size": 10388
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/product-self-knowledge",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/product-self-knowledge/SKILL.md",
          "type": "blob",
          "size": 2154
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/xlsx",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/xlsx/SKILL.md",
          "type": "blob",
          "size": 10632
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/slash-command-builder.md",
          "type": "blob",
          "size": 8026
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/templates/application-skill-template.md",
          "type": "blob",
          "size": 11616
        },
        {
          "path": "plugins/claude-code-meta/skills/claude-code-meta/references/templates/docs-skill-template.md",
          "type": "blob",
          "size": 8072
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"surf-market\",\n  \"owner\": {\n    \"name\": \"Artimath\",\n    \"email\": \"ryan@artimath.dev\"\n  },\n  \"metadata\": {\n    \"description\": \"Personal Claude Code meta tooling marketplace modeled after Anthropic practices.\",\n    \"version\": \"0.1.0\",\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n    \"name\": \"claude-code-meta\",\n    \"description\": \"Meta builders for creating Claude Code skills, plugins, agents, hooks, marketplaces, and slash commands.\",\n    \"keywords\": [\n      \"claude-code\",\n      \"meta\",\n      \"builders\",\n      \"skills\",\n      \"agents\",\n      \"hooks\",\n      \"plugins\",\n      \"marketplaces\",\n      \"slash-commands\"\n    ],\n    \"source\": \"./plugins/claude-code-meta\",\n    \"strict\": true\n  }\n]\n}\n",
        "plugins/claude-code-meta/.claude-plugin/plugin.json": "{\n  \"name\": \"claude-code-meta\",\n  \"version\": \"0.3.1\",\n  \"description\": \"Complete Claude Code extension builder: skills, agents, hooks, plugins, marketplaces, slash commands. Includes /update-plugin command, creation guides, testing patterns, and maintenance workflows.\",\n  \"author\": {\n    \"name\": \"Ryan Hunter\",\n    \"email\": \"ryan@ryanhunter.io\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"claude-code\",\n    \"builders\",\n    \"skills\",\n    \"agents\",\n    \"hooks\",\n    \"plugins\",\n    \"update-plugin\",\n    \"testing\"\n  ]\n}",
        "plugins/claude-code-meta/commands/build-command.md": "# Build Command Command\n\nCreate a new slash command for Claude Code.\n\n## Workflow\n\n1. **Invoke slash-command-builder reference** for current patterns:\n   - Read `skills/claude-code-meta/references/slash-command-builder.md`\n   - Get: command structure, prompt engineering, when to use vs skills\n\n2. **Extract requirements**:\n   - What should the command do?\n   - Is it interactive or deterministic?\n   - Does it need parameters?\n\n3. **Plan command**:\n   - Choose command name (lowercase, hyphens, no spaces)\n   - Design prompt/workflow\n   - Determine if parameters needed\n\n4. **Create command file**:\n   ```bash\n   touch plugins/<plugin-name>/commands/<command-name>.md\n   ```\n\n5. **Write command**:\n   ```markdown\n   # Command Name\n\n   Brief description of what this command does.\n\n   ## Usage\n\n   ```\n   /command-name [optional-arg]\n   ```\n\n   ## What It Does\n\n   1. [Step 1]\n   2. [Step 2]\n   3. [Return results]\n\n   ## Example\n\n   ```\n   /command-name example-value\n   ```\n\n   Expected output: [describe]\n   ```\n\n6. **Test command**:\n   - Invoke with `/command-name`\n   - Verify parameters work\n   - Check output format\n\n7. **Document**:\n   - Add to plugin CHANGELOG\n   - List in plugin README\n   - Add to marketplace docs if public\n\n8. **Validate**:\n   - [ ] Command name follows conventions\n   - [ ] Markdown file in commands/ directory\n   - [ ] Clear usage instructions\n   - [ ] Example provided\n\n9. **Return**:\n   - Command path\n   - Usage syntax\n   - Test results\n\n## Criteria\n\n**Naming**:\n- Lowercase with hyphens\n- Descriptive and concise\n- No spaces or special chars\n\n**Structure**:\n- Markdown file in commands/\n- Clear description and usage\n- Examples included\n\n**When to Use Commands vs Skills**:\n- Commands: User-invoked, interactive workflows\n- Skills: Model-invoked, contextual capabilities\n- Use commands for explicit workflows\n- Use skills for automatic activation\n\n**Best Practices**:\n- Keep commands focused and simple\n- Provide clear usage examples\n- Document expected inputs/outputs\n\n## See Also\n\n- Full patterns: `skills/claude-code-meta/references/slash-command-builder.md`\n- Testing: `skills/claude-code-meta/references/command-testing.md`\n- Commands vs Skills: https://code.claude.com/docs/slash-commands\n",
        "plugins/claude-code-meta/commands/build-hook.md": "# Build Hook Command\n\nCreate a new Claude Code hook for lifecycle automation.\n\n## Workflow\n\n1. **Invoke hook-builder reference** for current patterns:\n   - Read `skills/claude-code-meta/references/hook-builder.md`\n   - Get: lifecycle events, matcher syntax, hook types\n\n2. **Extract requirements**:\n   - What event to hook? (PreToolUse, PostToolUse, SessionStart, etc.)\n   - What should trigger it? (matcher pattern)\n   - What should it do? (prompt, command, or skip)\n\n3. **Plan hook**:\n   - Choose lifecycle event\n   - Design matcher (tool pattern, context, etc.)\n   - Determine action type\n\n4. **Add to plugin.json**:\n   ```json\n   {\n     \"hooks\": {\n       \"PreToolUse\": [\n         {\n           \"matcher\": \"Write|Edit\",\n           \"hooks\": [\n             {\n               \"type\": \"prompt\",\n               \"prompt\": \"Reminder: Check quality gates before proceeding\"\n             }\n           ]\n         }\n       ]\n     }\n   }\n   ```\n\n5. **Test hook**:\n   - Trigger the lifecycle event\n   - Verify matcher catches correctly\n   - Confirm action executes\n\n6. **Document**:\n   - Add comment above hook in plugin.json\n   - Document in plugin CHANGELOG\n   - Note in README if user-visible\n\n7. **Validate**:\n   - [ ] Hook syntax valid JSON\n   - [ ] Matcher pattern tested\n   - [ ] Action type appropriate (prompt/command/skip)\n   - [ ] No infinite loops or recursion\n\n8. **Return**:\n   - Hook event type\n   - Matcher pattern\n   - Action configured\n\n## Criteria\n\n**Lifecycle Events**:\n- PreToolUse - before tool execution (can block)\n- PostToolUse - after tool completion\n- SessionStart - at session initialization\n- SessionEnd - at session termination\n- PreCompact - before conversation compaction\n\n**Matcher Patterns**:\n- Tool names: \"Read|Write|Edit\"\n- Regex patterns: \".*\\\\.ts$\"\n- Context checks: specific file paths\n\n**Action Types**:\n- `prompt` - inject text into conversation\n- `command` - execute shell command\n- `skip` - prevent tool execution (PreToolUse only)\n\n**Best Practices**:\n- Hooks are deterministic (always run when matched)\n- Use for guaranteed behavior, not contextual decisions\n- Avoid hooks for complex logic (use skills instead)\n\n## See Also\n\n- Full patterns: `skills/claude-code-meta/references/hook-builder.md`\n- Hook guide: https://code.claude.com/docs/hooks-guide\n",
        "plugins/claude-code-meta/commands/build-marketplace.md": "# Build Marketplace Command\n\nCreate a new Claude Code marketplace for organizing plugins.\n\n## Workflow\n\n1. **Invoke marketplace-builder reference** for current patterns:\n   - Read `skills/claude-code-meta/references/marketplace-builder.md`\n   - Get: marketplace structure, registration, plugin organization\n\n2. **Extract requirements**:\n   - Marketplace purpose and scope\n   - What plugins will it contain?\n   - Standalone or nested?\n\n3. **Plan marketplace**:\n   - Choose marketplace location\n   - Design plugin organization\n   - Plan discovery strategy\n\n4. **Create marketplace directory**:\n   ```bash\n   mkdir -p <marketplace-path>/.claude-plugin\n   ```\n\n5. **Write marketplace.json**:\n   ```json\n   {\n     \"plugins\": [\n       {\n         \"name\": \"plugin-name\",\n         \"description\": \"Plugin description\",\n         \"version\": \"0.1.0\",\n         \"keywords\": [\"keyword1\", \"keyword2\"],\n         \"source\": \"./plugins/plugin-name\",\n         \"strict\": true\n       }\n     ]\n   }\n   ```\n\n6. **Create marketplace structure**:\n   ```bash\n   mkdir -p <marketplace-path>/plugins\n   mkdir -p <marketplace-path>/docs\n   ```\n\n7. **Write README.md**:\n   ```markdown\n   # Marketplace Name\n\n   Description of marketplace and what plugins it contains.\n\n   ## Plugins\n\n   - **plugin-name** - Description\n\n   ## Installation\n\n   [Installation instructions]\n   ```\n\n8. **Create CHANGELOG.md**:\n   ```markdown\n   # Changelog - Marketplace Name\n\n   ## [Unreleased]\n\n   ## [0.1.0] - YYYY-MM-DD\n\n   ### Added\n   - Initial marketplace with [plugins]\n   ```\n\n9. **Register marketplace**:\n   - Update Claude settings to point to marketplace\n   - Enable plugins in settings.json\n\n10. **Validate**:\n    - [ ] marketplace.json valid JSON\n    - [ ] All plugin sources exist\n    - [ ] README documents all plugins\n    - [ ] CHANGELOG initialized\n\n11. **Return**:\n    - Marketplace path\n    - Plugins registered\n    - Structure created\n\n## Criteria\n\n**Marketplace Structure**:\n- `.claude-plugin/marketplace.json` for registry\n- `plugins/` for plugin directories\n- `docs/` for documentation (optional)\n- README.md for overview\n\n**Plugin Registration**:\n- Each plugin has entry in marketplace.json\n- Source paths relative to marketplace root\n- Strict mode for validation\n\n**Organization**:\n- Group related plugins\n- Clear naming conventions\n- Consistent structure across plugins\n\n**Best Practices**:\n- Keep marketplaces focused (theme/domain)\n- Document discovery strategy\n- Maintain CHANGELOG at marketplace level\n\n## See Also\n\n- Full patterns: `skills/claude-code-meta/references/marketplace-builder.md`\n- Plugin structure: `skills/claude-code-meta/references/plugin-builder.md`\n",
        "plugins/claude-code-meta/commands/build-plugin.md": "# Build Plugin Command\n\nCreate a new Claude Code plugin with proper manifest and structure.\n\n## Workflow\n\n1. **Invoke plugin-builder reference** for current patterns:\n   - Read `skills/claude-code-meta/references/plugin-builder.md`\n   - Get: manifest structure, component organization, registration\n\n2. **Extract requirements**:\n   - Plugin purpose and scope\n   - What components needed (skills, commands, agents, hooks)?\n   - Marketplace or standalone?\n\n3. **Plan structure**:\n   - Determine component types\n   - Plan directory layout\n   - Identify dependencies\n\n4. **Create plugin directory**:\n   ```bash\n   mkdir -p plugins/<plugin-name>/.claude-plugin\n   ```\n\n5. **Write plugin.json manifest**:\n   ```json\n   {\n     \"name\": \"plugin-name\",\n     \"version\": \"0.1.0\",\n     \"description\": \"Clear description of what plugin does\",\n     \"author\": {\n       \"name\": \"Author Name\",\n       \"email\": \"email@example.com\"\n     },\n     \"license\": \"MIT\",\n     \"keywords\": [\"keyword1\", \"keyword2\"]\n   }\n   ```\n\n6. **Create component directories** (as needed):\n   ```bash\n   mkdir -p plugins/<plugin-name>/skills\n   mkdir -p plugins/<plugin-name>/commands\n   mkdir -p plugins/<plugin-name>/agents\n   mkdir -p plugins/<plugin-name>/hooks\n   ```\n\n7. **Create CHANGELOG.md**:\n   ```markdown\n   # Changelog - Plugin Name\n\n   ## [Unreleased]\n\n   ## [0.1.0] - YYYY-MM-DD\n\n   ### Added\n   - Initial plugin with [components]\n   ```\n\n8. **Register plugin** (if marketplace):\n   - Update marketplace.json\n   - Update settings.json\n   - Document in marketplace README\n\n9. **Validate**:\n   - [ ] plugin.json has all required fields\n   - [ ] Version follows semver\n   - [ ] CHANGELOG.md exists\n   - [ ] Component directories created as needed\n\n10. **Return**:\n    - Plugin directory path\n    - Components created\n    - Registration status\n\n## Criteria\n\n**Manifest Quality**:\n- Clear, specific description\n- Relevant keywords for discovery\n- Proper semver version\n- Valid author info\n\n**Structure**:\n- .claude-plugin/ for manifest\n- Component directories only if needed\n- CHANGELOG from day 1\n\n**Registration** (marketplace plugins):\n- Listed in marketplace.json\n- Enabled in settings.json\n- Documented in marketplace README\n\n## See Also\n\n- Full patterns: `skills/claude-code-meta/references/plugin-builder.md`\n- Versioning: `skills/claude-code-meta/references/plugin-updates.md`\n- Updates: `commands/update-plugin.md`\n",
        "plugins/claude-code-meta/commands/build-skill.md": "# Build Skill Command\n\nCreate a new Claude Code skill with proper structure and best practices.\n\n## Workflow\n\n1. **Invoke skill-builder reference** for current patterns:\n   - Read `skills/claude-code-meta/references/skill-builder.md`\n   - Get: anatomy, frontmatter requirements, progressive disclosure patterns\n\n2. **Extract requirements from context**:\n   - What should the skill do?\n   - What tools/resources does it need?\n   - What's the expected size/complexity?\n\n3. **Plan structure**:\n   - Determine if scripts/, references/, or assets/ needed\n   - Plan progressive disclosure (SKILL.md vs references/)\n   - Keep SKILL.md under 500 lines\n\n4. **Create skill directory**:\n   ```bash\n   mkdir -p plugins/<plugin-name>/skills/<skill-name>\n   ```\n\n5. **Write SKILL.md**:\n   ```yaml\n   ---\n   name: skill-name\n   description: >\n     {One-sentence WHAT}\n\n     USE THIS SKILL WHEN:\n     - {scenario 1}\n     - {scenario 2}\n\n     TRIGGERS ON: \"{keyword1}\", \"{keyword2}\"\n\n     NOT FOR: {anti-patterns}\n   ---\n\n   # Skill Name\n\n   [Content following skill-builder patterns]\n   ```\n\n6. **Create bundled resources** (if needed):\n   - `scripts/` - executable code\n   - `references/` - deep-dive docs (progressive disclosure)\n   - `assets/` - templates, data files\n\n7. **Validate**:\n   - [ ] SKILL.md has valid frontmatter\n   - [ ] Description uses USE WHEN / TRIGGERS ON pattern\n   - [ ] SKILL.md under 500 lines (or uses references/)\n   - [ ] No external hardcoded paths\n\n8. **Return**:\n   - Skill directory path\n   - Structure created\n   - Validation results\n\n## Criteria\n\n**Description Quality**:\n- Concrete USE WHEN scenarios (not \"ALWAYS ACTIVE\")\n- Specific TRIGGERS ON keywords\n- Clear NOT FOR anti-patterns\n- Under 1024 chars\n\n**Structure**:\n- SKILL.md is the entry point\n- Progressive disclosure: heavy content ‚Üí references/\n- Scripts are executable and documented\n\n**Best Practices** (from skill-builder reference):\n- Concise over comprehensive\n- Set appropriate degrees of freedom\n- Use grep patterns for reference discovery\n- Cross-link related skills\n\n## See Also\n\n- Full patterns: `skills/claude-code-meta/references/skill-builder.md`\n- Testing: `skills/claude-code-meta/references/command-testing.md`\n",
        "plugins/claude-code-meta/commands/update-plugin.md": "---\ndescription: Update plugin changelog and version after making changes. Interactive workflow for documenting changes and bumping semver. Triggers when you've modified commands, skills, or other plugin files.\nargument-hint: <plugin-name>\nallowed-tools: [\"Read\", \"Edit\", \"Bash\", \"TodoWrite\", \"AskUserQuestion\"]\n---\n\n# Plugin Update Workflow\n\nGuide the user through properly documenting and versioning plugin changes. Follow systematic approach: detect changes, categorize them, update changelog, bump version, verify, and prepare for testing with fresh plugin context.\n\n## Core Principles\n\n- **Track all progress**: Use TodoWrite from the start\n- **Follow semver**: Understand patch vs minor vs major\n- **Document why**: Changelog entries explain value, not just what changed\n- **Verify fresh context**: New versions require headless testing to pick up changes\n- **Ask when unclear**: Don't guess at change significance\n\n**Plugin to update:** $ARGUMENTS\n\n---\n\n## Phase 1: Change Detection\n\n**Goal**: Understand what files were modified in the plugin\n\n**Actions**:\n1. Create todo list with all 5 phases:\n   - [ ] Detect changes in plugin\n   - [ ] Categorize and describe changes\n   - [ ] Update CHANGELOG.md\n   - [ ] Bump version in plugin.json\n   - [ ] Verify and prepare for testing\n\n2. Mark Phase 1 as in_progress\n\n3. Read current version from `plugins/$PLUGIN_NAME/.claude-plugin/plugin.json`\n\n4. Check git status for uncommitted changes in plugin directory:\n   ```bash\n   git -C /path/to/surf-market status --short plugins/$PLUGIN_NAME/\n   ```\n\n5. If no changes found:\n   - Ask user: \"No uncommitted changes found. Did you want to update anyway?\"\n   - If no ‚Üí exit\n   - If yes ‚Üí ask user to describe changes manually\n\n6. Present modified files to user:\n   ```\n   Current version: 0.3.2\n\n   Modified files:\n   M plugins/claude-code-meta/commands/update-plugin.md\n   A plugins/claude-code-meta/skills/claude-code-meta/references/command-testing.md\n   ```\n\n7. Mark Phase 1 as completed\n\n**Output**: List of changed files and current version\n\n---\n\n## Phase 2: Change Categorization\n\n**Goal**: Understand what kind of changes were made and their significance\n\n**Actions**:\n1. Mark Phase 2 as in_progress\n\n2. For each modified/added file, categorize the change:\n\n   **Change Type Decision Guide:**\n\n   **Added** - Choose when creating something new:\n   - New command file created\n   - New skill added to plugin\n   - New framework/section added to existing doc (e.g., sawdust deep dive)\n   - New reference document created\n   - New capability that didn't exist before\n\n   **Changed** - Choose when modifying existing:\n   - Updated command behavior (still same command)\n   - Enhanced skill description or triggers\n   - Improved existing functionality\n   - Refactored internal implementation\n   - Modified output format\n\n   **Fixed** - Choose when correcting errors:\n   - Bug fixes\n   - Typo corrections\n   - Broken links repaired\n   - Incorrect logic corrected\n   - Edge case handling added\n\n   **Removed** - Choose when deleting:\n   - Deprecated command removed\n   - Feature deleted\n   - Functionality stripped out\n\n   **When file is \"Modified\" but change is additive:**\n   - If adding significant new section ‚Üí **Added**\n   - If improving existing content ‚Üí **Changed**\n   - Example: Adding 7-level sawdust to framework.md ‚Üí **Added** (new framework within file)\n\n   **Use AskUserQuestion if uncertain** with these options:\n\n   ```\n   Question: \"What type of change is this?\"\n   Header: \"Change type\"\n   Options:\n   - Added: \"New feature, command, skill, or capability\"\n   - Changed: \"Modified existing behavior or improved functionality\"\n   - Fixed: \"Bug fix or correction\"\n   - Removed: \"Deleted feature or deprecated functionality\"\n   ```\n\n3. Ask for one-line description of each change:\n   - \"Describe this change in one line (focus on user value, not implementation)\"\n   - Example: \"Removed output limit to show all ready items\" (not \"Changed head -15 to no limit\")\n\n4. Determine semver bump needed:\n\n   **Semver Guidelines:**\n   - **Patch (0.3.2 ‚Üí 0.3.3)**: Bug fixes, documentation, minor tweaks (no behavior change)\n   - **Minor (0.3.2 ‚Üí 0.4.0)**: New features, new commands/skills (backward compatible)\n   - **Major (0.3.2 ‚Üí 1.0.0)**: Breaking changes, removed features (not backward compatible)\n\n   **Decision Criteria (Use these to decide autonomously):**\n\n   **PATCH (0.x.y ‚Üí 0.x.y+1)** - Choose when ALL of these are true:\n   - ‚úì No new features or commands\n   - ‚úì No behavior changes for existing functionality\n   - ‚úì Only fixing bugs, typos, or documentation errors\n   - ‚úì User experience stays exactly the same\n\n   Examples:\n   - Fixed typo in help text\n   - Corrected broken link in documentation\n   - Fixed edge case bug in existing command\n   - Updated example code that was outdated\n   - Clarified ambiguous wording in skill description\n\n   **MINOR (0.x.y ‚Üí 0.x+1.0)** - Choose when ANY of these are true:\n   - ‚úì Added new command, skill, or agent\n   - ‚úì Enhanced existing feature with new capability (backward compatible)\n   - ‚úì Added significant new section/framework to documentation (like 7-level analysis)\n   - ‚úì Improved functionality without breaking existing use cases\n   - ‚úì Added new optional parameters to commands\n\n   Examples:\n   - Added `/ship` command to show what ships today\n   - Enhanced sawdust analysis from yes/no to 7-level framework\n   - Added new skill for exo-coord usage patterns\n   - Improved `/razor` to support --inbox flag\n   - Added decision tree to existing documentation\n\n   **MAJOR (0.x.y ‚Üí 1.0.0 OR x+1.0.0)** - Choose when ANY of these are true:\n   - ‚úì Removed command, skill, or feature\n   - ‚úì Changed command syntax in non-backward-compatible way\n   - ‚úì Renamed required parameters\n   - ‚úì Changed output format that breaks downstream consumers\n   - ‚úì Moved files in a way that breaks imports\n\n   Examples:\n   - Removed deprecated `/old-command`\n   - Changed `/capture <text>` to `/capture --title <text>`\n   - Switched inbox from single file to per-item files (if not handled gracefully)\n   - Removed required field from skill frontmatter\n\n   **When in doubt:**\n   1. If change adds value without breaking anything ‚Üí **Minor**\n   2. If change fixes something without adding features ‚Üí **Patch**\n   3. If change removes or breaks anything ‚Üí **Major**\n   4. If uncertain after checking criteria ‚Üí **Ask user** (but lean toward Minor for additive changes)\n\n   **Use AskUserQuestion**:\n   ```\n   Question: \"Based on these changes, what semver bump is appropriate?\"\n   Header: \"Version bump\"\n   Options:\n   - Patch: \"Bug fixes or documentation only\"\n   - Minor: \"New features or commands (backward compatible) (Recommended)\"\n   - Major: \"Breaking changes or removed features\"\n   ```\n\n5. Calculate new version number\n\n6. Mark Phase 2 as completed\n\n**Output**: Categorized changes and new version number\n\n---\n\n## Phase 3: Update CHANGELOG\n\n**Goal**: Document changes in changelog following Keep a Changelog format\n\n**Actions**:\n1. Mark Phase 3 as in_progress\n\n2. Read current `plugins/$PLUGIN_NAME/CHANGELOG.md`\n\n3. Determine if creating new version section or adding to [Unreleased]:\n   - If significant changes (minor/major bump) ‚Üí create new version section\n   - If small fixes (patch) ‚Üí can add to [Unreleased] or create section\n\n4. Build changelog entry:\n   ```markdown\n   ## [$NEW_VERSION] - $(date +%Y-%m-%d)\n\n   ### Added\n   - New feature X that enables Y\n\n   ### Changed\n   - Improved Z to handle W better\n\n   ### Fixed\n   - Fixed issue where A caused B\n   ```\n\n5. Use Edit tool to add entry after `## [Unreleased]` line\n\n6. Show user the changelog diff\n\n7. Mark Phase 3 as completed\n\n**Output**: Updated CHANGELOG.md\n\n---\n\n## Phase 4: Bump Version\n\n**Goal**: Update version number in plugin.json\n\n**Actions**:\n1. Mark Phase 4 as in_progress\n\n2. Read `plugins/$PLUGIN_NAME/.claude-plugin/plugin.json`\n\n3. Use Edit tool to update version:\n   ```json\n   \"version\": \"$OLD_VERSION\",\n   ```\n   ‚Üí\n   ```json\n   \"version\": \"$NEW_VERSION\",\n   ```\n\n4. Verify the edit succeeded\n\n5. Mark Phase 4 as completed\n\n**Output**: Updated plugin.json with new version\n\n---\n\n## Phase 5: Verify & Test Preparation\n\n**Goal**: Verify changes and explain testing requirements\n\n**Actions**:\n1. Mark Phase 5 as in_progress\n\n2. Show git diff of changes:\n   ```bash\n   git -C /path/to/surf-market diff plugins/$PLUGIN_NAME/\n   ```\n\n3. **Critical: Explain versioning and testing context**\n\n   Present to user:\n   ```\n   ‚úÖ Plugin updated: v$OLD_VERSION ‚Üí v$NEW_VERSION\n\n   üìù Files changed:\n   - CHANGELOG.md (added v$NEW_VERSION entry)\n   - plugin.json (version bumped)\n   - [other modified files]\n\n   üîÑ IMPORTANT: Plugin Version Context\n\n   The current Claude session is still using v$OLD_VERSION (cached).\n   To test the new v$NEW_VERSION:\n\n   1. Headless Claude instances will pick up v$NEW_VERSION\n      ‚Üí Use: claude --dangerously-skip-permissions \"command\"\n\n   2. Sub-agents spawned from this session will use v$OLD_VERSION\n      ‚Üí They see cached plugin context\n\n   3. New interactive sessions will load v$NEW_VERSION\n      ‚Üí Restart Claude Code or open new terminal\n\n   ‚úÖ Recommended: Test with headless before committing\n   ```\n\n4. Ask user: \"Ready to commit these changes? [y/n]\"\n\n   If yes:\n   ```bash\n   git -C /path/to/surf-market add plugins/$PLUGIN_NAME/\n   git -C /path/to/surf-market commit -m \"chore($PLUGIN_NAME): $BRIEF_SUMMARY\n\n   - [list key changes]\n\n   Version: $OLD_VERSION ‚Üí $NEW_VERSION\"\n   ```\n\n5. Mark Phase 5 as completed\n\n6. Mark all todos as completed\n\n**Output**: Verification summary and commit (if approved)\n\n---\n\n## Example Usage\n\n```bash\n# After editing commands/work.md\n/update-plugin meta\n\n# Interactive prompts:\n# ‚Üí Change type: Changed\n# ‚Üí Description: Removed output limit to show all ready items\n# ‚Üí Semver bump: Patch\n# ‚Üí Shows changelog preview\n# ‚Üí Shows diff\n# ‚Üí Commit? y\n\n# Result:\n# - CHANGELOG.md updated\n# - plugin.json: 0.3.2 ‚Üí 0.3.3\n# - Changes committed\n# - Reminded to test with headless\n```\n\n---\n\n## Integration with Workflow\n\nThis command should be triggered:\n- **Manually**: After editing plugin files, run `/update-plugin <name>`\n- **Proactively** (future): continuous-improvement skill detects plugin edits and suggests running this\n\n**When NOT to use:**\n- Experimental changes not ready to version\n- Changes to non-plugin files (use normal git workflow)\n- During active development (wait until feature complete)\n\n---\n\n## Related Documentation\n\n- **Semver spec**: https://semver.org/\n- **Keep a Changelog**: https://keepachangelog.com/\n- **Plugin versioning context**: See references/command-testing.md\n\n---\n\n*Command version: 1.0.0*\n*Created: 2025-12-20*\n",
        "plugins/claude-code-meta/skills/claude-code-meta/SKILL.md": "---\nname: claude-code-meta\ndescription: Build Claude Code extensions - skills, agents, hooks, plugins, marketplaces, slash commands. Use when creating Claude Code components, building new skills, writing agents, creating hooks, making plugins, setting up marketplaces, writing slash commands, fixing extension configurations, or troubleshooting Claude Code extensions. Includes builder agents for autonomous creation. Not for looking up docs - use claude-code-docs-reference for that.\n---\n\n# Claude Code Meta\n\nCreate any Claude Code extension component. This skill routes to specific builders based on what you need.\n\n## What Are You Building?\n\n| Component | When to Use | Command |\n|-----------|-------------|---------|\n| **Skill** | Extend Claude with specialized knowledge, workflows, tool integrations | `/build-skill` |\n| **Hook** | Automated validation, context injection, workflow automation | `/build-hook` |\n| **Plugin** | Bundle skills/hooks/commands for distribution | `/build-plugin` |\n| **Marketplace** | Distribute plugins (local, GitHub, git) | `/build-marketplace` |\n| **Slash Command** | User-invoked `/command` prompts | `/build-command` |\n\n## Quick Decision Guide\n\n**\"I want to add knowledge/workflows to Claude\"** ‚Üí Skill\n\n**\"I want automated task execution\"** ‚Üí Agent (invokes Skills for guidance)\n\n**\"I want to validate/inject context automatically\"** ‚Üí Hook\n\n**\"I want to bundle and distribute extensions\"** ‚Üí Plugin + Marketplace\n\n**\"I want a quick user-typed command\"** ‚Üí Slash Command\n\n## Component Relationships\n\n```\nPlugin (distribution package)\n‚îú‚îÄ‚îÄ Skills (knowledge bases)\n‚îú‚îÄ‚îÄ Agents (task executors that use Skills)\n‚îú‚îÄ‚îÄ Hooks (automation triggers)\n‚îî‚îÄ‚îÄ Commands (user-invoked prompts)\n\nMarketplace (distributes Plugins)\n```\n\n**Key insight**: Agents are executors, Skills are knowledge. An agent invokes a skill for guidance, then executes.\n\n## Usage\n\n1. Identify what you're building from table above\n2. Read the corresponding reference file\n3. Follow the patterns and examples there\n4. For official Anthropic docs, use `claude-code-docs-reference` skill\n\n## Builder Commands\n\nThis plugin includes commands that can create components deterministically:\n\n- `/build-skill` - Creates skills with proper structure and patterns\n- `/build-hook` - Creates hooks for automation\n- `/build-plugin` - Creates plugins for distribution\n- `/build-marketplace` - Creates marketplaces for plugin distribution\n- `/build-command` - Creates slash commands\n\nInvoke with: `/command-name [details about what to build]`\n\n## Additional References\n\n- [references/grep-patterns.md](references/grep-patterns.md) - Common grep patterns for docs plugins\n- [references/cross-link-syntax.md](references/cross-link-syntax.md) - Cross-linking between skills\n- [references/scaling-strategies.md](references/scaling-strategies.md) - When/how to split skills\n- [references/templates/](references/templates/) - Starter templates\n- [references/skill-examples/README.md](references/skill-examples/README.md) - Exported skill and public artifacts for modeling published flows\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/agent-builder.md": "---\nname: agent-builder\ndescription: Create Claude Code subagents with proper frontmatter, tool access, and delegation semantics. Use when creating new agents, fixing agent configuration, or building specialized task executors. Agents are delegated workers that receive full context and execute without user interaction.\n---\n\n# Agent Builder\n\nBuild specialized AI subagents for Claude Code that handle task-specific workflows via delegation.\n\n## When to Use\n\n- Creating new subagents for specialized tasks\n- Fixing agent frontmatter or tool configuration\n- Building builder agents that invoke skills\n- Converting workflows into delegated executors\n- Standardizing team agent patterns\n\n## Critical Understanding: Agents vs Skills vs Commands\n\n**Agents (Subagents)**:\n- Separate context windows\n- **Delegated execution**: Receive full context, execute, return results (NO user interaction mid-task)\n- Explicitly or automatically invoked based on description\n- Example: \"Use the code-reviewer agent to check this PR\"\n\n**Skills**:\n- Model-invoked: Claude autonomously decides when to use based on description\n- Operate in active context (main conversation or agent's context)\n- Loaded progressively via Skill tool\n- Example: Agent invokes \"pdf-processing\" skill for guidance\n\n**Slash Commands**:\n- User-invoked: Explicitly typed `/command` to trigger\n- Expand to prompts in conversation\n- Example: `/commit` to create git commit\n\n**Key Difference**: Agents are **task executors** (do the work), Skills are **knowledge bases** (provide guidance), Commands are **prompt templates** (expand instructions).\n\n## Quick Start Workflow\n\n### 1. Choose Agent Location\n\n**Project agents** (shared with team via git):\n```bash\n.claude/agents/<agent-name>.md\n```\n\n**Personal agents** (available across all projects):\n```bash\n~/.claude/agents/<agent-name>.md\n```\n\n**Plugin agents** (distributed via marketplace):\n```bash\nplugins/<plugin-name>/agents/<agent-name>.md\n```\n\n### 2. Create Agent File\n\nAgent files are Markdown with YAML frontmatter:\n\n```markdown\n---\nname: your-agent-name\ndescription: When to delegate this task. Be specific about triggers and use cases.\ntools: Tool1, Tool2, Tool3\nmodel: sonnet\n---\n\n# Agent Name\n\nYou are a [specialized role]. You [do specific task] by:\n\n1. [Step 1 - often invoking a skill for guidance]\n2. [Step 2 - gathering context]\n3. [Step 3 - executing core task]\n4. [Step 4 - validating output]\n5. [Return results to main conversation]\n\n## Critical Rules\n\n- No user interaction mid-execution (you receive complete context upfront)\n- Execute deterministically based on provided context\n- Return clear results or errors\n\n[Additional instructions specific to this agent's domain]\n```\n\n### 3. Test Invocation\n\n**Explicit delegation**:\n```\nUse the code-reviewer agent to analyze src/auth.ts\n```\n\n**Automatic delegation** (if description matches context):\n```\ndescription: \"Code review specialist. Use proactively after code changes.\"\n```\n\nCheck `/agents` to verify agent appears.\n\n## Essential Patterns\n\n### Pattern 1: Basic Agent (No Skill Invocation)\n\n```markdown\n---\nname: code-formatter\ndescription: Format code files according to project standards. Use when user requests code formatting.\ntools: Read, Write, Edit, Bash\nmodel: sonnet\n---\n\n# Code Formatter\n\nYou format code files by:\n\n1. Reading the target file\n2. Detecting the language and format style\n3. Running appropriate formatter (prettier, black, rustfmt)\n4. Writing formatted code back\n5. Reporting changes made\n\nExecute without asking questions - you have full context.\n```\n\n**Invocation**: \"Use code-formatter agent on src/index.ts\"\n\n### Pattern 2: Builder Agent (Invokes Skill for Guidance)\n\n```markdown\n---\nname: slash-command-builder-agent\ndescription: Creates Claude Code slash commands by invoking slash-command-builder skill. Use when user wants to create a new slash command.\ntools: Skill, Read, Write, Edit, Grep\nmodel: sonnet\n---\n\n# Slash Command Builder Agent\n\nYou create slash commands by:\n\n1. **Invoke slash-command-builder skill** for patterns and validation rules\n   - Use Skill tool: `command: \"slash-command-builder\"`\n   - Read the guidance on frontmatter, arguments, bash integration\n\n2. **Gather requirements** from delegated context:\n   - Command name\n   - Description\n   - Arguments (if any)\n   - Bash execution needs (if any)\n   - Tool permissions\n\n3. **Generate command file**:\n   - Create .md file with proper frontmatter\n   - Add YAML fields (description, argument-hint, allowed-tools)\n   - Write command body using $ARGUMENTS syntax\n\n4. **Validate syntax**:\n   - Check YAML frontmatter is valid\n   - Verify argument placeholders use $ARGUMENTS or $1, $2, etc.\n   - Ensure description is present\n\n5. **Return results** with file path and validation status\n\n## Critical Rules\n\n- Always invoke slash-command-builder skill first for current patterns\n- Use shell-style $ARGUMENTS, NOT template-style {{ARGUMENTS}}\n- Validate frontmatter before returning\n- No user questions - execute based on delegated context\n```\n\n**Invocation**: \"Use slash-command-builder-agent to create /review-pr command that takes pr-number and priority\"\n\n### Pattern 3: Validator Agent (References Production Examples)\n\n```markdown\n---\nname: effect-pattern-validator-agent\ndescription: Validates Effect.ts code against production patterns by invoking effect-pattern-validator skill. Use when reviewing Effect code.\ntools: Skill, Read, Grep, Glob\nmodel: sonnet\n---\n\n# Effect Pattern Validator Agent\n\nYou validate Effect code by:\n\n1. **Invoke effect-pattern-validator skill** for production patterns\n2. **Read target code** files\n3. **Compare against production examples** from skill's reference repos\n4. **Report deviations** with specific file references\n5. **Suggest corrections** using production patterns\n\nNo user interaction - you have the code context to validate.\n```\n\n## Frontmatter Fields Reference\n\n### Required Fields\n\n**name** (required):\n```yaml\nname: your-agent-name\n```\n- Lowercase letters, numbers, hyphens only\n- Used for invocation: \"use the your-agent-name agent\"\n\n**description** (required):\n```yaml\ndescription: When to delegate this task. Be specific about triggers.\n```\n- Critical for automatic delegation\n- Include what agent does AND when to use it\n- Mention key terms that would appear in user requests\n\n### Optional Fields\n\n**tools** (optional, inherits all if omitted):\n```yaml\ntools: Skill, Read, Write, Edit, Bash, Grep\n```\n- **If omitted**: Agent inherits ALL tools from main thread (including MCP tools)\n- **If specified**: Agent ONLY has listed tools (must be explicit)\n- **Critical**: Include `Skill` tool if agent needs to invoke skills\n\n**model** (optional):\n```yaml\nmodel: sonnet      # Use alias\nmodel: inherit     # Use main conversation's model\n```\n- Defaults to sonnet if omitted\n- Use `inherit` for consistency with main conversation\n\n## Tool Access Patterns\n\n### When to Grant Skill Tool\n\n**Grant `Skill` tool when**:\n- Agent invokes builder skills for guidance (slash-command-builder, hook-builder, etc.)\n- Agent needs domain knowledge from skills (pdf-processing, excel-analysis, etc.)\n- Agent validates patterns using skill references\n\n**Example**:\n```yaml\ntools: Skill, Read, Write, Edit\n```\n\nAgent can invoke: `Skill({ command: \"slash-command-builder\" })`\n\n### When to Omit Tools Field\n\n**Omit `tools` field when**:\n- Agent needs maximum flexibility\n- You want to inherit all MCP tools\n- Agent's tasks are unpredictable\n\n**Example**:\n```yaml\nname: general-researcher\ndescription: Research any topic using all available tools\n# tools field omitted - inherits everything\n```\n\n### Common Tool Combinations\n\n**Builder agents**:\n```yaml\ntools: Skill, Read, Write, Edit, Grep, Glob\n```\n\n**Validator agents**:\n```yaml\ntools: Skill, Read, Grep, Glob\n```\n\n**Formatter agents**:\n```yaml\ntools: Read, Write, Edit, Bash\n```\n\n**Research agents**:\n```yaml\n# Omit tools to inherit all including MCP tools\n```\n\n## Delegation Semantics\n\n### One-Shot Execution\n\nAgents receive full context from delegating conversation and execute without back-and-forth:\n\n**Main Claude**:\n```\nUse slash-command-builder-agent to create a /review-pr command that:\n- Takes two arguments: pr-number and priority\n- Uses gh CLI to fetch PR details\n- Outputs structured review checklist\n```\n\n**Agent receives**:\n- Complete specification above\n- Current working directory context\n- Available tools\n\n**Agent executes**:\n1. Invokes slash-command-builder skill\n2. Generates command file with frontmatter\n3. Validates syntax\n4. Returns file path + status\n\n**Agent returns** to main Claude:\n```\nCreated /review-pr command at .claude/commands/review-pr.md\n\nFrontmatter:\n- description: Review pull request with priority\n- argument-hint: [pr-number] [priority]\n- allowed-tools: Bash(gh:*)\n\nValidation: ‚úÖ YAML valid, arguments use $1 and $2 syntax\n```\n\n### No User Interaction\n\n**‚ùå Wrong** (agent asks questions):\n```markdown\nYou create commands by:\n1. Ask user for command name\n2. Ask user for description\n3. Generate file\n```\n\n**‚úÖ Correct** (agent uses delegated context):\n```markdown\nYou create commands by:\n1. Extract requirements from delegated context\n2. Invoke skill for validation patterns\n3. Generate file using provided spec\n4. Return results\n```\n\n## File Locations and Priority\n\n### Location Priority\n\nWhen agent names conflict, priority is:\n1. **Project agents** (`.claude/agents/`) - Highest priority\n2. **CLI-defined agents** (`--agents` flag)\n3. **User agents** (`~/.claude/agents/`)\n4. **Plugin agents** (from installed plugins)\n\n### Plugin Agents\n\nAgents in plugins load from:\n```\nplugins/<plugin-name>/agents/<agent-name>.md\n```\n\nPlugin agents:\n- Appear in `/agents` interface\n- Can be invoked like user/project agents\n- Distributed via marketplace\n\n## Testing Workflow\n\n1. **Create agent file** with proper frontmatter\n2. **Restart Claude Code** (or start new conversation)\n3. **Check `/agents`** - verify agent appears in list\n4. **Explicit test**: \"Use the agent-name agent to [task]\"\n5. **Verify behavior**: Check agent executes without asking questions\n6. **Validate output**: Ensure agent returns clear results\n\n## Common Issues & Fixes\n\n### Issue: Agent Asks Questions During Execution\n\n‚ùå **Wrong pattern**:\n```markdown\nYou create hooks by:\n1. Ask user which event type they want\n2. Ask for the hook name\n```\n\n‚úÖ **Correct pattern**:\n```markdown\nYou create hooks by:\n1. Extract event type from delegated context\n2. Extract hook name from delegated context\n3. If context is incomplete, return error with missing requirements\n```\n\n**Why**: Agents can't interact with users mid-execution.\n\n### Issue: Agent Not Using Skill\n\n‚ùå **Missing Skill tool**:\n```yaml\ntools: Read, Write, Edit\n# Skill tool not granted!\n```\n\n‚úÖ **Include Skill tool**:\n```yaml\ntools: Skill, Read, Write, Edit\n```\n\n**Why**: Agents must explicitly have `Skill` tool to invoke skills.\n\n### Issue: Agent Not Found in `/agents`\n\n**Check**:\n- File location correct? (`.claude/agents/` or `~/.claude/agents/`)\n- YAML frontmatter valid?\n- Name field present and properly formatted?\n\n**Fix**:\n```bash\n# Verify file exists\nls .claude/agents/\n\n# Check YAML syntax\nhead -n 10 .claude/agents/my-agent.md\n\n# Restart Claude Code to reload agents\n```\n\n### Issue: Tools Field vs Inheritance Confusion\n\n**If you want maximum tools**:\n```yaml\n# Omit tools field entirely\n```\nAgent inherits ALL tools including future MCP additions.\n\n**If you want restricted tools**:\n```yaml\ntools: Read, Grep, Glob\n# Agent ONLY has these 3 tools\n```\n\n## Builder Agent Architecture (Key Pattern)\n\nThe builder agent pattern is critical for meta-infrastructure:\n\n```\nUser: \"create a /review-pr command\"\n  ‚Üì\nMain Claude: delegates to slash-command-builder-agent with full spec\n  ‚Üì\nAgent: invokes slash-command-builder skill via Skill tool\n  ‚Üì\nSkill: provides frontmatter patterns, argument syntax, examples\n  ‚Üì\nAgent: generates .md file with proper YAML + body\n  ‚Üì\nAgent: validates syntax against patterns\n  ‚Üì\nAgent: returns file + validation status to main Claude\n  ‚Üì\nMain Claude: shows user the generated command\n```\n\n**Why this works**:\n- **Skill** = knowledge base (patterns, validation rules, examples)\n- **Agent** = executor (reads skill, generates output, validates)\n- **Separation** = skills can be improved independently of agents\n\n## Official Documentation\n\nFor the complete, up-to-date subagents specification, use the `claude-code-docs-reference` skill or the `claude-code-guide` agent to look up official Anthropic documentation on subagents.\n\n## Improving This Skill\n\nNotice gaps, unclear instructions, or better patterns while using this skill?\n\nUse the `continuous-improvement` skill to propose enhancements:\n1. Detect the issue\n2. Propose specific changes\n3. Git branch ‚Üí commit ‚Üí surface for approval\n4. Update changelog\n\nThis skill should evolve with every use.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/cc-docs-toc.md": "##### Getting started\n\n-   [Overview](https://docs.claude.com/en/docs/claude-code/overview.md)\n-   [Quickstart](https://docs.claude.com/en/docs/claude-code/quickstart.md)\n-   [Common workflows](https://docs.claude.com/en/docs/claude-code/common-workflows.md)\n-   [Claude Code on the web](https://docs.claude.com/en/docs/claude-code/claude-code-on-the-web.md)\n\n##### Build with Claude Code\n\n-   [Subagents](https://docs.claude.com/en/docs/claude-code/sub-agents.md)\n-   [Plugins](https://docs.claude.com/en/docs/claude-code/plugins.md)\n-   [Agent Skills](https://docs.claude.com/en/docs/claude-code/skills.md)\n-   [Output styles](https://docs.claude.com/en/docs/claude-code/output-styles.md)\n-   [Hooks](https://docs.claude.com/en/docs/claude-code/hooks-guide.md)\n-   [Headless mode](https://docs.claude.com/en/docs/claude-code/headless.md)\n-   [GitHub Actions](https://docs.claude.com/en/docs/claude-code/github-actions.md)\n-   [GitLab CI/CD](https://docs.claude.com/en/docs/claude-code/gitlab-ci-cd.md)\n-   [Model Context Protocol (MCP.md)](https://docs.claude.com/en/docs/claude-code/mcp.md)\n-   [Troubleshooting](https://docs.claude.com/en/docs/claude-code/troubleshooting.md)\n\n##### Claude Agent SDK\n\n-   [Migrate to Claude Agent SDK](https://docs.claude.com/en/docs/claude-code/sdk/migration-guide.md)\n\n##### Deployment\n\n-   [Overview](https://docs.claude.com/en/docs/claude-code/third-party-integrations.md)\n-   [Amazon Bedrock](https://docs.claude.com/en/docs/claude-code/amazon-bedrock.md)\n-   [Google Vertex AI](https://docs.claude.com/en/docs/claude-code/google-vertex-ai.md)\n-   [Network configuration](https://docs.claude.com/en/docs/claude-code/network-config.md)\n-   [LLM gateway](https://docs.claude.com/en/docs/claude-code/llm-gateway.md)\n-   [Development containers](https://docs.claude.com/en/docs/claude-code/devcontainer.md)\n-   [Sandboxing](https://docs.claude.com/en/docs/claude-code/sandboxing.md)\n\n##### Administration\n\n-   [Advanced installation](https://docs.claude.com/en/docs/claude-code/setup.md)\n-   [Identity and Access Management](https://docs.claude.com/en/docs/claude-code/iam.md)\n-   [Security](https://docs.claude.com/en/docs/claude-code/security.md)\n-   [Data usage](https://docs.claude.com/en/docs/claude-code/data-usage.md)\n-   [Monitoring](https://docs.claude.com/en/docs/claude-code/monitoring-usage.md)\n-   [Costs](https://docs.claude.com/en/docs/claude-code/costs.md)\n-   [Analytics](https://docs.claude.com/en/docs/claude-code/analytics.md)\n-   [Plugin marketplaces](https://docs.claude.com/en/docs/claude-code/plugin-marketplaces.md)\n\n##### Configuration\n\n-   [Settings](https://docs.claude.com/en/docs/claude-code/settings.md)\n-   [Visual Studio Code](https://docs.claude.com/en/docs/claude-code/vs-code.md)\n-   [JetBrains IDEs](https://docs.claude.com/en/docs/claude-code/jetbrains.md)\n-   [Terminal configuration](https://docs.claude.com/en/docs/claude-code/terminal-config.md)\n-   [Model configuration](https://docs.claude.com/en/docs/claude-code/model-config.md)\n-   [Memory management](https://docs.claude.com/en/docs/claude-code/memory.md)\n-   [Status line configuration](https://docs.claude.com/en/docs/claude-code/statusline.md)\n\n##### Reference\n\n-   [CLI reference](https://docs.claude.com/en/docs/claude-code/cli-reference.md)\n-   [Interactive mode](https://docs.claude.com/en/docs/claude-code/interactive-mode.md)\n-   [Slash commands](https://docs.claude.com/en/docs/claude-code/slash-commands.md)\n-   [Checkpointing](https://docs.claude.com/en/docs/claude-code/checkpointing.md)\n-   [Hooks reference](https://docs.claude.com/en/docs/claude-code/hooks.md)\n-   [Plugins reference](https://docs.claude.com/en/docs/claude-code/plugins-reference.md)\n\n##### Resources\n\n-   [Legal and compliance](https://docs.claude.com/en/docs/claude-code/legal-and-compliance.md)",
        "plugins/claude-code-meta/skills/claude-code-meta/references/command-testing.md": "# Command Testing Patterns\n\n**How to test meta plugin commands during development**\n\n---\n\n## Headless Execution Pattern\n\nWhen testing commands, use direct headless Claude Code execution:\n\n```bash\n# Basic pattern\nclaude --dangerously-skip-permissions --model haiku \"capture: test idea\"\nclaude --dangerously-skip-permissions --model sonnet \"apply razors to: build X\"\n\n# Save output to log\nclaude --dangerously-skip-permissions --model haiku \\\n  \"show me my inbox\" \\\n  2>&1 | tee /tmp/test-output.log\n```\n\n**Why headless over Task tool:**\n- Faster for command testing\n- Can use slash command syntax (Task tool can't)\n- Direct output control (pipes, tee)\n- Good for one-off verification\n\n---\n\n## Test Workflow\n\n```bash\n# 1. Set up log directory\nLOG_DIR=~/workspace/logs/$(date +%Y-%m-%d)-command-test\nmkdir -p \"$LOG_DIR\"\n\n# 2. Test command with logging\nclaude --dangerously-skip-permissions --model haiku \\\n  \"capture: test item $(date +%s)\" \\\n  2>&1 | tee \"$LOG_DIR/capture-test.log\"\n\n# 3. Verify persistence\ncat ~/workspace/ops/inbox.md | tail -10\n\n# 4. Check for errors\ngrep -i \"error\\|fail\" \"$LOG_DIR/capture-test.log\"\n```\n\n---\n\n## Commands and Their Persistence\n\n| Command | Persists To | Notes |\n|---------|-------------|-------|\n| `/capture` | `~/workspace/ops/inbox.md` | ‚úÖ Auto-persists |\n| `/inbox` | (none) | Read-only display |\n| `/work` | (none) | Read-only display |\n| `/razor` | **Missing** | Should persist to killed.md/exo-coord |\n| `/ship` | (none) | Read-only display |\n\n**Known gap:** Razor doesn't persist verdicts yet. Outputs go to logs only.\n\n---\n\n## Output Capture Patterns\n\n```bash\n# Save full output\nclaude ... \"command\" > /tmp/output.log\n\n# Save stdout + stderr\nclaude ... \"command\" 2>&1 > /tmp/full-output.log\n\n# Save and watch\nclaude ... \"command\" 2>&1 | tee /tmp/output.log\n\n# Background with logging\nclaude ... \"command\" > /tmp/output.log 2>&1 &\n```\n\n---\n\n## Shell Interpolation Testing\n\nCommands use shell interpolation for dynamic context:\n\n```markdown\n# In command frontmatter\n- Inbox count: !`grep -c \"^## \" ~/workspace/ops/inbox.md`\n```\n\n**To test:**\n1. Trigger command that uses interpolation\n2. Check output contains actual values (not the shell command)\n3. Verify values are current (not cached)\n\n**Example:**\n```bash\nclaude ... \"show me my inbox\"\n# Should show: \"INBOX: [8] items\"\n# NOT: \"INBOX: !`grep -c...` items\"\n```\n\n---\n\n## QA Checklist\n\nBefore committing command changes:\n\n- [ ] Test command headless (basic execution)\n- [ ] Verify shell interpolation (if used)\n- [ ] Check persistence (if command writes files)\n- [ ] Test error cases (missing files, empty state)\n- [ ] Verify allowed-tools (command can execute)\n- [ ] Update CHANGELOG.md\n- [ ] Bump plugin version\n\n---\n\n## Full QA Report\n\nFor comprehensive testing approach, see:\n- `reports/2025-12-20-workflow-qa-comprehensive.md`\n- `HEADLESS-CLAUDE-PATTERNS.md`\n\n---\n\n*Last updated: 2025-12-20*\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/creating-components.md": "# Creating Components - Quick Reference\n\nBest practices for building Claude Code extensions in this marketplace.\n\n## Component Types\n\n| Need | Use | Where |\n|------|-----|-------|\n| User-invocable action | **Skill** | `plugins/<domain>/skills/` |\n| Slash command | **Command** | `plugins/<domain>/commands/` |\n| System hook | **Hook** | `plugins/<domain>/hooks/` |\n| Bundle & distribute | **Plugin** | Root of plugin directory |\n| Library/reference | **Reference file** | `skills/<skill>/references/` |\n\n## Key Patterns\n\n**SKILL.md frontmatter**:\n```yaml\n---\nname: skill-name\ndescription: WHAT it does. WHEN to use. NOT FOR anti-patterns. (max 1024 chars)\n---\n```\n\n**Command.md frontmatter**:\n```yaml\n---\nname: /command-name\ntriggers: [\"alias1\"]\nprompt: System prompt here\nallowed-tools: [read, edit, bash]\n---\n```\n\n**File size limits**:\n- SKILL.md: 250 lines max (use `references/` for more)\n- Command.md: 100 lines max\n- Reference file: 250 lines max\n- Split if larger\n\n## Reference Routing Pattern\n\nWhen creating a skill with references/, explicitly route from master SKILL.md with loading intent:\n\n### ‚úÖ GOOD: Explicit routing with intent\n\n```markdown\n# Skill Title\n\n## Core Workflow\n[Main content]\n\n## Advanced Features\n\nFor production-grade optimization patterns, see [references/performance.md](references/performance.md)\n- Load this when you need to handle high-volume scenarios or optimize for latency\n```\n\n### ‚ùå LESS GOOD: References exist but no routing\n\n```markdown\n# Skill Title\n\n[Content without mentioning references/]\n```\n\n**Pattern: Every reference needs**:\n1. Explicit link from master SKILL.md\n2. \"Load this when you need to...\" description\n3. One level deep (avoid deeply nested subdirectories)\n\n**Example from effectts skill** (model):\n```markdown\n## What Are You Building?\n\n| Domain | When to Use | Reference |\n|--------|-------------|-----------|\n| **State Management** | React apps with effect-atom | [references/effect-atom-reference.md](references/effect-atom-reference.md) |\n```\n\nThis pattern explicitly lists what each reference covers and when to read it.\n\n## Code Quality Gates\n\n- [ ] Clear, focused purpose (one per component)\n- [ ] Description follows WHAT/WHEN/NOT-FOR pattern\n- [ ] CHANGELOG.md updated\n- [ ] No hardcoded paths (use repo-relative references or `${CLAUDE_PLUGIN_ROOT}`)\n- [ ] Examples included\n- [ ] Tested with headless execution\n- [ ] All files < 250 lines\n\n## References\n\n- **Full patterns**: See other reference files in this directory\n- **CLI docs**: [Claude Code Plugin Development](https://modelcontextprotocol.io/docs)\n- **Plugin updates**: `plugin-updates.md`\n- **Command testing**: `command-testing.md`\n\n*Last updated: 2025-12-20*\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/cross-link-syntax.md": "# Cross-Link Syntax Reference\n\nThis guide explains how to create effective cross-links between documentation skills and application skills for seamless discovery.\n\n## Core Principles\n\n**1. Bidirectional Linking**\n- Docs skill ‚Üí Application skills (for patterns and usage)\n- Application skills ‚Üí Docs skill (for syntax reference)\n- Each skill should know about related skills\n\n**2. Context-Appropriate**\n- Link to docs skill for syntax, API reference, concepts\n- Link to application skills for patterns, examples, workflows\n- Don't duplicate content - link instead\n\n**3. Grep-Driven**\n- Include `rg` commands that point to exact locations\n- Make links actionable with copy-pasteable grep patterns\n- Show users HOW to find, not just WHERE to look\n\n## Syntax Patterns\n\n### From Docs Skill ‚Üí Application Skills\n\n**Pattern 1: Cross-Reference Section**\n\n```markdown\n## Cross-References to Application Skills\n\n### tech-patterns\n**Use this skill for**: Basic patterns, common workflows, [framework] integration\n\n**When to cross-reference:**\n- Implementing basic features\n- Following common patterns\n- [Framework]-specific integration\n\n### tech-advanced\n**Use this skill for**: Advanced patterns, optimization, performance tuning\n\n**When to cross-reference:**\n- Performance optimization\n- Complex architectures\n- Edge cases and gotchas\n\n### tech-integration\n**Use this skill for**: Third-party integrations, [ecosystem] patterns\n\n**When to cross-reference:**\n- Integrating with [tool/framework]\n- Multi-service architectures\n- Cross-platform development\n```\n\n**Why this works:**\n- Clear skill boundaries\n- Explicit use cases\n- Users know when to switch skills\n\n**Pattern 2: Inline Cross-References**\n\n```markdown\n### Guides (`references/guides/`)\n\nComprehensive guides covering:\n- Getting Started\n- Core Concepts\n- Best Practices\n\n**Quick grep patterns:**\n\\```bash\n# Getting started\nrg \"getting started\\\\|quickstart\" references/guides/ -i -l | head -5\n\n# Best practices\nrg \"best practice\\\\|recommended\" references/guides/ -i -l\n\\```\n\n**For [Framework]-based patterns using these concepts**, see **tech-patterns skill**.\n```\n\n**Why this works:**\n- Links appear at natural points\n- Contextual - users see link when they need it\n- Clearly states what the linked skill provides\n\n### From Application Skills ‚Üí Docs Skill\n\n**Pattern 1: Quick Pattern Reference Section**\n\n```markdown\n## Quick Pattern Reference\n\n**When to use tech-docs:**\n- Syntax reference: `rg \"KEYWORD\" ../tech-docs/references/api-reference/`\n- Function reference: `rg \"functionName\" ../tech-docs/references/`\n- Complete guides: `rg \"concept\" ../tech-docs/references/guides/ -i -l`\n\n**When to use this skill:**\n- [Framework]-based patterns\n- Common workflows with [Framework]\n- Type-safe operations\n- Error handling patterns\n- Best practices\n```\n\n**Why this works:**\n- Sets clear skill boundaries upfront\n- Provides grep commands for immediate use\n- Shows relative path syntax (`../tech-docs/`)\n\n**Pattern 2: Cross-Reference Guide Section**\n\n```markdown\n## Cross-Reference Guide\n\n### Syntax Reference ‚Üí tech-docs\n\nFor complete [Technology] syntax, use tech-docs references:\n\n\\```bash\n# Data types\nrg \"INT64\\\\|STRING\\\\|TIMESTAMP\" ../tech-docs/references/api-reference/data-types.md\n\n# Functions\nrg \"JSON_VALUE\\\\|ARRAY_AGG\" ../tech-docs/references/api-reference/json_functions.md\n\n# DDL syntax\nrg \"CREATE TABLE\\\\|ALTER TABLE\" ../tech-docs/references/api-reference/data-definition-language.md\n\\```\n\n### Guides ‚Üí tech-docs\n\nFor conceptual understanding and best practices:\n\n\\```bash\n# Schema design\nrg \"primary key\\\\|index\" ../tech-docs/references/guides/ -i -l | head -5\n\n# Query optimization\nrg \"query plan\\\\|optimizer\" ../tech-docs/references/guides/ -i -l\n\n# Transaction patterns\nrg \"read-write\\\\|serializable\" ../tech-docs/references/guides/ -i -l\n\\```\n```\n\n**Why this works:**\n- Organized by documentation type\n- Shows exact grep commands users can run\n- Uses relative paths that work from application skill location\n\n**Pattern 3: Inline \"See Also\" Links**\n\n```markdown\n### Basic Pattern 1: Query Execution\n\n\\```typescript\nconst getUser = (client: SpannerGraphClient, userId: string) =>\n  Effect.gen(function* () {\n    const result = yield* client.sql<{ user: unknown }>`\n      SELECT id, email, created_at\n      FROM Users\n      WHERE id = ${userId}\n    `.pipe(Effect.orDie)\n\n    return yield* Schema.decodeUnknown(User)(result.user).pipe(\n      Effect.orDie\n    )\n  })\n\\```\n\n**Key patterns:**\n- Use template literals for parameterized queries\n- Always decode query results with `@effect/schema`\n- Use `.pipe(Effect.orDie)` for queries that must succeed\n\n**For complete SQL syntax**, see tech-docs: `rg \"SELECT.*FROM\" ../tech-docs/references/api-reference/`\n```\n\n**Why this works:**\n- Link appears at point of need\n- Provides specific grep pattern for relevant docs\n- Doesn't interrupt pattern explanation\n\n## Relative Path Conventions\n\n### Directory Structure Assumption\n\n```\nyour-plugin/\n‚îú‚îÄ‚îÄ tech-docs/\n‚îÇ   ‚îî‚îÄ‚îÄ references/\n‚îî‚îÄ‚îÄ tech-patterns/\n    ‚îî‚îÄ‚îÄ SKILL.md  ‚Üê You are here\n```\n\n### From Application Skill to Docs Skill\n\n```bash\n# From tech-patterns/ to tech-docs/references/\nrg \"pattern\" ../tech-docs/references/\n\n# From tech-advanced/ to tech-docs/references/guides/\nrg \"pattern\" ../tech-docs/references/guides/\n\n# From tech-integration/ to tech-docs/references/samples/\nrg \"pattern\" ../tech-docs/references/samples/\n```\n\n**Pattern:** `../tech-docs/references/[category]/`\n\n### From Docs Skill to Application Skills\n\nDocs skill doesn't execute grep, it describes:\n\n```markdown\n### tech-patterns\n**Use this skill for**: Basic patterns, common workflows\n\n**Example patterns:**\n- Repository pattern with SpannerGraphClient\n- Effect.gen query execution\n- Schema validation\n```\n\n**Pattern:** Describe, don't link (docs skill is passive)\n\n## Cross-Link Anti-Patterns\n\n### ‚ùå Don't: Duplicate Content\n\n**WRONG:**\n\n```markdown\n<!-- In tech-patterns SKILL.md -->\n## SQL Function Reference\n\nHere are all the SQL functions... [3000 lines]\n```\n\n**RIGHT:**\n\n```markdown\n<!-- In tech-patterns SKILL.md -->\n## SQL Function Reference ‚Üí tech-docs\n\nFor complete SQL function syntax, see tech-docs:\n\n\\```bash\nrg \"JSON_VALUE\" ../tech-docs/references/api-reference/json_functions.md\n\\```\n```\n\n### ‚ùå Don't: Vague Cross-References\n\n**WRONG:**\n\n```markdown\nFor more info, see tech-docs skill.\n```\n\n**RIGHT:**\n\n```markdown\nFor complete GQL syntax reference, run:\n\\```bash\nrg \"MATCH.*WHERE.*RETURN\" ../tech-docs/references/api-reference/gql-query-statements.md\n\\```\n```\n\n### ‚ùå Don't: Circular Dependencies\n\n**WRONG:**\n\n```markdown\n<!-- tech-patterns SKILL.md -->\nFor patterns, see tech-advanced.\n\n<!-- tech-advanced SKILL.md -->\nFor patterns, see tech-patterns.\n```\n\n**RIGHT:**\n\n```markdown\n<!-- tech-patterns SKILL.md -->\nFor advanced optimization patterns, see tech-advanced.\n\n<!-- tech-advanced SKILL.md -->\nAssumes familiarity with basic patterns from tech-patterns.\n```\n\n### ‚ùå Don't: Absolute Paths\n\n**WRONG:**\n\n```bash\nrg \"pattern\" /path/to/tech-docs/references/\n```\n\n**RIGHT:**\n\n```bash\nrg \"pattern\" ../tech-docs/references/\n```\n\n### ‚úÖ Do: Provide Actionable Grep Commands\n\n**GOOD:**\n\n```markdown\n### Finding Transaction Patterns ‚Üí tech-docs\n\n\\```bash\n# Read-write transactions\nrg \"BEGIN TRANSACTION\\\\|COMMIT\" ../tech-docs/references/guides/ -A5\n\n# Transaction isolation levels\nrg \"SERIALIZABLE\\\\|SNAPSHOT\" ../tech-docs/references/guides/ -i -l\n\n# Retry logic\nrg \"aborted.*retry\" ../tech-docs/references/guides/ -i -A3\n\\```\n```\n\n### ‚úÖ Do: Show When to Switch Skills\n\n**GOOD:**\n\n```markdown\n## When to Use Which Skill\n\n**Use tech-docs when you need:**\n- Exact SQL syntax for a function\n- Complete API reference\n- Official documentation quotes\n\n**Use tech-patterns when you need:**\n- Effect-based query execution\n- Repository pattern examples\n- Common workflows\n\n**Use tech-advanced when you need:**\n- Performance tuning strategies\n- Complex optimization scenarios\n- Edge case handling\n```\n\n## Examples from Spanner Mastery\n\n### Docs Skill Cross-Links\n\n```markdown\n<!-- spanner-docs/SKILL.md -->\n\n## Cross-References to Application Skills\n\n### spanner-googlesql\n**Use this skill for**: GoogleSQL query patterns, function usage, Effect-based SQL execution\n\n**When to cross-reference:**\n- Writing SQL queries with Effect\n- Repository pattern implementation\n- Type-safe database operations\n\n### spanner-gql\n**Use this skill for**: Graph Query Language patterns, GQL execution, schemaless graph patterns\n\n**When to cross-reference:**\n- Writing graph traversals\n- Implementing graph repositories\n- Working with property graph data\n```\n\n### Application Skill Cross-Links\n\n```markdown\n<!-- spanner-googlesql/SKILL.md -->\n\n## Quick Pattern Reference\n\n**When to use spanner-docs:**\n- Syntax reference: `rg \"CREATE TABLE\" ../spanner-docs/references/googlesql/references/`\n- Function reference: `rg \"JSON_VALUE\" ../spanner-docs/references/googlesql/references/`\n- Complete guides: `rg \"schema design\" ../spanner-docs/references/guides/ -i -l`\n\n**When to use this skill:**\n- Effect-based query execution patterns\n- Repository implementation with SpannerGraphClient\n- Type-safe Schema decoding from query results\n- Transaction management with Effect\n- Error handling and retry logic\n\n## Cross-Reference Guide\n\n### Syntax Reference ‚Üí spanner-docs\n\nFor complete GoogleSQL syntax, use spanner-docs references:\n\n\\```bash\n# Data types\nrg \"INT64\\\\|STRING\\\\|TIMESTAMP\" ../spanner-docs/references/googlesql/references/data-types.md\n\n# Functions\nrg \"JSON_VALUE\\\\|ARRAY_AGG\" ../spanner-docs/references/googlesql/references/json_functions.md\n\n# DDL syntax\nrg \"CREATE TABLE\\\\|ALTER TABLE\" ../spanner-docs/references/googlesql/references/data-definition-language.md\n\\```\n```\n\n## Testing Cross-Links\n\n### Verify Relative Paths Work\n\n```bash\n# From tech-patterns/ directory\ncd plugins/your-plugin/tech-patterns/\n\n# Test the grep command\nrg \"pattern\" ../tech-docs/references/ -l | head -5\n\n# Should return results - if not, fix the path\n```\n\n### Verify Grep Patterns Match\n\n```bash\n# Run the exact grep command from your SKILL.md\nrg \"JSON_VALUE\" ../tech-docs/references/api-reference/\n\n# Should return relevant results\n# If empty, pattern needs refinement\n```\n\n### Verify Skill Boundaries Are Clear\n\n```bash\n# Check that docs skill doesn't include patterns\ngrep -c \"Effect.gen\" tech-docs/SKILL.md\n# Should be 0 or very low\n\n# Check that application skill references docs\ngrep -c \"rg.*../tech-docs\" tech-patterns/SKILL.md\n# Should be 5-10+\n```\n\n## Summary\n\n**Best practices for cross-linking:**\n\n1. **Bidirectional**: Docs ‚Üî Application skills both link\n2. **Actionable**: Provide exact grep commands users can run\n3. **Relative paths**: Use `../skill-name/` notation\n4. **Contextual**: Link at points where users need the information\n5. **Clear boundaries**: Explicitly state what each skill provides\n6. **No duplication**: Link instead of copying content\n7. **Grep-driven**: Make discovery easy with specific patterns\n8. **Tested**: Verify all grep commands actually work\n\n**Remember:** Good cross-links make the plugin feel like one cohesive system, not isolated skills. Users should effortlessly move between skills following their workflow.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/docs-plugin-builder.md": "---\nname: docs-plugin-builder\ndescription: Build scalable documentation plugins using the docs-skill + application-skill architecture. Prevents context explosion via grep-driven discovery and cross-linking. Based on proven spanner-mastery pattern.\ntrigger: When building comprehensive documentation skills, creating doc-heavy plugins, or avoiding context bloat with large reference material\nkeywords: documentation, plugin, architecture, grep, cross-links, scalability, token-efficiency, skills, meta\nversion: 1.0.0\n---\n\n# Documentation Plugin Builder\n\nThis skill teaches you how to build token-efficient documentation plugins that scale to thousands of pages without context explosion.\n\n## The Problem\n\n**Traditional approach fails at scale:**\n- Load 1000+ pages of docs into one skill ‚Üí immediate context bloat\n- Can't load multiple skills simultaneously ‚Üí poor composability\n- Mixing reference docs with patterns ‚Üí unfocused, hard to navigate\n- Result: Unusable at scale, poor user experience\n\n**What we need:**\n- Access to comprehensive documentation without loading it all\n- Multiple focused skills that compose well\n- Quick discovery without grep gymnastics\n- Token-efficient design that scales infinitely\n\n## The Solution: Docs + Application Architecture\n\n**Core principle:** Separate documentation from application patterns, use grep for discovery.\n\n```\nyour-plugin/\n‚îú‚îÄ‚îÄ tech-docs/              # Pure reference material + grep patterns\n‚îÇ   ‚îú‚îÄ‚îÄ SKILL.md            # How to find things via grep\n‚îÇ   ‚îî‚îÄ‚îÄ references/         # Scraped/copied documentation\n‚îÇ       ‚îú‚îÄ‚îÄ guides/\n‚îÇ       ‚îú‚îÄ‚îÄ api-reference/\n‚îÇ       ‚îî‚îÄ‚îÄ samples/\n‚îÇ\n‚îú‚îÄ‚îÄ tech-patterns/          # Focused application patterns\n‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md            # Patterns + cross-links to docs\n‚îÇ\n‚îú‚îÄ‚îÄ tech-advanced/          # Advanced patterns\n‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md            # Advanced + cross-links to docs\n‚îÇ\n‚îî‚îÄ‚îÄ tech-integration/       # Integration patterns\n    ‚îî‚îÄ‚îÄ SKILL.md            # Integration + cross-links to docs\n```\n\n**Why this works:**\n- **Docs skill**: Passive, searchable via grep (300-500 lines)\n- **Application skills**: Active, focused patterns (300-400 lines each)\n- **Total context**: ~1000 lines across 4 skills vs 3000+ in one skill\n- **Scales**: Add more application skills without loading more docs\n\n## Five-Phase Implementation\n\n### Phase 1: Documentation Collection\n\n**1.1 Identify documentation sources**\n\nCommon sources:\n- Official documentation websites\n- GitHub repositories (README, wiki, docs/)\n- API reference sites\n- Blog posts and tutorials\n- Code examples and samples\n\n**1.2 Organize URLs into categories**\n\nCreate TOC (Table of Contents) files for tracking:\n\n```markdown\n<!-- references/guides/TOC.md -->\n- Getting Started: https://docs.example.com/getting-started\n- Core Concepts: https://docs.example.com/concepts\n- Best Practices: https://docs.example.com/best-practices\n```\n\nCategories to consider:\n- **Guides**: Conceptual explanations, tutorials\n- **API Reference**: Function/class/method documentation\n- **Samples**: Code examples, recipes\n- **Resources**: Whitepapers, case studies, videos\n\n**1.3 Choose scraping method**\n\nOptions:\n- **FireCrawl API**: Clean markdown extraction (recommended)\n- **Manual copy-paste**: For small doc sets\n- **Web scraping scripts**: For custom needs\n- **Git submodules**: For open-source docs\n\n**1.4 Extract and clean URLs**\n\n```bash\n# Extract URLs from TOC files\ngrep -oE 'https?://[^\\)]+' references/*/TOC.md | \\\n  grep -v '#' | \\           # Remove anchors\n  sort -u > urls_to_scrape.txt\n\n# Count by category\nfor toc in references/*/TOC.md; do\n  category=$(basename $(dirname $toc))\n  count=$(grep -c 'https' \"$toc\")\n  echo \"$category: $count URLs\"\ndone\n```\n\n### Phase 2: Documentation Skill Creation\n\n**2.1 Directory structure**\n\n```\ntech-docs/\n‚îú‚îÄ‚îÄ SKILL.md                  # Main skill with grep patterns\n‚îú‚îÄ‚îÄ references/\n‚îÇ   ‚îú‚îÄ‚îÄ guides/              # Conceptual docs\n‚îÇ   ‚îú‚îÄ‚îÄ api-reference/       # API docs\n‚îÇ   ‚îú‚îÄ‚îÄ samples/             # Code samples\n‚îÇ   ‚îî‚îÄ‚îÄ resources/           # Additional resources\n‚îî‚îÄ‚îÄ TOC.md                   # Master table of contents\n```\n\n**2.2 SKILL.md template**\n\nSee `templates/docs-skill-template.md` for full template. Key sections:\n\n```markdown\n---\nskill_name: tech-docs\ndescription: Complete [Technology] documentation reference...\n---\n\n# [Technology] Documentation Reference\n\n## Quick Reference Guide\n\n**Finding Documentation:**\n\\```bash\n# Search for concepts\nrg -i \"keyword\" references/guides/\n\n# Find code examples\nrg \"pattern\" references/samples/ -l | head -5\n\n# API reference\nrg \"function_name\" references/api-reference/\n\\```\n\n## Documentation Structure\n\n### Guides (`references/guides/`)\n- Getting Started\n- Core Concepts\n- Best Practices\n\n**Quick grep patterns:**\n\\```bash\nrg \"getting started\" references/guides/ -i -l\nrg \"best practice\" references/guides/ -i -l\n\\```\n\n### API Reference (`references/api-reference/`)\n- Functions\n- Classes\n- Methods\n\n**Quick grep patterns:**\n\\```bash\nrg \"function_name\" references/api-reference/\nrg \"ClassName\" references/api-reference/\n\\```\n\n## Cross-References to Application Skills\n\n### tech-patterns\n**Use this skill for**: Basic patterns, common use cases\n\n**When to cross-reference:**\n- Basic setup and configuration\n- Common workflows\n\n### tech-advanced\n**Use this skill for**: Advanced patterns, optimization\n\n**When to cross-reference:**\n- Performance tuning\n- Complex architectures\n```\n\n**2.3 Grep pattern best practices**\n\n**Good patterns:**\n- Specific enough to be useful\n- General enough to find related content\n- Include common variations (case-insensitive with `-i`)\n- Limit results with `head` or `-l` for file-only matches\n\n```bash\n# ‚úÖ GOOD: Specific with options\nrg \"authentication\\|auth\\|login\" references/guides/ -i -l | head -5\n\n# ‚ùå BAD: Too broad, no filtering\nrg \"the\" references/\n\n# ‚úÖ GOOD: Contextual search\nrg \"error handling\" references/guides/ -i -A5\n\n# ‚ùå BAD: No context, overwhelming output\nrg \"error\" references/\n```\n\n### Phase 3: Application Skill Creation\n\n**3.1 Identify pattern categories**\n\nCommon categories:\n- **Basic**: Setup, configuration, common workflows\n- **Advanced**: Optimization, complex architectures, edge cases\n- **Integration**: Third-party tools, frameworks, platforms\n- **Production**: Deployment, monitoring, troubleshooting\n\n**3.2 SKILL.md structure**\n\nSee `templates/application-skill-template.md` for full template. Key sections:\n\n```markdown\n---\nskill_name: tech-patterns\ndescription: [Technology] patterns and examples. Cross-references tech-docs for syntax.\n---\n\n# [Technology] Patterns\n\nThis skill provides practical patterns. For complete syntax reference, see **tech-docs skill**.\n\n## Quick Pattern Reference\n\n**When to use tech-docs:**\n- Syntax reference: `rg \"syntax\" ../tech-docs/references/`\n- Function reference: `rg \"function\" ../tech-docs/references/`\n\n**When to use this skill:**\n- Practical examples\n- Common patterns\n- Best practices\n\n## Pattern Categories\n\n### Basic Setup\n\n\\```[language]\n// Example code with inline comments\n// explaining key patterns\n\\```\n\n**Key patterns:**\n- Pattern 1: Explanation\n- Pattern 2: Explanation\n\n### Common Workflows\n\n\\```[language]\n// More example code\n\\```\n\n## Cross-Reference Guide\n\n### Syntax ‚Üí tech-docs\n\nFor complete syntax:\n\n\\```bash\n# Function reference\nrg \"function_name\" ../tech-docs/references/api-reference/\n\n# Guides\nrg \"concept\" ../tech-docs/references/guides/ -i -l\n\\```\n\n## Common Pitfalls & Solutions\n\n### Issue 1\n**Problem**: Description\n**Solution**: Code example\n\n## Production Patterns\n\nReal-world examples from production codebases.\n\n## Next Steps\n\n1. **First time?** ‚Üí See tech-docs, `rg \"getting started\" ../tech-docs/references/guides/ -i -l`\n2. **Need syntax?** ‚Üí See tech-docs references\n3. **Advanced patterns?** ‚Üí See tech-advanced skill\n```\n\n**3.3 Cross-link syntax**\n\n**Standard format:**\n```markdown\n**When to use [other-skill]:**\n- Use case 1: `rg \"pattern\" ../other-skill/references/`\n- Use case 2: `rg \"pattern\" ../other-skill/references/`\n```\n\n**Relative paths:**\n- Same plugin: `../skill-name/`\n- Different plugin: `../../plugin-name/skills/skill-name/`\n- Always test grep patterns actually work\n\n### Phase 4: Plugin Integration\n\n**4.1 plugin.json structure**\n\n```json\n{\n  \"name\": \"tech-mastery\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Comprehensive [Technology] reference...\",\n  \"keywords\": [\"tech\", \"documentation\", \"patterns\"],\n  \"author\": {\n    \"name\": \"Your Name\"\n  },\n  \"skills\": [\n    \"./skills/tech-docs\",        // Docs first\n    \"./skills/tech-patterns\",    // Then application skills\n    \"./skills/tech-advanced\",\n    \"./skills/tech-integration\"\n  ]\n}\n```\n\n**4.2 Skill ordering**\n\n**Best practice:** Docs skill first, then application skills in order of complexity:\n1. tech-docs (reference)\n2. tech-patterns (basic)\n3. tech-advanced (advanced)\n4. tech-integration (integration)\n\n**Why?** Users naturally progress from reference ‚Üí basic ‚Üí advanced.\n\n**4.3 Keywords for discoverability**\n\n```json\n{\n  \"keywords\": [\n    \"technology-name\",        // Exact match\n    \"tech\",                   // Abbreviation\n    \"documentation\",          // Category\n    \"patterns\",               // Use case\n    \"specific-feature\"        // Key features\n  ]\n}\n```\n\n### Phase 5: Testing & Validation\n\n**5.1 Grep pattern validation**\n\nTest every grep pattern in your skills:\n\n```bash\n# Test pattern from skill\nrg \"pattern from docs\" path/to/references/\n\n# Should return relevant results\n# If empty, pattern needs adjustment\n```\n\n**5.2 Cross-link verification**\n\nNavigate skills and verify links resolve:\n\n```bash\n# From application skill directory\ncd skills/tech-patterns\n\n# Test cross-link path\nls ../tech-docs/references/  # Should list references/\n```\n\n**5.3 Token count validation**\n\n```bash\n# Check skill sizes\nfor skill in skills/*/SKILL.md; do\n  lines=$(wc -l < \"$skill\")\n  echo \"$skill: $lines lines\"\ndone\n\n# Target: < 500 lines per skill\n```\n\n**5.4 Composition testing**\n\nLoad multiple skills and verify they work together:\n- Load docs + 2 application skills\n- Verify grep patterns still work\n- Check cross-links resolve\n- Confirm total context is manageable\n\n**5.5 Validation checklist**\n\n- [ ] All grep patterns return results\n- [ ] Cross-links use correct relative paths\n- [ ] Each skill < 500 lines\n- [ ] Skills compose well (3+ simultaneously)\n- [ ] Documentation is organized by category\n- [ ] Scraping scripts work and are repeatable\n- [ ] plugin.json is valid and complete\n- [ ] Keywords enable discoverability\n\n## Reference Implementation: claude-code-meta\n\nStudy this plugin to see how builders, references, and artifacts stay organized:\n\n```\nsurf-market/plugins/claude-code-meta/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json          # Plugin metadata and component paths\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Keep-a-Changelog history for releases\n‚îú‚îÄ‚îÄ commands/\n‚îÇ   ‚îî‚îÄ‚îÄ update-plugin.md      # Interactive version bump workflow\n‚îî‚îÄ‚îÄ skills/\n    ‚îî‚îÄ‚îÄ claude-code-meta/\n        ‚îú‚îÄ‚îÄ SKILL.md          # Master router + builder entry point\n        ‚îú‚îÄ‚îÄ references/\n        ‚îÇ   ‚îú‚îÄ‚îÄ plugin-builder.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ marketplace-builder.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ hook-builder.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ agent-builder.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ slash-command-builder.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ creating-components.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ plugin-updates.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ docs-plugin-builder.md\n        ‚îÇ   ‚îú‚îÄ‚îÄ skill-examples/    # Exported skill + public artifacts\n        ‚îÇ   ‚îî‚îÄ‚îÄ cc-docs-toc.md     # Claude Code docs TOC reference\n        ‚îî‚îÄ‚îÄ templates/\n            ‚îú‚îÄ‚îÄ docs-skill-template.md\n            ‚îî‚îÄ‚îÄ other templates...\n```\n\n**Key observations:**\n- Master SKILL.md routes to builder references instead of bundling all content inline.\n- Each reference lives under `skills/claude-code-meta/references/` so the context stays focused.\n- Exported skill/public artifacts in `references/skill-examples/` supply concrete layout patterns.\n- Central `cc-docs-toc.md` now lives next to other references for easy linking.\n- Templates and scripts remain co-located with their referencing documents.\n\n## Templates & Resources\n\n### Bundled Templates\n\n- `templates/docs-skill-template.md` - Starter for docs skills\n- `templates/application-skill-template.md` - Starter for pattern skills\n- `templates/plugin-template.json` - Plugin manifest template\n\n### Bundled Scripts\n\n- `scripts/firecrawl-scraper.sh` - FireCrawl API scraping\n- `scripts/url-extractor.sh` - Extract/filter URLs from TOCs\n\n### Reference Guides\n\n- `references/grep-patterns.md` - Common grep pattern examples\n- `references/cross-link-syntax.md` - Cross-linking between skills\n- `references/scaling-strategies.md` - When/how to split skills\n\n## Scaling Strategies\n\n### When to split an application skill\n\n**Indicators:**\n- Skill exceeds 500 lines\n- Multiple distinct pattern categories\n- User confusion about skill focus\n\n**Strategy:**\n- Extract category into new skill (e.g., tech-patterns ‚Üí tech-advanced)\n- Update cross-links\n- Maintain clear separation of concerns\n\n### When to split a docs skill\n\n**Indicators:**\n- Different doc versions (e.g., v1 vs v2)\n- Multiple programming languages\n- Distinct technology areas\n\n**Strategy:**\n- Create versioned skills: tech-docs-v1, tech-docs-v2\n- Or language-specific: tech-docs-python, tech-docs-javascript\n- Or area-specific: tech-docs-api, tech-docs-cli\n\n### Handling updates\n\n**Documentation changes:**\n- Re-scrape periodically (quarterly recommended)\n- Update TOC files with new URLs\n- Re-run scraping scripts\n- Verify grep patterns still work\n\n**Pattern changes:**\n- Update application skills as patterns evolve\n- Maintain cross-links\n- Version skills if breaking changes\n\n## Real-World Applications\n\nThis pattern works for:\n\n**Databases:**\n- PostgreSQL docs + SQL patterns + pgBouncer integration\n- MongoDB docs + query patterns + aggregation pipelines\n- Redis docs + caching patterns + pub/sub\n\n**Frameworks:**\n- React docs + component patterns + hooks + performance\n- Next.js docs + routing patterns + SSR + deployment\n- Express docs + middleware patterns + auth + testing\n\n**Cloud Providers:**\n- AWS docs (massive!) + service patterns per service\n- GCP docs + Terraform patterns + Cloud Run\n- Azure docs + ARM templates + DevOps\n\n**Languages:**\n- Python stdlib docs + idiomatic patterns + async\n- TypeScript docs + type patterns + generics\n- Rust docs + ownership patterns + async\n\n**Tools:**\n- Docker docs + Dockerfile patterns + compose\n- Kubernetes docs + YAML patterns + operators\n- Terraform docs + module patterns + state\n\n## Success Metrics\n\nA well-built docs plugin should achieve:\n\n- ‚úÖ **Token efficiency**: < 500 lines per skill\n- ‚úÖ **Quick discovery**: Grep returns results in < 1 second\n- ‚úÖ **Scalability**: Support 1000+ pages without bloat\n- ‚úÖ **Composability**: Load docs + 3 app skills simultaneously\n- ‚úÖ **Maintainability**: Clear separation enables easy updates\n- ‚úÖ **Usability**: Users find answers in 1-2 grep commands\n\n## Anti-Patterns to Avoid\n\n### ‚ùå Inline Documentation\n\nDon't copy full docs into skill:\n\n```markdown\n# Bad: Copying docs into skill\n## All [Technology] Functions\n[1000 lines of function reference copied from docs]\n```\n\n**Why it fails:** Bloats context, hard to maintain, poor discoverability.\n\n**Fix:** Use grep-driven discovery instead.\n\n### ‚ùå Mixing Docs and Patterns\n\nDon't mix reference docs with application patterns in one skill:\n\n```markdown\n# Bad: Mixed skill\n## [Technology] Reference\n\n### Data Types (reference docs)\n[100 lines]\n\n### Patterns (application)\n[200 lines]\n\n### API Reference (reference docs)\n[300 lines]\n```\n\n**Why it fails:** Unfocused, unclear when to use, bloated.\n\n**Fix:** Separate into docs skill (reference) and pattern skill (application).\n\n### ‚ùå Weak Grep Patterns\n\nDon't provide vague grep patterns:\n\n```bash\n# Bad: Too vague\nrg \"function\" references/\n\n# Bad: No options or filtering\nrg \"error\" references/\n```\n\n**Why it fails:** Returns too many results, unhelpful.\n\n**Fix:** Provide specific patterns with filtering:\n\n```bash\n# Good: Specific with filtering\nrg \"async function\" references/guides/ -i -l | head -5\n\n# Good: Contextual search\nrg \"error handling\" references/ -i -A5\n```\n\n### ‚ùå Broken Cross-Links\n\nDon't use incorrect relative paths:\n\n```markdown\n# Bad: Absolute paths (won't work)\nSee ../tech-docs/references/  # Use relative paths from the current repo root\n\n# Bad: Wrong relative path\nSee ../../wrong-path/\n```\n\n**Why it fails:** Links don't resolve, users can't find references.\n\n**Fix:** Test all relative paths:\n\n```bash\n# From application skill directory\nls ../tech-docs/references/  # Should work\n```\n\n## Next Steps\n\n1. **Start small**: Build a docs plugin for a technology you use daily\n2. **Use templates**: Copy templates from this skill as starting point\n3. **Study spanner-mastery**: See the full working implementation\n4. **Test grep patterns**: Validate every pattern returns useful results\n5. **Iterate**: Refine based on actual usage\n\n**For complete examples and templates, see bundled resources in this skill's directory.**\n\n---\n\n## Appendix: Quick Reference\n\n### File Structure Checklist\n\n```\nyour-plugin/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json              # ‚úÖ Skills in order: docs, basic, advanced\n‚îú‚îÄ‚îÄ skills/\n‚îÇ   ‚îú‚îÄ‚îÄ tech-docs/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SKILL.md             # ‚úÖ < 500 lines, grep patterns\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ references/          # ‚úÖ Organized by category\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guides/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api-reference/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ samples/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TOC.md               # ‚úÖ Master table of contents\n‚îÇ   ‚îÇ\n‚îÇ   ‚îú‚îÄ‚îÄ tech-patterns/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md             # ‚úÖ < 500 lines, cross-links work\n‚îÇ   ‚îÇ\n‚îÇ   ‚îî‚îÄ‚îÄ tech-advanced/\n‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md             # ‚úÖ < 500 lines, cross-links work\n```\n\n### grep Pattern Cheat Sheet\n\n```bash\n# Case-insensitive search\nrg -i \"pattern\" path/\n\n# List files only (faster)\nrg -l \"pattern\" path/\n\n# Show context (5 lines after)\nrg \"pattern\" path/ -A5\n\n# Multiple patterns (OR)\nrg \"pattern1\\|pattern2\" path/\n\n# Limit results\nrg \"pattern\" path/ -l | head -5\n\n# Search specific file types\nrg \"pattern\" path/ -g \"*.md\"\n```\n\n### Cross-Link Syntax Examples\n\n```markdown\n**When to use other-skill:**\n- Syntax: `rg \"CREATE TABLE\" ../other-skill/references/`\n- Functions: `rg \"function_name\" ../other-skill/references/api/`\n- Guides: `rg \"concept\" ../other-skill/references/guides/ -i -l`\n```\n\n### Validation Commands\n\n```bash\n# Check skill sizes\nwc -l skills/*/SKILL.md\n\n# Test grep pattern\nrg \"pattern from skill\" path/to/references/\n\n# Verify cross-link\ncd skills/app-skill && ls ../docs-skill/references/\n\n# Count documentation files\nfind skills/tech-docs/references -type f -name \"*.md\" | wc -l\n```\n\nThis is the architecture that enables comprehensive documentation plugins without context explosion. Study spanner-mastery, use the templates, and build documentation plugins that scale.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/grep-patterns.md": "# Grep Pattern Reference for Documentation Skills\n\nThis guide teaches how to create effective grep patterns for documentation discovery without loading entire files into context.\n\n## Core Principles\n\n**1. Specificity vs Generality**\n- Too specific: `rg \"function createDatabaseConnection() {\"` - won't match variations\n- Too general: `rg \"function\"` - returns thousands of useless matches\n- Just right: `rg \"createDatabaseConnection\"` - finds all references\n\n**2. Case Sensitivity**\n- Default `rg` is case-sensitive\n- Use `-i` for case-insensitive searches\n- Example: `rg -i \"transaction\"` finds \"Transaction\", \"TRANSACTION\", \"transaction\"\n\n**3. Result Limiting**\n- Use `-l` to list files only (faster, less context usage)\n- Use `head -N` to limit results\n- Example: `rg \"pattern\" -l | head -5` - first 5 matching files\n\n**4. Context Lines**\n- `-A N` shows N lines after match\n- `-B N` shows N lines before match\n- `-C N` shows N lines before and after\n- Example: `rg \"error handling\" -A5` - shows 5 lines after each match\n\n## Pattern Categories\n\n### 1. Concept Discovery\n\nFind conceptual documentation:\n\n```bash\n# Getting started guides\nrg \"getting started\\\\|quickstart\\\\|introduction\" references/guides/ -i -l | head -5\n\n# Best practices\nrg \"best practice\\\\|recommended\\\\|should\\\\|avoid\" references/guides/ -i -l\n\n# Common pitfalls\nrg \"gotcha\\\\|pitfall\\\\|common mistake\\\\|avoid\" references/guides/ -i -l\n\n# Architecture concepts\nrg \"architecture\\\\|design pattern\\\\|structure\" references/guides/ -i -l\n```\n\n**Pattern notes:**\n- Use `\\\\|` for OR logic (finds \"this\" OR \"that\")\n- `-i` for case-insensitive matching\n- `-l` to list files only (context-efficient)\n- `head -5` limits to first 5 results\n\n### 2. Function/API Discovery\n\nFind specific functions or APIs:\n\n```bash\n# Exact function name\nrg \"functionName\" references/api-reference/\n\n# Function definition patterns (language-specific)\nrg \"function\\\\s+\\\\w+\" references/samples/     # JavaScript/TypeScript\nrg \"def\\\\s+\\\\w+\" references/samples/          # Python\nrg \"public\\\\s+\\\\w+\\\\s+\\\\w+\\\\(\" references/samples/  # Java\n\n# Method calls\nrg \"\\\\.methodName\\\\(\" references/samples/\n\n# Class definitions\nrg \"class ClassName\" references/api-reference/\n```\n\n**Pattern notes:**\n- `\\\\s+` matches whitespace (one or more)\n- `\\\\w+` matches word characters (alphanumeric + underscore)\n- `\\\\.` escapes the period for method calls\n- `\\\\(` escapes parentheses for function signatures\n\n### 3. Code Example Discovery\n\nFind working code samples:\n\n```bash\n# Import/require statements (language-specific)\nrg \"^import\\\\s+\" references/samples/ -l | head -10         # ES6 imports\nrg \"^const.*=.*require\" references/samples/ -l | head -10  # CommonJS\nrg \"^from.*import\" references/samples/ -l | head -10       # Python\n\n# Specific pattern examples\nrg \"async function\" references/samples/ -A10    # Async patterns\nrg \"try.*catch\" references/samples/ -A5         # Error handling\nrg \"for.*of\" references/samples/ -A3            # Iteration patterns\n\n# Framework-specific patterns\nrg \"Effect\\\\.gen\" references/samples/ -A15      # Effect.ts patterns\nrg \"React\\\\.useState\" references/samples/ -A8   # React hooks\n```\n\n**Pattern notes:**\n- `^` anchors to start of line\n- `-A N` shows N lines of context (actual code)\n- Use specific enough patterns to find relevant examples\n\n### 4. Error Message Discovery\n\nFind error handling and troubleshooting:\n\n```bash\n# Error messages\nrg \"Error:\\\\|Exception:\\\\|Failed to\" references/guides/ -i -A3\n\n# Troubleshooting sections\nrg \"troubleshoot\\\\|debug\\\\|diagnose\" references/guides/ -i -l\n\n# Common errors\nrg \"ECONNREFUSED\\\\|404\\\\|500\\\\|timeout\" references/guides/ -A5\n\n# Error codes\nrg \"E[0-9]{4}\" references/guides/ -A3   # e.g., E1234\n```\n\n**Pattern notes:**\n- `-A3` shows error context (usually the solution)\n- `[0-9]{4}` matches exactly 4 digits\n- `-i` catches different error format variations\n\n### 5. Configuration Discovery\n\nFind configuration examples:\n\n```bash\n# Config files\nrg \"config\\\\|configuration\\\\|settings\" references/guides/ -i -l\n\n# Environment variables\nrg \"[A-Z_]+=\" references/samples/ -l    # e.g., DATABASE_URL=\n\n# JSON config patterns\nrg '\\\\{[\\\\s\\\\S]*?\"[a-z]+\":' references/samples/ -A10\n\n# YAML config patterns\nrg \"^[a-z]+:\" references/samples/ -l\n```\n\n**Pattern notes:**\n- `[A-Z_]+` matches uppercase with underscores (env vars)\n- `[\\\\s\\\\S]*?` matches any character including newlines (non-greedy)\n- `^[a-z]+:` matches YAML keys at start of line\n\n## Advanced Techniques\n\n### Regex Alternation (OR Logic)\n\nFind multiple related terms:\n\n```bash\n# Multiple function names\nrg \"connect\\\\|disconnect\\\\|reconnect\" references/api-reference/\n\n# Multiple concepts\nrg \"cache\\\\|caching\\\\|cached\" references/guides/ -i -l\n\n# Multiple error types\nrg \"timeout\\\\|ETIMEDOUT\\\\|deadline exceeded\" references/guides/ -i\n```\n\n### Negative Filtering\n\nExclude unwanted results:\n\n```bash\n# Find all .md files except test files\nrg \"pattern\" references/ -l | grep -v \"test\"\n\n# Find function definitions but not in comments\nrg \"^function\" references/samples/ | grep -v \"^//\"\n\n# Find imports but not from test utilities\nrg \"^import\" references/samples/ | grep -v \"from.*test\"\n```\n\n### File Type Filtering\n\nSearch specific file types only:\n\n```bash\n# Search only TypeScript files\nrg \"pattern\" -t ts references/samples/\n\n# Search only markdown files\nrg \"pattern\" -t md references/guides/\n\n# Search multiple file types\nrg \"pattern\" -t ts -t js references/samples/\n```\n\n**Common type flags:**\n- `-t ts` - TypeScript\n- `-t js` - JavaScript\n- `-t py` - Python\n- `-t md` - Markdown\n- `-t json` - JSON\n\n### Path-Based Filtering\n\nSearch specific subdirectories:\n\n```bash\n# Only in guides subdirectory\nrg \"pattern\" references/guides/\n\n# Only in api-reference\nrg \"pattern\" references/api-reference/\n\n# Specific category\nrg \"pattern\" references/guides/getting-started/\n```\n\n## Performance Optimization\n\n### 1. Use File Listing First\n\nDon't load content if you just need filenames:\n\n```bash\n# ‚úÖ FAST - list files only\nrg \"pattern\" references/ -l | head -10\n\n# ‚ùå SLOW - loads all content\nrg \"pattern\" references/ | head -10\n```\n\n### 2. Limit Result Count\n\nAlways limit large result sets:\n\n```bash\n# ‚úÖ CONTROLLED - stops after 10 files\nrg \"common pattern\" references/ -l | head -10\n\n# ‚ùå UNCONTROLLED - could return thousands\nrg \"common pattern\" references/ -l\n```\n\n### 3. Be Specific with Paths\n\nSearch narrower paths when possible:\n\n```bash\n# ‚úÖ TARGETED - searches 50 files\nrg \"pattern\" references/guides/getting-started/\n\n# ‚ùå BROAD - searches 500 files\nrg \"pattern\" references/\n```\n\n### 4. Use Context Lines Sparingly\n\nOnly request context when needed:\n\n```bash\n# ‚úÖ EFFICIENT - just find the files\nrg \"error handling\" references/guides/ -l\n\n# ‚ùå VERBOSE - loads lots of context\nrg \"error handling\" references/guides/ -C20\n```\n\n## Common Patterns by Technology\n\n### JavaScript/TypeScript\n\n```bash\n# Find async/await patterns\nrg \"async.*=>\\\\|async function\" references/samples/ -A5\n\n# Find Promise chains\nrg \"\\\\.then\\\\(\\\\|\\\\.catch\\\\(\" references/samples/ -A3\n\n# Find import statements\nrg \"^import.*from\" references/samples/ -l\n```\n\n### Python\n\n```bash\n# Find class definitions\nrg \"^class \\\\w+\" references/samples/ -A10\n\n# Find decorators\nrg \"^@\\\\w+\" references/samples/ -A2\n\n# Find imports\nrg \"^from.*import\\\\|^import\" references/samples/ -l\n```\n\n### SQL/Database\n\n```bash\n# Find SELECT queries\nrg \"SELECT.*FROM\" references/samples/ -A5\n\n# Find transaction patterns\nrg \"BEGIN TRANSACTION\\\\|COMMIT\\\\|ROLLBACK\" references/samples/ -A3\n\n# Find index hints\nrg \"CREATE INDEX\\\\|DROP INDEX\" references/guides/ -A5\n```\n\n### Effect.ts Patterns\n\n```bash\n# Find Effect.gen usage\nrg \"Effect\\\\.gen\\\\(function\\\\*\" references/samples/ -A15\n\n# Find Layer definitions\nrg \"Layer\\\\.\\\\w+\\\\(\" references/samples/ -A10\n\n# Find Service tags\nrg \"Context\\\\.Tag\\\\(\" references/samples/ -A5\n```\n\n## Examples from Spanner Documentation\n\n### Finding GQL Syntax\n\n```bash\n# MATCH patterns\nrg \"MATCH.*WHERE.*RETURN\" references/guides/ -A5\n\n# JSON functions\nrg \"JSON_VALUE\\\\|SAFE_TO_JSON\" references/guides/ -A3\n\n# Graph traversal\nrg \"MATCH.*->.*RETURN\" references/samples/ -A10\n```\n\n### Finding SQL Functions\n\n```bash\n# Aggregate functions\nrg \"COUNT\\\\|SUM\\\\|AVG\\\\|MIN\\\\|MAX\" references/api-reference/ -A3\n\n# String functions\nrg \"CONCAT\\\\|SUBSTRING\\\\|REPLACE\" references/api-reference/ -A3\n\n# Date functions\nrg \"TIMESTAMP\\\\|DATE\\\\|DATETIME\" references/api-reference/ -A3\n```\n\n### Finding Best Practices\n\n```bash\n# Schema design\nrg \"primary key\\\\|index\\\\|hotspot\" references/guides/ -i -l\n\n# Query optimization\nrg \"query plan\\\\|optimizer\\\\|performance\" references/guides/ -i -l\n\n# Transaction patterns\nrg \"read-write\\\\|read-only\\\\|snapshot\" references/guides/ -i -l\n```\n\n## Pattern Testing Workflow\n\n**1. Start broad, then narrow:**\n\n```bash\n# Step 1: Find relevant files\nrg \"transaction\" references/ -i -l | head -10\n\n# Step 2: Add specificity\nrg \"transaction isolation\" references/guides/ -i -l\n\n# Step 3: Get context\nrg \"transaction isolation\" references/guides/ -i -A5\n```\n\n**2. Verify results:**\n\n```bash\n# Count matches\nrg \"pattern\" references/ -c\n\n# Preview first match\nrg \"pattern\" references/ -l | head -1 | xargs cat\n\n# Check if pattern is too broad\nrg \"pattern\" references/ | wc -l\n```\n\n**3. Document winning patterns:**\n\nAdd effective patterns to your docs skill's SKILL.md for reuse.\n\n## Anti-Patterns to Avoid\n\n### ‚ùå Don't: Load entire files into context\n\n```bash\n# WRONG - loads 1000s of lines\ncat references/guides/*.md | grep \"pattern\"\n```\n\n### ‚ùå Don't: Use overly broad patterns\n\n```bash\n# WRONG - returns 10,000+ matches\nrg \"the\" references/\n```\n\n### ‚ùå Don't: Forget to limit results\n\n```bash\n# WRONG - could hang or OOM\nrg \"common word\" references/\n```\n\n### ‚ùå Don't: Ignore file extensions\n\n```bash\n# WRONG - searches binary files too\nrg \"pattern\" references/\n\n# RIGHT - only text files\nrg \"pattern\" references/ -t md -t ts\n```\n\n### ‚úÖ Do: Combine patterns for precision\n\n```bash\n# GOOD - specific and targeted\nrg \"Effect\\\\.gen\" references/samples/ -t ts -l | head -5\n```\n\n### ‚úÖ Do: Use incremental refinement\n\n```bash\n# GOOD - progressively narrow search\nrg \"error\" references/ -l | grep \"handling\" | head -5\n```\n\n## Summary\n\n**Key principles for effective grep patterns:**\n1. Start specific, broaden only if needed\n2. Use `-i` for case-insensitive searches\n3. Use `-l` for file listing (context-efficient)\n4. Always limit results with `head -N`\n5. Add context lines (`-A`, `-B`, `-C`) only when needed\n6. Use regex OR (`\\\\|`) for multiple terms\n7. Filter by file type (`-t`) and path\n8. Test patterns before documenting them\n\n**Remember:** The goal is discovery without context explosion. Good grep patterns help users find exactly what they need in 1-2 searches, without loading hundreds of files.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/hook-builder.md": "---\nname: hook-builder\ndescription: Create Claude Code hooks for automated validation, context injection, and workflow automation. Use when adding git hooks, file validation, automated testing, or custom tool permissions. References complete Anthropic documentation and production examples.\n---\n\n# Hook Builder\n\nBuild hooks that automate validation, inject context, and integrate custom workflows into Claude Code's lifecycle.\n\n## When to Use\n\n- Add automated validation (type checks, linters, security scans)\n- Inject dynamic context before/after tool execution\n- Auto-approve safe operations (documentation reads, standard commands)\n- Integrate external tools and workflows\n- Implement custom permission logic\n- Monitor and log Claude Code operations\n\n## Hook Events Overview\n\nClaude Code supports these hook events:\n\n**Tool Events**:\n- `PreToolUse` - Before tool execution (can block)\n- `PostToolUse` - After tool execution (can add context)\n- `Notification` - Claude requests permission or waits\n\n**Prompt & Session Events**:\n- `UserPromptSubmit` - User submits prompt (can block or add context)\n- `SessionStart` - Session initialization\n- `SessionEnd` - Session termination\n\n**Control Events**:\n- `Stop` - Main agent finishes responding\n- `SubagentStop` - Subagent completes\n- `PreCompact` - Before context compaction\n\n## Quick Start Workflow\n\n### 1. Design Your Hook\n\n**What do you want to automate?**\n- Validation (exit code 2 = block with stderr to Claude)\n- Context injection (exit code 0 = success, stdout becomes context)\n- Auto-approval (exit code 0 with JSON decision)\n- Monitoring (exit code 0, log to file)\n\n**Which event?**\n- `PreToolUse` if validating before tool runs\n- `PostToolUse` if adding context after tool completes\n- `UserPromptSubmit` if validating user input\n\n### 2. Write Hook Script\n\nHooks receive JSON via stdin and communicate via stdout/stderr + exit codes.\n\n**Basic structure**:\n```python\n#!/usr/bin/env python3\nimport json\nimport sys\n\n# Read hook input\ntry:\n    input_data = json.load(sys.stdin)\nexcept json.JSONDecodeError:\n    sys.exit(1)\n\n# Extract relevant fields\nhook_event = input_data.get(\"hook_event_name\")\ntool_name = input_data.get(\"tool_name\", \"\")\ntool_input = input_data.get(\"tool_input\", {})\n\n# Your validation/logic here\nif should_block:\n    print(\"Error message to Claude\", file=sys.stderr)\n    sys.exit(2)  # Block with feedback\n\n# Success with optional context\nprint(\"Context for Claude\")\nsys.exit(0)\n```\n\n### 3. Configure in settings.json\n\nAdd hook to `.claude/settings.json` or `.claude/settings.local.json`:\n\n```json\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Edit|Write\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"/path/to/your-hook.sh\",\n            \"timeout\": 30\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n### 4. Test\n\nMake a change that triggers the hook and verify:\n- Hook executes at correct event\n- Stdin JSON is parsed correctly\n- Exit codes behave as expected\n- Claude sees stdout/stderr appropriately\n\n## Essential Patterns\n\n### Pattern 1: Type Check After Edits (Real Example)\n\n**Lever repo's typecheck.sh** (production-grade hook):\n\n```json\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Edit|MultiEdit|Write\",\n        \"hooks\": [\n        {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/typecheck.sh\",\n            \"timeout\": 20\n        }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Key features**:\n- Runs `pnpm check` after file edits\n- Only on `.ts`/`.tsx` files (exits early for others)\n- Finds nearest `package.json` for scoped checking\n- Formats errors for Claude (JSON to stderr)\n- Exit code 2 ensures Claude sees errors\n- 3 output modes: simple, balanced, advanced\n\nSee `hooks/scripts/typecheck.sh` for a production-grade implementation (434 lines, production-tested).\n\n### Pattern 2: Validate Bash Commands\n\n```python\n#!/usr/bin/env python3\nimport json\nimport re\nimport sys\n\nRULES = [\n    (r\"\\bgrep\\b(?!.*\\|)\", \"Use Grep tool instead of grep command\"),\n    (r\"\\bfind\\b\", \"Use Glob tool instead of find command\"),\n]\n\ninput_data = json.load(sys.stdin)\nif input_data.get(\"tool_name\") != \"Bash\":\n    sys.exit(0)\n\ncommand = input_data.get(\"tool_input\", {}).get(\"command\", \"\")\n\nissues = [msg for pattern, msg in RULES if re.search(pattern, command)]\n\nif issues:\n    for msg in issues:\n        print(f\"‚Ä¢ {msg}\", file=sys.stderr)\n    sys.exit(2)  # Block with feedback\n\nsys.exit(0)\n```\n\n### Pattern 3: Auto-Approve Documentation Reads\n\n```python\n#!/usr/bin/env python3\nimport json\nimport sys\n\ninput_data = json.load(sys.stdin)\n\nif input_data.get(\"tool_name\") == \"Read\":\n    file_path = input_data.get(\"tool_input\", {}).get(\"file_path\", \"\")\n    if file_path.endswith((\".md\", \".txt\", \".json\")):\n        output = {\n            \"hookSpecificOutput\": {\n                \"hookEventName\": \"PreToolUse\",\n                \"permissionDecision\": \"allow\",\n                \"permissionDecisionReason\": \"Auto-approved docs\"\n            },\n            \"suppressOutput\": True\n        }\n        print(json.dumps(output))\n        sys.exit(0)\n\nsys.exit(0)\n```\n\n### Pattern 4: Inject Dynamic Context\n\n```python\n#!/usr/bin/env python3\nimport json\nimport sys\nimport datetime\n\ninput_data = json.load(sys.stdin)\n\n# Add timestamp context\ncontext = f\"Current time: {datetime.datetime.now()}\"\nprint(context)\nsys.exit(0)\n```\n\n### Pattern 5: Block Prompts with Secrets\n\n```python\n#!/usr/bin/env python3\nimport json\nimport sys\nimport re\n\ninput_data = json.load(sys.stdin)\nprompt = input_data.get(\"prompt\", \"\")\n\nif re.search(r\"(?i)\\b(password|secret|key|token)\\s*[:=]\", prompt):\n    output = {\n        \"decision\": \"block\",\n        \"reason\": \"Security policy: remove secrets from prompt\"\n    }\n    print(json.dumps(output))\n    sys.exit(0)\n\nsys.exit(0)\n```\n\n## Hook Input Contracts\n\nAll hooks receive JSON via stdin:\n\n```json\n{\n  \"session_id\": \"string\",\n  \"transcript_path\": \"/path/to/transcript.jsonl\",\n  \"cwd\": \"/current/working/directory\",\n  \"permission_mode\": \"default|plan|acceptEdits|bypassPermissions\",\n  \"hook_event_name\": \"EventName\"\n}\n```\n\n**PreToolUse adds**:\n```json\n{\n  \"tool_name\": \"Write\",\n  \"tool_input\": {\n    \"file_path\": \"/path\",\n    \"content\": \"...\"\n  }\n}\n```\n\n**UserPromptSubmit adds**:\n```json\n{\n  \"prompt\": \"User's text prompt\"\n}\n```\n\nSee [references/anthropic-hooks-docs.md](references/anthropic-hooks-docs.md) for all event-specific fields.\n\n## Hook Output Contracts\n\n**Exit Codes**:\n- `0` - Success (stdout shown in transcript or becomes context)\n- `2` - Blocking error (stderr goes to Claude for handling)\n- Other - Non-blocking error (stderr shown to user only)\n\n**JSON Output** (optional):\n```json\n{\n  \"continue\": true,\n  \"stopReason\": \"Optional message\",\n  \"suppressOutput\": false,\n  \"systemMessage\": \"Optional warning\",\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PreToolUse\",\n    \"permissionDecision\": \"allow|deny|ask\",\n    \"permissionDecisionReason\": \"Explanation\"\n  }\n}\n```\n\n**PreToolUse Decision**:\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PreToolUse\",\n    \"permissionDecision\": \"allow\",  // or \"deny\" or \"ask\"\n    \"permissionDecisionReason\": \"Auto-approved docs\"\n  }\n}\n```\n\n**PostToolUse Context**:\n```json\n{\n  \"decision\": \"block\",  // optional\n  \"reason\": \"Explanation\",\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PostToolUse\",\n    \"additionalContext\": \"Info for Claude\"\n  }\n}\n```\n\n## Matchers\n\n**Tool matchers** (PreToolUse, PostToolUse):\n- Exact: `\"Write\"` matches only Write tool\n- Regex: `\"Edit|Write\"` or `\"Notebook.*\"`\n- Wildcard: `\"*\"` or `\"\"` matches all tools\n- MCP: `\"mcp__memory__.*\"` or `\"mcp__.*__write.*\"`\n\n**Event matchers** (SessionStart):\n- `\"startup\"`, `\"resume\"`, `\"clear\"`, `\"compact\"`\n\n**Example**:\n```json\n{\n  \"hooks\": {\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"Bash\",\n        \"hooks\": [{ \"type\": \"command\", \"command\": \"./validate-bash.sh\" }]\n      },\n      {\n        \"matcher\": \"mcp__.*\",\n        \"hooks\": [{ \"type\": \"command\", \"command\": \"./log-mcp-use.sh\" }]\n      }\n    ]\n  }\n}\n```\n\n## Hook Locations\n\n**Project hooks** (`.claude/settings.json`):\n- Shared with team via git\n- Apply to project-specific workflows\n- Higher precedence than user hooks\n\n**User hooks** (`~/.claude/settings.json`):\n- Apply across all projects\n- Personal automation preferences\n\n**Plugin hooks** (`plugins/{name}/hooks/hooks.json`):\n- Distributed via marketplace\n- Auto-installed with plugin\n\n## Environment Variables\n\n**Available in hook scripts**:\n- `CLAUDE_PROJECT_DIR` - Project root directory\n- `CLAUDE_PLUGIN_ROOT` - Plugin installation directory (plugin hooks only)\n- `CLAUDE_CODE_REMOTE` - Set to \"true\" in web environments\n- `CLAUDE_ENV_FILE` - Path to env file for SessionStart hooks\n\n**SessionStart env persistence**:\n```bash\n#!/bin/bash\n\nif [ -n \"$CLAUDE_ENV_FILE\" ]; then\n  echo 'export NODE_ENV=production' >> \"$CLAUDE_ENV_FILE\"\n  echo 'export API_KEY=value' >> \"$CLAUDE_ENV_FILE\"\nfi\n\nexit 0\n```\n\n## Security Best Practices\n\n**Critical**: Hooks execute arbitrary shell commands automatically.\n\n1. **Validate inputs** - Never trust stdin JSON blindly\n2. **Quote variables** - Always `\"$VAR\"` not `$VAR`\n3. **Block traversal** - Check for `..` in paths\n4. **Use absolute paths** - Specify full script locations\n5. **Skip sensitive files** - Ignore `.env`, `.git/`, credentials\n6. **Sanitize outputs** - Escape special characters for JSON\n7. **Limit scope** - Don't grant more permissions than needed\n\n## Debugging\n\n**Run with debug flag**:\n```bash\nclaude --debug\n```\n\n**Check transcript mode** (Ctrl-R):\n- See hook execution details\n- View stdin/stdout/stderr\n- Check exit codes\n\n**Common issues**:\n- Hook not triggering: Check matcher pattern\n- Permission errors: Verify allowed-tools in settings\n- Timeout: Increase timeout field (default 60s)\n- JSON errors: Validate stdin parsing\n\n## Testing Workflow\n\n1. **Write hook script** with proper stdin/stdout/stderr handling\n2. **Test standalone** with mock JSON via stdin\n3. **Add to settings.json** with appropriate matcher\n4. **Trigger event** (edit file, submit prompt, etc.)\n5. **Verify behavior** in transcript or debug output\n6. **Iterate** based on results\n\n## Official Documentation\n\nFor the complete, up-to-date hooks specification, use the `claude-code-docs-reference` skill or the `claude-code-guide` agent to look up official Anthropic documentation on hooks.\n\n## Production Example\n\n**Study the included `hooks/scripts/typecheck.sh`** for production patterns:\n```bash\nhooks/scripts/typecheck.sh\n```\n\nKey learnings:\n- Robust error handling\n- Conditional execution (skip non-TS files)\n- Scoped operations (nearest package.json)\n- Structured JSON output for Claude\n- Multiple output modes (simple/balanced/advanced)\n- Exit code discipline\n\n## Improving This Skill\n\nNotice gaps, unclear instructions, or better patterns while using this skill?\n\nUse the `continuous-improvement` skill to propose enhancements:\n1. Detect the issue\n2. Propose specific changes\n3. Git branch ‚Üí commit ‚Üí surface for approval\n4. Update changelog\n\nThis skill should evolve with every use.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/marketplace-builder.md": "---\nname: marketplace-builder\ndescription: Create Claude Code plugin marketplaces for distributing plugins via local, GitHub, or git sources. Use when setting up team plugin distribution, organizing multiple plugins, or creating custom marketplace infrastructure. References complete Anthropic documentation.\n---\n\n# Marketplace Builder\n\nBuild marketplaces that centralize plugin discovery, version management, and team distribution.\n\n## When to Use\n\n- Distributing plugins to your team\n- Organizing multiple related plugins\n- Setting up custom plugin infrastructure\n- Creating GitHub-based plugin marketplaces\n- Managing plugin versions and updates\n\n## What Are Marketplaces?\n\nMarketplaces are JSON catalogs that:\n- Centralize plugin discovery and installation\n- Manage plugin versions and sources\n- Support local, GitHub, and git repository sources\n- Enable team-wide plugin distribution\n- Provide metadata for plugin browsing\n\n**Key benefit**: One marketplace can distribute many plugins with automatic updates.\n\n## Quick Start Workflow\n\n### 1. Create Marketplace Structure\n\n```\nmy-marketplace/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ marketplace.json    # Marketplace manifest (required)\n‚îú‚îÄ‚îÄ plugins/                # Plugin sources (if local)\n‚îÇ   ‚îú‚îÄ‚îÄ plugin-one/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin-two/\n‚îî‚îÄ‚îÄ README.md               # Documentation (recommended)\n```\n\n### 2. Write marketplace.json\n\n```json\n{\n  \"name\": \"my-marketplace\",\n  \"owner\": {\n    \"name\": \"Your Name\",\n    \"email\": \"you@example.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Marketplace for team Claude Code plugins\",\n    \"version\": \"1.0.0\",\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"plugin-one\",\n      \"description\": \"First plugin description\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"tag1\", \"tag2\"],\n      \"source\": \"./plugins/plugin-one\",\n      \"strict\": true\n    }\n  ]\n}\n```\n\n### 3. Add Marketplace\n\n**Local path**:\n```bash\n/plugin marketplace add ./path/to/marketplace\n```\n\n**GitHub repository**:\n```bash\n/plugin marketplace add owner/repo\n```\n\n**Git URL**:\n```bash\n/plugin marketplace add https://gitlab.com/org/marketplace.git\n```\n\n### 4. Install Plugins\n\n```bash\n/plugin install plugin-one@my-marketplace\n```\n\n## Essential Patterns\n\n### Pattern 1: Local Development Marketplace\n\nFor testing plugins during development:\n\n```\ndev-marketplace/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ marketplace.json\n‚îî‚îÄ‚îÄ plugins/\n    ‚îî‚îÄ‚îÄ my-plugin/\n        ‚îú‚îÄ‚îÄ .claude-plugin/\n        ‚îÇ   ‚îî‚îÄ‚îÄ plugin.json\n        ‚îî‚îÄ‚îÄ skills/\n            ‚îî‚îÄ‚îÄ my-skill/\n                ‚îî‚îÄ‚îÄ SKILL.md\n```\n\n**marketplace.json**:\n```json\n{\n  \"name\": \"dev-marketplace\",\n  \"owner\": {\"name\": \"Dev Team\"},\n  \"metadata\": {\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"my-plugin\",\n      \"source\": \"./plugins/my-plugin\",\n      \"strict\": true\n    }\n  ]\n}\n```\n\n**Use when**: Rapid iteration on plugins before distribution.\n\n### Pattern 2: GitHub Marketplace (Recommended for Teams)\n\nHost marketplace in GitHub repository:\n\n```\nhttps://github.com/org/claude-plugins/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ marketplace.json\n‚îú‚îÄ‚îÄ plugins/\n‚îÇ   ‚îú‚îÄ‚îÄ plugin-one/\n‚îÇ   ‚îú‚îÄ‚îÄ plugin-two/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin-three/\n‚îî‚îÄ‚îÄ README.md\n```\n\n**marketplace.json**:\n```json\n{\n  \"name\": \"team-plugins\",\n  \"owner\": {\n    \"name\": \"Organization Name\",\n    \"email\": \"team@org.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Official Claude Code plugins for our team\",\n    \"version\": \"2.1.0\",\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"plugin-one\",\n      \"description\": \"Description\",\n      \"version\": \"1.2.0\",\n      \"source\": \"./plugins/plugin-one\"\n    }\n  ]\n}\n```\n\n**Installation**:\n```bash\n/plugin marketplace add org/claude-plugins\n/plugin install plugin-one@team-plugins\n```\n\n**Use when**: Team distribution with version control and collaboration.\n\n### Pattern 3: Multiple Source Types\n\nMix local and remote plugin sources:\n\n```json\n{\n  \"name\": \"mixed-marketplace\",\n  \"owner\": {\"name\": \"Your Name\"},\n  \"plugins\": [\n    {\n      \"name\": \"local-plugin\",\n      \"source\": \"./plugins/local-plugin\"\n    },\n    {\n      \"name\": \"github-plugin\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"owner/plugin-repo\"\n      }\n    },\n    {\n      \"name\": \"git-plugin\",\n      \"source\": {\n        \"source\": \"url\",\n        \"url\": \"https://gitlab.com/team/plugin.git\"\n      }\n    }\n  ]\n}\n```\n\n**Use when**: Combining internal and external plugins.\n\n### Pattern 4: Missing Manual example\n\nStudy this repo as a production-ready marketplace that ships the meta tooling plugin:\n\n```\nsurf-market/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ marketplace.json\n‚îú‚îÄ‚îÄ plugins/\n‚îÇ   ‚îî‚îÄ‚îÄ claude-code-meta/\n‚îú‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ skill-examples/\n```\n\n**marketplace.json** (`.claude-plugin/marketplace.json`):\n```json\n{\n  \"name\": \"surf-market\",\n  \"owner\": {\n    \"name\": \"Artimath\",\n    \"email\": \"ryan@artimath.dev\"\n  },\n  \"metadata\": {\n    \"description\": \"Personal Claude Code meta tooling marketplace.\",\n    \"version\": \"0.1.0\",\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-code-meta\",\n      \"description\": \"Meta builders for skills, agents, hooks, plugins, marketplaces, and slash commands.\",\n      \"keywords\": [\"claude-code\", \"builders\", \"meta\"],\n      \"source\": \"./plugins/claude-code-meta\",\n      \"strict\": true\n    }\n  ]\n}\n```\n\n**Lessons**:\n- Keep scope narrow so the metadata stays easy to manage.\n- Bundle example artifacts close to their reference skill for quick inspiration.\n- Document what is included so other contributors immediately understand the repo layout.\n\n## Marketplace.json Schema\n\n### Required Fields\n\n**name**: Marketplace identifier (kebab-case)\n```json\n\"name\": \"my-marketplace\"\n```\n\n**owner**: Maintainer information\n```json\n\"owner\": {\n  \"name\": \"Your Name\",\n  \"email\": \"you@example.com\"\n}\n```\n\n**plugins**: Array of plugin entries\n```json\n\"plugins\": [\n  {\n    \"name\": \"plugin-name\",\n    \"source\": \"./path/to/plugin\"\n  }\n]\n```\n\n### Optional Metadata\n\n```json\n\"metadata\": {\n  \"description\": \"Marketplace description\",\n  \"version\": \"1.0.0\",\n  \"pluginRoot\": \"./plugins\"  // Base path for relative sources\n}\n```\n\n## Plugin Entry Schema\n\n### Required Fields\n\n**name**: Plugin identifier\n```json\n\"name\": \"my-plugin\"\n```\n\n**source**: Plugin location (string or object)\n```json\n\"source\": \"./plugins/my-plugin\"\n// or\n\"source\": {\n  \"source\": \"github\",\n  \"repo\": \"owner/plugin-repo\"\n}\n```\n\n### Optional Fields\n\n**Standard metadata**:\n```json\n{\n  \"description\": \"Plugin description\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"Author Name\",\n    \"email\": \"author@example.com\"\n  },\n  \"homepage\": \"https://github.com/org/plugin\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/org/plugin.git\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"tag1\", \"tag2\"]\n}\n```\n\n**Component paths** (if not default):\n```json\n{\n  \"commands\": \"./cmd/\",\n  \"agents\": \"./agents/\",\n  \"hooks\": \"./automation/\",\n  \"mcpServers\": \"./mcp/\"\n}\n```\n\n**strict** (default true):\n```json\n\"strict\": true   // Requires plugin.json in plugin folder\n\"strict\": false  // Marketplace entry is complete manifest\n```\n\n## Plugin Source Types\n\n### Relative Paths (Same Repository)\n\n```json\n{\n  \"name\": \"my-plugin\",\n  \"source\": \"./plugins/my-plugin\"\n}\n```\n\nResolves relative to `metadata.pluginRoot` if set, otherwise relative to marketplace.json.\n\n### GitHub Repositories\n\n```json\n{\n  \"name\": \"github-plugin\",\n  \"source\": {\n    \"source\": \"github\",\n    \"repo\": \"owner/plugin-repo\"\n  }\n}\n```\n\nFetches from `https://github.com/owner/plugin-repo`.\n\n### Git Repositories\n\n```json\n{\n  \"name\": \"git-plugin\",\n  \"source\": {\n    \"source\": \"url\",\n    \"url\": \"https://gitlab.com/team/plugin.git\"\n  }\n}\n```\n\nSupports any git hosting service.\n\n## Team Distribution Patterns\n\n### Pattern A: Project Settings (Auto-Install)\n\nConfigure in `.claude/settings.json`:\n\n```json\n{\n  \"extraKnownMarketplaces\": {\n    \"team-tools\": {\n      \"source\": {\"source\": \"github\", \"repo\": \"org/claude-plugins\"}\n    }\n  }\n}\n```\n\nTeam members trust folder ‚Üí plugins auto-install.\n\n**Use when**: Mandating team-wide tooling.\n\n### Pattern B: User Settings (Manual Install)\n\nUsers add marketplace to `~/.claude/settings.json`:\n\n```json\n{\n  \"extraKnownMarketplaces\": {\n    \"personal-market\": {\n      \"source\": \"./path/to/marketplace\"\n    }\n  }\n}\n```\n\n**Use when**: Optional or personal tools.\n\n### Pattern C: Command-Line (Ad-Hoc)\n\n```bash\n/plugin marketplace add org/claude-plugins\n/plugin install plugin-name@marketplace-name\n```\n\n**Use when**: Testing or one-off installations.\n\n## Marketplace Commands\n\n**Add marketplace**:\n```bash\n/plugin marketplace add owner/repo         # GitHub\n/plugin marketplace add ./local/path       # Local\n/plugin marketplace add https://url.git    # Git\n```\n\n**List marketplaces**:\n```bash\n/plugin marketplace list\n```\n\n**Remove marketplace**:\n```bash\n/plugin marketplace remove marketplace-name\n```\n\n**Install from marketplace**:\n```bash\n/plugin install plugin-name@marketplace-name\n```\n\n**Update plugin**:\n```bash\n/plugin uninstall plugin-name@marketplace-name\n/plugin install plugin-name@marketplace-name\n```\n\n## Versioning & Updates\n\n**Marketplace versioning**:\n```json\n\"metadata\": {\n  \"version\": \"2.1.0\"\n}\n```\n\n**Plugin versioning** (in marketplace entry):\n```json\n{\n  \"name\": \"my-plugin\",\n  \"version\": \"1.2.3\",\n  \"source\": \"./plugins/my-plugin\"\n}\n```\n\n**Update workflow**:\n1. Increment version in marketplace.json\n2. Update plugin versions as needed\n3. Document changes in CHANGELOG.md\n4. Commit and push (if git-based)\n5. Users reinstall plugins for updates\n\n## Environment Variables\n\n**CLAUDE_PLUGIN_ROOT**: Available in plugin hooks, resolves to plugin installation directory.\n\n**Use in hook scripts**:\n```bash\n${CLAUDE_PLUGIN_ROOT}/scripts/validate.sh\n```\n\n## Strict Mode\n\n**strict: true** (default):\n- Plugin must have `.claude-plugin/plugin.json`\n- Marketplace fields supplement plugin.json\n- Plugin.json fields take precedence\n\n**strict: false**:\n- Marketplace entry is complete manifest\n- No plugin.json required\n- Use for minimal plugin distribution\n\n## Common Issues\n\n**Marketplace not appearing**:\n- Check `.claude-plugin/marketplace.json` exists\n- Verify JSON syntax is valid\n- Restart Claude Code after adding\n\n**Plugins not installing**:\n- Check source paths are correct\n- Verify plugin.json exists (if strict: true)\n- Test source path resolves correctly\n\n**Version conflicts**:\n- Uninstall old version first\n- Check marketplace.json has correct version\n- Clear cache if needed\n\n**Permission errors**:\n- Check file permissions on local paths\n- Verify git repository is accessible\n- Check GitHub repository visibility\n\n## Complete API Reference\n\nFor full marketplace specification including:\n- Complete marketplace.json schema\n- Plugin source resolution logic\n- Team deployment strategies\n- Version management patterns\n- Git hosting integration\n- Custom package manager support\n\nSee [references/anthropic-marketplaces-docs.md](references/anthropic-marketplaces-docs.md)\n\n## Related Skills\n\n- **plugin-builder**: Create plugins for marketplaces\n\n## Improving This Skill\n\nNotice gaps, unclear instructions, or better patterns while using this skill?\n\nUse the `continuous-improvement` skill to propose enhancements:\n1. Detect the issue\n2. Propose specific changes\n3. Git branch ‚Üí commit ‚Üí surface for approval\n4. Update changelog\n\nThis skill should evolve with every use.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/plugin-builder.md": "---\nname: plugin-builder\ndescription: Create Claude Code plugins with proper structure, plugin.json manifest, and component organization. Use when building new plugins, organizing skills/commands/hooks, or preparing for marketplace distribution. References complete Anthropic documentation.\n---\n\n# Plugin Builder\n\nBuild plugins that bundle skills, commands, hooks, and MCP servers for team distribution via marketplaces.\n\n## When to Use\n\n- Creating new plugins to organize related functionality\n- Bundling skills, commands, and hooks for distribution\n- Preparing plugins for marketplace publication\n- Structuring multi-component Claude Code extensions\n- Converting standalone components into distributable plugins\n\n## What Are Plugins?\n\nPlugins extend Claude Code with custom components that can be shared across projects and teams:\n\n- **Skills**: Model-invoked capabilities (Claude decides when to use)\n- **Slash Commands**: User-invoked prompts (`/command`)\n- **Hooks**: Automated lifecycle event handlers\n- **Agents**: Specialized AI subagents\n- **MCP Servers**: External tool integrations\n\n**Distribution**: Plugins are distributed via marketplaces (local, GitHub, or git repositories).\n\n## Quick Start Workflow\n\n### 1. Design Plugin Structure\n\n```\nmy-plugin/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json          # Metadata (required)\n‚îú‚îÄ‚îÄ skills/                  # Agent Skills (optional)\n‚îÇ   ‚îî‚îÄ‚îÄ my-skill/\n‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md\n‚îú‚îÄ‚îÄ commands/                # Slash commands (optional)\n‚îÇ   ‚îî‚îÄ‚îÄ my-command.md\n‚îú‚îÄ‚îÄ agents/                  # Custom agents (optional)\n‚îÇ   ‚îî‚îÄ‚îÄ helper.md\n‚îî‚îÄ‚îÄ hooks/                   # Event handlers (optional)\n    ‚îî‚îÄ‚îÄ hooks.json\n```\n\n**Critical**: Components belong at plugin root, NOT inside `.claude-plugin/`.\n\n### 2. Create plugin.json Manifest\n\n```json\n{\n  \"name\": \"my-plugin\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Brief description of what plugin provides\",\n  \"author\": {\n    \"name\": \"Your Name\",\n    \"email\": \"your@email.com\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"relevant\", \"tags\"],\n  \"skills\": \"./skills/\",\n  \"commands\": \"./commands/\",\n  \"agents\": \"./agents/\",\n  \"hooks\": \"./hooks/\"\n}\n```\n\n**Required fields**: `name`, `version`, `description`, `author`\n\n### 3. Add Components\n\n**Skills** (place in `skills/`):\n- Each skill in own directory\n- `SKILL.md` with frontmatter\n- Optional `references/`, `scripts/`, `assets/`\n\n**Commands** (place in `commands/`):\n- Markdown files with YAML frontmatter\n- Use `$ARGUMENTS` for parameters\n- See slash-command-builder skill for patterns\n\n**Hooks** (place in `hooks/`):\n- `hooks.json` configuration\n- Hook scripts referenced via `${CLAUDE_PLUGIN_ROOT}`\n- See hook-builder skill for patterns\n\n### 4. Test Locally\n\nCreate local marketplace for testing:\n\n```bash\ncd ~/test-marketplace\nmkdir -p .claude-plugin\n```\n\nCreate `marketplace.json`:\n```json\n{\n  \"name\": \"test-marketplace\",\n  \"owner\": {\"name\": \"Your Name\"},\n  \"plugins\": [\n    {\n      \"name\": \"my-plugin\",\n      \"source\": \"./path/to/my-plugin\",\n      \"description\": \"Plugin description\"\n    }\n  ]\n}\n```\n\nAdd marketplace and install:\n```bash\n/plugin marketplace add ./test-marketplace\n/plugin install my-plugin@test-marketplace\n```\n\nRestart Claude Code to load plugin.\n\n### 5. Verify Installation\n\n```bash\n/help          # Check commands appear\n/agents        # Check agents appear (if any)\n```\n\nTest each component:\n- Invoke commands with `/command-name`\n- Verify skills trigger on relevant tasks\n- Check hooks execute on events\n\n## Essential Patterns\n\n### Pattern 1: Single-Skill Plugin\n\nSimplest plugin structure:\n\n```\nsimple-plugin/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json\n‚îî‚îÄ‚îÄ skills/\n    ‚îî‚îÄ‚îÄ my-skill/\n        ‚îî‚îÄ‚îÄ SKILL.md\n```\n\n**plugin.json**:\n```json\n{\n  \"name\": \"simple-plugin\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Single focused skill\",\n  \"author\": {\"name\": \"Your Name\"},\n  \"skills\": \"./skills/\"\n}\n```\n\n**Use when**: Single focused capability, no commands or hooks needed.\n\n### Pattern 2: Multi-Component Plugin\n\nComplex plugin with all component types:\n\n```\nfull-plugin/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json\n‚îú‚îÄ‚îÄ skills/\n‚îÇ   ‚îú‚îÄ‚îÄ skill-one/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md\n‚îÇ   ‚îî‚îÄ‚îÄ skill-two/\n‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md\n‚îú‚îÄ‚îÄ commands/\n‚îÇ   ‚îú‚îÄ‚îÄ cmd-one.md\n‚îÇ   ‚îî‚îÄ‚îÄ cmd-two.md\n‚îú‚îÄ‚îÄ agents/\n‚îÇ   ‚îî‚îÄ‚îÄ helper-agent.md\n‚îî‚îÄ‚îÄ hooks/\n    ‚îú‚îÄ‚îÄ hooks.json\n    ‚îî‚îÄ‚îÄ scripts/\n        ‚îî‚îÄ‚îÄ validate.sh\n```\n\n**plugin.json**:\n```json\n{\n  \"name\": \"full-plugin\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Complete workflow automation\",\n  \"author\": {\"name\": \"Your Name\"},\n  \"skills\": \"./skills/\",\n  \"commands\": \"./commands/\",\n  \"agents\": \"./agents/\",\n  \"hooks\": \"./hooks/\"\n}\n```\n\n**Use when**: Complex workflow needs multiple entry points (commands, skills, hooks).\n\n### Pattern 3: Plugin with Hooks\n\nPlugin providing automated validation:\n\n**hooks/hooks.json**:\n```json\n{\n  \"description\": \"Auto-validate TypeScript files\",\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Edit|Write\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/typecheck.sh\",\n            \"timeout\": 30\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Key**: Use `${CLAUDE_PLUGIN_ROOT}` to reference plugin files.\n\n### Pattern 4: Missing Manual plugin (Production Example)\n\nStudy the marketplace you are building:\n\n```\nsurf-market/plugins/claude-code-meta/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json\n‚îî‚îÄ‚îÄ skills/\n    ‚îî‚îÄ‚îÄ claude-code-meta/\n        ‚îú‚îÄ‚îÄ SKILL.md\n        ‚îî‚îÄ‚îÄ references/\n            ‚îú‚îÄ‚îÄ plugin-builder.md\n            ‚îú‚îÄ‚îÄ marketplace-builder.md\n            ‚îú‚îÄ‚îÄ hook-builder.md\n            ‚îú‚îÄ‚îÄ slash-command-builder.md\n            ‚îú‚îÄ‚îÄ agent-builder.md\n            ‚îú‚îÄ‚îÄ creating-components.md\n            ‚îú‚îÄ‚îÄ plugin-updates.md\n            ‚îú‚îÄ‚îÄ docs-plugin-builder.md\n            ‚îú‚îÄ‚îÄ skill-examples/\n            ‚îî‚îÄ‚îÄ cc-docs-toc.md\n```\n\n**Lessons**:\n- Maintain a focused plugin scope with one master skill and a reference library.\n- Keep metadata (plugin.json, CHANGELOG, README) close to the components that rely on it.\n- Bundle example artifacts and core references together so builders can reach them without leaving the repo.\n\n## Plugin Component Paths\n\n**Default component locations**:\n- Skills: `./skills/` (each skill in own directory)\n- Commands: `./commands/` (markdown files)\n- Agents: `./agents/` (agent definitions)\n- Hooks: `./hooks/` (hooks.json + scripts)\n- MCP Servers: `.mcp.json` (MCP config)\n\n**Custom paths** (plugin.json):\n```json\n{\n  \"skills\": \"./my-custom-skills-dir/\",\n  \"commands\": \"./cmd/\",\n  \"hooks\": \"./automation/\"\n}\n```\n\n## Plugin Metadata Best Practices\n\n**Name**: Lowercase, hyphens only, max 64 characters\n```json\n\"name\": \"my-awesome-plugin\"\n```\n\n**Version**: Semantic versioning (major.minor.patch)\n```json\n\"version\": \"1.2.3\"\n```\n\n**Description**: Clear, specific, 1-2 sentences\n```json\n\"description\": \"Automates TypeScript validation with Effect-idiomatic patterns. Use for type checking after file edits.\"\n```\n\n**Keywords**: Searchable tags for discovery\n```json\n\"keywords\": [\"typescript\", \"validation\", \"effect\", \"testing\"]\n```\n\n**Author**: Full contact info\n```json\n\"author\": {\n  \"name\": \"Your Name\",\n  \"email\": \"you@example.com\",\n  \"url\": \"https://github.com/yourusername\"\n}\n```\n\n**License**: Standard SPDX identifier\n```json\n\"license\": \"MIT\"\n```\n\n**Homepage** (optional):\n```json\n\"homepage\": \"https://github.com/org/plugin-name\",\n\"repository\": {\n  \"type\": \"git\",\n  \"url\": \"https://github.com/org/plugin-name.git\"\n}\n```\n\n## Marketplace Registration\n\nAfter creating plugin, register in marketplace:\n\n**marketplace.json**:\n```json\n{\n  \"name\": \"my-marketplace\",\n  \"owner\": {\"name\": \"Your Name\", \"email\": \"you@example.com\"},\n  \"metadata\": {\n    \"description\": \"Marketplace description\",\n    \"version\": \"1.0.0\",\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"my-plugin\",\n      \"description\": \"Plugin description\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"tags\"],\n      \"source\": \"./plugins/my-plugin\",\n      \"strict\": true\n    }\n  ]\n}\n```\n\n**strict: true** (default): Plugin must have `plugin.json`\n**strict: false**: Marketplace entry is complete manifest\n\n## Team Distribution\n\n**Option 1: Project settings** (`.claude/settings.json`):\n```json\n{\n  \"extraKnownMarketplaces\": {\n    \"team-marketplace\": {\n      \"source\": {\"source\": \"github\", \"repo\": \"org/claude-plugins\"}\n    }\n  }\n}\n```\n\nTeam members trust folder ‚Üí plugins auto-install.\n\n**Option 2: User settings** (`~/.claude/settings.json`):\nUsers manually add marketplace and install plugins.\n\n**Option 3: Local marketplace**:\nDevelopment teams share via local filesystem or network drive.\n\n## Versioning & Updates\n\n**Semantic versioning**:\n- `1.0.0` ‚Üí `1.0.1`: Bug fixes (patch)\n- `1.0.0` ‚Üí `1.1.0`: New features (minor)\n- `1.0.0` ‚Üí `2.0.0`: Breaking changes (major)\n\n**Update workflow**:\n1. Increment version in `plugin.json`\n2. Update CHANGELOG.md with changes\n3. Test all components\n4. Commit and push to repository\n5. Users reinstall for updates\n\n## Plugin Lifecycle\n\n1. **Create**: Structure + plugin.json + components\n2. **Test**: Local marketplace + install\n3. **Refine**: Iterate based on use\n4. **Document**: README + CHANGELOG\n5. **Publish**: Register in marketplace\n6. **Distribute**: Share marketplace URL/path\n7. **Maintain**: Version updates, changelog discipline\n\n## Common Issues\n\n**Plugin not appearing in `/plugin` list**:\n- Check `plugin.json` exists in `.claude-plugin/`\n- Verify marketplace.json has correct source path\n- Restart Claude Code after adding marketplace\n\n**Commands not showing in `/help`**:\n- Ensure commands have frontmatter with `description`\n- Check `commands` field in plugin.json points to correct directory\n- Verify command files have `.md` extension\n\n**Skills not triggering**:\n- Check SKILL.md has frontmatter with `name` and `description`\n- Verify description includes clear trigger keywords\n- Test skill independently first\n\n**Hooks not executing**:\n- Check `hooks/hooks.json` syntax\n- Verify hook scripts have execute permissions\n- Use `${CLAUDE_PLUGIN_ROOT}` for plugin-relative paths\n- Check matcher patterns\n\n## Complete API Reference\n\nFor full plugin specification including:\n- Complete plugin.json schema\n- Component organization patterns\n- MCP server integration\n- Publishing workflows\n- Team deployment strategies\n- Version management\n\nSee [references/anthropic-plugins-docs.md](references/anthropic-plugins-docs.md)\n\n## Related Skills\n\n- **slash-command-builder**: Create commands for plugins\n- **hook-builder**: Create hooks for plugins\n- **skill-builder**: Create skills for plugins\n- **marketplace-builder**: Distribute plugins\n\n## Improving This Skill\n\nNotice gaps, unclear instructions, or better patterns while using this skill?\n\nUse the `continuous-improvement` skill to propose enhancements:\n1. Detect the issue\n2. Propose specific changes\n3. Git branch ‚Üí commit ‚Üí surface for approval\n4. Update changelog\n\nThis skill should evolve with every use.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/plugin-updates.md": "# Plugin Update Process\n\n**Standard operating procedure for updating plugins in this marketplace**\n\n---\n\n## When to Update\n\nUpdate plugin version when you:\n- Add new commands, skills, or agents\n- Modify existing command/skill behavior\n- Fix bugs in plugin components\n- Add or update documentation that affects usage\n\n**Don't update for:**\n- Experimental WIP changes\n- Non-plugin files (root-level docs, etc.)\n- Typo fixes in comments (unless user-facing)\n\n---\n\n## The Workflow\n\n### Use `/update-plugin` Command\n\n```bash\n/update-plugin <plugin-name>\n\n# Example:\n/update-plugin meta\n```\n\n**The command will:**\n1. Detect changes in plugin directory\n2. Help categorize changes (Added/Changed/Fixed/Removed)\n3. Update CHANGELOG.md\n4. Bump version in plugin.json (semver)\n5. Show diff and optionally commit\n\n---\n\n## Semver Guidelines\n\n| Bump Type | When | Example |\n|-----------|------|---------|\n| **Patch** (0.3.2 ‚Üí 0.3.3) | Bug fixes, docs, minor tweaks | Fixed truncation in /work output |\n| **Minor** (0.3.2 ‚Üí 0.4.0) | New features, commands, skills | Added /update-plugin command |\n| **Major** (0.3.2 ‚Üí 1.0.0) | Breaking changes, removed features | Removed deprecated /old-command |\n\n**Rules:**\n- New commands/skills = Minor\n- New command features = Minor\n- Bug fixes = Patch\n- Breaking changes = Major (rare)\n\n---\n\n## Changelog Format\n\nFollow [Keep a Changelog](https://keepachangelog.com/):\n\n```markdown\n## [0.4.0] - 2025-12-20\n\n### Added\n- **/update-plugin command**: Interactive workflow for version updates\n  - Guides through change categorization and semver bumping\n  - Explains plugin versioning context for testing\n\n### Changed\n- **work command**: Removed output limit to show all items\n  - Changed from `exo ready | head -15` to `exo ready`\n\n### Fixed\n- **work command**: Fixed truncation error with >15 items\n\n### Removed\n- Nothing\n```\n\n**Focus on value**, not implementation details.\n\n---\n\n## Plugin Versioning & Context\n\n**Critical concept:** Claude Code sessions cache plugin versions.\n\n### How It Works\n\n```\nSession A (current):\n  - Loads meta plugin v0.3.2 at startup\n  - You edit commands, bump to v0.3.3\n  - Session A still uses v0.3.2 (cached)\n  - Sub-agents spawned in Session A use v0.3.2\n\nSession B (new):\n  - Fresh Claude Code instance\n  - Loads meta plugin v0.3.3\n  - Sees all your changes\n\nHeadless (recommended):\n  - Each `claude ...` command is fresh session\n  - Picks up latest version immediately\n  - Best for testing after version bump\n```\n\n### Testing After Version Bump\n\n**Always test with headless** to verify new version works:\n\n```bash\n# After bumping meta plugin to v0.3.3\nclaude --dangerously-skip-permissions --model haiku \\\n  \"test the updated command\"\n\n# This gets fresh v0.3.3, not cached v0.3.2\n```\n\n**Why this matters:**\n- Sub-agents won't see your changes (they use parent session's cache)\n- Current session won't reload plugins mid-session\n- Headless = clean slate = actual new version\n\n---\n\n## Manual Process (If Not Using Command)\n\nIf you need to update manually:\n\n1. **Check current version:**\n   ```bash\n   cat plugins/<name>/.claude-plugin/plugin.json | grep version\n   ```\n\n2. **Decide semver bump** (see table above)\n\n3. **Update CHANGELOG.md:**\n   ```markdown\n   ## [NEW_VERSION] - $(date +%Y-%m-%d)\n\n   ### Changed\n   - Description of change\n   ```\n\n4. **Update plugin.json:**\n   ```json\n   \"version\": \"NEW_VERSION\",\n   ```\n\n5. **Commit:**\n   ```bash\n   git add plugins/<name>/\n   git commit -m \"chore(<name>): brief description\n\n   - List changes\n\n   Version: OLD ‚Üí NEW\"\n   ```\n\n6. **Test with headless** to verify\n\n---\n\n## Continuous Improvement Integration\n\n**Future enhancement**: The continuous-improvement skill should detect plugin edits and proactively suggest:\n\n```\n\"I notice you modified meta/commands/work.md.\nShould I run /update-plugin meta to document this change?\"\n```\n\n**Current state**: Manual trigger only (run `/update-plugin` yourself)\n\n**Blocker**: Proactive automation still needs wiring; run `/update-plugin` manually for now\n\n---\n\n## Checklist\n\nBefore committing plugin changes:\n\n- [ ] Run `/update-plugin <plugin-name>`\n- [ ] Categorize changes (Added/Changed/Fixed/Removed)\n- [ ] Choose appropriate semver bump\n- [ ] Verify CHANGELOG.md entry is clear\n- [ ] Verify plugin.json version updated\n- [ ] Test with headless Claude to confirm new version works\n- [ ] Commit with descriptive message\n\n---\n\n## Related\n\n- **Command**: `/update-plugin` (commands/update-plugin.md)\n- **Testing**: `references/command-testing.md`\n- **Semver**: https://semver.org/\n- **Changelog format**: https://keepachangelog.com/\n\n---\n\n*Last updated: 2025-12-20*\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/scaling-strategies.md": "# Scaling Strategies for Documentation Plugins\n\nThis guide explains how to manage token budgets and scale documentation plugins from hundreds to thousands of pages without context explosion.\n\n## The Token Problem\n\n**Context window constraints:**\n- LLMs have finite context windows (e.g., 200k tokens)\n- Skills consume context when loaded\n- Large documentation = massive token usage\n- Multiple skills loaded simultaneously = compounding problem\n\n**Example math:**\n- 1000 pages of docs at ~500 tokens/page = 500k tokens\n- Even with summarization: ~50k-100k tokens minimum\n- Cannot load alongside other skills or conversation history\n- Result: Unusable at scale\n\n## The Solution: Token Budgeting\n\n**Core principle:** Keep each skill under 500 lines (~3-5k tokens) through:\n1. Separation of docs from patterns\n2. Grep-driven discovery (don't load docs)\n3. Progressive disclosure (load only what's needed)\n4. Strategic cross-linking (share instead of duplicate)\n\n## Budgeting Framework\n\n### Skill Budget Allocation\n\n| Skill Type | Target Lines | Token Budget | Content Strategy |\n|------------|--------------|--------------|------------------|\n| Docs Skill | 300-400 | ~2-3k | Grep patterns + structure overview |\n| Application Skill | 300-400 | ~2-3k | Focused patterns + cross-links |\n| Advanced Skill | 400-500 | ~3-4k | Deep patterns + optimization |\n| Integration Skill | 300-400 | ~2-3k | Integration patterns + cross-links |\n\n**Total for 4-skill plugin:** ~1500-1700 lines (~10-15k tokens)\n\nCompare to monolithic approach:\n- Single massive skill: 3000+ lines (~30k+ tokens)\n- Cannot compose with other skills\n- Poor user experience (hard to navigate)\n\n### Content Distribution\n\n**Docs Skill (300-400 lines):**\n- Frontmatter: ~10 lines\n- Introduction: ~20 lines\n- Quick reference (grep patterns): ~50 lines\n- Documentation structure overview: ~50 lines\n- Cross-references to application skills: ~50 lines\n- Common lookup patterns: ~100 lines\n- Troubleshooting reference: ~30 lines\n- Maintenance notes: ~20 lines\n\n**Application Skill (300-400 lines):**\n- Frontmatter: ~10 lines\n- Introduction + when to use: ~30 lines\n- Quick pattern reference: ~20 lines\n- Basic patterns (2-3): ~100 lines\n- Advanced pattern (1): ~50 lines\n- Cross-reference guide: ~50 lines\n- Common pitfalls: ~40 lines\n- Production patterns reference: ~30 lines\n- Next steps: ~20 lines\n\n## Scaling Techniques\n\n### 1. Horizontal Scaling (Add More Skills)\n\n**When to split:**\n- Skill exceeds 500 lines\n- Distinct user workflows emerge\n- Different expertise levels needed\n- Integration patterns grow large\n\n**How to split:**\n\n```\nBefore (monolithic):\ntech-mastery/\n‚îî‚îÄ‚îÄ tech-all/\n    ‚îî‚îÄ‚îÄ SKILL.md (1500 lines - everything)\n\nAfter (scaled):\ntech-mastery/\n‚îú‚îÄ‚îÄ tech-docs/ (400 lines - passive reference)\n‚îú‚îÄ‚îÄ tech-basics/ (350 lines - getting started)\n‚îú‚îÄ‚îÄ tech-patterns/ (400 lines - common workflows)\n‚îú‚îÄ‚îÄ tech-advanced/ (450 lines - optimization)\n‚îî‚îÄ‚îÄ tech-integration/ (350 lines - third-party tools)\n```\n\n**Result:**\n- Total: 1950 lines across 5 skills\n- Each skill: 350-450 lines (composable)\n- Users load only what they need\n\n### 2. Vertical Scaling (Compress Content)\n\n**Techniques:**\n\n**A. Progressive Disclosure**\n\n```markdown\n<!-- Instead of this (200 lines): -->\n## Error Handling\n\nHere's every possible error pattern... [200 lines of examples]\n\n<!-- Do this (30 lines): -->\n## Error Handling ‚Üí tech-docs\n\nFor complete error reference:\n\\```bash\nrg \"Error:\\\\|Exception:\" ../tech-docs/references/guides/ -i -A3\n\\```\n\n**Common patterns:**\n- Network errors: ECONNREFUSED, ETIMEDOUT\n- Auth errors: 401, 403\n- Database errors: See tech-advanced for retry patterns\n```\n\n**Savings:** 170 lines (~1500 tokens)\n\n**B. Reference, Don't Duplicate**\n\n```markdown\n<!-- Instead of this (100 lines): -->\n## SQL Function Reference\n\nHere are all 50 SQL functions with examples... [100 lines]\n\n<!-- Do this (10 lines): -->\n## SQL Function Reference ‚Üí tech-docs\n\n\\```bash\nrg \"JSON_VALUE\\\\|ARRAY_AGG\" ../tech-docs/references/api-reference/\n\\```\n```\n\n**Savings:** 90 lines (~800 tokens)\n\n**C. Example Compression**\n\n```markdown\n<!-- Instead of this (50 lines): -->\n// Example 1: Basic query\nconst example1 = ...\n\n// Example 2: With parameters\nconst example2 = ...\n\n// Example 3: With joins\nconst example3 = ...\n\n<!-- Do this (15 lines): -->\n**Pattern:**\n\\```typescript\nconst query = (client: Client, params: Params) =>\n  Effect.gen(function* () {\n    return yield* client.query(params)\n  })\n\\```\n\n**Variations:** See samples: `rg \"client.query\" ../tech-docs/references/samples/ -A10`\n```\n\n**Savings:** 35 lines (~300 tokens)\n\n### 3. Documentation Organization\n\n**Flat vs Hierarchical:**\n\n**Flat (better for grep):**\n```\nreferences/\n‚îú‚îÄ‚îÄ api-function-1.md\n‚îú‚îÄ‚îÄ api-function-2.md\n‚îú‚îÄ‚îÄ guide-getting-started.md\n‚îú‚îÄ‚îÄ guide-best-practices.md\n‚îî‚îÄ‚îÄ sample-basic-usage.md\n```\n\n**Hierarchical (harder to search):**\n```\nreferences/\n‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îú‚îÄ‚îÄ functions/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ function-1.md\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ function-2.md\n‚îú‚îÄ‚îÄ guides/\n‚îÇ   ‚îú‚îÄ‚îÄ getting-started/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ intro.md\n```\n\n**Recommendation:** Use shallow hierarchy (2 levels max):\n\n```\nreferences/\n‚îú‚îÄ‚îÄ guides/\n‚îÇ   ‚îú‚îÄ‚îÄ getting-started.md\n‚îÇ   ‚îî‚îÄ‚îÄ best-practices.md\n‚îú‚îÄ‚îÄ api-reference/\n‚îÇ   ‚îú‚îÄ‚îÄ functions.md\n‚îÇ   ‚îî‚îÄ‚îÄ classes.md\n‚îî‚îÄ‚îÄ samples/\n    ‚îú‚îÄ‚îÄ basic-usage.md\n    ‚îî‚îÄ‚îÄ advanced-patterns.md\n```\n\n**Why:** Easier grep patterns, flatter paths, better discoverability.\n\n### 4. Smart Grep Pattern Design\n\n**Token-efficient patterns:**\n\n```bash\n# ‚ùå EXPENSIVE - loads 500 files into context\nfind references/ -name \"*.md\" | xargs cat | grep \"pattern\"\n\n# ‚úÖ CHEAP - just file paths (20 tokens vs 50k)\nrg \"pattern\" references/ -l | head -5\n\n# ‚úÖ EFFICIENT - targeted context (500 tokens vs 5k)\nrg \"pattern\" references/guides/getting-started.md -A5\n```\n\n**Budget impact:**\n- File listing: ~1-2 tokens per file\n- With context (-A5): ~50-100 tokens per match\n- Full file read: ~500-1000 tokens\n\n**Rule:** Default to `-l` (files only), add context only when needed.\n\n### 5. Skill Composition Strategies\n\n**Composition A: Technology Stack**\n\n```\nreact-mastery/\n‚îú‚îÄ‚îÄ react-docs/       (passive reference)\n‚îú‚îÄ‚îÄ react-hooks/      (useState, useEffect, etc.)\n‚îú‚îÄ‚îÄ react-router/     (routing patterns)\n‚îî‚îÄ‚îÄ react-testing/    (testing patterns)\n```\n\n**Total budget:** 4 skills √ó 350 lines = 1400 lines\n\n**Composition B: Expertise Levels**\n\n```\npostgres-mastery/\n‚îú‚îÄ‚îÄ postgres-docs/    (passive reference)\n‚îú‚îÄ‚îÄ postgres-basics/  (CRUD, simple queries)\n‚îú‚îÄ‚îÄ postgres-advanced/(optimization, indexing)\n‚îî‚îÄ‚îÄ postgres-admin/   (backups, replication)\n```\n\n**Total budget:** 4 skills √ó 400 lines = 1600 lines\n\n**Composition C: Workflow-Oriented**\n\n```\nk8s-mastery/\n‚îú‚îÄ‚îÄ k8s-docs/         (passive reference)\n‚îú‚îÄ‚îÄ k8s-deploy/       (deployment workflows)\n‚îú‚îÄ‚îÄ k8s-monitor/      (monitoring patterns)\n‚îî‚îÄ‚îÄ k8s-debug/        (troubleshooting)\n```\n\n**Total budget:** 4 skills √ó 375 lines = 1500 lines\n\n**Choose based on:**\n- How users work (workflows vs expertise)\n- Natural boundaries in technology\n- Frequency of use (split high-use areas)\n\n## Scaling Milestones\n\n### Phase 1: MVP (1-2 skills)\n\n**Goal:** Prove the concept\n\n```\ntech-mastery/\n‚îú‚îÄ‚îÄ tech-docs/        (300 lines)\n‚îî‚îÄ‚îÄ tech-patterns/    (350 lines)\n```\n\n**Budget:** 650 lines (~5k tokens)\n\n**Validation:**\n- Grep patterns work\n- Cross-links function\n- Users can discover docs\n\n### Phase 2: Standard (3-4 skills)\n\n**Goal:** Cover common use cases\n\n```\ntech-mastery/\n‚îú‚îÄ‚îÄ tech-docs/        (350 lines)\n‚îú‚îÄ‚îÄ tech-patterns/    (400 lines)\n‚îú‚îÄ‚îÄ tech-advanced/    (450 lines)\n‚îî‚îÄ‚îÄ tech-integration/ (350 lines)\n```\n\n**Budget:** 1550 lines (~12k tokens)\n\n**Validation:**\n- All workflows covered\n- Skills compose well\n- No duplication\n\n### Phase 3: Comprehensive (5-7 skills)\n\n**Goal:** Complete coverage\n\n```\ntech-mastery/\n‚îú‚îÄ‚îÄ tech-docs/        (400 lines)\n‚îú‚îÄ‚îÄ tech-getting-started/ (300 lines)\n‚îú‚îÄ‚îÄ tech-patterns/    (400 lines)\n‚îú‚îÄ‚îÄ tech-advanced/    (450 lines)\n‚îú‚îÄ‚îÄ tech-testing/     (350 lines)\n‚îú‚îÄ‚îÄ tech-integration/ (400 lines)\n‚îî‚îÄ‚îÄ tech-migration/   (350 lines)\n```\n\n**Budget:** 2650 lines (~20k tokens)\n\n**Validation:**\n- Expert users satisfied\n- Covers edge cases\n- Still composable\n\n### Phase 4: Specialized (8+ skills)\n\n**Goal:** Deep expertise areas\n\n**Warning:** Beyond 8 skills, consider splitting into multiple plugins.\n\n**Example split:**\n\n```\ntech-core-mastery/          (core language/framework)\n‚îú‚îÄ‚îÄ tech-docs/\n‚îú‚îÄ‚îÄ tech-basics/\n‚îú‚îÄ‚îÄ tech-patterns/\n‚îî‚îÄ‚îÄ tech-advanced/\n\ntech-ecosystem-mastery/     (integrations)\n‚îú‚îÄ‚îÄ tech-ecosystem-docs/\n‚îú‚îÄ‚îÄ tech-aws-integration/\n‚îú‚îÄ‚îÄ tech-gcp-integration/\n‚îî‚îÄ‚îÄ tech-docker-patterns/\n```\n\n## Token Budget Calculation\n\n**Formula:**\n\n```\nTotal Budget = (Skill Count √ó Average Lines per Skill) √ó Tokens per Line\n\nExample:\n5 skills √ó 400 lines √ó 1.5 tokens/line = 3000 tokens\n```\n\n**Line-to-token ratio:**\n- Markdown text: ~1.2 tokens/line\n- Code blocks: ~1.8 tokens/line\n- Mixed content: ~1.5 tokens/line (average)\n\n**Context window allocation:**\n- Skills: 3-5k tokens\n- Conversation history: 10-20k tokens\n- User message: 1-2k tokens\n- Available for response: 150-175k tokens\n\n**Safe limit:** Keep all loaded skills under 20k tokens combined.\n\n## Performance Optimization\n\n### 1. Lazy Loading\n\n```markdown\n<!-- Instead of inline examples: -->\n\\```typescript\n// 50 lines of example code\n\\```\n\n<!-- Link to examples: -->\n**Example:** `rg \"PatternName\" ../tech-docs/references/samples/ -A20`\n```\n\n**Benefit:** Load example only when user runs grep.\n\n### 2. Conditional Sections\n\n```markdown\n<!-- Only include when relevant: -->\n## PostgreSQL-Specific Patterns\n\n*Skip this section if using MySQL*\n\n\\```sql\n-- PostgreSQL patterns here\n\\```\n```\n\n**Benefit:** Users skip irrelevant sections mentally.\n\n### 3. Summarization Tables\n\n```markdown\n<!-- Instead of 200 lines of function descriptions: -->\n\n| Function | Purpose | Example |\n|----------|---------|---------|\n| JSON_VALUE | Extract scalar | `rg \"JSON_VALUE\" ../docs/` |\n| JSON_QUERY | Extract object | `rg \"JSON_QUERY\" ../docs/` |\n\n**Full reference:** `rg \"JSON.*function\" ../tech-docs/references/api-reference/`\n```\n\n**Benefit:** Table is ~50 lines vs 200 lines of prose.\n\n### 4. Strategic Cross-Links\n\n```markdown\n<!-- Bad (duplicates content): -->\n## Error Handling (in both tech-patterns and tech-advanced)\n[100 lines of overlapping content]\n\n<!-- Good (split responsibility): -->\n## Error Handling (tech-patterns)\nBasic try/catch patterns. For retry logic, see tech-advanced.\n\n## Retry Patterns (tech-advanced)\nAdvanced retry with backoff. Assumes basic error handling from tech-patterns.\n```\n\n**Benefit:** 100 lines saved by splitting, not duplicating.\n\n## Monitoring and Maintenance\n\n### Budget Tracking\n\nCreate a budget spreadsheet:\n\n| Skill | Current Lines | Budget | Status | Notes |\n|-------|---------------|--------|--------|-------|\n| tech-docs | 387 | 400 | üü¢ OK | -13 lines |\n| tech-patterns | 425 | 400 | üü° WARN | +25 lines - refactor |\n| tech-advanced | 512 | 500 | üî¥ OVER | +12 lines - SPLIT |\n\n**Actions:**\n- üü¢ OK: No action needed\n- üü° WARN: Review for compression opportunities\n- üî¥ OVER: Must split or compress before next release\n\n### Line Count Check\n\n```bash\n# Quick check\nwc -l plugins/tech-mastery/skills/*/SKILL.md\n\n# Detailed report\nfor skill in plugins/tech-mastery/skills/*/SKILL.md; do\n  lines=$(wc -l < \"$skill\")\n  name=$(basename $(dirname \"$skill\"))\n  printf \"%-20s %4d lines\\n\" \"$name\" \"$lines\"\ndone | sort -k2 -nr\n```\n\n### Automated Validation\n\n```bash\n#!/bin/bash\n# check-skill-budgets.sh\n\nMAX_LINES=500\nWARN_LINES=450\n\nfor skill in plugins/*/skills/*/SKILL.md; do\n  lines=$(wc -l < \"$skill\")\n  name=$(echo \"$skill\" | sed 's|plugins/||' | sed 's|/skills/|/|' | sed 's|/SKILL.md||')\n\n  if [ \"$lines\" -gt \"$MAX_LINES\" ]; then\n    echo \"‚ùå $name: $lines lines (over budget by $((lines - MAX_LINES)))\"\n  elif [ \"$lines\" -gt \"$WARN_LINES\" ]; then\n    echo \"‚ö†Ô∏è  $name: $lines lines (approaching limit)\"\n  else\n    echo \"‚úÖ $name: $lines lines\"\n  fi\ndone\n```\n\n## Case Study: Spanner Mastery\n\n**Initial approach (failed):**\n- Single skill: 2500 lines\n- Included all docs inline\n- Context explosion, unusable\n\n**Refactored (successful):**\n```\nspanner-mastery/\n‚îú‚îÄ‚îÄ spanner-docs/      397 lines (grep patterns only)\n‚îú‚îÄ‚îÄ spanner-googlesql/ 397 lines (SQL patterns + cross-links)\n‚îú‚îÄ‚îÄ spanner-gql/       467 lines (GQL patterns + cross-links)\n‚îú‚îÄ‚îÄ spanner-emulator/  ~300 lines (emulator patterns)\n‚îú‚îÄ‚îÄ spanner-patterns/  ~350 lines (general patterns)\n‚îî‚îÄ‚îÄ spanner-node-client/ ~300 lines (client SDK patterns)\n```\n\n**Total:** ~2600 lines across 6 skills (~20k tokens)\n\n**vs monolithic:** 2500 lines in 1 skill (~30k tokens, but unusable due to poor organization)\n\n**Result:**\n- Each skill independently useful\n- Skills compose well\n- Users load only what they need\n- Documentation (420 pages scraped) accessed via grep, not loaded\n\n## Summary\n\n**Key strategies for scaling:**\n\n1. **Budget discipline:** Keep skills under 500 lines\n2. **Horizontal scaling:** Split into multiple focused skills\n3. **Vertical scaling:** Compress via grep patterns and cross-links\n4. **Progressive disclosure:** Load only what's needed\n5. **Strategic splits:** Organize by workflow, expertise, or technology area\n6. **Monitor budgets:** Track line counts, enforce limits\n7. **Reference don't duplicate:** Cross-link instead of copying\n\n**Success metrics:**\n- All skills < 500 lines individually\n- Total plugin < 3000 lines across all skills\n- Skills compose well (can load 2-3 simultaneously)\n- Users can find anything in 1-2 grep searches\n- No duplication between skills\n\n**Remember:** The goal is infinite scale through finite budgets. Good architecture enables comprehensive documentation with minimal context usage.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-builder.md": "---\nname: skill-builder\ndescription: Create Claude Code skills with proper frontmatter, bundled resources, and progressive disclosure patterns. Combines proven patterns from meta/skill-creator with complete Anthropic documentation. Use when creating new skills or refining existing ones.\n---\n\n# Skill Builder\n\nBuild Claude Code skills that extend capabilities with specialized knowledge, workflows, and tool integrations.\n\n> **Note**: This skill combines the proven workflow from `meta/skill-creator` with complete Anthropic documentation. Both skills are complementary - use whichever fits your workflow.\n\n## About Skills\n\nSkills are modular, self-contained packages that extend Claude's capabilities by providing\nspecialized knowledge, workflows, and tools. Think of them as \"onboarding guides\" for specific\ndomains or tasks‚Äîthey transform Claude from a general-purpose agent into a specialized agent\nequipped with procedural knowledge that no model can fully possess.\n\n### What Skills Provide\n\n1. Specialized workflows - Multi-step procedures for specific domains\n2. Tool integrations - Instructions for working with specific file formats or APIs\n3. Domain expertise - Company-specific knowledge, schemas, business logic\n4. Bundled resources - Scripts, references, and assets for complex and repetitive tasks\n\n## Core Principles\n\n### Concise is Key\n\nThe context window is a public good. Skills share the context window with everything else Claude needs: system prompt, conversation history, other Skills' metadata, and the actual user request.\n\n**Default assumption: Claude is already very smart.** Only add context Claude doesn't already have. Challenge each piece of information: \"Does Claude really need this explanation?\" and \"Does this paragraph justify its token cost?\"\n\nPrefer concise examples over verbose explanations.\n\n### Set Appropriate Degrees of Freedom\n\nMatch the level of specificity to the task's fragility and variability:\n\n**High freedom (text-based instructions)**: Use when multiple approaches are valid, decisions depend on context, or heuristics guide the approach.\n\n**Medium freedom (pseudocode or scripts with parameters)**: Use when a preferred pattern exists, some variation is acceptable, or configuration affects behavior.\n\n**Low freedom (specific scripts, few parameters)**: Use when operations are fragile and error-prone, consistency is critical, or a specific sequence must be followed.\n\nThink of Claude as exploring a path: a narrow bridge with cliffs needs specific guardrails (low freedom), while an open field allows many routes (high freedom).\n\n### Anatomy of a Skill\n\nEvery skill consists of a required SKILL.md file and optional bundled resources:\n\n```\nskill-name/\n‚îú‚îÄ‚îÄ SKILL.md (required)\n‚îÇ   ‚îú‚îÄ‚îÄ YAML frontmatter metadata (required)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ name: (required)\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ description: (required)\n‚îÇ   ‚îî‚îÄ‚îÄ Markdown instructions (required)\n‚îî‚îÄ‚îÄ Bundled Resources (optional)\n    ‚îú‚îÄ‚îÄ scripts/          - Executable code (Python/Bash/etc.)\n    ‚îú‚îÄ‚îÄ references/       - Documentation intended to be loaded into context as needed\n    ‚îî‚îÄ‚îÄ assets/           - Files used in output (templates, icons, fonts, etc.)\n```\n\n#### SKILL.md (required)\n\nEvery SKILL.md consists of:\n\n- **Frontmatter** (YAML): Contains `name` and `description` fields that determine when Claude uses the skill\n- **Body** (Markdown): Instructions and guidance for using the skill\n\n#### Bundled Resources (optional)\n\n##### Scripts (`scripts/`)\n\nExecutable code (Python/Bash/etc.) for tasks that require deterministic reliability or are repeatedly rewritten.\n\n- **When to include**: When the same code is being rewritten repeatedly or deterministic reliability is needed\n- **Example**: `scripts/rotate_pdf.py` for PDF rotation tasks\n- **Benefits**: Token efficient, deterministic, may be executed without loading into context\n- **Note**: Scripts may still need to be read by Claude for patching or environment-specific adjustments\n\n##### References (`references/`)\n\nDocumentation and reference material intended to be loaded as needed into context to inform Claude's process and thinking.\n\n- **When to include**: For documentation that Claude should reference while working\n- **Examples**: `references/finance.md` for financial schemas, `references/mnda.md` for company NDA template, `references/policies.md` for company policies, `references/api_docs.md` for API specifications\n- **Use cases**: Database schemas, API documentation, domain knowledge, company policies, detailed workflow guides\n- **Benefits**: Keeps SKILL.md lean, loaded only when Claude determines it's needed\n- **Best practice**: If files are large (>10k words), include grep search patterns in SKILL.md\n- **Avoid duplication**: Information should live in either SKILL.md or references files, not both. Prefer references files for detailed information unless it's truly core to the skill‚Äîthis keeps SKILL.md lean while making information discoverable without hogging the context window. Keep only essential procedural instructions and workflow guidance in SKILL.md; move detailed reference material, schemas, and examples to references files.\n\n##### Assets (`assets/`)\n\nFiles not intended to be loaded into context, but rather used within the output Claude produces.\n\n- **When to include**: When the skill needs files that will be used in the final output\n- **Examples**: `assets/logo.png` for brand assets, `assets/slides.pptx` for PowerPoint templates, `assets/frontend-template/` for HTML/React boilerplate, `assets/font.ttf` for typography\n- **Use cases**: Templates, images, icons, boilerplate code, fonts, sample documents that get copied or modified\n- **Benefits**: Separates output resources from documentation, enables Claude to use files without loading them into context\n\n#### What to Not Include in a Skill\n\nA skill should only contain essential files that directly support its functionality. Do NOT create extraneous documentation or auxiliary files, including:\n\n- README.md\n- INSTALLATION_GUIDE.md\n- QUICK_REFERENCE.md\n- CHANGELOG.md\n- etc.\n\nThe skill should only contain the information needed for an AI agent to do the job at hand. It should not contain auxilary context about the process that went into creating it, setup and testing procedures, user-facing documentation, etc. Creating additional documentation files just adds clutter and confusion.\n\n### Progressive Disclosure Design Principle\n\nSkills use a three-level loading system to manage context efficiently:\n\n1. **Metadata (name + description)** - Always in context (~100 words)\n2. **SKILL.md body** - When skill triggers (<5k words)\n3. **Bundled resources** - As needed by Claude (Unlimited because scripts can be executed without reading into context window)\n\n#### Progressive Disclosure Patterns\n\nKeep SKILL.md body to the essentials and under 500 lines to minimize context bloat. Split content into separate files when approaching this limit. When splitting out content into other files, it is very important to reference them from SKILL.md and describe clearly when to read them, to ensure the reader of the skill knows they exist and when to use them.\n\n**Key principle:** When a skill supports multiple variations, frameworks, or options, keep only the core workflow and selection guidance in SKILL.md. Move variant-specific details (patterns, examples, configuration) into separate reference files.\n\n**Pattern 1: High-level guide with references**\n\n```markdown\n# PDF Processing\n\n## Quick start\n\nExtract text with pdfplumber:\n[code example]\n\n## Advanced features\n\n- **Form filling**: See [FORMS.md](FORMS.md) for complete guide\n- **API reference**: See [REFERENCE.md](REFERENCE.md) for all methods\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for common patterns\n```\n\nClaude loads FORMS.md, REFERENCE.md, or EXAMPLES.md only when needed.\n\n**Pattern 2: Domain-specific organization**\n\nFor Skills with multiple domains, organize content by domain to avoid loading irrelevant context:\n\n```\nbigquery-skill/\n‚îú‚îÄ‚îÄ SKILL.md (overview and navigation)\n‚îî‚îÄ‚îÄ reference/\n    ‚îú‚îÄ‚îÄ finance.md (revenue, billing metrics)\n    ‚îú‚îÄ‚îÄ sales.md (opportunities, pipeline)\n    ‚îú‚îÄ‚îÄ product.md (API usage, features)\n    ‚îî‚îÄ‚îÄ marketing.md (campaigns, attribution)\n```\n\nWhen a user asks about sales metrics, Claude only reads sales.md.\n\nSimilarly, for skills supporting multiple frameworks or variants, organize by variant:\n\n```\ncloud-deploy/\n‚îú‚îÄ‚îÄ SKILL.md (workflow + provider selection)\n‚îî‚îÄ‚îÄ references/\n    ‚îú‚îÄ‚îÄ aws.md (AWS deployment patterns)\n    ‚îú‚îÄ‚îÄ gcp.md (GCP deployment patterns)\n    ‚îî‚îÄ‚îÄ azure.md (Azure deployment patterns)\n```\n\nWhen the user chooses AWS, Claude only reads aws.md.\n\n**Pattern 3: Conditional details**\n\nShow basic content, link to advanced content:\n\n```markdown\n# DOCX Processing\n\n## Creating documents\n\nUse docx-js for new documents. See [DOCX-JS.md](DOCX-JS.md).\n\n## Editing documents\n\nFor simple edits, modify the XML directly.\n\n**For tracked changes**: See [REDLINING.md](REDLINING.md)\n**For OOXML details**: See [OOXML.md](OOXML.md)\n```\n\nClaude reads REDLINING.md or OOXML.md only when the user needs those features.\n\n**Important guidelines:**\n\n- **Avoid deeply nested references** - Keep references one level deep from SKILL.md. All reference files should link directly from SKILL.md.\n- **Structure longer reference files** - For files longer than 100 lines, include a table of contents at the top so Claude can see the full scope when previewing.\n\n## Skill Creation Process\n\nSkill creation involves these steps:\n\n1. Understand the skill with concrete examples\n2. Plan reusable skill contents (scripts, references, assets)\n3. Initialize the skill (run init_skill.py)\n4. Edit the skill (implement resources and write SKILL.md)\n5. Package the skill (run package_skill.py)\n6. Iterate based on real usage\n\nFollow these steps in order, skipping only if there is a clear reason why they are not applicable.\n\n### Step 1: Understanding the Skill with Concrete Examples\n\nSkip this step only when the skill's usage patterns are already clearly understood. It remains valuable even when working with an existing skill.\n\nTo create an effective skill, clearly understand concrete examples of how the skill will be used. This understanding can come from either direct user examples or generated examples that are validated with user feedback.\n\nFor example, when building an image-editor skill, relevant questions include:\n\n- \"What functionality should the image-editor skill support? Editing, rotating, anything else?\"\n- \"Can you give some examples of how this skill would be used?\"\n- \"I can imagine users asking for things like 'Remove the red-eye from this image' or 'Rotate this image'. Are there other ways you imagine this skill being used?\"\n- \"What would a user say that should trigger this skill?\"\n\nTo avoid overwhelming users, avoid asking too many questions in a single message. Start with the most important questions and follow up as needed for better effectiveness.\n\nConclude this step when there is a clear sense of the functionality the skill should support.\n\n### Step 2: Planning the Reusable Skill Contents\n\nTo turn concrete examples into an effective skill, analyze each example by:\n\n1. Considering how to execute on the example from scratch\n2. Identifying what scripts, references, and assets would be helpful when executing these workflows repeatedly\n\nExample: When building a `pdf-editor` skill to handle queries like \"Help me rotate this PDF,\" the analysis shows:\n\n1. Rotating a PDF requires re-writing the same code each time\n2. A `scripts/rotate_pdf.py` script would be helpful to store in the skill\n\nExample: When designing a `frontend-webapp-builder` skill for queries like \"Build me a todo app\" or \"Build me a dashboard to track my steps,\" the analysis shows:\n\n1. Writing a frontend webapp requires the same boilerplate HTML/React each time\n2. An `assets/hello-world/` template containing the boilerplate HTML/React project files would be helpful to store in the skill\n\nExample: When building a `big-query` skill to handle queries like \"How many users have logged in today?\" the analysis shows:\n\n1. Querying BigQuery requires re-discovering the table schemas and relationships each time\n2. A `references/schema.md` file documenting the table schemas would be helpful to store in the skill\n\nTo establish the skill's contents, analyze each concrete example to create a list of the reusable resources to include: scripts, references, and assets.\n\n### Step 3: Initializing the Skill\n\nAt this point, it is time to actually create the skill.\n\nSkip this step only if the skill being developed already exists, and iteration or packaging is needed. In this case, continue to the next step.\n\nWhen creating a new skill from scratch, always run the `init_skill.py` script. The script conveniently generates a new template skill directory that automatically includes everything a skill requires, making the skill creation process much more efficient and reliable.\n\nUsage:\n\n```bash\nscripts/init_skill.py <skill-name> --path <output-directory>\n```\n\nThe script:\n\n- Creates the skill directory at the specified path\n- Generates a SKILL.md template with proper frontmatter and TODO placeholders\n- Creates example resource directories: `scripts/`, `references/`, and `assets/`\n- Adds example files in each directory that can be customized or deleted\n\nAfter initialization, customize or remove the generated SKILL.md and example files as needed.\n\n### Step 4: Edit the Skill\n\nWhen editing the (newly-generated or existing) skill, remember that the skill is being created for another instance of Claude to use. Include information that would be beneficial and non-obvious to Claude. Consider what procedural knowledge, domain-specific details, or reusable assets would help another Claude instance execute these tasks more effectively.\n\n#### Learn Proven Design Patterns\n\nConsult these helpful guides based on your skill's needs:\n\n- **Multi-step processes**: See references/workflows.md for sequential workflows and conditional logic\n- **Specific output formats or quality standards**: See references/output-patterns.md for template and example patterns\n\nThese files contain established best practices for effective skill design.\n\n#### Start with Reusable Skill Contents\n\nTo begin implementation, start with the reusable resources identified above: `scripts/`, `references/`, and `assets/` files. Note that this step may require user input. For example, when implementing a `brand-guidelines` skill, the user may need to provide brand assets or templates to store in `assets/`, or documentation to store in `references/`.\n\nAdded scripts must be tested by actually running them to ensure there are no bugs and that the output matches what is expected. If there are many similar scripts, only a representative sample needs to be tested to ensure confidence that they all work while balancing time to completion.\n\nAny example files and directories not needed for the skill should be deleted. The initialization script creates example files in `scripts/`, `references/`, and `assets/` to demonstrate structure, but most skills won't need all of them.\n\n#### Update SKILL.md\n\n**Writing Guidelines:** Always use imperative/infinitive form.\n\n##### Frontmatter\n\nWrite the YAML frontmatter with `name` and `description`:\n\n- **`name`**: The skill name\n- **`description`**: Be specific about what the skill does and when to use it\n  - **Be specific and include key terms** - Include both what the Skill does and specific triggers/contexts for when to use it\n  - **Provide enough detail for selection** - Claude uses this to choose from 100+ Skills, so be comprehensive, concise, and direct\n\nDo not include any other fields in YAML frontmatter.\n\n##### Body\n\nWrite instructions for using the skill and its bundled resources.\n\n### Step 5: Packaging a Skill\n\nOnce development of the skill is complete, it must be packaged into a distributable .skill file that gets shared with the user. The packaging process automatically validates the skill first to ensure it meets all requirements:\n\n```bash\nscripts/package_skill.py <path/to/skill-folder>\n```\n\nOptional output directory specification:\n\n```bash\nscripts/package_skill.py <path/to/skill-folder> ./dist\n```\n\nThe packaging script will:\n\n1. **Validate** the skill automatically, checking:\n\n   - YAML frontmatter format and required fields\n   - Skill naming conventions and directory structure\n   - Description completeness and quality\n   - File organization and resource references\n\n2. **Package** the skill if validation passes, creating a .skill file named after the skill (e.g., `my-skill.skill`) that includes all files and maintains the proper directory structure for distribution. The .skill file is a zip file with a .skill extension.\n\nIf validation fails, the script will report the errors and exit without creating a package. Fix any validation errors and run the packaging command again.\n\n### Step 6: Iterate\n\nAfter testing the skill, users may request improvements. Often this happens right after using the skill, with fresh context of how the skill performed.\n\n**Iteration workflow:**\n\n1. Use the skill on real tasks\n2. Notice struggles or inefficiencies\n3. Identify how SKILL.md or bundled resources should be updated\n4. Implement changes and test again\n\n## Official Documentation\n\nFor the complete, up-to-date skill specification, use the `claude-code-docs-reference` skill or the `claude-code-guide` agent to look up official Anthropic documentation on skills.\n\n## Improving This Skill\n\nNotice gaps, unclear instructions, or better patterns while using this skill?\n\nUse the `continuous-improvement` skill to propose enhancements:\n1. Detect the issue\n2. Propose specific changes\n3. Git branch ‚Üí commit ‚Üí surface for approval\n4. Update changelog\n\nThis skill should evolve with every use.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/README.md": "# Skill Examples\n\nThis folder contains exported skill references that demonstrate published layouts, metadata, and supporting media for Claude Code skills.\n\nFiles and directories:\n\n- `examples/` ‚Äì Copied skill exports (SKILL.md, references, assets) that illustrate how to structure multi-section skills, workflows, and references.\n- `public/` ‚Äì Sample public artifacts (presentations, docs) that Claude Code skills can reference or generate for high-fidelity outputs.\n\nUse these assets for inspiration when authoring new skills or validating the structure of existing ones. They're intentionally bundled with the Claude Code meta plugin so the builders can point to concrete models without leaving this repository.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/algorithmic-art/SKILL.md": "---\r\nname: algorithmic-art\r\ndescription: Creating algorithmic art using p5.js with seeded randomness and interactive parameter exploration. Use this when users request creating art using code, generative art, algorithmic art, flow fields, or particle systems. Create original algorithmic art rather than copying existing artists' work to avoid copyright violations.\r\nlicense: Complete terms in LICENSE.txt\r\n---\r\n\r\nAlgorithmic philosophies are computational aesthetic movements that are then expressed through code. Output .md files (philosophy), .html files (interactive viewer), and .js files (generative algorithms).\r\n\r\nThis happens in two steps:\r\n1. Algorithmic Philosophy Creation (.md file)\r\n2. Express by creating p5.js generative art (.html + .js files)\r\n\r\nFirst, undertake this task:\r\n\r\n## ALGORITHMIC PHILOSOPHY CREATION\r\n\r\nTo begin, create an ALGORITHMIC PHILOSOPHY (not static images or templates) that will be interpreted through:\r\n- Computational processes, emergent behavior, mathematical beauty\r\n- Seeded randomness, noise fields, organic systems\r\n- Particles, flows, fields, forces\r\n- Parametric variation and controlled chaos\r\n\r\n### THE CRITICAL UNDERSTANDING\r\n- What is received: Some subtle input or instructions by the user to take into account, but use as a foundation; it should not constrain creative freedom.\r\n- What is created: An algorithmic philosophy/generative aesthetic movement.\r\n- What happens next: The same version receives the philosophy and EXPRESSES IT IN CODE - creating p5.js sketches that are 90% algorithmic generation, 10% essential parameters.\r\n\r\nConsider this approach:\r\n- Write a manifesto for a generative art movement\r\n- The next phase involves writing the algorithm that brings it to life\r\n\r\nThe philosophy must emphasize: Algorithmic expression. Emergent behavior. Computational beauty. Seeded variation.\r\n\r\n### HOW TO GENERATE AN ALGORITHMIC PHILOSOPHY\r\n\r\n**Name the movement** (1-2 words): \"Organic Turbulence\" / \"Quantum Harmonics\" / \"Emergent Stillness\"\r\n\r\n**Articulate the philosophy** (4-6 paragraphs - concise but complete):\r\n\r\nTo capture the ALGORITHMIC essence, express how this philosophy manifests through:\r\n- Computational processes and mathematical relationships?\r\n- Noise functions and randomness patterns?\r\n- Particle behaviors and field dynamics?\r\n- Temporal evolution and system states?\r\n- Parametric variation and emergent complexity?\r\n\r\n**CRITICAL GUIDELINES:**\r\n- **Avoid redundancy**: Each algorithmic aspect should be mentioned once. Avoid repeating concepts about noise theory, particle dynamics, or mathematical principles unless adding new depth.\r\n- **Emphasize craftsmanship REPEATEDLY**: The philosophy MUST stress multiple times that the final algorithm should appear as though it took countless hours to develop, was refined with care, and comes from someone at the absolute top of their field. This framing is essential - repeat phrases like \"meticulously crafted algorithm,\" \"the product of deep computational expertise,\" \"painstaking optimization,\" \"master-level implementation.\"\r\n- **Leave creative space**: Be specific about the algorithmic direction, but concise enough that the next Claude has room to make interpretive implementation choices at an extremely high level of craftsmanship.\r\n\r\nThe philosophy must guide the next version to express ideas ALGORITHMICALLY, not through static images. Beauty lives in the process, not the final frame.\r\n\r\n### PHILOSOPHY EXAMPLES\r\n\r\n**\"Organic Turbulence\"**\r\nPhilosophy: Chaos constrained by natural law, order emerging from disorder.\r\nAlgorithmic expression: Flow fields driven by layered Perlin noise. Thousands of particles following vector forces, their trails accumulating into organic density maps. Multiple noise octaves create turbulent regions and calm zones. Color emerges from velocity and density - fast particles burn bright, slow ones fade to shadow. The algorithm runs until equilibrium - a meticulously tuned balance where every parameter was refined through countless iterations by a master of computational aesthetics.\r\n\r\n**\"Quantum Harmonics\"**\r\nPhilosophy: Discrete entities exhibiting wave-like interference patterns.\r\nAlgorithmic expression: Particles initialized on a grid, each carrying a phase value that evolves through sine waves. When particles are near, their phases interfere - constructive interference creates bright nodes, destructive creates voids. Simple harmonic motion generates complex emergent mandalas. The result of painstaking frequency calibration where every ratio was carefully chosen to produce resonant beauty.\r\n\r\n**\"Recursive Whispers\"**\r\nPhilosophy: Self-similarity across scales, infinite depth in finite space.\r\nAlgorithmic expression: Branching structures that subdivide recursively. Each branch slightly randomized but constrained by golden ratios. L-systems or recursive subdivision generate tree-like forms that feel both mathematical and organic. Subtle noise perturbations break perfect symmetry. Line weights diminish with each recursion level. Every branching angle the product of deep mathematical exploration.\r\n\r\n**\"Field Dynamics\"**\r\nPhilosophy: Invisible forces made visible through their effects on matter.\r\nAlgorithmic expression: Vector fields constructed from mathematical functions or noise. Particles born at edges, flowing along field lines, dying when they reach equilibrium or boundaries. Multiple fields can attract, repel, or rotate particles. The visualization shows only the traces - ghost-like evidence of invisible forces. A computational dance meticulously choreographed through force balance.\r\n\r\n**\"Stochastic Crystallization\"**\r\nPhilosophy: Random processes crystallizing into ordered structures.\r\nAlgorithmic expression: Randomized circle packing or Voronoi tessellation. Start with random points, let them evolve through relaxation algorithms. Cells push apart until equilibrium. Color based on cell size, neighbor count, or distance from center. The organic tiling that emerges feels both random and inevitable. Every seed produces unique crystalline beauty - the mark of a master-level generative algorithm.\r\n\r\n*These are condensed examples. The actual algorithmic philosophy should be 4-6 substantial paragraphs.*\r\n\r\n### ESSENTIAL PRINCIPLES\r\n- **ALGORITHMIC PHILOSOPHY**: Creating a computational worldview to be expressed through code\r\n- **PROCESS OVER PRODUCT**: Always emphasize that beauty emerges from the algorithm's execution - each run is unique\r\n- **PARAMETRIC EXPRESSION**: Ideas communicate through mathematical relationships, forces, behaviors - not static composition\r\n- **ARTISTIC FREEDOM**: The next Claude interprets the philosophy algorithmically - provide creative implementation room\r\n- **PURE GENERATIVE ART**: This is about making LIVING ALGORITHMS, not static images with randomness\r\n- **EXPERT CRAFTSMANSHIP**: Repeatedly emphasize the final algorithm must feel meticulously crafted, refined through countless iterations, the product of deep expertise by someone at the absolute top of their field in computational aesthetics\r\n\r\n**The algorithmic philosophy should be 4-6 paragraphs long.** Fill it with poetic computational philosophy that brings together the intended vision. Avoid repeating the same points. Output this algorithmic philosophy as a .md file.\r\n\r\n---\r\n\r\n## DEDUCING THE CONCEPTUAL SEED\r\n\r\n**CRITICAL STEP**: Before implementing the algorithm, identify the subtle conceptual thread from the original request.\r\n\r\n**THE ESSENTIAL PRINCIPLE**:\r\nThe concept is a **subtle, niche reference embedded within the algorithm itself** - not always literal, always sophisticated. Someone familiar with the subject should feel it intuitively, while others simply experience a masterful generative composition. The algorithmic philosophy provides the computational language. The deduced concept provides the soul - the quiet conceptual DNA woven invisibly into parameters, behaviors, and emergence patterns.\r\n\r\nThis is **VERY IMPORTANT**: The reference must be so refined that it enhances the work's depth without announcing itself. Think like a jazz musician quoting another song through algorithmic harmony - only those who know will catch it, but everyone appreciates the generative beauty.\r\n\r\n---\r\n\r\n## P5.JS IMPLEMENTATION\r\n\r\nWith the philosophy AND conceptual framework established, express it through code. Pause to gather thoughts before proceeding. Use only the algorithmic philosophy created and the instructions below.\r\n\r\n### ‚ö†Ô∏è STEP 0: READ THE TEMPLATE FIRST ‚ö†Ô∏è\r\n\r\n**CRITICAL: BEFORE writing any HTML:**\r\n\r\n1. **Read** `templates/viewer.html` using the Read tool\r\n2. **Study** the exact structure, styling, and Anthropic branding\r\n3. **Use that file as the LITERAL STARTING POINT** - not just inspiration\r\n4. **Keep all FIXED sections exactly as shown** (header, sidebar structure, Anthropic colors/fonts, seed controls, action buttons)\r\n5. **Replace only the VARIABLE sections** marked in the file's comments (algorithm, parameters, UI controls for parameters)\r\n\r\n**Avoid:**\r\n- ‚ùå Creating HTML from scratch\r\n- ‚ùå Inventing custom styling or color schemes\r\n- ‚ùå Using system fonts or dark themes\r\n- ‚ùå Changing the sidebar structure\r\n\r\n**Follow these practices:**\r\n- ‚úÖ Copy the template's exact HTML structure\r\n- ‚úÖ Keep Anthropic branding (Poppins/Lora fonts, light colors, gradient backdrop)\r\n- ‚úÖ Maintain the sidebar layout (Seed ‚Üí Parameters ‚Üí Colors? ‚Üí Actions)\r\n- ‚úÖ Replace only the p5.js algorithm and parameter controls\r\n\r\nThe template is the foundation. Build on it, don't rebuild it.\r\n\r\n---\r\n\r\nTo create gallery-quality computational art that lives and breathes, use the algorithmic philosophy as the foundation.\r\n\r\n### TECHNICAL REQUIREMENTS\r\n\r\n**Seeded Randomness (Art Blocks Pattern)**:\r\n```javascript\r\n// ALWAYS use a seed for reproducibility\r\nlet seed = 12345; // or hash from user input\r\nrandomSeed(seed);\r\nnoiseSeed(seed);\r\n```\r\n\r\n**Parameter Structure - FOLLOW THE PHILOSOPHY**:\r\n\r\nTo establish parameters that emerge naturally from the algorithmic philosophy, consider: \"What qualities of this system can be adjusted?\"\r\n\r\n```javascript\r\nlet params = {\r\n  seed: 12345,  // Always include seed for reproducibility\r\n  // colors\r\n  // Add parameters that control YOUR algorithm:\r\n  // - Quantities (how many?)\r\n  // - Scales (how big? how fast?)\r\n  // - Probabilities (how likely?)\r\n  // - Ratios (what proportions?)\r\n  // - Angles (what direction?)\r\n  // - Thresholds (when does behavior change?)\r\n};\r\n```\r\n\r\n**To design effective parameters, focus on the properties the system needs to be tunable rather than thinking in terms of \"pattern types\".**\r\n\r\n**Core Algorithm - EXPRESS THE PHILOSOPHY**:\r\n\r\n**CRITICAL**: The algorithmic philosophy should dictate what to build.\r\n\r\nTo express the philosophy through code, avoid thinking \"which pattern should I use?\" and instead think \"how to express this philosophy through code?\"\r\n\r\nIf the philosophy is about **organic emergence**, consider using:\r\n- Elements that accumulate or grow over time\r\n- Random processes constrained by natural rules\r\n- Feedback loops and interactions\r\n\r\nIf the philosophy is about **mathematical beauty**, consider using:\r\n- Geometric relationships and ratios\r\n- Trigonometric functions and harmonics\r\n- Precise calculations creating unexpected patterns\r\n\r\nIf the philosophy is about **controlled chaos**, consider using:\r\n- Random variation within strict boundaries\r\n- Bifurcation and phase transitions\r\n- Order emerging from disorder\r\n\r\n**The algorithm flows from the philosophy, not from a menu of options.**\r\n\r\nTo guide the implementation, let the conceptual essence inform creative and original choices. Build something that expresses the vision for this particular request.\r\n\r\n**Canvas Setup**: Standard p5.js structure:\r\n```javascript\r\nfunction setup() {\r\n  createCanvas(1200, 1200);\r\n  // Initialize your system\r\n}\r\n\r\nfunction draw() {\r\n  // Your generative algorithm\r\n  // Can be static (noLoop) or animated\r\n}\r\n```\r\n\r\n### CRAFTSMANSHIP REQUIREMENTS\r\n\r\n**CRITICAL**: To achieve mastery, create algorithms that feel like they emerged through countless iterations by a master generative artist. Tune every parameter carefully. Ensure every pattern emerges with purpose. This is NOT random noise - this is CONTROLLED CHAOS refined through deep expertise.\r\n\r\n- **Balance**: Complexity without visual noise, order without rigidity\r\n- **Color Harmony**: Thoughtful palettes, not random RGB values\r\n- **Composition**: Even in randomness, maintain visual hierarchy and flow\r\n- **Performance**: Smooth execution, optimized for real-time if animated\r\n- **Reproducibility**: Same seed ALWAYS produces identical output\r\n\r\n### OUTPUT FORMAT\r\n\r\nOutput:\r\n1. **Algorithmic Philosophy** - As markdown or text explaining the generative aesthetic\r\n2. **Single HTML Artifact** - Self-contained interactive generative art built from `templates/viewer.html` (see STEP 0 and next section)\r\n\r\nThe HTML artifact contains everything: p5.js (from CDN), the algorithm, parameter controls, and UI - all in one file that works immediately in claude.ai artifacts or any browser. Start from the template file, not from scratch.\r\n\r\n---\r\n\r\n## INTERACTIVE ARTIFACT CREATION\r\n\r\n**REMINDER: `templates/viewer.html` should have already been read (see STEP 0). Use that file as the starting point.**\r\n\r\nTo allow exploration of the generative art, create a single, self-contained HTML artifact. Ensure this artifact works immediately in claude.ai or any browser - no setup required. Embed everything inline.\r\n\r\n### CRITICAL: WHAT'S FIXED VS VARIABLE\r\n\r\nThe `templates/viewer.html` file is the foundation. It contains the exact structure and styling needed.\r\n\r\n**FIXED (always include exactly as shown):**\r\n- Layout structure (header, sidebar, main canvas area)\r\n- Anthropic branding (UI colors, fonts, gradients)\r\n- Seed section in sidebar:\r\n  - Seed display\r\n  - Previous/Next buttons\r\n  - Random button\r\n  - Jump to seed input + Go button\r\n- Actions section in sidebar:\r\n  - Regenerate button\r\n  - Reset button\r\n\r\n**VARIABLE (customize for each artwork):**\r\n- The entire p5.js algorithm (setup/draw/classes)\r\n- The parameters object (define what the art needs)\r\n- The Parameters section in sidebar:\r\n  - Number of parameter controls\r\n  - Parameter names\r\n  - Min/max/step values for sliders\r\n  - Control types (sliders, inputs, etc.)\r\n- Colors section (optional):\r\n  - Some art needs color pickers\r\n  - Some art might use fixed colors\r\n  - Some art might be monochrome (no color controls needed)\r\n  - Decide based on the art's needs\r\n\r\n**Every artwork should have unique parameters and algorithm!** The fixed parts provide consistent UX - everything else expresses the unique vision.\r\n\r\n### REQUIRED FEATURES\r\n\r\n**1. Parameter Controls**\r\n- Sliders for numeric parameters (particle count, noise scale, speed, etc.)\r\n- Color pickers for palette colors\r\n- Real-time updates when parameters change\r\n- Reset button to restore defaults\r\n\r\n**2. Seed Navigation**\r\n- Display current seed number\r\n- \"Previous\" and \"Next\" buttons to cycle through seeds\r\n- \"Random\" button for random seed\r\n- Input field to jump to specific seed\r\n- Generate 100 variations when requested (seeds 1-100)\r\n\r\n**3. Single Artifact Structure**\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <!-- p5.js from CDN - always available -->\r\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js\"></script>\r\n  <style>\r\n    /* All styling inline - clean, minimal */\r\n    /* Canvas on top, controls below */\r\n  </style>\r\n</head>\r\n<body>\r\n  <div id=\"canvas-container\"></div>\r\n  <div id=\"controls\">\r\n    <!-- All parameter controls -->\r\n  </div>\r\n  <script>\r\n    // ALL p5.js code inline here\r\n    // Parameter objects, classes, functions\r\n    // setup() and draw()\r\n    // UI handlers\r\n    // Everything self-contained\r\n  </script>\r\n</body>\r\n</html>\r\n```\r\n\r\n**CRITICAL**: This is a single artifact. No external files, no imports (except p5.js CDN). Everything inline.\r\n\r\n**4. Implementation Details - BUILD THE SIDEBAR**\r\n\r\nThe sidebar structure:\r\n\r\n**1. Seed (FIXED)** - Always include exactly as shown:\r\n- Seed display\r\n- Prev/Next/Random/Jump buttons\r\n\r\n**2. Parameters (VARIABLE)** - Create controls for the art:\r\n```html\r\n<div class=\"control-group\">\r\n    <label>Parameter Name</label>\r\n    <input type=\"range\" id=\"param\" min=\"...\" max=\"...\" step=\"...\" value=\"...\" oninput=\"updateParam('param', this.value)\">\r\n    <span class=\"value-display\" id=\"param-value\">...</span>\r\n</div>\r\n```\r\nAdd as many control-group divs as there are parameters.\r\n\r\n**3. Colors (OPTIONAL/VARIABLE)** - Include if the art needs adjustable colors:\r\n- Add color pickers if users should control palette\r\n- Skip this section if the art uses fixed colors\r\n- Skip if the art is monochrome\r\n\r\n**4. Actions (FIXED)** - Always include exactly as shown:\r\n- Regenerate button\r\n- Reset button\r\n- Download PNG button\r\n\r\n**Requirements**:\r\n- Seed controls must work (prev/next/random/jump/display)\r\n- All parameters must have UI controls\r\n- Regenerate, Reset, Download buttons must work\r\n- Keep Anthropic branding (UI styling, not art colors)\r\n\r\n### USING THE ARTIFACT\r\n\r\nThe HTML artifact works immediately:\r\n1. **In claude.ai**: Displayed as an interactive artifact - runs instantly\r\n2. **As a file**: Save and open in any browser - no server needed\r\n3. **Sharing**: Send the HTML file - it's completely self-contained\r\n\r\n---\r\n\r\n## VARIATIONS & EXPLORATION\r\n\r\nThe artifact includes seed navigation by default (prev/next/random buttons), allowing users to explore variations without creating multiple files. If the user wants specific variations highlighted:\r\n\r\n- Include seed presets (buttons for \"Variation 1: Seed 42\", \"Variation 2: Seed 127\", etc.)\r\n- Add a \"Gallery Mode\" that shows thumbnails of multiple seeds side-by-side\r\n- All within the same single artifact\r\n\r\nThis is like creating a series of prints from the same plate - the algorithm is consistent, but each seed reveals different facets of its potential. The interactive nature means users discover their own favorites by exploring the seed space.\r\n\r\n---\r\n\r\n## THE CREATIVE PROCESS\r\n\r\n**User request** ‚Üí **Algorithmic philosophy** ‚Üí **Implementation**\r\n\r\nEach request is unique. The process involves:\r\n\r\n1. **Interpret the user's intent** - What aesthetic is being sought?\r\n2. **Create an algorithmic philosophy** (4-6 paragraphs) describing the computational approach\r\n3. **Implement it in code** - Build the algorithm that expresses this philosophy\r\n4. **Design appropriate parameters** - What should be tunable?\r\n5. **Build matching UI controls** - Sliders/inputs for those parameters\r\n\r\n**The constants**:\r\n- Anthropic branding (colors, fonts, layout)\r\n- Seed navigation (always present)\r\n- Self-contained HTML artifact\r\n\r\n**Everything else is variable**:\r\n- The algorithm itself\r\n- The parameters\r\n- The UI controls\r\n- The visual outcome\r\n\r\nTo achieve the best results, trust creativity and let the philosophy guide the implementation.\r\n\r\n---\r\n\r\n## RESOURCES\r\n\r\nThis skill includes helpful templates and documentation:\r\n\r\n- **templates/viewer.html**: REQUIRED STARTING POINT for all HTML artifacts.\r\n  - This is the foundation - contains the exact structure and Anthropic branding\r\n  - **Keep unchanged**: Layout structure, sidebar organization, Anthropic colors/fonts, seed controls, action buttons\r\n  - **Replace**: The p5.js algorithm, parameter definitions, and UI controls in Parameters section\r\n  - The extensive comments in the file mark exactly what to keep vs replace\r\n\r\n- **templates/generator_template.js**: Reference for p5.js best practices and code structure principles.\r\n  - Shows how to organize parameters, use seeded randomness, structure classes\r\n  - NOT a pattern menu - use these principles to build unique algorithms\r\n  - Embed algorithms inline in the HTML artifact (don't create separate .js files)\r\n\r\n**Critical reminder**:\r\n- The **template is the STARTING POINT**, not inspiration\r\n- The **algorithm is where to create** something unique\r\n- Don't copy the flow field example - build what the philosophy demands\r\n- But DO keep the exact UI structure and Anthropic branding from the template",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/brand-guidelines/SKILL.md": "---\nname: brand-guidelines\ndescription: Applies Anthropic's official brand colors and typography to any sort of artifact that may benefit from having Anthropic's look-and-feel. Use it when brand colors or style guidelines, visual formatting, or company design standards apply.\nlicense: Complete terms in LICENSE.txt\n---\n\n# Anthropic Brand Styling\n\n## Overview\n\nTo access Anthropic's official brand identity and style resources, use this skill.\n\n**Keywords**: branding, corporate identity, visual identity, post-processing, styling, brand colors, typography, Anthropic brand, visual formatting, visual design\n\n## Brand Guidelines\n\n### Colors\n\n**Main Colors:**\n\n- Dark: `#141413` - Primary text and dark backgrounds\n- Light: `#faf9f5` - Light backgrounds and text on dark\n- Mid Gray: `#b0aea5` - Secondary elements\n- Light Gray: `#e8e6dc` - Subtle backgrounds\n\n**Accent Colors:**\n\n- Orange: `#d97757` - Primary accent\n- Blue: `#6a9bcc` - Secondary accent\n- Green: `#788c5d` - Tertiary accent\n\n### Typography\n\n- **Headings**: Poppins (with Arial fallback)\n- **Body Text**: Lora (with Georgia fallback)\n- **Note**: Fonts should be pre-installed in your environment for best results\n\n## Features\n\n### Smart Font Application\n\n- Applies Poppins font to headings (24pt and larger)\n- Applies Lora font to body text\n- Automatically falls back to Arial/Georgia if custom fonts unavailable\n- Preserves readability across all systems\n\n### Text Styling\n\n- Headings (24pt+): Poppins font\n- Body text: Lora font\n- Smart color selection based on background\n- Preserves text hierarchy and formatting\n\n### Shape and Accent Colors\n\n- Non-text shapes use accent colors\n- Cycles through orange, blue, and green accents\n- Maintains visual interest while staying on-brand\n\n## Technical Details\n\n### Font Management\n\n- Uses system-installed Poppins and Lora fonts when available\n- Provides automatic fallback to Arial (headings) and Georgia (body)\n- No font installation required - works with existing system fonts\n- For best results, pre-install Poppins and Lora fonts in your environment\n\n### Color Application\n\n- Uses RGB color values for precise brand matching\n- Applied via python-pptx's RGBColor class\n- Maintains color fidelity across different systems\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/canvas-design/SKILL.md": "---\r\nname: canvas-design\r\ndescription: Create beautiful visual art in .png and .pdf documents using design philosophy. You should use this skill when the user asks to create a poster, piece of art, design, or other static piece. Create original visual designs, never copying existing artists' work to avoid copyright violations.\r\nlicense: Complete terms in LICENSE.txt\r\n---\r\n\r\nThese are instructions for creating design philosophies - aesthetic movements that are then EXPRESSED VISUALLY. Output only .md files, .pdf files, and .png files.\r\n\r\nComplete this in two steps:\r\n1. Design Philosophy Creation (.md file)\r\n2. Express by creating it on a canvas (.pdf file or .png file)\r\n\r\nFirst, undertake this task:\r\n\r\n## DESIGN PHILOSOPHY CREATION\r\n\r\nTo begin, create a VISUAL PHILOSOPHY (not layouts or templates) that will be interpreted through:\r\n- Form, space, color, composition\r\n- Images, graphics, shapes, patterns\r\n- Minimal text as visual accent\r\n\r\n### THE CRITICAL UNDERSTANDING\r\n- What is received: Some subtle input or instructions by the user that should be taken into account, but used as a foundation; it should not constrain creative freedom.\r\n- What is created: A design philosophy/aesthetic movement.\r\n- What happens next: Then, the same version receives the philosophy and EXPRESSES IT VISUALLY - creating artifacts that are 90% visual design, 10% essential text.\r\n\r\nConsider this approach:\r\n- Write a manifesto for an art movement\r\n- The next phase involves making the artwork\r\n\r\nThe philosophy must emphasize: Visual expression. Spatial communication. Artistic interpretation. Minimal words.\r\n\r\n### HOW TO GENERATE A VISUAL PHILOSOPHY\r\n\r\n**Name the movement** (1-2 words): \"Brutalist Joy\" / \"Chromatic Silence\" / \"Metabolist Dreams\"\r\n\r\n**Articulate the philosophy** (4-6 paragraphs - concise but complete):\r\n\r\nTo capture the VISUAL essence, express how the philosophy manifests through:\r\n- Space and form\r\n- Color and material\r\n- Scale and rhythm\r\n- Composition and balance\r\n- Visual hierarchy\r\n\r\n**CRITICAL GUIDELINES:**\r\n- **Avoid redundancy**: Each design aspect should be mentioned once. Avoid repeating points about color theory, spatial relationships, or typographic principles unless adding new depth.\r\n- **Emphasize craftsmanship REPEATEDLY**: The philosophy MUST stress multiple times that the final work should appear as though it took countless hours to create, was labored over with care, and comes from someone at the absolute top of their field. This framing is essential - repeat phrases like \"meticulously crafted,\" \"the product of deep expertise,\" \"painstaking attention,\" \"master-level execution.\"\r\n- **Leave creative space**: Remain specific about the aesthetic direction, but concise enough that the next Claude has room to make interpretive choices also at a extremely high level of craftmanship.\r\n\r\nThe philosophy must guide the next version to express ideas VISUALLY, not through text. Information lives in design, not paragraphs.\r\n\r\n### PHILOSOPHY EXAMPLES\r\n\r\n**\"Concrete Poetry\"**\r\nPhilosophy: Communication through monumental form and bold geometry.\r\nVisual expression: Massive color blocks, sculptural typography (huge single words, tiny labels), Brutalist spatial divisions, Polish poster energy meets Le Corbusier. Ideas expressed through visual weight and spatial tension, not explanation. Text as rare, powerful gesture - never paragraphs, only essential words integrated into the visual architecture. Every element placed with the precision of a master craftsman.\r\n\r\n**\"Chromatic Language\"**\r\nPhilosophy: Color as the primary information system.\r\nVisual expression: Geometric precision where color zones create meaning. Typography minimal - small sans-serif labels letting chromatic fields communicate. Think Josef Albers' interaction meets data visualization. Information encoded spatially and chromatically. Words only to anchor what color already shows. The result of painstaking chromatic calibration.\r\n\r\n**\"Analog Meditation\"**\r\nPhilosophy: Quiet visual contemplation through texture and breathing room.\r\nVisual expression: Paper grain, ink bleeds, vast negative space. Photography and illustration dominate. Typography whispered (small, restrained, serving the visual). Japanese photobook aesthetic. Images breathe across pages. Text appears sparingly - short phrases, never explanatory blocks. Each composition balanced with the care of a meditation practice.\r\n\r\n**\"Organic Systems\"**\r\nPhilosophy: Natural clustering and modular growth patterns.\r\nVisual expression: Rounded forms, organic arrangements, color from nature through architecture. Information shown through visual diagrams, spatial relationships, iconography. Text only for key labels floating in space. The composition tells the story through expert spatial orchestration.\r\n\r\n**\"Geometric Silence\"**\r\nPhilosophy: Pure order and restraint.\r\nVisual expression: Grid-based precision, bold photography or stark graphics, dramatic negative space. Typography precise but minimal - small essential text, large quiet zones. Swiss formalism meets Brutalist material honesty. Structure communicates, not words. Every alignment the work of countless refinements.\r\n\r\n*These are condensed examples. The actual design philosophy should be 4-6 substantial paragraphs.*\r\n\r\n### ESSENTIAL PRINCIPLES\r\n- **VISUAL PHILOSOPHY**: Create an aesthetic worldview to be expressed through design\r\n- **MINIMAL TEXT**: Always emphasize that text is sparse, essential-only, integrated as visual element - never lengthy\r\n- **SPATIAL EXPRESSION**: Ideas communicate through space, form, color, composition - not paragraphs\r\n- **ARTISTIC FREEDOM**: The next Claude interprets the philosophy visually - provide creative room\r\n- **PURE DESIGN**: This is about making ART OBJECTS, not documents with decoration\r\n- **EXPERT CRAFTSMANSHIP**: Repeatedly emphasize the final work must look meticulously crafted, labored over with care, the product of countless hours by someone at the top of their field\r\n\r\n**The design philosophy should be 4-6 paragraphs long.** Fill it with poetic design philosophy that brings together the core vision. Avoid repeating the same points. Keep the design philosophy generic without mentioning the intention of the art, as if it can be used wherever. Output the design philosophy as a .md file.\r\n\r\n---\r\n\r\n## DEDUCING THE SUBTLE REFERENCE\r\n\r\n**CRITICAL STEP**: Before creating the canvas, identify the subtle conceptual thread from the original request.\r\n\r\n**THE ESSENTIAL PRINCIPLE**:\r\nThe topic is a **subtle, niche reference embedded within the art itself** - not always literal, always sophisticated. Someone familiar with the subject should feel it intuitively, while others simply experience a masterful abstract composition. The design philosophy provides the aesthetic language. The deduced topic provides the soul - the quiet conceptual DNA woven invisibly into form, color, and composition.\r\n\r\nThis is **VERY IMPORTANT**: The reference must be refined so it enhances the work's depth without announcing itself. Think like a jazz musician quoting another song - only those who know will catch it, but everyone appreciates the music.\r\n\r\n---\r\n\r\n## CANVAS CREATION\r\n\r\nWith both the philosophy and the conceptual framework established, express it on a canvas. Take a moment to gather thoughts and clear the mind. Use the design philosophy created and the instructions below to craft a masterpiece, embodying all aspects of the philosophy with expert craftsmanship.\r\n\r\n**IMPORTANT**: For any type of content, even if the user requests something for a movie/game/book, the approach should still be sophisticated. Never lose sight of the idea that this should be art, not something that's cartoony or amateur.\r\n\r\nTo create museum or magazine quality work, use the design philosophy as the foundation. Create one single page, highly visual, design-forward PDF or PNG output (unless asked for more pages). Generally use repeating patterns and perfect shapes. Treat the abstract philosophical design as if it were a scientific bible, borrowing the visual language of systematic observation‚Äîdense accumulation of marks, repeated elements, or layered patterns that build meaning through patient repetition and reward sustained viewing. Add sparse, clinical typography and systematic reference markers that suggest this could be a diagram from an imaginary discipline, treating the invisible subject with the same reverence typically reserved for documenting observable phenomena. Anchor the piece with simple phrase(s) or details positioned subtly, using a limited color palette that feels intentional and cohesive. Embrace the paradox of using analytical visual language to express ideas about human experience: the result should feel like an artifact that proves something ephemeral can be studied, mapped, and understood through careful attention. This is true art. \r\n\r\n**Text as a contextual element**: Text is always minimal and visual-first, but let context guide whether that means whisper-quiet labels or bold typographic gestures. A punk venue poster might have larger, more aggressive type than a minimalist ceramics studio identity. Most of the time, font should be thin. All use of fonts must be design-forward and prioritize visual communication. Regardless of text scale, nothing falls off the page and nothing overlaps. Every element must be contained within the canvas boundaries with proper margins. Check carefully that all text, graphics, and visual elements have breathing room and clear separation. This is non-negotiable for professional execution. **IMPORTANT: Use different fonts if writing text. Search the `./canvas-fonts` directory. Regardless of approach, sophistication is non-negotiable.**\r\n\r\nDownload and use whatever fonts are needed to make this a reality. Get creative by making the typography actually part of the art itself -- if the art is abstract, bring the font onto the canvas, not typeset digitally.\r\n\r\nTo push boundaries, follow design instinct/intuition while using the philosophy as a guiding principle. Embrace ultimate design freedom and choice. Push aesthetics and design to the frontier. \r\n\r\n**CRITICAL**: To achieve human-crafted quality (not AI-generated), create work that looks like it took countless hours. Make it appear as though someone at the absolute top of their field labored over every detail with painstaking care. Ensure the composition, spacing, color choices, typography - everything screams expert-level craftsmanship. Double-check that nothing overlaps, formatting is flawless, every detail perfect. Create something that could be shown to people to prove expertise and rank as undeniably impressive.\r\n\r\nOutput the final result as a single, downloadable .pdf or .png file, alongside the design philosophy used as a .md file.\r\n\r\n---\r\n\r\n## FINAL STEP\r\n\r\n**IMPORTANT**: The user ALREADY said \"It isn't perfect enough. It must be pristine, a masterpiece if craftsmanship, as if it were about to be displayed in a museum.\"\r\n\r\n**CRITICAL**: To refine the work, avoid adding more graphics; instead refine what has been created and make it extremely crisp, respecting the design philosophy and the principles of minimalism entirely. Rather than adding a fun filter or refactoring a font, consider how to make the existing composition more cohesive with the art. If the instinct is to call a new function or draw a new shape, STOP and instead ask: \"How can I make what's already here more of a piece of art?\"\r\n\r\nTake a second pass. Go back to the code and refine/polish further to make this a philosophically designed masterpiece.\r\n\r\n## MULTI-PAGE OPTION\r\n\r\nTo create additional pages when requested, create more creative pages along the same lines as the design philosophy but distinctly different as well. Bundle those pages in the same .pdf or many .pngs. Treat the first page as just a single page in a whole coffee table book waiting to be filled. Make the next pages unique twists and memories of the original. Have them almost tell a story in a very tasteful way. Exercise full creative freedom.",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/doc-coauthoring/SKILL.md": "---\nname: doc-coauthoring\ndescription: Guide users through a structured workflow for co-authoring documentation. Use when user wants to write documentation, proposals, technical specs, decision docs, or similar structured content. This workflow helps users efficiently transfer context, refine content through iteration, and verify the doc works for readers. Trigger when user mentions writing docs, creating proposals, drafting specs, or similar documentation tasks.\n---\n\n# Doc Co-Authoring Workflow\n\nThis skill provides a structured workflow for guiding users through collaborative document creation. Act as an active guide, walking users through three stages: Context Gathering, Refinement & Structure, and Reader Testing.\n\n## When to Offer This Workflow\n\n**Trigger conditions:**\n- User mentions writing documentation: \"write a doc\", \"draft a proposal\", \"create a spec\", \"write up\"\n- User mentions specific doc types: \"PRD\", \"design doc\", \"decision doc\", \"RFC\"\n- User seems to be starting a substantial writing task\n\n**Initial offer:**\nOffer the user a structured workflow for co-authoring the document. Explain the three stages:\n\n1. **Context Gathering**: User provides all relevant context while Claude asks clarifying questions\n2. **Refinement & Structure**: Iteratively build each section through brainstorming and editing\n3. **Reader Testing**: Test the doc with a fresh Claude (no context) to catch blind spots before others read it\n\nExplain that this approach helps ensure the doc works well when others read it (including when they paste it into Claude). Ask if they want to try this workflow or prefer to work freeform.\n\nIf user declines, work freeform. If user accepts, proceed to Stage 1.\n\n## Stage 1: Context Gathering\n\n**Goal:** Close the gap between what the user knows and what Claude knows, enabling smart guidance later.\n\n### Initial Questions\n\nStart by asking the user for meta-context about the document:\n\n1. What type of document is this? (e.g., technical spec, decision doc, proposal)\n2. Who's the primary audience?\n3. What's the desired impact when someone reads this?\n4. Is there a template or specific format to follow?\n5. Any other constraints or context to know?\n\nInform them they can answer in shorthand or dump information however works best for them.\n\n**If user provides a template or mentions a doc type:**\n- Ask if they have a template document to share\n- If they provide a link to a shared document, use the appropriate integration to fetch it\n- If they provide a file, read it\n\n**If user mentions editing an existing shared document:**\n- Use the appropriate integration to read the current state\n- Check for images without alt-text\n- If images exist without alt-text, explain that when others use Claude to understand the doc, Claude won't be able to see them. Ask if they want alt-text generated. If so, request they paste each image into chat for descriptive alt-text generation.\n\n### Info Dumping\n\nOnce initial questions are answered, encourage the user to dump all the context they have. Request information such as:\n- Background on the project/problem\n- Related team discussions or shared documents\n- Why alternative solutions aren't being used\n- Organizational context (team dynamics, past incidents, politics)\n- Timeline pressures or constraints\n- Technical architecture or dependencies\n- Stakeholder concerns\n\nAdvise them not to worry about organizing it - just get it all out. Offer multiple ways to provide context:\n- Info dump stream-of-consciousness\n- Point to team channels or threads to read\n- Link to shared documents\n\n**If integrations are available** (e.g., Slack, Teams, Google Drive, SharePoint, or other MCP servers), mention that these can be used to pull in context directly.\n\n**If no integrations are detected and in Claude.ai or Claude app:** Suggest they can enable connectors in their Claude settings to allow pulling context from messaging apps and document storage directly.\n\nInform them clarifying questions will be asked once they've done their initial dump.\n\n**During context gathering:**\n\n- If user mentions team channels or shared documents:\n  - If integrations available: Inform them the content will be read now, then use the appropriate integration\n  - If integrations not available: Explain lack of access. Suggest they enable connectors in Claude settings, or paste the relevant content directly.\n\n- If user mentions entities/projects that are unknown:\n  - Ask if connected tools should be searched to learn more\n  - Wait for user confirmation before searching\n\n- As user provides context, track what's being learned and what's still unclear\n\n**Asking clarifying questions:**\n\nWhen user signals they've done their initial dump (or after substantial context provided), ask clarifying questions to ensure understanding:\n\nGenerate 5-10 numbered questions based on gaps in the context.\n\nInform them they can use shorthand to answer (e.g., \"1: yes, 2: see #channel, 3: no because backwards compat\"), link to more docs, point to channels to read, or just keep info-dumping. Whatever's most efficient for them.\n\n**Exit condition:**\nSufficient context has been gathered when questions show understanding - when edge cases and trade-offs can be asked about without needing basics explained.\n\n**Transition:**\nAsk if there's any more context they want to provide at this stage, or if it's time to move on to drafting the document.\n\nIf user wants to add more, let them. When ready, proceed to Stage 2.\n\n## Stage 2: Refinement & Structure\n\n**Goal:** Build the document section by section through brainstorming, curation, and iterative refinement.\n\n**Instructions to user:**\nExplain that the document will be built section by section. For each section:\n1. Clarifying questions will be asked about what to include\n2. 5-20 options will be brainstormed\n3. User will indicate what to keep/remove/combine\n4. The section will be drafted\n5. It will be refined through surgical edits\n\nStart with whichever section has the most unknowns (usually the core decision/proposal), then work through the rest.\n\n**Section ordering:**\n\nIf the document structure is clear:\nAsk which section they'd like to start with.\n\nSuggest starting with whichever section has the most unknowns. For decision docs, that's usually the core proposal. For specs, it's typically the technical approach. Summary sections are best left for last.\n\nIf user doesn't know what sections they need:\nBased on the type of document and template, suggest 3-5 sections appropriate for the doc type.\n\nAsk if this structure works, or if they want to adjust it.\n\n**Once structure is agreed:**\n\nCreate the initial document structure with placeholder text for all sections.\n\n**If access to artifacts is available:**\nUse `create_file` to create an artifact. This gives both Claude and the user a scaffold to work from.\n\nInform them that the initial structure with placeholders for all sections will be created.\n\nCreate artifact with all section headers and brief placeholder text like \"[To be written]\" or \"[Content here]\".\n\nProvide the scaffold link and indicate it's time to fill in each section.\n\n**If no access to artifacts:**\nCreate a markdown file in the working directory. Name it appropriately (e.g., `decision-doc.md`, `technical-spec.md`).\n\nInform them that the initial structure with placeholders for all sections will be created.\n\nCreate file with all section headers and placeholder text.\n\nConfirm the filename has been created and indicate it's time to fill in each section.\n\n**For each section:**\n\n### Step 1: Clarifying Questions\n\nAnnounce work will begin on the [SECTION NAME] section. Ask 5-10 clarifying questions about what should be included:\n\nGenerate 5-10 specific questions based on context and section purpose.\n\nInform them they can answer in shorthand or just indicate what's important to cover.\n\n### Step 2: Brainstorming\n\nFor the [SECTION NAME] section, brainstorm [5-20] things that might be included, depending on the section's complexity. Look for:\n- Context shared that might have been forgotten\n- Angles or considerations not yet mentioned\n\nGenerate 5-20 numbered options based on section complexity. At the end, offer to brainstorm more if they want additional options.\n\n### Step 3: Curation\n\nAsk which points should be kept, removed, or combined. Request brief justifications to help learn priorities for the next sections.\n\nProvide examples:\n- \"Keep 1,4,7,9\"\n- \"Remove 3 (duplicates 1)\"\n- \"Remove 6 (audience already knows this)\"\n- \"Combine 11 and 12\"\n\n**If user gives freeform feedback** (e.g., \"looks good\" or \"I like most of it but...\") instead of numbered selections, extract their preferences and proceed. Parse what they want kept/removed/changed and apply it.\n\n### Step 4: Gap Check\n\nBased on what they've selected, ask if there's anything important missing for the [SECTION NAME] section.\n\n### Step 5: Drafting\n\nUse `str_replace` to replace the placeholder text for this section with the actual drafted content.\n\nAnnounce the [SECTION NAME] section will be drafted now based on what they've selected.\n\n**If using artifacts:**\nAfter drafting, provide a link to the artifact.\n\nAsk them to read through it and indicate what to change. Note that being specific helps learning for the next sections.\n\n**If using a file (no artifacts):**\nAfter drafting, confirm completion.\n\nInform them the [SECTION NAME] section has been drafted in [filename]. Ask them to read through it and indicate what to change. Note that being specific helps learning for the next sections.\n\n**Key instruction for user (include when drafting the first section):**\nProvide a note: Instead of editing the doc directly, ask them to indicate what to change. This helps learning of their style for future sections. For example: \"Remove the X bullet - already covered by Y\" or \"Make the third paragraph more concise\".\n\n### Step 6: Iterative Refinement\n\nAs user provides feedback:\n- Use `str_replace` to make edits (never reprint the whole doc)\n- **If using artifacts:** Provide link to artifact after each edit\n- **If using files:** Just confirm edits are complete\n- If user edits doc directly and asks to read it: mentally note the changes they made and keep them in mind for future sections (this shows their preferences)\n\n**Continue iterating** until user is satisfied with the section.\n\n### Quality Checking\n\nAfter 3 consecutive iterations with no substantial changes, ask if anything can be removed without losing important information.\n\nWhen section is done, confirm [SECTION NAME] is complete. Ask if ready to move to the next section.\n\n**Repeat for all sections.**\n\n### Near Completion\n\nAs approaching completion (80%+ of sections done), announce intention to re-read the entire document and check for:\n- Flow and consistency across sections\n- Redundancy or contradictions\n- Anything that feels like \"slop\" or generic filler\n- Whether every sentence carries weight\n\nRead entire document and provide feedback.\n\n**When all sections are drafted and refined:**\nAnnounce all sections are drafted. Indicate intention to review the complete document one more time.\n\nReview for overall coherence, flow, completeness.\n\nProvide any final suggestions.\n\nAsk if ready to move to Reader Testing, or if they want to refine anything else.\n\n## Stage 3: Reader Testing\n\n**Goal:** Test the document with a fresh Claude (no context bleed) to verify it works for readers.\n\n**Instructions to user:**\nExplain that testing will now occur to see if the document actually works for readers. This catches blind spots - things that make sense to the authors but might confuse others.\n\n### Testing Approach\n\n**If access to sub-agents is available (e.g., in Claude Code):**\n\nPerform the testing directly without user involvement.\n\n### Step 1: Predict Reader Questions\n\nAnnounce intention to predict what questions readers might ask when trying to discover this document.\n\nGenerate 5-10 questions that readers would realistically ask.\n\n### Step 2: Test with Sub-Agent\n\nAnnounce that these questions will be tested with a fresh Claude instance (no context from this conversation).\n\nFor each question, invoke a sub-agent with just the document content and the question.\n\nSummarize what Reader Claude got right/wrong for each question.\n\n### Step 3: Run Additional Checks\n\nAnnounce additional checks will be performed.\n\nInvoke sub-agent to check for ambiguity, false assumptions, contradictions.\n\nSummarize any issues found.\n\n### Step 4: Report and Fix\n\nIf issues found:\nReport that Reader Claude struggled with specific issues.\n\nList the specific issues.\n\nIndicate intention to fix these gaps.\n\nLoop back to refinement for problematic sections.\n\n---\n\n**If no access to sub-agents (e.g., claude.ai web interface):**\n\nThe user will need to do the testing manually.\n\n### Step 1: Predict Reader Questions\n\nAsk what questions people might ask when trying to discover this document. What would they type into Claude.ai?\n\nGenerate 5-10 questions that readers would realistically ask.\n\n### Step 2: Setup Testing\n\nProvide testing instructions:\n1. Open a fresh Claude conversation: https://claude.ai\n2. Paste or share the document content (if using a shared doc platform with connectors enabled, provide the link)\n3. Ask Reader Claude the generated questions\n\nFor each question, instruct Reader Claude to provide:\n- The answer\n- Whether anything was ambiguous or unclear\n- What knowledge/context the doc assumes is already known\n\nCheck if Reader Claude gives correct answers or misinterprets anything.\n\n### Step 3: Additional Checks\n\nAlso ask Reader Claude:\n- \"What in this doc might be ambiguous or unclear to readers?\"\n- \"What knowledge or context does this doc assume readers already have?\"\n- \"Are there any internal contradictions or inconsistencies?\"\n\n### Step 4: Iterate Based on Results\n\nAsk what Reader Claude got wrong or struggled with. Indicate intention to fix those gaps.\n\nLoop back to refinement for any problematic sections.\n\n---\n\n### Exit Condition (Both Approaches)\n\nWhen Reader Claude consistently answers questions correctly and doesn't surface new gaps or ambiguities, the doc is ready.\n\n## Final Review\n\nWhen Reader Testing passes:\nAnnounce the doc has passed Reader Claude testing. Before completion:\n\n1. Recommend they do a final read-through themselves - they own this document and are responsible for its quality\n2. Suggest double-checking any facts, links, or technical details\n3. Ask them to verify it achieves the impact they wanted\n\nAsk if they want one more review, or if the work is done.\n\n**If user wants final review, provide it. Otherwise:**\nAnnounce document completion. Provide a few final tips:\n- Consider linking this conversation in an appendix so readers can see how the doc was developed\n- Use appendices to provide depth without bloating the main doc\n- Update the doc as feedback is received from real readers\n\n## Tips for Effective Guidance\n\n**Tone:**\n- Be direct and procedural\n- Explain rationale briefly when it affects user behavior\n- Don't try to \"sell\" the approach - just execute it\n\n**Handling Deviations:**\n- If user wants to skip a stage: Ask if they want to skip this and write freeform\n- If user seems frustrated: Acknowledge this is taking longer than expected. Suggest ways to move faster\n- Always give user agency to adjust the process\n\n**Context Management:**\n- Throughout, if context is missing on something mentioned, proactively ask\n- Don't let gaps accumulate - address them as they come up\n\n**Artifact Management:**\n- Use `create_file` for drafting full sections\n- Use `str_replace` for all edits\n- Provide artifact link after every change\n- Never use artifacts for brainstorming lists - that's just conversation\n\n**Quality over Speed:**\n- Don't rush through stages\n- Each iteration should make meaningful improvements\n- The goal is a document that actually works for readers\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/SKILL.md": "---\nname: internal-comms\ndescription: A set of resources to help me write all kinds of internal communications, using the formats that my company likes to use. Claude should use this skill whenever asked to write some sort of internal communications (status reports, leadership updates, 3P updates, company newsletters, FAQs, incident reports, project updates, etc.).\nlicense: Complete terms in LICENSE.txt\n---\n\n## When to use this skill\nTo write internal communications, use this skill for:\n- 3P updates (Progress, Plans, Problems)\n- Company newsletters\n- FAQ responses\n- Status reports\n- Leadership updates\n- Project updates\n- Incident reports\n\n## How to use this skill\n\nTo write any internal communication:\n\n1. **Identify the communication type** from the request\n2. **Load the appropriate guideline file** from the `examples/` directory:\n    - `examples/3p-updates.md` - For Progress/Plans/Problems team updates\n    - `examples/company-newsletter.md` - For company-wide newsletters\n    - `examples/faq-answers.md` - For answering frequently asked questions\n    - `examples/general-comms.md` - For anything else that doesn't explicitly match one of the above\n3. **Follow the specific instructions** in that file for formatting, tone, and content gathering\n\nIf the communication type doesn't match any existing guideline, ask for clarification or more context about the desired format.\n\n## Keywords\n3P updates, company newsletter, company comms, weekly update, faqs, common questions, updates, internal comms\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/3p-updates.md": "## Instructions\nYou are being asked to write a 3P update. 3P updates stand for \"Progress, Plans, Problems.\" The main audience is for executives, leadership, other teammates, etc. They're meant to be very succinct and to-the-point: think something you can read in 30-60sec or less. They're also for people with some, but not a lot of context on what the team does.\n\n3Ps can cover a team of any size, ranging all the way up to the entire company. The bigger the team, the less granular the tasks should be. For example, \"mobile team\" might have \"shipped feature\" or \"fixed bugs,\" whereas the company might have really meaty 3Ps, like \"hired 20 new people\" or \"closed 10 new deals.\" \n\nThey represent the work of the team across a time period, almost always one week. They include three sections:\n1) Progress: what the team has accomplished over the next time period. Focus mainly on things shipped, milestones achieved, tasks created, etc.\n2) Plans: what the team plans to do over the next time period. Focus on what things are top-of-mind, really high priority, etc. for the team.\n3) Problems: anything that is slowing the team down. This could be things like too few people, bugs or blockers that are preventing the team from moving forward, some deal that fell through, etc.\n\nBefore writing them, make sure that you know the team name. If it's not specified, you can ask explicitly what the team name you're writing for is.\n\n\n## Tools Available\nWhenever possible, try to pull from available sources to get the information you need:\n- Slack: posts from team members with their updates - ideally look for posts in large channels with lots of reactions\n- Google Drive: docs written from critical team members with lots of views\n- Email: emails with lots of responses of lots of content that seems relevant\n- Calendar: non-recurring meetings that have a lot of importance, like product reviews, etc.\n\n\nTry to gather as much context as you can, focusing on the things that covered the time period you're writing for:\n- Progress: anything between a week ago and today\n- Plans: anything from today to the next week\n- Problems: anything between a week ago and today\n\n\nIf you don't have access, you can ask the user for things they want to cover. They might also include these things to you directly, in which case you're mostly just formatting for this particular format.\n\n## Workflow\n\n1. **Clarify scope**: Confirm the team name and time period (usually past week for Progress/Problems, next\nweek for Plans)\n2. **Gather information**: Use available tools or ask the user directly\n3. **Draft the update**: Follow the strict formatting guidelines\n4. **Review**: Ensure it's concise (30-60 seconds to read) and data-driven\n\n## Formatting\n\nThe format is always the same, very strict formatting. Never use any formatting other than this. Pick an emoji that is fun and captures the vibe of the team and update.\n\n[pick an emoji] [Team Name] (Dates Covered, usually a week)\nProgress: [1-3 sentences of content]\nPlans: [1-3 sentences of content]\nProblems: [1-3 sentences of content]\n\nEach section should be no more than 1-3 sentences: clear, to the point. It should be data-driven, and generally include metrics where possible. The tone should be very matter-of-fact, not super prose-heavy.",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/company-newsletter.md": "## Instructions\nYou are being asked to write a company-wide newsletter update. You are meant to summarize the past week/month of a company in the form of a newsletter that the entire company will read. It should be maybe ~20-25 bullet points long. It will be sent via Slack and email, so make it consumable for that.\n\nIdeally it includes the following attributes:\n- Lots of links: pulling documents from Google Drive that are very relevant, linking to prominent Slack messages in announce channels and from executives, perhgaps referencing emails that went company-wide, highlighting significant things that have happened in the company.\n- Short and to-the-point: each bullet should probably be no longer than ~1-2 sentences\n- Use the \"we\" tense, as you are part of the company. Many of the bullets should say \"we did this\" or \"we did that\"\n\n## Tools to use\nIf you have access to the following tools, please try to use them. If not, you can also let the user know directly that their responses would be better if they gave them access.\n\n- Slack: look for messages in channels with lots of people, with lots of reactions or lots of responses within the thread\n- Email: look for things from executives that discuss company-wide announcements\n- Calendar: if there were meetings with large attendee lists, particularly things like All-Hands meetings, big company announcements, etc. If there were documents attached to those meetings, those are great links to include.\n- Documents: if there were new docs published in the last week or two that got a lot of attention, you can link them. These should be things like company-wide vision docs, plans for the upcoming quarter or half, things authored by critical executives, etc.\n- External press: if you see references to articles or press we've received over the past week, that could be really cool too.\n\nIf you don't have access to any of these things, you can ask the user for things they want to cover. In this case, you'll mostly just be polishing up and fitting to this format more directly.\n\n## Sections\nThe company is pretty big: 1000+ people. There are a variety of different teams and initiatives going on across the company. To make sure the update works well, try breaking it into sections of similar things. You might break into clusters like {product development, go to market, finance} or {recruiting, execution, vision}, or {external news, internal news} etc. Try to make sure the different areas of the company are highlighted well.\n\n## Prioritization\nFocus on:\n- Company-wide impact (not team-specific details)\n- Announcements from leadership\n- Major milestones and achievements\n- Information that affects most employees\n- External recognition or press\n\nAvoid:\n- Overly granular team updates (save those for 3Ps)\n- Information only relevant to small groups\n- Duplicate information already communicated\n\n## Example Formats\n\n:megaphone: Company Announcements\n- Announcement 1\n- Announcement 2\n- Announcement 3\n\n:dart: Progress on Priorities\n- Area 1\n    - Sub-area 1\n    - Sub-area 2\n    - Sub-area 3\n- Area 2\n    - Sub-area 1\n    - Sub-area 2\n    - Sub-area 3\n- Area 3\n    - Sub-area 1\n    - Sub-area 2\n    - Sub-area 3\n\n:pillar: Leadership Updates\n- Post 1\n- Post 2\n- Post 3\n\n:thread: Social Updates\n- Update 1\n- Update 2\n- Update 3\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/faq-answers.md": "## Instructions\nYou are an assistant for answering questions that are being asked across the company. Every week, there are lots of questions that get asked across the company, and your goal is to try to summarize what those questions are. We want our company to be well-informed and on the same page, so your job is to produce a set of frequently asked questions that our employees are asking and attempt to answer them. Your singular job is to do two things:\n\n- Find questions that are big sources of confusion for lots of employees at the company, generally about things that affect a large portion of the employee base\n- Attempt to give a nice summarized answer to that question in order to minimize confusion.\n\nSome examples of areas that may be interesting to folks: recent corporate events (fundraising, new executives, etc.), upcoming launches, hiring progress, changes to vision or focus, etc.\n\n\n## Tools Available\nYou should use the company's available tools, where communication and work happens. For most companies, it looks something like this:\n- Slack: questions being asked across the company - it could be questions in response to posts with lots of responses, questions being asked with lots of reactions or thumbs up to show support, or anything else to show that a large number of employees want to ask the same things\n- Email: emails with FAQs written directly in them can be a good source as well\n- Documents: docs in places like Google Drive, linked on calendar events, etc. can also be a good source of FAQs, either directly added or inferred based on the contents of the doc\n\n## Formatting\nThe formatting should be pretty basic:\n\n- *Question*: [insert question - 1 sentence]\n- *Answer*: [insert answer - 1-2 sentence]\n\n## Guidance\nMake sure you're being holistic in your questions. Don't focus too much on just the user in question or the team they are a part of, but try to capture the entire company. Try to be as holistic as you can in reading all the tools available, producing responses that are relevant to all at the company.\n\n## Answer Guidelines\n- Base answers on official company communications when possible\n- If information is uncertain, indicate that clearly\n- Link to authoritative sources (docs, announcements, emails)\n- Keep tone professional but approachable\n- Flag if a question requires executive input or official response",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/internal-comms/examples/general-comms.md": "  ## Instructions\n  You are being asked to write internal company communication that doesn't fit into the standard formats (3P\n  updates, newsletters, or FAQs).\n\n  Before proceeding:\n  1. Ask the user about their target audience\n  2. Understand the communication's purpose\n  3. Clarify the desired tone (formal, casual, urgent, informational)\n  4. Confirm any specific formatting requirements\n\n  Use these general principles:\n  - Be clear and concise\n  - Use active voice\n  - Put the most important information first\n  - Include relevant links and references\n  - Match the company's communication style",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/SKILL.md": "---\nname: mcp-builder\ndescription: Guide for creating high-quality MCP (Model Context Protocol) servers that enable LLMs to interact with external services through well-designed tools. Use when building MCP servers to integrate external APIs or services, whether in Python (FastMCP) or Node/TypeScript (MCP SDK).\nlicense: Complete terms in LICENSE.txt\n---\n\n# MCP Server Development Guide\n\n## Overview\n\nCreate MCP (Model Context Protocol) servers that enable LLMs to interact with external services through well-designed tools. The quality of an MCP server is measured by how well it enables LLMs to accomplish real-world tasks.\n\n---\n\n# Process\n\n## üöÄ High-Level Workflow\n\nCreating a high-quality MCP server involves four main phases:\n\n### Phase 1: Deep Research and Planning\n\n#### 1.1 Understand Modern MCP Design\n\n**API Coverage vs. Workflow Tools:**\nBalance comprehensive API endpoint coverage with specialized workflow tools. Workflow tools can be more convenient for specific tasks, while comprehensive coverage gives agents flexibility to compose operations. Performance varies by client‚Äîsome clients benefit from code execution that combines basic tools, while others work better with higher-level workflows. When uncertain, prioritize comprehensive API coverage.\n\n**Tool Naming and Discoverability:**\nClear, descriptive tool names help agents find the right tools quickly. Use consistent prefixes (e.g., `github_create_issue`, `github_list_repos`) and action-oriented naming.\n\n**Context Management:**\nAgents benefit from concise tool descriptions and the ability to filter/paginate results. Design tools that return focused, relevant data. Some clients support code execution which can help agents filter and process data efficiently.\n\n**Actionable Error Messages:**\nError messages should guide agents toward solutions with specific suggestions and next steps.\n\n#### 1.2 Study MCP Protocol Documentation\n\n**Navigate the MCP specification:**\n\nStart with the sitemap to find relevant pages: `https://modelcontextprotocol.io/sitemap.xml`\n\nThen fetch specific pages with `.md` suffix for markdown format (e.g., `https://modelcontextprotocol.io/specification/draft.md`).\n\nKey pages to review:\n- Specification overview and architecture\n- Transport mechanisms (streamable HTTP, stdio)\n- Tool, resource, and prompt definitions\n\n#### 1.3 Study Framework Documentation\n\n**Recommended stack:**\n- **Language**: TypeScript (high-quality SDK support and good compatibility in many execution environments e.g. MCPB. Plus AI models are good at generating TypeScript code, benefiting from its broad usage, static typing and good linting tools)\n- **Transport**: Streamable HTTP for remote servers, using stateless JSON (simpler to scale and maintain, as opposed to stateful sessions and streaming responses). stdio for local servers.\n\n**Load framework documentation:**\n\n- **MCP Best Practices**: [üìã View Best Practices](./reference/mcp_best_practices.md) - Core guidelines\n\n**For TypeScript (recommended):**\n- **TypeScript SDK**: Use WebFetch to load `https://raw.githubusercontent.com/modelcontextprotocol/typescript-sdk/main/README.md`\n- [‚ö° TypeScript Guide](./reference/node_mcp_server.md) - TypeScript patterns and examples\n\n**For Python:**\n- **Python SDK**: Use WebFetch to load `https://raw.githubusercontent.com/modelcontextprotocol/python-sdk/main/README.md`\n- [üêç Python Guide](./reference/python_mcp_server.md) - Python patterns and examples\n\n#### 1.4 Plan Your Implementation\n\n**Understand the API:**\nReview the service's API documentation to identify key endpoints, authentication requirements, and data models. Use web search and WebFetch as needed.\n\n**Tool Selection:**\nPrioritize comprehensive API coverage. List endpoints to implement, starting with the most common operations.\n\n---\n\n### Phase 2: Implementation\n\n#### 2.1 Set Up Project Structure\n\nSee language-specific guides for project setup:\n- [‚ö° TypeScript Guide](./reference/node_mcp_server.md) - Project structure, package.json, tsconfig.json\n- [üêç Python Guide](./reference/python_mcp_server.md) - Module organization, dependencies\n\n#### 2.2 Implement Core Infrastructure\n\nCreate shared utilities:\n- API client with authentication\n- Error handling helpers\n- Response formatting (JSON/Markdown)\n- Pagination support\n\n#### 2.3 Implement Tools\n\nFor each tool:\n\n**Input Schema:**\n- Use Zod (TypeScript) or Pydantic (Python)\n- Include constraints and clear descriptions\n- Add examples in field descriptions\n\n**Output Schema:**\n- Define `outputSchema` where possible for structured data\n- Use `structuredContent` in tool responses (TypeScript SDK feature)\n- Helps clients understand and process tool outputs\n\n**Tool Description:**\n- Concise summary of functionality\n- Parameter descriptions\n- Return type schema\n\n**Implementation:**\n- Async/await for I/O operations\n- Proper error handling with actionable messages\n- Support pagination where applicable\n- Return both text content and structured data when using modern SDKs\n\n**Annotations:**\n- `readOnlyHint`: true/false\n- `destructiveHint`: true/false\n- `idempotentHint`: true/false\n- `openWorldHint`: true/false\n\n---\n\n### Phase 3: Review and Test\n\n#### 3.1 Code Quality\n\nReview for:\n- No duplicated code (DRY principle)\n- Consistent error handling\n- Full type coverage\n- Clear tool descriptions\n\n#### 3.2 Build and Test\n\n**TypeScript:**\n- Run `npm run build` to verify compilation\n- Test with MCP Inspector: `npx @modelcontextprotocol/inspector`\n\n**Python:**\n- Verify syntax: `python -m py_compile your_server.py`\n- Test with MCP Inspector\n\nSee language-specific guides for detailed testing approaches and quality checklists.\n\n---\n\n### Phase 4: Create Evaluations\n\nAfter implementing your MCP server, create comprehensive evaluations to test its effectiveness.\n\n**Load [‚úÖ Evaluation Guide](./reference/evaluation.md) for complete evaluation guidelines.**\n\n#### 4.1 Understand Evaluation Purpose\n\nUse evaluations to test whether LLMs can effectively use your MCP server to answer realistic, complex questions.\n\n#### 4.2 Create 10 Evaluation Questions\n\nTo create effective evaluations, follow the process outlined in the evaluation guide:\n\n1. **Tool Inspection**: List available tools and understand their capabilities\n2. **Content Exploration**: Use READ-ONLY operations to explore available data\n3. **Question Generation**: Create 10 complex, realistic questions\n4. **Answer Verification**: Solve each question yourself to verify answers\n\n#### 4.3 Evaluation Requirements\n\nEnsure each question is:\n- **Independent**: Not dependent on other questions\n- **Read-only**: Only non-destructive operations required\n- **Complex**: Requiring multiple tool calls and deep exploration\n- **Realistic**: Based on real use cases humans would care about\n- **Verifiable**: Single, clear answer that can be verified by string comparison\n- **Stable**: Answer won't change over time\n\n#### 4.4 Output Format\n\nCreate an XML file with this structure:\n\n```xml\n<evaluation>\n  <qa_pair>\n    <question>Find discussions about AI model launches with animal codenames. One model needed a specific safety designation that uses the format ASL-X. What number X was being determined for the model named after a spotted wild cat?</question>\n    <answer>3</answer>\n  </qa_pair>\n<!-- More qa_pairs... -->\n</evaluation>\n```\n\n---\n\n# Reference Files\n\n## üìö Documentation Library\n\nLoad these resources as needed during development:\n\n### Core MCP Documentation (Load First)\n- **MCP Protocol**: Start with sitemap at `https://modelcontextprotocol.io/sitemap.xml`, then fetch specific pages with `.md` suffix\n- [üìã MCP Best Practices](./reference/mcp_best_practices.md) - Universal MCP guidelines including:\n  - Server and tool naming conventions\n  - Response format guidelines (JSON vs Markdown)\n  - Pagination best practices\n  - Transport selection (streamable HTTP vs stdio)\n  - Security and error handling standards\n\n### SDK Documentation (Load During Phase 1/2)\n- **Python SDK**: Fetch from `https://raw.githubusercontent.com/modelcontextprotocol/python-sdk/main/README.md`\n- **TypeScript SDK**: Fetch from `https://raw.githubusercontent.com/modelcontextprotocol/typescript-sdk/main/README.md`\n\n### Language-Specific Implementation Guides (Load During Phase 2)\n- [üêç Python Implementation Guide](./reference/python_mcp_server.md) - Complete Python/FastMCP guide with:\n  - Server initialization patterns\n  - Pydantic model examples\n  - Tool registration with `@mcp.tool`\n  - Complete working examples\n  - Quality checklist\n\n- [‚ö° TypeScript Implementation Guide](./reference/node_mcp_server.md) - Complete TypeScript guide with:\n  - Project structure\n  - Zod schema patterns\n  - Tool registration with `server.registerTool`\n  - Complete working examples\n  - Quality checklist\n\n### Evaluation Guide (Load During Phase 4)\n- [‚úÖ Evaluation Guide](./reference/evaluation.md) - Complete evaluation creation guide with:\n  - Question creation guidelines\n  - Answer verification strategies\n  - XML format specifications\n  - Example questions and answers\n  - Running an evaluation with the provided scripts\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/evaluation.md": "# MCP Server Evaluation Guide\n\n## Overview\n\nThis document provides guidance on creating comprehensive evaluations for MCP servers. Evaluations test whether LLMs can effectively use your MCP server to answer realistic, complex questions using only the tools provided.\n\n---\n\n## Quick Reference\n\n### Evaluation Requirements\n- Create 10 human-readable questions\n- Questions must be READ-ONLY, INDEPENDENT, NON-DESTRUCTIVE\n- Each question requires multiple tool calls (potentially dozens)\n- Answers must be single, verifiable values\n- Answers must be STABLE (won't change over time)\n\n### Output Format\n```xml\n<evaluation>\n   <qa_pair>\n      <question>Your question here</question>\n      <answer>Single verifiable answer</answer>\n   </qa_pair>\n</evaluation>\n```\n\n---\n\n## Purpose of Evaluations\n\nThe measure of quality of an MCP server is NOT how well or comprehensively the server implements tools, but how well these implementations (input/output schemas, docstrings/descriptions, functionality) enable LLMs with no other context and access ONLY to the MCP servers to answer realistic and difficult questions.\n\n## Evaluation Overview\n\nCreate 10 human-readable questions requiring ONLY READ-ONLY, INDEPENDENT, NON-DESTRUCTIVE, and IDEMPOTENT operations to answer. Each question should be:\n- Realistic\n- Clear and concise\n- Unambiguous\n- Complex, requiring potentially dozens of tool calls or steps\n- Answerable with a single, verifiable value that you identify in advance\n\n## Question Guidelines\n\n### Core Requirements\n\n1. **Questions MUST be independent**\n   - Each question should NOT depend on the answer to any other question\n   - Should not assume prior write operations from processing another question\n\n2. **Questions MUST require ONLY NON-DESTRUCTIVE AND IDEMPOTENT tool use**\n   - Should not instruct or require modifying state to arrive at the correct answer\n\n3. **Questions must be REALISTIC, CLEAR, CONCISE, and COMPLEX**\n   - Must require another LLM to use multiple (potentially dozens of) tools or steps to answer\n\n### Complexity and Depth\n\n4. **Questions must require deep exploration**\n   - Consider multi-hop questions requiring multiple sub-questions and sequential tool calls\n   - Each step should benefit from information found in previous questions\n\n5. **Questions may require extensive paging**\n   - May need paging through multiple pages of results\n   - May require querying old data (1-2 years out-of-date) to find niche information\n   - The questions must be DIFFICULT\n\n6. **Questions must require deep understanding**\n   - Rather than surface-level knowledge\n   - May pose complex ideas as True/False questions requiring evidence\n   - May use multiple-choice format where LLM must search different hypotheses\n\n7. **Questions must not be solvable with straightforward keyword search**\n   - Do not include specific keywords from the target content\n   - Use synonyms, related concepts, or paraphrases\n   - Require multiple searches, analyzing multiple related items, extracting context, then deriving the answer\n\n### Tool Testing\n\n8. **Questions should stress-test tool return values**\n   - May elicit tools returning large JSON objects or lists, overwhelming the LLM\n   - Should require understanding multiple modalities of data:\n     - IDs and names\n     - Timestamps and datetimes (months, days, years, seconds)\n     - File IDs, names, extensions, and mimetypes\n     - URLs, GIDs, etc.\n   - Should probe the tool's ability to return all useful forms of data\n\n9. **Questions should MOSTLY reflect real human use cases**\n   - The kinds of information retrieval tasks that HUMANS assisted by an LLM would care about\n\n10. **Questions may require dozens of tool calls**\n    - This challenges LLMs with limited context\n    - Encourages MCP server tools to reduce information returned\n\n11. **Include ambiguous questions**\n    - May be ambiguous OR require difficult decisions on which tools to call\n    - Force the LLM to potentially make mistakes or misinterpret\n    - Ensure that despite AMBIGUITY, there is STILL A SINGLE VERIFIABLE ANSWER\n\n### Stability\n\n12. **Questions must be designed so the answer DOES NOT CHANGE**\n    - Do not ask questions that rely on \"current state\" which is dynamic\n    - For example, do not count:\n      - Number of reactions to a post\n      - Number of replies to a thread\n      - Number of members in a channel\n\n13. **DO NOT let the MCP server RESTRICT the kinds of questions you create**\n    - Create challenging and complex questions\n    - Some may not be solvable with the available MCP server tools\n    - Questions may require specific output formats (datetime vs. epoch time, JSON vs. MARKDOWN)\n    - Questions may require dozens of tool calls to complete\n\n## Answer Guidelines\n\n### Verification\n\n1. **Answers must be VERIFIABLE via direct string comparison**\n   - If the answer can be re-written in many formats, clearly specify the output format in the QUESTION\n   - Examples: \"Use YYYY/MM/DD.\", \"Respond True or False.\", \"Answer A, B, C, or D and nothing else.\"\n   - Answer should be a single VERIFIABLE value such as:\n     - User ID, user name, display name, first name, last name\n     - Channel ID, channel name\n     - Message ID, string\n     - URL, title\n     - Numerical quantity\n     - Timestamp, datetime\n     - Boolean (for True/False questions)\n     - Email address, phone number\n     - File ID, file name, file extension\n     - Multiple choice answer\n   - Answers must not require special formatting or complex, structured output\n   - Answer will be verified using DIRECT STRING COMPARISON\n\n### Readability\n\n2. **Answers should generally prefer HUMAN-READABLE formats**\n   - Examples: names, first name, last name, datetime, file name, message string, URL, yes/no, true/false, a/b/c/d\n   - Rather than opaque IDs (though IDs are acceptable)\n   - The VAST MAJORITY of answers should be human-readable\n\n### Stability\n\n3. **Answers must be STABLE/STATIONARY**\n   - Look at old content (e.g., conversations that have ended, projects that have launched, questions answered)\n   - Create QUESTIONS based on \"closed\" concepts that will always return the same answer\n   - Questions may ask to consider a fixed time window to insulate from non-stationary answers\n   - Rely on context UNLIKELY to change\n   - Example: if finding a paper name, be SPECIFIC enough so answer is not confused with papers published later\n\n4. **Answers must be CLEAR and UNAMBIGUOUS**\n   - Questions must be designed so there is a single, clear answer\n   - Answer can be derived from using the MCP server tools\n\n### Diversity\n\n5. **Answers must be DIVERSE**\n   - Answer should be a single VERIFIABLE value in diverse modalities and formats\n   - User concept: user ID, user name, display name, first name, last name, email address, phone number\n   - Channel concept: channel ID, channel name, channel topic\n   - Message concept: message ID, message string, timestamp, month, day, year\n\n6. **Answers must NOT be complex structures**\n   - Not a list of values\n   - Not a complex object\n   - Not a list of IDs or strings\n   - Not natural language text\n   - UNLESS the answer can be straightforwardly verified using DIRECT STRING COMPARISON\n   - And can be realistically reproduced\n   - It should be unlikely that an LLM would return the same list in any other order or format\n\n## Evaluation Process\n\n### Step 1: Documentation Inspection\n\nRead the documentation of the target API to understand:\n- Available endpoints and functionality\n- If ambiguity exists, fetch additional information from the web\n- Parallelize this step AS MUCH AS POSSIBLE\n- Ensure each subagent is ONLY examining documentation from the file system or on the web\n\n### Step 2: Tool Inspection\n\nList the tools available in the MCP server:\n- Inspect the MCP server directly\n- Understand input/output schemas, docstrings, and descriptions\n- WITHOUT calling the tools themselves at this stage\n\n### Step 3: Developing Understanding\n\nRepeat steps 1 & 2 until you have a good understanding:\n- Iterate multiple times\n- Think about the kinds of tasks you want to create\n- Refine your understanding\n- At NO stage should you READ the code of the MCP server implementation itself\n- Use your intuition and understanding to create reasonable, realistic, but VERY challenging tasks\n\n### Step 4: Read-Only Content Inspection\n\nAfter understanding the API and tools, USE the MCP server tools:\n- Inspect content using READ-ONLY and NON-DESTRUCTIVE operations ONLY\n- Goal: identify specific content (e.g., users, channels, messages, projects, tasks) for creating realistic questions\n- Should NOT call any tools that modify state\n- Will NOT read the code of the MCP server implementation itself\n- Parallelize this step with individual sub-agents pursuing independent explorations\n- Ensure each subagent is only performing READ-ONLY, NON-DESTRUCTIVE, and IDEMPOTENT operations\n- BE CAREFUL: SOME TOOLS may return LOTS OF DATA which would cause you to run out of CONTEXT\n- Make INCREMENTAL, SMALL, AND TARGETED tool calls for exploration\n- In all tool call requests, use the `limit` parameter to limit results (<10)\n- Use pagination\n\n### Step 5: Task Generation\n\nAfter inspecting the content, create 10 human-readable questions:\n- An LLM should be able to answer these with the MCP server\n- Follow all question and answer guidelines above\n\n## Output Format\n\nEach QA pair consists of a question and an answer. The output should be an XML file with this structure:\n\n```xml\n<evaluation>\n   <qa_pair>\n      <question>Find the project created in Q2 2024 with the highest number of completed tasks. What is the project name?</question>\n      <answer>Website Redesign</answer>\n   </qa_pair>\n   <qa_pair>\n      <question>Search for issues labeled as \"bug\" that were closed in March 2024. Which user closed the most issues? Provide their username.</question>\n      <answer>sarah_dev</answer>\n   </qa_pair>\n   <qa_pair>\n      <question>Look for pull requests that modified files in the /api directory and were merged between January 1 and January 31, 2024. How many different contributors worked on these PRs?</question>\n      <answer>7</answer>\n   </qa_pair>\n   <qa_pair>\n      <question>Find the repository with the most stars that was created before 2023. What is the repository name?</question>\n      <answer>data-pipeline</answer>\n   </qa_pair>\n</evaluation>\n```\n\n## Evaluation Examples\n\n### Good Questions\n\n**Example 1: Multi-hop question requiring deep exploration (GitHub MCP)**\n```xml\n<qa_pair>\n   <question>Find the repository that was archived in Q3 2023 and had previously been the most forked project in the organization. What was the primary programming language used in that repository?</question>\n   <answer>Python</answer>\n</qa_pair>\n```\n\nThis question is good because:\n- Requires multiple searches to find archived repositories\n- Needs to identify which had the most forks before archival\n- Requires examining repository details for the language\n- Answer is a simple, verifiable value\n- Based on historical (closed) data that won't change\n\n**Example 2: Requires understanding context without keyword matching (Project Management MCP)**\n```xml\n<qa_pair>\n   <question>Locate the initiative focused on improving customer onboarding that was completed in late 2023. The project lead created a retrospective document after completion. What was the lead's role title at that time?</question>\n   <answer>Product Manager</answer>\n</qa_pair>\n```\n\nThis question is good because:\n- Doesn't use specific project name (\"initiative focused on improving customer onboarding\")\n- Requires finding completed projects from specific timeframe\n- Needs to identify the project lead and their role\n- Requires understanding context from retrospective documents\n- Answer is human-readable and stable\n- Based on completed work (won't change)\n\n**Example 3: Complex aggregation requiring multiple steps (Issue Tracker MCP)**\n```xml\n<qa_pair>\n   <question>Among all bugs reported in January 2024 that were marked as critical priority, which assignee resolved the highest percentage of their assigned bugs within 48 hours? Provide the assignee's username.</question>\n   <answer>alex_eng</answer>\n</qa_pair>\n```\n\nThis question is good because:\n- Requires filtering bugs by date, priority, and status\n- Needs to group by assignee and calculate resolution rates\n- Requires understanding timestamps to determine 48-hour windows\n- Tests pagination (potentially many bugs to process)\n- Answer is a single username\n- Based on historical data from specific time period\n\n**Example 4: Requires synthesis across multiple data types (CRM MCP)**\n```xml\n<qa_pair>\n   <question>Find the account that upgraded from the Starter to Enterprise plan in Q4 2023 and had the highest annual contract value. What industry does this account operate in?</question>\n   <answer>Healthcare</answer>\n</qa_pair>\n```\n\nThis question is good because:\n- Requires understanding subscription tier changes\n- Needs to identify upgrade events in specific timeframe\n- Requires comparing contract values\n- Must access account industry information\n- Answer is simple and verifiable\n- Based on completed historical transactions\n\n### Poor Questions\n\n**Example 1: Answer changes over time**\n```xml\n<qa_pair>\n   <question>How many open issues are currently assigned to the engineering team?</question>\n   <answer>47</answer>\n</qa_pair>\n```\n\nThis question is poor because:\n- The answer will change as issues are created, closed, or reassigned\n- Not based on stable/stationary data\n- Relies on \"current state\" which is dynamic\n\n**Example 2: Too easy with keyword search**\n```xml\n<qa_pair>\n   <question>Find the pull request with title \"Add authentication feature\" and tell me who created it.</question>\n   <answer>developer123</answer>\n</qa_pair>\n```\n\nThis question is poor because:\n- Can be solved with a straightforward keyword search for exact title\n- Doesn't require deep exploration or understanding\n- No synthesis or analysis needed\n\n**Example 3: Ambiguous answer format**\n```xml\n<qa_pair>\n   <question>List all the repositories that have Python as their primary language.</question>\n   <answer>repo1, repo2, repo3, data-pipeline, ml-tools</answer>\n</qa_pair>\n```\n\nThis question is poor because:\n- Answer is a list that could be returned in any order\n- Difficult to verify with direct string comparison\n- LLM might format differently (JSON array, comma-separated, newline-separated)\n- Better to ask for a specific aggregate (count) or superlative (most stars)\n\n## Verification Process\n\nAfter creating evaluations:\n\n1. **Examine the XML file** to understand the schema\n2. **Load each task instruction** and in parallel using the MCP server and tools, identify the correct answer by attempting to solve the task YOURSELF\n3. **Flag any operations** that require WRITE or DESTRUCTIVE operations\n4. **Accumulate all CORRECT answers** and replace any incorrect answers in the document\n5. **Remove any `<qa_pair>`** that require WRITE or DESTRUCTIVE operations\n\nRemember to parallelize solving tasks to avoid running out of context, then accumulate all answers and make changes to the file at the end.\n\n## Tips for Creating Quality Evaluations\n\n1. **Think Hard and Plan Ahead** before generating tasks\n2. **Parallelize Where Opportunity Arises** to speed up the process and manage context\n3. **Focus on Realistic Use Cases** that humans would actually want to accomplish\n4. **Create Challenging Questions** that test the limits of the MCP server's capabilities\n5. **Ensure Stability** by using historical data and closed concepts\n6. **Verify Answers** by solving the questions yourself using the MCP server tools\n7. **Iterate and Refine** based on what you learn during the process\n\n---\n\n# Running Evaluations\n\nAfter creating your evaluation file, you can use the provided evaluation harness to test your MCP server.\n\n## Setup\n\n1. **Install Dependencies**\n\n   ```bash\n   pip install -r scripts/requirements.txt\n   ```\n\n   Or install manually:\n   ```bash\n   pip install anthropic mcp\n   ```\n\n2. **Set API Key**\n\n   ```bash\n   export ANTHROPIC_API_KEY=your_api_key_here\n   ```\n\n## Evaluation File Format\n\nEvaluation files use XML format with `<qa_pair>` elements:\n\n```xml\n<evaluation>\n   <qa_pair>\n      <question>Find the project created in Q2 2024 with the highest number of completed tasks. What is the project name?</question>\n      <answer>Website Redesign</answer>\n   </qa_pair>\n   <qa_pair>\n      <question>Search for issues labeled as \"bug\" that were closed in March 2024. Which user closed the most issues? Provide their username.</question>\n      <answer>sarah_dev</answer>\n   </qa_pair>\n</evaluation>\n```\n\n## Running Evaluations\n\nThe evaluation script (`scripts/evaluation.py`) supports three transport types:\n\n**Important:**\n- **stdio transport**: The evaluation script automatically launches and manages the MCP server process for you. Do not run the server manually.\n- **sse/http transports**: You must start the MCP server separately before running the evaluation. The script connects to the already-running server at the specified URL.\n\n### 1. Local STDIO Server\n\nFor locally-run MCP servers (script launches the server automatically):\n\n```bash\npython scripts/evaluation.py \\\n  -t stdio \\\n  -c python \\\n  -a my_mcp_server.py \\\n  evaluation.xml\n```\n\nWith environment variables:\n```bash\npython scripts/evaluation.py \\\n  -t stdio \\\n  -c python \\\n  -a my_mcp_server.py \\\n  -e API_KEY=abc123 \\\n  -e DEBUG=true \\\n  evaluation.xml\n```\n\n### 2. Server-Sent Events (SSE)\n\nFor SSE-based MCP servers (you must start the server first):\n\n```bash\npython scripts/evaluation.py \\\n  -t sse \\\n  -u https://example.com/mcp \\\n  -H \"Authorization: Bearer token123\" \\\n  -H \"X-Custom-Header: value\" \\\n  evaluation.xml\n```\n\n### 3. HTTP (Streamable HTTP)\n\nFor HTTP-based MCP servers (you must start the server first):\n\n```bash\npython scripts/evaluation.py \\\n  -t http \\\n  -u https://example.com/mcp \\\n  -H \"Authorization: Bearer token123\" \\\n  evaluation.xml\n```\n\n## Command-Line Options\n\n```\nusage: evaluation.py [-h] [-t {stdio,sse,http}] [-m MODEL] [-c COMMAND]\n                     [-a ARGS [ARGS ...]] [-e ENV [ENV ...]] [-u URL]\n                     [-H HEADERS [HEADERS ...]] [-o OUTPUT]\n                     eval_file\n\npositional arguments:\n  eval_file             Path to evaluation XML file\n\noptional arguments:\n  -h, --help            Show help message\n  -t, --transport       Transport type: stdio, sse, or http (default: stdio)\n  -m, --model           Claude model to use (default: claude-3-7-sonnet-20250219)\n  -o, --output          Output file for report (default: print to stdout)\n\nstdio options:\n  -c, --command         Command to run MCP server (e.g., python, node)\n  -a, --args            Arguments for the command (e.g., server.py)\n  -e, --env             Environment variables in KEY=VALUE format\n\nsse/http options:\n  -u, --url             MCP server URL\n  -H, --header          HTTP headers in 'Key: Value' format\n```\n\n## Output\n\nThe evaluation script generates a detailed report including:\n\n- **Summary Statistics**:\n  - Accuracy (correct/total)\n  - Average task duration\n  - Average tool calls per task\n  - Total tool calls\n\n- **Per-Task Results**:\n  - Prompt and expected response\n  - Actual response from the agent\n  - Whether the answer was correct (‚úÖ/‚ùå)\n  - Duration and tool call details\n  - Agent's summary of its approach\n  - Agent's feedback on the tools\n\n### Save Report to File\n\n```bash\npython scripts/evaluation.py \\\n  -t stdio \\\n  -c python \\\n  -a my_server.py \\\n  -o evaluation_report.md \\\n  evaluation.xml\n```\n\n## Complete Example Workflow\n\nHere's a complete example of creating and running an evaluation:\n\n1. **Create your evaluation file** (`my_evaluation.xml`):\n\n```xml\n<evaluation>\n   <qa_pair>\n      <question>Find the user who created the most issues in January 2024. What is their username?</question>\n      <answer>alice_developer</answer>\n   </qa_pair>\n   <qa_pair>\n      <question>Among all pull requests merged in Q1 2024, which repository had the highest number? Provide the repository name.</question>\n      <answer>backend-api</answer>\n   </qa_pair>\n   <qa_pair>\n      <question>Find the project that was completed in December 2023 and had the longest duration from start to finish. How many days did it take?</question>\n      <answer>127</answer>\n   </qa_pair>\n</evaluation>\n```\n\n2. **Install dependencies**:\n\n```bash\npip install -r scripts/requirements.txt\nexport ANTHROPIC_API_KEY=your_api_key\n```\n\n3. **Run evaluation**:\n\n```bash\npython scripts/evaluation.py \\\n  -t stdio \\\n  -c python \\\n  -a github_mcp_server.py \\\n  -e GITHUB_TOKEN=ghp_xxx \\\n  -o github_eval_report.md \\\n  my_evaluation.xml\n```\n\n4. **Review the report** in `github_eval_report.md` to:\n   - See which questions passed/failed\n   - Read the agent's feedback on your tools\n   - Identify areas for improvement\n   - Iterate on your MCP server design\n\n## Troubleshooting\n\n### Connection Errors\n\nIf you get connection errors:\n- **STDIO**: Verify the command and arguments are correct\n- **SSE/HTTP**: Check the URL is accessible and headers are correct\n- Ensure any required API keys are set in environment variables or headers\n\n### Low Accuracy\n\nIf many evaluations fail:\n- Review the agent's feedback for each task\n- Check if tool descriptions are clear and comprehensive\n- Verify input parameters are well-documented\n- Consider whether tools return too much or too little data\n- Ensure error messages are actionable\n\n### Timeout Issues\n\nIf tasks are timing out:\n- Use a more capable model (e.g., `claude-3-7-sonnet-20250219`)\n- Check if tools are returning too much data\n- Verify pagination is working correctly\n- Consider simplifying complex questions",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/mcp_best_practices.md": "# MCP Server Best Practices\n\n## Quick Reference\n\n### Server Naming\n- **Python**: `{service}_mcp` (e.g., `slack_mcp`)\n- **Node/TypeScript**: `{service}-mcp-server` (e.g., `slack-mcp-server`)\n\n### Tool Naming\n- Use snake_case with service prefix\n- Format: `{service}_{action}_{resource}`\n- Example: `slack_send_message`, `github_create_issue`\n\n### Response Formats\n- Support both JSON and Markdown formats\n- JSON for programmatic processing\n- Markdown for human readability\n\n### Pagination\n- Always respect `limit` parameter\n- Return `has_more`, `next_offset`, `total_count`\n- Default to 20-50 items\n\n### Transport\n- **Streamable HTTP**: For remote servers, multi-client scenarios\n- **stdio**: For local integrations, command-line tools\n- Avoid SSE (deprecated in favor of streamable HTTP)\n\n---\n\n## Server Naming Conventions\n\nFollow these standardized naming patterns:\n\n**Python**: Use format `{service}_mcp` (lowercase with underscores)\n- Examples: `slack_mcp`, `github_mcp`, `jira_mcp`\n\n**Node/TypeScript**: Use format `{service}-mcp-server` (lowercase with hyphens)\n- Examples: `slack-mcp-server`, `github-mcp-server`, `jira-mcp-server`\n\nThe name should be general, descriptive of the service being integrated, easy to infer from the task description, and without version numbers.\n\n---\n\n## Tool Naming and Design\n\n### Tool Naming\n\n1. **Use snake_case**: `search_users`, `create_project`, `get_channel_info`\n2. **Include service prefix**: Anticipate that your MCP server may be used alongside other MCP servers\n   - Use `slack_send_message` instead of just `send_message`\n   - Use `github_create_issue` instead of just `create_issue`\n3. **Be action-oriented**: Start with verbs (get, list, search, create, etc.)\n4. **Be specific**: Avoid generic names that could conflict with other servers\n\n### Tool Design\n\n- Tool descriptions must narrowly and unambiguously describe functionality\n- Descriptions must precisely match actual functionality\n- Provide tool annotations (readOnlyHint, destructiveHint, idempotentHint, openWorldHint)\n- Keep tool operations focused and atomic\n\n---\n\n## Response Formats\n\nAll tools that return data should support multiple formats:\n\n### JSON Format (`response_format=\"json\"`)\n- Machine-readable structured data\n- Include all available fields and metadata\n- Consistent field names and types\n- Use for programmatic processing\n\n### Markdown Format (`response_format=\"markdown\"`, typically default)\n- Human-readable formatted text\n- Use headers, lists, and formatting for clarity\n- Convert timestamps to human-readable format\n- Show display names with IDs in parentheses\n- Omit verbose metadata\n\n---\n\n## Pagination\n\nFor tools that list resources:\n\n- **Always respect the `limit` parameter**\n- **Implement pagination**: Use `offset` or cursor-based pagination\n- **Return pagination metadata**: Include `has_more`, `next_offset`/`next_cursor`, `total_count`\n- **Never load all results into memory**: Especially important for large datasets\n- **Default to reasonable limits**: 20-50 items is typical\n\nExample pagination response:\n```json\n{\n  \"total\": 150,\n  \"count\": 20,\n  \"offset\": 0,\n  \"items\": [...],\n  \"has_more\": true,\n  \"next_offset\": 20\n}\n```\n\n---\n\n## Transport Options\n\n### Streamable HTTP\n\n**Best for**: Remote servers, web services, multi-client scenarios\n\n**Characteristics**:\n- Bidirectional communication over HTTP\n- Supports multiple simultaneous clients\n- Can be deployed as a web service\n- Enables server-to-client notifications\n\n**Use when**:\n- Serving multiple clients simultaneously\n- Deploying as a cloud service\n- Integration with web applications\n\n### stdio\n\n**Best for**: Local integrations, command-line tools\n\n**Characteristics**:\n- Standard input/output stream communication\n- Simple setup, no network configuration needed\n- Runs as a subprocess of the client\n\n**Use when**:\n- Building tools for local development environments\n- Integrating with desktop applications\n- Single-user, single-session scenarios\n\n**Note**: stdio servers should NOT log to stdout (use stderr for logging)\n\n### Transport Selection\n\n| Criterion | stdio | Streamable HTTP |\n|-----------|-------|-----------------|\n| **Deployment** | Local | Remote |\n| **Clients** | Single | Multiple |\n| **Complexity** | Low | Medium |\n| **Real-time** | No | Yes |\n\n---\n\n## Security Best Practices\n\n### Authentication and Authorization\n\n**OAuth 2.1**:\n- Use secure OAuth 2.1 with certificates from recognized authorities\n- Validate access tokens before processing requests\n- Only accept tokens specifically intended for your server\n\n**API Keys**:\n- Store API keys in environment variables, never in code\n- Validate keys on server startup\n- Provide clear error messages when authentication fails\n\n### Input Validation\n\n- Sanitize file paths to prevent directory traversal\n- Validate URLs and external identifiers\n- Check parameter sizes and ranges\n- Prevent command injection in system calls\n- Use schema validation (Pydantic/Zod) for all inputs\n\n### Error Handling\n\n- Don't expose internal errors to clients\n- Log security-relevant errors server-side\n- Provide helpful but not revealing error messages\n- Clean up resources after errors\n\n### DNS Rebinding Protection\n\nFor streamable HTTP servers running locally:\n- Enable DNS rebinding protection\n- Validate the `Origin` header on all incoming connections\n- Bind to `127.0.0.1` rather than `0.0.0.0`\n\n---\n\n## Tool Annotations\n\nProvide annotations to help clients understand tool behavior:\n\n| Annotation | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `readOnlyHint` | boolean | false | Tool does not modify its environment |\n| `destructiveHint` | boolean | true | Tool may perform destructive updates |\n| `idempotentHint` | boolean | false | Repeated calls with same args have no additional effect |\n| `openWorldHint` | boolean | true | Tool interacts with external entities |\n\n**Important**: Annotations are hints, not security guarantees. Clients should not make security-critical decisions based solely on annotations.\n\n---\n\n## Error Handling\n\n- Use standard JSON-RPC error codes\n- Report tool errors within result objects (not protocol-level errors)\n- Provide helpful, specific error messages with suggested next steps\n- Don't expose internal implementation details\n- Clean up resources properly on errors\n\nExample error handling:\n```typescript\ntry {\n  const result = performOperation();\n  return { content: [{ type: \"text\", text: result }] };\n} catch (error) {\n  return {\n    isError: true,\n    content: [{\n      type: \"text\",\n      text: `Error: ${error.message}. Try using filter='active_only' to reduce results.`\n    }]\n  };\n}\n```\n\n---\n\n## Testing Requirements\n\nComprehensive testing should cover:\n\n- **Functional testing**: Verify correct execution with valid/invalid inputs\n- **Integration testing**: Test interaction with external systems\n- **Security testing**: Validate auth, input sanitization, rate limiting\n- **Performance testing**: Check behavior under load, timeouts\n- **Error handling**: Ensure proper error reporting and cleanup\n\n---\n\n## Documentation Requirements\n\n- Provide clear documentation of all tools and capabilities\n- Include working examples (at least 3 per major feature)\n- Document security considerations\n- Specify required permissions and access levels\n- Document rate limits and performance characteristics\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/node_mcp_server.md": "# Node/TypeScript MCP Server Implementation Guide\n\n## Overview\n\nThis document provides Node/TypeScript-specific best practices and examples for implementing MCP servers using the MCP TypeScript SDK. It covers project structure, server setup, tool registration patterns, input validation with Zod, error handling, and complete working examples.\n\n---\n\n## Quick Reference\n\n### Key Imports\n```typescript\nimport { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\";\nimport { StreamableHTTPServerTransport } from \"@modelcontextprotocol/sdk/server/streamableHttp.js\";\nimport { StdioServerTransport } from \"@modelcontextprotocol/sdk/server/stdio.js\";\nimport express from \"express\";\nimport { z } from \"zod\";\n```\n\n### Server Initialization\n```typescript\nconst server = new McpServer({\n  name: \"service-mcp-server\",\n  version: \"1.0.0\"\n});\n```\n\n### Tool Registration Pattern\n```typescript\nserver.registerTool(\n  \"tool_name\",\n  {\n    title: \"Tool Display Name\",\n    description: \"What the tool does\",\n    inputSchema: { param: z.string() },\n    outputSchema: { result: z.string() }\n  },\n  async ({ param }) => {\n    const output = { result: `Processed: ${param}` };\n    return {\n      content: [{ type: \"text\", text: JSON.stringify(output) }],\n      structuredContent: output // Modern pattern for structured data\n    };\n  }\n);\n```\n\n---\n\n## MCP TypeScript SDK\n\nThe official MCP TypeScript SDK provides:\n- `McpServer` class for server initialization\n- `registerTool` method for tool registration\n- Zod schema integration for runtime input validation\n- Type-safe tool handler implementations\n\n**IMPORTANT - Use Modern APIs Only:**\n- **DO use**: `server.registerTool()`, `server.registerResource()`, `server.registerPrompt()`\n- **DO NOT use**: Old deprecated APIs such as `server.tool()`, `server.setRequestHandler(ListToolsRequestSchema, ...)`, or manual handler registration\n- The `register*` methods provide better type safety, automatic schema handling, and are the recommended approach\n\nSee the MCP SDK documentation in the references for complete details.\n\n## Server Naming Convention\n\nNode/TypeScript MCP servers must follow this naming pattern:\n- **Format**: `{service}-mcp-server` (lowercase with hyphens)\n- **Examples**: `github-mcp-server`, `jira-mcp-server`, `stripe-mcp-server`\n\nThe name should be:\n- General (not tied to specific features)\n- Descriptive of the service/API being integrated\n- Easy to infer from the task description\n- Without version numbers or dates\n\n## Project Structure\n\nCreate the following structure for Node/TypeScript MCP servers:\n\n```\n{service}-mcp-server/\n‚îú‚îÄ‚îÄ package.json\n‚îú‚îÄ‚îÄ tsconfig.json\n‚îú‚îÄ‚îÄ README.md\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ index.ts          # Main entry point with McpServer initialization\n‚îÇ   ‚îú‚îÄ‚îÄ types.ts          # TypeScript type definitions and interfaces\n‚îÇ   ‚îú‚îÄ‚îÄ tools/            # Tool implementations (one file per domain)\n‚îÇ   ‚îú‚îÄ‚îÄ services/         # API clients and shared utilities\n‚îÇ   ‚îú‚îÄ‚îÄ schemas/          # Zod validation schemas\n‚îÇ   ‚îî‚îÄ‚îÄ constants.ts      # Shared constants (API_URL, CHARACTER_LIMIT, etc.)\n‚îî‚îÄ‚îÄ dist/                 # Built JavaScript files (entry point: dist/index.js)\n```\n\n## Tool Implementation\n\n### Tool Naming\n\nUse snake_case for tool names (e.g., \"search_users\", \"create_project\", \"get_channel_info\") with clear, action-oriented names.\n\n**Avoid Naming Conflicts**: Include the service context to prevent overlaps:\n- Use \"slack_send_message\" instead of just \"send_message\"\n- Use \"github_create_issue\" instead of just \"create_issue\"\n- Use \"asana_list_tasks\" instead of just \"list_tasks\"\n\n### Tool Structure\n\nTools are registered using the `registerTool` method with the following requirements:\n- Use Zod schemas for runtime input validation and type safety\n- The `description` field must be explicitly provided - JSDoc comments are NOT automatically extracted\n- Explicitly provide `title`, `description`, `inputSchema`, and `annotations`\n- The `inputSchema` must be a Zod schema object (not a JSON schema)\n- Type all parameters and return values explicitly\n\n```typescript\nimport { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\";\nimport { z } from \"zod\";\n\nconst server = new McpServer({\n  name: \"example-mcp\",\n  version: \"1.0.0\"\n});\n\n// Zod schema for input validation\nconst UserSearchInputSchema = z.object({\n  query: z.string()\n    .min(2, \"Query must be at least 2 characters\")\n    .max(200, \"Query must not exceed 200 characters\")\n    .describe(\"Search string to match against names/emails\"),\n  limit: z.number()\n    .int()\n    .min(1)\n    .max(100)\n    .default(20)\n    .describe(\"Maximum results to return\"),\n  offset: z.number()\n    .int()\n    .min(0)\n    .default(0)\n    .describe(\"Number of results to skip for pagination\"),\n  response_format: z.nativeEnum(ResponseFormat)\n    .default(ResponseFormat.MARKDOWN)\n    .describe(\"Output format: 'markdown' for human-readable or 'json' for machine-readable\")\n}).strict();\n\n// Type definition from Zod schema\ntype UserSearchInput = z.infer<typeof UserSearchInputSchema>;\n\nserver.registerTool(\n  \"example_search_users\",\n  {\n    title: \"Search Example Users\",\n    description: `Search for users in the Example system by name, email, or team.\n\nThis tool searches across all user profiles in the Example platform, supporting partial matches and various search filters. It does NOT create or modify users, only searches existing ones.\n\nArgs:\n  - query (string): Search string to match against names/emails\n  - limit (number): Maximum results to return, between 1-100 (default: 20)\n  - offset (number): Number of results to skip for pagination (default: 0)\n  - response_format ('markdown' | 'json'): Output format (default: 'markdown')\n\nReturns:\n  For JSON format: Structured data with schema:\n  {\n    \"total\": number,           // Total number of matches found\n    \"count\": number,           // Number of results in this response\n    \"offset\": number,          // Current pagination offset\n    \"users\": [\n      {\n        \"id\": string,          // User ID (e.g., \"U123456789\")\n        \"name\": string,        // Full name (e.g., \"John Doe\")\n        \"email\": string,       // Email address\n        \"team\": string,        // Team name (optional)\n        \"active\": boolean      // Whether user is active\n      }\n    ],\n    \"has_more\": boolean,       // Whether more results are available\n    \"next_offset\": number      // Offset for next page (if has_more is true)\n  }\n\nExamples:\n  - Use when: \"Find all marketing team members\" -> params with query=\"team:marketing\"\n  - Use when: \"Search for John's account\" -> params with query=\"john\"\n  - Don't use when: You need to create a user (use example_create_user instead)\n\nError Handling:\n  - Returns \"Error: Rate limit exceeded\" if too many requests (429 status)\n  - Returns \"No users found matching '<query>'\" if search returns empty`,\n    inputSchema: UserSearchInputSchema,\n    annotations: {\n      readOnlyHint: true,\n      destructiveHint: false,\n      idempotentHint: true,\n      openWorldHint: true\n    }\n  },\n  async (params: UserSearchInput) => {\n    try {\n      // Input validation is handled by Zod schema\n      // Make API request using validated parameters\n      const data = await makeApiRequest<any>(\n        \"users/search\",\n        \"GET\",\n        undefined,\n        {\n          q: params.query,\n          limit: params.limit,\n          offset: params.offset\n        }\n      );\n\n      const users = data.users || [];\n      const total = data.total || 0;\n\n      if (!users.length) {\n        return {\n          content: [{\n            type: \"text\",\n            text: `No users found matching '${params.query}'`\n          }]\n        };\n      }\n\n      // Prepare structured output\n      const output = {\n        total,\n        count: users.length,\n        offset: params.offset,\n        users: users.map((user: any) => ({\n          id: user.id,\n          name: user.name,\n          email: user.email,\n          ...(user.team ? { team: user.team } : {}),\n          active: user.active ?? true\n        })),\n        has_more: total > params.offset + users.length,\n        ...(total > params.offset + users.length ? {\n          next_offset: params.offset + users.length\n        } : {})\n      };\n\n      // Format text representation based on requested format\n      let textContent: string;\n      if (params.response_format === ResponseFormat.MARKDOWN) {\n        const lines = [`# User Search Results: '${params.query}'`, \"\",\n          `Found ${total} users (showing ${users.length})`, \"\"];\n        for (const user of users) {\n          lines.push(`## ${user.name} (${user.id})`);\n          lines.push(`- **Email**: ${user.email}`);\n          if (user.team) lines.push(`- **Team**: ${user.team}`);\n          lines.push(\"\");\n        }\n        textContent = lines.join(\"\\n\");\n      } else {\n        textContent = JSON.stringify(output, null, 2);\n      }\n\n      return {\n        content: [{ type: \"text\", text: textContent }],\n        structuredContent: output // Modern pattern for structured data\n      };\n    } catch (error) {\n      return {\n        content: [{\n          type: \"text\",\n          text: handleApiError(error)\n        }]\n      };\n    }\n  }\n);\n```\n\n## Zod Schemas for Input Validation\n\nZod provides runtime type validation:\n\n```typescript\nimport { z } from \"zod\";\n\n// Basic schema with validation\nconst CreateUserSchema = z.object({\n  name: z.string()\n    .min(1, \"Name is required\")\n    .max(100, \"Name must not exceed 100 characters\"),\n  email: z.string()\n    .email(\"Invalid email format\"),\n  age: z.number()\n    .int(\"Age must be a whole number\")\n    .min(0, \"Age cannot be negative\")\n    .max(150, \"Age cannot be greater than 150\")\n}).strict();  // Use .strict() to forbid extra fields\n\n// Enums\nenum ResponseFormat {\n  MARKDOWN = \"markdown\",\n  JSON = \"json\"\n}\n\nconst SearchSchema = z.object({\n  response_format: z.nativeEnum(ResponseFormat)\n    .default(ResponseFormat.MARKDOWN)\n    .describe(\"Output format\")\n});\n\n// Optional fields with defaults\nconst PaginationSchema = z.object({\n  limit: z.number()\n    .int()\n    .min(1)\n    .max(100)\n    .default(20)\n    .describe(\"Maximum results to return\"),\n  offset: z.number()\n    .int()\n    .min(0)\n    .default(0)\n    .describe(\"Number of results to skip\")\n});\n```\n\n## Response Format Options\n\nSupport multiple output formats for flexibility:\n\n```typescript\nenum ResponseFormat {\n  MARKDOWN = \"markdown\",\n  JSON = \"json\"\n}\n\nconst inputSchema = z.object({\n  query: z.string(),\n  response_format: z.nativeEnum(ResponseFormat)\n    .default(ResponseFormat.MARKDOWN)\n    .describe(\"Output format: 'markdown' for human-readable or 'json' for machine-readable\")\n});\n```\n\n**Markdown format**:\n- Use headers, lists, and formatting for clarity\n- Convert timestamps to human-readable format\n- Show display names with IDs in parentheses\n- Omit verbose metadata\n- Group related information logically\n\n**JSON format**:\n- Return complete, structured data suitable for programmatic processing\n- Include all available fields and metadata\n- Use consistent field names and types\n\n## Pagination Implementation\n\nFor tools that list resources:\n\n```typescript\nconst ListSchema = z.object({\n  limit: z.number().int().min(1).max(100).default(20),\n  offset: z.number().int().min(0).default(0)\n});\n\nasync function listItems(params: z.infer<typeof ListSchema>) {\n  const data = await apiRequest(params.limit, params.offset);\n\n  const response = {\n    total: data.total,\n    count: data.items.length,\n    offset: params.offset,\n    items: data.items,\n    has_more: data.total > params.offset + data.items.length,\n    next_offset: data.total > params.offset + data.items.length\n      ? params.offset + data.items.length\n      : undefined\n  };\n\n  return JSON.stringify(response, null, 2);\n}\n```\n\n## Character Limits and Truncation\n\nAdd a CHARACTER_LIMIT constant to prevent overwhelming responses:\n\n```typescript\n// At module level in constants.ts\nexport const CHARACTER_LIMIT = 25000;  // Maximum response size in characters\n\nasync function searchTool(params: SearchInput) {\n  let result = generateResponse(data);\n\n  // Check character limit and truncate if needed\n  if (result.length > CHARACTER_LIMIT) {\n    const truncatedData = data.slice(0, Math.max(1, data.length / 2));\n    response.data = truncatedData;\n    response.truncated = true;\n    response.truncation_message =\n      `Response truncated from ${data.length} to ${truncatedData.length} items. ` +\n      `Use 'offset' parameter or add filters to see more results.`;\n    result = JSON.stringify(response, null, 2);\n  }\n\n  return result;\n}\n```\n\n## Error Handling\n\nProvide clear, actionable error messages:\n\n```typescript\nimport axios, { AxiosError } from \"axios\";\n\nfunction handleApiError(error: unknown): string {\n  if (error instanceof AxiosError) {\n    if (error.response) {\n      switch (error.response.status) {\n        case 404:\n          return \"Error: Resource not found. Please check the ID is correct.\";\n        case 403:\n          return \"Error: Permission denied. You don't have access to this resource.\";\n        case 429:\n          return \"Error: Rate limit exceeded. Please wait before making more requests.\";\n        default:\n          return `Error: API request failed with status ${error.response.status}`;\n      }\n    } else if (error.code === \"ECONNABORTED\") {\n      return \"Error: Request timed out. Please try again.\";\n    }\n  }\n  return `Error: Unexpected error occurred: ${error instanceof Error ? error.message : String(error)}`;\n}\n```\n\n## Shared Utilities\n\nExtract common functionality into reusable functions:\n\n```typescript\n// Shared API request function\nasync function makeApiRequest<T>(\n  endpoint: string,\n  method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\" = \"GET\",\n  data?: any,\n  params?: any\n): Promise<T> {\n  try {\n    const response = await axios({\n      method,\n      url: `${API_BASE_URL}/${endpoint}`,\n      data,\n      params,\n      timeout: 30000,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n```\n\n## Async/Await Best Practices\n\nAlways use async/await for network requests and I/O operations:\n\n```typescript\n// Good: Async network request\nasync function fetchData(resourceId: string): Promise<ResourceData> {\n  const response = await axios.get(`${API_URL}/resource/${resourceId}`);\n  return response.data;\n}\n\n// Bad: Promise chains\nfunction fetchData(resourceId: string): Promise<ResourceData> {\n  return axios.get(`${API_URL}/resource/${resourceId}`)\n    .then(response => response.data);  // Harder to read and maintain\n}\n```\n\n## TypeScript Best Practices\n\n1. **Use Strict TypeScript**: Enable strict mode in tsconfig.json\n2. **Define Interfaces**: Create clear interface definitions for all data structures\n3. **Avoid `any`**: Use proper types or `unknown` instead of `any`\n4. **Zod for Runtime Validation**: Use Zod schemas to validate external data\n5. **Type Guards**: Create type guard functions for complex type checking\n6. **Error Handling**: Always use try-catch with proper error type checking\n7. **Null Safety**: Use optional chaining (`?.`) and nullish coalescing (`??`)\n\n```typescript\n// Good: Type-safe with Zod and interfaces\ninterface UserResponse {\n  id: string;\n  name: string;\n  email: string;\n  team?: string;\n  active: boolean;\n}\n\nconst UserSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  email: z.string().email(),\n  team: z.string().optional(),\n  active: z.boolean()\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nasync function getUser(id: string): Promise<User> {\n  const data = await apiCall(`/users/${id}`);\n  return UserSchema.parse(data);  // Runtime validation\n}\n\n// Bad: Using any\nasync function getUser(id: string): Promise<any> {\n  return await apiCall(`/users/${id}`);  // No type safety\n}\n```\n\n## Package Configuration\n\n### package.json\n\n```json\n{\n  \"name\": \"{service}-mcp-server\",\n  \"version\": \"1.0.0\",\n  \"description\": \"MCP server for {Service} API integration\",\n  \"type\": \"module\",\n  \"main\": \"dist/index.js\",\n  \"scripts\": {\n    \"start\": \"node dist/index.js\",\n    \"dev\": \"tsx watch src/index.ts\",\n    \"build\": \"tsc\",\n    \"clean\": \"rm -rf dist\"\n  },\n  \"engines\": {\n    \"node\": \">=18\"\n  },\n  \"dependencies\": {\n    \"@modelcontextprotocol/sdk\": \"^1.6.1\",\n    \"axios\": \"^1.7.9\",\n    \"zod\": \"^3.23.8\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^22.10.0\",\n    \"tsx\": \"^4.19.2\",\n    \"typescript\": \"^5.7.2\"\n  }\n}\n```\n\n### tsconfig.json\n\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2022\",\n    \"module\": \"Node16\",\n    \"moduleResolution\": \"Node16\",\n    \"lib\": [\"ES2022\"],\n    \"outDir\": \"./dist\",\n    \"rootDir\": \"./src\",\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"allowSyntheticDefaultImports\": true\n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"dist\"]\n}\n```\n\n## Complete Example\n\n```typescript\n#!/usr/bin/env node\n/**\n * MCP Server for Example Service.\n *\n * This server provides tools to interact with Example API, including user search,\n * project management, and data export capabilities.\n */\n\nimport { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\";\nimport { StdioServerTransport } from \"@modelcontextprotocol/sdk/server/stdio.js\";\nimport { z } from \"zod\";\nimport axios, { AxiosError } from \"axios\";\n\n// Constants\nconst API_BASE_URL = \"https://api.example.com/v1\";\nconst CHARACTER_LIMIT = 25000;\n\n// Enums\nenum ResponseFormat {\n  MARKDOWN = \"markdown\",\n  JSON = \"json\"\n}\n\n// Zod schemas\nconst UserSearchInputSchema = z.object({\n  query: z.string()\n    .min(2, \"Query must be at least 2 characters\")\n    .max(200, \"Query must not exceed 200 characters\")\n    .describe(\"Search string to match against names/emails\"),\n  limit: z.number()\n    .int()\n    .min(1)\n    .max(100)\n    .default(20)\n    .describe(\"Maximum results to return\"),\n  offset: z.number()\n    .int()\n    .min(0)\n    .default(0)\n    .describe(\"Number of results to skip for pagination\"),\n  response_format: z.nativeEnum(ResponseFormat)\n    .default(ResponseFormat.MARKDOWN)\n    .describe(\"Output format: 'markdown' for human-readable or 'json' for machine-readable\")\n}).strict();\n\ntype UserSearchInput = z.infer<typeof UserSearchInputSchema>;\n\n// Shared utility functions\nasync function makeApiRequest<T>(\n  endpoint: string,\n  method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\" = \"GET\",\n  data?: any,\n  params?: any\n): Promise<T> {\n  try {\n    const response = await axios({\n      method,\n      url: `${API_BASE_URL}/${endpoint}`,\n      data,\n      params,\n      timeout: 30000,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nfunction handleApiError(error: unknown): string {\n  if (error instanceof AxiosError) {\n    if (error.response) {\n      switch (error.response.status) {\n        case 404:\n          return \"Error: Resource not found. Please check the ID is correct.\";\n        case 403:\n          return \"Error: Permission denied. You don't have access to this resource.\";\n        case 429:\n          return \"Error: Rate limit exceeded. Please wait before making more requests.\";\n        default:\n          return `Error: API request failed with status ${error.response.status}`;\n      }\n    } else if (error.code === \"ECONNABORTED\") {\n      return \"Error: Request timed out. Please try again.\";\n    }\n  }\n  return `Error: Unexpected error occurred: ${error instanceof Error ? error.message : String(error)}`;\n}\n\n// Create MCP server instance\nconst server = new McpServer({\n  name: \"example-mcp\",\n  version: \"1.0.0\"\n});\n\n// Register tools\nserver.registerTool(\n  \"example_search_users\",\n  {\n    title: \"Search Example Users\",\n    description: `[Full description as shown above]`,\n    inputSchema: UserSearchInputSchema,\n    annotations: {\n      readOnlyHint: true,\n      destructiveHint: false,\n      idempotentHint: true,\n      openWorldHint: true\n    }\n  },\n  async (params: UserSearchInput) => {\n    // Implementation as shown above\n  }\n);\n\n// Main function\n// For stdio (local):\nasync function runStdio() {\n  if (!process.env.EXAMPLE_API_KEY) {\n    console.error(\"ERROR: EXAMPLE_API_KEY environment variable is required\");\n    process.exit(1);\n  }\n\n  const transport = new StdioServerTransport();\n  await server.connect(transport);\n  console.error(\"MCP server running via stdio\");\n}\n\n// For streamable HTTP (remote):\nasync function runHTTP() {\n  if (!process.env.EXAMPLE_API_KEY) {\n    console.error(\"ERROR: EXAMPLE_API_KEY environment variable is required\");\n    process.exit(1);\n  }\n\n  const app = express();\n  app.use(express.json());\n\n  app.post('/mcp', async (req, res) => {\n    const transport = new StreamableHTTPServerTransport({\n      sessionIdGenerator: undefined,\n      enableJsonResponse: true\n    });\n    res.on('close', () => transport.close());\n    await server.connect(transport);\n    await transport.handleRequest(req, res, req.body);\n  });\n\n  const port = parseInt(process.env.PORT || '3000');\n  app.listen(port, () => {\n    console.error(`MCP server running on http://localhost:${port}/mcp`);\n  });\n}\n\n// Choose transport based on environment\nconst transport = process.env.TRANSPORT || 'stdio';\nif (transport === 'http') {\n  runHTTP().catch(error => {\n    console.error(\"Server error:\", error);\n    process.exit(1);\n  });\n} else {\n  runStdio().catch(error => {\n    console.error(\"Server error:\", error);\n    process.exit(1);\n  });\n}\n```\n\n---\n\n## Advanced MCP Features\n\n### Resource Registration\n\nExpose data as resources for efficient, URI-based access:\n\n```typescript\nimport { ResourceTemplate } from \"@modelcontextprotocol/sdk/types.js\";\n\n// Register a resource with URI template\nserver.registerResource(\n  {\n    uri: \"file://documents/{name}\",\n    name: \"Document Resource\",\n    description: \"Access documents by name\",\n    mimeType: \"text/plain\"\n  },\n  async (uri: string) => {\n    // Extract parameter from URI\n    const match = uri.match(/^file:\\/\\/documents\\/(.+)$/);\n    if (!match) {\n      throw new Error(\"Invalid URI format\");\n    }\n\n    const documentName = match[1];\n    const content = await loadDocument(documentName);\n\n    return {\n      contents: [{\n        uri,\n        mimeType: \"text/plain\",\n        text: content\n      }]\n    };\n  }\n);\n\n// List available resources dynamically\nserver.registerResourceList(async () => {\n  const documents = await getAvailableDocuments();\n  return {\n    resources: documents.map(doc => ({\n      uri: `file://documents/${doc.name}`,\n      name: doc.name,\n      mimeType: \"text/plain\",\n      description: doc.description\n    }))\n  };\n});\n```\n\n**When to use Resources vs Tools:**\n- **Resources**: For data access with simple URI-based parameters\n- **Tools**: For complex operations requiring validation and business logic\n- **Resources**: When data is relatively static or template-based\n- **Tools**: When operations have side effects or complex workflows\n\n### Transport Options\n\nThe TypeScript SDK supports two main transport mechanisms:\n\n#### Streamable HTTP (Recommended for Remote Servers)\n\n```typescript\nimport { StreamableHTTPServerTransport } from \"@modelcontextprotocol/sdk/server/streamableHttp.js\";\nimport express from \"express\";\n\nconst app = express();\napp.use(express.json());\n\napp.post('/mcp', async (req, res) => {\n  // Create new transport for each request (stateless, prevents request ID collisions)\n  const transport = new StreamableHTTPServerTransport({\n    sessionIdGenerator: undefined,\n    enableJsonResponse: true\n  });\n\n  res.on('close', () => transport.close());\n\n  await server.connect(transport);\n  await transport.handleRequest(req, res, req.body);\n});\n\napp.listen(3000);\n```\n\n#### stdio (For Local Integrations)\n\n```typescript\nimport { StdioServerTransport } from \"@modelcontextprotocol/sdk/server/stdio.js\";\n\nconst transport = new StdioServerTransport();\nawait server.connect(transport);\n```\n\n**Transport selection:**\n- **Streamable HTTP**: Web services, remote access, multiple clients\n- **stdio**: Command-line tools, local development, subprocess integration\n\n### Notification Support\n\nNotify clients when server state changes:\n\n```typescript\n// Notify when tools list changes\nserver.notification({\n  method: \"notifications/tools/list_changed\"\n});\n\n// Notify when resources change\nserver.notification({\n  method: \"notifications/resources/list_changed\"\n});\n```\n\nUse notifications sparingly - only when server capabilities genuinely change.\n\n---\n\n## Code Best Practices\n\n### Code Composability and Reusability\n\nYour implementation MUST prioritize composability and code reuse:\n\n1. **Extract Common Functionality**:\n   - Create reusable helper functions for operations used across multiple tools\n   - Build shared API clients for HTTP requests instead of duplicating code\n   - Centralize error handling logic in utility functions\n   - Extract business logic into dedicated functions that can be composed\n   - Extract shared markdown or JSON field selection & formatting functionality\n\n2. **Avoid Duplication**:\n   - NEVER copy-paste similar code between tools\n   - If you find yourself writing similar logic twice, extract it into a function\n   - Common operations like pagination, filtering, field selection, and formatting should be shared\n   - Authentication/authorization logic should be centralized\n\n## Building and Running\n\nAlways build your TypeScript code before running:\n\n```bash\n# Build the project\nnpm run build\n\n# Run the server\nnpm start\n\n# Development with auto-reload\nnpm run dev\n```\n\nAlways ensure `npm run build` completes successfully before considering the implementation complete.\n\n## Quality Checklist\n\nBefore finalizing your Node/TypeScript MCP server implementation, ensure:\n\n### Strategic Design\n- [ ] Tools enable complete workflows, not just API endpoint wrappers\n- [ ] Tool names reflect natural task subdivisions\n- [ ] Response formats optimize for agent context efficiency\n- [ ] Human-readable identifiers used where appropriate\n- [ ] Error messages guide agents toward correct usage\n\n### Implementation Quality\n- [ ] FOCUSED IMPLEMENTATION: Most important and valuable tools implemented\n- [ ] All tools registered using `registerTool` with complete configuration\n- [ ] All tools include `title`, `description`, `inputSchema`, and `annotations`\n- [ ] Annotations correctly set (readOnlyHint, destructiveHint, idempotentHint, openWorldHint)\n- [ ] All tools use Zod schemas for runtime input validation with `.strict()` enforcement\n- [ ] All Zod schemas have proper constraints and descriptive error messages\n- [ ] All tools have comprehensive descriptions with explicit input/output types\n- [ ] Descriptions include return value examples and complete schema documentation\n- [ ] Error messages are clear, actionable, and educational\n\n### TypeScript Quality\n- [ ] TypeScript interfaces are defined for all data structures\n- [ ] Strict TypeScript is enabled in tsconfig.json\n- [ ] No use of `any` type - use `unknown` or proper types instead\n- [ ] All async functions have explicit Promise<T> return types\n- [ ] Error handling uses proper type guards (e.g., `axios.isAxiosError`, `z.ZodError`)\n\n### Advanced Features (where applicable)\n- [ ] Resources registered for appropriate data endpoints\n- [ ] Appropriate transport configured (stdio or streamable HTTP)\n- [ ] Notifications implemented for dynamic server capabilities\n- [ ] Type-safe with SDK interfaces\n\n### Project Configuration\n- [ ] Package.json includes all necessary dependencies\n- [ ] Build script produces working JavaScript in dist/ directory\n- [ ] Main entry point is properly configured as dist/index.js\n- [ ] Server name follows format: `{service}-mcp-server`\n- [ ] tsconfig.json properly configured with strict mode\n\n### Code Quality\n- [ ] Pagination is properly implemented where applicable\n- [ ] Large responses check CHARACTER_LIMIT constant and truncate with clear messages\n- [ ] Filtering options are provided for potentially large result sets\n- [ ] All network operations handle timeouts and connection errors gracefully\n- [ ] Common functionality is extracted into reusable functions\n- [ ] Return types are consistent across similar operations\n\n### Testing and Build\n- [ ] `npm run build` completes successfully without errors\n- [ ] dist/index.js created and executable\n- [ ] Server runs: `node dist/index.js --help`\n- [ ] All imports resolve correctly\n- [ ] Sample tool calls work as expected",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/mcp-builder/reference/python_mcp_server.md": "# Python MCP Server Implementation Guide\n\n## Overview\n\nThis document provides Python-specific best practices and examples for implementing MCP servers using the MCP Python SDK. It covers server setup, tool registration patterns, input validation with Pydantic, error handling, and complete working examples.\n\n---\n\n## Quick Reference\n\n### Key Imports\n```python\nfrom mcp.server.fastmcp import FastMCP\nfrom pydantic import BaseModel, Field, field_validator, ConfigDict\nfrom typing import Optional, List, Dict, Any\nfrom enum import Enum\nimport httpx\n```\n\n### Server Initialization\n```python\nmcp = FastMCP(\"service_mcp\")\n```\n\n### Tool Registration Pattern\n```python\n@mcp.tool(name=\"tool_name\", annotations={...})\nasync def tool_function(params: InputModel) -> str:\n    # Implementation\n    pass\n```\n\n---\n\n## MCP Python SDK and FastMCP\n\nThe official MCP Python SDK provides FastMCP, a high-level framework for building MCP servers. It provides:\n- Automatic description and inputSchema generation from function signatures and docstrings\n- Pydantic model integration for input validation\n- Decorator-based tool registration with `@mcp.tool`\n\n**For complete SDK documentation, use WebFetch to load:**\n`https://raw.githubusercontent.com/modelcontextprotocol/python-sdk/main/README.md`\n\n## Server Naming Convention\n\nPython MCP servers must follow this naming pattern:\n- **Format**: `{service}_mcp` (lowercase with underscores)\n- **Examples**: `github_mcp`, `jira_mcp`, `stripe_mcp`\n\nThe name should be:\n- General (not tied to specific features)\n- Descriptive of the service/API being integrated\n- Easy to infer from the task description\n- Without version numbers or dates\n\n## Tool Implementation\n\n### Tool Naming\n\nUse snake_case for tool names (e.g., \"search_users\", \"create_project\", \"get_channel_info\") with clear, action-oriented names.\n\n**Avoid Naming Conflicts**: Include the service context to prevent overlaps:\n- Use \"slack_send_message\" instead of just \"send_message\"\n- Use \"github_create_issue\" instead of just \"create_issue\"\n- Use \"asana_list_tasks\" instead of just \"list_tasks\"\n\n### Tool Structure with FastMCP\n\nTools are defined using the `@mcp.tool` decorator with Pydantic models for input validation:\n\n```python\nfrom pydantic import BaseModel, Field, ConfigDict\nfrom mcp.server.fastmcp import FastMCP\n\n# Initialize the MCP server\nmcp = FastMCP(\"example_mcp\")\n\n# Define Pydantic model for input validation\nclass ServiceToolInput(BaseModel):\n    '''Input model for service tool operation.'''\n    model_config = ConfigDict(\n        str_strip_whitespace=True,  # Auto-strip whitespace from strings\n        validate_assignment=True,    # Validate on assignment\n        extra='forbid'              # Forbid extra fields\n    )\n\n    param1: str = Field(..., description=\"First parameter description (e.g., 'user123', 'project-abc')\", min_length=1, max_length=100)\n    param2: Optional[int] = Field(default=None, description=\"Optional integer parameter with constraints\", ge=0, le=1000)\n    tags: Optional[List[str]] = Field(default_factory=list, description=\"List of tags to apply\", max_items=10)\n\n@mcp.tool(\n    name=\"service_tool_name\",\n    annotations={\n        \"title\": \"Human-Readable Tool Title\",\n        \"readOnlyHint\": True,     # Tool does not modify environment\n        \"destructiveHint\": False,  # Tool does not perform destructive operations\n        \"idempotentHint\": True,    # Repeated calls have no additional effect\n        \"openWorldHint\": False     # Tool does not interact with external entities\n    }\n)\nasync def service_tool_name(params: ServiceToolInput) -> str:\n    '''Tool description automatically becomes the 'description' field.\n\n    This tool performs a specific operation on the service. It validates all inputs\n    using the ServiceToolInput Pydantic model before processing.\n\n    Args:\n        params (ServiceToolInput): Validated input parameters containing:\n            - param1 (str): First parameter description\n            - param2 (Optional[int]): Optional parameter with default\n            - tags (Optional[List[str]]): List of tags\n\n    Returns:\n        str: JSON-formatted response containing operation results\n    '''\n    # Implementation here\n    pass\n```\n\n## Pydantic v2 Key Features\n\n- Use `model_config` instead of nested `Config` class\n- Use `field_validator` instead of deprecated `validator`\n- Use `model_dump()` instead of deprecated `dict()`\n- Validators require `@classmethod` decorator\n- Type hints are required for validator methods\n\n```python\nfrom pydantic import BaseModel, Field, field_validator, ConfigDict\n\nclass CreateUserInput(BaseModel):\n    model_config = ConfigDict(\n        str_strip_whitespace=True,\n        validate_assignment=True\n    )\n\n    name: str = Field(..., description=\"User's full name\", min_length=1, max_length=100)\n    email: str = Field(..., description=\"User's email address\", pattern=r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$')\n    age: int = Field(..., description=\"User's age\", ge=0, le=150)\n\n    @field_validator('email')\n    @classmethod\n    def validate_email(cls, v: str) -> str:\n        if not v.strip():\n            raise ValueError(\"Email cannot be empty\")\n        return v.lower()\n```\n\n## Response Format Options\n\nSupport multiple output formats for flexibility:\n\n```python\nfrom enum import Enum\n\nclass ResponseFormat(str, Enum):\n    '''Output format for tool responses.'''\n    MARKDOWN = \"markdown\"\n    JSON = \"json\"\n\nclass UserSearchInput(BaseModel):\n    query: str = Field(..., description=\"Search query\")\n    response_format: ResponseFormat = Field(\n        default=ResponseFormat.MARKDOWN,\n        description=\"Output format: 'markdown' for human-readable or 'json' for machine-readable\"\n    )\n```\n\n**Markdown format**:\n- Use headers, lists, and formatting for clarity\n- Convert timestamps to human-readable format (e.g., \"2024-01-15 10:30:00 UTC\" instead of epoch)\n- Show display names with IDs in parentheses (e.g., \"@john.doe (U123456)\")\n- Omit verbose metadata (e.g., show only one profile image URL, not all sizes)\n- Group related information logically\n\n**JSON format**:\n- Return complete, structured data suitable for programmatic processing\n- Include all available fields and metadata\n- Use consistent field names and types\n\n## Pagination Implementation\n\nFor tools that list resources:\n\n```python\nclass ListInput(BaseModel):\n    limit: Optional[int] = Field(default=20, description=\"Maximum results to return\", ge=1, le=100)\n    offset: Optional[int] = Field(default=0, description=\"Number of results to skip for pagination\", ge=0)\n\nasync def list_items(params: ListInput) -> str:\n    # Make API request with pagination\n    data = await api_request(limit=params.limit, offset=params.offset)\n\n    # Return pagination info\n    response = {\n        \"total\": data[\"total\"],\n        \"count\": len(data[\"items\"]),\n        \"offset\": params.offset,\n        \"items\": data[\"items\"],\n        \"has_more\": data[\"total\"] > params.offset + len(data[\"items\"]),\n        \"next_offset\": params.offset + len(data[\"items\"]) if data[\"total\"] > params.offset + len(data[\"items\"]) else None\n    }\n    return json.dumps(response, indent=2)\n```\n\n## Error Handling\n\nProvide clear, actionable error messages:\n\n```python\ndef _handle_api_error(e: Exception) -> str:\n    '''Consistent error formatting across all tools.'''\n    if isinstance(e, httpx.HTTPStatusError):\n        if e.response.status_code == 404:\n            return \"Error: Resource not found. Please check the ID is correct.\"\n        elif e.response.status_code == 403:\n            return \"Error: Permission denied. You don't have access to this resource.\"\n        elif e.response.status_code == 429:\n            return \"Error: Rate limit exceeded. Please wait before making more requests.\"\n        return f\"Error: API request failed with status {e.response.status_code}\"\n    elif isinstance(e, httpx.TimeoutException):\n        return \"Error: Request timed out. Please try again.\"\n    return f\"Error: Unexpected error occurred: {type(e).__name__}\"\n```\n\n## Shared Utilities\n\nExtract common functionality into reusable functions:\n\n```python\n# Shared API request function\nasync def _make_api_request(endpoint: str, method: str = \"GET\", **kwargs) -> dict:\n    '''Reusable function for all API calls.'''\n    async with httpx.AsyncClient() as client:\n        response = await client.request(\n            method,\n            f\"{API_BASE_URL}/{endpoint}\",\n            timeout=30.0,\n            **kwargs\n        )\n        response.raise_for_status()\n        return response.json()\n```\n\n## Async/Await Best Practices\n\nAlways use async/await for network requests and I/O operations:\n\n```python\n# Good: Async network request\nasync def fetch_data(resource_id: str) -> dict:\n    async with httpx.AsyncClient() as client:\n        response = await client.get(f\"{API_URL}/resource/{resource_id}\")\n        response.raise_for_status()\n        return response.json()\n\n# Bad: Synchronous request\ndef fetch_data(resource_id: str) -> dict:\n    response = requests.get(f\"{API_URL}/resource/{resource_id}\")  # Blocks\n    return response.json()\n```\n\n## Type Hints\n\nUse type hints throughout:\n\n```python\nfrom typing import Optional, List, Dict, Any\n\nasync def get_user(user_id: str) -> Dict[str, Any]:\n    data = await fetch_user(user_id)\n    return {\"id\": data[\"id\"], \"name\": data[\"name\"]}\n```\n\n## Tool Docstrings\n\nEvery tool must have comprehensive docstrings with explicit type information:\n\n```python\nasync def search_users(params: UserSearchInput) -> str:\n    '''\n    Search for users in the Example system by name, email, or team.\n\n    This tool searches across all user profiles in the Example platform,\n    supporting partial matches and various search filters. It does NOT\n    create or modify users, only searches existing ones.\n\n    Args:\n        params (UserSearchInput): Validated input parameters containing:\n            - query (str): Search string to match against names/emails (e.g., \"john\", \"@example.com\", \"team:marketing\")\n            - limit (Optional[int]): Maximum results to return, between 1-100 (default: 20)\n            - offset (Optional[int]): Number of results to skip for pagination (default: 0)\n\n    Returns:\n        str: JSON-formatted string containing search results with the following schema:\n\n        Success response:\n        {\n            \"total\": int,           # Total number of matches found\n            \"count\": int,           # Number of results in this response\n            \"offset\": int,          # Current pagination offset\n            \"users\": [\n                {\n                    \"id\": str,      # User ID (e.g., \"U123456789\")\n                    \"name\": str,    # Full name (e.g., \"John Doe\")\n                    \"email\": str,   # Email address (e.g., \"john@example.com\")\n                    \"team\": str     # Team name (e.g., \"Marketing\") - optional\n                }\n            ]\n        }\n\n        Error response:\n        \"Error: <error message>\" or \"No users found matching '<query>'\"\n\n    Examples:\n        - Use when: \"Find all marketing team members\" -> params with query=\"team:marketing\"\n        - Use when: \"Search for John's account\" -> params with query=\"john\"\n        - Don't use when: You need to create a user (use example_create_user instead)\n        - Don't use when: You have a user ID and need full details (use example_get_user instead)\n\n    Error Handling:\n        - Input validation errors are handled by Pydantic model\n        - Returns \"Error: Rate limit exceeded\" if too many requests (429 status)\n        - Returns \"Error: Invalid API authentication\" if API key is invalid (401 status)\n        - Returns formatted list of results or \"No users found matching 'query'\"\n    '''\n```\n\n## Complete Example\n\nSee below for a complete Python MCP server example:\n\n```python\n#!/usr/bin/env python3\n'''\nMCP Server for Example Service.\n\nThis server provides tools to interact with Example API, including user search,\nproject management, and data export capabilities.\n'''\n\nfrom typing import Optional, List, Dict, Any\nfrom enum import Enum\nimport httpx\nfrom pydantic import BaseModel, Field, field_validator, ConfigDict\nfrom mcp.server.fastmcp import FastMCP\n\n# Initialize the MCP server\nmcp = FastMCP(\"example_mcp\")\n\n# Constants\nAPI_BASE_URL = \"https://api.example.com/v1\"\n\n# Enums\nclass ResponseFormat(str, Enum):\n    '''Output format for tool responses.'''\n    MARKDOWN = \"markdown\"\n    JSON = \"json\"\n\n# Pydantic Models for Input Validation\nclass UserSearchInput(BaseModel):\n    '''Input model for user search operations.'''\n    model_config = ConfigDict(\n        str_strip_whitespace=True,\n        validate_assignment=True\n    )\n\n    query: str = Field(..., description=\"Search string to match against names/emails\", min_length=2, max_length=200)\n    limit: Optional[int] = Field(default=20, description=\"Maximum results to return\", ge=1, le=100)\n    offset: Optional[int] = Field(default=0, description=\"Number of results to skip for pagination\", ge=0)\n    response_format: ResponseFormat = Field(default=ResponseFormat.MARKDOWN, description=\"Output format\")\n\n    @field_validator('query')\n    @classmethod\n    def validate_query(cls, v: str) -> str:\n        if not v.strip():\n            raise ValueError(\"Query cannot be empty or whitespace only\")\n        return v.strip()\n\n# Shared utility functions\nasync def _make_api_request(endpoint: str, method: str = \"GET\", **kwargs) -> dict:\n    '''Reusable function for all API calls.'''\n    async with httpx.AsyncClient() as client:\n        response = await client.request(\n            method,\n            f\"{API_BASE_URL}/{endpoint}\",\n            timeout=30.0,\n            **kwargs\n        )\n        response.raise_for_status()\n        return response.json()\n\ndef _handle_api_error(e: Exception) -> str:\n    '''Consistent error formatting across all tools.'''\n    if isinstance(e, httpx.HTTPStatusError):\n        if e.response.status_code == 404:\n            return \"Error: Resource not found. Please check the ID is correct.\"\n        elif e.response.status_code == 403:\n            return \"Error: Permission denied. You don't have access to this resource.\"\n        elif e.response.status_code == 429:\n            return \"Error: Rate limit exceeded. Please wait before making more requests.\"\n        return f\"Error: API request failed with status {e.response.status_code}\"\n    elif isinstance(e, httpx.TimeoutException):\n        return \"Error: Request timed out. Please try again.\"\n    return f\"Error: Unexpected error occurred: {type(e).__name__}\"\n\n# Tool definitions\n@mcp.tool(\n    name=\"example_search_users\",\n    annotations={\n        \"title\": \"Search Example Users\",\n        \"readOnlyHint\": True,\n        \"destructiveHint\": False,\n        \"idempotentHint\": True,\n        \"openWorldHint\": True\n    }\n)\nasync def example_search_users(params: UserSearchInput) -> str:\n    '''Search for users in the Example system by name, email, or team.\n\n    [Full docstring as shown above]\n    '''\n    try:\n        # Make API request using validated parameters\n        data = await _make_api_request(\n            \"users/search\",\n            params={\n                \"q\": params.query,\n                \"limit\": params.limit,\n                \"offset\": params.offset\n            }\n        )\n\n        users = data.get(\"users\", [])\n        total = data.get(\"total\", 0)\n\n        if not users:\n            return f\"No users found matching '{params.query}'\"\n\n        # Format response based on requested format\n        if params.response_format == ResponseFormat.MARKDOWN:\n            lines = [f\"# User Search Results: '{params.query}'\", \"\"]\n            lines.append(f\"Found {total} users (showing {len(users)})\")\n            lines.append(\"\")\n\n            for user in users:\n                lines.append(f\"## {user['name']} ({user['id']})\")\n                lines.append(f\"- **Email**: {user['email']}\")\n                if user.get('team'):\n                    lines.append(f\"- **Team**: {user['team']}\")\n                lines.append(\"\")\n\n            return \"\\n\".join(lines)\n\n        else:\n            # Machine-readable JSON format\n            import json\n            response = {\n                \"total\": total,\n                \"count\": len(users),\n                \"offset\": params.offset,\n                \"users\": users\n            }\n            return json.dumps(response, indent=2)\n\n    except Exception as e:\n        return _handle_api_error(e)\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n---\n\n## Advanced FastMCP Features\n\n### Context Parameter Injection\n\nFastMCP can automatically inject a `Context` parameter into tools for advanced capabilities like logging, progress reporting, resource reading, and user interaction:\n\n```python\nfrom mcp.server.fastmcp import FastMCP, Context\n\nmcp = FastMCP(\"example_mcp\")\n\n@mcp.tool()\nasync def advanced_search(query: str, ctx: Context) -> str:\n    '''Advanced tool with context access for logging and progress.'''\n\n    # Report progress for long operations\n    await ctx.report_progress(0.25, \"Starting search...\")\n\n    # Log information for debugging\n    await ctx.log_info(\"Processing query\", {\"query\": query, \"timestamp\": datetime.now()})\n\n    # Perform search\n    results = await search_api(query)\n    await ctx.report_progress(0.75, \"Formatting results...\")\n\n    # Access server configuration\n    server_name = ctx.fastmcp.name\n\n    return format_results(results)\n\n@mcp.tool()\nasync def interactive_tool(resource_id: str, ctx: Context) -> str:\n    '''Tool that can request additional input from users.'''\n\n    # Request sensitive information when needed\n    api_key = await ctx.elicit(\n        prompt=\"Please provide your API key:\",\n        input_type=\"password\"\n    )\n\n    # Use the provided key\n    return await api_call(resource_id, api_key)\n```\n\n**Context capabilities:**\n- `ctx.report_progress(progress, message)` - Report progress for long operations\n- `ctx.log_info(message, data)` / `ctx.log_error()` / `ctx.log_debug()` - Logging\n- `ctx.elicit(prompt, input_type)` - Request input from users\n- `ctx.fastmcp.name` - Access server configuration\n- `ctx.read_resource(uri)` - Read MCP resources\n\n### Resource Registration\n\nExpose data as resources for efficient, template-based access:\n\n```python\n@mcp.resource(\"file://documents/{name}\")\nasync def get_document(name: str) -> str:\n    '''Expose documents as MCP resources.\n\n    Resources are useful for static or semi-static data that doesn't\n    require complex parameters. They use URI templates for flexible access.\n    '''\n    document_path = f\"./docs/{name}\"\n    with open(document_path, \"r\") as f:\n        return f.read()\n\n@mcp.resource(\"config://settings/{key}\")\nasync def get_setting(key: str, ctx: Context) -> str:\n    '''Expose configuration as resources with context.'''\n    settings = await load_settings()\n    return json.dumps(settings.get(key, {}))\n```\n\n**When to use Resources vs Tools:**\n- **Resources**: For data access with simple parameters (URI templates)\n- **Tools**: For complex operations with validation and business logic\n\n### Structured Output Types\n\nFastMCP supports multiple return types beyond strings:\n\n```python\nfrom typing import TypedDict\nfrom dataclasses import dataclass\nfrom pydantic import BaseModel\n\n# TypedDict for structured returns\nclass UserData(TypedDict):\n    id: str\n    name: str\n    email: str\n\n@mcp.tool()\nasync def get_user_typed(user_id: str) -> UserData:\n    '''Returns structured data - FastMCP handles serialization.'''\n    return {\"id\": user_id, \"name\": \"John Doe\", \"email\": \"john@example.com\"}\n\n# Pydantic models for complex validation\nclass DetailedUser(BaseModel):\n    id: str\n    name: str\n    email: str\n    created_at: datetime\n    metadata: Dict[str, Any]\n\n@mcp.tool()\nasync def get_user_detailed(user_id: str) -> DetailedUser:\n    '''Returns Pydantic model - automatically generates schema.'''\n    user = await fetch_user(user_id)\n    return DetailedUser(**user)\n```\n\n### Lifespan Management\n\nInitialize resources that persist across requests:\n\n```python\nfrom contextlib import asynccontextmanager\n\n@asynccontextmanager\nasync def app_lifespan():\n    '''Manage resources that live for the server's lifetime.'''\n    # Initialize connections, load config, etc.\n    db = await connect_to_database()\n    config = load_configuration()\n\n    # Make available to all tools\n    yield {\"db\": db, \"config\": config}\n\n    # Cleanup on shutdown\n    await db.close()\n\nmcp = FastMCP(\"example_mcp\", lifespan=app_lifespan)\n\n@mcp.tool()\nasync def query_data(query: str, ctx: Context) -> str:\n    '''Access lifespan resources through context.'''\n    db = ctx.request_context.lifespan_state[\"db\"]\n    results = await db.query(query)\n    return format_results(results)\n```\n\n### Transport Options\n\nFastMCP supports two main transport mechanisms:\n\n```python\n# stdio transport (for local tools) - default\nif __name__ == \"__main__\":\n    mcp.run()\n\n# Streamable HTTP transport (for remote servers)\nif __name__ == \"__main__\":\n    mcp.run(transport=\"streamable_http\", port=8000)\n```\n\n**Transport selection:**\n- **stdio**: Command-line tools, local integrations, subprocess execution\n- **Streamable HTTP**: Web services, remote access, multiple clients\n\n---\n\n## Code Best Practices\n\n### Code Composability and Reusability\n\nYour implementation MUST prioritize composability and code reuse:\n\n1. **Extract Common Functionality**:\n   - Create reusable helper functions for operations used across multiple tools\n   - Build shared API clients for HTTP requests instead of duplicating code\n   - Centralize error handling logic in utility functions\n   - Extract business logic into dedicated functions that can be composed\n   - Extract shared markdown or JSON field selection & formatting functionality\n\n2. **Avoid Duplication**:\n   - NEVER copy-paste similar code between tools\n   - If you find yourself writing similar logic twice, extract it into a function\n   - Common operations like pagination, filtering, field selection, and formatting should be shared\n   - Authentication/authorization logic should be centralized\n\n### Python-Specific Best Practices\n\n1. **Use Type Hints**: Always include type annotations for function parameters and return values\n2. **Pydantic Models**: Define clear Pydantic models for all input validation\n3. **Avoid Manual Validation**: Let Pydantic handle input validation with constraints\n4. **Proper Imports**: Group imports (standard library, third-party, local)\n5. **Error Handling**: Use specific exception types (httpx.HTTPStatusError, not generic Exception)\n6. **Async Context Managers**: Use `async with` for resources that need cleanup\n7. **Constants**: Define module-level constants in UPPER_CASE\n\n## Quality Checklist\n\nBefore finalizing your Python MCP server implementation, ensure:\n\n### Strategic Design\n- [ ] Tools enable complete workflows, not just API endpoint wrappers\n- [ ] Tool names reflect natural task subdivisions\n- [ ] Response formats optimize for agent context efficiency\n- [ ] Human-readable identifiers used where appropriate\n- [ ] Error messages guide agents toward correct usage\n\n### Implementation Quality\n- [ ] FOCUSED IMPLEMENTATION: Most important and valuable tools implemented\n- [ ] All tools have descriptive names and documentation\n- [ ] Return types are consistent across similar operations\n- [ ] Error handling is implemented for all external calls\n- [ ] Server name follows format: `{service}_mcp`\n- [ ] All network operations use async/await\n- [ ] Common functionality is extracted into reusable functions\n- [ ] Error messages are clear, actionable, and educational\n- [ ] Outputs are properly validated and formatted\n\n### Tool Configuration\n- [ ] All tools implement 'name' and 'annotations' in the decorator\n- [ ] Annotations correctly set (readOnlyHint, destructiveHint, idempotentHint, openWorldHint)\n- [ ] All tools use Pydantic BaseModel for input validation with Field() definitions\n- [ ] All Pydantic Fields have explicit types and descriptions with constraints\n- [ ] All tools have comprehensive docstrings with explicit input/output types\n- [ ] Docstrings include complete schema structure for dict/JSON returns\n- [ ] Pydantic models handle input validation (no manual validation needed)\n\n### Advanced Features (where applicable)\n- [ ] Context injection used for logging, progress, or elicitation\n- [ ] Resources registered for appropriate data endpoints\n- [ ] Lifespan management implemented for persistent connections\n- [ ] Structured output types used (TypedDict, Pydantic models)\n- [ ] Appropriate transport configured (stdio or streamable HTTP)\n\n### Code Quality\n- [ ] File includes proper imports including Pydantic imports\n- [ ] Pagination is properly implemented where applicable\n- [ ] Filtering options are provided for potentially large result sets\n- [ ] All async functions are properly defined with `async def`\n- [ ] HTTP client usage follows async patterns with proper context managers\n- [ ] Type hints are used throughout the code\n- [ ] Constants are defined at module level in UPPER_CASE\n\n### Testing\n- [ ] Server runs successfully: `python your_server.py --help`\n- [ ] All imports resolve correctly\n- [ ] Sample tool calls work as expected\n- [ ] Error scenarios handled gracefully",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator/SKILL.md": "---\nname: skill-creator\ndescription: Guide for creating effective skills. This skill should be used when users want to create a new skill (or update an existing skill) that extends Claude's capabilities with specialized knowledge, workflows, or tool integrations.\nlicense: Complete terms in LICENSE.txt\n---\n\n# Skill Creator\n\nThis skill provides guidance for creating effective skills.\n\n## About Skills\n\nSkills are modular, self-contained packages that extend Claude's capabilities by providing\nspecialized knowledge, workflows, and tools. Think of them as \"onboarding guides\" for specific\ndomains or tasks‚Äîthey transform Claude from a general-purpose agent into a specialized agent\nequipped with procedural knowledge that no model can fully possess.\n\n### What Skills Provide\n\n1. Specialized workflows - Multi-step procedures for specific domains\n2. Tool integrations - Instructions for working with specific file formats or APIs\n3. Domain expertise - Company-specific knowledge, schemas, business logic\n4. Bundled resources - Scripts, references, and assets for complex and repetitive tasks\n\n## Core Principles\n\n### Concise is Key\n\nThe context window is a public good. Skills share the context window with everything else Claude needs: system prompt, conversation history, other Skills' metadata, and the actual user request.\n\n**Default assumption: Claude is already very smart.** Only add context Claude doesn't already have. Challenge each piece of information: \"Does Claude really need this explanation?\" and \"Does this paragraph justify its token cost?\"\n\nPrefer concise examples over verbose explanations.\n\n### Set Appropriate Degrees of Freedom\n\nMatch the level of specificity to the task's fragility and variability:\n\n**High freedom (text-based instructions)**: Use when multiple approaches are valid, decisions depend on context, or heuristics guide the approach.\n\n**Medium freedom (pseudocode or scripts with parameters)**: Use when a preferred pattern exists, some variation is acceptable, or configuration affects behavior.\n\n**Low freedom (specific scripts, few parameters)**: Use when operations are fragile and error-prone, consistency is critical, or a specific sequence must be followed.\n\nThink of Claude as exploring a path: a narrow bridge with cliffs needs specific guardrails (low freedom), while an open field allows many routes (high freedom).\n\n### Anatomy of a Skill\n\nEvery skill consists of a required SKILL.md file and optional bundled resources:\n\n```\nskill-name/\n‚îú‚îÄ‚îÄ SKILL.md (required)\n‚îÇ   ‚îú‚îÄ‚îÄ YAML frontmatter metadata (required)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ name: (required)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ description: (required)\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ compatibility: (optional, rarely needed)\n‚îÇ   ‚îî‚îÄ‚îÄ Markdown instructions (required)\n‚îî‚îÄ‚îÄ Bundled Resources (optional)\n    ‚îú‚îÄ‚îÄ scripts/          - Executable code (Python/Bash/etc.)\n    ‚îú‚îÄ‚îÄ references/       - Documentation intended to be loaded into context as needed\n    ‚îî‚îÄ‚îÄ assets/           - Files used in output (templates, icons, fonts, etc.)\n```\n\n#### SKILL.md (required)\n\nEvery SKILL.md consists of:\n\n- **Frontmatter** (YAML): Contains `name` and `description` fields (required), plus optional fields like `license`, `metadata`, and `compatibility`. Only `name` and `description` are read by Claude to determine when the skill triggers, so be clear and comprehensive about what the skill is and when it should be used. The `compatibility` field is for noting environment requirements (target product, system packages, etc.) but most skills don't need it.\n- **Body** (Markdown): Instructions and guidance for using the skill. Only loaded AFTER the skill triggers (if at all).\n\n#### Bundled Resources (optional)\n\n##### Scripts (`scripts/`)\n\nExecutable code (Python/Bash/etc.) for tasks that require deterministic reliability or are repeatedly rewritten.\n\n- **When to include**: When the same code is being rewritten repeatedly or deterministic reliability is needed\n- **Example**: `scripts/rotate_pdf.py` for PDF rotation tasks\n- **Benefits**: Token efficient, deterministic, may be executed without loading into context\n- **Note**: Scripts may still need to be read by Claude for patching or environment-specific adjustments\n\n##### References (`references/`)\n\nDocumentation and reference material intended to be loaded as needed into context to inform Claude's process and thinking.\n\n- **When to include**: For documentation that Claude should reference while working\n- **Examples**: `references/finance.md` for financial schemas, `references/mnda.md` for company NDA template, `references/policies.md` for company policies, `references/api_docs.md` for API specifications\n- **Use cases**: Database schemas, API documentation, domain knowledge, company policies, detailed workflow guides\n- **Benefits**: Keeps SKILL.md lean, loaded only when Claude determines it's needed\n- **Best practice**: If files are large (>10k words), include grep search patterns in SKILL.md\n- **Avoid duplication**: Information should live in either SKILL.md or references files, not both. Prefer references files for detailed information unless it's truly core to the skill‚Äîthis keeps SKILL.md lean while making information discoverable without hogging the context window. Keep only essential procedural instructions and workflow guidance in SKILL.md; move detailed reference material, schemas, and examples to references files.\n\n##### Assets (`assets/`)\n\nFiles not intended to be loaded into context, but rather used within the output Claude produces.\n\n- **When to include**: When the skill needs files that will be used in the final output\n- **Examples**: `assets/logo.png` for brand assets, `assets/slides.pptx` for PowerPoint templates, `assets/frontend-template/` for HTML/React boilerplate, `assets/font.ttf` for typography\n- **Use cases**: Templates, images, icons, boilerplate code, fonts, sample documents that get copied or modified\n- **Benefits**: Separates output resources from documentation, enables Claude to use files without loading them into context\n\n#### What to Not Include in a Skill\n\nA skill should only contain essential files that directly support its functionality. Do NOT create extraneous documentation or auxiliary files, including:\n\n- README.md\n- INSTALLATION_GUIDE.md\n- QUICK_REFERENCE.md\n- CHANGELOG.md\n- etc.\n\nThe skill should only contain the information needed for an AI agent to do the job at hand. It should not contain auxilary context about the process that went into creating it, setup and testing procedures, user-facing documentation, etc. Creating additional documentation files just adds clutter and confusion.\n\n### Progressive Disclosure Design Principle\n\nSkills use a three-level loading system to manage context efficiently:\n\n1. **Metadata (name + description)** - Always in context (~100 words)\n2. **SKILL.md body** - When skill triggers (<5k words)\n3. **Bundled resources** - As needed by Claude (Unlimited because scripts can be executed without reading into context window)\n\n#### Progressive Disclosure Patterns\n\nKeep SKILL.md body to the essentials and under 500 lines to minimize context bloat. Split content into separate files when approaching this limit. When splitting out content into other files, it is very important to reference them from SKILL.md and describe clearly when to read them, to ensure the reader of the skill knows they exist and when to use them.\n\n**Key principle:** When a skill supports multiple variations, frameworks, or options, keep only the core workflow and selection guidance in SKILL.md. Move variant-specific details (patterns, examples, configuration) into separate reference files.\n\n**Pattern 1: High-level guide with references**\n\n```markdown\n# PDF Processing\n\n## Quick start\n\nExtract text with pdfplumber:\n[code example]\n\n## Advanced features\n\n- **Form filling**: See [FORMS.md](FORMS.md) for complete guide\n- **API reference**: See [REFERENCE.md](REFERENCE.md) for all methods\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for common patterns\n```\n\nClaude loads FORMS.md, REFERENCE.md, or EXAMPLES.md only when needed.\n\n**Pattern 2: Domain-specific organization**\n\nFor Skills with multiple domains, organize content by domain to avoid loading irrelevant context:\n\n```\nbigquery-skill/\n‚îú‚îÄ‚îÄ SKILL.md (overview and navigation)\n‚îî‚îÄ‚îÄ reference/\n    ‚îú‚îÄ‚îÄ finance.md (revenue, billing metrics)\n    ‚îú‚îÄ‚îÄ sales.md (opportunities, pipeline)\n    ‚îú‚îÄ‚îÄ product.md (API usage, features)\n    ‚îî‚îÄ‚îÄ marketing.md (campaigns, attribution)\n```\n\nWhen a user asks about sales metrics, Claude only reads sales.md.\n\nSimilarly, for skills supporting multiple frameworks or variants, organize by variant:\n\n```\ncloud-deploy/\n‚îú‚îÄ‚îÄ SKILL.md (workflow + provider selection)\n‚îî‚îÄ‚îÄ references/\n    ‚îú‚îÄ‚îÄ aws.md (AWS deployment patterns)\n    ‚îú‚îÄ‚îÄ gcp.md (GCP deployment patterns)\n    ‚îî‚îÄ‚îÄ azure.md (Azure deployment patterns)\n```\n\nWhen the user chooses AWS, Claude only reads aws.md.\n\n**Pattern 3: Conditional details**\n\nShow basic content, link to advanced content:\n\n```markdown\n# DOCX Processing\n\n## Creating documents\n\nUse docx-js for new documents. See [DOCX-JS.md](DOCX-JS.md).\n\n## Editing documents\n\nFor simple edits, modify the XML directly.\n\n**For tracked changes**: See [REDLINING.md](REDLINING.md)\n**For OOXML details**: See [OOXML.md](OOXML.md)\n```\n\nClaude reads REDLINING.md or OOXML.md only when the user needs those features.\n\n**Important guidelines:**\n\n- **Avoid deeply nested references** - Keep references one level deep from SKILL.md. All reference files should link directly from SKILL.md.\n- **Structure longer reference files** - For files longer than 100 lines, include a table of contents at the top so Claude can see the full scope when previewing.\n\n## Skill Creation Process\n\nSkill creation involves these steps:\n\n1. Understand the skill with concrete examples\n2. Plan reusable skill contents (scripts, references, assets)\n3. Initialize the skill (run init_skill.py)\n4. Edit the skill (implement resources and write SKILL.md)\n5. Package the skill (run package_skill.py)\n6. Iterate based on real usage\n\nFollow these steps in order, skipping only if there is a clear reason why they are not applicable.\n\n### Step 1: Understanding the Skill with Concrete Examples\n\nSkip this step only when the skill's usage patterns are already clearly understood. It remains valuable even when working with an existing skill.\n\nTo create an effective skill, clearly understand concrete examples of how the skill will be used. This understanding can come from either direct user examples or generated examples that are validated with user feedback.\n\nFor example, when building an image-editor skill, relevant questions include:\n\n- \"What functionality should the image-editor skill support? Editing, rotating, anything else?\"\n- \"Can you give some examples of how this skill would be used?\"\n- \"I can imagine users asking for things like 'Remove the red-eye from this image' or 'Rotate this image'. Are there other ways you imagine this skill being used?\"\n- \"What would a user say that should trigger this skill?\"\n\nTo avoid overwhelming users, avoid asking too many questions in a single message. Start with the most important questions and follow up as needed for better effectiveness.\n\nConclude this step when there is a clear sense of the functionality the skill should support.\n\n### Step 2: Planning the Reusable Skill Contents\n\nTo turn concrete examples into an effective skill, analyze each example by:\n\n1. Considering how to execute on the example from scratch\n2. Identifying what scripts, references, and assets would be helpful when executing these workflows repeatedly\n\nExample: When building a `pdf-editor` skill to handle queries like \"Help me rotate this PDF,\" the analysis shows:\n\n1. Rotating a PDF requires re-writing the same code each time\n2. A `scripts/rotate_pdf.py` script would be helpful to store in the skill\n\nExample: When designing a `frontend-webapp-builder` skill for queries like \"Build me a todo app\" or \"Build me a dashboard to track my steps,\" the analysis shows:\n\n1. Writing a frontend webapp requires the same boilerplate HTML/React each time\n2. An `assets/hello-world/` template containing the boilerplate HTML/React project files would be helpful to store in the skill\n\nExample: When building a `big-query` skill to handle queries like \"How many users have logged in today?\" the analysis shows:\n\n1. Querying BigQuery requires re-discovering the table schemas and relationships each time\n2. A `references/schema.md` file documenting the table schemas would be helpful to store in the skill\n\nTo establish the skill's contents, analyze each concrete example to create a list of the reusable resources to include: scripts, references, and assets.\n\n### Step 3: Initializing the Skill\n\nAt this point, it is time to actually create the skill.\n\nSkip this step only if the skill being developed already exists, and iteration or packaging is needed. In this case, continue to the next step.\n\nWhen creating a new skill from scratch, always run the `init_skill.py` script. The script conveniently generates a new template skill directory that automatically includes everything a skill requires, making the skill creation process much more efficient and reliable.\n\nUsage:\n\n```bash\nscripts/init_skill.py <skill-name> --path <output-directory>\n```\n\nThe script:\n\n- Creates the skill directory at the specified path\n- Generates a SKILL.md template with proper frontmatter and TODO placeholders\n- Creates example resource directories: `scripts/`, `references/`, and `assets/`\n- Adds example files in each directory that can be customized or deleted\n\nAfter initialization, customize or remove the generated SKILL.md and example files as needed.\n\n### Step 4: Edit the Skill\n\nWhen editing the (newly-generated or existing) skill, remember that the skill is being created for another instance of Claude to use. Include information that would be beneficial and non-obvious to Claude. Consider what procedural knowledge, domain-specific details, or reusable assets would help another Claude instance execute these tasks more effectively.\n\n#### Learn Proven Design Patterns\n\nConsult these helpful guides based on your skill's needs:\n\n- **Multi-step processes**: See references/workflows.md for sequential workflows and conditional logic\n- **Specific output formats or quality standards**: See references/output-patterns.md for template and example patterns\n\nThese files contain established best practices for effective skill design.\n\n#### Start with Reusable Skill Contents\n\nTo begin implementation, start with the reusable resources identified above: `scripts/`, `references/`, and `assets/` files. Note that this step may require user input. For example, when implementing a `brand-guidelines` skill, the user may need to provide brand assets or templates to store in `assets/`, or documentation to store in `references/`.\n\nAdded scripts must be tested by actually running them to ensure there are no bugs and that the output matches what is expected. If there are many similar scripts, only a representative sample needs to be tested to ensure confidence that they all work while balancing time to completion.\n\nAny example files and directories not needed for the skill should be deleted. The initialization script creates example files in `scripts/`, `references/`, and `assets/` to demonstrate structure, but most skills won't need all of them.\n\n#### Update SKILL.md\n\n**Writing Guidelines:** Always use imperative/infinitive form.\n\n##### Frontmatter\n\nWrite the YAML frontmatter with `name` and `description`:\n\n- `name`: The skill name\n- `description`: This is the primary triggering mechanism for your skill, and helps Claude understand when to use the skill.\n  - Include both what the Skill does and specific triggers/contexts for when to use it.\n  - Include all \"when to use\" information here - Not in the body. The body is only loaded after triggering, so \"When to Use This Skill\" sections in the body are not helpful to Claude.\n  - Example description for a `docx` skill: \"Comprehensive document creation, editing, and analysis with support for tracked changes, comments, formatting preservation, and text extraction. Use when Claude needs to work with professional documents (.docx files) for: (1) Creating new documents, (2) Modifying or editing content, (3) Working with tracked changes, (4) Adding comments, or any other document tasks\"\n\nDo not include any other fields in YAML frontmatter.\n\n##### Body\n\nWrite instructions for using the skill and its bundled resources.\n\n### Step 5: Packaging a Skill\n\nOnce development of the skill is complete, it must be packaged into a distributable .skill file that gets shared with the user. The packaging process automatically validates the skill first to ensure it meets all requirements:\n\n```bash\nscripts/package_skill.py <path/to/skill-folder>\n```\n\nOptional output directory specification:\n\n```bash\nscripts/package_skill.py <path/to/skill-folder> ./dist\n```\n\nThe packaging script will:\n\n1. **Validate** the skill automatically, checking:\n\n   - YAML frontmatter format and required fields\n   - Skill naming conventions and directory structure\n   - Description completeness and quality\n   - File organization and resource references\n\n2. **Package** the skill if validation passes, creating a .skill file named after the skill (e.g., `my-skill.skill`) that includes all files and maintains the proper directory structure for distribution. The .skill file is a zip file with a .skill extension.\n\nIf validation fails, the script will report the errors and exit without creating a package. Fix any validation errors and run the packaging command again.\n\n### Step 6: Iterate\n\nAfter testing the skill, users may request improvements. Often this happens right after using the skill, with fresh context of how the skill performed.\n\n**Iteration workflow:**\n\n1. Use the skill on real tasks\n2. Notice struggles or inefficiencies\n3. Identify how SKILL.md or bundled resources should be updated\n4. Implement changes and test again\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator/references/output-patterns.md": "# Output Patterns\n\nUse these patterns when skills need to produce consistent, high-quality output.\n\n## Template Pattern\n\nProvide templates for output format. Match the level of strictness to your needs.\n\n**For strict requirements (like API responses or data formats):**\n\n```markdown\n## Report structure\n\nALWAYS use this exact template structure:\n\n# [Analysis Title]\n\n## Executive summary\n[One-paragraph overview of key findings]\n\n## Key findings\n- Finding 1 with supporting data\n- Finding 2 with supporting data\n- Finding 3 with supporting data\n\n## Recommendations\n1. Specific actionable recommendation\n2. Specific actionable recommendation\n```\n\n**For flexible guidance (when adaptation is useful):**\n\n```markdown\n## Report structure\n\nHere is a sensible default format, but use your best judgment:\n\n# [Analysis Title]\n\n## Executive summary\n[Overview]\n\n## Key findings\n[Adapt sections based on what you discover]\n\n## Recommendations\n[Tailor to the specific context]\n\nAdjust sections as needed for the specific analysis type.\n```\n\n## Examples Pattern\n\nFor skills where output quality depends on seeing examples, provide input/output pairs:\n\n```markdown\n## Commit message format\n\nGenerate commit messages following these examples:\n\n**Example 1:**\nInput: Added user authentication with JWT tokens\nOutput:\n```\nfeat(auth): implement JWT-based authentication\n\nAdd login endpoint and token validation middleware\n```\n\n**Example 2:**\nInput: Fixed bug where dates displayed incorrectly in reports\nOutput:\n```\nfix(reports): correct date formatting in timezone conversion\n\nUse UTC timestamps consistently across report generation\n```\n\nFollow this style: type(scope): brief description, then detailed explanation.\n```\n\nExamples help Claude understand the desired style and level of detail more clearly than descriptions alone.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/skill-creator/references/workflows.md": "# Workflow Patterns\n\n## Sequential Workflows\n\nFor complex tasks, break operations into clear, sequential steps. It is often helpful to give Claude an overview of the process towards the beginning of SKILL.md:\n\n```markdown\nFilling a PDF form involves these steps:\n\n1. Analyze the form (run analyze_form.py)\n2. Create field mapping (edit fields.json)\n3. Validate mapping (run validate_fields.py)\n4. Fill the form (run fill_form.py)\n5. Verify output (run verify_output.py)\n```\n\n## Conditional Workflows\n\nFor tasks with branching logic, guide Claude through decision points:\n\n```markdown\n1. Determine the modification type:\n   **Creating new content?** ‚Üí Follow \"Creation workflow\" below\n   **Editing existing content?** ‚Üí Follow \"Editing workflow\" below\n\n2. Creation workflow: [steps]\n3. Editing workflow: [steps]\n```",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/slack-gif-creator/SKILL.md": "---\nname: slack-gif-creator\ndescription: Knowledge and utilities for creating animated GIFs optimized for Slack. Provides constraints, validation tools, and animation concepts. Use when users request animated GIFs for Slack like \"make me a GIF of X doing Y for Slack.\"\nlicense: Complete terms in LICENSE.txt\n---\n\n# Slack GIF Creator\n\nA toolkit providing utilities and knowledge for creating animated GIFs optimized for Slack.\n\n## Slack Requirements\n\n**Dimensions:**\n- Emoji GIFs: 128x128 (recommended)\n- Message GIFs: 480x480\n\n**Parameters:**\n- FPS: 10-30 (lower is smaller file size)\n- Colors: 48-128 (fewer = smaller file size)\n- Duration: Keep under 3 seconds for emoji GIFs\n\n## Core Workflow\n\n```python\nfrom core.gif_builder import GIFBuilder\nfrom PIL import Image, ImageDraw\n\n# 1. Create builder\nbuilder = GIFBuilder(width=128, height=128, fps=10)\n\n# 2. Generate frames\nfor i in range(12):\n    frame = Image.new('RGB', (128, 128), (240, 248, 255))\n    draw = ImageDraw.Draw(frame)\n\n    # Draw your animation using PIL primitives\n    # (circles, polygons, lines, etc.)\n\n    builder.add_frame(frame)\n\n# 3. Save with optimization\nbuilder.save('output.gif', num_colors=48, optimize_for_emoji=True)\n```\n\n## Drawing Graphics\n\n### Working with User-Uploaded Images\nIf a user uploads an image, consider whether they want to:\n- **Use it directly** (e.g., \"animate this\", \"split this into frames\")\n- **Use it as inspiration** (e.g., \"make something like this\")\n\nLoad and work with images using PIL:\n```python\nfrom PIL import Image\n\nuploaded = Image.open('file.png')\n# Use directly, or just as reference for colors/style\n```\n\n### Drawing from Scratch\nWhen drawing graphics from scratch, use PIL ImageDraw primitives:\n\n```python\nfrom PIL import ImageDraw\n\ndraw = ImageDraw.Draw(frame)\n\n# Circles/ovals\ndraw.ellipse([x1, y1, x2, y2], fill=(r, g, b), outline=(r, g, b), width=3)\n\n# Stars, triangles, any polygon\npoints = [(x1, y1), (x2, y2), (x3, y3), ...]\ndraw.polygon(points, fill=(r, g, b), outline=(r, g, b), width=3)\n\n# Lines\ndraw.line([(x1, y1), (x2, y2)], fill=(r, g, b), width=5)\n\n# Rectangles\ndraw.rectangle([x1, y1, x2, y2], fill=(r, g, b), outline=(r, g, b), width=3)\n```\n\n**Don't use:** Emoji fonts (unreliable across platforms) or assume pre-packaged graphics exist in this skill.\n\n### Making Graphics Look Good\n\nGraphics should look polished and creative, not basic. Here's how:\n\n**Use thicker lines** - Always set `width=2` or higher for outlines and lines. Thin lines (width=1) look choppy and amateurish.\n\n**Add visual depth**:\n- Use gradients for backgrounds (`create_gradient_background`)\n- Layer multiple shapes for complexity (e.g., a star with a smaller star inside)\n\n**Make shapes more interesting**:\n- Don't just draw a plain circle - add highlights, rings, or patterns\n- Stars can have glows (draw larger, semi-transparent versions behind)\n- Combine multiple shapes (stars + sparkles, circles + rings)\n\n**Pay attention to colors**:\n- Use vibrant, complementary colors\n- Add contrast (dark outlines on light shapes, light outlines on dark shapes)\n- Consider the overall composition\n\n**For complex shapes** (hearts, snowflakes, etc.):\n- Use combinations of polygons and ellipses\n- Calculate points carefully for symmetry\n- Add details (a heart can have a highlight curve, snowflakes have intricate branches)\n\nBe creative and detailed! A good Slack GIF should look polished, not like placeholder graphics.\n\n## Available Utilities\n\n### GIFBuilder (`core.gif_builder`)\nAssembles frames and optimizes for Slack:\n```python\nbuilder = GIFBuilder(width=128, height=128, fps=10)\nbuilder.add_frame(frame)  # Add PIL Image\nbuilder.add_frames(frames)  # Add list of frames\nbuilder.save('out.gif', num_colors=48, optimize_for_emoji=True, remove_duplicates=True)\n```\n\n### Validators (`core.validators`)\nCheck if GIF meets Slack requirements:\n```python\nfrom core.validators import validate_gif, is_slack_ready\n\n# Detailed validation\npasses, info = validate_gif('my.gif', is_emoji=True, verbose=True)\n\n# Quick check\nif is_slack_ready('my.gif'):\n    print(\"Ready!\")\n```\n\n### Easing Functions (`core.easing`)\nSmooth motion instead of linear:\n```python\nfrom core.easing import interpolate\n\n# Progress from 0.0 to 1.0\nt = i / (num_frames - 1)\n\n# Apply easing\ny = interpolate(start=0, end=400, t=t, easing='ease_out')\n\n# Available: linear, ease_in, ease_out, ease_in_out,\n#           bounce_out, elastic_out, back_out\n```\n\n### Frame Helpers (`core.frame_composer`)\nConvenience functions for common needs:\n```python\nfrom core.frame_composer import (\n    create_blank_frame,         # Solid color background\n    create_gradient_background,  # Vertical gradient\n    draw_circle,                # Helper for circles\n    draw_text,                  # Simple text rendering\n    draw_star                   # 5-pointed star\n)\n```\n\n## Animation Concepts\n\n### Shake/Vibrate\nOffset object position with oscillation:\n- Use `math.sin()` or `math.cos()` with frame index\n- Add small random variations for natural feel\n- Apply to x and/or y position\n\n### Pulse/Heartbeat\nScale object size rhythmically:\n- Use `math.sin(t * frequency * 2 * math.pi)` for smooth pulse\n- For heartbeat: two quick pulses then pause (adjust sine wave)\n- Scale between 0.8 and 1.2 of base size\n\n### Bounce\nObject falls and bounces:\n- Use `interpolate()` with `easing='bounce_out'` for landing\n- Use `easing='ease_in'` for falling (accelerating)\n- Apply gravity by increasing y velocity each frame\n\n### Spin/Rotate\nRotate object around center:\n- PIL: `image.rotate(angle, resample=Image.BICUBIC)`\n- For wobble: use sine wave for angle instead of linear\n\n### Fade In/Out\nGradually appear or disappear:\n- Create RGBA image, adjust alpha channel\n- Or use `Image.blend(image1, image2, alpha)`\n- Fade in: alpha from 0 to 1\n- Fade out: alpha from 1 to 0\n\n### Slide\nMove object from off-screen to position:\n- Start position: outside frame bounds\n- End position: target location\n- Use `interpolate()` with `easing='ease_out'` for smooth stop\n- For overshoot: use `easing='back_out'`\n\n### Zoom\nScale and position for zoom effect:\n- Zoom in: scale from 0.1 to 2.0, crop center\n- Zoom out: scale from 2.0 to 1.0\n- Can add motion blur for drama (PIL filter)\n\n### Explode/Particle Burst\nCreate particles radiating outward:\n- Generate particles with random angles and velocities\n- Update each particle: `x += vx`, `y += vy`\n- Add gravity: `vy += gravity_constant`\n- Fade out particles over time (reduce alpha)\n\n## Optimization Strategies\n\nOnly when asked to make the file size smaller, implement a few of the following methods:\n\n1. **Fewer frames** - Lower FPS (10 instead of 20) or shorter duration\n2. **Fewer colors** - `num_colors=48` instead of 128\n3. **Smaller dimensions** - 128x128 instead of 480x480\n4. **Remove duplicates** - `remove_duplicates=True` in save()\n5. **Emoji mode** - `optimize_for_emoji=True` auto-optimizes\n\n```python\n# Maximum optimization for emoji\nbuilder.save(\n    'emoji.gif',\n    num_colors=48,\n    optimize_for_emoji=True,\n    remove_duplicates=True\n)\n```\n\n## Philosophy\n\nThis skill provides:\n- **Knowledge**: Slack's requirements and animation concepts\n- **Utilities**: GIFBuilder, validators, easing functions\n- **Flexibility**: Create the animation logic using PIL primitives\n\nIt does NOT provide:\n- Rigid animation templates or pre-made functions\n- Emoji font rendering (unreliable across platforms)\n- A library of pre-packaged graphics built into the skill\n\n**Note on user uploads**: This skill doesn't include pre-built graphics, but if a user uploads an image, use PIL to load and work with it - interpret based on their request whether they want it used directly or just as inspiration.\n\nBe creative! Combine concepts (bouncing + rotating, pulsing + sliding, etc.) and use PIL's full capabilities.\n\n## Dependencies\n\n```bash\npip install pillow imageio numpy\n```\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/SKILL.md": "---\nname: theme-factory\ndescription: Toolkit for styling artifacts with a theme. These artifacts can be slides, docs, reportings, HTML landing pages, etc. There are 10 pre-set themes with colors/fonts that you can apply to any artifact that has been creating, or can generate a new theme on-the-fly.\nlicense: Complete terms in LICENSE.txt\n---\n\n\n# Theme Factory Skill\n\nThis skill provides a curated collection of professional font and color themes themes, each with carefully selected color palettes and font pairings. Once a theme is chosen, it can be applied to any artifact.\n\n## Purpose\n\nTo apply consistent, professional styling to presentation slide decks, use this skill. Each theme includes:\n- A cohesive color palette with hex codes\n- Complementary font pairings for headers and body text\n- A distinct visual identity suitable for different contexts and audiences\n\n## Usage Instructions\n\nTo apply styling to a slide deck or other artifact:\n\n1. **Show the theme showcase**: Display the `theme-showcase.pdf` file to allow users to see all available themes visually. Do not make any modifications to it; simply show the file for viewing.\n2. **Ask for their choice**: Ask which theme to apply to the deck\n3. **Wait for selection**: Get explicit confirmation about the chosen theme\n4. **Apply the theme**: Once a theme has been chosen, apply the selected theme's colors and fonts to the deck/artifact\n\n## Themes Available\n\nThe following 10 themes are available, each showcased in `theme-showcase.pdf`:\n\n1. **Ocean Depths** - Professional and calming maritime theme\n2. **Sunset Boulevard** - Warm and vibrant sunset colors\n3. **Forest Canopy** - Natural and grounded earth tones\n4. **Modern Minimalist** - Clean and contemporary grayscale\n5. **Golden Hour** - Rich and warm autumnal palette\n6. **Arctic Frost** - Cool and crisp winter-inspired theme\n7. **Desert Rose** - Soft and sophisticated dusty tones\n8. **Tech Innovation** - Bold and modern tech aesthetic\n9. **Botanical Garden** - Fresh and organic garden colors\n10. **Midnight Galaxy** - Dramatic and cosmic deep tones\n\n## Theme Details\n\nEach theme is defined in the `themes/` directory with complete specifications including:\n- Cohesive color palette with hex codes\n- Complementary font pairings for headers and body text\n- Distinct visual identity suitable for different contexts and audiences\n\n## Application Process\n\nAfter a preferred theme is selected:\n1. Read the corresponding theme file from the `themes/` directory\n2. Apply the specified colors and fonts consistently throughout the deck\n3. Ensure proper contrast and readability\n4. Maintain the theme's visual identity across all slides\n\n## Create your Own Theme\nTo handle cases where none of the existing themes work for an artifact, create a custom theme. Based on provided inputs, generate a new theme similar to the ones above. Give the theme a similar name describing what the font/color combinations represent. Use any basic description provided to choose appropriate colors/fonts. After generating the theme, show it for review and verification. Following that, apply the theme as described above.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/arctic-frost.md": "# Arctic Frost\n\nA cool and crisp winter-inspired theme that conveys clarity, precision, and professionalism.\n\n## Color Palette\n\n- **Ice Blue**: `#d4e4f7` - Light backgrounds and highlights\n- **Steel Blue**: `#4a6fa5` - Primary accent color\n- **Silver**: `#c0c0c0` - Metallic accent elements\n- **Crisp White**: `#fafafa` - Clean backgrounds and text\n\n## Typography\n\n- **Headers**: DejaVu Sans Bold\n- **Body Text**: DejaVu Sans\n\n## Best Used For\n\nHealthcare presentations, technology solutions, winter sports, clean tech, pharmaceutical content.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/botanical-garden.md": "# Botanical Garden\n\nA fresh and organic theme featuring vibrant garden-inspired colors for lively presentations.\n\n## Color Palette\n\n- **Fern Green**: `#4a7c59` - Rich natural green\n- **Marigold**: `#f9a620` - Bright floral accent\n- **Terracotta**: `#b7472a` - Earthy warm tone\n- **Cream**: `#f5f3ed` - Soft neutral backgrounds\n\n## Typography\n\n- **Headers**: DejaVu Serif Bold\n- **Body Text**: DejaVu Sans\n\n## Best Used For\n\nGarden centers, food presentations, farm-to-table content, botanical brands, natural products.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/desert-rose.md": "# Desert Rose\n\nA soft and sophisticated theme with dusty, muted tones perfect for elegant presentations.\n\n## Color Palette\n\n- **Dusty Rose**: `#d4a5a5` - Soft primary color\n- **Clay**: `#b87d6d` - Earthy accent\n- **Sand**: `#e8d5c4` - Warm neutral backgrounds\n- **Deep Burgundy**: `#5d2e46` - Rich dark contrast\n\n## Typography\n\n- **Headers**: FreeSans Bold\n- **Body Text**: FreeSans\n\n## Best Used For\n\nFashion presentations, beauty brands, wedding planning, interior design, boutique businesses.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/forest-canopy.md": "# Forest Canopy\n\nA natural and grounded theme featuring earth tones inspired by dense forest environments.\n\n## Color Palette\n\n- **Forest Green**: `#2d4a2b` - Primary dark green\n- **Sage**: `#7d8471` - Muted green accent\n- **Olive**: `#a4ac86` - Light accent color\n- **Ivory**: `#faf9f6` - Backgrounds and text\n\n## Typography\n\n- **Headers**: FreeSerif Bold\n- **Body Text**: FreeSans\n\n## Best Used For\n\nEnvironmental presentations, sustainability reports, outdoor brands, wellness content, organic products.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/golden-hour.md": "# Golden Hour\n\nA rich and warm autumnal palette that creates an inviting and sophisticated atmosphere.\n\n## Color Palette\n\n- **Mustard Yellow**: `#f4a900` - Bold primary accent\n- **Terracotta**: `#c1666b` - Warm secondary color\n- **Warm Beige**: `#d4b896` - Neutral backgrounds\n- **Chocolate Brown**: `#4a403a` - Dark text and anchors\n\n## Typography\n\n- **Headers**: FreeSans Bold\n- **Body Text**: FreeSans\n\n## Best Used For\n\nRestaurant presentations, hospitality brands, fall campaigns, cozy lifestyle content, artisan products.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/midnight-galaxy.md": "# Midnight Galaxy\n\nA dramatic and cosmic theme with deep purples and mystical tones for impactful presentations.\n\n## Color Palette\n\n- **Deep Purple**: `#2b1e3e` - Rich dark base\n- **Cosmic Blue**: `#4a4e8f` - Mystical mid-tone\n- **Lavender**: `#a490c2` - Soft accent color\n- **Silver**: `#e6e6fa` - Light highlights and text\n\n## Typography\n\n- **Headers**: FreeSans Bold\n- **Body Text**: FreeSans\n\n## Best Used For\n\nEntertainment industry, gaming presentations, nightlife venues, luxury brands, creative agencies.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/modern-minimalist.md": "# Modern Minimalist\n\nA clean and contemporary theme with a sophisticated grayscale palette for maximum versatility.\n\n## Color Palette\n\n- **Charcoal**: `#36454f` - Primary dark color\n- **Slate Gray**: `#708090` - Medium gray for accents\n- **Light Gray**: `#d3d3d3` - Backgrounds and dividers\n- **White**: `#ffffff` - Text and clean backgrounds\n\n## Typography\n\n- **Headers**: DejaVu Sans Bold\n- **Body Text**: DejaVu Sans\n\n## Best Used For\n\nTech presentations, architecture portfolios, design showcases, modern business proposals, data visualization.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/ocean-depths.md": "# Ocean Depths\n\nA professional and calming maritime theme that evokes the serenity of deep ocean waters.\n\n## Color Palette\n\n- **Deep Navy**: `#1a2332` - Primary background color\n- **Teal**: `#2d8b8b` - Accent color for highlights and emphasis\n- **Seafoam**: `#a8dadc` - Secondary accent for lighter elements\n- **Cream**: `#f1faee` - Text and light backgrounds\n\n## Typography\n\n- **Headers**: DejaVu Sans Bold\n- **Body Text**: DejaVu Sans\n\n## Best Used For\n\nCorporate presentations, financial reports, professional consulting decks, trust-building content.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/sunset-boulevard.md": "# Sunset Boulevard\n\nA warm and vibrant theme inspired by golden hour sunsets, perfect for energetic and creative presentations.\n\n## Color Palette\n\n- **Burnt Orange**: `#e76f51` - Primary accent color\n- **Coral**: `#f4a261` - Secondary warm accent\n- **Warm Sand**: `#e9c46a` - Highlighting and backgrounds\n- **Deep Purple**: `#264653` - Dark contrast and text\n\n## Typography\n\n- **Headers**: DejaVu Serif Bold\n- **Body Text**: DejaVu Sans\n\n## Best Used For\n\nCreative pitches, marketing presentations, lifestyle brands, event promotions, inspirational content.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/theme-factory/themes/tech-innovation.md": "# Tech Innovation\n\nA bold and modern theme with high-contrast colors perfect for cutting-edge technology presentations.\n\n## Color Palette\n\n- **Electric Blue**: `#0066ff` - Vibrant primary accent\n- **Neon Cyan**: `#00ffff` - Bright highlight color\n- **Dark Gray**: `#1e1e1e` - Deep backgrounds\n- **White**: `#ffffff` - Clean text and contrast\n\n## Typography\n\n- **Headers**: DejaVu Sans Bold\n- **Body Text**: DejaVu Sans\n\n## Best Used For\n\nTech startups, software launches, innovation showcases, AI/ML presentations, digital transformation content.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/examples/web-artifacts-builder/SKILL.md": "---\nname: web-artifacts-builder\ndescription: Suite of tools for creating elaborate, multi-component claude.ai HTML artifacts using modern frontend web technologies (React, Tailwind CSS, shadcn/ui). Use for complex artifacts requiring state management, routing, or shadcn/ui components - not for simple single-file HTML/JSX artifacts.\nlicense: Complete terms in LICENSE.txt\n---\n\n# Web Artifacts Builder\n\nTo build powerful frontend claude.ai artifacts, follow these steps:\n1. Initialize the frontend repo using `scripts/init-artifact.sh`\n2. Develop your artifact by editing the generated code\n3. Bundle all code into a single HTML file using `scripts/bundle-artifact.sh`\n4. Display artifact to user\n5. (Optional) Test the artifact\n\n**Stack**: React 18 + TypeScript + Vite + Parcel (bundling) + Tailwind CSS + shadcn/ui\n\n## Design & Style Guidelines\n\nVERY IMPORTANT: To avoid what is often referred to as \"AI slop\", avoid using excessive centered layouts, purple gradients, uniform rounded corners, and Inter font.\n\n## Quick Start\n\n### Step 1: Initialize Project\n\nRun the initialization script to create a new React project:\n```bash\nbash scripts/init-artifact.sh <project-name>\ncd <project-name>\n```\n\nThis creates a fully configured project with:\n- ‚úÖ React + TypeScript (via Vite)\n- ‚úÖ Tailwind CSS 3.4.1 with shadcn/ui theming system\n- ‚úÖ Path aliases (`@/`) configured\n- ‚úÖ 40+ shadcn/ui components pre-installed\n- ‚úÖ All Radix UI dependencies included\n- ‚úÖ Parcel configured for bundling (via .parcelrc)\n- ‚úÖ Node 18+ compatibility (auto-detects and pins Vite version)\n\n### Step 2: Develop Your Artifact\n\nTo build the artifact, edit the generated files. See **Common Development Tasks** below for guidance.\n\n### Step 3: Bundle to Single HTML File\n\nTo bundle the React app into a single HTML artifact:\n```bash\nbash scripts/bundle-artifact.sh\n```\n\nThis creates `bundle.html` - a self-contained artifact with all JavaScript, CSS, and dependencies inlined. This file can be directly shared in Claude conversations as an artifact.\n\n**Requirements**: Your project must have an `index.html` in the root directory.\n\n**What the script does**:\n- Installs bundling dependencies (parcel, @parcel/config-default, parcel-resolver-tspaths, html-inline)\n- Creates `.parcelrc` config with path alias support\n- Builds with Parcel (no source maps)\n- Inlines all assets into single HTML using html-inline\n\n### Step 4: Share Artifact with User\n\nFinally, share the bundled HTML file in conversation with the user so they can view it as an artifact.\n\n### Step 5: Testing/Visualizing the Artifact (Optional)\n\nNote: This is a completely optional step. Only perform if necessary or requested.\n\nTo test/visualize the artifact, use available tools (including other Skills or built-in tools like Playwright or Puppeteer). In general, avoid testing the artifact upfront as it adds latency between the request and when the finished artifact can be seen. Test later, after presenting the artifact, if requested or if issues arise.\n\n## Reference\n\n- **shadcn/ui components**: https://ui.shadcn.com/docs/components",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/docx/SKILL.md": "---\nname: docx\ndescription: \"Comprehensive document creation, editing, and analysis with support for tracked changes, comments, formatting preservation, and text extraction. When Claude needs to work with professional documents (.docx files) for: (1) Creating new documents, (2) Modifying or editing content, (3) Working with tracked changes, (4) Adding comments, or any other document tasks\"\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# DOCX creation, editing, and analysis\n\n## Overview\n\nA user may ask you to create, edit, or analyze the contents of a .docx file. A .docx file is essentially a ZIP archive containing XML files and other resources that you can read or edit. You have different tools and workflows available for different tasks.\n\n## Workflow Decision Tree\n\n### Reading/Analyzing Content\nUse \"Text extraction\" or \"Raw XML access\" sections below\n\n### Creating New Document\nUse \"Creating a new Word document\" workflow\n\n### Editing Existing Document\n- **Your own document + simple changes**\n  Use \"Basic OOXML editing\" workflow\n\n- **Someone else's document**\n  Use **\"Redlining workflow\"** (recommended default)\n\n- **Legal, academic, business, or government docs**\n  Use **\"Redlining workflow\"** (required)\n\n## Reading and analyzing content\n\n### Text extraction\nIf you just need to read the text contents of a document, you should convert the document to markdown using pandoc. Pandoc provides excellent support for preserving document structure and can show tracked changes:\n\n```bash\n# Convert document to markdown with tracked changes\npandoc --track-changes=all path-to-file.docx -o output.md\n# Options: --track-changes=accept/reject/all\n```\n\n### Raw XML access\nYou need raw XML access for: comments, complex formatting, document structure, embedded media, and metadata. For any of these features, you'll need to unpack a document and read its raw XML contents.\n\n#### Unpacking a file\n`python ooxml/scripts/unpack.py <office_file> <output_directory>`\n\n#### Key file structures\n* `word/document.xml` - Main document contents\n* `word/comments.xml` - Comments referenced in document.xml\n* `word/media/` - Embedded images and media files\n* Tracked changes use `<w:ins>` (insertions) and `<w:del>` (deletions) tags\n\n## Creating a new Word document\n\nWhen creating a new Word document from scratch, use **docx-js**, which allows you to create Word documents using JavaScript/TypeScript.\n\n### Workflow\n1. **MANDATORY - READ ENTIRE FILE**: Read [`docx-js.md`](docx-js.md) (~500 lines) completely from start to finish. **NEVER set any range limits when reading this file.** Read the full file content for detailed syntax, critical formatting rules, and best practices before proceeding with document creation.\n2. Create a JavaScript/TypeScript file using Document, Paragraph, TextRun components (You can assume all dependencies are installed, but if not, refer to the dependencies section below)\n3. Export as .docx using Packer.toBuffer()\n\n## Editing an existing Word document\n\nWhen editing an existing Word document, use the **Document library** (a Python library for OOXML manipulation). The library automatically handles infrastructure setup and provides methods for document manipulation. For complex scenarios, you can access the underlying DOM directly through the library.\n\n### Workflow\n1. **MANDATORY - READ ENTIRE FILE**: Read [`ooxml.md`](ooxml.md) (~600 lines) completely from start to finish. **NEVER set any range limits when reading this file.** Read the full file content for the Document library API and XML patterns for directly editing document files.\n2. Unpack the document: `python ooxml/scripts/unpack.py <office_file> <output_directory>`\n3. Create and run a Python script using the Document library (set PYTHONPATH per \"Initialization\" section in ooxml.md)\n4. Pack the final document: `python ooxml/scripts/pack.py <input_directory> <office_file>`\n\nThe Document library provides both high-level methods for common operations and direct DOM access for complex scenarios.\n\n## Redlining workflow for document review\n\nThis workflow allows you to plan comprehensive tracked changes using markdown before implementing them in OOXML. **CRITICAL**: For complete tracked changes, you must implement ALL changes systematically.\n\n**Batching Strategy**: Group related changes into batches of 3-10 changes. This makes debugging manageable while maintaining efficiency. Test each batch before moving to the next.\n\n**Principle: Minimal, Precise Edits**\nWhen implementing tracked changes, only mark text that actually changes. Repeating unchanged text makes edits harder to review and appears unprofessional. Break replacements into: [unchanged text] + [deletion] + [insertion] + [unchanged text]. Preserve the original run's RSID for unchanged text by extracting the `<w:r>` element from the original and reusing it.\n\nExample - Changing \"30 days\" to \"60 days\" in a sentence:\n```python\n# BAD - Replaces entire sentence\n'<w:del><w:r><w:delText>The term is 30 days.</w:delText></w:r></w:del><w:ins><w:r><w:t>The term is 60 days.</w:t></w:r></w:ins>'\n\n# GOOD - Only marks what changed, preserves original <w:r> for unchanged text\n'<w:r w:rsidR=\"00AB12CD\"><w:t>The term is </w:t></w:r><w:del><w:r><w:delText>30</w:delText></w:r></w:del><w:ins><w:r><w:t>60</w:t></w:r></w:ins><w:r w:rsidR=\"00AB12CD\"><w:t> days.</w:t></w:r>'\n```\n\n### Tracked changes workflow\n\n1. **Get markdown representation**: Convert document to markdown with tracked changes preserved:\n   ```bash\n   pandoc --track-changes=all path-to-file.docx -o current.md\n   ```\n\n2. **Identify and group changes**: Review the document and identify ALL changes needed, organizing them into logical batches:\n\n   **Location methods** (for finding changes in XML):\n   - Section/heading numbers (e.g., \"Section 3.2\", \"Article IV\")\n   - Paragraph identifiers if numbered\n   - Grep patterns with unique surrounding text\n   - Document structure (e.g., \"first paragraph\", \"signature block\")\n   - **DO NOT use markdown line numbers** - they don't map to XML structure\n\n   **Batch organization** (group 3-10 related changes per batch):\n   - By section: \"Batch 1: Section 2 amendments\", \"Batch 2: Section 5 updates\"\n   - By type: \"Batch 1: Date corrections\", \"Batch 2: Party name changes\"\n   - By complexity: Start with simple text replacements, then tackle complex structural changes\n   - Sequential: \"Batch 1: Pages 1-3\", \"Batch 2: Pages 4-6\"\n\n3. **Read documentation and unpack**:\n   - **MANDATORY - READ ENTIRE FILE**: Read [`ooxml.md`](ooxml.md) (~600 lines) completely from start to finish. **NEVER set any range limits when reading this file.** Read the full file content for the Document library API and XML patterns for directly editing document files.\n   - **Unpack the document**: `python ooxml/scripts/unpack.py <file.docx> <dir>`\n   - **Note the suggested RSID**: The unpack script will suggest an RSID to use for your tracked changes. Copy this RSID for use in step 4b.\n\n4. **Implement changes in batches**: Group changes logically (by section, by type, or by proximity) and implement them together in a single script. This approach:\n   - Makes debugging easier (smaller batch = easier to isolate errors)\n   - Allows incremental progress\n   - Maintains efficiency (batch size of 3-10 changes works well)\n\n   **Suggested batch groupings:**\n   - By document section (e.g., \"Section 3 changes\", \"Definitions\", \"Termination clause\")\n   - By change type (e.g., \"Date changes\", \"Party name updates\", \"Legal term replacements\")\n   - By proximity (e.g., \"Changes on pages 1-3\", \"Changes in first half of document\")\n\n   For each batch of related changes:\n\n   **a. Map text to XML**: Grep for text in `word/document.xml` to verify how text is split across `<w:r>` elements.\n\n   **b. Create and run script**: Set PYTHONPATH and import Document library (see \"Initialization\" in ooxml.md), then use `get_node` to find nodes, implement changes, and `doc.save()`. See **\"Document Library\"** section in ooxml.md for patterns.\n\n   **Note**: Always grep `word/document.xml` immediately before writing a script to get current line numbers and verify text content. Line numbers change after each script run.\n\n5. **Pack the document**: After all batches are complete, convert the unpacked directory back to .docx:\n   ```bash\n   python ooxml/scripts/pack.py unpacked reviewed-document.docx\n   ```\n\n6. **Final verification**: Do a comprehensive check of the complete document:\n   - Convert final document to markdown:\n     ```bash\n     pandoc --track-changes=all reviewed-document.docx -o verification.md\n     ```\n   - Verify ALL changes were applied correctly:\n     ```bash\n     grep \"original phrase\" verification.md  # Should NOT find it\n     grep \"replacement phrase\" verification.md  # Should find it\n     ```\n   - Check that no unintended changes were introduced\n\n\n## Converting Documents to Images\n\nTo visually analyze Word documents, convert them to images using a two-step process:\n\n1. **Convert DOCX to PDF**:\n   ```bash\n   soffice --headless --convert-to pdf document.docx\n   ```\n\n2. **Convert PDF pages to JPEG images**:\n   ```bash\n   pdftoppm -jpeg -r 150 document.pdf page\n   ```\n   This creates files like `page-1.jpg`, `page-2.jpg`, etc.\n\nOptions:\n- `-r 150`: Sets resolution to 150 DPI (adjust for quality/size balance)\n- `-jpeg`: Output JPEG format (use `-png` for PNG if preferred)\n- `-f N`: First page to convert (e.g., `-f 2` starts from page 2)\n- `-l N`: Last page to convert (e.g., `-l 5` stops at page 5)\n- `page`: Prefix for output files\n\nExample for specific range:\n```bash\npdftoppm -jpeg -r 150 -f 2 -l 5 document.pdf page  # Converts only pages 2-5\n```\n\n## Code Style Guidelines\n**IMPORTANT**: When generating code for DOCX operations:\n- Write concise code\n- Avoid verbose variable names and redundant operations\n- Avoid unnecessary print statements\n\n## Dependencies\n\nRequired dependencies (install if not available):\n\n- **pandoc**: `sudo apt-get install pandoc` (for text extraction)\n- **docx**: `npm install -g docx` (for creating new documents)\n- **LibreOffice**: `sudo apt-get install libreoffice` (for PDF conversion)\n- **Poppler**: `sudo apt-get install poppler-utils` (for pdftoppm to convert PDF to images)\n- **defusedxml**: `pip install defusedxml` (for secure XML parsing)",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/docx/docx-js.md": "# DOCX Library Tutorial\n\nGenerate .docx files with JavaScript/TypeScript.\n\n**Important: Read this entire document before starting.** Critical formatting rules and common pitfalls are covered throughout - skipping sections may result in corrupted files or rendering issues.\n\n## Setup\nAssumes docx is already installed globally\nIf not installed: `npm install -g docx`\n\n```javascript\nconst { Document, Packer, Paragraph, TextRun, Table, TableRow, TableCell, ImageRun, Media, \n        Header, Footer, AlignmentType, PageOrientation, LevelFormat, ExternalHyperlink, \n        InternalHyperlink, TableOfContents, HeadingLevel, BorderStyle, WidthType, TabStopType, \n        TabStopPosition, UnderlineType, ShadingType, VerticalAlign, SymbolRun, PageNumber,\n        FootnoteReferenceRun, Footnote, PageBreak } = require('docx');\n\n// Create & Save\nconst doc = new Document({ sections: [{ children: [/* content */] }] });\nPacker.toBuffer(doc).then(buffer => fs.writeFileSync(\"doc.docx\", buffer)); // Node.js\nPacker.toBlob(doc).then(blob => { /* download logic */ }); // Browser\n```\n\n## Text & Formatting\n```javascript\n// IMPORTANT: Never use \\n for line breaks - always use separate Paragraph elements\n// ‚ùå WRONG: new TextRun(\"Line 1\\nLine 2\")\n// ‚úÖ CORRECT: new Paragraph({ children: [new TextRun(\"Line 1\")] }), new Paragraph({ children: [new TextRun(\"Line 2\")] })\n\n// Basic text with all formatting options\nnew Paragraph({\n  alignment: AlignmentType.CENTER,\n  spacing: { before: 200, after: 200 },\n  indent: { left: 720, right: 720 },\n  children: [\n    new TextRun({ text: \"Bold\", bold: true }),\n    new TextRun({ text: \"Italic\", italics: true }),\n    new TextRun({ text: \"Underlined\", underline: { type: UnderlineType.DOUBLE, color: \"FF0000\" } }),\n    new TextRun({ text: \"Colored\", color: \"FF0000\", size: 28, font: \"Arial\" }), // Arial default\n    new TextRun({ text: \"Highlighted\", highlight: \"yellow\" }),\n    new TextRun({ text: \"Strikethrough\", strike: true }),\n    new TextRun({ text: \"x2\", superScript: true }),\n    new TextRun({ text: \"H2O\", subScript: true }),\n    new TextRun({ text: \"SMALL CAPS\", smallCaps: true }),\n    new SymbolRun({ char: \"2022\", font: \"Symbol\" }), // Bullet ‚Ä¢\n    new SymbolRun({ char: \"00A9\", font: \"Arial\" })   // Copyright ¬© - Arial for symbols\n  ]\n})\n```\n\n## Styles & Professional Formatting\n\n```javascript\nconst doc = new Document({\n  styles: {\n    default: { document: { run: { font: \"Arial\", size: 24 } } }, // 12pt default\n    paragraphStyles: [\n      // Document title style - override built-in Title style\n      { id: \"Title\", name: \"Title\", basedOn: \"Normal\",\n        run: { size: 56, bold: true, color: \"000000\", font: \"Arial\" },\n        paragraph: { spacing: { before: 240, after: 120 }, alignment: AlignmentType.CENTER } },\n      // IMPORTANT: Override built-in heading styles by using their exact IDs\n      { id: \"Heading1\", name: \"Heading 1\", basedOn: \"Normal\", next: \"Normal\", quickFormat: true,\n        run: { size: 32, bold: true, color: \"000000\", font: \"Arial\" }, // 16pt\n        paragraph: { spacing: { before: 240, after: 240 }, outlineLevel: 0 } }, // Required for TOC\n      { id: \"Heading2\", name: \"Heading 2\", basedOn: \"Normal\", next: \"Normal\", quickFormat: true,\n        run: { size: 28, bold: true, color: \"000000\", font: \"Arial\" }, // 14pt\n        paragraph: { spacing: { before: 180, after: 180 }, outlineLevel: 1 } },\n      // Custom styles use your own IDs\n      { id: \"myStyle\", name: \"My Style\", basedOn: \"Normal\",\n        run: { size: 28, bold: true, color: \"000000\" },\n        paragraph: { spacing: { after: 120 }, alignment: AlignmentType.CENTER } }\n    ],\n    characterStyles: [{ id: \"myCharStyle\", name: \"My Char Style\",\n      run: { color: \"FF0000\", bold: true, underline: { type: UnderlineType.SINGLE } } }]\n  },\n  sections: [{\n    properties: { page: { margin: { top: 1440, right: 1440, bottom: 1440, left: 1440 } } },\n    children: [\n      new Paragraph({ heading: HeadingLevel.TITLE, children: [new TextRun(\"Document Title\")] }), // Uses overridden Title style\n      new Paragraph({ heading: HeadingLevel.HEADING_1, children: [new TextRun(\"Heading 1\")] }), // Uses overridden Heading1 style\n      new Paragraph({ style: \"myStyle\", children: [new TextRun(\"Custom paragraph style\")] }),\n      new Paragraph({ children: [\n        new TextRun(\"Normal with \"),\n        new TextRun({ text: \"custom char style\", style: \"myCharStyle\" })\n      ]})\n    ]\n  }]\n});\n```\n\n**Professional Font Combinations:**\n- **Arial (Headers) + Arial (Body)** - Most universally supported, clean and professional\n- **Times New Roman (Headers) + Arial (Body)** - Classic serif headers with modern sans-serif body\n- **Georgia (Headers) + Verdana (Body)** - Optimized for screen reading, elegant contrast\n\n**Key Styling Principles:**\n- **Override built-in styles**: Use exact IDs like \"Heading1\", \"Heading2\", \"Heading3\" to override Word's built-in heading styles\n- **HeadingLevel constants**: `HeadingLevel.HEADING_1` uses \"Heading1\" style, `HeadingLevel.HEADING_2` uses \"Heading2\" style, etc.\n- **Include outlineLevel**: Set `outlineLevel: 0` for H1, `outlineLevel: 1` for H2, etc. to ensure TOC works correctly\n- **Use custom styles** instead of inline formatting for consistency\n- **Set a default font** using `styles.default.document.run.font` - Arial is universally supported\n- **Establish visual hierarchy** with different font sizes (titles > headers > body)\n- **Add proper spacing** with `before` and `after` paragraph spacing\n- **Use colors sparingly**: Default to black (000000) and shades of gray for titles and headings (heading 1, heading 2, etc.)\n- **Set consistent margins** (1440 = 1 inch is standard)\n\n\n## Lists (ALWAYS USE PROPER LISTS - NEVER USE UNICODE BULLETS)\n```javascript\n// Bullets - ALWAYS use the numbering config, NOT unicode symbols\n// CRITICAL: Use LevelFormat.BULLET constant, NOT the string \"bullet\"\nconst doc = new Document({\n  numbering: {\n    config: [\n      { reference: \"bullet-list\",\n        levels: [{ level: 0, format: LevelFormat.BULLET, text: \"‚Ä¢\", alignment: AlignmentType.LEFT,\n          style: { paragraph: { indent: { left: 720, hanging: 360 } } } }] },\n      { reference: \"first-numbered-list\",\n        levels: [{ level: 0, format: LevelFormat.DECIMAL, text: \"%1.\", alignment: AlignmentType.LEFT,\n          style: { paragraph: { indent: { left: 720, hanging: 360 } } } }] },\n      { reference: \"second-numbered-list\", // Different reference = restarts at 1\n        levels: [{ level: 0, format: LevelFormat.DECIMAL, text: \"%1.\", alignment: AlignmentType.LEFT,\n          style: { paragraph: { indent: { left: 720, hanging: 360 } } } }] }\n    ]\n  },\n  sections: [{\n    children: [\n      // Bullet list items\n      new Paragraph({ numbering: { reference: \"bullet-list\", level: 0 },\n        children: [new TextRun(\"First bullet point\")] }),\n      new Paragraph({ numbering: { reference: \"bullet-list\", level: 0 },\n        children: [new TextRun(\"Second bullet point\")] }),\n      // Numbered list items\n      new Paragraph({ numbering: { reference: \"first-numbered-list\", level: 0 },\n        children: [new TextRun(\"First numbered item\")] }),\n      new Paragraph({ numbering: { reference: \"first-numbered-list\", level: 0 },\n        children: [new TextRun(\"Second numbered item\")] }),\n      // ‚ö†Ô∏è CRITICAL: Different reference = INDEPENDENT list that restarts at 1\n      // Same reference = CONTINUES previous numbering\n      new Paragraph({ numbering: { reference: \"second-numbered-list\", level: 0 },\n        children: [new TextRun(\"Starts at 1 again (because different reference)\")] })\n    ]\n  }]\n});\n\n// ‚ö†Ô∏è CRITICAL NUMBERING RULE: Each reference creates an INDEPENDENT numbered list\n// - Same reference = continues numbering (1, 2, 3... then 4, 5, 6...)\n// - Different reference = restarts at 1 (1, 2, 3... then 1, 2, 3...)\n// Use unique reference names for each separate numbered section!\n\n// ‚ö†Ô∏è CRITICAL: NEVER use unicode bullets - they create fake lists that don't work properly\n// new TextRun(\"‚Ä¢ Item\")           // WRONG\n// new SymbolRun({ char: \"2022\" }) // WRONG\n// ‚úÖ ALWAYS use numbering config with LevelFormat.BULLET for real Word lists\n```\n\n## Tables\n```javascript\n// Complete table with margins, borders, headers, and bullet points\nconst tableBorder = { style: BorderStyle.SINGLE, size: 1, color: \"CCCCCC\" };\nconst cellBorders = { top: tableBorder, bottom: tableBorder, left: tableBorder, right: tableBorder };\n\nnew Table({\n  columnWidths: [4680, 4680], // ‚ö†Ô∏è CRITICAL: Set column widths at table level - values in DXA (twentieths of a point)\n  margins: { top: 100, bottom: 100, left: 180, right: 180 }, // Set once for all cells\n  rows: [\n    new TableRow({\n      tableHeader: true,\n      children: [\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          // ‚ö†Ô∏è CRITICAL: Always use ShadingType.CLEAR to prevent black backgrounds in Word.\n          shading: { fill: \"D5E8F0\", type: ShadingType.CLEAR }, \n          verticalAlign: VerticalAlign.CENTER,\n          children: [new Paragraph({ \n            alignment: AlignmentType.CENTER,\n            children: [new TextRun({ text: \"Header\", bold: true, size: 22 })]\n          })]\n        }),\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          shading: { fill: \"D5E8F0\", type: ShadingType.CLEAR },\n          children: [new Paragraph({ \n            alignment: AlignmentType.CENTER,\n            children: [new TextRun({ text: \"Bullet Points\", bold: true, size: 22 })]\n          })]\n        })\n      ]\n    }),\n    new TableRow({\n      children: [\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          children: [new Paragraph({ children: [new TextRun(\"Regular data\")] })]\n        }),\n        new TableCell({\n          borders: cellBorders,\n          width: { size: 4680, type: WidthType.DXA }, // ALSO set width on each cell\n          children: [\n            new Paragraph({ \n              numbering: { reference: \"bullet-list\", level: 0 },\n              children: [new TextRun(\"First bullet point\")] \n            }),\n            new Paragraph({ \n              numbering: { reference: \"bullet-list\", level: 0 },\n              children: [new TextRun(\"Second bullet point\")] \n            })\n          ]\n        })\n      ]\n    })\n  ]\n})\n```\n\n**IMPORTANT: Table Width & Borders**\n- Use BOTH `columnWidths: [width1, width2, ...]` array AND `width: { size: X, type: WidthType.DXA }` on each cell\n- Values in DXA (twentieths of a point): 1440 = 1 inch, Letter usable width = 9360 DXA (with 1\" margins)\n- Apply borders to individual `TableCell` elements, NOT the `Table` itself\n\n**Precomputed Column Widths (Letter size with 1\" margins = 9360 DXA total):**\n- **2 columns:** `columnWidths: [4680, 4680]` (equal width)\n- **3 columns:** `columnWidths: [3120, 3120, 3120]` (equal width)\n\n## Links & Navigation\n```javascript\n// TOC (requires headings) - CRITICAL: Use HeadingLevel only, NOT custom styles\n// ‚ùå WRONG: new Paragraph({ heading: HeadingLevel.HEADING_1, style: \"customHeader\", children: [new TextRun(\"Title\")] })\n// ‚úÖ CORRECT: new Paragraph({ heading: HeadingLevel.HEADING_1, children: [new TextRun(\"Title\")] })\nnew TableOfContents(\"Table of Contents\", { hyperlink: true, headingStyleRange: \"1-3\" }),\n\n// External link\nnew Paragraph({\n  children: [new ExternalHyperlink({\n    children: [new TextRun({ text: \"Google\", style: \"Hyperlink\" })],\n    link: \"https://www.google.com\"\n  })]\n}),\n\n// Internal link & bookmark\nnew Paragraph({\n  children: [new InternalHyperlink({\n    children: [new TextRun({ text: \"Go to Section\", style: \"Hyperlink\" })],\n    anchor: \"section1\"\n  })]\n}),\nnew Paragraph({\n  children: [new TextRun(\"Section Content\")],\n  bookmark: { id: \"section1\", name: \"section1\" }\n}),\n```\n\n## Images & Media\n```javascript\n// Basic image with sizing & positioning\n// CRITICAL: Always specify 'type' parameter - it's REQUIRED for ImageRun\nnew Paragraph({\n  alignment: AlignmentType.CENTER,\n  children: [new ImageRun({\n    type: \"png\", // NEW REQUIREMENT: Must specify image type (png, jpg, jpeg, gif, bmp, svg)\n    data: fs.readFileSync(\"image.png\"),\n    transformation: { width: 200, height: 150, rotation: 0 }, // rotation in degrees\n    altText: { title: \"Logo\", description: \"Company logo\", name: \"Name\" } // IMPORTANT: All three fields are required\n  })]\n})\n```\n\n## Page Breaks\n```javascript\n// Manual page break\nnew Paragraph({ children: [new PageBreak()] }),\n\n// Page break before paragraph\nnew Paragraph({\n  pageBreakBefore: true,\n  children: [new TextRun(\"This starts on a new page\")]\n})\n\n// ‚ö†Ô∏è CRITICAL: NEVER use PageBreak standalone - it will create invalid XML that Word cannot open\n// ‚ùå WRONG: new PageBreak() \n// ‚úÖ CORRECT: new Paragraph({ children: [new PageBreak()] })\n```\n\n## Headers/Footers & Page Setup\n```javascript\nconst doc = new Document({\n  sections: [{\n    properties: {\n      page: {\n        margin: { top: 1440, right: 1440, bottom: 1440, left: 1440 }, // 1440 = 1 inch\n        size: { orientation: PageOrientation.LANDSCAPE },\n        pageNumbers: { start: 1, formatType: \"decimal\" } // \"upperRoman\", \"lowerRoman\", \"upperLetter\", \"lowerLetter\"\n      }\n    },\n    headers: {\n      default: new Header({ children: [new Paragraph({ \n        alignment: AlignmentType.RIGHT,\n        children: [new TextRun(\"Header Text\")]\n      })] })\n    },\n    footers: {\n      default: new Footer({ children: [new Paragraph({ \n        alignment: AlignmentType.CENTER,\n        children: [new TextRun(\"Page \"), new TextRun({ children: [PageNumber.CURRENT] }), new TextRun(\" of \"), new TextRun({ children: [PageNumber.TOTAL_PAGES] })]\n      })] })\n    },\n    children: [/* content */]\n  }]\n});\n```\n\n## Tabs\n```javascript\nnew Paragraph({\n  tabStops: [\n    { type: TabStopType.LEFT, position: TabStopPosition.MAX / 4 },\n    { type: TabStopType.CENTER, position: TabStopPosition.MAX / 2 },\n    { type: TabStopType.RIGHT, position: TabStopPosition.MAX * 3 / 4 }\n  ],\n  children: [new TextRun(\"Left\\tCenter\\tRight\")]\n})\n```\n\n## Constants & Quick Reference\n- **Underlines:** `SINGLE`, `DOUBLE`, `WAVY`, `DASH`\n- **Borders:** `SINGLE`, `DOUBLE`, `DASHED`, `DOTTED`  \n- **Numbering:** `DECIMAL` (1,2,3), `UPPER_ROMAN` (I,II,III), `LOWER_LETTER` (a,b,c)\n- **Tabs:** `LEFT`, `CENTER`, `RIGHT`, `DECIMAL`\n- **Symbols:** `\"2022\"` (‚Ä¢), `\"00A9\"` (¬©), `\"00AE\"` (¬Æ), `\"2122\"` (‚Ñ¢), `\"00B0\"` (¬∞), `\"F070\"` (‚úì), `\"F0FC\"` (‚úó)\n\n## Critical Issues & Common Mistakes\n- **CRITICAL: PageBreak must ALWAYS be inside a Paragraph** - standalone PageBreak creates invalid XML that Word cannot open\n- **ALWAYS use ShadingType.CLEAR for table cell shading** - Never use ShadingType.SOLID (causes black background).\n- Measurements in DXA (1440 = 1 inch) | Each table cell needs ‚â•1 Paragraph | TOC requires HeadingLevel styles only\n- **ALWAYS use custom styles** with Arial font for professional appearance and proper visual hierarchy\n- **ALWAYS set a default font** using `styles.default.document.run.font` - Arial recommended\n- **ALWAYS use columnWidths array for tables** + individual cell widths for compatibility\n- **NEVER use unicode symbols for bullets** - always use proper numbering configuration with `LevelFormat.BULLET` constant (NOT the string \"bullet\")\n- **NEVER use \\n for line breaks anywhere** - always use separate Paragraph elements for each line\n- **ALWAYS use TextRun objects within Paragraph children** - never use text property directly on Paragraph\n- **CRITICAL for images**: ImageRun REQUIRES `type` parameter - always specify \"png\", \"jpg\", \"jpeg\", \"gif\", \"bmp\", or \"svg\"\n- **CRITICAL for bullets**: Must use `LevelFormat.BULLET` constant, not string \"bullet\", and include `text: \"‚Ä¢\"` for the bullet character\n- **CRITICAL for numbering**: Each numbering reference creates an INDEPENDENT list. Same reference = continues numbering (1,2,3 then 4,5,6). Different reference = restarts at 1 (1,2,3 then 1,2,3). Use unique reference names for each separate numbered section!\n- **CRITICAL for TOC**: When using TableOfContents, headings must use HeadingLevel ONLY - do NOT add custom styles to heading paragraphs or TOC will break\n- **Tables**: Set `columnWidths` array + individual cell widths, apply borders to cells not table\n- **Set table margins at TABLE level** for consistent cell padding (avoids repetition per cell)",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/docx/ooxml.md": "# Office Open XML Technical Reference\n\n**Important: Read this entire document before starting.** This document covers:\n- [Technical Guidelines](#technical-guidelines) - Schema compliance rules and validation requirements\n- [Document Content Patterns](#document-content-patterns) - XML patterns for headings, lists, tables, formatting, etc.\n- [Document Library (Python)](#document-library-python) - Recommended approach for OOXML manipulation with automatic infrastructure setup\n- [Tracked Changes (Redlining)](#tracked-changes-redlining) - XML patterns for implementing tracked changes\n\n## Technical Guidelines\n\n### Schema Compliance\n- **Element ordering in `<w:pPr>`**: `<w:pStyle>`, `<w:numPr>`, `<w:spacing>`, `<w:ind>`, `<w:jc>`, `<w:keepNext>`, `<w:keepLines>`, then `<w:rPr>` last\n- **Element ordering in `<w:trPr>`**: All regular properties (`<w:gridAfter>`, `<w:wAfter>`, `<w:cantSplit>`, `<w:trHeight>`) must come before `<w:ins/>` or `<w:del/>`, which must be last. No properties can follow tracked change elements\n- **Whitespace**: Add `xml:space='preserve'` to `<w:t>` elements with leading/trailing spaces\n- **Unicode**: Escape characters in ASCII content: `\"` becomes `&#8220;`\n  - **Character encoding reference**: Curly quotes `\"\"` become `&#8220;&#8221;`, apostrophe `'` becomes `&#8217;`, em-dash `‚Äî` becomes `&#8212;`\n- **Tracked changes**: Use `<w:del>` and `<w:ins>` tags with `w:author=\"Claude\"` outside `<w:r>` elements\n  - **Critical**: `<w:ins>` closes with `</w:ins>`, `<w:del>` closes with `</w:del>` - never mix\n  - **RSIDs must be 8-digit hex**: Use values like `00AB1234` (only 0-9, A-F characters)\n  - **trackRevisions placement**: Add `<w:trackRevisions/>` after `<w:proofState>` in settings.xml\n- **Images**: Add to `word/media/`, reference in `document.xml`, set dimensions to prevent overflow\n\n## Document Content Patterns\n\n### Basic Structure\n```xml\n<w:p>\n  <w:r><w:t>Text content</w:t></w:r>\n</w:p>\n```\n\n### Headings and Styles\n```xml\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"Title\"/>\n    <w:jc w:val=\"center\"/>\n  </w:pPr>\n  <w:r><w:t>Document Title</w:t></w:r>\n</w:p>\n\n<w:p>\n  <w:pPr><w:pStyle w:val=\"Heading2\"/></w:pPr>\n  <w:r><w:t>Section Heading</w:t></w:r>\n</w:p>\n```\n\n### Text Formatting\n```xml\n<!-- Bold -->\n<w:r><w:rPr><w:b/><w:bCs/></w:rPr><w:t>Bold</w:t></w:r>\n<!-- Italic -->\n<w:r><w:rPr><w:i/><w:iCs/></w:rPr><w:t>Italic</w:t></w:r>\n<!-- Underline -->\n<w:r><w:rPr><w:u w:val=\"single\"/></w:rPr><w:t>Underlined</w:t></w:r>\n<!-- Highlight -->\n<w:r><w:rPr><w:highlight w:val=\"yellow\"/></w:rPr><w:t>Highlighted</w:t></w:r>\n```\n\n### Lists\n```xml\n<!-- Numbered list -->\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"ListParagraph\"/>\n    <w:numPr><w:ilvl w:val=\"0\"/><w:numId w:val=\"1\"/></w:numPr>\n    <w:spacing w:before=\"240\"/>\n  </w:pPr>\n  <w:r><w:t>First item</w:t></w:r>\n</w:p>\n\n<!-- Restart numbered list at 1 - use different numId -->\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"ListParagraph\"/>\n    <w:numPr><w:ilvl w:val=\"0\"/><w:numId w:val=\"2\"/></w:numPr>\n    <w:spacing w:before=\"240\"/>\n  </w:pPr>\n  <w:r><w:t>New list item 1</w:t></w:r>\n</w:p>\n\n<!-- Bullet list (level 2) -->\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"ListParagraph\"/>\n    <w:numPr><w:ilvl w:val=\"1\"/><w:numId w:val=\"1\"/></w:numPr>\n    <w:spacing w:before=\"240\"/>\n    <w:ind w:left=\"900\"/>\n  </w:pPr>\n  <w:r><w:t>Bullet item</w:t></w:r>\n</w:p>\n```\n\n### Tables\n\n**CRITICAL**: When adding rows to existing tables, match the EXACT cell structure of existing rows:\n- Count cells in an existing row and match the count exactly\n- Check for `<w:gridSpan>` (cell spans multiple columns) and `<w:gridAfter>` (columns after cells)\n- Match cell widths (`<w:tcW>`) from the table's `<w:tblGrid>` definition\n- **Match content placement**: Check which cell contains the content in the reference row and place your content in the same cell position (e.g., if label rows have empty first cells with content in second cells, replicate this pattern)\n- Examine which columns contain content vs. which are empty - replicate this exact pattern\n\n```xml\n<w:tbl>\n  <w:tblPr>\n    <w:tblStyle w:val=\"TableGrid\"/>\n    <w:tblW w:w=\"0\" w:type=\"auto\"/>\n  </w:tblPr>\n  <w:tblGrid>\n    <w:gridCol w:w=\"4675\"/><w:gridCol w:w=\"4675\"/>\n  </w:tblGrid>\n  <w:tr>\n    <w:tc>\n      <w:tcPr><w:tcW w:w=\"4675\" w:type=\"dxa\"/></w:tcPr>\n      <w:p><w:r><w:t>Cell 1</w:t></w:r></w:p>\n    </w:tc>\n    <w:tc>\n      <w:tcPr><w:tcW w:w=\"4675\" w:type=\"dxa\"/></w:tcPr>\n      <w:p><w:r><w:t>Cell 2</w:t></w:r></w:p>\n    </w:tc>\n  </w:tr>\n</w:tbl>\n```\n\n### Layout\n```xml\n<!-- Page break before new section (common pattern) -->\n<w:p>\n  <w:r>\n    <w:br w:type=\"page\"/>\n  </w:r>\n</w:p>\n<w:p>\n  <w:pPr>\n    <w:pStyle w:val=\"Heading1\"/>\n  </w:pPr>\n  <w:r>\n    <w:t>New Section Title</w:t>\n  </w:r>\n</w:p>\n\n<!-- Centered paragraph -->\n<w:p>\n  <w:pPr>\n    <w:spacing w:before=\"240\" w:after=\"0\"/>\n    <w:jc w:val=\"center\"/>\n  </w:pPr>\n  <w:r><w:t>Centered text</w:t></w:r>\n</w:p>\n\n<!-- Font change - paragraph level (applies to all runs) -->\n<w:p>\n  <w:pPr>\n    <w:rPr><w:rFonts w:ascii=\"Courier New\" w:hAnsi=\"Courier New\"/></w:rPr>\n  </w:pPr>\n  <w:r><w:t>Monospace text</w:t></w:r>\n</w:p>\n\n<!-- Font change - run level (specific to this text) -->\n<w:p>\n  <w:r>\n    <w:rPr><w:rFonts w:ascii=\"Courier New\" w:hAnsi=\"Courier New\"/></w:rPr>\n    <w:t>This text is Courier New</w:t>\n  </w:r>\n  <w:r><w:t> and this text uses default font</w:t></w:r>\n</w:p>\n```\n\n## File Updates\n\nWhen adding content, update these files:\n\n**`word/_rels/document.xml.rels`:**\n```xml\n<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering\" Target=\"numbering.xml\"/>\n<Relationship Id=\"rId5\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"media/image1.png\"/>\n```\n\n**`[Content_Types].xml`:**\n```xml\n<Default Extension=\"png\" ContentType=\"image/png\"/>\n<Override PartName=\"/word/numbering.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml\"/>\n```\n\n### Images\n**CRITICAL**: Calculate dimensions to prevent page overflow and maintain aspect ratio.\n\n```xml\n<!-- Minimal required structure -->\n<w:p>\n  <w:r>\n    <w:drawing>\n      <wp:inline>\n        <wp:extent cx=\"2743200\" cy=\"1828800\"/>\n        <wp:docPr id=\"1\" name=\"Picture 1\"/>\n        <a:graphic xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\">\n          <a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n            <pic:pic xmlns:pic=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n              <pic:nvPicPr>\n                <pic:cNvPr id=\"0\" name=\"image1.png\"/>\n                <pic:cNvPicPr/>\n              </pic:nvPicPr>\n              <pic:blipFill>\n                <a:blip r:embed=\"rId5\"/>\n                <!-- Add for stretch fill with aspect ratio preservation -->\n                <a:stretch>\n                  <a:fillRect/>\n                </a:stretch>\n              </pic:blipFill>\n              <pic:spPr>\n                <a:xfrm>\n                  <a:ext cx=\"2743200\" cy=\"1828800\"/>\n                </a:xfrm>\n                <a:prstGeom prst=\"rect\"/>\n              </pic:spPr>\n            </pic:pic>\n          </a:graphicData>\n        </a:graphic>\n      </wp:inline>\n    </w:drawing>\n  </w:r>\n</w:p>\n```\n\n### Links (Hyperlinks)\n\n**IMPORTANT**: All hyperlinks (both internal and external) require the Hyperlink style to be defined in styles.xml. Without this style, links will look like regular text instead of blue underlined clickable links.\n\n**External Links:**\n```xml\n<!-- In document.xml -->\n<w:hyperlink r:id=\"rId5\">\n  <w:r>\n    <w:rPr><w:rStyle w:val=\"Hyperlink\"/></w:rPr>\n    <w:t>Link Text</w:t>\n  </w:r>\n</w:hyperlink>\n\n<!-- In word/_rels/document.xml.rels -->\n<Relationship Id=\"rId5\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" \n              Target=\"https://www.example.com/\" TargetMode=\"External\"/>\n```\n\n**Internal Links:**\n\n```xml\n<!-- Link to bookmark -->\n<w:hyperlink w:anchor=\"myBookmark\">\n  <w:r>\n    <w:rPr><w:rStyle w:val=\"Hyperlink\"/></w:rPr>\n    <w:t>Link Text</w:t>\n  </w:r>\n</w:hyperlink>\n\n<!-- Bookmark target -->\n<w:bookmarkStart w:id=\"0\" w:name=\"myBookmark\"/>\n<w:r><w:t>Target content</w:t></w:r>\n<w:bookmarkEnd w:id=\"0\"/>\n```\n\n**Hyperlink Style (required in styles.xml):**\n```xml\n<w:style w:type=\"character\" w:styleId=\"Hyperlink\">\n  <w:name w:val=\"Hyperlink\"/>\n  <w:basedOn w:val=\"DefaultParagraphFont\"/>\n  <w:uiPriority w:val=\"99\"/>\n  <w:unhideWhenUsed/>\n  <w:rPr>\n    <w:color w:val=\"467886\" w:themeColor=\"hyperlink\"/>\n    <w:u w:val=\"single\"/>\n  </w:rPr>\n</w:style>\n```\n\n## Document Library (Python)\n\nUse the Document class from `scripts/document.py` for all tracked changes and comments. It automatically handles infrastructure setup (people.xml, RSIDs, settings.xml, comment files, relationships, content types). Only use direct XML manipulation for complex scenarios not supported by the library.\n\n**Working with Unicode and Entities:**\n- **Searching**: Both entity notation and Unicode characters work - `contains=\"&#8220;Company\"` and `contains=\"\\u201cCompany\"` find the same text\n- **Replacing**: Use either entities (`&#8220;`) or Unicode (`\\u201c`) - both work and will be converted appropriately based on the file's encoding (ascii ‚Üí entities, utf-8 ‚Üí Unicode)\n\n### Initialization\n\n**Set PYTHONPATH to the docx skill root:**\n\n```bash\n# Find the docx skill root (directory containing scripts/ and ooxml/)\nfind /mnt/skills -name \"document.py\" -path \"*/docx/scripts/*\" 2>/dev/null | head -1\n# Example output: /mnt/skills/public/docx/scripts/document.py\n# Skill root is: /mnt/skills/public/docx\n\n# Option 1: Export for entire session\nexport PYTHONPATH=/mnt/skills/public/docx:$PYTHONPATH\n\n# Option 2: Inline with script execution\nPYTHONPATH=/mnt/skills/public/docx python3 your_script.py\n```\n\n**In your script**, import normally:\n```python\nfrom scripts.document import Document\n\n# Basic initialization (automatically creates temp copy and sets up infrastructure)\ndoc = Document('unpacked')\n\n# Customize author and initials\ndoc = Document('unpacked', author=\"John Doe\", initials=\"JD\")\n\n# Enable track revisions mode\ndoc = Document('unpacked', track_revisions=True)\n\n# Specify custom RSID (auto-generated if not provided)\ndoc = Document('unpacked', rsid=\"07DC5ECB\")\n```\n\n### Creating Tracked Changes\n\n**CRITICAL**: Only mark text that actually changes. Keep ALL unchanged text outside `<w:del>`/`<w:ins>` tags. Marking unchanged text makes edits unprofessional and harder to review.\n\n**Attribute Handling**: The Document class auto-injects attributes (w:id, w:date, w:rsidR, w:rsidDel, w16du:dateUtc, xml:space) into new elements. When preserving unchanged text from the original document, copy the original `<w:r>` element with its existing attributes to maintain document integrity.\n\n**Method Selection Guide**:\n- **Adding your own changes to regular text**: Use `replace_node()` with `<w:del>`/`<w:ins>` tags, or `suggest_deletion()` for removing entire `<w:r>` or `<w:p>` elements\n- **Partially modifying another author's tracked change**: Use `replace_node()` to nest your changes inside their `<w:ins>`/`<w:del>`\n- **Completely rejecting another author's insertion**: Use `revert_insertion()` on the `<w:ins>` element (NOT `suggest_deletion()`)\n- **Completely rejecting another author's deletion**: Use `revert_deletion()` on the `<w:del>` element to restore deleted content using tracked changes\n\n```python\n# Minimal edit - change one word: \"The report is monthly\" ‚Üí \"The report is quarterly\"\n# Original: <w:r w:rsidR=\"00AB12CD\"><w:rPr><w:rFonts w:ascii=\"Calibri\"/></w:rPr><w:t>The report is monthly</w:t></w:r>\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"The report is monthly\")\nrpr = tags[0].toxml() if (tags := node.getElementsByTagName(\"w:rPr\")) else \"\"\nreplacement = f'<w:r w:rsidR=\"00AB12CD\">{rpr}<w:t>The report is </w:t></w:r><w:del><w:r>{rpr}<w:delText>monthly</w:delText></w:r></w:del><w:ins><w:r>{rpr}<w:t>quarterly</w:t></w:r></w:ins>'\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Minimal edit - change number: \"within 30 days\" ‚Üí \"within 45 days\"\n# Original: <w:r w:rsidR=\"00XYZ789\"><w:rPr><w:rFonts w:ascii=\"Calibri\"/></w:rPr><w:t>within 30 days</w:t></w:r>\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"within 30 days\")\nrpr = tags[0].toxml() if (tags := node.getElementsByTagName(\"w:rPr\")) else \"\"\nreplacement = f'<w:r w:rsidR=\"00XYZ789\">{rpr}<w:t>within </w:t></w:r><w:del><w:r>{rpr}<w:delText>30</w:delText></w:r></w:del><w:ins><w:r>{rpr}<w:t>45</w:t></w:r></w:ins><w:r w:rsidR=\"00XYZ789\">{rpr}<w:t> days</w:t></w:r>'\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Complete replacement - preserve formatting even when replacing all text\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"apple\")\nrpr = tags[0].toxml() if (tags := node.getElementsByTagName(\"w:rPr\")) else \"\"\nreplacement = f'<w:del><w:r>{rpr}<w:delText>apple</w:delText></w:r></w:del><w:ins><w:r>{rpr}<w:t>banana orange</w:t></w:r></w:ins>'\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Insert new content (no attributes needed - auto-injected)\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"existing text\")\ndoc[\"word/document.xml\"].insert_after(node, '<w:ins><w:r><w:t>new text</w:t></w:r></w:ins>')\n\n# Partially delete another author's insertion\n# Original: <w:ins w:author=\"Jane Smith\" w:date=\"...\"><w:r><w:t>quarterly financial report</w:t></w:r></w:ins>\n# Goal: Delete only \"financial\" to make it \"quarterly report\"\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"5\"})\n# IMPORTANT: Preserve w:author=\"Jane Smith\" on the outer <w:ins> to maintain authorship\nreplacement = '''<w:ins w:author=\"Jane Smith\" w:date=\"2025-01-15T10:00:00Z\">\n  <w:r><w:t>quarterly </w:t></w:r>\n  <w:del><w:r><w:delText>financial </w:delText></w:r></w:del>\n  <w:r><w:t>report</w:t></w:r>\n</w:ins>'''\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Change part of another author's insertion\n# Original: <w:ins w:author=\"Jane Smith\"><w:r><w:t>in silence, safe and sound</w:t></w:r></w:ins>\n# Goal: Change \"safe and sound\" to \"soft and unbound\"\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"8\"})\nreplacement = f'''<w:ins w:author=\"Jane Smith\" w:date=\"2025-01-15T10:00:00Z\">\n  <w:r><w:t>in silence, </w:t></w:r>\n</w:ins>\n<w:ins>\n  <w:r><w:t>soft and unbound</w:t></w:r>\n</w:ins>\n<w:ins w:author=\"Jane Smith\" w:date=\"2025-01-15T10:00:00Z\">\n  <w:del><w:r><w:delText>safe and sound</w:delText></w:r></w:del>\n</w:ins>'''\ndoc[\"word/document.xml\"].replace_node(node, replacement)\n\n# Delete entire run (use only when deleting all content; use replace_node for partial deletions)\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"text to delete\")\ndoc[\"word/document.xml\"].suggest_deletion(node)\n\n# Delete entire paragraph (in-place, handles both regular and numbered list paragraphs)\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph to delete\")\ndoc[\"word/document.xml\"].suggest_deletion(para)\n\n# Add new numbered list item\ntarget_para = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"existing list item\")\npPr = tags[0].toxml() if (tags := target_para.getElementsByTagName(\"w:pPr\")) else \"\"\nnew_item = f'<w:p>{pPr}<w:r><w:t>New item</w:t></w:r></w:p>'\ntracked_para = doc.suggest_paragraph(new_item)\ndoc[\"word/document.xml\"].insert_after(target_para, tracked_para)\n# Optional: add spacing paragraph before content for better visual separation\n# spacing = doc.suggest_paragraph('<w:p><w:pPr><w:pStyle w:val=\"ListParagraph\"/></w:pPr></w:p>')\n# doc[\"word/document.xml\"].insert_after(target_para, spacing + tracked_para)\n\n# Add table row with tracked changes (requires 3 levels: row, cell properties, content)\n# IMPORTANT: First examine an existing row to match cell count, widths, and content placement\nlast_row = doc[\"word/document.xml\"].get_node(tag=\"w:tr\", line_number=5000)\nnew_row = '''<w:tr>\n  <w:trPr><w:ins/></w:trPr>\n  <w:tc>\n    <w:tcPr><w:tcW w:w=\"4675\" w:type=\"dxa\"/></w:tcPr>\n    <w:p><w:pPr><w:rPr><w:ins/></w:rPr></w:pPr><w:ins><w:r><w:t>New Cell</w:t></w:r></w:ins></w:p>\n  </w:tc>\n</w:tr>'''\ndoc[\"word/document.xml\"].insert_after(last_row, new_row)\n```\n\n### Adding Comments\n\n```python\n# Add comment spanning two existing tracked changes\n# Note: w:id is auto-generated. Only search by w:id if you know it from XML inspection\nstart_node = doc[\"word/document.xml\"].get_node(tag=\"w:del\", attrs={\"w:id\": \"1\"})\nend_node = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"2\"})\ndoc.add_comment(start=start_node, end=end_node, text=\"Explanation of this change\")\n\n# Add comment on a paragraph\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph text\")\ndoc.add_comment(start=para, end=para, text=\"Comment on this paragraph\")\n\n# Add comment on newly created tracked change\n# First create the tracked change\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"old\")\nnew_nodes = doc[\"word/document.xml\"].replace_node(\n    node,\n    '<w:del><w:r><w:delText>old</w:delText></w:r></w:del><w:ins><w:r><w:t>new</w:t></w:r></w:ins>'\n)\n# Then add comment on the newly created elements\n# new_nodes[0] is the <w:del>, new_nodes[1] is the <w:ins>\ndoc.add_comment(start=new_nodes[0], end=new_nodes[1], text=\"Changed old to new per requirements\")\n\n# Reply to existing comment\ndoc.reply_to_comment(parent_comment_id=0, text=\"I agree with this change\")\n```\n\n### Rejecting Tracked Changes\n\n**IMPORTANT**: Use `revert_insertion()` to reject insertions and `revert_deletion()` to restore deletions using tracked changes. Use `suggest_deletion()` only for regular unmarked content.\n\n```python\n# Reject insertion (wraps it in deletion)\n# Use this when another author inserted text that you want to delete\nins = doc[\"word/document.xml\"].get_node(tag=\"w:ins\", attrs={\"w:id\": \"5\"})\nnodes = doc[\"word/document.xml\"].revert_insertion(ins)  # Returns [ins]\n\n# Reject deletion (creates insertion to restore deleted content)\n# Use this when another author deleted text that you want to restore\ndel_elem = doc[\"word/document.xml\"].get_node(tag=\"w:del\", attrs={\"w:id\": \"3\"})\nnodes = doc[\"word/document.xml\"].revert_deletion(del_elem)  # Returns [del_elem, new_ins]\n\n# Reject all insertions in a paragraph\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph text\")\nnodes = doc[\"word/document.xml\"].revert_insertion(para)  # Returns [para]\n\n# Reject all deletions in a paragraph\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"paragraph text\")\nnodes = doc[\"word/document.xml\"].revert_deletion(para)  # Returns [para]\n```\n\n### Inserting Images\n\n**CRITICAL**: The Document class works with a temporary copy at `doc.unpacked_path`. Always copy images to this temp directory, not the original unpacked folder.\n\n```python\nfrom PIL import Image\nimport shutil, os\n\n# Initialize document first\ndoc = Document('unpacked')\n\n# Copy image and calculate full-width dimensions with aspect ratio\nmedia_dir = os.path.join(doc.unpacked_path, 'word/media')\nos.makedirs(media_dir, exist_ok=True)\nshutil.copy('image.png', os.path.join(media_dir, 'image1.png'))\nimg = Image.open(os.path.join(media_dir, 'image1.png'))\nwidth_emus = int(6.5 * 914400)  # 6.5\" usable width, 914400 EMUs/inch\nheight_emus = int(width_emus * img.size[1] / img.size[0])\n\n# Add relationship and content type\nrels_editor = doc['word/_rels/document.xml.rels']\nnext_rid = rels_editor.get_next_rid()\nrels_editor.append_to(rels_editor.dom.documentElement,\n    f'<Relationship Id=\"{next_rid}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"media/image1.png\"/>')\ndoc['[Content_Types].xml'].append_to(doc['[Content_Types].xml'].dom.documentElement,\n    '<Default Extension=\"png\" ContentType=\"image/png\"/>')\n\n# Insert image\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=100)\ndoc[\"word/document.xml\"].insert_after(node, f'''<w:p>\n  <w:r>\n    <w:drawing>\n      <wp:inline distT=\"0\" distB=\"0\" distL=\"0\" distR=\"0\">\n        <wp:extent cx=\"{width_emus}\" cy=\"{height_emus}\"/>\n        <wp:docPr id=\"1\" name=\"Picture 1\"/>\n        <a:graphic xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\">\n          <a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n            <pic:pic xmlns:pic=\"http://schemas.openxmlformats.org/drawingml/2006/picture\">\n              <pic:nvPicPr><pic:cNvPr id=\"1\" name=\"image1.png\"/><pic:cNvPicPr/></pic:nvPicPr>\n              <pic:blipFill><a:blip r:embed=\"{next_rid}\"/><a:stretch><a:fillRect/></a:stretch></pic:blipFill>\n              <pic:spPr><a:xfrm><a:ext cx=\"{width_emus}\" cy=\"{height_emus}\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom></pic:spPr>\n            </pic:pic>\n          </a:graphicData>\n        </a:graphic>\n      </wp:inline>\n    </w:drawing>\n  </w:r>\n</w:p>''')\n```\n\n### Getting Nodes\n\n```python\n# By text content\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"specific text\")\n\n# By line range\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=range(100, 150))\n\n# By attributes\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:del\", attrs={\"w:id\": \"1\"})\n\n# By exact line number (must be line number where tag opens)\npara = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=42)\n\n# Combine filters\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", line_number=range(40, 60), contains=\"text\")\n\n# Disambiguate when text appears multiple times - add line_number range\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", contains=\"Section\", line_number=range(2400, 2500))\n```\n\n### Saving\n\n```python\n# Save with automatic validation (copies back to original directory)\ndoc.save()  # Validates by default, raises error if validation fails\n\n# Save to different location\ndoc.save('modified-unpacked')\n\n# Skip validation (debugging only - needing this in production indicates XML issues)\ndoc.save(validate=False)\n```\n\n### Direct DOM Manipulation\n\nFor complex scenarios not covered by the library:\n\n```python\n# Access any XML file\neditor = doc[\"word/document.xml\"]\neditor = doc[\"word/comments.xml\"]\n\n# Direct DOM access (defusedxml.minidom.Document)\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:p\", line_number=5)\nparent = node.parentNode\nparent.removeChild(node)\nparent.appendChild(node)  # Move to end\n\n# General document manipulation (without tracked changes)\nold_node = doc[\"word/document.xml\"].get_node(tag=\"w:p\", contains=\"original text\")\ndoc[\"word/document.xml\"].replace_node(old_node, \"<w:p><w:r><w:t>replacement text</w:t></w:r></w:p>\")\n\n# Multiple insertions - use return value to maintain order\nnode = doc[\"word/document.xml\"].get_node(tag=\"w:r\", line_number=100)\nnodes = doc[\"word/document.xml\"].insert_after(node, \"<w:r><w:t>A</w:t></w:r>\")\nnodes = doc[\"word/document.xml\"].insert_after(nodes[-1], \"<w:r><w:t>B</w:t></w:r>\")\nnodes = doc[\"word/document.xml\"].insert_after(nodes[-1], \"<w:r><w:t>C</w:t></w:r>\")\n# Results in: original_node, A, B, C\n```\n\n## Tracked Changes (Redlining)\n\n**Use the Document class above for all tracked changes.** The patterns below are for reference when constructing replacement XML strings.\n\n### Validation Rules\nThe validator checks that the document text matches the original after reverting Claude's changes. This means:\n- **NEVER modify text inside another author's `<w:ins>` or `<w:del>` tags**\n- **ALWAYS use nested deletions** to remove another author's insertions\n- **Every edit must be properly tracked** with `<w:ins>` or `<w:del>` tags\n\n### Tracked Change Patterns\n\n**CRITICAL RULES**:\n1. Never modify the content inside another author's tracked changes. Always use nested deletions.\n2. **XML Structure**: Always place `<w:del>` and `<w:ins>` at paragraph level containing complete `<w:r>` elements. Never nest inside `<w:r>` elements - this creates invalid XML that breaks document processing.\n\n**Text Insertion:**\n```xml\n<w:ins w:id=\"1\" w:author=\"Claude\" w:date=\"2025-07-30T23:05:00Z\" w16du:dateUtc=\"2025-07-31T06:05:00Z\">\n  <w:r w:rsidR=\"00792858\">\n    <w:t>inserted text</w:t>\n  </w:r>\n</w:ins>\n```\n\n**Text Deletion:**\n```xml\n<w:del w:id=\"2\" w:author=\"Claude\" w:date=\"2025-07-30T23:05:00Z\" w16du:dateUtc=\"2025-07-31T06:05:00Z\">\n  <w:r w:rsidDel=\"00792858\">\n    <w:delText>deleted text</w:delText>\n  </w:r>\n</w:del>\n```\n\n**Deleting Another Author's Insertion (MUST use nested structure):**\n```xml\n<!-- Nest deletion inside the original insertion -->\n<w:ins w:author=\"Jane Smith\" w:id=\"16\">\n  <w:del w:author=\"Claude\" w:id=\"40\">\n    <w:r><w:delText>monthly</w:delText></w:r>\n  </w:del>\n</w:ins>\n<w:ins w:author=\"Claude\" w:id=\"41\">\n  <w:r><w:t>weekly</w:t></w:r>\n</w:ins>\n```\n\n**Restoring Another Author's Deletion:**\n```xml\n<!-- Leave their deletion unchanged, add new insertion after it -->\n<w:del w:author=\"Jane Smith\" w:id=\"50\">\n  <w:r><w:delText>within 30 days</w:delText></w:r>\n</w:del>\n<w:ins w:author=\"Claude\" w:id=\"51\">\n  <w:r><w:t>within 30 days</w:t></w:r>\n</w:ins>\n```",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/frontend-design/SKILL.md": "---\nname: frontend-design\ndescription: Create distinctive, production-grade frontend interfaces with high design quality. Use this skill when the user asks to build web components, pages, artifacts, posters, or applications (examples include websites, landing pages, dashboards, React components, HTML/CSS layouts, or when styling/beautifying any web UI). Generates creative, polished code and UI design that avoids generic AI aesthetics.\nlicense: Complete terms in LICENSE.txt\n---\n\nThis skill guides creation of distinctive, production-grade frontend interfaces that avoid generic \"AI slop\" aesthetics. Implement real working code with exceptional attention to aesthetic details and creative choices.\n\nThe user provides frontend requirements: a component, page, application, or interface to build. They may include context about the purpose, audience, or technical constraints.\n\n## Design Thinking\n\nBefore coding, understand the context and commit to a BOLD aesthetic direction:\n- **Purpose**: What problem does this interface solve? Who uses it?\n- **Tone**: Pick an extreme: brutally minimal, maximalist chaos, retro-futuristic, organic/natural, luxury/refined, playful/toy-like, editorial/magazine, brutalist/raw, art deco/geometric, soft/pastel, industrial/utilitarian, etc. There are so many flavors to choose from. Use these for inspiration but design one that is true to the aesthetic direction.\n- **Constraints**: Technical requirements (framework, performance, accessibility).\n- **Differentiation**: What makes this UNFORGETTABLE? What's the one thing someone will remember?\n\n**CRITICAL**: Choose a clear conceptual direction and execute it with precision. Bold maximalism and refined minimalism both work - the key is intentionality, not intensity.\n\nThen implement working code (HTML/CSS/JS, React, Vue, etc.) that is:\n- Production-grade and functional\n- Visually striking and memorable\n- Cohesive with a clear aesthetic point-of-view\n- Meticulously refined in every detail\n\n## Frontend Aesthetics Guidelines\n\nFocus on:\n- **Typography**: Choose fonts that are beautiful, unique, and interesting. Avoid generic fonts like Arial and Inter; opt instead for distinctive choices that elevate the frontend's aesthetics; unexpected, characterful font choices. Pair a distinctive display font with a refined body font.\n- **Color & Theme**: Commit to a cohesive aesthetic. Use CSS variables for consistency. Dominant colors with sharp accents outperform timid, evenly-distributed palettes.\n- **Motion**: Use animations for effects and micro-interactions. Prioritize CSS-only solutions for HTML. Use Motion library for React when available. Focus on high-impact moments: one well-orchestrated page load with staggered reveals (animation-delay) creates more delight than scattered micro-interactions. Use scroll-triggering and hover states that surprise.\n- **Spatial Composition**: Unexpected layouts. Asymmetry. Overlap. Diagonal flow. Grid-breaking elements. Generous negative space OR controlled density.\n- **Backgrounds & Visual Details**: Create atmosphere and depth rather than defaulting to solid colors. Add contextual effects and textures that match the overall aesthetic. Apply creative forms like gradient meshes, noise textures, geometric patterns, layered transparencies, dramatic shadows, decorative borders, custom cursors, and grain overlays.\n\nNEVER use generic AI-generated aesthetics like overused font families (Inter, Roboto, Arial, system fonts), cliched color schemes (particularly purple gradients on white backgrounds), predictable layouts and component patterns, and cookie-cutter design that lacks context-specific character.\n\nInterpret creatively and make unexpected choices that feel genuinely designed for the context. No design should be the same. Vary between light and dark themes, different fonts, different aesthetics. NEVER converge on common choices (Space Grotesk, for example) across generations.\n\n**IMPORTANT**: Match implementation complexity to the aesthetic vision. Maximalist designs need elaborate code with extensive animations and effects. Minimalist or refined designs need restraint, precision, and careful attention to spacing, typography, and subtle details. Elegance comes from executing the vision well.\n\nRemember: Claude is capable of extraordinary creative work. Don't hold back, show what can truly be created when thinking outside the box and committing fully to a distinctive vision.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pdf/FORMS.md": "**CRITICAL: You MUST complete these steps in order. Do not skip ahead to writing code.**\n\nIf you need to fill out a PDF form, first check to see if the PDF has fillable form fields. Run this script from this file's directory:\n `python scripts/check_fillable_fields <file.pdf>`, and depending on the result go to either the \"Fillable fields\" or \"Non-fillable fields\" and follow those instructions.\n\n# Fillable fields\nIf the PDF has fillable form fields:\n- Run this script from this file's directory: `python scripts/extract_form_field_info.py <input.pdf> <field_info.json>`. It will create a JSON file with a list of fields in this format:\n```\n[\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"rect\": ([left, bottom, right, top] bounding box in PDF coordinates, y=0 is the bottom of the page),\n    \"type\": (\"text\", \"checkbox\", \"radio_group\", or \"choice\"),\n  },\n  // Checkboxes have \"checked_value\" and \"unchecked_value\" properties:\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"type\": \"checkbox\",\n    \"checked_value\": (Set the field to this value to check the checkbox),\n    \"unchecked_value\": (Set the field to this value to uncheck the checkbox),\n  },\n  // Radio groups have a \"radio_options\" list with the possible choices.\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"type\": \"radio_group\",\n    \"radio_options\": [\n      {\n        \"value\": (set the field to this value to select this radio option),\n        \"rect\": (bounding box for the radio button for this option)\n      },\n      // Other radio options\n    ]\n  },\n  // Multiple choice fields have a \"choice_options\" list with the possible choices:\n  {\n    \"field_id\": (unique ID for the field),\n    \"page\": (page number, 1-based),\n    \"type\": \"choice\",\n    \"choice_options\": [\n      {\n        \"value\": (set the field to this value to select this option),\n        \"text\": (display text of the option)\n      },\n      // Other choice options\n    ],\n  }\n]\n```\n- Convert the PDF to PNGs (one image for each page) with this script (run from this file's directory):\n`python scripts/convert_pdf_to_images.py <file.pdf> <output_directory>`\nThen analyze the images to determine the purpose of each form field (make sure to convert the bounding box PDF coordinates to image coordinates).\n- Create a `field_values.json` file in this format with the values to be entered for each field:\n```\n[\n  {\n    \"field_id\": \"last_name\", // Must match the field_id from `extract_form_field_info.py`\n    \"description\": \"The user's last name\",\n    \"page\": 1, // Must match the \"page\" value in field_info.json\n    \"value\": \"Simpson\"\n  },\n  {\n    \"field_id\": \"Checkbox12\",\n    \"description\": \"Checkbox to be checked if the user is 18 or over\",\n    \"page\": 1,\n    \"value\": \"/On\" // If this is a checkbox, use its \"checked_value\" value to check it. If it's a radio button group, use one of the \"value\" values in \"radio_options\".\n  },\n  // more fields\n]\n```\n- Run the `fill_fillable_fields.py` script from this file's directory to create a filled-in PDF:\n`python scripts/fill_fillable_fields.py <input pdf> <field_values.json> <output pdf>`\nThis script will verify that the field IDs and values you provide are valid; if it prints error messages, correct the appropriate fields and try again.\n\n# Non-fillable fields\nIf the PDF doesn't have fillable form fields, you'll need to visually determine where the data should be added and create text annotations. Follow the below steps *exactly*. You MUST perform all of these steps to ensure that the the form is accurately completed. Details for each step are below.\n- Convert the PDF to PNG images and determine field bounding boxes.\n- Create a JSON file with field information and validation images showing the bounding boxes.\n- Validate the the bounding boxes.\n- Use the bounding boxes to fill in the form.\n\n## Step 1: Visual Analysis (REQUIRED)\n- Convert the PDF to PNG images. Run this script from this file's directory:\n`python scripts/convert_pdf_to_images.py <file.pdf> <output_directory>`\nThe script will create a PNG image for each page in the PDF.\n- Carefully examine each PNG image and identify all form fields and areas where the user should enter data. For each form field where the user should enter text, determine bounding boxes for both the form field label, and the area where the user should enter text. The label and entry bounding boxes MUST NOT INTERSECT; the text entry box should only include the area where data should be entered. Usually this area will be immediately to the side, above, or below its label. Entry bounding boxes must be tall and wide enough to contain their text.\n\nThese are some examples of form structures that you might see:\n\n*Label inside box*\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Name:                  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\nThe input area should be to the right of the \"Name\" label and extend to the edge of the box.\n\n*Label before line*\n```\nEmail: _______________________\n```\nThe input area should be above the line and include its entire width.\n\n*Label under line*\n```\n_________________________\nName\n```\nThe input area should be above the line and include the entire width of the line. This is common for signature and date fields.\n\n*Label above line*\n```\nPlease enter any special requests:\n________________________________________________\n```\nThe input area should extend from the bottom of the label to the line, and should include the entire width of the line.\n\n*Checkboxes*\n```\nAre you a US citizen? Yes ‚ñ°  No ‚ñ°\n```\nFor checkboxes:\n- Look for small square boxes (‚ñ°) - these are the actual checkboxes to target. They may be to the left or right of their labels.\n- Distinguish between label text (\"Yes\", \"No\") and the clickable checkbox squares.\n- The entry bounding box should cover ONLY the small square, not the text label.\n\n### Step 2: Create fields.json and validation images (REQUIRED)\n- Create a file named `fields.json` with information for the form fields and bounding boxes in this format:\n```\n{\n  \"pages\": [\n    {\n      \"page_number\": 1,\n      \"image_width\": (first page image width in pixels),\n      \"image_height\": (first page image height in pixels),\n    },\n    {\n      \"page_number\": 2,\n      \"image_width\": (second page image width in pixels),\n      \"image_height\": (second page image height in pixels),\n    }\n    // additional pages\n  ],\n  \"form_fields\": [\n    // Example for a text field.\n    {\n      \"page_number\": 1,\n      \"description\": \"The user's last name should be entered here\",\n      // Bounding boxes are [left, top, right, bottom]. The bounding boxes for the label and text entry should not overlap.\n      \"field_label\": \"Last name\",\n      \"label_bounding_box\": [30, 125, 95, 142],\n      \"entry_bounding_box\": [100, 125, 280, 142],\n      \"entry_text\": {\n        \"text\": \"Johnson\", // This text will be added as an annotation at the entry_bounding_box location\n        \"font_size\": 14, // optional, defaults to 14\n        \"font_color\": \"000000\", // optional, RRGGBB format, defaults to 000000 (black)\n      }\n    },\n    // Example for a checkbox. TARGET THE SQUARE for the entry bounding box, NOT THE TEXT\n    {\n      \"page_number\": 2,\n      \"description\": \"Checkbox that should be checked if the user is over 18\",\n      \"entry_bounding_box\": [140, 525, 155, 540],  // Small box over checkbox square\n      \"field_label\": \"Yes\",\n      \"label_bounding_box\": [100, 525, 132, 540],  // Box containing \"Yes\" text\n      // Use \"X\" to check a checkbox.\n      \"entry_text\": {\n        \"text\": \"X\",\n      }\n    }\n    // additional form field entries\n  ]\n}\n```\n\nCreate validation images by running this script from this file's directory for each page:\n`python scripts/create_validation_image.py <page_number> <path_to_fields.json> <input_image_path> <output_image_path>\n\nThe validation images will have red rectangles where text should be entered, and blue rectangles covering label text.\n\n### Step 3: Validate Bounding Boxes (REQUIRED)\n#### Automated intersection check\n- Verify that none of bounding boxes intersect and that the entry bounding boxes are tall enough by checking the fields.json file with the `check_bounding_boxes.py` script (run from this file's directory):\n`python scripts/check_bounding_boxes.py <JSON file>`\n\nIf there are errors, reanalyze the relevant fields, adjust the bounding boxes, and iterate until there are no remaining errors. Remember: label (blue) bounding boxes should contain text labels, entry (red) boxes should not.\n\n#### Manual image inspection\n**CRITICAL: Do not proceed without visually inspecting validation images**\n- Red rectangles must ONLY cover input areas\n- Red rectangles MUST NOT contain any text\n- Blue rectangles should contain label text\n- For checkboxes:\n  - Red rectangle MUST be centered on the checkbox square\n  - Blue rectangle should cover the text label for the checkbox\n\n- If any rectangles look wrong, fix fields.json, regenerate the validation images, and verify again. Repeat this process until the bounding boxes are fully accurate.\n\n\n### Step 4: Add annotations to the PDF\nRun this script from this file's directory to create a filled-out PDF using the information in fields.json:\n`python scripts/fill_pdf_form_with_annotations.py <input_pdf_path> <path_to_fields.json> <output_pdf_path>\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pdf/REFERENCE.md": "# PDF Processing Advanced Reference\n\nThis document contains advanced PDF processing features, detailed examples, and additional libraries not covered in the main skill instructions.\n\n## pypdfium2 Library (Apache/BSD License)\n\n### Overview\npypdfium2 is a Python binding for PDFium (Chromium's PDF library). It's excellent for fast PDF rendering, image generation, and serves as a PyMuPDF replacement.\n\n### Render PDF to Images\n```python\nimport pypdfium2 as pdfium\nfrom PIL import Image\n\n# Load PDF\npdf = pdfium.PdfDocument(\"document.pdf\")\n\n# Render page to image\npage = pdf[0]  # First page\nbitmap = page.render(\n    scale=2.0,  # Higher resolution\n    rotation=0  # No rotation\n)\n\n# Convert to PIL Image\nimg = bitmap.to_pil()\nimg.save(\"page_1.png\", \"PNG\")\n\n# Process multiple pages\nfor i, page in enumerate(pdf):\n    bitmap = page.render(scale=1.5)\n    img = bitmap.to_pil()\n    img.save(f\"page_{i+1}.jpg\", \"JPEG\", quality=90)\n```\n\n### Extract Text with pypdfium2\n```python\nimport pypdfium2 as pdfium\n\npdf = pdfium.PdfDocument(\"document.pdf\")\nfor i, page in enumerate(pdf):\n    text = page.get_text()\n    print(f\"Page {i+1} text length: {len(text)} chars\")\n```\n\n## JavaScript Libraries\n\n### pdf-lib (MIT License)\n\npdf-lib is a powerful JavaScript library for creating and modifying PDF documents in any JavaScript environment.\n\n#### Load and Manipulate Existing PDF\n```javascript\nimport { PDFDocument } from 'pdf-lib';\nimport fs from 'fs';\n\nasync function manipulatePDF() {\n    // Load existing PDF\n    const existingPdfBytes = fs.readFileSync('input.pdf');\n    const pdfDoc = await PDFDocument.load(existingPdfBytes);\n\n    // Get page count\n    const pageCount = pdfDoc.getPageCount();\n    console.log(`Document has ${pageCount} pages`);\n\n    // Add new page\n    const newPage = pdfDoc.addPage([600, 400]);\n    newPage.drawText('Added by pdf-lib', {\n        x: 100,\n        y: 300,\n        size: 16\n    });\n\n    // Save modified PDF\n    const pdfBytes = await pdfDoc.save();\n    fs.writeFileSync('modified.pdf', pdfBytes);\n}\n```\n\n#### Create Complex PDFs from Scratch\n```javascript\nimport { PDFDocument, rgb, StandardFonts } from 'pdf-lib';\nimport fs from 'fs';\n\nasync function createPDF() {\n    const pdfDoc = await PDFDocument.create();\n\n    // Add fonts\n    const helveticaFont = await pdfDoc.embedFont(StandardFonts.Helvetica);\n    const helveticaBold = await pdfDoc.embedFont(StandardFonts.HelveticaBold);\n\n    // Add page\n    const page = pdfDoc.addPage([595, 842]); // A4 size\n    const { width, height } = page.getSize();\n\n    // Add text with styling\n    page.drawText('Invoice #12345', {\n        x: 50,\n        y: height - 50,\n        size: 18,\n        font: helveticaBold,\n        color: rgb(0.2, 0.2, 0.8)\n    });\n\n    // Add rectangle (header background)\n    page.drawRectangle({\n        x: 40,\n        y: height - 100,\n        width: width - 80,\n        height: 30,\n        color: rgb(0.9, 0.9, 0.9)\n    });\n\n    // Add table-like content\n    const items = [\n        ['Item', 'Qty', 'Price', 'Total'],\n        ['Widget', '2', '$50', '$100'],\n        ['Gadget', '1', '$75', '$75']\n    ];\n\n    let yPos = height - 150;\n    items.forEach(row => {\n        let xPos = 50;\n        row.forEach(cell => {\n            page.drawText(cell, {\n                x: xPos,\n                y: yPos,\n                size: 12,\n                font: helveticaFont\n            });\n            xPos += 120;\n        });\n        yPos -= 25;\n    });\n\n    const pdfBytes = await pdfDoc.save();\n    fs.writeFileSync('created.pdf', pdfBytes);\n}\n```\n\n#### Advanced Merge and Split Operations\n```javascript\nimport { PDFDocument } from 'pdf-lib';\nimport fs from 'fs';\n\nasync function mergePDFs() {\n    // Create new document\n    const mergedPdf = await PDFDocument.create();\n\n    // Load source PDFs\n    const pdf1Bytes = fs.readFileSync('doc1.pdf');\n    const pdf2Bytes = fs.readFileSync('doc2.pdf');\n\n    const pdf1 = await PDFDocument.load(pdf1Bytes);\n    const pdf2 = await PDFDocument.load(pdf2Bytes);\n\n    // Copy pages from first PDF\n    const pdf1Pages = await mergedPdf.copyPages(pdf1, pdf1.getPageIndices());\n    pdf1Pages.forEach(page => mergedPdf.addPage(page));\n\n    // Copy specific pages from second PDF (pages 0, 2, 4)\n    const pdf2Pages = await mergedPdf.copyPages(pdf2, [0, 2, 4]);\n    pdf2Pages.forEach(page => mergedPdf.addPage(page));\n\n    const mergedPdfBytes = await mergedPdf.save();\n    fs.writeFileSync('merged.pdf', mergedPdfBytes);\n}\n```\n\n### pdfjs-dist (Apache License)\n\nPDF.js is Mozilla's JavaScript library for rendering PDFs in the browser.\n\n#### Basic PDF Loading and Rendering\n```javascript\nimport * as pdfjsLib from 'pdfjs-dist';\n\n// Configure worker (important for performance)\npdfjsLib.GlobalWorkerOptions.workerSrc = './pdf.worker.js';\n\nasync function renderPDF() {\n    // Load PDF\n    const loadingTask = pdfjsLib.getDocument('document.pdf');\n    const pdf = await loadingTask.promise;\n\n    console.log(`Loaded PDF with ${pdf.numPages} pages`);\n\n    // Get first page\n    const page = await pdf.getPage(1);\n    const viewport = page.getViewport({ scale: 1.5 });\n\n    // Render to canvas\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    canvas.height = viewport.height;\n    canvas.width = viewport.width;\n\n    const renderContext = {\n        canvasContext: context,\n        viewport: viewport\n    };\n\n    await page.render(renderContext).promise;\n    document.body.appendChild(canvas);\n}\n```\n\n#### Extract Text with Coordinates\n```javascript\nimport * as pdfjsLib from 'pdfjs-dist';\n\nasync function extractText() {\n    const loadingTask = pdfjsLib.getDocument('document.pdf');\n    const pdf = await loadingTask.promise;\n\n    let fullText = '';\n\n    // Extract text from all pages\n    for (let i = 1; i <= pdf.numPages; i++) {\n        const page = await pdf.getPage(i);\n        const textContent = await page.getTextContent();\n\n        const pageText = textContent.items\n            .map(item => item.str)\n            .join(' ');\n\n        fullText += `\\n--- Page ${i} ---\\n${pageText}`;\n\n        // Get text with coordinates for advanced processing\n        const textWithCoords = textContent.items.map(item => ({\n            text: item.str,\n            x: item.transform[4],\n            y: item.transform[5],\n            width: item.width,\n            height: item.height\n        }));\n    }\n\n    console.log(fullText);\n    return fullText;\n}\n```\n\n#### Extract Annotations and Forms\n```javascript\nimport * as pdfjsLib from 'pdfjs-dist';\n\nasync function extractAnnotations() {\n    const loadingTask = pdfjsLib.getDocument('annotated.pdf');\n    const pdf = await loadingTask.promise;\n\n    for (let i = 1; i <= pdf.numPages; i++) {\n        const page = await pdf.getPage(i);\n        const annotations = await page.getAnnotations();\n\n        annotations.forEach(annotation => {\n            console.log(`Annotation type: ${annotation.subtype}`);\n            console.log(`Content: ${annotation.contents}`);\n            console.log(`Coordinates: ${JSON.stringify(annotation.rect)}`);\n        });\n    }\n}\n```\n\n## Advanced Command-Line Operations\n\n### poppler-utils Advanced Features\n\n#### Extract Text with Bounding Box Coordinates\n```bash\n# Extract text with bounding box coordinates (essential for structured data)\npdftotext -bbox-layout document.pdf output.xml\n\n# The XML output contains precise coordinates for each text element\n```\n\n#### Advanced Image Conversion\n```bash\n# Convert to PNG images with specific resolution\npdftoppm -png -r 300 document.pdf output_prefix\n\n# Convert specific page range with high resolution\npdftoppm -png -r 600 -f 1 -l 3 document.pdf high_res_pages\n\n# Convert to JPEG with quality setting\npdftoppm -jpeg -jpegopt quality=85 -r 200 document.pdf jpeg_output\n```\n\n#### Extract Embedded Images\n```bash\n# Extract all embedded images with metadata\npdfimages -j -p document.pdf page_images\n\n# List image info without extracting\npdfimages -list document.pdf\n\n# Extract images in their original format\npdfimages -all document.pdf images/img\n```\n\n### qpdf Advanced Features\n\n#### Complex Page Manipulation\n```bash\n# Split PDF into groups of pages\nqpdf --split-pages=3 input.pdf output_group_%02d.pdf\n\n# Extract specific pages with complex ranges\nqpdf input.pdf --pages input.pdf 1,3-5,8,10-end -- extracted.pdf\n\n# Merge specific pages from multiple PDFs\nqpdf --empty --pages doc1.pdf 1-3 doc2.pdf 5-7 doc3.pdf 2,4 -- combined.pdf\n```\n\n#### PDF Optimization and Repair\n```bash\n# Optimize PDF for web (linearize for streaming)\nqpdf --linearize input.pdf optimized.pdf\n\n# Remove unused objects and compress\nqpdf --optimize-level=all input.pdf compressed.pdf\n\n# Attempt to repair corrupted PDF structure\nqpdf --check input.pdf\nqpdf --fix-qdf damaged.pdf repaired.pdf\n\n# Show detailed PDF structure for debugging\nqpdf --show-all-pages input.pdf > structure.txt\n```\n\n#### Advanced Encryption\n```bash\n# Add password protection with specific permissions\nqpdf --encrypt user_pass owner_pass 256 --print=none --modify=none -- input.pdf encrypted.pdf\n\n# Check encryption status\nqpdf --show-encryption encrypted.pdf\n\n# Remove password protection (requires password)\nqpdf --password=secret123 --decrypt encrypted.pdf decrypted.pdf\n```\n\n## Advanced Python Techniques\n\n### pdfplumber Advanced Features\n\n#### Extract Text with Precise Coordinates\n```python\nimport pdfplumber\n\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    page = pdf.pages[0]\n    \n    # Extract all text with coordinates\n    chars = page.chars\n    for char in chars[:10]:  # First 10 characters\n        print(f\"Char: '{char['text']}' at x:{char['x0']:.1f} y:{char['y0']:.1f}\")\n    \n    # Extract text by bounding box (left, top, right, bottom)\n    bbox_text = page.within_bbox((100, 100, 400, 200)).extract_text()\n```\n\n#### Advanced Table Extraction with Custom Settings\n```python\nimport pdfplumber\nimport pandas as pd\n\nwith pdfplumber.open(\"complex_table.pdf\") as pdf:\n    page = pdf.pages[0]\n    \n    # Extract tables with custom settings for complex layouts\n    table_settings = {\n        \"vertical_strategy\": \"lines\",\n        \"horizontal_strategy\": \"lines\",\n        \"snap_tolerance\": 3,\n        \"intersection_tolerance\": 15\n    }\n    tables = page.extract_tables(table_settings)\n    \n    # Visual debugging for table extraction\n    img = page.to_image(resolution=150)\n    img.save(\"debug_layout.png\")\n```\n\n### reportlab Advanced Features\n\n#### Create Professional Reports with Tables\n```python\nfrom reportlab.platypus import SimpleDocTemplate, Table, TableStyle, Paragraph\nfrom reportlab.lib.styles import getSampleStyleSheet\nfrom reportlab.lib import colors\n\n# Sample data\ndata = [\n    ['Product', 'Q1', 'Q2', 'Q3', 'Q4'],\n    ['Widgets', '120', '135', '142', '158'],\n    ['Gadgets', '85', '92', '98', '105']\n]\n\n# Create PDF with table\ndoc = SimpleDocTemplate(\"report.pdf\")\nelements = []\n\n# Add title\nstyles = getSampleStyleSheet()\ntitle = Paragraph(\"Quarterly Sales Report\", styles['Title'])\nelements.append(title)\n\n# Add table with advanced styling\ntable = Table(data)\ntable.setStyle(TableStyle([\n    ('BACKGROUND', (0, 0), (-1, 0), colors.grey),\n    ('TEXTCOLOR', (0, 0), (-1, 0), colors.whitesmoke),\n    ('ALIGN', (0, 0), (-1, -1), 'CENTER'),\n    ('FONTNAME', (0, 0), (-1, 0), 'Helvetica-Bold'),\n    ('FONTSIZE', (0, 0), (-1, 0), 14),\n    ('BOTTOMPADDING', (0, 0), (-1, 0), 12),\n    ('BACKGROUND', (0, 1), (-1, -1), colors.beige),\n    ('GRID', (0, 0), (-1, -1), 1, colors.black)\n]))\nelements.append(table)\n\ndoc.build(elements)\n```\n\n## Complex Workflows\n\n### Extract Figures/Images from PDF\n\n#### Method 1: Using pdfimages (fastest)\n```bash\n# Extract all images with original quality\npdfimages -all document.pdf images/img\n```\n\n#### Method 2: Using pypdfium2 + Image Processing\n```python\nimport pypdfium2 as pdfium\nfrom PIL import Image\nimport numpy as np\n\ndef extract_figures(pdf_path, output_dir):\n    pdf = pdfium.PdfDocument(pdf_path)\n    \n    for page_num, page in enumerate(pdf):\n        # Render high-resolution page\n        bitmap = page.render(scale=3.0)\n        img = bitmap.to_pil()\n        \n        # Convert to numpy for processing\n        img_array = np.array(img)\n        \n        # Simple figure detection (non-white regions)\n        mask = np.any(img_array != [255, 255, 255], axis=2)\n        \n        # Find contours and extract bounding boxes\n        # (This is simplified - real implementation would need more sophisticated detection)\n        \n        # Save detected figures\n        # ... implementation depends on specific needs\n```\n\n### Batch PDF Processing with Error Handling\n```python\nimport os\nimport glob\nfrom pypdf import PdfReader, PdfWriter\nimport logging\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\ndef batch_process_pdfs(input_dir, operation='merge'):\n    pdf_files = glob.glob(os.path.join(input_dir, \"*.pdf\"))\n    \n    if operation == 'merge':\n        writer = PdfWriter()\n        for pdf_file in pdf_files:\n            try:\n                reader = PdfReader(pdf_file)\n                for page in reader.pages:\n                    writer.add_page(page)\n                logger.info(f\"Processed: {pdf_file}\")\n            except Exception as e:\n                logger.error(f\"Failed to process {pdf_file}: {e}\")\n                continue\n        \n        with open(\"batch_merged.pdf\", \"wb\") as output:\n            writer.write(output)\n    \n    elif operation == 'extract_text':\n        for pdf_file in pdf_files:\n            try:\n                reader = PdfReader(pdf_file)\n                text = \"\"\n                for page in reader.pages:\n                    text += page.extract_text()\n                \n                output_file = pdf_file.replace('.pdf', '.txt')\n                with open(output_file, 'w', encoding='utf-8') as f:\n                    f.write(text)\n                logger.info(f\"Extracted text from: {pdf_file}\")\n                \n            except Exception as e:\n                logger.error(f\"Failed to extract text from {pdf_file}: {e}\")\n                continue\n```\n\n### Advanced PDF Cropping\n```python\nfrom pypdf import PdfWriter, PdfReader\n\nreader = PdfReader(\"input.pdf\")\nwriter = PdfWriter()\n\n# Crop page (left, bottom, right, top in points)\npage = reader.pages[0]\npage.mediabox.left = 50\npage.mediabox.bottom = 50\npage.mediabox.right = 550\npage.mediabox.top = 750\n\nwriter.add_page(page)\nwith open(\"cropped.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n## Performance Optimization Tips\n\n### 1. For Large PDFs\n- Use streaming approaches instead of loading entire PDF in memory\n- Use `qpdf --split-pages` for splitting large files\n- Process pages individually with pypdfium2\n\n### 2. For Text Extraction\n- `pdftotext -bbox-layout` is fastest for plain text extraction\n- Use pdfplumber for structured data and tables\n- Avoid `pypdf.extract_text()` for very large documents\n\n### 3. For Image Extraction\n- `pdfimages` is much faster than rendering pages\n- Use low resolution for previews, high resolution for final output\n\n### 4. For Form Filling\n- pdf-lib maintains form structure better than most alternatives\n- Pre-validate form fields before processing\n\n### 5. Memory Management\n```python\n# Process PDFs in chunks\ndef process_large_pdf(pdf_path, chunk_size=10):\n    reader = PdfReader(pdf_path)\n    total_pages = len(reader.pages)\n    \n    for start_idx in range(0, total_pages, chunk_size):\n        end_idx = min(start_idx + chunk_size, total_pages)\n        writer = PdfWriter()\n        \n        for i in range(start_idx, end_idx):\n            writer.add_page(reader.pages[i])\n        \n        # Process chunk\n        with open(f\"chunk_{start_idx//chunk_size}.pdf\", \"wb\") as output:\n            writer.write(output)\n```\n\n## Troubleshooting Common Issues\n\n### Encrypted PDFs\n```python\n# Handle password-protected PDFs\nfrom pypdf import PdfReader\n\ntry:\n    reader = PdfReader(\"encrypted.pdf\")\n    if reader.is_encrypted:\n        reader.decrypt(\"password\")\nexcept Exception as e:\n    print(f\"Failed to decrypt: {e}\")\n```\n\n### Corrupted PDFs\n```bash\n# Use qpdf to repair\nqpdf --check corrupted.pdf\nqpdf --replace-input corrupted.pdf\n```\n\n### Text Extraction Issues\n```python\n# Fallback to OCR for scanned PDFs\nimport pytesseract\nfrom pdf2image import convert_from_path\n\ndef extract_text_with_ocr(pdf_path):\n    images = convert_from_path(pdf_path)\n    text = \"\"\n    for i, image in enumerate(images):\n        text += pytesseract.image_to_string(image)\n    return text\n```\n\n## License Information\n\n- **pypdf**: BSD License\n- **pdfplumber**: MIT License\n- **pypdfium2**: Apache/BSD License\n- **reportlab**: BSD License\n- **poppler-utils**: GPL-2 License\n- **qpdf**: Apache License\n- **pdf-lib**: MIT License\n- **pdfjs-dist**: Apache License",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pdf/SKILL.md": "---\nname: pdf\ndescription: Comprehensive PDF manipulation toolkit for extracting text and tables, creating new PDFs, merging/splitting documents, and handling forms. When Claude needs to fill in a PDF form or programmatically process, generate, or analyze PDF documents at scale.\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# PDF Processing Guide\n\n## Overview\n\nThis guide covers essential PDF processing operations using Python libraries and command-line tools. For advanced features, JavaScript libraries, and detailed examples, see REFERENCE.md. If you need to fill out a PDF form, read FORMS.md and follow its instructions.\n\n## Quick Start\n\n```python\nfrom pypdf import PdfReader, PdfWriter\n\n# Read a PDF\nreader = PdfReader(\"document.pdf\")\nprint(f\"Pages: {len(reader.pages)}\")\n\n# Extract text\ntext = \"\"\nfor page in reader.pages:\n    text += page.extract_text()\n```\n\n## Python Libraries\n\n### pypdf - Basic Operations\n\n#### Merge PDFs\n```python\nfrom pypdf import PdfWriter, PdfReader\n\nwriter = PdfWriter()\nfor pdf_file in [\"doc1.pdf\", \"doc2.pdf\", \"doc3.pdf\"]:\n    reader = PdfReader(pdf_file)\n    for page in reader.pages:\n        writer.add_page(page)\n\nwith open(\"merged.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n#### Split PDF\n```python\nreader = PdfReader(\"input.pdf\")\nfor i, page in enumerate(reader.pages):\n    writer = PdfWriter()\n    writer.add_page(page)\n    with open(f\"page_{i+1}.pdf\", \"wb\") as output:\n        writer.write(output)\n```\n\n#### Extract Metadata\n```python\nreader = PdfReader(\"document.pdf\")\nmeta = reader.metadata\nprint(f\"Title: {meta.title}\")\nprint(f\"Author: {meta.author}\")\nprint(f\"Subject: {meta.subject}\")\nprint(f\"Creator: {meta.creator}\")\n```\n\n#### Rotate Pages\n```python\nreader = PdfReader(\"input.pdf\")\nwriter = PdfWriter()\n\npage = reader.pages[0]\npage.rotate(90)  # Rotate 90 degrees clockwise\nwriter.add_page(page)\n\nwith open(\"rotated.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n### pdfplumber - Text and Table Extraction\n\n#### Extract Text with Layout\n```python\nimport pdfplumber\n\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    for page in pdf.pages:\n        text = page.extract_text()\n        print(text)\n```\n\n#### Extract Tables\n```python\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    for i, page in enumerate(pdf.pages):\n        tables = page.extract_tables()\n        for j, table in enumerate(tables):\n            print(f\"Table {j+1} on page {i+1}:\")\n            for row in table:\n                print(row)\n```\n\n#### Advanced Table Extraction\n```python\nimport pandas as pd\n\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    all_tables = []\n    for page in pdf.pages:\n        tables = page.extract_tables()\n        for table in tables:\n            if table:  # Check if table is not empty\n                df = pd.DataFrame(table[1:], columns=table[0])\n                all_tables.append(df)\n\n# Combine all tables\nif all_tables:\n    combined_df = pd.concat(all_tables, ignore_index=True)\n    combined_df.to_excel(\"extracted_tables.xlsx\", index=False)\n```\n\n### reportlab - Create PDFs\n\n#### Basic PDF Creation\n```python\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.pdfgen import canvas\n\nc = canvas.Canvas(\"hello.pdf\", pagesize=letter)\nwidth, height = letter\n\n# Add text\nc.drawString(100, height - 100, \"Hello World!\")\nc.drawString(100, height - 120, \"This is a PDF created with reportlab\")\n\n# Add a line\nc.line(100, height - 140, 400, height - 140)\n\n# Save\nc.save()\n```\n\n#### Create PDF with Multiple Pages\n```python\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer, PageBreak\nfrom reportlab.lib.styles import getSampleStyleSheet\n\ndoc = SimpleDocTemplate(\"report.pdf\", pagesize=letter)\nstyles = getSampleStyleSheet()\nstory = []\n\n# Add content\ntitle = Paragraph(\"Report Title\", styles['Title'])\nstory.append(title)\nstory.append(Spacer(1, 12))\n\nbody = Paragraph(\"This is the body of the report. \" * 20, styles['Normal'])\nstory.append(body)\nstory.append(PageBreak())\n\n# Page 2\nstory.append(Paragraph(\"Page 2\", styles['Heading1']))\nstory.append(Paragraph(\"Content for page 2\", styles['Normal']))\n\n# Build PDF\ndoc.build(story)\n```\n\n## Command-Line Tools\n\n### pdftotext (poppler-utils)\n```bash\n# Extract text\npdftotext input.pdf output.txt\n\n# Extract text preserving layout\npdftotext -layout input.pdf output.txt\n\n# Extract specific pages\npdftotext -f 1 -l 5 input.pdf output.txt  # Pages 1-5\n```\n\n### qpdf\n```bash\n# Merge PDFs\nqpdf --empty --pages file1.pdf file2.pdf -- merged.pdf\n\n# Split pages\nqpdf input.pdf --pages . 1-5 -- pages1-5.pdf\nqpdf input.pdf --pages . 6-10 -- pages6-10.pdf\n\n# Rotate pages\nqpdf input.pdf output.pdf --rotate=+90:1  # Rotate page 1 by 90 degrees\n\n# Remove password\nqpdf --password=mypassword --decrypt encrypted.pdf decrypted.pdf\n```\n\n### pdftk (if available)\n```bash\n# Merge\npdftk file1.pdf file2.pdf cat output merged.pdf\n\n# Split\npdftk input.pdf burst\n\n# Rotate\npdftk input.pdf rotate 1east output rotated.pdf\n```\n\n## Common Tasks\n\n### Extract Text from Scanned PDFs\n```python\n# Requires: pip install pytesseract pdf2image\nimport pytesseract\nfrom pdf2image import convert_from_path\n\n# Convert PDF to images\nimages = convert_from_path('scanned.pdf')\n\n# OCR each page\ntext = \"\"\nfor i, image in enumerate(images):\n    text += f\"Page {i+1}:\\n\"\n    text += pytesseract.image_to_string(image)\n    text += \"\\n\\n\"\n\nprint(text)\n```\n\n### Add Watermark\n```python\nfrom pypdf import PdfReader, PdfWriter\n\n# Create watermark (or load existing)\nwatermark = PdfReader(\"watermark.pdf\").pages[0]\n\n# Apply to all pages\nreader = PdfReader(\"document.pdf\")\nwriter = PdfWriter()\n\nfor page in reader.pages:\n    page.merge_page(watermark)\n    writer.add_page(page)\n\nwith open(\"watermarked.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n### Extract Images\n```bash\n# Using pdfimages (poppler-utils)\npdfimages -j input.pdf output_prefix\n\n# This extracts all images as output_prefix-000.jpg, output_prefix-001.jpg, etc.\n```\n\n### Password Protection\n```python\nfrom pypdf import PdfReader, PdfWriter\n\nreader = PdfReader(\"input.pdf\")\nwriter = PdfWriter()\n\nfor page in reader.pages:\n    writer.add_page(page)\n\n# Add password\nwriter.encrypt(\"userpassword\", \"ownerpassword\")\n\nwith open(\"encrypted.pdf\", \"wb\") as output:\n    writer.write(output)\n```\n\n## Quick Reference\n\n| Task | Best Tool | Command/Code |\n|------|-----------|--------------|\n| Merge PDFs | pypdf | `writer.add_page(page)` |\n| Split PDFs | pypdf | One page per file |\n| Extract text | pdfplumber | `page.extract_text()` |\n| Extract tables | pdfplumber | `page.extract_tables()` |\n| Create PDFs | reportlab | Canvas or Platypus |\n| Command line merge | qpdf | `qpdf --empty --pages ...` |\n| OCR scanned PDFs | pytesseract | Convert to image first |\n| Fill PDF forms | pdf-lib or pypdf (see FORMS.md) | See FORMS.md |\n\n## Next Steps\n\n- For advanced pypdfium2 usage, see REFERENCE.md\n- For JavaScript libraries (pdf-lib), see REFERENCE.md\n- If you need to fill out a PDF form, follow the instructions in FORMS.md\n- For troubleshooting guides, see REFERENCE.md\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/SKILL.md": "---\nname: pptx\ndescription: \"Presentation creation, editing, and analysis. When Claude needs to work with presentations (.pptx files) for: (1) Creating new presentations, (2) Modifying or editing content, (3) Working with layouts, (4) Adding comments or speaker notes, or any other presentation tasks\"\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# PPTX creation, editing, and analysis\n\n## Overview\n\nCreate, edit, or analyze the contents of .pptx files when requested. A .pptx file is essentially a ZIP archive containing XML files and other resources. Different tools and workflows are available for different tasks.\n\n## CRITICAL: Read All Documentation First\n\n**Before starting any presentation task**, read ALL relevant documentation files completely to understand the full workflow:\n\n1. **For creating new presentations**: Read [`html2pptx.md`](html2pptx.md) and [`css.md`](css.md) in their entirety\n2. **For editing existing presentations**: Read [`ooxml.md`](ooxml.md) in its entirety\n3. **For template-based creation**: Read the relevant sections of this file plus [`css.md`](css.md)\n\n**NEVER set any range limits when reading these files.** Understanding the complete workflow, constraints, and best practices before starting is essential for producing high-quality presentations. Partial knowledge leads to errors, inconsistent styling, and visual defects that require rework.\n\n## Reading and analyzing content\n\n### Text extraction\n\nTo read just the text content of a presentation, convert the document to markdown:\n\n```bash\n# Convert document to markdown\npython -m markitdown path-to-file.pptx\n```\n\n### Raw XML access\n\nUse raw XML access for: comments, speaker notes, slide layouts, animations, design elements, and complex formatting. To access these features, unpack a presentation and read its raw XML contents.\n\n#### Unpacking a file\n\n`python ooxml/scripts/unpack.py <office_file> <output_dir>`\n\n**Note**: The unpack.py script is located at `skills/public/pptx/ooxml/scripts/unpack.py` relative to the project root. If the script doesn't exist at this path, use `find . -name \"unpack.py\"` to locate it.\n\n#### Key file structures\n\n- `ppt/presentation.xml` - Main presentation metadata and slide references\n- `ppt/slides/slide{N}.xml` - Individual slide contents (slide1.xml, slide2.xml, etc.)\n- `ppt/notesSlides/notesSlide{N}.xml` - Speaker notes for each slide\n- `ppt/comments/modernComment_*.xml` - Comments for specific slides\n- `ppt/slideLayouts/` - Layout templates for slides\n- `ppt/slideMasters/` - Master slide templates\n- `ppt/theme/` - Theme and styling information\n- `ppt/media/` - Images and other media files\n\n#### Typography and color extraction\n\n**To emulate example designs**, analyze the presentation's typography and colors first using the methods below:\n\n1. **Read theme file**: Check `ppt/theme/theme1.xml` for colors (`<a:clrScheme>`) and fonts (`<a:fontScheme>`)\n2. **Sample slide content**: Examine `ppt/slides/slide1.xml` for actual font usage (`<a:rPr>`) and colors\n3. **Search for patterns**: Use grep to find color (`<a:solidFill>`, `<a:srgbClr>`) and font references across all XML files\n\n## Creating a new PowerPoint presentation **without a template**\n\nWhen creating a new PowerPoint presentation from scratch, use the **html2pptx** workflow to convert HTML slides to PowerPoint with accurate positioning.\n\n### Workflow\n\n1. **Read documentation**: Read [`html2pptx.md`](html2pptx.md) and [`css.md`](css.md) completely (see \"CRITICAL: Read All Documentation First\" section above)\n\n2. **PREREQUISITE - Extract html2pptx library**:\n   - Extract the library next to your script: `mkdir -p html2pptx && tar -xzf skills/public/pptx/html2pptx.tgz -C html2pptx`\n   - This creates a `html2pptx/` directory with the library files and CLI binaries\n\n3. **Plan the presentation**: Follow html2pptx.md \"Design Philosophy\" section for:\n   - Aesthetic direction and bold design choices\n   - Color palette selection (see \"Creating your color palette\")\n   - Typography strategy\n   - Write DETAILED outline with slide layouts and presenter notes (1-3 sentences per slide)\n\n4. **Set CSS variables**: Override CSS variables in a shared `.css` file for colors, typography, and spacing (see css.md \"Design System Variables\")\n\n5. **Create HTML slides** (960px √ó 540px for 16:9): Follow html2pptx.md for:\n   - Slide layout zones (title, content, footnote)\n   - Critical text rules (proper HTML tags)\n   - Supported elements and styling\n\n6. Create and run a JavaScript file using the [`html2pptx`](./html2pptx) library to convert HTML slides to PowerPoint and save the presentation\n\n   - Run with: `NODE_PATH=\"$(npm root -g)\" node your-script.js 2>&1`\n   - Use the `html2pptx` function to process each HTML file\n   - Add charts and tables to placeholder areas using PptxGenJS API\n   - Save the presentation using `pptx.writeFile()`\n\n   - **‚ö†Ô∏è CRITICAL:** Your script MUST follow this example structure. Think aloud before writing the script to make sure that you correctly use the APIs. Do NOT call `pptx.addSlide`.\n\n   ```javascript\n   const pptxgen = require(\"pptxgenjs\");\n   const { html2pptx } = require(\"./html2pptx\");\n\n   // Create a new pptx presentation\n   const pptx = new pptxgen();\n   pptx.layout = \"LAYOUT_16x9\"; // Must match HTML body dimensions\n\n   // Add an HTML-only slide\n   await html2pptx(\"slide1.html\", pptx);\n\n   // Add a HTML slide with chart placeholders\n   const { slide: slide2, placeholders } = await html2pptx(\"slide2.html\", pptx);\n   slide.addChart(pptx.charts.LINE, chartData, placeholders[0]);\n\n   // Save the presentation\n   await pptx.writeFile(\"output.pptx\");\n   ```\n\n7. **Visual validation**: Convert to images and inspect for layout issues\n   - Convert PPTX to PDF first: `soffice --headless --convert-to pdf output.pptx`\n   - Then convert PDF to images: `pdftoppm -jpeg -r 150 output.pdf slide`\n     - This creates files like `slide-1.jpg`, `slide-2.jpg`, etc.\n   - Read each generated image file and carefully examine for:\n     - **Text cutoff**: Text being cut off by header bars, shapes, or slide edges\n     - **Text overlap**: Text overlapping with other text or shapes\n     - **Positioning issues**: Content too close to slide boundaries or other elements\n     - **Contrast issues**: Insufficient contrast between text and backgrounds\n     - **Alignment problems**: Elements not properly aligned with each other\n     - **Visual hierarchy**: Important content properly emphasized\n   - **CRITICAL: All slides MUST pass these validation checks before delivering to the user.** Do not skip this step or deliver presentations with visual defects.\n   - If issues found, fix them in the following order of priority:\n     1. **Increase margins** - Add more padding/spacing around problematic elements\n     2. **Adjust font size** - Reduce text size to fit within available space\n     3. **Rethink the layout entirely** - If the above fixes don't work, redesign the slide layout\n   - Regenerate the presentation after making changes\n   - Repeat until all slides are visually correct\n\n## Editing an existing PowerPoint presentation\n\nTo edit slides in an existing PowerPoint presentation, work with the raw Office Open XML (OOXML) format. This involves unpacking the .pptx file, editing the XML content, and repacking it.\n\n### Workflow\n\n1. **Read documentation**: Read [`ooxml.md`](ooxml.md) completely (see \"CRITICAL: Read All Documentation First\" section above)\n2. Unpack the presentation: `python ooxml/scripts/unpack.py <office_file> <output_dir>`\n3. Edit the XML files (primarily `ppt/slides/slide{N}.xml` and related files)\n4. **CRITICAL**: Validate immediately after each edit: `python ooxml/scripts/validate.py <dir> --original <file>`\n5. Pack the final presentation: `python ooxml/scripts/pack.py <input_directory> <office_file>`\n\n## Creating a new PowerPoint presentation **using a template**\n\nTo create a presentation that follows an existing template's design, duplicate and re-arrange template slides before replacing placeholder content.\n\n### Workflow\n\n1. **Extract template text AND create visual thumbnail grid**:\n\n   - Extract text: `python -m markitdown template.pptx > template-content.md`\n   - Read `template-content.md` completely to understand the template contents\n   - Create thumbnail grids: `python scripts/thumbnail.py template.pptx`\n   - See [Creating Thumbnail Grids](#creating-thumbnail-grids) section for more details\n\n2. **Analyze template and save inventory to a file**:\n\n   - **Visual Analysis**: Review thumbnail grid(s) to understand slide layouts, design patterns, and visual structure\n   - Create and save a template inventory file at `template-inventory.md` containing:\n\n     ```markdown\n     # Template Inventory Analysis\n\n     **Total Slides: [count]**\n     **IMPORTANT: Slides are 0-indexed (first slide = 0, last slide = count-1)**\n\n     ## [Category Name]\n\n     - Slide 0: [Layout code if available] - Description/purpose\n     - Slide 1: [Layout code] - Description/purpose\n     - Slide 2: [Layout code] - Description/purpose\n       [... EVERY slide must be listed individually with its index ...]\n     ```\n\n   - **Using the thumbnail grid**: Reference the visual thumbnails to identify:\n     - Layout patterns (title slides, content layouts, section dividers)\n     - Image placeholder locations and counts\n     - Design consistency across slide groups\n     - Visual hierarchy and structure\n   - This inventory file is REQUIRED for selecting appropriate templates in the next step\n\n3. **Create presentation outline based on template inventory**:\n\n   - Review available templates from step 2.\n   - Choose an intro or title template for the first slide. This should be one of the first templates.\n   - Choose safe, text-based layouts for the other slides.\n   - **CRITICAL: Match layout structure to actual content**:\n     - Single-column layouts: Use for unified narrative or single topic\n     - Two-column layouts: Use ONLY when there are exactly 2 distinct items/concepts\n     - Three-column layouts: Use ONLY when there are exactly 3 distinct items/concepts\n     - Image + text layouts: Use ONLY when there are actual images to insert\n     - Quote layouts: Use ONLY for actual quotes from people (with attribution), never for emphasis\n     - Never use layouts with more placeholders than available content\n     - With 2 items, avoid forcing them into a 3-column layout\n     - With 4+ items, consider breaking into multiple slides or using a list format\n   - Count actual content pieces BEFORE selecting the layout\n   - Verify each placeholder in the chosen layout will be filled with meaningful content\n   - Select one option representing the **best** layout for each content section.\n   - Save `outline.md` with content AND template mapping that leverages available designs\n   - Example template mapping:\n     ```\n     # Template slides to use (0-based indexing)\n     # WARNING: Verify indices are within range! Template with 73 slides has indices 0-72\n     # Mapping: slide numbers from outline -> template slide indices\n     template_mapping = [\n         0,   # Use slide 0 (Title/Cover)\n         34,  # Use slide 34 (B1: Title and body)\n         34,  # Use slide 34 again (duplicate for second B1)\n         50,  # Use slide 50 (E1: Quote)\n         54,  # Use slide 54 (F2: Closing + Text)\n     ]\n     ```\n\n4. **Duplicate, reorder, and delete slides using `rearrange.py`**:\n\n   - Use the `scripts/rearrange.py` script to create a new presentation with slides in the desired order:\n     ```bash\n     python scripts/rearrange.py template.pptx working.pptx 0,34,34,50,52\n     ```\n   - The script handles duplicating repeated slides, deleting unused slides, and reordering automatically\n   - Slide indices are 0-based (first slide is 0, second is 1, etc.)\n   - The same slide index can appear multiple times to duplicate that slide\n\n5. **Extract ALL text using the `inventory.py` script**:\n\n   - **Run inventory extraction**:\n     ```bash\n     python scripts/inventory.py working.pptx text-inventory.json\n     ```\n   - **Read text-inventory.json** completely to understand all shapes and their properties\n\n   - The inventory JSON structure:\n\n     ```json\n     {\n       \"slide-0\": {\n         \"shape-0\": {\n           \"placeholder_type\": \"TITLE\", // or null for non-placeholders\n           \"left\": 1.5, // position in inches\n           \"top\": 2.0,\n           \"width\": 7.5,\n           \"height\": 1.2,\n           \"paragraphs\": [\n             {\n               \"text\": \"Paragraph text\",\n               // Optional properties (only included when non-default):\n               \"bullet\": true, // explicit bullet detected\n               \"level\": 0, // only included when bullet is true\n               \"alignment\": \"CENTER\", // CENTER, RIGHT (not LEFT)\n               \"space_before\": 10.0, // space before paragraph in points\n               \"space_after\": 6.0, // space after paragraph in points\n               \"line_spacing\": 22.4, // line spacing in points\n               \"font_name\": \"Arial\", // from first run\n               \"font_size\": 14.0, // in points\n               \"bold\": true,\n               \"italic\": false,\n               \"underline\": false,\n               \"color\": \"FF0000\" // RGB color\n             }\n           ]\n         }\n       }\n     }\n     ```\n\n   - Key features:\n     - **Slides**: Named as \"slide-0\", \"slide-1\", etc.\n     - **Shapes**: Ordered by visual position (top-to-bottom, left-to-right) as \"shape-0\", \"shape-1\", etc.\n     - **Placeholder types**: TITLE, CENTER_TITLE, SUBTITLE, BODY, OBJECT, or null\n     - **Default font size**: `default_font_size` in points extracted from layout placeholders (when available)\n     - **Slide numbers are filtered**: Shapes with SLIDE_NUMBER placeholder type are automatically excluded from inventory\n     - **Bullets**: When `bullet: true`, `level` is always included (even if 0)\n     - **Spacing**: `space_before`, `space_after`, and `line_spacing` in points (only included when set)\n     - **Colors**: `color` for RGB (e.g., \"FF0000\"), `theme_color` for theme colors (e.g., \"DARK_1\")\n     - **Properties**: Only non-default values are included in the output\n\n6. **Generate replacement text and save the data to a JSON file**\n   Based on the text inventory from the previous step:\n\n   - **CRITICAL**: First verify which shapes exist in the inventory - only reference shapes that are actually present\n   - **VALIDATION**: The replace.py script validates that all shapes in the replacement JSON exist in the inventory\n     - Referencing a non-existent shape produces an error showing available shapes\n     - Referencing a non-existent slide produces an error indicating the slide doesn't exist\n     - All validation errors are shown at once before the script exits\n   - **IMPORTANT**: The replace.py script uses inventory.py internally to identify ALL text shapes\n   - **AUTOMATIC CLEARING**: ALL text shapes from the inventory are cleared unless \"paragraphs\" are provided for them\n   - Add a \"paragraphs\" field to shapes that need content (not \"replacement_paragraphs\")\n   - Shapes without \"paragraphs\" in the replacement JSON have their text cleared automatically\n   - Paragraphs with bullets are automatically left aligned. Avoid setting the `alignment` property when `\"bullet\": true`\n   - Generate appropriate replacement content for placeholder text\n   - Use shape size to determine appropriate content length\n   - **CRITICAL**: Include paragraph properties from the original inventory - don't just provide text\n   - **IMPORTANT**: When bullet: true, do NOT include bullet symbols (‚Ä¢, -, \\*) in text - they're added automatically\n   - **ESSENTIAL FORMATTING RULES**:\n     - Headers/titles should typically have `\"bold\": true`\n     - List items should have `\"bullet\": true, \"level\": 0` (level is required when bullet is true)\n     - Preserve any alignment properties (e.g., `\"alignment\": \"CENTER\"` for centered text)\n     - Include font properties when different from default (e.g., `\"font_size\": 14.0`, `\"font_name\": \"Lora\"`)\n     - Colors: Use `\"color\": \"FF0000\"` for RGB or `\"theme_color\": \"DARK_1\"` for theme colors\n     - The replacement script expects **properly formatted paragraphs**, not just text strings\n     - **Overlapping shapes**: Prefer shapes with larger default_font_size or more appropriate placeholder_type\n   - Save the updated inventory with replacements to `replacement-text.json`\n   - **WARNING**: Different template layouts have different shape counts - always check the actual inventory before creating replacements\n\n   Example paragraphs field showing proper formatting:\n\n   ```json\n   \"paragraphs\": [\n     {\n       \"text\": \"New presentation title text\",\n       \"alignment\": \"CENTER\",\n       \"bold\": true\n     },\n     {\n       \"text\": \"Section Header\",\n       \"bold\": true\n     },\n     {\n       \"text\": \"First bullet point without bullet symbol\",\n       \"bullet\": true,\n       \"level\": 0\n     },\n     {\n       \"text\": \"Red colored text\",\n       \"color\": \"FF0000\"\n     },\n     {\n       \"text\": \"Theme colored text\",\n       \"theme_color\": \"DARK_1\"\n     },\n     {\n       \"text\": \"Regular paragraph text without special formatting\"\n     }\n   ]\n   ```\n\n   **Shapes not listed in the replacement JSON are automatically cleared**:\n\n   ```json\n   {\n     \"slide-0\": {\n       \"shape-0\": {\n         \"paragraphs\": [...] // This shape gets new text\n       }\n       // shape-1 and shape-2 from inventory will be cleared automatically\n     }\n   }\n   ```\n\n   **Common formatting patterns for presentations**:\n\n   - Title slides: Bold text, sometimes centered\n   - Section headers within slides: Bold text\n   - Bullet lists: Each item needs `\"bullet\": true, \"level\": 0`\n   - Body text: Usually no special properties needed\n   - Quotes: May have special alignment or font properties\n\n7. **Apply replacements using the `replace.py` script**\n\n   ```bash\n   python scripts/replace.py working.pptx replacement-text.json output.pptx\n   ```\n\n   The script will:\n\n   - First extract the inventory of ALL text shapes using functions from inventory.py\n   - Validate that all shapes in the replacement JSON exist in the inventory\n   - Clear text from ALL shapes identified in the inventory\n   - Apply new text only to shapes with \"paragraphs\" defined in the replacement JSON\n   - Preserve formatting by applying paragraph properties from the JSON\n   - Handle bullets, alignment, font properties, and colors automatically\n   - Save the updated presentation\n\n   Example validation errors:\n\n   ```\n   ERROR: Invalid shapes in replacement JSON:\n     - Shape 'shape-99' not found on 'slide-0'. Available shapes: shape-0, shape-1, shape-4\n     - Slide 'slide-999' not found in inventory\n   ```\n\n   ```\n   ERROR: Replacement text made overflow worse in these shapes:\n     - slide-0/shape-2: overflow worsened by 1.25\" (was 0.00\", now 1.25\")\n   ```\n\n## Creating Thumbnail Grids\n\nTo create visual thumbnail grids of PowerPoint slides for quick analysis and reference:\n\n```bash\npython scripts/thumbnail.py template.pptx [output_prefix]\n```\n\n**Features**:\n\n- Creates: `thumbnails.jpg` (or `thumbnails-1.jpg`, `thumbnails-2.jpg`, etc. for large decks)\n- Default: 5 columns, max 30 slides per grid (5√ó6)\n- Custom prefix: `python scripts/thumbnail.py template.pptx my-grid`\n  - Note: The output prefix should include the path if you want output in a specific directory (e.g., `workspace/my-grid`)\n- Adjust columns: `--cols 4` (range: 3-6, affects slides per grid)\n- Grid limits: 3 cols = 12 slides/grid, 4 cols = 20, 5 cols = 30, 6 cols = 42\n- Slides are zero-indexed (Slide 0, Slide 1, etc.)\n\n**Use cases**:\n\n- Template analysis: Quickly understand slide layouts and design patterns\n- Content review: Visual overview of entire presentation\n- Navigation reference: Find specific slides by their visual appearance\n- Quality check: Verify all slides are properly formatted\n\n**Examples**:\n\n```bash\n# Basic usage\npython scripts/thumbnail.py presentation.pptx\n\n# Combine options: custom name, columns\npython scripts/thumbnail.py template.pptx analysis --cols 4\n```\n\n## Converting Slides to Images\n\nTo visually analyze PowerPoint slides, convert them to images using a two-step process:\n\n1. **Convert PPTX to PDF**:\n\n   ```bash\n   soffice --headless --convert-to pdf template.pptx\n   ```\n\n2. **Convert PDF pages to JPEG images**:\n   ```bash\n   pdftoppm -jpeg -r 150 template.pdf slide\n   ```\n   This creates files like `slide-1.jpg`, `slide-2.jpg`, etc.\n\nOptions:\n\n- `-r 150`: Sets resolution to 150 DPI (adjust for quality/size balance)\n- `-jpeg`: Output JPEG format (use `-png` for PNG if preferred)\n- `-f N`: First page to convert (e.g., `-f 2` starts from page 2)\n- `-l N`: Last page to convert (e.g., `-l 5` stops at page 5)\n- `slide`: Prefix for output files\n\nExample for specific range:\n\n```bash\npdftoppm -jpeg -r 150 -f 2 -l 5 template.pdf slide  # Converts only pages 2-5\n```\n\n## Code Style Guidelines\n\n**IMPORTANT**: When generating code for PPTX operations:\n\n- Write concise code\n- Avoid verbose variable names and redundant operations\n- Avoid unnecessary print statements\n\n## Dependencies\n\nRequired dependencies (should already be installed):\n\n- **markitdown**: `pip install \"markitdown[pptx]\"` (for text extraction from presentations)\n- **pptxgenjs**: `npm install -g pptxgenjs` (for creating presentations via html2pptx)\n- **playwright**: `npm install -g playwright` (for HTML rendering in html2pptx)\n- **react-icons**: `npm install -g react-icons react react-dom` (for icons in SVG format)\n- **LibreOffice**: For PDF conversion (required for visual validation step)\n  - macOS: `brew install --cask libreoffice`\n  - Linux: `sudo apt-get install libreoffice`\n- **Poppler**: `sudo apt-get install poppler-utils` (for pdftoppm to convert PDF to images)\n- **defusedxml**: `pip install defusedxml` (for secure XML parsing)\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/css.md": "# Global CSS Framework Reference\n\nThis document provides a comprehensive reference for the global.css framework used in HTML slide creation for PowerPoint conversion.\n\n---\n\n## ‚ö†Ô∏è No Import Necessary\n\nThe global.css framework is automatically added to every slide. Do NOT try to include it in a slide with `<style>` or `<link>` tags.\n\n---\n\n## Overview\n\nThe global.css framework is designed specifically for creating HTML slides that convert cleanly to PowerPoint presentations. It provides:\n\n- **Fixed slide dimensions** (960√ó540px, 16:9 aspect ratio)\n- **Consistent design system** with predefined colors, typography, and spacing\n- **Flexbox-based layout system** for responsive slide content\n- **Utility-first approach** for rapid slide development\n- **Professional styling** optimized for business presentations\n\n## Design System Variables\n\n**IMPORTANT**: When creating a shared CSS file for your presentation, only override CSS variables (using the `:root` selector). DO NOT create custom classes - use the utility classes provided by this framework instead.\n\n### Typography Variables\n\n```css\n/* Headings */\n--font-family-display: Arial, sans-serif;\n--font-weight-display: 600;\n\n/* Body text */\n--font-family-content: Arial, sans-serif;\n--font-weight-content: 400;\n--font-size-content: 16px;\n--line-height-content: 1.4;\n```\n\n### Color Palette\n\n#### Surface Colors\n\n- `--color-surface`: `#ffffff` - Default background\n- `--color-surface-foreground`: `#1d1d1d` - Text on default background\n\n#### Primary Colors\n\n- `--color-primary`: `#1791e8` - Primary actions/accents\n- `--color-primary-light`: Lightened primary (10% white mix)\n- `--color-primary-dark`: Darkened primary (10% black mix)\n- `--color-primary-foreground`: `#fafafa` - Text on primary background\n\n#### Secondary Colors\n\n- `--color-secondary`: `#f5f5f5` - Secondary actions\n- `--color-secondary-foreground`: `#171717` - Text on secondary background\n\n#### Utility Colors\n\n- `--color-muted`: `#f5f5f5` - Subtle backgrounds\n- `--color-muted-foreground`: `#737373` - Muted text\n- `--color-accent`: `#f5f5f5` - Accent elements\n- `--color-accent-foreground`: `#171717` - Text on accent background\n- `--color-border`: `#c8c8c8` - Border elements\n\n### Color Utility Classes\n\n**Background:** `.bg-surface`, `.bg-primary`, `.bg-secondary`, `.bg-muted`, `.bg-accent`, `.bg-border`\n**Text:** `.text-surface-foreground`, `.text-primary`, `.text-muted-foreground`, etc.\n_Uses the color variables defined above except `*-light` and `*-dark`_\n\n### Spacing & Layout\n\n- `--spacing`: `0.25rem` - Base spacing unit\n- `--gap`: `calc(var(--spacing) * 4)` - Standard gap (1rem)\n- `--radius`: `0.4rem` - Standard border radius\n- `--radius-pill`: `999em` - Pill-shaped border radius\n\n## Slide Structure\n\n### Fixed Dimensions\n\n```css\nbody {\n  width: 960px;\n  height: 540px;\n  overflow: hidden; /* Prevents content overflow */\n}\n```\n\n## Layout System\n\n### Container Classes\n\n#### `.row` - Horizontal Layout\n\n- `flex-direction: row`\n- `align-items: center`\n- `justify-content: stretch`\n- Children with `.fill-width` class expand to fill available width\n- Children with `.fill-height` class stretch to fill available height\n\n#### `.col` - Vertical Layout\n\n- `flex-direction: column`\n- `align-items: stretch`\n- `justify-content: center`\n- Children with `.fill-height` class expand to fill available height\n- Children with `.fill-width` class stretch to fill available width\n\n### Flex Item Behavior\n\n#### `.fill-width` and `.fill-height` - Expandable Elements\n\n- `.fill-width`: `flex: 1` in row containers (expands to fill available width)\n- `.fill-height`: `flex: 1` in column containers (expands to fill available height)\n- Cross-axis variants also apply `align-self: stretch`\n- **Required** for elements that should expand within flex containers\n- Use for main content areas\n\n#### `.items-fill-width` and `.items-fill-height` - Auto-Expanding Children\n\n- `.items-fill-width`: Makes all direct children expandable horizontally (`flex: 1`)\n- `.items-fill-height`: Makes all direct children expandable vertically (`flex: 1`)\n- Cross-axis variants also apply `align-self: stretch` to children\n- Convenient alternative to adding `.fill-width`/`.fill-height` class to each child\n- Use when all children should expand equally\n\n#### `.fit`, `.fit-width`, and `.fit-height` - Fixed-Size Elements\n\n- `flex: none` (maintains natural size)\n- `align-self: auto` (uses parent's align-items value)\n- **Default behavior** for elements without `.fill-width`/`.fill-height` classes\n- `.fit-width`: axis-specific for row containers (prevents horizontal expansion)\n- `.fit-height`: axis-specific for column containers (prevents vertical expansion)\n- Use for elements with fixed size inside `.items-fill-width`/`.items-fill-height` containers\n\n#### `.center` - Center Content\n\n- Centers content both horizontally and vertically\n\n### Example Layout Structure\n\n```html\n<body class=\"col\">\n  <header>Fixed header</header>\n  <main class=\"fill-height row\">\n    <aside>Sidebar</aside>\n    <section class=\"fill-width\">Main content</section>\n  </main>\n  <footer>Fixed footer</footer>\n</body>\n```\n\n## Typography Scale\n\n### Text Sizes\n\n- `.text-xs`: `0.75rem` (12px)\n- `.text-sm`: `0.875rem` (14px)\n- `.text-base`: `1rem` (16px)\n- `.text-lg`: `1.125rem` (18px)\n- `.text-xl`: `1.25rem` (20px)\n- `.text-2xl`: `1.5rem` (24px)\n- `.text-3xl`: `1.875rem` (30px)\n- `.text-4xl`: `2.25rem` (36px)\n- `.text-5xl`: `3rem` (48px)\n- `.text-6xl`: `3.75rem` (60px)\n- `.text-7xl`: `4.5rem` (72px)\n- `.text-8xl`: `6rem` (96px)\n\n## Utility Classes\n\n### Alignment Classes\n\n**text-align**: `.text-left/right/center`\n**align-items**: `.items-start/center/baseline/stretch/end`\n**align-self**: `.self-start/center/end`\n**justify-content**: `.justify-start/center/end`\n\n### Spacing\n\n#### Gap Classes\n\n- `.gap-sm`: Half standard gap\n- `.gap`: Standard gap (1rem)\n- `.gap-lg`: Double standard gap\n- `.gap-xl`: Triple standard gap\n- `.gap-2xl`: Quadruple standard gap\n\n#### Spacing Classes (Padding & Margin)\n\n**Scale**: `0` (0), `1` (0.25rem), `2` (0.5rem), `4` (1rem), `6` (1.5rem), `8` (2rem), `10` (2.5rem), `12` (3rem), `16` (4rem)\n\n**Padding**: `.p-*` (all), `.px-*` (horizontal), `.py-*` (vertical), `.pt-*` (top), `.pb-*` (bottom), `.ps-*` (start), `.pe-*` (end)\n\n**Margin**: `.m-*` (all), `.mx-*` (horizontal), `.my-*` (vertical), `.mt-*` (top), `.mb-*` (bottom), `.ms-*` (start), `.me-*` (end)\n\n### Color Utilities\n\n### Visual Utilities\n\n#### Opacity\n\n- `.opacity-0` to `.opacity-100` in increments of 10\n\n#### Border Radius\n\n- `.rounded`: Standard border radius\n- `.pill`: Pill-shaped (fully rounded)\n\n#### Width/Height Classes\n\n- `.w-full`, `.h-full` - Full width/height\n- `.w-1/2` through `.w-5/6`, `.h-1/2` through `.h-5/6` - Fractional sizing (halves, thirds, fourths, and sixths available)\n\n#### Aspect Ratio Classes\n\n**Auto** `.aspect-auto` (browser default)\n**Square**: `.aspect-1/1`\n**Landscape**: `.aspect-4/3`, `.aspect-3/2`, `.aspect-16/9`, `.aspect-21/9`\n**Portrait**: `.aspect-2/3`, `.aspect-3/4`, `.aspect-9/16`\n\n## Components\n\n### Badge Component\n\n```html\n<p><span class=\"badge\">Status</span></p>\n```\n\n### Placeholder Component\n\n```html\n<div class=\"placeholder\">Chart Area</div>\n```\n\nStyling:\n\n- Uses a default `aspect-ratio: 4 / 3;`\n  - Customize by setting `width` `height` or `aspect-ratio` properties\n- Automatically stretches to fill available space\n- Used for reserved areas that will be filled with charts or other content\n\n## Usage Examples\n\n### Title Slide\n\n```html\n<body class=\"col center\">\n  <h1>Presentation Title</h1>\n  <h2 class=\"text-2xl opacity-70\">Subtitle</h2>\n  <p class=\"text-sm opacity-50\">Author Name ‚Ä¢ Date</p>\n</body>\n```\n\n### Content Slide with Sidebar\n\n```html\n<body class=\"col\">\n  <header>\n    <h2 class=\"text-primary\">Slide Title</h2>\n  </header>\n  <main class=\"fill-height row gap-lg\">\n    <section class=\"fill-width\">\n      <p>Main content goes here...</p>\n    </section>\n    <aside class=\"bg-muted p-4 rounded\" style=\"min-width: 200px;\">\n      <div class=\"badge bg-primary text-primary-foreground\">Important</div>\n      <p class=\"text-sm text-muted-foreground\">Sidebar content</p>\n    </aside>\n  </main>\n</body>\n```\n\n### Two-Column Layout\n\n```html\n<body class=\"col\">\n  <h2 class=\"fit text-center\">Comparison</h2>\n  <div class=\"fill-height row gap-lg items-fill-width\">\n    <section>\n      <h3>Option A</h3>\n      <p>Content for option A...</p>\n    </section>\n    <section>\n      <h3>Option B</h3>\n      <p>Content for option B...</p>\n    </section>\n  </div>\n</body>\n```\n\n### Centered Content with List\n\n```html\n<body class=\"col center\">\n  <h2>Key Points</h2>\n  <ul>\n    <li>First important point</li>\n    <li>Second important point</li>\n    <li>Third important point</li>\n  </ul>\n</body>\n```\n\n## Best Practices\n\n### Layout Structure\n\n1. **Start with body class**: Use `.col` for vertical layouts and `.row` for horizontal layouts, add `.center` for centered content\n2. **Apply `.fill-width`/`.fill-height` and `.fit`**: Control which elements expand vs. maintain fixed size\n3. **Maintain hierarchy**: Use appropriate heading levels (h1-h6)\n\n### Spacing and Visual Hierarchy\n\n1. **Consistent gaps**: Use gap classes instead of margins between flex items\n2. **Padding for breathing room**: Apply padding classes to containers, not individual elements\n3. **Selective margins**: Use margin classes sparingly for specific adjustments outside flex containers\n4. **Directional spacing**: Use directional classes (px, py, mx, my) only when you need asymmetric spacing\n5. **Typography scale**: Use utility classes for consistent font sizing\n6. **Color usage**: Stick to the defined color palette for professional appearance\n\n### Responsive Considerations\n\n1. **Fixed dimensions**: Content must fit within 960√ó540px\n2. **Overflow prevention**: Use `.fit` class to prevent content from growing too large\n3. **Text scaling**: Use appropriate text size classes for readability\n4. **White space**: Don't cram too much content on a single slide\n\n### Performance Tips\n\n1. **Minimal custom CSS**: Leverage utility classes instead of writing custom styles\n2. **Consistent structure**: Use similar layout patterns across slides\n3. **Semantic HTML**: Use appropriate HTML elements for better conversion to PowerPoint\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/html2pptx.md": "# HTML to PowerPoint Guide\n\nConvert HTML slides to PowerPoint presentations with accurate positioning using the `html2pptx.js` library.\n\n## Table of Contents\n\n1. [Design Principles](#design-principles)\n2. [Creating HTML Slides](#creating-html-slides)\n3. [Using the @ant/html2pptx Library](#using-the-html2pptx-library)\n4. [Using PptxGenJS](#using-pptxgenjs)\n\n---\n\n## ‚ö†Ô∏è Prerequisites Check\n\nExtract the html2pptx library next to your script before proceeding:\n\n```bash\n# Extract the library to a html2pptx subdirectory\nmkdir -p html2pptx && tar -xzf skills/public/pptx/html2pptx.tgz -C html2pptx\n```\n\nThis creates a `html2pptx/` directory with the library files and CLI binaries. Then use `require(\"./html2pptx\")` in your script.\n\n---\n\n### Design Philosophy\n\n**CRITICAL**: Before writing any code, commit to a BOLD aesthetic direction that serves the content and audience. PowerPoint presentations are experienced in moments - make those moments memorable.\n\n**Remember: Claude is capable of extraordinary creative work.** Don't hold back. Show what can truly be created when thinking outside the box and committing fully to a distinctive vision. These are not \"just slides\" - they're opportunities for visual storytelling.\n\n#### Think First: Purpose and Differentiation\n\n- **What problem does this solve?** Who is the audience and what do they need to remember?\n- **What's the one unforgettable thing?** Not \"professional slides\" but something specific - a color choice, a spatial pattern, a typographic voice, a striking visual diagram\n- **Pick an aesthetic tone**: Here are some examples. You don't need to pick one of these exactly, but use these as inspiration for the kind of exceptional work Claude is capable of:\n  - **Brutally minimal**: Maximum whitespace, one element per slide, precision typography\n  - **Editorial/magazine**: Multi-column layouts, dramatic type scale, photojournalistic feel\n  - **Retro-futuristic**: Geometric shapes, bold colors, space-age optimism\n  - **Luxury/refined**: Muted metallics, serif elegance, generous breathing room\n  - **Industrial/utilitarian**: Monospace fonts, grid structures, no-nonsense clarity\n  - **Art deco/geometric**: Strong lines, symmetry, decorative patterns, gold accents\n  - **Organic/natural**: Earthy tones, flowing shapes, textured backgrounds\n  - **Brutalist/raw**: Harsh contrasts, exposed structure, intentional roughness\n- **Context matters**: A healthcare startup pitch looks different from a quarterly finance review, which looks different from a design portfolio showcase\n\n#### Taking Aesthetic Risks\n\n**CRITICAL: Every presentation must make at least ONE bold, unexpected design choice.** Safe, predictable designs are forgettable. Push boundaries.\n\n**Risk-taking examples** (every presentation should have something distinctive about it):\n- **Extreme typography**: 120pt headlines, rotated text at 90¬∞, all-caps with 20px letter-spacing, mixing serif headers with sans-serif body\n- **Unexpected colors**: Burgundy and gold instead of blue, coral and teal, black backgrounds with bright accents, monochrome with single pop color\n- **Spatial surprises**: Asymmetric 30/70 splits, diagonal section dividers, overlapping shapes, text positioned at slide edges, breaking the grid\n- **Visual personality**: Thick single-side borders (15px), L-shaped corner accents, geometric patterns as backgrounds, color blocking 50% of the slide\n- **Layout boldness**: Full-bleed color backgrounds, sidebar layouts, magazine-style multi-column, floating text boxes over shapes\n\n**What makes presentations forgettable** (NEVER do this):\n- Generic \"AI slop\" aesthetics: default gradients, centered everything, no distinctive choices\n- Timid, evenly-distributed color palettes with no hierarchy or dominance\n- Cookie-cutter designs that could work for any topic\n- Converging on the same safe choices across all presentations\n\n**Requirements**:\n\n- ‚úÖ State your content-informed design approach BEFORE writing code\n- ‚úÖ Use web-safe fonts only (see Critical Text Rules section for complete list)\n- ‚úÖ Create clear visual hierarchy through size, weight, and color\n- ‚úÖ Ensure readability: strong contrast, appropriately sized text, clean alignment\n- ‚úÖ Be consistent: repeat patterns, spacing, and visual language across slides\n\n#### Spacing, Sizing, and Information Density\n\n**Master these ratios to create balanced, readable layouts that maximize content without crowding.**\n\n##### The 4px Base Unit System\n\nUse multiples of 4px for all spacing decisions. This creates visual rhythm:\n- **4px** - Tight: between related lines of text\n- **8px** - Compact: between elements within a group\n- **12px** - Standard: between distinct content blocks\n- **16px** - Comfortable: section padding\n- **20px** - Generous: major separations, slide margins\n\n**Apply consistently**: If gaps between cards are 12px, gaps between all cards should be 12px. Inconsistent spacing looks unfinished.\n\n##### Font Size Hierarchy for Dense Slides\n\nWhen packing information, use this aggressive scale:\n```\nTitle:           32-40px (one size, prominent)\nSection headers: 13-15px (small but bold)\nBody text:       11-13px (readable at this size)\nSupporting text: 10-11px (fine print, lists)\nFootnotes:       10px (minimal footprint)\n```\n\n**Rule**: Each level should be ~2-3px smaller than the previous. Bigger jumps (e.g., 36px ‚Üí 11px) work when there's clear visual separation (containers, color).\n\n##### Container Padding Rules\n\nMatch padding to content density:\n```\nDense information boxes:  12-14px padding\nStandard content cards:   14-16px padding\nSpacious hero sections:   20-24px padding\n```\n\n**Internal margin pattern**: For text within containers:\n```css\nmargin: 0 0 4px 0;   /* Tight: lines within a paragraph */\nmargin: 0 0 6px 0;   /* Compact: list items */\nmargin: 0 0 8px 0;   /* Standard: between paragraphs */\nmargin: 0 0 10px 0;  /* Separated: section header to content */\n```\n\n##### Gap vs Padding Decision Tree\n\n- **Gap** (between siblings): Use for spacing between cards, columns, list items\n- **Padding** (inside containers): Use for breathing room within a box\n\n```html\n<!-- Correct: gap for sibling spacing -->\n<div class=\"col\" style=\"gap: 12px;\">\n  <div style=\"padding: 14px;\">Box 1</div>\n  <div style=\"padding: 14px;\">Box 2</div>\n</div>\n\n<!-- Wrong: margin on children instead of gap on parent -->\n<div class=\"col\">\n  <div style=\"margin-bottom: 12px; padding: 14px;\">Box 1</div>\n  <div style=\"padding: 14px;\">Box 2</div>\n</div>\n```\n\n##### Responsive-ish Widths\n\nUse percentage widths for columns, fixed widths for consistent elements:\n\n```html\n<!-- Columns: percentage (adapt to container) -->\n<div style=\"width: 35%;\">Sidebar</div>\n<div style=\"width: 65%;\">Main</div>\n\n<!-- Accent bars: fixed (always same visual weight; don't overuse these!) -->\n<div style=\"width: 12px; height: 100%;\">Accent</div>\n\n<!-- Padding/margins: fixed (consistent breathing room) -->\n<div style=\"padding: 20px 32px;\">Content</div>\n```\n\n##### Common Spacing Mistakes\n\n**Too much space**:\n- 24px+ gaps between every element (looks sparse, wastes real estate)\n- 20px+ padding in every container (content floats in empty space)\n\n**Too little space**:\n- 4px gaps between unrelated items (everything bleeds together)\n- 8px padding in complex containers (text touches edges)\n\n**Inconsistent**:\n- 12px gap here, 16px there, 10px elsewhere (looks unfinished)\n- Different padding on similar containers (breaks visual pattern)\n\n**The fix**: Pick your spacing scale (4, 8, 12, 16, 20) and stick to it religiously.\n\n#### Typography and Content Design\n\n**IMPORTANT: Font constraints**: Use web-safe fonts only (see Critical Text Rules section for complete list). PowerPoint requires universally available fonts for reliable rendering.\n\n**Within this constraint, make distinctive choices**:\n- **Size contrast is your power tool**: Extreme size differences (72pt headers vs 14pt body) create hierarchy and impact\n- **Weight and spacing**: Use bold strategically. Add letter-spacing to all-caps headers for sophistication\n- **Serif vs sans-serif**: Mix thoughtfully - serif for warmth/tradition, sans-serif for modern clarity\n- **Monospace for technical**: Use Courier New for code, data, or technical content to signal precision\n- **Consistency matters**: Pick 2-3 typefaces maximum and vary them through size, weight, and spacing\n\n**Content brevity - this is a presentation, not a report**:\n- Paragraphs should be 1 sentence, _maybe_ 2\n- Restrict yourself to 3-5 bullet points per list\n- Cards should support short statements/fragments, maybe one complete sentence if it's short\n\n**Visual hierarchy through typography**:\n- Generally no more than 2-3 text sizes per slide (complex slides with charts may use 4)\n- If you need additional distinction beyond size, use weight (bold) or opacity\n\n**Slide layout zones** (for 960√ó540px canvas):\n\nThe slide is divided into distinct zones with buffer spacing:\n\n1. **Title zone** (top 100px, y=0 to y=100):\n   - Reserved exclusively for the slide title (`<h1>`)\n   - The title **TEXT BOX** MUST span full width with 20px padding on left and right (920px wide)\n   - **CRITICAL**: Wrap the h1 in a div with explicit width to force full-width text box:\n     ```html\n     <div style=\"width: 920px; margin: 0 20px;\">\n       <h1>Title Text</h1>\n     </div>\n     ```\n   - Setting width directly on h1 does NOT work - the text box will shrink to fit content\n   - NEVER place titles in narrow text boxes - this causes text wrapping issues\n   - The title establishes the slide's visual anchor\n\n2. **Buffer after title** (10px, y=100 to y=110):\n   - Empty space to separate title from content\n   - No content should start immediately under the title\n\n3. **Content zone** (380px, y=110 to y=490):\n   - Main content area for text, charts, images, cards\n   - Use 20-40px left/right margins for breathing room\n   - **CRITICAL**: Cards, boxes, and other containers must be **horizontally aligned** - they must start at the same y-position (same height from top)\n   - Ensure visual balance and consistent spacing between elements\n\n4. **Buffer before footnote** (10px, y=490 to y=500):\n   - Empty space to separate content from footnotes\n   - Ensures content doesn't crowd the bottom edge\n\n5. **Footnote zone** (bottom 40px, y=500 to y=540):\n   - Reserved ONLY for footnotes, sources, or disclaimers\n   - Footnotes must use **10pt font size** (small, unobtrusive, left-aligned)\n   - No other content allowed in this zone\n   - Keep footnotes brief\n\n**Example structure**:\n```html\n<body class=\"col bg-surface\" style=\"width: 960px; height: 540px; position: relative;\">\n  <!-- Title zone: use fit class to shrink to content height -->\n  <div style=\"width: 920px; margin: 0 20px; padding-top: 20px;\" class=\"fit\">\n    <h1 style=\"margin: 0;\">Slide Title</h1>\n    <p class=\"text-muted-foreground\" style=\"margin-top: 4px;\">Optional subtitle</p>\n  </div>\n\n  <!-- Content zone: fill-height takes remaining space -->\n  <div class=\"row gap-lg fill-height\" style=\"padding: 10px 20px;\">\n    <div class=\"col\" style=\"width: 45%;\"><!-- Left column content --></div>\n    <div class=\"col\" style=\"width: 55%;\"><!-- Right column content --></div>\n  </div>\n\n  <!-- Footnote zone: absolute positioning for fixed bottom placement -->\n  <p style=\"position: absolute; bottom: 8px; left: 20px; font-size: 10pt; color: #666; margin: 0;\">\n    Source: Data from Q4 2024 report\n  </p>\n</body>\n```\n\n**IMPORTANT**:\n- Use `class=\"col\"` on body to enable flexbox layout\n- Use `class=\"fit\"` on title container to shrink to content height\n- Use `class=\"fill-height\"` on content to expand into remaining space\n- Only use `position: absolute` for footnotes (fixed bottom placement)\n- This prevents layering issues where content appears on top of titles\n\n#### Color & Theme\n\n**Commit to a cohesive, bold aesthetic.** Dominant colors with sharp accents outperform timid, evenly-distributed palettes. Every presentation should have a distinct color personality.\n\n**Core principles**:\n- **Dominance over equality**: One color should clearly dominate (60-70% of visual weight), with 1-2 supporting tones and one sharp accent. Never give all colors equal weight.\n- **Create atmosphere**: Don't default to solid white backgrounds. Use color blocking, gradient backgrounds, tinted surfaces, or dramatic contrast (dark slides with bright text) to create depth and mood.\n- **Context-specific choices**: The palette should feel designed for THIS topic. If someone could swap your colors into a completely different presentation and it would still \"work,\" you haven't made specific enough choices.\n\n**NEVER use generic AI aesthetics**:\n- Cliched color schemes (blue gradients on white, purple-to-pink gradients)\n- Safe corporate blues without intentional reasoning\n- Overused teals, greys, and muted \"professional\" tones\n\n**Create visual depth**:\n- **Gradient backgrounds**: Use `linear-gradient()` or `radial-gradient()` on slide backgrounds for atmosphere\n- **Color blocking**: 40-60% of a slide in solid color creates visual punctuation\n- **Layered transparencies**: Overlapping shapes with opacity create depth\n- **Dramatic shadows**: Bold drop shadows on cards or text boxes add dimension\n- **Tinted surfaces**: Off-white, cream, charcoal instead of pure white/black\n\n**Build cohesion**: Your 3-5 colors should feel intentionally paired - either through shared undertones (all warm or all cool), similar saturation levels, or deliberate high contrast. The palette should feel like it was designed by someone with a point of view.\n\n#### Maintaining Visual Interest\n\n**Create rhythm and variety across your deck**:\n\n- **Vary slide layouts**: Don't use the same layout for every slide\n- **Strategic use of visuals**: Icons, image placeholders, charts, geometric shapes - but each should serve a purpose, not decorate\n- **Spatial surprise**: Break expectations occasionally - a diagonal element, an asymmetric split, overlapping shapes\n- **Typography variation**: Alternate between text-heavy and minimal slides. Use size contrast for impact\n- **Color blocking**: Dedicate 40-60% of occasional slides to solid color blocks for visual punctuation\n- **White space as a tool**: Generous negative space makes key slides breathe and content stand out\n\n#### Visual Elements: Icons, Diagrams, and Illustrations\n\n**CRITICAL**: Visuals should COMMUNICATE, not decorate. Every icon, diagram, or illustration must serve a purpose - clarifying concepts, showing relationships, or adding meaningful emphasis. Generic decoration is worse than no visuals at all.\n\n##### When to Use Visuals\n\n**Icons work best for**:\n- **Quick recognition**: Represent concepts at a glance (settings gear, user profile, warning triangle)\n- **List enhancement**: Add visual anchors to bullet points or feature lists (max 4-6 items)\n- **Navigation cues**: Guide attention to key sections or actions\n- **Category markers**: Distinguish between types of content on a slide\n- **Status indicators**: Show state (complete, in-progress, error)\n\n**Diagrams work best for**:\n- **Process flows**: Sequential steps, workflows, pipelines\n- **Relationships**: Hierarchies, networks, dependencies, comparisons\n- **Architecture**: System components, data flows, integrations\n- **Timelines**: Chronological sequences, project phases, milestones\n- **Comparisons**: Before/after, option A vs B, feature matrices\n\n**Illustrations/Images work best for**:\n- **Emotional impact**: When you need to evoke feeling, not just convey information\n- **Concrete examples**: Showing actual products, places, or people\n- **Complex concepts**: Abstract ideas that benefit from metaphorical visualization\n- **Brand storytelling**: Establishing tone and personality\n\n##### Icon Usage Patterns\n\n**DO**:\n- Use a **consistent icon set** throughout (don't mix styles - all outline OR all filled, all same weight)\n- Keep icons **small and supporting** (24-48px typical, 64px max for emphasis)\n- Choose icons that are **immediately recognizable** for your audience\n- Use **color strategically** - monochrome icons with one accent color for emphasis\n- Align icons with text baselines or center them in cards\n- Use react-icons library for consistent, high-quality SVG icons\n\n**DON'T**:\n- Use icons as pure decoration without meaning\n- Mix icon styles (outline + filled, different weights, different visual languages)\n- Make icons compete with text for attention (keep them subordinate)\n- Use obscure or ambiguous icons that require explanation\n- Overcrowd slides with too many icons (3-5 per slide maximum)\n- Use clipart-style or cartoonish icons in professional contexts\n\n##### Diagram Design Principles\n\n**Clarity over complexity**:\n- Each diagram should convey ONE main idea\n- Remove unnecessary elements (every line, box, arrow must earn its place)\n- Use visual hierarchy: primary elements larger/bolder, secondary elements subdued\n- Limit to 5-7 main elements per diagram (cognitive load limit)\n\n**Flow and direction**:\n- Left-to-right for sequential processes (Western reading pattern)\n- Top-to-bottom for hierarchies\n- Center-outward for radial/hub-spoke relationships\n- Use arrows sparingly - direction should be obvious from layout\n\n**Visual consistency**:\n- Same shape for same type of element (all rectangles for steps, all circles for milestones)\n- Consistent spacing between elements\n- Uniform line weights and colors\n- Clear grouping through proximity and enclosure\n\n**Common Diagram Types**:\n1. **Flowchart** - Decision trees, process steps\n   - Rectangles for actions, diamonds for decisions\n   - Arrows show direction, color-code paths\n\n2. **Hierarchy/Org Chart** - Reporting structures, taxonomies\n   - Top-down with clear levels\n   - Use consistent box sizes per level\n\n3. **Timeline** - Milestones, project phases\n   - Horizontal with clear date markers\n   - Highlight current position or key moments\n\n4. **Comparison Matrix** - Feature comparisons, option evaluation\n   - Clear labels, consistent formatting\n   - Use checkmarks/X or color coding\n\n5. **Cycle Diagram** - Iterative processes, feedback loops\n   - Circular arrangement with directional flow\n   - Equal spacing, consistent element sizes\n\n6. **Hub and Spoke** - Central concept with related elements\n   - Central element emphasized (larger, bolder)\n   - Radial symmetry for balance\n\n7. **Funnel** - Conversion processes, filtering\n   - Wide at top, narrow at bottom\n   - Labels show quantities or stages\n\n##### Building Diagrams in HTML\n\nCreate diagrams using positioned divs with borders, backgrounds, and text:\n\n```html\n<!-- Simple 3-step process flow -->\n<div class=\"row items-center gap-md\" style=\"padding: 20px;\">\n  <!-- Step 1 -->\n  <div class=\"col items-center\" style=\"width: 200px;\">\n    <div class=\"rounded p-4\" style=\"background: var(--color-primary); color: white; width: 100%;\">\n      <p class=\"text-lg bold text-center\" style=\"margin: 0;\">1. Research</p>\n    </div>\n  </div>\n\n  <!-- Arrow -->\n  <div style=\"font-size: 24px; color: var(--color-muted-foreground);\">‚Üí</div>\n\n  <!-- Step 2 -->\n  <div class=\"col items-center\" style=\"width: 200px;\">\n    <div class=\"rounded p-4\" style=\"background: var(--color-primary); color: white; width: 100%;\">\n      <p class=\"text-lg bold text-center\" style=\"margin: 0;\">2. Design</p>\n    </div>\n  </div>\n\n  <!-- Arrow -->\n  <div style=\"font-size: 24px; color: var(--color-muted-foreground);\">‚Üí</div>\n\n  <!-- Step 3 -->\n  <div class=\"col items-center\" style=\"width: 200px;\">\n    <div class=\"rounded p-4\" style=\"background: var(--color-primary); color: white; width: 100%;\">\n      <p class=\"text-lg bold text-center\" style=\"margin: 0;\">3. Build</p>\n    </div>\n  </div>\n</div>\n```\n\n```html\n<!-- Metric cards with icons -->\n<div class=\"row gap-lg\" style=\"padding: 20px;\">\n  <div class=\"col items-center p-6 rounded\" style=\"background: var(--color-surface); flex: 1;\">\n    <!-- Icon placeholder - use react-icons SVG -->\n    <div style=\"width: 48px; height: 48px; margin-bottom: 12px;\">\n      <!-- Insert SVG icon here -->\n    </div>\n    <p class=\"text-3xl bold\" style=\"margin: 0; color: var(--color-primary);\">45%</p>\n    <p class=\"text-muted-foreground\" style=\"margin: 4px 0 0 0;\">Growth Rate</p>\n  </div>\n\n  <div class=\"col items-center p-6 rounded\" style=\"background: var(--color-surface); flex: 1;\">\n    <div style=\"width: 48px; height: 48px; margin-bottom: 12px;\">\n      <!-- Insert SVG icon here -->\n    </div>\n    <p class=\"text-3xl bold\" style=\"margin: 0; color: var(--color-primary);\">1.2M</p>\n    <p class=\"text-muted-foreground\" style=\"margin: 4px 0 0 0;\">Active Users</p>\n  </div>\n</div>\n```\n\n**WARNING SIGNS your visual isn't working**:\n- You need to explain what the icon means\n- The diagram requires more than 5 seconds to parse\n- You're adding a visual because \"the slide looks empty\"\n- The visual could be swapped into any other presentation\n- Elements overlap or crowd each other\n\n#### Anti-Patterns: What NEVER to Do\nAvoid these patterns that create forgettable presentations:\n\n**Typography failures**:\n- Using default type sizes with no distinctive scale, weight, or spacing choices\n- Multiple font families on one slide (mixing 3+ typefaces = chaos)\n- Centered body text (center headlines only; left-align paragraphs and lists)\n- Insufficient size contrast (18pt header with 16pt body is nearly invisible)\n\n**Color failures**:\n- Default gradients that appear in generic templates (particularly purple/blue)\n- Evenly distributing 5+ colors across slides with no hierarchy or dominance\n- Low contrast combinations (light gray text on white, dark blue on black)\n- Off-brand colors when brand identity is specified\n\n**Layout failures**:\n- Centered alignment for everything (static, boring, no flow)\n- Cramming too much content per slide (more than 5 bullets, paragraphs over 2 sentences)\n- Inconsistent spacing and alignment across slides (looks unfinished)\n- Using the same exact layout for every single slide (monotonous)\n\n**Visual detail failures**:\n- Generic clipart-style icons that could apply to anything\n- Decorative elements that don't serve the aesthetic direction\n- Half-committed design (one fancy slide, rest are defaults)\n- Copying the exact same design as your previous presentation (vary your choices)\n\n**Remember**: Professional doesn't mean generic. Commit to intentional choices that serve your audience and content.\n\n### Layout Tips\n\n**To create slides with charts or tables:**\n\n- **Two-column layout (PREFERRED)**: Use a header spanning the full width, then two columns below - text/bullets in one column and the featured content in the other. This provides better balance and makes charts/tables more readable. Use unequal column widths (e.g., 40%/60% split) to optimize space for each content type.\n- **Full-slide layout**: Let the featured content (chart/table) take up the entire slide for maximum impact and readability\n- **NEVER vertically stack**: Do not place charts/tables below text in a single column - this causes poor readability and layout issues\n\n## Creating HTML Slides\n\nEvery HTML slide must include proper body dimensions:\n\n- **16:9** (automatically applied): `width: 960px; height: 540px`\n- **4:3**: `width: 960px; height: 720px`\n- **16:10**: `width: 960px; height: 600px`\n\n### How to write CSS\n\n**MANDATORY - READ ENTIRE FILE**: Read [`css.md`](css.md) (~400 lines) completely from start to finish. **NEVER set any range limits when reading this file.** Read the full file content for detailed guidance on CSS structure before writing any HTML.\n\nSlides are automatically provided with a global stylesheet which is injected when the HTML is rendered. Guidelines for styles:\n\n- Override CSS variables (using the `:root` selector) to customize colors, typography, and spacing for your slides\n- Use the classes from [`css.md`](css.md) when creating your slides. Reference the examples provided in that guide.\n\n### Supported Elements\n\n#### Block Elements\n\n- `<div>`, `<section>`, `<header>`, `<footer>`, `<main>`, `<article>`, `<nav>`, `<aside>` - Container elements with bg/border support (supports gradients and background images)\n\n#### Text Elements\n\n- `<p>` - Paragraphs with styling\n- `<h1>`-`<h6>` - Headings with styling\n\n#### Lists\n\n- `<ul>`, `<ol>` - Lists (never use manual bullets ‚Ä¢, -, \\*)\n\n#### Inline Formatting\n\n- `<b>`, `<strong>` - Bold text\n- `<i>`, `<em>` - Italic text\n- `<u>` - Underlined text\n- `<br>` - Line breaks\n\n#### Media\n\n- `<img>` - Images\n\n#### Special Features\n\n- `class=\"placeholder\"` - Reserved space for charts (returns `{ id, x, y, w, h }`)\n  - Automatically styled with muted background and dashed border\n  - Stretches to fill available container space\n  - Provides visual indication during development\n- `data-balance` attribute - Auto-balance text line lengths for better typography. `<h1>` and `<h2>` elements are automatically balanced without needing the `data-balance` attribute.\n\n### Critical Text Rules\n\n**IMPORTANT**: These rules must be followed to safely convert HTML to PowerPoint.\n\n**ALL text MUST be inside `<p>`, `<h1>`-`<h6>`, `<ul>`, or `<ol>` tags:**\n\n- ‚úÖ Correct: `<div><p>Text here</p></div>`\n- ‚ùå Wrong: `<div>Text here</div>` - **Text will NOT appear in PowerPoint**\n- Text in `<div>` without a text tag is silently ignored\n\n**NEVER use manual bullet symbols (‚Ä¢, -, \\*, etc.)** - Use `<ul>` or `<ol>` lists instead\n\n**Use `row` and `col` classes INSTEAD of flexbox:**\n\n- ‚úÖ Correct: `<div class=\"row\"><p>Text here</p></div>`\n- ‚ùå Wrong: `<div style=\"display: flex;\"><p>Text here</p></div>`\n\n**ONLY use web-safe fonts that are universally available:**\n\n- ‚úÖ Web-safe fonts: `Arial`, `Helvetica`, `Times New Roman`, `Georgia`, `Courier New`, `Verdana`, `Tahoma`, `Trebuchet MS`, `Impact`\n- ‚ùå Wrong: `'Segoe UI'`, `'SF Pro'`, `'Roboto'`, custom fonts - **May cause rendering issues**\n\n**NEVER use `white-space: nowrap` on titles or text:**\n\n- PowerPoint does NOT respect this CSS property\n- Text will wrap based on the container width, regardless of `nowrap` setting\n- Instead of using `nowrap`, ensure the text box is wide enough to fit the text naturally\n- For titles: ALWAYS use full-width text boxes (920px with 20px padding on each side) so titles fit on one line without needing `nowrap`\n\n### Shape Styling (block elements only)\n\n**IMPORTANT: Backgrounds, borders, and shadows only work on block elements, NOT on text elements (`<p>`, `<h1>`-`<h6>`, `<ul>`, `<ol>`)**\n\n- **Backgrounds**: CSS `background` or `background-color` or `background-image`\n  - `background: var(--color-surface);`\n  - `background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-primary-dark) 100%);`\n  - `background: radial-gradient(circle, var(--color-accent-light) 0%, var(--color-accent-dark) 100%);`\n  - `background: url(path/to/image.png)`\n- **Borders**\n  - Supports uniform borders: `border: 1px solid var(--color-border)`\n  - Supports partial borders: `border-left`, `border-right`, `border-top`, `border-bottom`\n- **Border radius**\n  - `rounded` CSS class applies the default border-radius\n  - `pill` CSS class applies maximum border-radius to create pill-shaped elements\n    - When height and width are equal, this creates a circle\n- **Box shadows**\n  - Supports outer shadows only\n    - PowerPoint does not support inset shadows\n  - `box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);`\n\n### Icons\n\nIcons can be included using either inline SVG or SVG files, which are automatically converted to images in PowerPoint.\n\n#### How to use react-icons\n\n```javascript\nconst React = require(\"react\");\nconst ReactDOMServer = require(\"react-dom/server\");\nconst { FaHome } = require(\"react-icons/fa\");\n\n// Generate SVG string from react-icon\nfunction renderIconSvg(IconComponent, color, size = \"48\") {\n  return ReactDOMServer.renderToStaticMarkup(\n    React.createElement(IconComponent, { color: color, size: size })\n  );\n}\n\n// Get SVG markup\nconst homeIconSvg = renderIconSvg(FaHome, \"#4472c4\", \"48\");\n\n// Use in HTML template (inline SVG)\n// <div style=\"width: 48px; height: 48px;\">${homeIconSvg}</div>\n```\n\n### Example Slide HTML\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Slide with title, context, and full bleed placeholder</title>\n    <style>\n      /* Shared CSS variable overrides */\n      :root {\n        --color-primary: #00a4fc;\n        --color-primary-foreground: #ffffff;\n      }\n    </style>\n  </head>\n  <body class=\"row items-fill-width gap-lg\">\n    <div class=\"p-8 pe-0\">\n      <h1>Slide title</h1>\n      <p class=\"text-2xl text-muted-foreground\">Subtitle or context</p>\n    </div>\n    <div class=\"placeholder w-3/5 fit\"></div>\n  </body>\n</html>\n```\n\n## Using the html2pptx Library\n\n### Installation & Setup\n\n**Important**: Extract the html2pptx library next to your script before using. See the **Prerequisites Check** section at the top of this document.\n\n**When running scripts, set NODE_PATH for global packages like pptxgenjs:**\n\n```sh\nNODE_PATH=\"$(npm root -g)\" node your-script.js 2>&1\n```\n\n### Dependencies\n\nThese libraries have been globally installed and are available to use:\n\n- `pptxgenjs`\n- `playwright`\n\n### ‚ö†Ô∏è IMPORTANT: How To Use html2pptx\n\n**Common errors:**\n\n- **LIBRARY NOT EXTRACTED**: Extract the tarball first with `mkdir -p html2pptx && tar -xzf skills/public/pptx/html2pptx.tgz -C html2pptx`\n  - ‚úÖ Correct: `require(\"./html2pptx\")`\n  - ‚ùå Wrong: `require(\"@ant/html2pptx\")` - Use relative path, not package name\n- DO NOT call `pptx.addSlide()` directly, `html2pptx` creates a slide for you\n- `html2pptx` accepts an `htmlFilePath` and a `pptx` presentation object\n  - If you pass the wrong arguments, your script will throw errors or time out\n\n**Your script MUST follow the following example.**\n\n```javascript\nconst pptxgen = require(\"pptxgenjs\");\nconst { html2pptx } = require(\"./html2pptx\");\n\n// Create a new pptx presentation\nconst pptx = new pptxgen();\npptx.layout = \"LAYOUT_16x9\"; // Must match HTML body dimensions\n\n// Add an HTML-only slide\nawait html2pptx(\"slide1.html\", pptx);\n\n// Add a slide with a chart placeholder\nconst { slide, placeholders } = await html2pptx(\"slide2.html\", pptx);\nslide.addChart(pptx.charts.LINE, chartData, placeholders[0]);\n\n// Save the presentation\nawait pptx.writeFile(\"output.pptx\");\n```\n\n### API Reference\n\n#### Function Signature\n\n```javascript\nawait html2pptx(htmlFilePath, pptxPresentation, options);\n```\n\n#### Parameters\n\n- `htmlFilePath` (string): Path to HTML file (absolute or relative)\n- `pptxPresentation` (pptxgen): PptxGenJS presentation instance with layout already set\n- `options` (object, optional):\n  - `tmpDir` (string): Temporary directory for generated files (default: `process.env.TMPDIR || '/tmp'`)\n\n#### Returns\n\n```javascript\n{\n    slide: pptxgenSlide,           // The created/updated slide\n    placeholders: [                 // Array of placeholder positions\n        { id: string, x: number, y: number, w: number, h: number },\n        ...\n    ]\n}\n```\n\n### Validation\n\nThe library automatically validates and collects all errors before throwing:\n\n1. **HTML dimensions must match presentation layout** - Reports dimension mismatches\n2. **Content must not overflow body** - Reports overflow with exact measurements\n3. **Text element styling** - Reports backgrounds/borders/shadows on text elements (only allowed on block elements)\n\n**All validation errors are collected and reported together** in a single error message, allowing you to fix all issues at once instead of one at a time.\n\n### Working with Placeholders\n\n```javascript\nconst { slide, placeholders } = await html2pptx(\"slide.html\", pptx);\n\n// Use first placeholder\nslide.addChart(pptx.charts.BAR, data, placeholders[0]);\n\n// Find by ID\nconst chartArea = placeholders.find((p) => p.id === \"chart-area\");\nslide.addChart(pptx.charts.LINE, data, chartArea);\n```\n\n### Complete Example\n\n```javascript\nconst pptxgen = require(\"pptxgenjs\");\nconst { html2pptx } = require(\"./html2pptx\");\n\nasync function createPresentation() {\n  const pptx = new pptxgen();\n  pptx.layout = \"LAYOUT_16x9\";\n  pptx.author = \"Your Name\";\n  pptx.title = \"My Presentation\";\n\n  // Slide 1: Title\n  const { slide: slide1 } = await html2pptx(\"slides/title.html\", pptx);\n\n  // Slide 2: Content with chart\n  const { slide: slide2, placeholders } = await html2pptx(\n    \"slides/data.html\",\n    pptx\n  );\n\n  const chartData = [\n    {\n      name: \"Sales\",\n      labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      values: [4500, 5500, 6200, 7100],\n    },\n  ];\n\n  slide2.addChart(pptx.charts.BAR, chartData, {\n    ...placeholders[0],\n    showTitle: true,\n    title: \"Quarterly Sales\",\n    showCatAxisTitle: true,\n    catAxisTitle: \"Quarter\",\n    showValAxisTitle: true,\n    valAxisTitle: \"Sales ($000s)\",\n  });\n\n  // Save\n  await pptx.writeFile({ fileName: \"presentation.pptx\" });\n  console.log(\"Presentation created successfully!\");\n}\n\ncreatePresentation().catch(console.error);\n```\n\n**Run with:**\n\n```sh\nNODE_PATH=\"$(npm root -g)\" node create-presentation.js 2>&1\n```\n\n## Using PptxGenJS\n\nAfter converting HTML to slides with `html2pptx`, you'll use PptxGenJS to add dynamic content like charts, images, and additional elements.\n\n### ‚ö†Ô∏è Critical Rules\n\n#### Colors\n\n- **NEVER use `#` prefix** with hex colors in PptxGenJS - causes file corruption\n- ‚úÖ Correct: `color: \"FF0000\"`, `fill: { color: \"0066CC\" }`\n- ‚ùå Wrong: `color: \"#FF0000\"` (breaks document)\n\n### Adding Images\n\nAlways calculate aspect ratios from actual image dimensions:\n\n```javascript\n// Get image dimensions: identify image.png | grep -o '[0-9]* x [0-9]*'\nconst imgWidth = 1860,\n  imgHeight = 1519; // From actual file\nconst aspectRatio = imgWidth / imgHeight;\n\nconst h = 3; // Max height\nconst w = h * aspectRatio;\nconst x = (10 - w) / 2; // Center on 16:9 slide\n\nslide.addImage({ path: \"chart.png\", x, y: 1.5, w, h });\n```\n\n### Adding Text\n\n```javascript\n// Rich text with formatting\nslide.addText(\n  [\n    { text: \"Bold \", options: { bold: true } },\n    { text: \"Italic \", options: { italic: true } },\n    { text: \"Normal\" },\n  ],\n  {\n    x: 1,\n    y: 2,\n    w: 8,\n    h: 1,\n  }\n);\n```\n\n### Adding Shapes\n\n```javascript\n// Rectangle\nslide.addShape(pptx.shapes.RECTANGLE, {\n  x: 1,\n  y: 1,\n  w: 3,\n  h: 2,\n  fill: { color: \"4472C4\" },\n  line: { color: \"000000\", width: 2 },\n});\n\n// Circle\nslide.addShape(pptx.shapes.OVAL, {\n  x: 5,\n  y: 1,\n  w: 2,\n  h: 2,\n  fill: { color: \"ED7D31\" },\n});\n\n// Rounded rectangle\nslide.addShape(pptx.shapes.ROUNDED_RECTANGLE, {\n  x: 1,\n  y: 4,\n  w: 3,\n  h: 1.5,\n  fill: { color: \"70AD47\" },\n  rectRadius: 0.2,\n});\n```\n\n### Adding Charts\n\n**Required for most charts:** Axis labels using `catAxisTitle` (category) and `valAxisTitle` (value).\n\n**Chart Data Format:**\n\n- Use **single series with all labels** for simple bar/line charts\n- Each series creates a separate legend entry\n- Labels array defines X-axis values\n\n**Time Series Data - Choose Correct Granularity:**\n\n- **< 30 days**: Use daily grouping (e.g., \"10-01\", \"10-02\") - avoid monthly aggregation that creates single-point charts\n- **30-365 days**: Use monthly grouping (e.g., \"2024-01\", \"2024-02\")\n- **> 365 days**: Use yearly grouping (e.g., \"2023\", \"2024\")\n- **Validate**: Charts with only 1 data point likely indicate incorrect aggregation for the time period\n\n```javascript\nconst { slide, placeholders } = await html2pptx(\"slide.html\", pptx);\n\n// CORRECT: Single series with all labels\nslide.addChart(\n  pptx.charts.BAR,\n  [\n    {\n      name: \"Sales 2024\",\n      labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      values: [4500, 5500, 6200, 7100],\n    },\n  ],\n  {\n    ...placeholders[0], // Use placeholder position\n    barDir: \"col\", // 'col' = vertical bars, 'bar' = horizontal\n    showTitle: true,\n    title: \"Quarterly Sales\",\n    showLegend: false, // No legend needed for single series\n    // Required axis labels\n    showCatAxisTitle: true,\n    catAxisTitle: \"Quarter\",\n    showValAxisTitle: true,\n    valAxisTitle: \"Sales ($000s)\",\n    // Optional: Control scaling (adjust min based on data range for better visualization)\n    valAxisMaxVal: 8000,\n    valAxisMinVal: 0, // Use 0 for counts/amounts; for clustered data (e.g., 4500-7100), consider starting closer to min value\n    valAxisMajorUnit: 2000, // Control y-axis label spacing to prevent crowding\n    catAxisLabelRotate: 45, // Rotate labels if crowded\n    dataLabelPosition: \"outEnd\",\n    dataLabelColor: \"000000\",\n    // Use single color for single-series charts\n    chartColors: [\"4472C4\"], // All bars same color\n  }\n);\n```\n\n#### Scatter Chart\n\n**IMPORTANT**: Scatter chart data format is unusual - first series contains X-axis values, subsequent series contain Y-values:\n\n```javascript\n// Prepare data\nconst data1 = [\n  { x: 10, y: 20 },\n  { x: 15, y: 25 },\n  { x: 20, y: 30 },\n];\nconst data2 = [\n  { x: 12, y: 18 },\n  { x: 18, y: 22 },\n];\n\nconst allXValues = [...data1.map((d) => d.x), ...data2.map((d) => d.x)];\n\nslide.addChart(\n  pptx.charts.SCATTER,\n  [\n    { name: \"X-Axis\", values: allXValues }, // First series = X values\n    { name: \"Series 1\", values: data1.map((d) => d.y) }, // Y values only\n    { name: \"Series 2\", values: data2.map((d) => d.y) }, // Y values only\n  ],\n  {\n    x: 1,\n    y: 1,\n    w: 8,\n    h: 4,\n    lineSize: 0, // 0 = no connecting lines\n    lineDataSymbol: \"circle\",\n    lineDataSymbolSize: 6,\n    showCatAxisTitle: true,\n    catAxisTitle: \"X Axis\",\n    showValAxisTitle: true,\n    valAxisTitle: \"Y Axis\",\n    chartColors: [\"4472C4\", \"ED7D31\"],\n  }\n);\n```\n\n#### Line Chart\n\n```javascript\nslide.addChart(\n  pptx.charts.LINE,\n  [\n    {\n      name: \"Temperature\",\n      labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\"],\n      values: [32, 35, 42, 55],\n    },\n  ],\n  {\n    x: 1,\n    y: 1,\n    w: 8,\n    h: 4,\n    lineSize: 4,\n    lineSmooth: true,\n    // Required axis labels\n    showCatAxisTitle: true,\n    catAxisTitle: \"Month\",\n    showValAxisTitle: true,\n    valAxisTitle: \"Temperature (¬∞F)\",\n    // Optional: Y-axis range (set min based on data range for better visualization)\n    valAxisMinVal: 0, // For ranges starting at 0 (counts, percentages, etc.)\n    valAxisMaxVal: 60,\n    valAxisMajorUnit: 20, // Control y-axis label spacing to prevent crowding (e.g., 10, 20, 25)\n    // valAxisMinVal: 30,  // PREFERRED: For data clustered in a range (e.g., 32-55 or ratings 3-5), start axis closer to min value to show variation\n    // Optional: Chart colors\n    chartColors: [\"4472C4\", \"ED7D31\", \"A5A5A5\"],\n  }\n);\n```\n\n#### Pie Chart (No Axis Labels Required)\n\n**CRITICAL**: Pie charts require a **single data series** with all categories in the `labels` array and corresponding values in the `values` array.\n\n```javascript\nslide.addChart(\n  pptx.charts.PIE,\n  [\n    {\n      name: \"Market Share\",\n      labels: [\"Product A\", \"Product B\", \"Other\"], // All categories in one array\n      values: [35, 45, 20], // All values in one array\n    },\n  ],\n  {\n    x: 2,\n    y: 1,\n    w: 6,\n    h: 4,\n    showPercent: true,\n    showLegend: true,\n    legendPos: \"r\", // right\n    chartColors: [\"4472C4\", \"ED7D31\", \"A5A5A5\"],\n  }\n);\n```\n\n#### Multiple Data Series\n\n```javascript\nslide.addChart(\n  pptx.charts.LINE,\n  [\n    {\n      name: \"Product A\",\n      labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      values: [10, 20, 30, 40],\n    },\n    {\n      name: \"Product B\",\n      labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      values: [15, 25, 20, 35],\n    },\n  ],\n  {\n    x: 1,\n    y: 1,\n    w: 8,\n    h: 4,\n    showCatAxisTitle: true,\n    catAxisTitle: \"Quarter\",\n    showValAxisTitle: true,\n    valAxisTitle: \"Revenue ($M)\",\n  }\n);\n```\n\n### Chart Colors\n\n**CRITICAL**: Use hex colors **without** the `#` prefix - including `#` causes file corruption.\n\n**Align chart colors with your chosen design palette**, ensuring sufficient contrast and distinctiveness for data visualization. Adjust colors for:\n\n- Strong contrast between adjacent series\n- Readability against slide backgrounds\n- Accessibility (avoid red-green only combinations)\n\n```javascript\n// Example: Ocean palette-inspired chart colors (adjusted for contrast)\nconst chartColors = [\"16A085\", \"FF6B9D\", \"2C3E50\", \"F39C12\", \"9B59B6\"];\n\n// Single-series chart: Use one color for all bars/points\nslide.addChart(\n  pptx.charts.BAR,\n  [\n    {\n      name: \"Sales\",\n      labels: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      values: [4500, 5500, 6200, 7100],\n    },\n  ],\n  {\n    ...placeholders[0],\n    chartColors: [\"16A085\"], // All bars same color\n    showLegend: false,\n  }\n);\n\n// Multi-series chart: Each series gets a different color\nslide.addChart(\n  pptx.charts.LINE,\n  [\n    { name: \"Product A\", labels: [\"Q1\", \"Q2\", \"Q3\"], values: [10, 20, 30] },\n    { name: \"Product B\", labels: [\"Q1\", \"Q2\", \"Q3\"], values: [15, 25, 20] },\n  ],\n  {\n    ...placeholders[0],\n    chartColors: [\"16A085\", \"FF6B9D\"], // One color per series\n  }\n);\n```\n\n### Adding Tables\n\nTables can be added with basic or advanced formatting:\n\n#### Basic Table\n\n```javascript\nslide.addTable(\n  [\n    [\"Header 1\", \"Header 2\", \"Header 3\"],\n    [\"Row 1, Col 1\", \"Row 1, Col 2\", \"Row 1, Col 3\"],\n    [\"Row 2, Col 1\", \"Row 2, Col 2\", \"Row 2, Col 3\"],\n  ],\n  {\n    x: 0.5,\n    y: 1,\n    w: 9,\n    h: 3,\n    border: { pt: 1, color: \"999999\" },\n    fill: { color: \"F1F1F1\" },\n  }\n);\n```\n\n#### Table with Custom Formatting\n\n```javascript\nconst tableData = [\n  // Header row with custom styling\n  [\n    {\n      text: \"Product\",\n      options: { fill: { color: \"4472C4\" }, color: \"FFFFFF\", bold: true },\n    },\n    {\n      text: \"Revenue\",\n      options: { fill: { color: \"4472C4\" }, color: \"FFFFFF\", bold: true },\n    },\n    {\n      text: \"Growth\",\n      options: { fill: { color: \"4472C4\" }, color: \"FFFFFF\", bold: true },\n    },\n  ],\n  // Data rows\n  [\"Product A\", \"$50M\", \"+15%\"],\n  [\"Product B\", \"$35M\", \"+22%\"],\n  [\"Product C\", \"$28M\", \"+8%\"],\n];\n\nslide.addTable(tableData, {\n  x: 1,\n  y: 1.5,\n  w: 8,\n  h: 3,\n  colW: [3, 2.5, 2.5], // Column widths\n  rowH: [0.5, 0.6, 0.6, 0.6], // Row heights\n  border: { pt: 1, color: \"CCCCCC\" },\n  align: \"center\",\n  valign: \"middle\",\n  fontSize: 14,\n});\n```\n\n#### Table with Merged Cells\n\n```javascript\nconst mergedTableData = [\n  [\n    {\n      text: \"Q1 Results\",\n      options: {\n        colspan: 3,\n        fill: { color: \"4472C4\" },\n        color: \"FFFFFF\",\n        bold: true,\n      },\n    },\n  ],\n  [\"Product\", \"Sales\", \"Market Share\"],\n  [\"Product A\", \"$25M\", \"35%\"],\n  [\"Product B\", \"$18M\", \"25%\"],\n];\n\nslide.addTable(mergedTableData, {\n  x: 1,\n  y: 1,\n  w: 8,\n  h: 2.5,\n  colW: [3, 2.5, 2.5],\n  border: { pt: 1, color: \"DDDDDD\" },\n});\n```\n\n### Table Options\n\nCommon table options:\n\n- `x, y, w, h` - Position and size\n- `colW` - Array of column widths (in inches)\n- `rowH` - Array of row heights (in inches)\n- `border` - Border style: `{ pt: 1, color: \"999999\" }`\n- `fill` - Background color (no # prefix)\n- `align` - Text alignment: \"left\", \"center\", \"right\"\n- `valign` - Vertical alignment: \"top\", \"middle\", \"bottom\"\n- `fontSize` - Text size\n- `autoPage` - Auto-create new slides if content overflows\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/pptx/ooxml.md": "# Office Open XML Technical Reference for PowerPoint\n\n**Important: Read this entire document before starting.** Critical XML schema rules and formatting requirements are covered throughout. Incorrect implementation can create invalid PPTX files that PowerPoint cannot open.\n\n## Technical Guidelines\n\n### Schema Compliance\n- **Element ordering in `<p:txBody>`**: `<a:bodyPr>`, `<a:lstStyle>`, `<a:p>`\n- **Whitespace**: Add `xml:space='preserve'` to `<a:t>` elements with leading/trailing spaces\n- **Unicode**: Escape characters in ASCII content: `\"` becomes `&#8220;`\n- **Images**: Add to `ppt/media/`, reference in slide XML, set dimensions to fit slide bounds\n- **Relationships**: Update `ppt/slides/_rels/slideN.xml.rels` for each slide's resources\n- **Dirty attribute**: Add `dirty=\"0\"` to `<a:rPr>` and `<a:endParaRPr>` elements to indicate clean state\n\n## Presentation Structure\n\n### Basic Slide Structure\n```xml\n<!-- ppt/slides/slide1.xml -->\n<p:sld>\n  <p:cSld>\n    <p:spTree>\n      <p:nvGrpSpPr>...</p:nvGrpSpPr>\n      <p:grpSpPr>...</p:grpSpPr>\n      <!-- Shapes go here -->\n    </p:spTree>\n  </p:cSld>\n</p:sld>\n```\n\n### Text Box / Shape with Text\n```xml\n<p:sp>\n  <p:nvSpPr>\n    <p:cNvPr id=\"2\" name=\"Title\"/>\n    <p:cNvSpPr>\n      <a:spLocks noGrp=\"1\"/>\n    </p:cNvSpPr>\n    <p:nvPr>\n      <p:ph type=\"ctrTitle\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <p:spPr>\n    <a:xfrm>\n      <a:off x=\"838200\" y=\"365125\"/>\n      <a:ext cx=\"7772400\" cy=\"1470025\"/>\n    </a:xfrm>\n  </p:spPr>\n  <p:txBody>\n    <a:bodyPr/>\n    <a:lstStyle/>\n    <a:p>\n      <a:r>\n        <a:t>Slide Title</a:t>\n      </a:r>\n    </a:p>\n  </p:txBody>\n</p:sp>\n```\n\n### Text Formatting\n```xml\n<!-- Bold -->\n<a:r>\n  <a:rPr b=\"1\"/>\n  <a:t>Bold Text</a:t>\n</a:r>\n\n<!-- Italic -->\n<a:r>\n  <a:rPr i=\"1\"/>\n  <a:t>Italic Text</a:t>\n</a:r>\n\n<!-- Underline -->\n<a:r>\n  <a:rPr u=\"sng\"/>\n  <a:t>Underlined</a:t>\n</a:r>\n\n<!-- Highlight -->\n<a:r>\n  <a:rPr>\n    <a:highlight>\n      <a:srgbClr val=\"FFFF00\"/>\n    </a:highlight>\n  </a:rPr>\n  <a:t>Highlighted Text</a:t>\n</a:r>\n\n<!-- Font and Size -->\n<a:r>\n  <a:rPr sz=\"2400\" typeface=\"Arial\">\n    <a:solidFill>\n      <a:srgbClr val=\"FF0000\"/>\n    </a:solidFill>\n  </a:rPr>\n  <a:t>Colored Arial 24pt</a:t>\n</a:r>\n\n<!-- Complete formatting example -->\n<a:r>\n  <a:rPr lang=\"en-US\" sz=\"1400\" b=\"1\" dirty=\"0\">\n    <a:solidFill>\n      <a:srgbClr val=\"FAFAFA\"/>\n    </a:solidFill>\n  </a:rPr>\n  <a:t>Formatted text</a:t>\n</a:r>\n```\n\n### Lists\n```xml\n<!-- Bullet list -->\n<a:p>\n  <a:pPr lvl=\"0\">\n    <a:buChar char=\"‚Ä¢\"/>\n  </a:pPr>\n  <a:r>\n    <a:t>First bullet point</a:t>\n  </a:r>\n</a:p>\n\n<!-- Numbered list -->\n<a:p>\n  <a:pPr lvl=\"0\">\n    <a:buAutoNum type=\"arabicPeriod\"/>\n  </a:pPr>\n  <a:r>\n    <a:t>First numbered item</a:t>\n  </a:r>\n</a:p>\n\n<!-- Second level indent -->\n<a:p>\n  <a:pPr lvl=\"1\">\n    <a:buChar char=\"‚Ä¢\"/>\n  </a:pPr>\n  <a:r>\n    <a:t>Indented bullet</a:t>\n  </a:r>\n</a:p>\n```\n\n### Shapes\n```xml\n<!-- Rectangle -->\n<p:sp>\n  <p:nvSpPr>\n    <p:cNvPr id=\"3\" name=\"Rectangle\"/>\n    <p:cNvSpPr/>\n    <p:nvPr/>\n  </p:nvSpPr>\n  <p:spPr>\n    <a:xfrm>\n      <a:off x=\"1000000\" y=\"1000000\"/>\n      <a:ext cx=\"3000000\" cy=\"2000000\"/>\n    </a:xfrm>\n    <a:prstGeom prst=\"rect\">\n      <a:avLst/>\n    </a:prstGeom>\n    <a:solidFill>\n      <a:srgbClr val=\"FF0000\"/>\n    </a:solidFill>\n    <a:ln w=\"25400\">\n      <a:solidFill>\n        <a:srgbClr val=\"000000\"/>\n      </a:solidFill>\n    </a:ln>\n  </p:spPr>\n</p:sp>\n\n<!-- Rounded Rectangle -->\n<p:sp>\n  <p:spPr>\n    <a:prstGeom prst=\"roundRect\">\n      <a:avLst/>\n    </a:prstGeom>\n  </p:spPr>\n</p:sp>\n\n<!-- Circle/Ellipse -->\n<p:sp>\n  <p:spPr>\n    <a:prstGeom prst=\"ellipse\">\n      <a:avLst/>\n    </a:prstGeom>\n  </p:spPr>\n</p:sp>\n```\n\n### Images\n```xml\n<p:pic>\n  <p:nvPicPr>\n    <p:cNvPr id=\"4\" name=\"Picture\">\n      <a:hlinkClick r:id=\"\" action=\"ppaction://media\"/>\n    </p:cNvPr>\n    <p:cNvPicPr>\n      <a:picLocks noChangeAspect=\"1\"/>\n    </p:cNvPicPr>\n    <p:nvPr/>\n  </p:nvPicPr>\n  <p:blipFill>\n    <a:blip r:embed=\"rId2\"/>\n    <a:stretch>\n      <a:fillRect/>\n    </a:stretch>\n  </p:blipFill>\n  <p:spPr>\n    <a:xfrm>\n      <a:off x=\"1000000\" y=\"1000000\"/>\n      <a:ext cx=\"3000000\" cy=\"2000000\"/>\n    </a:xfrm>\n    <a:prstGeom prst=\"rect\">\n      <a:avLst/>\n    </a:prstGeom>\n  </p:spPr>\n</p:pic>\n```\n\n### Tables\n```xml\n<p:graphicFrame>\n  <p:nvGraphicFramePr>\n    <p:cNvPr id=\"5\" name=\"Table\"/>\n    <p:cNvGraphicFramePr>\n      <a:graphicFrameLocks noGrp=\"1\"/>\n    </p:cNvGraphicFramePr>\n    <p:nvPr/>\n  </p:nvGraphicFramePr>\n  <p:xfrm>\n    <a:off x=\"1000000\" y=\"1000000\"/>\n    <a:ext cx=\"6000000\" cy=\"2000000\"/>\n  </p:xfrm>\n  <a:graphic>\n    <a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/table\">\n      <a:tbl>\n        <a:tblGrid>\n          <a:gridCol w=\"3000000\"/>\n          <a:gridCol w=\"3000000\"/>\n        </a:tblGrid>\n        <a:tr h=\"500000\">\n          <a:tc>\n            <a:txBody>\n              <a:bodyPr/>\n              <a:lstStyle/>\n              <a:p>\n                <a:r>\n                  <a:t>Cell 1</a:t>\n                </a:r>\n              </a:p>\n            </a:txBody>\n          </a:tc>\n          <a:tc>\n            <a:txBody>\n              <a:bodyPr/>\n              <a:lstStyle/>\n              <a:p>\n                <a:r>\n                  <a:t>Cell 2</a:t>\n                </a:r>\n              </a:p>\n            </a:txBody>\n          </a:tc>\n        </a:tr>\n      </a:tbl>\n    </a:graphicData>\n  </a:graphic>\n</p:graphicFrame>\n```\n\n### Slide Layouts\n\n```xml\n<!-- Title Slide Layout -->\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"ctrTitle\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Title content -->\n</p:sp>\n\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"subTitle\" idx=\"1\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Subtitle content -->\n</p:sp>\n\n<!-- Content Slide Layout -->\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"title\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Slide title -->\n</p:sp>\n\n<p:sp>\n  <p:nvSpPr>\n    <p:nvPr>\n      <p:ph type=\"body\" idx=\"1\"/>\n    </p:nvPr>\n  </p:nvSpPr>\n  <!-- Content body -->\n</p:sp>\n```\n\n## File Updates\n\nWhen adding content, update these files:\n\n**`ppt/_rels/presentation.xml.rels`:**\n```xml\n<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide\" Target=\"slides/slide1.xml\"/>\n<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster\" Target=\"slideMasters/slideMaster1.xml\"/>\n```\n\n**`ppt/slides/_rels/slide1.xml.rels`:**\n```xml\n<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout\" Target=\"../slideLayouts/slideLayout1.xml\"/>\n<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"../media/image1.png\"/>\n```\n\n**`[Content_Types].xml`:**\n```xml\n<Default Extension=\"png\" ContentType=\"image/png\"/>\n<Default Extension=\"jpg\" ContentType=\"image/jpeg\"/>\n<Override PartName=\"/ppt/slides/slide1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.slide+xml\"/>\n```\n\n**`ppt/presentation.xml`:**\n```xml\n<p:sldIdLst>\n  <p:sldId id=\"256\" r:id=\"rId1\"/>\n  <p:sldId id=\"257\" r:id=\"rId2\"/>\n</p:sldIdLst>\n```\n\n**`docProps/app.xml`:** Update slide count and statistics\n```xml\n<Slides>2</Slides>\n<Paragraphs>10</Paragraphs>\n<Words>50</Words>\n```\n\n## Slide Operations\n\n### Adding a New Slide\nWhen adding a slide to the end of the presentation:\n\n1. **Create the slide file** (`ppt/slides/slideN.xml`)\n2. **Update `[Content_Types].xml`**: Add Override for the new slide\n3. **Update `ppt/_rels/presentation.xml.rels`**: Add relationship for the new slide\n4. **Update `ppt/presentation.xml`**: Add slide ID to `<p:sldIdLst>`\n5. **Create slide relationships** (`ppt/slides/_rels/slideN.xml.rels`) if needed\n6. **Update `docProps/app.xml`**: Increment slide count and update statistics (if present)\n\n### Duplicating a Slide\n1. Copy the source slide XML file with a new name\n2. Update all IDs in the new slide to be unique\n3. Follow the \"Adding a New Slide\" steps above\n4. **CRITICAL**: Remove or update any notes slide references in `_rels` files\n5. Remove references to unused media files\n\n### Reordering Slides\n1. **Update `ppt/presentation.xml`**: Reorder `<p:sldId>` elements in `<p:sldIdLst>`\n2. The order of `<p:sldId>` elements determines slide order\n3. Keep slide IDs and relationship IDs unchanged\n\nExample:\n```xml\n<!-- Original order -->\n<p:sldIdLst>\n  <p:sldId id=\"256\" r:id=\"rId2\"/>\n  <p:sldId id=\"257\" r:id=\"rId3\"/>\n  <p:sldId id=\"258\" r:id=\"rId4\"/>\n</p:sldIdLst>\n\n<!-- After moving slide 3 to position 2 -->\n<p:sldIdLst>\n  <p:sldId id=\"256\" r:id=\"rId2\"/>\n  <p:sldId id=\"258\" r:id=\"rId4\"/>\n  <p:sldId id=\"257\" r:id=\"rId3\"/>\n</p:sldIdLst>\n```\n\n### Deleting a Slide\n1. **Remove from `ppt/presentation.xml`**: Delete the `<p:sldId>` entry\n2. **Remove from `ppt/_rels/presentation.xml.rels`**: Delete the relationship\n3. **Remove from `[Content_Types].xml`**: Delete the Override entry\n4. **Delete files**: Remove `ppt/slides/slideN.xml` and `ppt/slides/_rels/slideN.xml.rels`\n5. **Update `docProps/app.xml`**: Decrement slide count and update statistics\n6. **Clean up unused media**: Remove orphaned images from `ppt/media/`\n\nNote: Don't renumber remaining slides - keep their original IDs and filenames.\n\n\n## Common Errors to Avoid\n\n- **Encodings**: Escape unicode characters in ASCII content: `\"` becomes `&#8220;`\n- **Images**: Add to `ppt/media/` and update relationship files\n- **Lists**: Omit bullets from list headers\n- **IDs**: Use valid hexadecimal values for UUIDs\n- **Themes**: Check all themes in `theme` directory for colors\n\n## Validation Checklist for Template-Based Presentations\n\n### Before Packing, Always:\n- **Clean unused resources**: Remove unreferenced media, fonts, and notes directories\n- **Fix Content_Types.xml**: Declare ALL slides, layouts, and themes present in the package\n- **Fix relationship IDs**: \n   - Remove font embed references if not using embedded fonts\n- **Remove broken references**: Check all `_rels` files for references to deleted resources\n\n### Common Template Duplication Pitfalls:\n- Multiple slides referencing the same notes slide after duplication\n- Image/media references from template slides that no longer exist\n- Font embedding references when fonts aren't included\n- Missing slideLayout declarations for layouts 12-25\n- docProps directory may not unpack - this is optional",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/product-self-knowledge/SKILL.md": "---\nname: product-self-knowledge\ndescription: Authoritative reference for Anthropic products. Use when users ask about product capabilities, access, installation, pricing, limits, or features. Provides source-backed answers to prevent hallucinations about Claude.ai, Claude Code, and Claude API.\n---\n\n# Anthropic Product Knowledge\n\n## Core Principles\n\n1. **Accuracy over guessing** - Check official docs when uncertain\n2. **Distinguish products** - Claude.ai, Claude Code, and Claude API are separate products\n3. **Source everything** - Always include official documentation URLs\n4. **Right resource first** - Use the correct docs for each product (see routing below)\n\n---\n\n## Question Routing\n\n### Claude API or Claude Code questions?\n\n‚Üí **Check the docs maps first**, then navigate to specific pages:\n\n- **Claude API & General:** https://docs.claude.com/en/docs_site_map.md\n- **Claude Code:** https://docs.anthropic.com/en/docs/claude-code/claude_code_docs_map.md\n\n### Claude.ai questions?\n\n‚Üí **Browse the support page:**\n\n- **Claude.ai Help Center:** https://support.claude.com\n\n---\n\n## Response Workflow\n\n1. **Identify the product** - API, Claude Code, or Claude.ai?\n2. **Use the right resource** - Docs maps for API/Code, support page for Claude.ai\n3. **Verify details** - Navigate to specific documentation pages\n4. **Provide answer** - Include source link and specify which product\n5. **If uncertain** - Direct user to relevant docs: \"For the most current information, see [URL]\"\n\n---\n\n## Quick Reference\n\n**Claude API:**\n\n- Documentation: https://docs.claude.com/en/api/overview\n- Docs Map: https://docs.claude.com/en/docs_site_map.md\n\n**Claude Code:**\n\n- Documentation: https://docs.claude.com/en/docs/claude-code/overview\n- Docs Map: https://docs.anthropic.com/en/docs/claude-code/claude_code_docs_map.md\n- npm Package: https://www.npmjs.com/package/@anthropic-ai/claude-code\n\n**Claude.ai:**\n\n- Support Center: https://support.claude.com\n- Getting Help: https://support.claude.com/en/articles/9015913-how-to-get-support\n\n**Other:**\n\n- Product News: https://www.anthropic.com/news\n- Enterprise Sales: https://www.anthropic.com/contact-sales\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/skill-examples/public/xlsx/SKILL.md": "---\nname: xlsx\ndescription: \"Comprehensive spreadsheet creation, editing, and analysis with support for formulas, formatting, data analysis, and visualization. When Claude needs to work with spreadsheets (.xlsx, .xlsm, .csv, .tsv, etc) for: (1) Creating new spreadsheets with formulas and formatting, (2) Reading or analyzing data, (3) Modify existing spreadsheets while preserving formulas, (4) Data analysis and visualization in spreadsheets, or (5) Recalculating formulas\"\nlicense: Proprietary. LICENSE.txt has complete terms\n---\n\n# Requirements for Outputs\n\n## All Excel files\n\n### Zero Formula Errors\n- Every Excel model MUST be delivered with ZERO formula errors (#REF!, #DIV/0!, #VALUE!, #N/A, #NAME?)\n\n### Preserve Existing Templates (when updating templates)\n- Study and EXACTLY match existing format, style, and conventions when modifying files\n- Never impose standardized formatting on files with established patterns\n- Existing template conventions ALWAYS override these guidelines\n\n## Financial models\n\n### Color Coding Standards\nUnless otherwise stated by the user or existing template\n\n#### Industry-Standard Color Conventions\n- **Blue text (RGB: 0,0,255)**: Hardcoded inputs, and numbers users will change for scenarios\n- **Black text (RGB: 0,0,0)**: ALL formulas and calculations\n- **Green text (RGB: 0,128,0)**: Links pulling from other worksheets within same workbook\n- **Red text (RGB: 255,0,0)**: External links to other files\n- **Yellow background (RGB: 255,255,0)**: Key assumptions needing attention or cells that need to be updated\n\n### Number Formatting Standards\n\n#### Required Format Rules\n- **Years**: Format as text strings (e.g., \"2024\" not \"2,024\")\n- **Currency**: Use $#,##0 format; ALWAYS specify units in headers (\"Revenue ($mm)\")\n- **Zeros**: Use number formatting to make all zeros \"-\", including percentages (e.g., \"$#,##0;($#,##0);-\")\n- **Percentages**: Default to 0.0% format (one decimal)\n- **Multiples**: Format as 0.0x for valuation multiples (EV/EBITDA, P/E)\n- **Negative numbers**: Use parentheses (123) not minus -123\n\n### Formula Construction Rules\n\n#### Assumptions Placement\n- Place ALL assumptions (growth rates, margins, multiples, etc.) in separate assumption cells\n- Use cell references instead of hardcoded values in formulas\n- Example: Use =B5*(1+$B$6) instead of =B5*1.05\n\n#### Formula Error Prevention\n- Verify all cell references are correct\n- Check for off-by-one errors in ranges\n- Ensure consistent formulas across all projection periods\n- Test with edge cases (zero values, negative numbers)\n- Verify no unintended circular references\n\n#### Documentation Requirements for Hardcodes\n- Comment or in cells beside (if end of table). Format: \"Source: [System/Document], [Date], [Specific Reference], [URL if applicable]\"\n- Examples:\n  - \"Source: Company 10-K, FY2024, Page 45, Revenue Note, [SEC EDGAR URL]\"\n  - \"Source: Company 10-Q, Q2 2025, Exhibit 99.1, [SEC EDGAR URL]\"\n  - \"Source: Bloomberg Terminal, 8/15/2025, AAPL US Equity\"\n  - \"Source: FactSet, 8/20/2025, Consensus Estimates Screen\"\n\n# XLSX creation, editing, and analysis\n\n## Overview\n\nA user may ask you to create, edit, or analyze the contents of an .xlsx file. You have different tools and workflows available for different tasks.\n\n## Important Requirements\n\n**LibreOffice Required for Formula Recalculation**: You can assume LibreOffice is installed for recalculating formula values using the `recalc.py` script. The script automatically configures LibreOffice on first run\n\n## Reading and analyzing data\n\n### Data analysis with pandas\nFor data analysis, visualization, and basic operations, use **pandas** which provides powerful data manipulation capabilities:\n\n```python\nimport pandas as pd\n\n# Read Excel\ndf = pd.read_excel('file.xlsx')  # Default: first sheet\nall_sheets = pd.read_excel('file.xlsx', sheet_name=None)  # All sheets as dict\n\n# Analyze\ndf.head()      # Preview data\ndf.info()      # Column info\ndf.describe()  # Statistics\n\n# Write Excel\ndf.to_excel('output.xlsx', index=False)\n```\n\n## Excel File Workflows\n\n## CRITICAL: Use Formulas, Not Hardcoded Values\n\n**Always use Excel formulas instead of calculating values in Python and hardcoding them.** This ensures the spreadsheet remains dynamic and updateable.\n\n### ‚ùå WRONG - Hardcoding Calculated Values\n```python\n# Bad: Calculating in Python and hardcoding result\ntotal = df['Sales'].sum()\nsheet['B10'] = total  # Hardcodes 5000\n\n# Bad: Computing growth rate in Python\ngrowth = (df.iloc[-1]['Revenue'] - df.iloc[0]['Revenue']) / df.iloc[0]['Revenue']\nsheet['C5'] = growth  # Hardcodes 0.15\n\n# Bad: Python calculation for average\navg = sum(values) / len(values)\nsheet['D20'] = avg  # Hardcodes 42.5\n```\n\n### ‚úÖ CORRECT - Using Excel Formulas\n```python\n# Good: Let Excel calculate the sum\nsheet['B10'] = '=SUM(B2:B9)'\n\n# Good: Growth rate as Excel formula\nsheet['C5'] = '=(C4-C2)/C2'\n\n# Good: Average using Excel function\nsheet['D20'] = '=AVERAGE(D2:D19)'\n```\n\nThis applies to ALL calculations - totals, percentages, ratios, differences, etc. The spreadsheet should be able to recalculate when source data changes.\n\n## Common Workflow\n1. **Choose tool**: pandas for data, openpyxl for formulas/formatting\n2. **Create/Load**: Create new workbook or load existing file\n3. **Modify**: Add/edit data, formulas, and formatting\n4. **Save**: Write to file\n5. **Recalculate formulas (MANDATORY IF USING FORMULAS)**: Use the recalc.py script\n   ```bash\n   python recalc.py output.xlsx\n   ```\n6. **Verify and fix any errors**: \n   - The script returns JSON with error details\n   - If `status` is `errors_found`, check `error_summary` for specific error types and locations\n   - Fix the identified errors and recalculate again\n   - Common errors to fix:\n     - `#REF!`: Invalid cell references\n     - `#DIV/0!`: Division by zero\n     - `#VALUE!`: Wrong data type in formula\n     - `#NAME?`: Unrecognized formula name\n\n### Creating new Excel files\n\n```python\n# Using openpyxl for formulas and formatting\nfrom openpyxl import Workbook\nfrom openpyxl.styles import Font, PatternFill, Alignment\n\nwb = Workbook()\nsheet = wb.active\n\n# Add data\nsheet['A1'] = 'Hello'\nsheet['B1'] = 'World'\nsheet.append(['Row', 'of', 'data'])\n\n# Add formula\nsheet['B2'] = '=SUM(A1:A10)'\n\n# Formatting\nsheet['A1'].font = Font(bold=True, color='FF0000')\nsheet['A1'].fill = PatternFill('solid', start_color='FFFF00')\nsheet['A1'].alignment = Alignment(horizontal='center')\n\n# Column width\nsheet.column_dimensions['A'].width = 20\n\nwb.save('output.xlsx')\n```\n\n### Editing existing Excel files\n\n```python\n# Using openpyxl to preserve formulas and formatting\nfrom openpyxl import load_workbook\n\n# Load existing file\nwb = load_workbook('existing.xlsx')\nsheet = wb.active  # or wb['SheetName'] for specific sheet\n\n# Working with multiple sheets\nfor sheet_name in wb.sheetnames:\n    sheet = wb[sheet_name]\n    print(f\"Sheet: {sheet_name}\")\n\n# Modify cells\nsheet['A1'] = 'New Value'\nsheet.insert_rows(2)  # Insert row at position 2\nsheet.delete_cols(3)  # Delete column 3\n\n# Add new sheet\nnew_sheet = wb.create_sheet('NewSheet')\nnew_sheet['A1'] = 'Data'\n\nwb.save('modified.xlsx')\n```\n\n## Recalculating formulas\n\nExcel files created or modified by openpyxl contain formulas as strings but not calculated values. Use the provided `recalc.py` script to recalculate formulas:\n\n```bash\npython recalc.py <excel_file> [timeout_seconds]\n```\n\nExample:\n```bash\npython recalc.py output.xlsx 30\n```\n\nThe script:\n- Automatically sets up LibreOffice macro on first run\n- Recalculates all formulas in all sheets\n- Scans ALL cells for Excel errors (#REF!, #DIV/0!, etc.)\n- Returns JSON with detailed error locations and counts\n- Works on both Linux and macOS\n\n## Formula Verification Checklist\n\nQuick checks to ensure formulas work correctly:\n\n### Essential Verification\n- [ ] **Test 2-3 sample references**: Verify they pull correct values before building full model\n- [ ] **Column mapping**: Confirm Excel columns match (e.g., column 64 = BL, not BK)\n- [ ] **Row offset**: Remember Excel rows are 1-indexed (DataFrame row 5 = Excel row 6)\n\n### Common Pitfalls\n- [ ] **NaN handling**: Check for null values with `pd.notna()`\n- [ ] **Far-right columns**: FY data often in columns 50+ \n- [ ] **Multiple matches**: Search all occurrences, not just first\n- [ ] **Division by zero**: Check denominators before using `/` in formulas (#DIV/0!)\n- [ ] **Wrong references**: Verify all cell references point to intended cells (#REF!)\n- [ ] **Cross-sheet references**: Use correct format (Sheet1!A1) for linking sheets\n\n### Formula Testing Strategy\n- [ ] **Start small**: Test formulas on 2-3 cells before applying broadly\n- [ ] **Verify dependencies**: Check all cells referenced in formulas exist\n- [ ] **Test edge cases**: Include zero, negative, and very large values\n\n### Interpreting recalc.py Output\nThe script returns JSON with error details:\n```json\n{\n  \"status\": \"success\",           // or \"errors_found\"\n  \"total_errors\": 0,              // Total error count\n  \"total_formulas\": 42,           // Number of formulas in file\n  \"error_summary\": {              // Only present if errors found\n    \"#REF!\": {\n      \"count\": 2,\n      \"locations\": [\"Sheet1!B5\", \"Sheet1!C10\"]\n    }\n  }\n}\n```\n\n## Best Practices\n\n### Library Selection\n- **pandas**: Best for data analysis, bulk operations, and simple data export\n- **openpyxl**: Best for complex formatting, formulas, and Excel-specific features\n\n### Working with openpyxl\n- Cell indices are 1-based (row=1, column=1 refers to cell A1)\n- Use `data_only=True` to read calculated values: `load_workbook('file.xlsx', data_only=True)`\n- **Warning**: If opened with `data_only=True` and saved, formulas are replaced with values and permanently lost\n- For large files: Use `read_only=True` for reading or `write_only=True` for writing\n- Formulas are preserved but not evaluated - use recalc.py to update values\n\n### Working with pandas\n- Specify data types to avoid inference issues: `pd.read_excel('file.xlsx', dtype={'id': str})`\n- For large files, read specific columns: `pd.read_excel('file.xlsx', usecols=['A', 'C', 'E'])`\n- Handle dates properly: `pd.read_excel('file.xlsx', parse_dates=['date_column'])`\n\n## Code Style Guidelines\n**IMPORTANT**: When generating Python code for Excel operations:\n- Write minimal, concise Python code without unnecessary comments\n- Avoid verbose variable names and redundant operations\n- Avoid unnecessary print statements\n\n**For Excel files themselves**:\n- Add comments to cells with complex formulas or important assumptions\n- Document data sources for hardcoded values\n- Include notes for key calculations and model sections",
        "plugins/claude-code-meta/skills/claude-code-meta/references/slash-command-builder.md": "---\nname: slash-command-builder\ndescription: Create slash commands for Claude Code with proper frontmatter, arguments, and bash integration. Use when creating new slash commands, fixing broken command parameters, or debugging command invocation. References complete Anthropic documentation.\n---\n\n# Slash Command Builder\n\nBuild slash commands that extend Claude Code with standardized prompts, workflows, and team conventions.\n\n## When to Use\n\n- Creating new slash commands for project or personal use\n- Fixing broken command parameter passing\n- Debugging command invocation issues\n- Converting workflows into reusable commands\n- Standardizing team workflows\n\n## Quick Start Workflow\n\n### 1. Choose Command Location\n\n**Project commands** (shared with team via git):\n```bash\n.claude/commands/<command-name>.md\n```\n\n**Personal commands** (available across all projects):\n```bash\n~/.claude/commands/<command-name>.md\n```\n\n**Plugin commands** (distributed via marketplace):\n```bash\nplugins/<plugin-name>/commands/<command-name>.md\n```\n\n### 2. Create Command File\n\nCommand files are Markdown with YAML frontmatter:\n\n```markdown\n---\ndescription: Brief description shown in /help\nargument-hint: [param1] [param2] (optional)\nallowed-tools: Tool1, Tool2 (optional)\n---\n\n# Command Name\n\nCommand instructions and prompt here.\n\nUse $ARGUMENTS for all args or $1, $2 for positional args.\n```\n\n### 3. Test Invocation\n\n```bash\n/<command-name> [arguments]\n```\n\nCheck `/help` to verify command appears with correct description.\n\n## Essential Patterns\n\n### Pattern 1: Simple Command (No Arguments)\n\n```markdown\n---\ndescription: Run type check across workspace\n---\n\nRun `pnpm check` to verify TypeScript types across all packages.\n\nReport any errors with file paths and line numbers.\n```\n\n**Invocation**: `/typecheck`\n\n### Pattern 2: Parameterized Command (All Arguments)\n\n```markdown\n---\ndescription: Create git commit with standard format\nargument-hint: [commit-message]\n---\n\nCreate a git commit with message: $ARGUMENTS\n\nFollow conventional commits format (feat|fix|docs|refactor):\n- Use present tense\n- Be concise and descriptive\n- Reference issue numbers if applicable\n```\n\n**Invocation**: `/commit fix: resolve type error in user service`\n\n### Pattern 3: Positional Arguments\n\n```markdown\n---\ndescription: Review pull request with priority\nargument-hint: [pr-number] [priority]\n---\n\nReview PR #$1 with $2 priority.\n\nFocus on:\n- Type safety and Effect patterns\n- Test coverage\n- Documentation updates\n```\n\n**Invocation**: `/review-pr 456 high`\n\n### Pattern 4: Bash Integration\n\n```markdown\n---\ndescription: Create commit with auto-generated context\nallowed-tools: Bash(git add:*), Bash(git status:*), Bash(git diff:*)\nargument-hint: [message]\n---\n\n## Current Context\n\n**Status**: !`git status`\n\n**Staged Changes**: !`git diff --cached --stat`\n\n## Task\n\nCreate commit with message: $ARGUMENTS\n\nValidate:\n- All changes are intentional\n- No debug code or secrets\n- Clear, descriptive message\n```\n\n**Invocation**: `/smart-commit refactor: extract common types`\n\n**How it works**: The `!`command`` syntax executes bash and injects output into context before Claude processes the command.\n\n### Pattern 5: File References\n\n```markdown\n---\ndescription: Review file against coding standards\nargument-hint: [file-path]\n---\n\nReview @$ARGUMENTS against our coding standards:\n\n**Standards**:\n- Effect-idiomatic patterns\n- Functional purity (no side effects)\n- Proper error handling via Effect error channel\n- Test coverage for public functions\n\nProvide specific improvement suggestions with line numbers.\n```\n\n**Invocation**: `/review-file src/services/auth.ts`\n\n**How it works**: The `@` prefix loads file contents into context.\n\n## Frontmatter Fields Reference\n\n### Required Fields\n\n**description** (recommended, defaults to first line):\n```yaml\ndescription: Brief description shown in /help output\n```\n\n### Optional Fields\n\n**argument-hint** (document parameters):\n```yaml\nargument-hint: [param1] [param2] [optional-param]\n```\n\n**allowed-tools** (restrict tool access):\n```yaml\nallowed-tools: Bash(git add:*), Bash(git status:*), Write, Edit\n```\n\n**model** (use specific model):\n```yaml\nmodel: claude-3-5-haiku-20241022\n```\n\n**disable-model-invocation** (prevent autonomous use):\n```yaml\ndisable-model-invocation: true\n```\n\n## Common Issues & Fixes\n\n### Issue: Arguments Not Working\n\n‚ùå **Wrong**:\n```markdown\nFeature description: {{ARGUMENTS}}\n```\n\n‚úÖ **Correct**:\n```markdown\nFeature description: $ARGUMENTS\n```\n\n**Why**: Use shell-style `$ARGUMENTS` not template-style `{{ARGUMENTS}}`.\n\n### Issue: Command Not in `/help`\n\n‚ùå **Wrong**:\n```markdown\n# My Command\n\nCommand content here.\n```\n\n‚úÖ **Correct**:\n```markdown\n---\ndescription: Brief description of what command does\n---\n\n# My Command\n\nCommand content here.\n```\n\n**Why**: Must have frontmatter with `description` field.\n\n### Issue: Permission Errors\n\n‚ùå **Wrong**:\n```markdown\n---\ndescription: Commit changes\n---\n\nStatus: !`git status`\nCommit: $ARGUMENTS\n```\n\n‚úÖ **Correct**:\n```markdown\n---\ndescription: Commit changes\nallowed-tools: Bash(git status:*), Bash(git add:*), Bash(git commit:*)\n---\n\nStatus: !`git status`\nCommit: $ARGUMENTS\n```\n\n**Why**: Commands using bash execution must list `allowed-tools`.\n\n### Issue: Positional Args Not Parsing\n\n‚ùå **Wrong**:\n```markdown\nReview PR $ARGUMENTS with priority $ARGUMENTS\n```\n\n‚úÖ **Correct**:\n```markdown\nReview PR $1 with priority $2\n```\n\n**Why**: Use `$1`, `$2`, etc. for individual positional arguments. Use `$ARGUMENTS` for all args as single string.\n\n## Advanced: Namespacing\n\nOrganize related commands in subdirectories:\n\n```\n.claude/commands/\n‚îú‚îÄ‚îÄ git/\n‚îÇ   ‚îú‚îÄ‚îÄ commit.md\n‚îÇ   ‚îú‚îÄ‚îÄ review-pr.md\n‚îÇ   ‚îî‚îÄ‚îÄ sync.md\n‚îú‚îÄ‚îÄ test/\n‚îÇ   ‚îú‚îÄ‚îÄ spanner.md\n‚îÇ   ‚îú‚îÄ‚îÄ core.md\n‚îÇ   ‚îî‚îÄ‚îÄ integration.md\n‚îî‚îÄ‚îÄ dev/\n    ‚îú‚îÄ‚îÄ typecheck.md\n    ‚îî‚îÄ‚îÄ build.md\n```\n\nCommands remain top-level (`/commit` not `/git/commit`), but `/help` shows namespace: \"(project:git)\".\n\n## Advanced: SlashCommand Tool\n\nClaude can autonomously invoke commands during conversations via the `SlashCommand` tool.\n\n**Enable**: Commands with `description` in frontmatter are auto-enabled.\n\n**Disable specific command**:\n```yaml\n---\ndescription: Sensitive operation\ndisable-model-invocation: true\n---\n```\n\n**Disable all autonomous slash commands** (via settings.json):\n```json\n{\n  \"permissions\": {\n    \"deny\": [\"SlashCommand\"]\n  }\n}\n```\n\n## Slash Commands vs Skills\n\n**Use slash commands when**:\n- Simple, frequently-invoked prompts\n- Quick reminders or templates\n- Single-file instructions\n- User explicitly invokes with `/command`\n\n**Use skills when**:\n- Complex multi-step workflows\n- Multiple supporting files (scripts, references, assets)\n- Claude should autonomously decide when to use\n- Rich documentation and validation logic\n\n**Key difference**: Slash commands are user-invoked (`/command`), skills are model-invoked (Claude decides based on description).\n\n## Testing Workflow\n\n1. **Create command file** with proper frontmatter\n2. **Restart Claude Code** (or start new conversation)\n3. **Check `/help`** - verify command appears with description\n4. **Test without args**: `/<command-name>`\n5. **Test with args**: `/<command-name> arg1 arg2`\n6. **Verify behavior**: Check arguments pass correctly and bash execution works\n\n## Complete API Reference\n\nFor full slash command specification including:\n- Complete frontmatter field list\n- Plugin command patterns\n- MCP slash command integration\n- Permission control patterns\n- Advanced bash execution patterns\n- File reference syntax\n\nSee [references/anthropic-slash-commands-docs.md](references/anthropic-slash-commands-docs.md)\n\n## Improving This Skill\n\nNotice gaps, unclear instructions, or better patterns while using this skill?\n\nUse the `continuous-improvement` skill to propose enhancements:\n1. Detect the issue\n2. Propose specific changes\n3. Git branch ‚Üí commit ‚Üí surface for approval\n4. Update changelog\n\nThis skill should evolve with every use.\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/templates/application-skill-template.md": "---\nskill_name: [tech]-patterns\ndescription: [Framework]-based [Technology] patterns. Use when writing idiomatic [Technology] code with [Framework], implementing common workflows, or building type-safe operations. Cross-references [tech]-docs for syntax reference.\ntrigger: When writing [Technology] code with [Framework], implementing [tech] patterns, or handling [tech] errors\nkeywords: [tech], [technology], patterns, [framework], [key-pattern-1], [key-pattern-2]\nversion: 0.1.0\n---\n\n# [Technology] + [Framework] Patterns\n\nThis skill provides [Framework]-based patterns for [Technology]. For complete syntax reference, see **[tech]-docs skill** which contains all official documentation.\n\n## Quick Pattern Reference\n\n**When to use [tech]-docs:**\n- Syntax reference: `rg \"[SYNTAX-KEYWORD]\" ..//[tech]-docs/references/`\n- Function reference: `rg \"[FUNCTION-NAME]\" ../[tech]-docs/references/`\n- Complete guides: `rg \"[concept]\" ../[tech]-docs/references/guides/ -i -l`\n\n**When to use this skill:**\n- [Framework]-based patterns\n- Common workflows with [Framework]\n- Type-safe operations\n- Error handling patterns\n- Best practices\n\n## [Framework]-Based Patterns\n\n### Basic Pattern 1: [Pattern Name]\n\n```[language]\nimport { [Framework-Import] } from \"[framework]\"\nimport type { [Type-Import] } from \"[library]\"\n\n// [Pattern description]\nconst [functionName] = ([params]: [ParamType]) =>\n  [Framework].gen(function* () {\n    // Step 1: [Description]\n    const result = yield* [operation]\n\n    // Step 2: [Description]\n    return yield* [transform](result)\n  })\n```\n\n**Key patterns:**\n- Use [pattern-1] for [use-case-1]\n- Always [requirement] with `[code-example]`\n- Use `.[pipe-operator]` for [composability-note]\n- Use proper [framework] [concept] for [purpose]\n\n### Basic Pattern 2: [Repository/Service Pattern]\n\n```[language]\nimport { [Context], [Framework], [Layer] } from \"[framework]\"\nimport { [Client] } from \"[library]\"\n\n// Define service interface\nclass [ServiceName] extends [Context].Tag(\"[ServiceName]\")<\n  [ServiceName],\n  {\n    [method1]: ([param]: [Type]) => [Framework].[Effect]<[Return], [Error]>\n    [method2]: ([param]: [Type]) => [Framework].[Effect]<[Return]>\n    [method3]: () => [Framework].[Effect]<[ReadonlyArray]<[Type]>>\n  }\n>() {}\n\n// Implement with [Client]\nexport const [ServiceName]Live = [Layer].[effect](\n  [ServiceName],\n  [Framework].gen(function* () {\n    const client = yield* [Client]\n\n    return [ServiceName].of({\n      [method1]: ([param]) =>\n        [Framework].gen(function* () {\n          const result = yield* client.[operation]([args]).[pipe](\n            [Framework].[orDie],\n            [Framework].[flatMap](([value]) =>\n              [condition]\n                ? [Framework].[fail](new [ErrorType]({ [errorProp]: [value] }))\n                : [Framework].[succeed]([value])\n            )\n          )\n\n          return yield* [Schema].[decodeUnknown]([SchemaType])(result)\n        }),\n\n      [method2]: ([param]) =>\n        [Framework].gen(function* () {\n          const id = yield* [generateId]()\n          const now = yield* [DateTime].now\n\n          yield* client.[insert]([data]).[pipe]([Framework].[orDie])\n\n          return yield* [Schema].[decode]([SchemaType])({\n            [prop1]: [value1],\n            [prop2]: [value2],\n          })\n        }),\n\n      [method3]: () =>\n        [Framework].gen(function* () {\n          const results = yield* client.[query]([args]).[pipe]([Framework].[orDie])\n\n          return yield* [Framework].[forEach](\n            results,\n            [Schema].[decodeUnknown]([SchemaType]),\n            { [concurrency]: \"[value]\" }\n          ).[pipe]([Framework].[orDie])\n        }),\n    })\n  })\n)\n```\n\n**Pattern notes:**\n- Use [Context].Tag for service definitions\n- Return [Framework] types with proper error channels\n- Decode ALL [client] results with [Schema]\n- Use [Framework].[orDie] for \"impossible\" errors\n- Use proper error types ([ErrorType]) for expected failures\n\n### Advanced Pattern 1: [Complex Workflow]\n\n```[language]\n// [Description of complex workflow]\nconst [workflowName] = (\n  client: [ClientType],\n  [param1]: [Type1],\n  [param2]: [Type2]\n) =>\n  [Framework].gen(function* () {\n    // Step 1: [Description]\n    const [result1] = yield* client.[operation1]([args]).[pipe]([Framework].[orDie])\n\n    // Step 2: [Conditional logic]\n    if ([condition]) {\n      return yield* [Framework].[fail](\n        new [ErrorType]({ [prop]: [value] })\n      )\n    }\n\n    // Step 3: [Operation]\n    yield* client.[operation2]([args]).[pipe]([Framework].[orDie])\n\n    // Step 4: [Final operation]\n    yield* client.[operation3]([args]).[pipe]([Framework].[orDie])\n\n    return { [successProp]: [value] }\n  }).[pipe](\n    // Wrap in [transaction/context] for [reason]\n    client.[wrapperMethod]\n  )\n```\n\n**Workflow pattern notes:**\n- Use `client.[wrapperMethod]` to wrap [Framework] in [boundary-type]\n- [Technology] automatically [handles] [scenario]\n- Keep [workflows] [constraint] ([example-constraint])\n- Use [alternative] for [use-case]\n\n### Type Safety Pattern: [Schema Validation]\n\n```[language]\n// Define [type] schema\nclass [TypeName] extends [Schema].Class<[TypeName]>(\"[TypeName]\")({\n  [prop1]: [Schema].[Type1],\n  [prop2]: [Schema].[Type2],\n  [prop3]: [Schema].[Type3],\n}) {}\n\n// [Operation] with [client]\nconst [operationName] = (client: [ClientType], [param]: [ParamType]) =>\n  [Framework].gen(function* () {\n    const result = yield* client.[operation]<{ [key]: { [nestedKey]: unknown } }>`\n      [QUERY-SYNTAX]\n      [QUERY-BODY]\n    `.[pipe]([Framework].[orDie])\n\n    // Decode with Schema for type safety\n    return yield* [Schema].[decodeUnknown]([TypeName])(result.[key].[nestedKey]).[pipe](\n      [Framework].[orDie]\n    )\n  })\n```\n\n**Type safety notes:**\n- Use `[Schema].[Class]` for [type] schemas\n- Always decode [source] with `[Schema].[decodeUnknown]`\n- Use proper [Framework] [channel] for [purpose]\n\n## Cross-Reference Guide\n\n### Syntax Reference ‚Üí [tech]-docs\n\nFor complete [Technology] syntax, use [tech]-docs references:\n\n```bash\n# [Category 1]\nrg \"[SYNTAX-1]\\|[SYNTAX-2]\" ../[tech]-docs/references/[category]/\n\n# [Category 2]\nrg \"[FUNCTION-1]\\|[FUNCTION-2]\" ../[tech]-docs/references/[category]/\n\n# [Category 3]\nrg \"[KEYWORD-1]\" ../[tech]-docs/references/[category]/\n```\n\n### Guides ‚Üí [tech]-docs\n\nFor conceptual understanding and best practices:\n\n```bash\n# [Topic 1]\nrg \"[topic-1-keyword]\" ../[tech]-docs/references/guides/ -i -l | head -5\n\n# [Topic 2]\nrg \"[topic-2-keyword]\" ../[tech]-docs/references/guides/ -i -l\n\n# [Topic 3]\nrg \"[topic-3-keyword]\" ../[tech]-docs/references/guides/ -i -l\n```\n\n### Code Examples ‚Üí [tech]-docs\n\nFor working code samples:\n\n```bash\n# [Language] examples\nrg \"[import-pattern]\" ../[tech]-docs/references/samples/ -l\n\n# [Specific pattern] examples\nrg \"[pattern-keyword]\" ../[tech]-docs/references/samples/ -A10\n\n# [Operation] examples\nrg \"[operation-keyword]\" ../[tech]-docs/references/samples/ -A5\n```\n\n## Common Pitfalls & Solutions\n\n### Pitfall 1: [Common Mistake]\n**Problem**: [Description of problem]\n**Solution**: [Description of solution]\n\n```[language]\n// ‚ùå WRONG\n[wrong-code-example]\n\n// ‚úÖ CORRECT\n[correct-code-example]\n```\n\n### Pitfall 2: [Common Error]\n**Problem**: [Error message or scenario]\n**Solution**: [Fix description]\n\n```[language]\n// Problem code\n[problematic-code]\n\n// Fixed code\n[fixed-code]\n```\n\n### Pitfall 3: [Type Safety Issue]\n**Problem**: [Type error scenario]\n**Solution**: [Type-safe approach]\n\n```[language]\n// ‚ùå WRONG - no type safety\nconst [var] = yield* [operation].[pipe]([Framework].[orDie])\n[unsafe-access]  // Runtime error!\n\n// ‚úÖ CORRECT - type-safe with Schema\nconst result = yield* [operation].[pipe]([Framework].[orDie])\nconst [var] = yield* [Schema].[decodeUnknown]([Type])(result.[key]).[pipe]([Framework].[orDie])\n[safe-access]  // Type-safe!\n```\n\n## Production Patterns from [Reference Project]\n\nFor real-world [Framework] + [Technology] patterns, see:\n- `[path/to/services]` - Service implementations\n- `[path/to/client]` - Client configuration\n- `[path/to/tests]` - Test patterns and fixtures\n\n**Key [project] patterns:**\n- Use `[pattern-1]` for [purpose]\n- All [services] return [Framework] types with proper [channels]\n- [Schema] validation on ALL [operations]\n- [Wrapper] with automatic [handling]\n- Test [harness] with [test-pattern]\n\n## Next Steps\n\n1. **First time with [Technology]?** ‚Üí See [tech]-docs skill, run `rg \"[getting-started-keyword]\" ../[tech]-docs/references/guides/ -i -l`\n2. **Need syntax reference?** ‚Üí See [tech]-docs references\n3. **Building a new [service]?** ‚Üí Copy patterns from [reference-project]\n4. **Testing?** ‚Üí See `[path/to/test-harness]` for test patterns\n5. **Advanced [feature]?** ‚Üí See **[tech]-advanced skill** for [advanced-patterns]\n\n**For complete syntax and API reference, always cross-reference the [tech]-docs skill.**\n\n---\n\n## Template Instructions\n\n**Replace the following placeholders:**\n\n- `[TECH]` ‚Üí Technology abbreviation (e.g., \"pg\", \"react\")\n- `[Technology]` ‚Üí Full technology name (e.g., \"PostgreSQL\", \"React\")\n- `[tech]` ‚Üí Lowercase name (e.g., \"postgres\", \"react\")\n- `[Framework]` ‚Üí Framework name (e.g., \"Effect\", \"React\")\n- `[framework]` ‚Üí Lowercase framework (e.g., \"effect\", \"react\")\n- `[language]` ‚Üí Programming language (e.g., \"typescript\", \"python\")\n- `[Pattern Name]` ‚Üí Descriptive pattern name\n- `[Pattern description]` ‚Üí What the pattern does\n- `[functionName]` ‚Üí Example function name\n- `[params]` ‚Üí Function parameters\n- `[ParamType]` ‚Üí Parameter type\n- `[operation]` ‚Üí Framework operation\n- `[transform]` ‚Üí Transform function\n- `[Context]`, `[Layer]`, `[Effect]` ‚Üí Framework concepts\n- `[Client]` ‚Üí Client/library name\n- `[ServiceName]` ‚Üí Service class name\n- `[method1]`, `[method2]`, etc. ‚Üí Service methods\n- `[Type]`, `[Type1]`, etc. ‚Üí Type names\n- `[Error]`, `[ErrorType]` ‚Üí Error types\n- `[Schema]` ‚Üí Schema library\n- `[SchemaType]` ‚Üí Schema type name\n- `[generateId]`, `[DateTime]` ‚Üí Utility functions\n- `[insert]`, `[query]`, etc. ‚Üí Client operations\n- `[SYNTAX-KEYWORD]`, `[FUNCTION-NAME]` ‚Üí Search patterns\n- `[concept]` ‚Üí Core concepts\n- `[pattern-1]`, `[use-case-1]` ‚Üí Pattern descriptions\n- `[key-pattern-1]`, `[key-pattern-2]` ‚Üí Keywords\n- `[category]` ‚Üí Doc category\n- `[topic-1-keyword]`, etc. ‚Üí Topic search terms\n- `[import-pattern]` ‚Üí Import syntax\n- `[operation-keyword]` ‚Üí Operation names\n- `[wrong-code-example]`, `[correct-code-example]` ‚Üí Code examples\n- `[Reference Project]` ‚Üí Reference codebase name\n- `[path/to/services]`, etc. ‚Üí File paths\n- `[getting-started-keyword]` ‚Üí Getting started search term\n\n**Key sections to customize:**\n\n1. **Patterns**: Add 3-5 core patterns for your technology + framework\n2. **Cross-references**: Update grep patterns to match your docs skill\n3. **Pitfalls**: Document common mistakes specific to your technology\n4. **Production patterns**: Reference real codebases using this technology\n5. **Next steps**: Link to docs skill and advanced skills\n\n**Validation:**\n\n1. Test all grep cross-references work (`rg` commands should return results)\n2. Verify relative paths resolve (`../[tech]-docs/references/` exists)\n3. Check skill is < 500 lines\n4. Ensure patterns are complete and runnable\n5. Validate all placeholders are replaced\n\n**Best practices:**\n\n- Keep patterns focused and practical\n- Include both basic and advanced examples\n- Show anti-patterns (‚ùå WRONG) alongside correct patterns (‚úÖ CORRECT)\n- Reference real production codebases\n- Maintain bidirectional cross-links with docs skill\n",
        "plugins/claude-code-meta/skills/claude-code-meta/references/templates/docs-skill-template.md": "---\nskill_name: [TECH]-docs\ndescription: Complete [Technology] documentation reference including guides, samples, and API specifications. Use this skill to look up [Technology] concepts, APIs, syntax, and best practices. Cross-reference with [TECH]-patterns for idiomatic usage.\ntrigger: When working with [Technology], or when needing comprehensive [Technology] documentation\nkeywords: [tech], documentation, guides, samples, [key-feature-1], [key-feature-2]\nversion: 0.1.0\n---\n\n# [Technology] Documentation Reference\n\nThis skill provides complete access to [Technology] documentation, organized for quick discovery via grep patterns and cross-references to application-specific skills.\n\n## Quick Reference Guide\n\n**Finding Documentation:**\n```bash\n# Search for specific concepts\nrg -i \"[concept]\" references/guides/\nrg -i \"[feature]\" references/guides/\n\n# Find code examples\nrg -l \"[pattern]\" references/samples/ | head -5\nrg -l \"[language-specific]\" references/samples/ | head -5\n\n# Find specific API patterns\nrg \"[function-name]\" references/api-reference/\nrg \"[class-name]\" references/api-reference/\n```\n\n## Documentation Structure\n\n### Guides (`references/guides/`)\n\nComprehensive guides covering:\n- **Getting Started**: Initial setup, quickstarts, tutorials\n- **Core Concepts**: Fundamental principles, architecture\n- **Best Practices**: Recommended patterns, optimization\n- **Advanced Topics**: Deep dives, edge cases\n- **Troubleshooting**: Common issues, debugging\n\n**Quick grep patterns for guides:**\n```bash\n# Getting started\nrg \"getting started\\|quickstart\" references/guides/ -i -l | head -5\n\n# Core concepts\nrg \"[core-concept-1]\\|[core-concept-2]\" references/guides/ -i -l\n\n# Best practices\nrg \"best practice\\|recommended\" references/guides/ -i -l\n\n# Troubleshooting\nrg \"troubleshoot\\|debug\\|error\" references/guides/ -i -l\n```\n\n### Samples (`references/samples/`)\n\nCode samples covering:\n- **Basic Examples**: Hello world, simple usage\n- **Common Patterns**: Typical workflows\n- **Integration Examples**: Third-party tools\n- **Advanced Examples**: Complex scenarios\n\n**Quick grep patterns for samples:**\n```bash\n# [Language] examples\nrg \"import\\|require\" references/samples/ -l | head -5\n\n# Specific patterns\nrg \"[pattern-name]\" references/samples/ -l\n\n# Integration examples\nrg \"[integration-keyword]\" references/samples/ -A5\n```\n\n### API Reference (`references/api-reference/`)\n\nComplete API specification covering:\n- Functions and methods\n- Classes and interfaces\n- Configuration options\n- Return types and parameters\n\n**Quick grep patterns for API:**\n```bash\n# Function reference\nrg \"function [function-name]\" references/api-reference/\nrg \"def [function-name]\" references/api-reference/\n\n# Class reference\nrg \"class [ClassName]\" references/api-reference/\n\n# Configuration\nrg \"config\\|option\" references/api-reference/ -i -l\n```\n\n## Cross-References to Application Skills\n\n### [tech]-patterns\n**Use this skill for**: Basic patterns, common workflows, [framework] integration\n\n**When to cross-reference:**\n- Implementing basic features\n- Following common patterns\n- [Framework]-specific integration\n\n### [tech]-advanced\n**Use this skill for**: Advanced patterns, optimization, performance tuning\n\n**When to cross-reference:**\n- Performance optimization\n- Complex architectures\n- Edge cases and gotchas\n\n### [tech]-integration\n**Use this skill for**: Third-party integrations, [ecosystem] patterns\n\n**When to cross-reference:**\n- Integrating with [tool/framework]\n- Multi-service architectures\n- Cross-platform development\n\n## Common Lookup Patterns\n\n### Finding Setup Instructions\n```bash\n# Installation\nrg \"install\\|setup\" references/guides/ -i -l | head -3\n\n# Configuration\nrg \"config\\|configure\" references/guides/ -i -l\n```\n\n### Finding API Documentation\n```bash\n# Specific function\nrg \"[FunctionName]\" references/api-reference/ -A10\n\n# Specific class\nrg \"class [ClassName]\" references/api-reference/ -A20\n```\n\n### Finding Examples\n```bash\n# Working code examples\nrg \"[language-import-keyword]\" references/samples/ -l | head -10\n\n# Specific pattern examples\nrg \"[pattern]\" references/samples/ -A15\n```\n\n### Finding Troubleshooting Info\n```bash\n# Error messages\nrg \"[error-text]\" references/guides/ -i -A5\n\n# Common issues\nrg \"troubleshoot\\|common issue\" references/guides/ -i -l\n```\n\n## Documentation Organization\n\n```\nreferences/\n‚îú‚îÄ‚îÄ guides/          # Complete guides ([N] docs)\n‚îú‚îÄ‚îÄ samples/         # Code samples ([N] docs)\n‚îú‚îÄ‚îÄ api-reference/   # API specifications ([N] docs)\n‚îî‚îÄ‚îÄ resources/       # Additional resources ([N] docs)\n```\n\n**Note**: All categories contain full markdown documentation scraped from official sources.\n\n## Progressive Documentation Discovery\n\n1. **Start with [tech]-docs** for concept understanding\n2. **Cross-reference application skills** for practical patterns\n3. **Use grep patterns** for quick code discovery\n4. **Check samples/** for working code examples\n5. **Consult guides/** for comprehensive explanations\n\n## Troubleshooting Reference\n\n**Common issues and where to look:**\n\n- **Setup errors**: `references/guides/getting-started.md`, `references/guides/installation.md`\n- **API errors**: `references/api-reference/`, `references/guides/error-handling.md`\n- **Performance issues**: `references/guides/optimization.md`, `references/guides/performance.md`\n- **Configuration errors**: `references/guides/configuration.md`, `references/api-reference/config.md`\n- **Integration issues**: `references/guides/integration.md`, `references/samples/integrations/`\n\n## Maintenance Notes\n\n**Scraping status:**\n- ‚úÖ Guides ([N] docs, [SIZE])\n- ‚úÖ Samples ([N] docs, [SIZE])\n- ‚úÖ API reference ([N] docs, [SIZE])\n- ‚úÖ Resources ([N] docs, [SIZE])\n\n**Update frequency**: Documentation should be re-scraped quarterly to capture updates from official sources.\n\n**Grep tips:**\n- Use `-i` for case-insensitive search\n- Use `-l` to list files only (faster discovery)\n- Use `-A5` to show 5 lines after match for context\n- Use `head -5` to limit results for large result sets\n\n---\n\n## Template Instructions\n\n**Replace the following placeholders:**\n\n- `[TECH]` ‚Üí Technology abbreviation (e.g., \"postgres\", \"react\")\n- `[Technology]` ‚Üí Full technology name (e.g., \"PostgreSQL\", \"React\")\n- `[tech]` ‚Üí Lowercase name (e.g., \"postgres\", \"react\")\n- `[concept]` ‚Üí Core concepts (e.g., \"components\", \"hooks\", \"transactions\")\n- `[feature]` ‚Üí Key features (e.g., \"state management\", \"routing\")\n- `[pattern]` ‚Üí Common patterns (e.g., \"async/await\", \"dependency injection\")\n- `[function-name]` ‚Üí Example function (e.g., \"useState\", \"createConnection\")\n- `[class-name]` ‚Üí Example class (e.g., \"Component\", \"Client\")\n- `[ClassName]` ‚Üí PascalCase class name\n- `[language]` ‚Üí Programming language (e.g., \"JavaScript\", \"Python\")\n- `[framework]` ‚Üí Related framework (e.g., \"Next.js\", \"Django\")\n- `[tool/framework]` ‚Üí Integration target\n- `[ecosystem]` ‚Üí Technology ecosystem\n- `[N]` ‚Üí Actual count (e.g., \"328\")\n- `[SIZE]` ‚Üí Actual size (e.g., \"2.5MB\")\n- `[core-concept-1]`, `[core-concept-2]` ‚Üí Replace with actual concepts\n- `[key-feature-1]`, `[key-feature-2]` ‚Üí Replace with key features\n- `[integration-keyword]` ‚Üí Integration-specific terms\n- `[language-import-keyword]` ‚Üí Language-specific imports (e.g., \"import\", \"require\", \"from\")\n- `[language-specific]` ‚Üí Language-specific patterns\n- `[error-text]` ‚Üí Common error messages\n\n**Directory setup:**\n\n```bash\nmkdir -p references/{guides,samples,api-reference,resources}\n```\n\n**Scraping:**\n\nUse the bundled `scripts/firecrawl-scraper.sh` or `scripts/url-extractor.sh` to populate `references/`.\n\n**Validation:**\n\n1. Test all grep patterns return results\n2. Verify relative paths to application skills work\n3. Check skill file is < 500 lines\n4. Ensure cross-references are bidirectional\n\n**Next steps:**\n\n1. Create application skills using `application-skill-template.md`\n2. Create `plugin.json` using `plugin-template.json`\n3. Test composition (load docs + 2 app skills)\n4. Validate grep patterns work from application skills\n"
      },
      "plugins": [
        {
          "name": "claude-code-meta",
          "description": "Meta builders for creating Claude Code skills, plugins, agents, hooks, marketplaces, and slash commands.",
          "keywords": [
            "claude-code",
            "meta",
            "builders",
            "skills",
            "agents",
            "hooks",
            "plugins",
            "marketplaces",
            "slash-commands"
          ],
          "source": "./plugins/claude-code-meta",
          "strict": true,
          "categories": [
            "agents",
            "builders",
            "claude-code",
            "hooks",
            "marketplaces",
            "meta",
            "plugins",
            "skills",
            "slash-commands"
          ],
          "install_commands": [
            "/plugin marketplace add artimath/surf-market",
            "/plugin install claude-code-meta@surf-market"
          ]
        }
      ]
    }
  ]
}