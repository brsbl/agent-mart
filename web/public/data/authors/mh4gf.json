{
  "author": {
    "id": "MH4GF",
    "display_name": "Hirotaka Miyagi",
    "avatar_url": "https://avatars.githubusercontent.com/u/31152321?u=e2c383c466a36a552f5d984fa3b6ed99275267f9&v=4"
  },
  "marketplaces": [
    {
      "name": "issync-plugins",
      "version": null,
      "description": "論点駆動開発のためのツール群(/plan, /compact-progress-document, /create-sub-issue, /complete-sub-issue, /understand-progress)",
      "repo_full_name": "MH4GF/issync",
      "repo_url": "https://github.com/MH4GF/issync",
      "repo_description": null,
      "signals": {
        "stars": 3,
        "forks": 1,
        "pushed_at": "2025-12-29T04:07:50Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"issync-plugins\",\n  \"owner\": {\n    \"name\": \"MH4GF\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"issync\",\n      \"source\": \"./.claude-plugins/issync\",\n      \"description\": \"論点駆動開発のためのツール群(/plan, /compact-progress-document, /create-sub-issue, /complete-sub-issue, /understand-progress)\"\n    }\n  ]\n}\n",
        "README.md": "# issync\n\nCLI tool to sync text between GitHub Issue comments and local files, enabling AI-driven development workflows.\n\n## Overview\n\n`issync` allows AI agents to maintain living documentation (like `plan.md`) in GitHub Issues as a single source of truth. Multiple local sessions (git worktrees, Devin, Claude Code, etc.) can read and write to the same document concurrently without git conflicts.\n\n**Core Features:**\n\n- **Transparent to AI agents**: AI coding agents use normal file operations, issync handles sync in background\n- **Conflict detection**: Hash-based optimistic locking prevents data loss\n- **Watch mode**: Automatic bidirectional sync between local files and GitHub Issue comments\n- **Safety checks**: 3-way comparison on watch startup prevents accidental overwrites\n\n## Installation\n\n```bash\nnpm install -g @mh4gf/issync\n```\n\n**Requirements:**\n\n- Node.js >= 18.0.0\n- GitHub Personal Access Token with `repo` scope\n\n## Quick Start\n\n### 1. Set up GitHub token\n\n```bash\nexport GITHUB_TOKEN=$(gh auth token)  # Using GitHub CLI\n# or\nexport GITHUB_TOKEN=ghp_your_token_here\n```\n\n### 2. Initialize sync\n\n```bash\n# Link a GitHub Issue to a local file\nissync init https://github.com/owner/repo/issues/123 --file docs/plan.md\n\n# Create from template\nissync init https://github.com/owner/repo/issues/123 --file docs/plan.md --template template.md\n```\n\n### 3. Start watch mode\n\n**⚠️ IMPORTANT: Always start watch mode BEFORE editing files**\n\n```bash\nissync watch\n\n# With custom polling interval (default: 60s)\nissync watch --interval 10\n```\n\n### 4. Edit files normally\n\nAI agents and editors can now read/edit the file normally. issync automatically syncs changes.\n\n## Commands\n\n### `issync init <issue-url>`\n\nInitialize sync for a GitHub Issue.\n\n```bash\nissync init https://github.com/owner/repo/issues/123 --file docs/plan.md\n```\n\n**Options:**\n- `--file <path>`: Local file path (default: `.issync/docs/plan-{issue-number}.md`)\n  - Example: For issue #123, the default will be `.issync/docs/plan-123.md`\n  - This allows tracking multiple issues without file name conflicts\n- `--template <path>`: Create file from template if it doesn't exist\n\n**Behavior:**\n- Detects existing issync-managed comments on the Issue and pulls the content\n- Creates a new file from template if no existing comment is found\n- Config is stored in your home directory (global configuration)\n\n### `issync pull`\n\nPull remote changes from GitHub Issue comment to local file.\n\n```bash\nissync pull\n\n# Select specific sync target\nissync pull --file docs/plan.md\nissync pull --issue https://github.com/owner/repo/issues/123\n```\n\n**Options:**\n- `--file <path>`: Select sync target by local file path\n- `--issue <url>`: Select sync target by issue URL\n\n### `issync push`\n\nPush local changes to GitHub Issue comment.\n\n```bash\nissync push\n\n# Force push (skip optimistic lock check)\nissync push --force\n\n# Select specific sync target\nissync push --file docs/plan.md\nissync push --issue https://github.com/owner/repo/issues/123\n```\n\n**Options:**\n- `--file <path>`: Select sync target by local file path\n- `--issue <url>`: Select sync target by issue URL\n- `--force`: Skip optimistic lock check and force overwrite remote changes\n  - ⚠️ **WARNING**: Concurrent remote changes will be permanently lost\n  - Displays warning and asks for confirmation before execution\n  - Use cases:\n    - Resolving conflicts when you're certain local version is correct\n    - Recovering from corrupted remote state\n  - Similar to `git push --force`\n  - **Best practice**: Always verify remote content before using this option\n\n**Example workflow with force:**\n```bash\n# 1. Check remote content first\nissync pull\n\n# 2. Review the changes\ncat docs/plan.md\n\n# 3. If local is correct and you want to overwrite remote\nissync push --force\n```\n\n### `issync open`\n\nOpen the GitHub Issue in your browser for a synced file.\n\n```bash\n# Open issue (auto-select if only one sync)\nissync open\n\n# Select specific sync target\nissync open --file docs/plan.md\nissync open --issue https://github.com/owner/repo/issues/123\n```\n\n**Options:**\n- `-f, --file <path>`: Select sync target by local file path\n- `--issue <url>`: Select sync target by issue URL\n\n**Behavior:**\n- Opens the GitHub Issue URL in your default browser\n- Platform-specific browser commands:\n  - macOS: `open`\n  - Linux: `xdg-open`\n  - Windows: `start`\n- When only one sync exists: Opens immediately\n- When multiple syncs exist: Requires `--file` or `--issue` option\n\n### `issync watch`\n\nStart watch mode (foreground process, press Ctrl+C to stop).\n\n```bash\nissync watch\n\n# Custom polling interval (default: 30s)\nissync watch --interval 10\n\n# Select specific sync target\nissync watch --file docs/plan.md\nissync watch --issue https://github.com/owner/repo/issues/123\n```\n\n**Options:**\n- `--interval <seconds>`: Polling interval in seconds (default: 30, min: 1, max: 3600)\n- `--file <path>`: Select sync target by local file path\n- `--issue <url>`: Select sync target by issue URL\n\n**Watch mode behavior:**\n\n- Polls GitHub Issue comment every 30 seconds (configurable)\n- Watches local file for changes with `chokidar`\n- Automatically syncs changes bidirectionally\n- Safety check on startup: detects conflicts and auto-syncs if only one side changed\n- Supports multiple sync targets: Watches all configured syncs in the selected config\n\n### `issync remove`\n\nRemove a sync configuration from state.yml.\n\n```bash\n# Remove sync by issue URL\nissync remove --issue https://github.com/owner/repo/issues/123\n\n# Remove sync by local file path\nissync remove --file docs/plan.md\n\n# Remove sync and delete the local file\nissync remove --file docs/plan.md --delete-file\n```\n\n**Options:**\n- `-f, --file <path>`: Select sync target by local file path\n- `--issue <url>`: Select sync target by issue URL\n- `--delete-file`: Also delete the local file\n\n**Important notes:**\n- Removal is immediate with no confirmation prompt (recoverable with `issync init`)\n- When watch daemon is running, a warning is displayed but removal proceeds\n- Uses atomic updates to preserve other sync configurations\n\n## Configuration\n\n### Config File Location\n\nissync stores its configuration in your home directory (global configuration). This allows tracking issues across multiple repositories from a single location.\n\n### Config File Format\n\n```yaml\nsyncs:\n  - issue_url: https://github.com/owner/repo/issues/123\n    comment_id: 123456789\n    local_file: docs/plan.md\n    last_synced_hash: abc123def\n    last_synced_at: '2025-10-14T12:00:00.000Z'\n  - issue_url: https://github.com/owner/repo/issues/456\n    comment_id: 987654321\n    local_file: docs/design.md\n    last_synced_hash: def456abc\n    last_synced_at: '2025-10-14T13:00:00.000Z'\n```\n\n### .gitignore\n\nAdd `.issync/` to your project's `.gitignore` to exclude progress documents:\n\n```gitignore\n# issync progress documents (synced via GitHub Issues)\n.issync/\n```\n\n**Note**:\n- Progress documents (`.issync/docs/`) are synced via GitHub Issues and should not be tracked by git\n- The configuration file is in your home directory and doesn't need to be git-ignored\n\n## Workflow for AI Agents\n\n**Recommended workflow in CLAUDE.md or project documentation:**\n\n```bash\n# 1. Set GitHub token\nexport GITHUB_TOKEN=$(gh auth token)\n\n# 2. Start watch mode FIRST (before any edits)\nissync watch\n\n# 3. Then edit files\n# AI agents can now safely read/edit the synced file\n```\n\n**Why this order matters:** The MVP's pull operation overwrites local files. If you edit before starting watch, and the remote is outdated, your changes may be lost.\n\n## How It Works\n\n### issync Comment Identification\n\nissync uses invisible HTML comment markers to identify its managed comments in GitHub Issues:\n\n```markdown\n<!-- issync:v1:start -->\n# Your document content here\n...\n<!-- issync:v1:end -->\n```\n\n**Benefits:**\n- Multiple sessions can discover the same remote comment automatically\n- Markers are invisible in GitHub's rendered UI\n- Version-aware design (`v1`) enables future format upgrades\n- Auto-repair: If markers are accidentally deleted, `push` command restores them\n\n### Conflict Detection (Pull side)\n\nWhen issync pulls remote changes, it updates the local file. If an AI agent's `Edit()` tool tries to modify the file, it will fail because `old_string` no longer matches (the file was updated). The agent naturally re-reads and retries.\n\n### Optimistic Locking (Push side)\n\n1. Local file change detected\n2. Read local file and calculate hash\n3. Fetch remote comment\n4. Compare `last_synced_hash` from state with remote hash\n5. If mismatch → conflict (abort)\n6. If match → update comment, save new hash\n\n### Watch Mode Safety Check\n\nOn watch startup, issync performs a 3-way comparison:\n\n- **Both changed**: Block startup, user must resolve manually\n- **Only local changed**: Auto-push to remote\n- **Only remote changed**: Auto-pull from remote\n- **Neither changed**: Start watching normally\n\n## Limitations (MVP)\n\n- **No merge logic**: Pull overwrites local file completely\n- **Foreground watch**: Daemon mode planned for Phase 2\n- **No section-based merging**: Smart merge strategy planned for Phase 2\n\n## Glossary\n\n### 進捗ドキュメント (Progress Document)\n\nDocuments managed by issync that synchronize bidirectionally between GitHub Issue comments and local files, recording project progress and decisions.\n\n**Characteristics:**\n- Filename pattern: `plan-{number}-{slug}.md` (e.g., `plan-123-watch-daemon.md`)\n- Template: Generated from `docs/progress-document-template.md`\n- Purpose: Recording development progress, architecture decisions, task management, retrospectives\n- Sync destination: GitHub Issue comments (identified by HTML comment markers)\n\n**Aliases/Former names:**\n- Previously called \"plan.md\" but unified to \"progress document\" to avoid confusion with specific filenames (2025-10-21)\n\n**Related terms:**\n- Living documentation: Continuously updated documents\n- Single Source of Truth (SSOT): GitHub Issues as the sole authoritative source\n\n## Development\n\nThis project uses a **bun workspaces** monorepo structure:\n- `packages/cli/` - The issync CLI tool (published to npm as `@mh4gf/issync`)\n- `apps/` - Future: Deployable applications (e.g., orchestrator web app)\n- `internal-packages/` - Future: Shared internal packages\n\nMost development happens in `packages/cli/`. See [CLAUDE.md](./CLAUDE.md) for detailed development setup and architecture.\n\n```bash\n# Install dependencies\nbun install\n\n# Run CLI in development\nbun run dev init <issue-url>\n\n# Run tests\nbun test\n\n# Build for distribution\nbun run build\n```\n\n## License\n\nMIT\n\n## Author\n\nMH4GF\n\n## Links\n\n- [GitHub Repository](https://github.com/MH4GF/issync)\n- [Issue Tracker](https://github.com/MH4GF/issync/issues)\n",
        ".claude-plugins/issync/README.md": "# issync Plugin\n\nGitHub Issue を単一の真実の情報源として、進捗ドキュメントをローカルファイルと双方向同期しながら、AI 駆動開発のワークフロー（plan → implement → retrospective → done）を自動化する Claude Code plugin。issync と連携し、論点駆動開発における進捗ドキュメントの作成・更新・レビュー・圧縮を効率化します。\n\n## Quick Start\n\n### 前提条件\n\n1. **issync CLI**: `npm install -g @mh4gf/issync`\n2. **GitHub CLI (`gh`)**: https://cli.github.com/\n3. **GITHUB_TOKEN**: `export GITHUB_TOKEN=$(gh auth token)` (GitHub Actionsでは自動設定)\n4. **issync watch**: `issync watch` (推奨)\n5. **GitHub Projects統合** (オプション):\n   ```bash\n   # User プロジェクトの場合（デフォルト）\n   export ISSYNC_GITHUB_PROJECTS_NUMBER=1  # プロジェクト番号\n\n   # Organization プロジェクトの場合\n   export ISSYNC_GITHUB_PROJECTS_NUMBER=1  # プロジェクト番号\n   export ISSYNC_GITHUB_PROJECTS_OWNER=organization-name  # 組織名\n   ```\n6. **ラベル自動付与**:\n   - サブissue作成時に`issync:plan`ラベルを常に自動付与\n   - auto-planワークフローが自動実行され、進捗ドキュメントが自動作成される\n\n### インストール\n\n**Claude Code 上で**以下のコマンドを実行します：\n\n1. マーケットプレイスを追加（GitHub から直接）:\n\n   ```\n   /plugin marketplace add MH4GF/issync\n   ```\n\n2. plugin をインストール:\n\n   ```\n   /plugin install issync@issync-plugins\n   ```\n\n3. インストール確認:\n\n   ```\n   /plugin list\n   ```\n\n   `issync` が表示されていれば成功です。\n\n### 最初のコマンド\n\n```bash\n# 新規タスクの進捗ドキュメント作成\n/issync:plan https://github.com/owner/repo/issues/123\n\n# 完了後、進捗ドキュメントをレビューしてStatusを変更\n```\n\n## Workflow Overview\n\nこの plugin は、論点駆動開発のワークフローをサポートする 8 つのコマンドを提供します：\n\n**メインフロー:**\n\n```\n/issync:plan (plan)\n    ↓\n人間のレビュー・承認\n    ↓\n/issync:implement (implement)\n    ↓\nretrospective → done\n```\n\n**横断的オペレーション（どのフェーズでも使用可能）:**\n\n- `/issync:exec`: 「〇〇がしたい」から適切なコマンドを自動選択・実行\n- `/issync:understand-progress`: セッション開始時に進捗ドキュメントを選択・読み込み\n- `/issync:resolve-questions`: Open Questions を解消し Decision Log と Specification を更新\n- `/issync:create-sub-issue`: タスクをサブ issue 化\n- `/issync:complete-sub-issue`: サブ issue 完了を親 issue に反映\n- `/issync:compact-progress-document`: 進捗ドキュメント圧縮（500 行以上で推奨）\n\n## Commands\n\n### `/issync:plan` - 進捗ドキュメント初期作成\n\nGitHub Issueから全コンテキストを自動収集し、進捗ドキュメントを生成（`issync init`、コードベース調査、基本セクション記入、Open Questions精査、Status変更を一括実行）。\n\n**使い方:** `/issync:plan https://github.com/owner/repo/issues/123`\n\n詳細は`commands/plan.md`を参照。\n\n---\n\n### `/issync:compact-progress-document` - 進捗ドキュメント圧縮\n\n情報量を保持したまま文量を削減（重複削減、解決済みOpen Questions整理、完了Phase簡潔化、矛盾検出）。500行以上で推奨。\n\n**使い方:** `/issync:compact-progress-document .issync/docs/plan-123-example.md`\n\n詳細は`commands/compact-progress-document.md`を参照。\n\n---\n\n### `/issync:resolve-questions` - Open Questions 解消\n\nOpen Questionsを解消し、Decision LogとSpecificationを自動更新。ユーザーがARGUMENTS形式で意思決定を入力。\n\n**使い方:** `/issync:resolve-questions Q1-2: 推奨案 Q3: <意思決定内容> Q4: 推奨案`\n\n詳細は`commands/resolve-questions.md`を参照。\n\n---\n\n### `/issync:implement` - 実装フェーズ自動化\n\n進捗ドキュメント内容を理解した上で実装を進め、作業中は常に進捗ドキュメントを更新。\n\n**使い方:** `/issync:implement` | `/issync:implement https://github.com/owner/repo/issues/123` | `/issync:implement 123`\n\n詳細は`commands/implement.md`を参照。\n\n---\n\n### `/issync:exec` - コマンドルーター\n\n「〇〇がしたい」という要望から適切な `/issync:*` コマンドを自動選択・実行。\n\n**使い方:** `/issync:exec 新規タスクを進めたい` | `/issync:exec 既存issueの状況を把握したい`\n\n詳細は`commands/exec.md`を参照。\n\n---\n\n### `/issync:understand-progress` - 進捗ドキュメント読み込み\n\nセッション開始時に、state.ymlから同期中の進捗ドキュメントを選択して読み込み。\n\n**使い方:** `/issync:understand-progress` | `/issync:understand-progress <file_path>`\n\n詳細は`commands/understand-progress.md`を参照。\n\n---\n\n### `/issync:create-sub-issue` - タスクのサブ issue 化\n\n新規タスクをGitHub Issueとして作成し、親issueとのリンクを自動管理。\n\n**使い方:** `/issync:create-sub-issue` (インタラクティブ) | `/issync:create-sub-issue \"タスク1\" \"タスク2\"` (引数)\n\n詳細は`commands/create-sub-issue.md`を参照。\n\n---\n\n### `/issync:complete-sub-issue` - サブ issue 完了\n\nサブissue完了時に親issueの進捗ドキュメントを自動更新し、完了サマリーとFollow-up事項を反映。親issueのコメント欄に完了サマリーを投稿。\n\n**使い方:** `/issync:complete-sub-issue https://github.com/owner/repo/issues/124`\n\n詳細は`commands/complete-sub-issue.md`を参照。\n\n## Appendix\n\n### 詳細なインストール方法\n\n**issyncリポジトリをcloneした場合（開発者向け）:**\n1. `/plugin marketplace add <リポジトリのパス>/.claude-plugins`\n2. `/plugin install issync@issync-plugins`\n3. `/plugin list`で確認\n\n**Plugin更新方法:**\n```bash\n/plugin marketplace update issync-plugins\n/plugin install issync@issync-plugins\n```\n\n### トラブルシューティング\n\n- **pluginが見つからない**: マーケットプレイス名を確認 `issync@issync-plugins`\n- **古いバージョンのまま**: marketplace update → uninstall → install\n- **ローカル開発版**: リポジトリをclone → marketplace add → install（変更後は再インストール）\n\n### Plugin の構造\n\n```\nissync/\n├── .claude-plugin/\n│   └── plugin.json                 # Pluginメタデータ\n├── agents/\n│   └── codebase-explorer.md        # コードベース調査エージェント\n├── commands/\n│   ├── plan.md                     # plan実行コマンド\n│   ├── compact-progress-document.md # 進捗ドキュメント圧縮コマンド\n│   ├── resolve-questions.md        # Open Questions解消コマンド\n│   ├── implement.md                # 実装フェーズ自動化コマンド\n│   ├── exec.md                     # コマンドルーター\n│   ├── understand-progress.md      # 進捗ドキュメント読み込みコマンド\n│   ├── create-sub-issue.md         # タスクのサブissue化コマンド\n│   └── complete-sub-issue.md       # サブissue完了コマンド\n└── README.md                       # このファイル\n```\n\n### Agent Architecture\n\nこの plugin は内部で再利用可能な agent を使用して、複雑なタスクを分解します。\n\n**Commands と Agents の関係:**\n- **Commands**: ユーザー向けワークフローを定義（`/issync:plan` など）\n- **Agents**: Commands が Task tool で呼び出す専門エージェント\n\n**現在の Agent:**\n\n| Agent | 用途 | 呼び出し元 |\n|-------|------|-----------|\n| `codebase-explorer` | 実装パターン、アーキテクチャ、依存関係を調査 | `/issync:plan` ステップ3 |\n\n**Agent の設計原則:**\n- **汎用的なフレームワーク**: 4つの分析観点（Feature Discovery, Code Flow Tracing, Architecture Analysis, Implementation Details）を常に適用\n- **柔軟な調査対象**: 親コマンドが調査対象を指示し、エージェントが適切なフォーカスを判断\n- **並列実行**: 単一メッセージで複数の Task tool 呼び出しにより並列調査が可能\n- **構造化された出力**: 進捗ドキュメントの「Discoveries & Insights」に直接貼り付け可能\n\nAgent は直接呼び出すものではなく、コマンドが内部で Task tool 経由で使用します。\n\n### Plugin 開発\n\nこの plugin を変更するには：\n\n1. コマンドプロンプトを編集:\n   - `/issync:plan`: `commands/plan.md`\n   - `/issync:compact-progress-document`: `commands/compact-progress-document.md`\n   - `/issync:resolve-questions`: `commands/resolve-questions.md`\n   - `/issync:implement`: `commands/implement.md`\n   - `/issync:exec`: `commands/exec.md`\n   - `/issync:understand-progress`: `commands/understand-progress.md`\n   - `/issync:create-sub-issue`: `commands/create-sub-issue.md`\n   - `/issync:complete-sub-issue`: `commands/complete-sub-issue.md`\n2. メタデータを変更する場合は `plugin.json` を更新\n3. ローカルでテスト: `/plugin install issync@issync-plugins` で再インストール\n\n---\n\n## ライセンス\n\nMIT\n\n## 作者\n\nMH4GF\n"
      },
      "plugins": [
        {
          "name": "issync",
          "source": "./.claude-plugins/issync",
          "description": "論点駆動開発のためのツール群(/plan, /compact-progress-document, /create-sub-issue, /complete-sub-issue, /understand-progress)",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add MH4GF/issync",
            "/plugin install issync@issync-plugins"
          ]
        }
      ]
    }
  ]
}