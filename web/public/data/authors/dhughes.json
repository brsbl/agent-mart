{
  "author": {
    "id": "dhughes",
    "display_name": "Doug Hughes",
    "avatar_url": "https://avatars.githubusercontent.com/u/573772?u=1b58e79e9525d9c3bcfcb700703db033acac6e0c&v=4"
  },
  "marketplaces": [
    {
      "name": "doug-marketplace",
      "version": null,
      "description": "Doug's personal Claude Code plugin collection",
      "repo_full_name": "dhughes/claude-marketplace",
      "repo_url": "https://github.com/dhughes/claude-marketplace",
      "repo_description": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-05T12:31:53Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"doug-marketplace\",\n  \"metadata\": {\n    \"description\": \"Doug's personal Claude Code plugin collection\",\n    \"version\": \"1.0.0\"\n  },\n  \"owner\": {\n    \"name\": \"Doug Hughes\",\n    \"email\": \"doug@doughughes.net\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"conversation-history\",\n      \"source\": \"./plugins/conversation-history\",\n      \"description\": \"Persistent conversation indexing and search. Captures all conversations to a local SQLite database with full-text search, enabling discovery and loading of past discussions across projects.\",\n      \"version\": \"1.2.0\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"ezcater-research\",\n      \"source\": \"./plugins/ezcater-research\",\n      \"description\": \"Comprehensive ezCater research toolkit for investigating codebases, architectural decisions, and project histories using Glean, Atlassian, and GitHub\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"tdd-feature-dev\",\n      \"source\": \"./plugins/tdd-feature-dev\",\n      \"description\": \"Invoked BEFORE feature-dev workflows to establish TDD practices. Ensures tests are written early and planned as explicit, separate TODO items alongside implementation.\",\n      \"version\": \"0.2.0\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"pr-best-practices\",\n      \"source\": \"./plugins/pr-best-practices\",\n      \"description\": \"Enforces PR best practices: include ticket numbers, always create as draft, and use GitHub PR templates when available\",\n      \"version\": \"0.2.1\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"statusline\",\n      \"source\": \"./plugins/statusline\",\n      \"description\": \"Modular, pluggable statusline system with automatic component discovery and configuration. Displays model name with context usage percentage. Enable/disable components globally or per-project, control display order, add custom components.\",\n      \"version\": \"0.13.0\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"atlassian-cli\",\n      \"source\": \"./plugins/atlassian-cli\",\n      \"description\": \"Interact with Jira and Confluence using the atl CLI tool for searching, reading, creating, and managing tickets and documentation\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"ci-monitor\",\n      \"source\": \"./plugins/ci-monitor\",\n      \"description\": \"Monitor GitHub PR CI/CD checks until completion with audio notification via text-to-speech\",\n      \"version\": \"1.0.1\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"safe-gcloud\",\n      \"source\": \"./plugins/safe-gcloud\",\n      \"description\": \"Restricts gcloud CLI access to explicitly permitted commands via project-specific allowlist\",\n      \"version\": \"1.2.0\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    },\n    {\n      \"name\": \"google-cloud-build-monitor\",\n      \"source\": \"./plugins/google-cloud-build-monitor\",\n      \"description\": \"Monitor and analyze Google Cloud Build executions with automatic failure diagnosis and audio notifications\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"Doug Hughes\"\n      }\n    }\n  ]\n}\n",
        "README.md": "# Doug's Claude Code Marketplace\n\nPersonal collection of Claude Code plugins for productivity and workflow enhancement.\n\n## Installation\n\nAdd this marketplace to your Claude Code installation:\n\n```bash\n# From GitHub (when published)\n/plugin marketplace add doughughes/claude-marketplace\n\n# From local path (for development)\n/plugin marketplace add ~/code/doug/claude-marketplace\n```\n\n## Available Plugins\n\n### conversation-index\n\nFast full-text search across all your Claude Code conversation history using SQLite FTS5.\n\n**Features:**\n- Automatic background indexing via hooks\n- Fast FTS5-powered search (milliseconds even with thousands of conversations)\n- Idempotent indexing (safe to run multiple times)\n- Works across all projects\n- Session IDs with timestamps and previews\n\n**Install:**\n```bash\n/plugin install conversation-index@doug-marketplace\n```\n\n**Usage:**\nJust ask Claude to search:\n- \"When did we discuss auto compensation?\"\n- \"Find conversations about zeebe workers\"\n- \"Search for phase 2 tickets\"\n\nOr use the search script directly:\n```bash\n~/.claude/plugins/conversation-index/scripts/search.sh \"search term\"\n```\n\n**Requirements:**\n- `sqlite3` (pre-installed on macOS/Linux)\n- `jq` (install: `brew install jq`)\n\n### conversation-loader\n\nLoad the full content of previous Claude Code conversations into current context.\n\n**Features:**\n- Resume previous conversations with full context\n- Works with conversation IDs from conversation-index\n- Loads complete conversation history including code and artifacts\n\n**Install:**\n```bash\n/plugin install conversation-loader@doug-marketplace\n```\n\n**Usage:**\n```\nYou: \"Load conversation abc-123-def\"\n```\n\n### ezcater-research\n\nComprehensive ezCater research toolkit for investigating codebases, architectural decisions, and project histories.\n\n**Features:**\n- Deep research agent (Opus) for complex multi-source investigations\n- Lightweight research skill for straightforward searches\n- Integrates with Glean, Atlassian (Jira/Confluence), GitHub, and Git\n- Comprehensive documentation with working examples\n- 4 detailed reference guides (Glean, atl CLI, gh CLI, git analysis)\n- 3 complete research workflow examples\n\n**Install:**\n```bash\n/plugin install ezcater-research@doug-marketplace\n```\n\n**Usage:**\nFor deep research:\n- \"Do deep research on why Liberty uses Omnichannel for feature flags\"\n- \"I need deep research on how seeders work in DM-rails\"\n\nFor lighter research:\n- \"Find recent PRs about order management in ez-rails\"\n- \"What's the history of the authentication refactor?\"\n- \"How does the order state machine work?\"\n\n**Requirements:**\n- Glean MCP server (for ezCater internal docs)\n- `atl` CLI (for Jira/Confluence access)\n- `gh` CLI (for GitHub operations)\n- `git` (for code history analysis)\n\n### tdd-feature-dev\n\nAugments feature development workflows with test-driven development practices. Ensures tests are written early and explicitly planned as separate TODO items.\n\n**Features:**\n- Automatically composes with feature-dev workflows\n- Tests as explicit, separate TODO items (not buried in implementation)\n- TDD-ish approach: tests written alongside code\n- Strong emphasis on testing behavior, not implementation\n- Never test private functions\n- 80% test coverage target\n- Project-agnostic (works with any testing framework)\n\n**Install:**\n```bash\n/plugin install tdd-feature-dev@doug-marketplace\n```\n\n**Usage:**\nThe skill automatically loads when you're implementing features:\n```\n/feature-dev Add user authentication\n```\n\nThe TDD skill will compose with feature-dev, ensuring:\n- Tests are added as explicit TODO items\n- Tests are written before/alongside implementation\n- Tests focus on behavior and public APIs\n- Coverage targets are met\n\n**Trigger phrases:**\n- \"implement a feature\"\n- \"build new functionality\"\n- \"add a feature\"\n- Any use of `/feature-dev`\n\n## Development\n\n### Structure\n\n```\nclaude-marketplace/\n├── .claude-plugin/\n│   └── marketplace.json       # Marketplace manifest\n├── plugins/\n│   └── conversation-index/    # Individual plugins\n└── README.md\n```\n\n### Adding Plugins\n\n1. Create plugin directory under `plugins/`\n2. Add plugin manifest at `plugins/<name>/.claude-plugin/plugin.json`\n3. Update `marketplace.json` to reference the new plugin\n4. Commit and push\n\n### Testing Locally\n\n```bash\n# Add marketplace from local path\n/plugin marketplace add ~/code/doug/claude-marketplace\n\n# Install plugin for testing\n/plugin install conversation-index@doug-marketplace --scope local\n\n# Remove when done\n/plugin uninstall conversation-index\n```\n\n## License\n\nMIT\n\n## Author\n\nDoug Hughes (doug.hughes@ezcater.com)\n",
        "plugins/ezcater-research/README.md": "# ezCater Research Plugin\n\nComprehensive research toolkit for investigating ezCater codebases, architectural decisions, and project histories.\n\n## Overview\n\nThis plugin provides both autonomous deep research capabilities (agent) and lightweight research methodology (skill) for understanding ezCater systems. It integrates with multiple data sources including Glean, Atlassian (Jira/Confluence), GitHub, and Git to provide comprehensive context about code, decisions, and project evolution.\n\n## Features\n\n- **Deep Research Agent**: Autonomous Opus-powered agent for complex, multi-source investigations\n- **Research Skill**: Lightweight methodology for common research tasks using main Claude\n- **Multi-Source Integration**: Glean, atl CLI, gh CLI, and git history analysis\n- **Comprehensive Methodology**: Proven patterns for architectural decisions, code evolution, and process understanding\n\n## Prerequisites\n\n### Required\n\n1. **Glean MCP Server**: Must be configured for ezCater instance\n   - Provides access to internal documentation, Slack, Google Docs, etc.\n   - Cannot access Google Docs directly - must use Glean\n\n2. **atl CLI**: Atlassian command-line tool\n   - Install: Follow Atlassian documentation\n   - Configure with ezCater credentials\n   - Used for all Jira and Confluence access\n   - Cannot access ezcater.atlassian.net directly - must use atl\n\n3. **gh CLI**: GitHub command-line tool\n   - Install: `brew install gh` (macOS) or see GitHub docs\n   - Authenticate: `gh auth login`\n   - Used for PR search, issue lookup, etc.\n\n4. **git**: Standard git installation\n   - Used for history analysis, blame, log, etc.\n\n## Installation\n\n### From Marketplace\n\n```bash\nclaude install ezcater-research\n```\n\n### Local Development\n\n```bash\ncd /path/to/claude-marketplace/plugins/ezcater-research\nclaude --plugin-dir .\n```\n\n## Usage\n\n### Deep Research (Agent)\n\nFor complex investigations requiring synthesis across multiple sources:\n\n```\nYou: \"Can you do some deep research on why Liberty uses Omnichannel for feature flags?\"\n```\n\nThe agent will:\n- Search Glean for design docs and discussions\n- Query Jira for related tickets using atl CLI\n- Find relevant PRs using gh CLI\n- Analyze git history for implementation details\n- Synthesize findings into comprehensive report\n\n**When to use deep research:**\n- Architectural decision investigations\n- Code evolution analysis requiring context\n- Multi-system integration understanding\n- Historical context for current implementations\n\n### Lightweight Research (Skill)\n\nFor straightforward research tasks:\n\n```\nYou: \"Find recent PRs about order management in ez-rails\"\n```\n\nMain Claude follows research methodology:\n- Uses appropriate tools (Glean, atl, gh, git)\n- Applies search strategies\n- Stays in current conversation context\n\n**When to use regular research:**\n- Specific PR/ticket lookups\n- Recent code changes\n- Single-source investigations\n- Follow-up questions on existing research\n\n## Components\n\n### Agent: ezcater-research-analyst\n\nAutonomous research specialist using Opus model. Triggers on \"deep research\" keyword.\n\n**Tools**: Bash, Glob, Grep, Read, WebFetch, TodoWrite, Glean MCP, atl CLI, gh CLI\n\n**Best for**: Complex multi-source investigations requiring synthesis\n\n### Skill: ezcater-research\n\nResearch methodology and techniques for ezCater systems.\n\n**Includes**:\n- Glean search strategies\n- Atlassian CLI usage patterns\n- GitHub/Git analysis techniques\n- Information synthesis and reporting\n\n**Best for**: Lighter research where main Claude follows methodology\n\n## Research Patterns\n\n### Architectural Decisions\n\n\"Why was X chosen over Y?\"\n\n1. Search Glean for design docs, RFCs, ADRs\n2. Find Jira epic/tickets using atl CLI\n3. Locate implementation PRs with gh CLI\n4. Review git history for context\n\n### Code Evolution\n\n\"How did feature X evolve over time?\"\n\n1. Use git log --follow for file history\n2. Find related PRs with gh CLI\n3. Search Glean for related discussions\n4. Check Jira for feature requests/bugs using atl\n\n### Process Understanding\n\n\"How do I get an order to state X?\"\n\n1. Search Glean for process documentation\n2. Find related code with Grep/Glob\n3. Check Confluence docs using atl CLI\n4. Locate workflow diagrams/specs\n\n## Examples\n\nSee `skills/ezcater-research/examples/` for detailed research scenarios:\n\n- `architectural-decision.md`: Investigating technology choices\n- `code-evolution.md`: Tracing feature implementation\n- `process-understanding.md`: Understanding workflows\n\n## Limitations\n\n- **No direct Google Docs access**: Must use Glean MCP\n- **No direct Atlassian web access**: Must use atl CLI\n- **Requires ezCater context**: Not useful outside ezCater\n- **Depends on external tools**: Glean, atl, gh must be configured\n\n## Troubleshooting\n\n**\"Permission denied\" errors**:\n- Check atl CLI authentication: `atl me`\n- Check gh CLI authentication: `gh auth status`\n- Verify Glean MCP server is running\n\n**Agent not triggering**:\n- Use explicit \"deep research\" keyword\n- Check agent is enabled in Claude Code settings\n\n**Skill not providing enough detail**:\n- Use deep research agent for complex investigations\n- Check references/ directory for detailed guides\n\n## Contributing\n\nThis plugin is specific to ezCater infrastructure. For internal improvements:\n\n1. Test changes locally with `claude --plugin-dir .`\n2. Update version in plugin.json\n3. Document changes in this README\n4. Submit PR to marketplace repository\n\n## License\n\nMIT\n",
        "plugins/tdd-feature-dev/README.md": "# TDD Feature Development Plugin\n\nAugments feature development workflows in Claude Code with test-driven development (TDD) best practices. Ensures tests are written early, explicitly planned as separate TODO items, and integrated throughout the development lifecycle.\n\n## Overview\n\nThis plugin provides a skill that automatically composes with feature development workflows (like `feature-dev:feature-dev`) to inject TDD principles. Instead of treating tests as an afterthought or final step, this skill ensures testing is a first-class activity throughout feature implementation.\n\n## What It Does\n\nWhen you're implementing features, this skill automatically ensures:\n\n1. **Tests are explicit TODO items** - Each test-writing task is tracked separately, not buried in implementation steps\n2. **Tests are written early** - Tests are written alongside code using a TDD-ish approach, not all at the end\n3. **Tests focus on behavior** - Emphasizes testing features and public APIs, not implementation details or private functions\n4. **Coverage targets are met** - Aims for 80% test coverage as a quality baseline\n\n## When It Activates\n\nThis skill automatically loads when you:\n- Ask to \"implement a feature\" or \"build new functionality\"\n- Invoke the `/feature-dev` command\n- Discuss feature development workflows\n- Create implementation plans or TODO lists\n\nThe skill composes with other feature development tools, augmenting them with testing best practices.\n\n## Core Principles\n\n### Write Tests Early\n\nTests are written **alongside** implementation, not as a final step. For core business logic:\n1. Design the interface/API\n2. Write the test for expected behavior\n3. Implement the functionality\n4. Refactor if needed\n5. Move to next feature\n\n### Tests as Separate TODO Items\n\n**Wrong:**\n```\n- Implement user authentication (including tests)\n- Add password hashing\n```\n\n**Right:**\n```\n- Design user authentication interface\n- Write tests for user authentication\n- Implement user authentication\n- Write tests for password hashing\n- Add password hashing\n- Run all tests and verify 80% coverage\n```\n\n### Test Behavior, Not Implementation\n\n**Critical:** Tests should verify **WHAT** the code does (features/behavior), not **HOW** it does it (implementation).\n\n- ✅ Test that `authenticateUser()` returns a valid token for correct credentials\n- ❌ Test that `authenticateUser()` calls specific internal helper methods\n\n### Don't Test Private Functions\n\n**Never write tests for private/internal functions.** Test only the public API. If a private function feels like it needs tests, that's a design smell—consider extracting it as a public module or ensuring the public API tests all its behaviors.\n\n### Aim for 80% Coverage\n\nTarget 80% code coverage as a quality baseline without requiring 100% coverage on trivial code.\n\n## Integration with Feature Development\n\n### Phase 1: Discovery\n- Consider what behaviors need testing\n- Identify edge cases requiring test coverage\n- Evaluate solution testability\n\n### Phase 4: Architecture Design\n- Prefer testable architectures\n- Ensure dependencies can be mocked\n- Isolate core logic for unit testing\n\n### Phase 5: Implementation\n**This is where the skill has the most impact:**\n- Breaks features into implementation + test pairs\n- Creates separate TODO items for each test\n- Places test items before/alongside implementation items\n- Includes final TODO for running tests and checking coverage\n\n### Phase 6: Quality Review\n- Verifies tests exist for all new functionality\n- Checks edge case and error condition coverage\n- Validates 80% test coverage target\n- Confirms tests focus on behavior, not implementation\n\n## Project-Agnostic\n\nThis skill is **project-agnostic** and works with any testing framework:\n- Doesn't specify how to run tests (pytest, npm test, etc.)\n- Doesn't dictate test file locations\n- Doesn't prescribe testing frameworks\n\nIt focuses on the **principles** of when and what to test, not the mechanics.\n\n## Example TODO List\n\nWhen implementing a new API endpoint, the skill ensures your TODO list looks like:\n\n```\n✓ Understand requirements and existing patterns\n✓ Design endpoint interface and response schema\n⊙ Write tests for successful request case\n⊙ Write tests for validation errors\n⊙ Write tests for authentication failures\n○ Implement endpoint handler\n○ Run tests and verify they pass\n○ Review code quality\n```\n\nNotice how test-writing is **explicit, visible, and tracked** throughout implementation.\n\n## Installation\n\nInstall from the marketplace:\n\n```bash\n/plugins install tdd-feature-dev\n```\n\nOr manually:\n\n```bash\ngit clone <marketplace-url>\ncp -r plugins/tdd-feature-dev ~/.claude/plugins/\n```\n\n## Usage\n\nSimply use feature development workflows as normal:\n\n```bash\n/feature-dev Add user authentication to the API\n```\n\nThe TDD skill will automatically compose with feature-dev, ensuring testing best practices are followed throughout.\n\n## Benefits\n\n- **Higher code quality** - Tests catch bugs early\n- **Better design** - Testable code is usually better designed\n- **Explicit tracking** - Tests aren't forgotten or delayed\n- **Maintainability** - Behavior-focused tests survive refactoring\n- **Confidence** - 80% coverage provides quality baseline\n\n## License\n\nMIT\n\n## Author\n\nDoug Hughes (doug.hughes@ezcater.com)\n\n## Version\n\n0.1.0\n",
        "plugins/pr-best-practices/README.md": "# PR Best Practices Plugin\n\nEnforces pull request best practices in Claude Code by automatically applying preferred workflows when creating PRs.\n\n## Features\n\n- **Include ticket numbers**: Automatically detects and includes ticket numbers from Jira or GitHub Issues in PR title and body\n- **Always create PRs as drafts**: PRs are created with the `--draft` flag by default, allowing review before marking ready\n- **Use PR templates**: Automatically checks for and uses GitHub PR templates from `.github/` directory\n\n## Installation\n\n```bash\n# From this marketplace\nclaude plugin install pr-best-practices@claude-marketplace --scope user\n```\n\n## Usage\n\nThe plugin works automatically. When you ask Claude to create or open a pull request, the skill activates and ensures:\n\n1. Claude detects ticket numbers from:\n   - Conversation context (tickets mentioned in discussion)\n   - Branch name (e.g., `MSI-608/zendesk2`, `feature/PROJ-123-description`, `456-fix-bug`)\n   - Commit messages\n   - Asks you if no ticket is found\n\n2. Ticket is added to PR title: `[MSI-608] Add Zendesk integration`\n\n3. Ticket is linked in PR body (when URL can be determined from context or project configuration)\n\n4. Claude checks for PR templates in standard locations:\n   - `.github/pull_request_template.md`\n   - `.github/PULL_REQUEST_TEMPLATE.md`\n   - `.github/PULL_REQUEST_TEMPLATE/*.md`\n\n5. The PR is created as a draft using `gh pr create --draft`\n\n### Examples\n\nSimply ask Claude:\n- \"Create a PR for this branch\"\n- \"Open a pull request\"\n- \"Make a PR with these changes\"\n\nThe plugin will automatically apply the best practices.\n\n## How It Works\n\nThe plugin provides a skill that Claude automatically invokes when you request PR creation. The skill teaches Claude to:\n- Detect and include ticket numbers from multiple sources (context, branch name, commits)\n- Format PR titles with ticket references: `[TICKET] Title`\n- Link tickets in PR body when URL can be determined\n- Look for PR templates in your repository\n- Always use the `--draft` flag when creating PRs\n- Follow GitHub best practices for pull requests\n\n### Ticket URL Detection\n\nThe plugin determines ticket URLs from:\n- Project CLAUDE.md files (Jira base URL, project configuration)\n- Git remote URLs (for GitHub issues)\n- Conversation context and project knowledge\n- Project configuration files\n\n## Version\n\n0.2.0\n",
        "plugins/statusline/README.md": "# Statusline Plugin\n\nA modular, pluggable statusline system for Claude Code that allows context-aware customization of your status line.\n\n## Overview\n\nThis plugin provides a flexible statusline system where you can customize what information appears based on your context (work, side projects, personal projects).\n\n## Installation\n\nInstall the plugin from the marketplace:\n\n```bash\nclaude plugin install statusline@doug-marketplace --scope user\n```\n\n## Usage\n\n### Install Statusline\n\nRun the installation command to configure Claude Code to use the statusline:\n\n```bash\n/statusline:install-statusline\n```\n\nThis command will:\n1. Check if you have an existing statusline configuration\n2. Update your `~/.claude/settings.json` to use the statusline script\n3. Confirm successful installation\n\n### Current Status (v0.13.0)\n\nCurrent features:\n- **Automatic component discovery** from multiple sources (built-in, personal, plugin-contributed, project-specific)\n- **Global and project-level configuration** - Enable/disable components and control display order\n- **Interactive configuration** via `/statusline:configure` skill\n- Component namespacing (builtin:, personal:, project:, plugin-name:)\n- Installs the statusline entry point with version-agnostic configuration\n- Displays workspace directory as a clickable hyperlink (opens in Finder/file browser)\n  - Shows current directory in parentheses if different from workspace\n- Shows current git branch (or \"N/A\" in muted gray if not in a git repo)\n- Displays current AI model with context usage percentage (e.g., \"Opus (42%)\")\n- **Personal components**: Add custom statusline components without creating a plugin\n- **Plugin extensibility**: Other plugins can contribute statusline components automatically\n- Modular architecture with standalone component scripts\n- Comprehensive unit test coverage (30+ tests)\n- Supports macOS (Intel & Apple Silicon) and Linux (amd64 & arm64)\n\nFuture versions will add:\n- Additional built-in components (GitHub PR, Jira tickets, kubectl, tilt, usage stats, etc.)\n- Natural language component reordering\n- Component metadata and descriptions\n\n## Configuration\n\nThe statusline plugin supports both global and project-level configuration to control which components appear and in what order.\n\n### Quick Start: Interactive Configuration\n\nRun the configuration skill to interactively configure your statusline:\n\n```bash\n/statusline:configure\n```\n\nThis will:\n1. Discover all available components\n2. Show current configuration\n3. Let you select which components to enable\n4. Choose global or project scope\n5. Write the configuration file\n\n### Configuration Files\n\n**Global Configuration:** `~/.claude/statusline-components/statusline.json`\n\nControls which components are enabled across all projects:\n\n```json\n{\n  \"add\": [\n    \"builtin:directory\",\n    \"builtin:git-branch\",\n    \"builtin:model\",\n    \"personal:kubectl-status\"\n  ]\n}\n```\n\n**Project Configuration:** `{workspace}/.claude/statusline-components/statusline.json`\n\nModifies global configuration for a specific project:\n\n```json\n{\n  \"add\": [\"project:deployment-env\"],\n  \"remove\": [\"personal:kubectl-status\"],\n  \"sort\": [\"builtin:directory\", \"project:deployment-env\", \"builtin:git-branch\"]\n}\n```\n\n### Configuration Schema\n\n#### Global Config\n\n```json\n{\n  \"add\": [\"component:id\", ...]\n}\n```\n\n- `add`: Array of component IDs to enable (in display order)\n- Components not in the list are disabled globally\n- Array order determines display order\n\n#### Project Config\n\n```json\n{\n  \"add\": [\"component:id\", ...],\n  \"remove\": [\"component:id\", ...],\n  \"sort\": [\"component:id\", ...]\n}\n```\n\n- `add`: Additional components to enable for this project (appended to global)\n- `remove`: Components to disable for this project (filtered from global)\n- `sort`: (Optional) Explicit display order - components in this array appear first, remaining follow in original order\n\n### How Configuration is Applied\n\n1. Start with `global.add` (or all discovered if no global config)\n2. Append `project.add`\n3. Remove items in `project.remove`\n4. If `project.sort` exists, apply partial/full reordering\n5. Execute components in final order\n\n### Component Namespaces\n\nComponents are identified by `namespace:name`:\n\n- `builtin:directory` - Built-in component from statusline plugin\n- `personal:my-component` - From `~/.claude/statusline-components/`\n- `project:deployment-env` - From `{workspace}/.claude/statusline-components/`\n- `plugin-name:component` - From another plugin's statusline-components\n\n### Examples\n\n**Example 1: Enable only directory and git branch globally**\n\n`~/.claude/statusline-components/statusline.json`:\n```json\n{\n  \"add\": [\"builtin:directory\", \"builtin:git-branch\"]\n}\n```\n\n**Example 2: Add project-specific component and remove kubectl**\n\n`~/.claude/statusline.local.json`:\n```json\n{\n  \"add\": [\"project:deployment-env\"],\n  \"remove\": [\"personal:kubectl-status\"]\n}\n```\n\nResult: `[directory, git-branch, deployment-env]`\n\n**Example 3: Custom sort order with deployment-env first**\n\n`~/.claude/statusline.local.json`:\n```json\n{\n  \"add\": [\"project:deployment-env\"],\n  \"sort\": [\"project:deployment-env\", \"builtin:directory\"]\n}\n```\n\nResult: `[deployment-env, directory, git-branch, ...]`\n\n### Manual Configuration\n\nYou can manually edit the JSON files to:\n- Reorder components (edit array order)\n- Add/remove components\n- Create project-specific configurations\n\nChanges take effect after restarting Claude Code.\n\n### No Configuration = All Components\n\nIf no configuration files exist, all discovered components are enabled and displayed in alphabetical order.\n\n## Component System\n\nThe statusline uses an automatic discovery system to find and execute components from multiple sources.\n\n### Component Discovery Sources\n\nComponents are discovered and executed from these sources:\n\n1. **Built-in Components** (namespace: `builtin:`)\n2. **Personal Components** (namespace: `personal:`) from `~/.claude/statusline-components/`\n3. **Plugin-Contributed Components** (namespace: `plugin-name:`) from other installed plugins\n4. **Project-Specific Components** (namespace: `project:`) from `{workspace}/.claude/statusline-components/`\n\nEach component gets a namespaced ID (e.g., `builtin:git-branch`, `personal:my-component`) that allows you to configure specific instances via the configuration system.\n\n### Built-in Components\n\nThe plugin includes these built-in components:\n\n- **directory**: Shows workspace directory as a clickable hyperlink\n- **git-branch**: Displays current git branch (or \"N/A\" if not in a repo)\n- **model**: Shows the current AI model being used with context usage percentage (e.g., \"Opus (42%)\")\n\nBuilt-in components are wrapper scripts in `scripts/components/` that invoke compiled Go binaries.\n\n### Personal Components\n\nYou can add custom statusline components without creating a plugin.\n\n**Location:** `~/.claude/statusline-components/`\n\n**Requirements:**\n- File must be executable (`chmod +x`)\n- Must output JSON to stdout: `{\"label\": \"Label\", \"value\": \"value\"}`\n- Can read JSON context from stdin (optional)\n- Exit 0 on success, non-zero to skip the component\n\n**Example - Shell Script:**\n\n```bash\n#!/bin/bash\n# ~/.claude/statusline-components/jira-ticket.sh\n\nBRANCH=$(git branch --show-current 2>/dev/null || echo \"\")\nTICKET=$(echo \"$BRANCH\" | grep -oE '[A-Z]+-[0-9]+' || echo \"\")\n\nif [ -n \"$TICKET\" ]; then\n  echo \"{\\\"label\\\":\\\"Ticket\\\",\\\"value\\\":\\\"$TICKET\\\"}\"\nelse\n  echo \"{}\"  # Empty output = skip this component\nfi\n```\n\n**Example - Python Script:**\n\n```python\n#!/usr/bin/env python3\n# ~/.claude/statusline-components/aws-profile.py\n\nimport os\nimport json\n\nprofile = os.environ.get('AWS_PROFILE', 'N/A')\nprint(json.dumps({\"label\": \"AWS\", \"value\": profile}))\n```\n\n**Ordering:**\n- Components are sorted alphabetically by filename\n- Use numeric prefixes for custom ordering: `10-ticket.sh`, `20-aws.sh`, `30-custom.sh`\n\n### Plugin-Contributed Components\n\nOther plugins can contribute statusline components by including a `statusline-components/` directory.\n\n**Plugin Structure:**\n```\nmy-plugin/\n├── .claude-plugin/\n│   └── plugin.json\n├── statusline-components/\n│   ├── my-component.sh\n│   └── another-component.py\n└── ... (other plugin files)\n```\n\n**Discovery:**\n- Statusline automatically scans all installed plugins\n- Finds executables in `statusline-components/` directories\n- No registration or configuration needed\n- Components appear when plugin installed, disappear when uninstalled\n\n**Example Plugin Component:**\n\n```bash\n#!/bin/bash\n# plugins/my-plugin/statusline-components/custom-metric.sh\n\nMETRIC=$(get-my-metric)  # Your custom logic\n\necho \"{\\\"label\\\":\\\"Metric\\\",\\\"value\\\":\\\"$METRIC\\\"}\"\n```\n\n### Project-Specific Components\n\nProjects can define their own statusline components in the workspace's `.claude` directory.\n\n**Location:** `{workspace}/.claude/statusline-components/`\n\n**Use Cases:**\n- Project-specific metrics or status indicators\n- Custom tooling specific to one codebase\n- Override personal or plugin components for this project only\n\n**Example:**\n\n```bash\n#!/bin/bash\n# .claude/statusline-components/deployment-env.sh\n\n# Show which deployment environment this project uses\nif [ -f \".env\" ]; then\n  ENV=$(grep \"^DEPLOY_ENV=\" .env | cut -d= -f2)\n  echo \"{\\\"label\\\":\\\"Env\\\",\\\"value\\\":\\\"$ENV\\\"}\"\nelse\n  echo \"{}\"\nfi\n```\n\n**Note:** Project-specific components are ideal for:\n- Team-shared components (committed to version control)\n- Project-specific context (deployment env, service status, etc.)\n- Temporary debugging components for active development\n\n### Component Protocol\n\nAll components (built-in, personal, plugin-contributed, and project-specific) use the same protocol:\n\n**Input (via stdin):**\n```json\n{\n  \"workspaces\": [...],\n  \"model\": \"...\",\n  ...\n}\n```\n\n**Output (via stdout):**\n```json\n{\n  \"label\": \"Label\",\n  \"value\": \"value\"\n}\n```\n\n**Exit codes:**\n- `0`: Success (component output will be displayed)\n- Non-zero: Component will be skipped silently\n\n## Requirements\n\n- Claude Code with native statusline support\n- Supported platforms: macOS, Linux (Windows support planned)\n\n## Development\n\n### Building from Source\n\nThe plugin includes pre-compiled binaries, but you can rebuild if needed:\n\n```bash\ncd plugins/statusline\nmake all\n```\n\nRequires Go 1.21 or later.\n\n### Running Tests\n\nRun all tests (unit + integration):\n\n```bash\nmake test\n```\n\nOr run individually:\n```bash\nmake test-go           # Unit tests only\nmake test-integration  # Integration test only\n```\n\n## License\n\nMIT\n",
        "plugins/safe-gcloud/README.md": "# safe-gcloud\n\nA Claude Code plugin that restricts `gcloud` CLI access to explicitly permitted commands via a project-specific allowlist.\n\n## Purpose\n\nThis plugin implements a deny-by-default security model for Google Cloud CLI access:\n\n1. **Blocks all direct `gcloud` commands** - A PreToolUse hook intercepts any Bash command using `gcloud` and rejects it\n2. **Provides a restricted wrapper** - The `safe-gcloud` wrapper only executes commands matching patterns in the project's allowlist\n3. **Per-project configuration** - Each project defines its own allowlist in `.claude/gcloud-allowlist.json`\n\n## Installation\n\nInstall from the claude-marketplace:\n\n```bash\nclaude plugin install safe-gcloud@doug-marketplace\n```\n\n## Configuration\n\nCreate `.claude/gcloud-allowlist.json` in your project root with an array of permitted command patterns:\n\n```json\n[\n  \"projects list:*\",\n  \"config get-value:*\",\n  \"auth list\",\n  \"compute instances list:*\"\n]\n```\n\n### Pattern Syntax\n\n| Pattern | Matches | Does Not Match |\n|---------|---------|----------------|\n| `projects list` | Exactly `gcloud projects list` (no args) | `gcloud projects list --format=json` |\n| `projects list:*` | `gcloud projects list` with any args/flags | `gcloud projects describe myproject` |\n| `projects:*` | Any `gcloud projects` subcommand | `gcloud compute instances list` |\n\n### Common Patterns\n\n```json\n[\n  \"projects list:*\",\n  \"projects describe:*\",\n  \"config get-value:*\",\n  \"config list:*\",\n  \"auth list\",\n  \"compute instances list:*\",\n  \"compute instances describe:*\",\n  \"storage ls:*\",\n  \"storage cat:*\"\n]\n```\n\n## How It Works\n\n1. When Claude attempts to run a `gcloud` command directly, the PreToolUse hook blocks it\n2. The hook instructs Claude to use `${CLAUDE_PLUGIN_ROOT}/scripts/safe-gcloud.sh` instead\n3. The `safe-gcloud` wrapper:\n   - Reads `.claude/gcloud-allowlist.json`\n   - Checks if the command matches any permitted pattern\n   - If permitted: executes via `gcloud` with all original arguments\n   - If blocked: exits with an error message suggesting what pattern to add\n\n## Architecture\n\nThis plugin uses compiled Go binaries for reliable bash command parsing:\n\n- **check-gcloud** - Uses [mvdan/sh](https://github.com/mvdan/sh) to parse bash commands into an AST and detect `gcloud` execution\n- **safe-gcloud** - Validates commands against the allowlist and executes permitted commands\n\nPre-compiled binaries are provided for:\n- darwin-amd64 (Intel Mac)\n- darwin-arm64 (Apple Silicon Mac)\n- linux-amd64\n- linux-arm64\n\n## Building from Source\n\nIf you need to rebuild the binaries:\n\n```bash\ncd plugins/safe-gcloud\nmake deps    # Download Go dependencies\nmake build   # Build all platform variants\nmake test    # Run tests\n```\n\n## Requirements\n\n- `gcloud` - Google Cloud CLI must be installed and configured\n\n## Security Notes\n\n- Claude cannot edit the allowlist file - only the user can modify permissions\n- All gcloud access goes through the wrapper\n- Missing allowlist file = all commands blocked\n- Patterns use exact prefix matching, not regex\n- The hook uses proper bash AST parsing to detect gcloud execution, correctly handling:\n  - Commands in pipes, chains (`&&`, `||`, `;`)\n  - Command substitution (`$()`, backticks)\n  - Ignores gcloud mentioned in strings, comments, heredocs\n"
      },
      "plugins": [
        {
          "name": "conversation-history",
          "source": "./plugins/conversation-history",
          "description": "Persistent conversation indexing and search. Captures all conversations to a local SQLite database with full-text search, enabling discovery and loading of past discussions across projects.",
          "version": "1.2.0",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install conversation-history@doug-marketplace"
          ]
        },
        {
          "name": "ezcater-research",
          "source": "./plugins/ezcater-research",
          "description": "Comprehensive ezCater research toolkit for investigating codebases, architectural decisions, and project histories using Glean, Atlassian, and GitHub",
          "version": "0.1.0",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install ezcater-research@doug-marketplace"
          ]
        },
        {
          "name": "tdd-feature-dev",
          "source": "./plugins/tdd-feature-dev",
          "description": "Invoked BEFORE feature-dev workflows to establish TDD practices. Ensures tests are written early and planned as explicit, separate TODO items alongside implementation.",
          "version": "0.2.0",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install tdd-feature-dev@doug-marketplace"
          ]
        },
        {
          "name": "pr-best-practices",
          "source": "./plugins/pr-best-practices",
          "description": "Enforces PR best practices: include ticket numbers, always create as draft, and use GitHub PR templates when available",
          "version": "0.2.1",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install pr-best-practices@doug-marketplace"
          ]
        },
        {
          "name": "statusline",
          "source": "./plugins/statusline",
          "description": "Modular, pluggable statusline system with automatic component discovery and configuration. Displays model name with context usage percentage. Enable/disable components globally or per-project, control display order, add custom components.",
          "version": "0.13.0",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install statusline@doug-marketplace"
          ]
        },
        {
          "name": "atlassian-cli",
          "source": "./plugins/atlassian-cli",
          "description": "Interact with Jira and Confluence using the atl CLI tool for searching, reading, creating, and managing tickets and documentation",
          "version": "0.1.0",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install atlassian-cli@doug-marketplace"
          ]
        },
        {
          "name": "ci-monitor",
          "source": "./plugins/ci-monitor",
          "description": "Monitor GitHub PR CI/CD checks until completion with audio notification via text-to-speech",
          "version": "1.0.1",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install ci-monitor@doug-marketplace"
          ]
        },
        {
          "name": "safe-gcloud",
          "source": "./plugins/safe-gcloud",
          "description": "Restricts gcloud CLI access to explicitly permitted commands via project-specific allowlist",
          "version": "1.2.0",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install safe-gcloud@doug-marketplace"
          ]
        },
        {
          "name": "google-cloud-build-monitor",
          "source": "./plugins/google-cloud-build-monitor",
          "description": "Monitor and analyze Google Cloud Build executions with automatic failure diagnosis and audio notifications",
          "version": "1.0.0",
          "author": {
            "name": "Doug Hughes"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dhughes/claude-marketplace",
            "/plugin install google-cloud-build-monitor@doug-marketplace"
          ]
        }
      ]
    }
  ]
}