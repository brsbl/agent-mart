{
  "author": {
    "id": "snarktank",
    "display_name": "Ryan Carson",
    "avatar_url": "https://avatars.githubusercontent.com/u/152063952?u=450c084d85ddf819009a1bac132a47301c08e527&v=4"
  },
  "marketplaces": [
    {
      "name": "ralph-marketplace",
      "version": null,
      "description": "Skills for the Ralph autonomous agent system - Generate PRDs and convert them to prd.json format for autonomous execution",
      "repo_full_name": "snarktank/ralph",
      "repo_url": "https://github.com/snarktank/ralph",
      "repo_description": "Ralph is an autonomous AI agent loop that runs repeatedly until all PRD items are complete. ",
      "signals": {
        "stars": 9126,
        "forks": 1075,
        "pushed_at": "2026-02-02T01:46:21Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"ralph-marketplace\",\n  \"owner\": {\n    \"name\": \"snarktank\"\n  },\n  \"metadata\": {\n    \"description\": \"Skills for the Ralph autonomous agent system - Generate PRDs and convert them to prd.json format for autonomous execution\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"ralph-skills\",\n      \"source\": \"./\",\n      \"description\": \"PRD generation and conversion skills for the Ralph autonomous agent loop\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"ralph\", \"prd\", \"automation\", \"agent\", \"planning\"],\n      \"category\": \"productivity\",\n      \"skills\": \"./skills/\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"ralph-skills\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Skills for the Ralph autonomous agent system - Generate PRDs and convert them to prd.json format for autonomous execution\",\n  \"author\": {\n    \"name\": \"snarktank\"\n  },\n  \"skills\": \"./skills/\",\n  \"keywords\": [\"ralph\", \"prd\", \"automation\", \"agent\", \"planning\", \"requirements\"]\n}\n",
        "README.md": "# Ralph\n\n![Ralph](ralph.webp)\n\nRalph is an autonomous AI agent loop that runs AI coding tools ([Amp](https://ampcode.com) or [Claude Code](https://docs.anthropic.com/en/docs/claude-code)) repeatedly until all PRD items are complete. Each iteration is a fresh instance with clean context. Memory persists via git history, `progress.txt`, and `prd.json`.\n\nBased on [Geoffrey Huntley's Ralph pattern](https://ghuntley.com/ralph/).\n\n[Read my in-depth article on how I use Ralph](https://x.com/ryancarson/status/2008548371712135632)\n\n## Prerequisites\n\n- One of the following AI coding tools installed and authenticated:\n  - [Amp CLI](https://ampcode.com) (default)\n  - [Claude Code](https://docs.anthropic.com/en/docs/claude-code) (`npm install -g @anthropic-ai/claude-code`)\n- `jq` installed (`brew install jq` on macOS)\n- A git repository for your project\n\n## Setup\n\n### Option 1: Copy to your project\n\nCopy the ralph files into your project:\n\n```bash\n# From your project root\nmkdir -p scripts/ralph\ncp /path/to/ralph/ralph.sh scripts/ralph/\n\n# Copy the prompt template for your AI tool of choice:\ncp /path/to/ralph/prompt.md scripts/ralph/prompt.md    # For Amp\n# OR\ncp /path/to/ralph/CLAUDE.md scripts/ralph/CLAUDE.md    # For Claude Code\n\nchmod +x scripts/ralph/ralph.sh\n```\n\n### Option 2: Install skills globally (Amp)\n\nCopy the skills to your Amp or Claude config for use across all projects:\n\nFor AMP\n```bash\ncp -r skills/prd ~/.config/amp/skills/\ncp -r skills/ralph ~/.config/amp/skills/\n```\n\nFor Claude Code (manual)\n```bash\ncp -r skills/prd ~/.claude/skills/\ncp -r skills/ralph ~/.claude/skills/\n```\n\n### Option 3: Use as Claude Code Marketplace\n\nAdd the Ralph marketplace to Claude Code:\n\n```bash\n/plugin marketplace add snarktank/ralph\n```\n\nThen install the skills:\n\n```bash\n/plugin install ralph-skills@ralph-marketplace\n```\n\nAvailable skills after installation:\n- `/prd` - Generate Product Requirements Documents\n- `/ralph` - Convert PRDs to prd.json format\n\nSkills are automatically invoked when you ask Claude to:\n- \"create a prd\", \"write prd for\", \"plan this feature\"\n- \"convert this prd\", \"turn into ralph format\", \"create prd.json\"\n\n### Configure Amp auto-handoff (recommended)\n\nAdd to `~/.config/amp/settings.json`:\n\n```json\n{\n  \"amp.experimental.autoHandoff\": { \"context\": 90 }\n}\n```\n\nThis enables automatic handoff when context fills up, allowing Ralph to handle large stories that exceed a single context window.\n\n## Workflow\n\n### 1. Create a PRD\n\nUse the PRD skill to generate a detailed requirements document:\n\n```\nLoad the prd skill and create a PRD for [your feature description]\n```\n\nAnswer the clarifying questions. The skill saves output to `tasks/prd-[feature-name].md`.\n\n### 2. Convert PRD to Ralph format\n\nUse the Ralph skill to convert the markdown PRD to JSON:\n\n```\nLoad the ralph skill and convert tasks/prd-[feature-name].md to prd.json\n```\n\nThis creates `prd.json` with user stories structured for autonomous execution.\n\n### 3. Run Ralph\n\n```bash\n# Using Amp (default)\n./scripts/ralph/ralph.sh [max_iterations]\n\n# Using Claude Code\n./scripts/ralph/ralph.sh --tool claude [max_iterations]\n```\n\nDefault is 10 iterations. Use `--tool amp` or `--tool claude` to select your AI coding tool.\n\nRalph will:\n1. Create a feature branch (from PRD `branchName`)\n2. Pick the highest priority story where `passes: false`\n3. Implement that single story\n4. Run quality checks (typecheck, tests)\n5. Commit if checks pass\n6. Update `prd.json` to mark story as `passes: true`\n7. Append learnings to `progress.txt`\n8. Repeat until all stories pass or max iterations reached\n\n## Key Files\n\n| File | Purpose |\n|------|---------|\n| `ralph.sh` | The bash loop that spawns fresh AI instances (supports `--tool amp` or `--tool claude`) |\n| `prompt.md` | Prompt template for Amp |\n| `CLAUDE.md` | Prompt template for Claude Code |\n| `prd.json` | User stories with `passes` status (the task list) |\n| `prd.json.example` | Example PRD format for reference |\n| `progress.txt` | Append-only learnings for future iterations |\n| `skills/prd/` | Skill for generating PRDs (works with Amp and Claude Code) |\n| `skills/ralph/` | Skill for converting PRDs to JSON (works with Amp and Claude Code) |\n| `.claude-plugin/` | Plugin manifest for Claude Code marketplace discovery |\n| `flowchart/` | Interactive visualization of how Ralph works |\n\n## Flowchart\n\n[![Ralph Flowchart](ralph-flowchart.png)](https://snarktank.github.io/ralph/)\n\n**[View Interactive Flowchart](https://snarktank.github.io/ralph/)** - Click through to see each step with animations.\n\nThe `flowchart/` directory contains the source code. To run locally:\n\n```bash\ncd flowchart\nnpm install\nnpm run dev\n```\n\n## Critical Concepts\n\n### Each Iteration = Fresh Context\n\nEach iteration spawns a **new AI instance** (Amp or Claude Code) with clean context. The only memory between iterations is:\n- Git history (commits from previous iterations)\n- `progress.txt` (learnings and context)\n- `prd.json` (which stories are done)\n\n### Small Tasks\n\nEach PRD item should be small enough to complete in one context window. If a task is too big, the LLM runs out of context before finishing and produces poor code.\n\nRight-sized stories:\n- Add a database column and migration\n- Add a UI component to an existing page\n- Update a server action with new logic\n- Add a filter dropdown to a list\n\nToo big (split these):\n- \"Build the entire dashboard\"\n- \"Add authentication\"\n- \"Refactor the API\"\n\n### AGENTS.md Updates Are Critical\n\nAfter each iteration, Ralph updates the relevant `AGENTS.md` files with learnings. This is key because AI coding tools automatically read these files, so future iterations (and future human developers) benefit from discovered patterns, gotchas, and conventions.\n\nExamples of what to add to AGENTS.md:\n- Patterns discovered (\"this codebase uses X for Y\")\n- Gotchas (\"do not forget to update Z when changing W\")\n- Useful context (\"the settings panel is in component X\")\n\n### Feedback Loops\n\nRalph only works if there are feedback loops:\n- Typecheck catches type errors\n- Tests verify behavior\n- CI must stay green (broken code compounds across iterations)\n\n### Browser Verification for UI Stories\n\nFrontend stories must include \"Verify in browser using dev-browser skill\" in acceptance criteria. Ralph will use the dev-browser skill to navigate to the page, interact with the UI, and confirm changes work.\n\n### Stop Condition\n\nWhen all stories have `passes: true`, Ralph outputs `<promise>COMPLETE</promise>` and the loop exits.\n\n## Debugging\n\nCheck current state:\n\n```bash\n# See which stories are done\ncat prd.json | jq '.userStories[] | {id, title, passes}'\n\n# See learnings from previous iterations\ncat progress.txt\n\n# Check git history\ngit log --oneline -10\n```\n\n## Customizing the Prompt\n\nAfter copying `prompt.md` (for Amp) or `CLAUDE.md` (for Claude Code) to your project, customize it for your project:\n- Add project-specific quality check commands\n- Include codebase conventions\n- Add common gotchas for your stack\n\n## Archiving\n\nRalph automatically archives previous runs when you start a new feature (different `branchName`). Archives are saved to `archive/YYYY-MM-DD-feature-name/`.\n\n## References\n\n- [Geoffrey Huntley's Ralph article](https://ghuntley.com/ralph/)\n- [Amp documentation](https://ampcode.com/manual)\n- [Claude Code documentation](https://docs.anthropic.com/en/docs/claude-code)\n"
      },
      "plugins": [
        {
          "name": "ralph-skills",
          "source": "./",
          "description": "PRD generation and conversion skills for the Ralph autonomous agent loop",
          "version": "1.0.0",
          "keywords": [
            "ralph",
            "prd",
            "automation",
            "agent",
            "planning"
          ],
          "category": "productivity",
          "skills": "./skills/",
          "categories": [
            "agent",
            "automation",
            "planning",
            "prd",
            "productivity",
            "ralph"
          ],
          "install_commands": [
            "/plugin marketplace add snarktank/ralph",
            "/plugin install ralph-skills@ralph-marketplace"
          ]
        }
      ]
    }
  ]
}