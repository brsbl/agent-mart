{
  "author": {
    "id": "The-Focus-AI",
    "display_name": "The Focus AI",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/201250604?v=4",
    "url": "https://github.com/The-Focus-AI",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 9,
      "total_skills": 2,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "chrome-driver-dev",
      "version": null,
      "description": "Development marketplace for chrome-driver plugin testing",
      "owner_info": {
        "name": "Focus AI"
      },
      "keywords": [],
      "repo_full_name": "The-Focus-AI/chrome-driver",
      "repo_url": "https://github.com/The-Focus-AI/chrome-driver",
      "repo_description": "Pure Perl Chrome DevTools Protocol library for browser automation - screenshots, PDFs, web scraping, form filling, and screen recording with zero dependencies",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-17T13:33:45Z",
        "created_at": "2025-12-02T11:32:37Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".beads",
          "type": "tree",
          "size": null
        },
        {
          "path": ".beads/README.md",
          "type": "blob",
          "size": 2250
        },
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/commands/browser.md",
          "type": "blob",
          "size": 343
        },
        {
          "path": ".claude-plugin/commands/cookies.md",
          "type": "blob",
          "size": 1233
        },
        {
          "path": ".claude-plugin/commands/extract.md",
          "type": "blob",
          "size": 902
        },
        {
          "path": ".claude-plugin/commands/form.md",
          "type": "blob",
          "size": 1337
        },
        {
          "path": ".claude-plugin/commands/interact.md",
          "type": "blob",
          "size": 1630
        },
        {
          "path": ".claude-plugin/commands/navigate.md",
          "type": "blob",
          "size": 997
        },
        {
          "path": ".claude-plugin/commands/pdf.md",
          "type": "blob",
          "size": 864
        },
        {
          "path": ".claude-plugin/commands/record.md",
          "type": "blob",
          "size": 1238
        },
        {
          "path": ".claude-plugin/commands/screenshot.md",
          "type": "blob",
          "size": 909
        },
        {
          "path": ".claude-plugin/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/hooks/hooks.json",
          "type": "blob",
          "size": 203
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 408
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 940
        },
        {
          "path": ".claude-plugin/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/skills/browser-automation",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/skills/browser-automation/SKILL.md",
          "type": "blob",
          "size": 26456
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/browser-automation",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/browser-automation/SKILL.md",
          "type": "blob",
          "size": 17228
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 7861
        }
      ],
      "files": {
        ".claude-plugin/commands/browser.md": "---\ndescription: Check Chrome browser status\nallowed-tools: [Bash]\n---\n\n# Browser Status\n\nCheck if Chrome is running and show connection info.\n\nRun this command:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/chrome-status\n```\n\nIf Chrome is not running, it will show instructions to start it. The browser automation scripts auto-start Chrome when needed.\n",
        ".claude-plugin/commands/cookies.md": "---\ndescription: Manage browser cookies and sessions\nallowed-tools: [Bash]\nargument-hint: [save|load|clear] [--file=PATH]\n---\n\n# Cookies\n\nManage browser cookies for session persistence across automation runs.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/cookies [COMMAND] [OPTIONS]\n```\n\nCommands:\n- `save` - Save current cookies to file\n- `load` - Load cookies from file\n- `clear` - Clear all cookies\n- `list` - List current cookies\n\nOptions:\n- `--file=PATH` - Cookie file path (default: cookies.json)\n- `--domain=DOMAIN` - Filter by domain\n- `--no-headless` - Run with visible browser window\n- `--user-data=PATH` - Use persistent Chrome profile\n\nExamples:\n```bash\n# Save cookies after logging in\n${CLAUDE_PLUGIN_ROOT}/bin/cookies save --file=~/.instacart-cookies.json\n\n# Load cookies for authenticated session\n${CLAUDE_PLUGIN_ROOT}/bin/cookies load --file=~/.instacart-cookies.json\n\n# List cookies for a specific domain\n${CLAUDE_PLUGIN_ROOT}/bin/cookies list --domain=instacart.com\n\n# Clear all cookies\n${CLAUDE_PLUGIN_ROOT}/bin/cookies clear\n```\n\nNote: For most use cases, `--user-data=PATH` is preferred over cookie files as it preserves the full browser profile including localStorage and session state.\n",
        ".claude-plugin/commands/extract.md": "---\ndescription: Extract content from a web page\nallowed-tools: [Bash]\nargument-hint: URL [--format=markdown|text|html] [--selector=CSS]\n---\n\n# Content Extraction\n\nExtract content from a web page in various formats.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/extract URL [OPTIONS]\n```\n\nOptions:\n- `--format=FORMAT` - Output: markdown (default), text, html\n- `--selector=\"CSS\"` - Extract specific element only\n- `--links` - Also list all links found\n- `--images` - Also list all images found\n- `--metadata` - Also show page metadata\n\nExamples:\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --format=text\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --selector=\"article.main\"\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --links --metadata\n```\n\nThe extracted content is printed to stdout.\n",
        ".claude-plugin/commands/form.md": "---\ndescription: Fill out and submit web forms\nallowed-tools: [Bash]\nargument-hint: URL [--fill=SELECTOR=VALUE] [--submit=SELECTOR]\n---\n\n# Form\n\nFill out and submit web forms.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/form URL [OPTIONS]\n```\n\nOptions:\n- `--fill=SELECTOR=VALUE` - Fill input field (can repeat)\n- `--select=SELECTOR=VALUE` - Select dropdown option (can repeat)\n- `--fill-json='{\"sel\":\"val\"}'` - Fill multiple fields from JSON\n- `--submit=SELECTOR` - Click submit button after filling\n- `--wait-for=SELECTOR` - Wait for element before filling\n- `--wait-after=SELECTOR` - Wait for element after submit\n- `--screenshot=PATH` - Take screenshot after completion\n- `--no-headless` - Run with visible browser window\n- `--user-data=PATH` - Use persistent Chrome profile\n\nExamples:\n```bash\n# Login form\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/login \\\n  --fill='#username=john' \\\n  --fill='#password=secret' \\\n  --submit='button[type=submit]'\n\n# Form with dropdowns\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/register \\\n  --fill='#name=John Doe' \\\n  --select='#country=US' \\\n  --submit='#register-btn'\n\n# Using JSON for multiple fields\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/contact \\\n  --fill-json='{\"#name\":\"John\",\"#email\":\"john@test.com\"}' \\\n  --submit='button.send'\n```\n",
        ".claude-plugin/commands/interact.md": "---\ndescription: Interact with current page without reloading (for multi-step workflows)\nallowed-tools: [Bash]\nargument-hint: [--click=SELECTOR] [--type=SELECTOR=TEXT] [--eval=JS]\n---\n\n# Interact\n\nInteract with the current browser page WITHOUT navigating away. Essential for multi-step workflows on SPAs.\n\n**Key difference from navigate**: This command works on the already-open tab without reloading the page, preserving state between actions.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/interact [OPTIONS]\n```\n\nOptions:\n- `--click=SELECTOR` - Click element matching CSS selector\n- `--type=SELECTOR=TEXT` - Type text into input field\n- `--eval=JAVASCRIPT` - Execute JavaScript and print result\n- `--wait-for=SELECTOR` - Wait for element to appear\n- `--select=SELECTOR=VALUE` - Select dropdown option\n- `--focus=SELECTOR` - Focus an element\n- `--text=SELECTOR` - Get text content of element\n- `--timeout=SECONDS` - Timeout (default: 30)\n- `--no-headless` - Run with visible browser window\n- `--user-data=PATH` - Use persistent Chrome profile (required for session continuity)\n\nExamples:\n```bash\n# Execute JavaScript on current page\n${CLAUDE_PLUGIN_ROOT}/bin/interact --eval=\"document.title\" --user-data=~/.chrome-session\n\n# Click a button without navigating\n${CLAUDE_PLUGIN_ROOT}/bin/interact --click=\"#submit-btn\" --user-data=~/.chrome-session\n\n# Chain actions: type then click\n${CLAUDE_PLUGIN_ROOT}/bin/interact --type=\"#search=query\" --click=\"#search-btn\" --user-data=~/.chrome-session\n\n# Get text from an element\n${CLAUDE_PLUGIN_ROOT}/bin/interact --text=\"h1.title\" --user-data=~/.chrome-session\n```\n",
        ".claude-plugin/commands/navigate.md": "---\ndescription: Navigate to a URL and interact with the page\nallowed-tools: [Bash]\nargument-hint: URL [--wait-for=SELECTOR] [--click=SELECTOR] [--type=SELECTOR=TEXT]\n---\n\n# Navigate\n\nNavigate to a URL and optionally interact with the page.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/navigate URL [OPTIONS]\n```\n\nOptions:\n- `--wait-for=SELECTOR` - Wait for element to appear\n- `--click=SELECTOR` - Click an element\n- `--type=SELECTOR=TEXT` - Type text into input field\n- `--eval=JAVASCRIPT` - Execute JavaScript and print result\n- `--timeout=SECONDS` - Timeout (default: 30)\n- `--no-headless` - Run with visible browser window\n- `--user-data=PATH` - Use persistent Chrome profile\n\nExamples:\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://example.com --wait-for=\"#content\"\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://google.com --type=\"input[name=q]=hello\" --click=\"input[type=submit]\"\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://example.com --eval=\"document.title\"\n```\n",
        ".claude-plugin/commands/pdf.md": "---\ndescription: Generate a PDF from a web page\nallowed-tools: [Bash]\nargument-hint: URL [OUTPUT] [--paper=a4|letter] [--landscape]\n---\n\n# PDF Generation\n\nGenerate a PDF from a web page.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/pdf URL [OUTPUT] [OPTIONS]\n```\n\nOptions:\n- `--paper=SIZE` - Paper size: letter (default), a4, legal, a3, a5, tabloid\n- `--landscape` - Landscape orientation\n- `--margin=INCHES` - All margins (default: 0.4)\n- `--scale=FACTOR` - Scale 0.1-2.0 (default: 1.0)\n- `--no-background` - Skip background colors/images\n\nIf no output path given, file saves to `/tmp/page-TIMESTAMP.pdf`.\n\nExamples:\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/doc.pdf\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com --paper=a4 --landscape\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com --margin=1 --scale=0.8\n```\n",
        ".claude-plugin/commands/record.md": "---\ndescription: Record screencast frames from a web page\nallowed-tools: [Bash]\nargument-hint: URL OUTPUT_DIR [--duration=SECONDS] [--count=N]\n---\n\n# Record\n\nRecord screencast frames from a web page for video generation.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/record URL OUTPUT_DIR [OPTIONS]\n```\n\nOptions:\n- `--duration=SECONDS` - Recording duration (default: 5)\n- `--count=N` - Exact number of frames to capture\n- `--format=jpeg|png` - Frame format (default: jpeg)\n- `--quality=N` - JPEG quality 0-100 (default: 80)\n- `--max-width=N` - Maximum frame width\n- `--max-height=N` - Maximum frame height\n- `--fps=N` - Approximate frames per second (default: 10)\n- `--no-headless` - Run with visible browser window\n- `--user-data=PATH` - Use persistent Chrome profile\n\nExamples:\n```bash\n# Record 5 seconds\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames\n\n# Record 30 PNG frames\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames --count=30 --format=png\n\n# High quality recording\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames --duration=10 --quality=95\n\n# Convert to video with ffmpeg\nffmpeg -framerate 10 -i /tmp/frames/frame-%04d.jpg -c:v libx264 output.mp4\n```\n",
        ".claude-plugin/commands/screenshot.md": "---\ndescription: Take a screenshot of a web page\nallowed-tools: [Bash]\nargument-hint: URL [OUTPUT] [--full-page] [--selector=CSS] [--format=png|jpeg]\n---\n\n# Screenshot\n\nTake a screenshot of a web page.\n\nParse the user's request and run:\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot URL [OUTPUT] [OPTIONS]\n```\n\nOptions:\n- `--full-page` - Capture entire scrollable page\n- `--selector=\"CSS\"` - Capture specific element\n- `--format=png|jpeg|webp` - Output format (default: png)\n- `--quality=N` - JPEG/WebP quality 0-100 (default: 80)\n- `--width=N --height=N` - Set viewport size\n\nIf no output path given, file saves to `/tmp/screenshot-TIMESTAMP.png`.\n\nExamples:\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/page.png\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com --full-page --format=jpeg\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com --selector=\"article.main\"\n```\n",
        ".claude-plugin/hooks/hooks.json": "{\n  \"hooks\": [\n    {\n      \"event\": \"Stop\",\n      \"command\": [\"bash\", \"-c\", \"pkill -f 'chrome.*--remote-debugging-port' 2>/dev/null || true; rm -rf /tmp/chrome-profile* 2>/dev/null || true\"]\n    }\n  ]\n}\n",
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"chrome-driver-dev\",\n  \"description\": \"Development marketplace for chrome-driver plugin testing\",\n  \"owner\": {\n    \"name\": \"Focus AI\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"chrome-driver\",\n      \"source\": {\n        \"source\": \"local\",\n        \"path\": \"./\"\n      },\n      \"version\": \"0.1.0\",\n      \"description\": \"Interact with web pages via Chrome DevTools Protocol using pure Perl\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"chrome-driver\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Interact with web pages via Chrome DevTools Protocol using pure Perl\",\n  \"author\": {\n    \"name\": \"Focus AI\"\n  },\n  \"repository\": \"https://github.com/Focus-AI/chrome-driver\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"chrome\",\n    \"devtools\",\n    \"browser-automation\",\n    \"web-scraping\",\n    \"screenshot\",\n    \"pdf\",\n    \"perl\"\n  ],\n  \"skills\": [\n    \"./.claude-plugin/skills/browser-automation\"\n  ],\n  \"commands\": [\n    \"./.claude-plugin/commands/browser.md\",\n    \"./.claude-plugin/commands/screenshot.md\",\n    \"./.claude-plugin/commands/pdf.md\",\n    \"./.claude-plugin/commands/extract.md\",\n    \"./.claude-plugin/commands/navigate.md\",\n    \"./.claude-plugin/commands/interact.md\",\n    \"./.claude-plugin/commands/form.md\",\n    \"./.claude-plugin/commands/record.md\",\n    \"./.claude-plugin/commands/cookies.md\"\n  ],\n  \"hooks\": [\n    \"./.claude-plugin/hooks/hooks.json\"\n  ]\n}\n",
        ".claude-plugin/skills/browser-automation/SKILL.md": "---\ndescription: Automate Chrome browser via DevTools Protocol. Use when user asks to scrape websites, take screenshots, generate PDFs, interact with web pages, extract content, fill forms, or automate browser tasks.\n---\n\n# Browser Automation with Chrome DevTools Protocol\n\nControl Chrome browser programmatically using simple command-line scripts. All scripts auto-start Chrome in headless mode if not running.\n\n## Global Options (All Commands)\n\nAll commands support these options for session persistence and interactive use:\n\n- `--no-headless` - Run Chrome with a visible window (required for interactive sites, login, etc.)\n- `--user-data=PATH` - Use a specific Chrome profile directory to preserve cookies, logins, and session state between runs\n\n**Example: Persistent session for logged-in sites**\n```bash\n# First time: login interactively with visible browser\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://instacart.com --no-headless --user-data=~/.chrome-instacart\n\n# After logging in manually, future commands use same profile (cookies preserved)\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://instacart.com/store/market-32 --user-data=~/.chrome-instacart\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://instacart.com/account --user-data=~/.chrome-instacart /tmp/account.png\n```\n\n## Available Commands\n\nAll scripts are in `${CLAUDE_PLUGIN_ROOT}/bin/`:\n\n### screenshot - Capture web pages as images\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot URL [OUTPUT] [OPTIONS]\n```\n\nOptions:\n- `--full-page` - Capture entire scrollable page\n- `--selector=CSS` - Capture specific element\n- `--format=png|jpeg|webp` - Output format (default: png)\n- `--quality=N` - JPEG/WebP quality 0-100\n- `--width=N --height=N` - Set viewport size\n- `--max-dimension=N` - Max output dimension (default: 8000, auto-scales large pages)\n\nExamples:\n```bash\n# Basic screenshot\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/page.png\n\n# Full page as JPEG\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/full.jpg --full-page --format=jpeg\n\n# Capture specific element\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/header.png --selector=\"header\"\n```\n\n### pdf - Generate PDFs from web pages\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/pdf URL [OUTPUT] [OPTIONS]\n```\n\nOptions:\n- `--paper=letter|a4|legal|a3|a5|tabloid` - Paper size (default: letter)\n- `--landscape` - Landscape orientation\n- `--margin=INCHES` - All margins (default: 0.4)\n- `--scale=FACTOR` - Scale 0.1-2.0 (default: 1.0)\n- `--no-background` - Skip background colors/images\n\nExamples:\n```bash\n# Basic PDF\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/doc.pdf\n\n# A4 landscape\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/report.pdf --paper=a4 --landscape\n\n# Tight margins\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/compact.pdf --margin=0.25\n```\n\n### extract - Extract content from web pages\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/extract URL [OPTIONS]\n```\n\nOptions:\n- `--format=markdown|text|html` - Output format (default: markdown)\n- `--selector=CSS` - Extract specific element only\n- `--links` - Also list all links\n- `--images` - Also list all images\n- `--metadata` - Also show page metadata\n\nExamples:\n```bash\n# Get page as markdown\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com\n\n# Get plain text from article\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --format=text --selector=\"article\"\n\n# Get all links and metadata\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --links --metadata\n```\n\n### navigate - Navigate and interact with pages\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/navigate URL [OPTIONS]\n```\n\nOptions:\n- `--wait-for=SELECTOR` - Wait for element to appear\n- `--click=SELECTOR` - Click an element\n- `--type=SELECTOR=TEXT` - Type text into input field\n- `--eval=JAVASCRIPT` - Execute JavaScript and print result\n- `--timeout=SECONDS` - Timeout (default: 30)\n\nExamples:\n```bash\n# Navigate and wait for content\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://example.com --wait-for=\"#content\"\n\n# Fill form and submit\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://google.com --type=\"input[name=q]=hello\" --click=\"input[type=submit]\"\n\n# Get page title via JavaScript\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://example.com --eval=\"document.title\"\n```\n\n### form - Fill out and submit web forms\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/form URL [OPTIONS]\n```\n\nOptions:\n- `--fill=SELECTOR=VALUE` - Fill input field (can repeat)\n- `--select=SELECTOR=VALUE` - Select dropdown option (can repeat)\n- `--fill-json='{\"sel\":\"val\"}'` - Fill multiple fields from JSON\n- `--submit=SELECTOR` - Click submit button after filling\n- `--wait-for=SELECTOR` - Wait for element before filling\n- `--wait-after=SELECTOR` - Wait for element after submit\n- `--screenshot=PATH` - Take screenshot after completion\n\nExamples:\n```bash\n# Login form\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/login \\\n  --fill='#username=john' \\\n  --fill='#password=secret' \\\n  --submit='button[type=submit]'\n\n# Form with dropdowns\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/register \\\n  --fill='#name=John Doe' \\\n  --fill='#email=john@example.com' \\\n  --select='#country=US' \\\n  --submit='#register-btn'\n\n# Using JSON\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/contact \\\n  --fill-json='{\"#name\":\"John\",\"#email\":\"john@test.com\"}' \\\n  --submit='button.send'\n```\n\n### record - Record screencast frames\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/record URL OUTPUT_DIR [OPTIONS]\n```\n\nOptions:\n- `--duration=SECONDS` - Recording duration (default: 5)\n- `--count=N` - Exact number of frames to capture\n- `--format=jpeg|png` - Frame format (default: jpeg)\n- `--quality=N` - JPEG quality 0-100 (default: 80)\n- `--max-width=N` - Maximum frame width\n- `--max-height=N` - Maximum frame height\n- `--fps=N` - Approximate frames per second (default: 10)\n\nExamples:\n```bash\n# Record 5 seconds\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames\n\n# Record 30 PNG frames\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames --count=30 --format=png\n\n# Convert to video with ffmpeg\nffmpeg -framerate 10 -i /tmp/frames/frame-%04d.jpg -c:v libx264 output.mp4\n```\n\n### interact - Interact with current page (no navigation)\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/interact [OPTIONS]\n```\n\n**This is the key command for multi-step workflows.** Unlike `navigate`, this command connects to the already-open browser tab and performs actions WITHOUT reloading the page. Essential for:\n- Multi-step processes (search â†’ click result â†’ add to cart)\n- Single-page applications (SPAs)\n- Sites where navigation resets state\n\nOptions:\n- `--click=SELECTOR` - Click element matching CSS selector\n- `--type=SELECTOR=TEXT` - Type text into input field\n- `--eval=JAVASCRIPT` - Execute JavaScript and print result\n- `--wait-for=SELECTOR` - Wait for element to appear\n- `--select=SELECTOR=VALUE` - Select dropdown option\n- `--focus=SELECTOR` - Focus an element\n- `--text=SELECTOR` - Get text content of element\n- `--timeout=SECONDS` - Timeout (default: 30)\n\nExamples:\n```bash\n# Execute JavaScript on current page\n${CLAUDE_PLUGIN_ROOT}/bin/interact --eval=\"document.title\" --user-data=~/.chrome-mysite\n\n# Click a button on current page\n${CLAUDE_PLUGIN_ROOT}/bin/interact --click=\"#submit-btn\" --user-data=~/.chrome-mysite\n\n# Type into an input without navigating away\n${CLAUDE_PLUGIN_ROOT}/bin/interact --type=\"#search=query\" --user-data=~/.chrome-mysite\n\n# Chain actions: focus, type, then click\n${CLAUDE_PLUGIN_ROOT}/bin/interact --focus=\"#search\" --type=\"#search=pork\" --click=\"#search-btn\" --user-data=~/.chrome-mysite\n\n# Get text from an element\n${CLAUDE_PLUGIN_ROOT}/bin/interact --text=\"h1.title\" --user-data=~/.chrome-mysite\n```\n\n### chrome-status - Check browser status\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/chrome-status\n```\n\nShows whether Chrome is running, version info, and open tabs.\n\n## Common Workflows\n\n### Screenshot a page\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/screenshot.png\n```\n\n### Convert page to PDF\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/document.pdf --paper=a4\n```\n\n### Scrape page content\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --format=markdown\n```\n\n### Fill and submit a form\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/login \\\n  --fill='#username=user' \\\n  --fill='#password=pass' \\\n  --submit='button[type=submit]' \\\n  --wait-after='.dashboard'\n```\n\n### Record a screencast\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames --duration=10\nffmpeg -framerate 10 -i /tmp/frames/frame-%04d.jpg -c:v libx264 video.mp4\n```\n\n## Notes\n\n- Chrome auto-starts in headless mode when needed (use `--no-headless` for visible browser)\n- Chrome continues running between commands for speed\n- Use `--user-data=PATH` to preserve login/cookies between sessions\n- Use `pkill -f 'chrome.*--remote-debugging-port'` to stop Chrome manually\n- Default port is 9222; set `CHROME_DRIVER_PORT` to change\n- All scripts support `--help` for full usage info\n- Large screenshots are auto-scaled to fit within 8000px (API limit)\n\n## Session Management Tips\n\nFor sites requiring login (Instacart, Amazon, banking, etc.):\n\n1. **Create a persistent profile**: Use `--user-data=~/.chrome-sitename` consistently\n2. **First-time login**: Use `--no-headless` to see the browser and log in manually\n3. **Subsequent automation**: Same `--user-data` path preserves your session\n4. **Multiple accounts**: Use different `--user-data` paths for different accounts/sites\n\n---\n\n## Multi-Step Workflow Guide: Shopping Sites (Instacart, Amazon, etc.)\n\nThis section walks through automating complex multi-step processes on sites that require login and multiple interactions. The key insight is using **two commands together**:\n\n- `navigate` - Go to a URL (use for initial navigation)\n- `interact` - Work with the current page without reloading (use for everything after)\n\n### Understanding the Two-Command Pattern\n\n**Why `navigate` alone isn't enough:**\n- `navigate` ALWAYS loads/reloads the specified URL\n- Each `navigate` call is independent - it doesn't \"continue\" from the previous state\n- Multi-step workflows (search â†’ select â†’ add to cart) break because each step resets\n\n**Why `interact` is essential:**\n- `interact` connects to the EXISTING browser tab\n- It performs actions on whatever page is currently displayed\n- The page state is preserved between `interact` calls\n- Perfect for SPAs and multi-step processes\n\n### Complete Example: Adding Items to Instacart Cart\n\nHere's a real-world example that works:\n\n#### Step 1: Initial Setup - Create Profile and Login\n\nFirst time only - open browser visibly so user can log in:\n\n```bash\n# Open Instacart with visible browser and persistent profile\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://www.instacart.com \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# USER ACTION: Log in manually in the browser window\n# Your cookies/session will be saved to ~/.chrome-instacart\n```\n\n#### Step 2: Navigate to Store\n\nAfter login, go to the desired store:\n\n```bash\n# First, find the correct store URL by checking the homepage\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://www.instacart.com/store \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Use JavaScript to find links containing your store name\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"Array.from(document.querySelectorAll('a')).filter(a => a.innerText.includes('Market 32')).map(a => a.href).join('\\n')\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Navigate to the store (use the URL found above)\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://www.instacart.com/store/price-chopper-ny/storefront \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 3: Search for Product (Multi-Step with interact)\n\nNow use `interact` to search WITHOUT navigating away:\n\n```bash\n# Click the search input\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --click=\"#search-bar-input\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Type the search query\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --type=\"#search-bar-input=pork shoulder\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Submit the search using JavaScript (trigger form submit event)\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"var input = document.querySelector('#search-bar-input'); var form = input.closest('form'); form.dispatchEvent(new Event('submit', {bubbles: true, cancelable: true})); 'submitted'\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 4: View Search Results\n\nCheck what products are available:\n\n```bash\n# Wait a moment for results to load, then check the page content\nsleep 2\n\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"document.body.innerText.substring(0, 2000)\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 5: Add Product to Cart\n\nClick the Add button for the desired product:\n\n```bash\n# Find and click the first \"Add\" button\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"var addBtns = Array.from(document.querySelectorAll('button')).filter(b => b.innerText.trim() === 'Add'); if (addBtns.length > 0) { addBtns[0].click(); 'Added to cart'; } else { 'No Add button found'; }\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 6: Verify Cart Updated\n\nConfirm the item was added:\n\n```bash\n# Check cart count or page state\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"document.body.innerText.includes('2') ? 'Cart has 2 items' : document.body.innerText.substring(0, 500)\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n### Key Techniques for Multi-Step Automation\n\n#### 1. Finding Elements with JavaScript\n\nWhen CSS selectors are complex or dynamic, use `--eval` to find elements:\n\n```bash\n# Find all buttons with specific text\n--eval=\"Array.from(document.querySelectorAll('button')).filter(b => b.innerText.includes('Add')).length\"\n\n# Find links by text content\n--eval=\"Array.from(document.querySelectorAll('a')).filter(a => a.innerText.includes('Checkout'))[0].href\"\n\n# Get input field IDs/names\n--eval=\"JSON.stringify(Array.from(document.querySelectorAll('input')).map(i => ({id: i.id, name: i.name, placeholder: i.placeholder})))\"\n```\n\n#### 2. Clicking Elements via JavaScript\n\nWhen `--click` doesn't work (dynamic elements, overlays, etc.):\n\n```bash\n# Click by finding element with JS\n--eval=\"document.querySelector('.add-to-cart-btn').click(); 'clicked'\"\n\n# Click first matching element\n--eval=\"Array.from(document.querySelectorAll('button')).filter(b => b.innerText === 'Add')[0].click(); 'clicked'\"\n```\n\n#### 3. Submitting Forms\n\nDifferent approaches for form submission:\n\n```bash\n# Method 1: Dispatch submit event (most reliable for SPAs)\n--eval=\"document.querySelector('form').dispatchEvent(new Event('submit', {bubbles: true, cancelable: true})); 'submitted'\"\n\n# Method 2: Click submit button\n--click=\"button[type=submit]\"\n\n# Method 3: Call submit() directly\n--eval=\"document.querySelector('form').submit(); 'submitted'\"\n```\n\n#### 4. Waiting for Dynamic Content\n\nUse `--wait-for` or JavaScript polling:\n\n```bash\n# Wait for element to appear\n--wait-for=\".search-results\"\n\n# Or use JavaScript with timeout\n--eval=\"new Promise(r => { let i = setInterval(() => { if (document.querySelector('.results')) { clearInterval(i); r('found'); }}, 100); setTimeout(() => { clearInterval(i); r('timeout'); }, 5000); })\"\n```\n\n#### 5. Reading Page State\n\nExtract information to make decisions:\n\n```bash\n# Get current URL\n--eval=\"window.location.href\"\n\n# Check if logged in\n--eval=\"document.body.innerText.includes('Sign Out') ? 'logged in' : 'not logged in'\"\n\n# Get cart count\n--eval=\"document.querySelector('.cart-count')?.innerText || '0'\"\n\n# Get product prices\n--eval=\"JSON.stringify(Array.from(document.querySelectorAll('.price')).map(p => p.innerText))\"\n```\n\n### Troubleshooting Multi-Step Workflows\n\n#### Problem: Page resets between commands\n**Solution**: Use `interact` instead of `navigate` for all steps after initial navigation.\n\n#### Problem: Elements not found\n**Solution**:\n1. Use `--eval` to inspect the page structure\n2. Wait for dynamic content with `--wait-for` or `sleep`\n3. Check if element is in an iframe\n\n#### Problem: Click doesn't work\n**Solution**:\n1. Try JavaScript click: `--eval=\"document.querySelector('...').click()\"`\n2. Scroll element into view first\n3. Check for overlays blocking the element\n\n#### Problem: Form doesn't submit\n**Solution**:\n1. Use form submit event: `form.dispatchEvent(new Event('submit', ...))`\n2. Check if it's a SPA with custom form handling\n3. Look for and click the actual submit button\n\n#### Problem: Login session lost\n**Solution**:\n1. Always use same `--user-data` path\n2. Check if cookies expired\n3. Some sites require re-login periodically\n\n### Best Practices\n\n1. **Always use `--user-data`** for sites requiring login\n2. **Use `--no-headless`** during development to see what's happening\n3. **Start with `navigate`** to load the initial page\n4. **Switch to `interact`** for all subsequent actions on that page\n5. **Use `--eval` liberally** to inspect page state and find elements\n6. **Add `sleep` between actions** if the site needs time to update\n7. **Check results after each step** to verify the action worked\n\n---\n\n## Instacart Automation Guide (Tested & Proven Patterns)\n\nThis section contains battle-tested patterns for automating Instacart shopping. These patterns were developed through extensive real-world testing.\n\n### Quick Reference: Essential Commands\n\n```bash\n# Base command pattern (always use these flags)\nINTERACT=\"${CLAUDE_PLUGIN_ROOT}/bin/interact --no-headless --user-data=~/.chrome-instacart\"\nNAVIGATE=\"${CLAUDE_PLUGIN_ROOT}/bin/navigate --no-headless --user-data=~/.chrome-instacart\"\n\n# Suppress stderr noise\n$INTERACT --eval=\"...\" 2>/dev/null\n```\n\n### Store Selection\n\n**CRITICAL: Never construct Instacart URLs manually.** Always navigate via the UI:\n\n```bash\n# Go to homepage first\n$NAVIGATE \"https://www.instacart.com\"\n\n# Find store links on page\n$INTERACT --eval=\"Array.from(document.querySelectorAll('a')).filter(a => a.innerText.includes('Stop & Shop')).map(a => ({text: a.innerText, href: a.href}))\"\n\n# Click the store link found above (or navigate to storefront)\n$NAVIGATE \"https://www.instacart.com/store/stop-shop/storefront\"\n```\n\n### Search Pattern (Reliable 3-Step Process)\n\n```bash\n# Step 1: Clear existing search (IMPORTANT - prevents concatenation)\n$INTERACT --eval=\"var input = document.querySelector('#search-bar-input'); input.select(); document.execCommand('delete'); 'cleared'\" 2>/dev/null\n\n# Step 2: Type search term\n$INTERACT --type=\"#search-bar-input=pork shoulder\" 2>/dev/null\n\n# Step 3: Submit form (dispatchEvent is most reliable for SPAs)\n$INTERACT --eval=\"document.querySelector('#search-bar-input').closest('form').dispatchEvent(new Event('submit', {bubbles: true, cancelable: true})); 'submitted'\" 2>/dev/null && sleep 3\n```\n\n**Combined one-liner for efficiency:**\n```bash\n$INTERACT --eval=\"var input = document.querySelector('#search-bar-input'); input.select(); document.execCommand('delete'); 'cleared'\" 2>/dev/null && \\\n$INTERACT --type=\"#search-bar-input=SEARCH_TERM\" 2>/dev/null && \\\n$INTERACT --eval=\"document.querySelector('#search-bar-input').closest('form').dispatchEvent(new Event('submit', {bubbles: true, cancelable: true})); 'submitted'\" 2>/dev/null && sleep 3\n```\n\n### Product Discovery: Finding Available Items\n\n**List available \"Add\" buttons (shows product names):**\n```bash\n$INTERACT --eval=\"JSON.stringify(Array.from(document.querySelectorAll('button[aria-label*=\\\"Add\\\"]')).slice(0,8).map(b => b.getAttribute('aria-label')))\" 2>/dev/null\n```\n\n**Get page content to see prices and sizes:**\n```bash\n$INTERACT --eval=\"document.body.innerText.substring(0, 4000)\" 2>/dev/null\n```\n\n### Adding Products to Cart\n\n**Instacart uses aria-labels for product buttons. Key patterns:**\n\n| Action | Aria-label Pattern |\n|--------|-------------------|\n| Add item | `Add 1 ct [Product Name]` or `Add 1 lb [Product Name]` |\n| Increment | `Increment quantity of [Product Name]` |\n| Decrement | `Decrement quantity of [Product Name]` |\n| Remove | `Remove [Product Name]` |\n\n**Add a product (exact match):**\n```bash\n$INTERACT --eval=\"var btn = document.querySelector('button[aria-label=\\\"Add 1 ct Store Brand Baby Spinach\\\"]'); if(btn) { btn.click(); 'Added'; } else { 'Not found'; }\" 2>/dev/null\n```\n\n**Add a product (partial match - more flexible):**\n```bash\n$INTERACT --eval=\"var btn = document.querySelector('button[aria-label*=\\\"Add\\\"][aria-label*=\\\"Spinach\\\"]'); if(btn) { btn.click(); 'Added'; } else { 'Not found'; }\" 2>/dev/null\n```\n\n### Quantity Management\n\n**Increment quantity (add more of same item):**\n```bash\n$INTERACT --eval=\"var btn = document.querySelector('button[aria-label*=\\\"Increment\\\"][aria-label*=\\\"Avocado\\\"]'); if(btn) { btn.click(); 'Incremented'; } else { 'Not found'; }\" 2>/dev/null\n```\n\n**Increment multiple times (e.g., get 6 avocados):**\n```bash\n# Add first one, then increment 5 times\n$INTERACT --eval=\"document.querySelector('button[aria-label*=\\\"Add\\\"][aria-label*=\\\"Avocado\\\"]').click(); 'Added 1'\" 2>/dev/null && sleep 1\nfor i in 1 2 3 4 5; do\n  sleep 0.5\n  $INTERACT --eval=\"var btn = document.querySelector('button[aria-label*=\\\"Increment\\\"][aria-label*=\\\"Avocado\\\"]'); if(btn) btn.click(); 'Inc'\" 2>/dev/null\ndone\n```\n\n**JavaScript loop for multiple increments (faster):**\n```bash\n$INTERACT --eval=\"for(let i=0;i<5;i++){var btn=document.querySelector('button[aria-label*=\\\"Increment\\\"][aria-label*=\\\"Lemon\\\"]');if(btn)btn.click();} 'Incremented to 6'\" 2>/dev/null\n```\n\n**Remove item from cart:**\n```bash\n$INTERACT --eval=\"var btn = document.querySelector('button[aria-label=\\\"Remove Bertolli Original Extra Virgin Olive Oil\\\"]'); if(btn) { btn.click(); 'Removed'; } else { 'Not found'; }\" 2>/dev/null\n```\n\n### Cart Management\n\n**View cart (click cart badge):**\n```bash\n$INTERACT --eval=\"var badge = Array.from(document.querySelectorAll('*')).find(el => /^\\\\d+$/.test(el.innerText.trim()) && parseInt(el.innerText) > 10 && el.offsetWidth < 50); if(badge) { var parent = badge.closest('a') || badge.closest('button') || badge.parentElement.parentElement; if(parent) parent.click(); 'clicked cart'; } else { 'cart not found'; }\" 2>/dev/null && sleep 2\n```\n\n**Get cart total:**\n```bash\n$INTERACT --eval=\"document.body.innerText.match(/\\\\$\\\\d{2,3}\\\\.\\\\d{2}/) ? document.body.innerText.match(/\\\\$\\\\d{2,3}\\\\.\\\\d{2}/)[0] : 'no total found'\" 2>/dev/null\n```\n\n**List all items in cart with prices (when cart panel is open):**\n```bash\n$INTERACT --eval=\"document.body.innerText.substring(5500, 12000)\" 2>/dev/null\n```\n\n**Find all remove/decrement buttons in cart:**\n```bash\n$INTERACT --eval=\"Array.from(document.querySelectorAll('button')).filter(b => b.getAttribute('aria-label') && (b.getAttribute('aria-label').includes('Remove') || b.getAttribute('aria-label').includes('Decrement'))).slice(0,20).map(b => b.getAttribute('aria-label')).join(' | ')\" 2>/dev/null\n```\n\n### Complete Shopping Workflow\n\n**Efficient pattern for adding multiple items:**\n\n```bash\n# Function to search and add item\nadd_item() {\n  local search=\"$1\"\n  local product=\"$2\"\n  local qty=\"${3:-1}\"\n\n  # Search\n  $INTERACT --eval=\"var input = document.querySelector('#search-bar-input'); input.select(); document.execCommand('delete'); 'cleared'\" 2>/dev/null\n  $INTERACT --type=\"#search-bar-input=$search\" 2>/dev/null\n  $INTERACT --eval=\"document.querySelector('#search-bar-input').closest('form').dispatchEvent(new Event('submit', {bubbles: true, cancelable: true})); 'submitted'\" 2>/dev/null\n  sleep 3\n\n  # Add\n  $INTERACT --eval=\"var btn = document.querySelector('button[aria-label*=\\\"Add\\\"][aria-label*=\\\"$product\\\"]'); if(btn) { btn.click(); 'Added'; } else { 'Not found'; }\" 2>/dev/null\n  sleep 1\n\n  # Increment if qty > 1\n  if [ \"$qty\" -gt 1 ]; then\n    for i in $(seq 2 $qty); do\n      sleep 0.5\n      $INTERACT --eval=\"var btn = document.querySelector('button[aria-label*=\\\"Increment\\\"][aria-label*=\\\"$product\\\"]'); if(btn) btn.click();\" 2>/dev/null\n    done\n  fi\n}\n\n# Usage examples:\nadd_item \"avocados\" \"Hass Avocado\" 6\nadd_item \"baby spinach\" \"Store Brand Baby Spinach\" 2\nadd_item \"bell peppers\" \"Green Bell Pepper\" 2\n```\n\n### Troubleshooting Instacart-Specific Issues\n\n**Problem: Search terms concatenate (e.g., \"lemonsfresh thyme\")**\n- **Cause**: Previous search text not cleared\n- **Solution**: Always clear with `input.select(); document.execCommand('delete')` before typing\n\n**Problem: \"Add\" button not found**\n- **Cause**: Product name in aria-label doesn't match search\n- **Solution**:\n  1. List available buttons: `JSON.stringify(Array.from(document.querySelectorAll('button[aria-label*=\"Add\"]')).slice(0,8).map(b => b.getAttribute('aria-label')))`\n  2. Use partial match: `aria-label*=\"Add\"][aria-label*=\"partial name\"`\n\n**Problem: Store not available at address**\n- **Cause**: Instacart shows different stores based on delivery address\n- **Solution**: Check which stores are available at current address, or change address\n\n**Problem: Cart shows wrong item count**\n- **Cause**: Some items are sold by weight (e.g., meat shows as 1 item but weighs 5 lbs)\n- **Solution**: This is normal - check cart details for actual quantities\n\n**Problem: Prices differ between stores**\n- **Cause**: Each store has independent pricing\n- **Solution**: Compare carts between stores, swap expensive items for alternatives\n\n### Product Selection Tips\n\n1. **Prefer Store Brand** - Usually cheapest option, search results often show store brand\n2. **Check sizes** - \"16 oz\" vs \"50.7 oz\" significantly affects price\n3. **Value packs** - Look for \"Value Pack\" in product names for better per-unit pricing\n4. **Per-pound items** - Meat/produce sold by weight; qty is weight, not count\n5. **Watch for sales** - \"With loyalty card\" prices shown in results\n\n### Key Lessons Learned\n\n1. **Always use `interact` after initial `navigate`** - Instacart is an SPA; navigation resets state\n2. **Clear search input before new searches** - Prevents concatenation bugs\n3. **Use aria-label selectors** - Most reliable way to find Instacart buttons\n4. **Add `2>/dev/null`** - Suppresses noisy stderr output from Chrome driver\n5. **Add `sleep 3` after search submit** - Allow time for results to load\n6. **Partial aria-label matches (`*=`)** - More robust than exact matches\n7. **Check cart periodically** - Verify items added correctly\n8. **Store availability varies by address** - Not all stores deliver everywhere\n",
        ".beads/README.md": "# Beads - AI-Native Issue Tracking\n\nWelcome to Beads! This repository uses **Beads** for issue tracking - a modern, AI-native tool designed to live directly in your codebase alongside your code.\n\n## What is Beads?\n\nBeads is issue tracking that lives in your repo, making it perfect for AI coding agents and developers who want their issues close to their code. No web UI required - everything works through the CLI and integrates seamlessly with git.\n\n**Learn more:** [github.com/steveyegge/beads](https://github.com/steveyegge/beads)\n\n## Quick Start\n\n### Essential Commands\n\n```bash\n# Create new issues\nbd create \"Add user authentication\"\n\n# View all issues\nbd list\n\n# View issue details\nbd show <issue-id>\n\n# Update issue status\nbd update <issue-id> --status in-progress\nbd update <issue-id> --status done\n\n# Sync with git remote\nbd sync\n```\n\n### Working with Issues\n\nIssues in Beads are:\n- **Git-native**: Stored in `.beads/issues.jsonl` and synced like code\n- **AI-friendly**: CLI-first design works perfectly with AI coding agents\n- **Branch-aware**: Issues can follow your branch workflow\n- **Always in sync**: Auto-syncs with your commits\n\n## Why Beads?\n\nâœ¨ **AI-Native Design**\n- Built specifically for AI-assisted development workflows\n- CLI-first interface works seamlessly with AI coding agents\n- No context switching to web UIs\n\nðŸš€ **Developer Focused**\n- Issues live in your repo, right next to your code\n- Works offline, syncs when you push\n- Fast, lightweight, and stays out of your way\n\nðŸ”§ **Git Integration**\n- Automatic sync with git commits\n- Branch-aware issue tracking\n- Intelligent JSONL merge resolution\n\n## Get Started with Beads\n\nTry Beads in your own projects:\n\n```bash\n# Install Beads\ncurl -sSL https://raw.githubusercontent.com/steveyegge/beads/main/scripts/install.sh | bash\n\n# Initialize in your repo\nbd init\n\n# Create your first issue\nbd create \"Try out Beads\"\n```\n\n## Learn More\n\n- **Documentation**: [github.com/steveyegge/beads/docs](https://github.com/steveyegge/beads/tree/main/docs)\n- **Quick Start Guide**: Run `bd quickstart`\n- **Examples**: [github.com/steveyegge/beads/examples](https://github.com/steveyegge/beads/tree/main/examples)\n\n---\n\n*Beads: Issue tracking that moves at the speed of thought* âš¡\n",
        ".claude/skills/browser-automation/SKILL.md": "---\ndescription: Automate Chrome browser via DevTools Protocol. Use when user asks to scrape websites, take screenshots, generate PDFs, interact with web pages, extract content, fill forms, or automate browser tasks. (project)\n---\n\n# Browser Automation with Chrome DevTools Protocol\n\nControl Chrome browser programmatically using simple command-line scripts. All scripts auto-start Chrome in headless mode if not running.\n\n## Global Options (All Commands)\n\nAll commands support these options for session persistence and interactive use:\n\n- `--no-headless` - Run Chrome with a visible window (required for interactive sites, login, etc.)\n- `--user-data=PATH` - Use a specific Chrome profile directory to preserve cookies, logins, and session state between runs\n\n**Example: Persistent session for logged-in sites**\n```bash\n# First time: login interactively with visible browser\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://instacart.com --no-headless --user-data=~/.chrome-instacart\n\n# After logging in manually, future commands use same profile (cookies preserved)\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://instacart.com/store/market-32 --user-data=~/.chrome-instacart\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://instacart.com/account --user-data=~/.chrome-instacart /tmp/account.png\n```\n\n## Available Commands\n\nAll scripts are in `${CLAUDE_PLUGIN_ROOT}/bin/`:\n\n### screenshot - Capture web pages as images\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot URL [OUTPUT] [OPTIONS]\n```\n\nOptions:\n- `--full-page` - Capture entire scrollable page\n- `--selector=CSS` - Capture specific element\n- `--format=png|jpeg|webp` - Output format (default: png)\n- `--quality=N` - JPEG/WebP quality 0-100\n- `--width=N --height=N` - Set viewport size\n- `--max-dimension=N` - Max output dimension (default: 8000, auto-scales large pages)\n\nExamples:\n```bash\n# Basic screenshot\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/page.png\n\n# Full page as JPEG\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/full.jpg --full-page --format=jpeg\n\n# Capture specific element\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/header.png --selector=\"header\"\n```\n\n### pdf - Generate PDFs from web pages\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/pdf URL [OUTPUT] [OPTIONS]\n```\n\nOptions:\n- `--paper=letter|a4|legal|a3|a5|tabloid` - Paper size (default: letter)\n- `--landscape` - Landscape orientation\n- `--margin=INCHES` - All margins (default: 0.4)\n- `--scale=FACTOR` - Scale 0.1-2.0 (default: 1.0)\n- `--no-background` - Skip background colors/images\n\nExamples:\n```bash\n# Basic PDF\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/doc.pdf\n\n# A4 landscape\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/report.pdf --paper=a4 --landscape\n\n# Tight margins\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/compact.pdf --margin=0.25\n```\n\n### extract - Extract content from web pages\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/extract URL [OPTIONS]\n```\n\nOptions:\n- `--format=markdown|text|html` - Output format (default: markdown)\n- `--selector=CSS` - Extract specific element only\n- `--links` - Also list all links\n- `--images` - Also list all images\n- `--metadata` - Also show page metadata\n\nExamples:\n```bash\n# Get page as markdown\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com\n\n# Get plain text from article\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --format=text --selector=\"article\"\n\n# Get all links and metadata\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --links --metadata\n```\n\n### navigate - Navigate and interact with pages\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/navigate URL [OPTIONS]\n```\n\nOptions:\n- `--wait-for=SELECTOR` - Wait for element to appear\n- `--click=SELECTOR` - Click an element\n- `--type=SELECTOR=TEXT` - Type text into input field\n- `--eval=JAVASCRIPT` - Execute JavaScript and print result\n- `--timeout=SECONDS` - Timeout (default: 30)\n\nExamples:\n```bash\n# Navigate and wait for content\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://example.com --wait-for=\"#content\"\n\n# Fill form and submit\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://google.com --type=\"input[name=q]=hello\" --click=\"input[type=submit]\"\n\n# Get page title via JavaScript\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://example.com --eval=\"document.title\"\n```\n\n### form - Fill out and submit web forms\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/form URL [OPTIONS]\n```\n\nOptions:\n- `--fill=SELECTOR=VALUE` - Fill input field (can repeat)\n- `--select=SELECTOR=VALUE` - Select dropdown option (can repeat)\n- `--fill-json='{\"sel\":\"val\"}'` - Fill multiple fields from JSON\n- `--submit=SELECTOR` - Click submit button after filling\n- `--wait-for=SELECTOR` - Wait for element before filling\n- `--wait-after=SELECTOR` - Wait for element after submit\n- `--screenshot=PATH` - Take screenshot after completion\n\nExamples:\n```bash\n# Login form\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/login \\\n  --fill='#username=john' \\\n  --fill='#password=secret' \\\n  --submit='button[type=submit]'\n\n# Form with dropdowns\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/register \\\n  --fill='#name=John Doe' \\\n  --fill='#email=john@example.com' \\\n  --select='#country=US' \\\n  --submit='#register-btn'\n\n# Using JSON\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/contact \\\n  --fill-json='{\"#name\":\"John\",\"#email\":\"john@test.com\"}' \\\n  --submit='button.send'\n```\n\n### record - Record screencast frames\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/record URL OUTPUT_DIR [OPTIONS]\n```\n\nOptions:\n- `--duration=SECONDS` - Recording duration (default: 5)\n- `--count=N` - Exact number of frames to capture\n- `--format=jpeg|png` - Frame format (default: jpeg)\n- `--quality=N` - JPEG quality 0-100 (default: 80)\n- `--max-width=N` - Maximum frame width\n- `--max-height=N` - Maximum frame height\n- `--fps=N` - Approximate frames per second (default: 10)\n\nExamples:\n```bash\n# Record 5 seconds\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames\n\n# Record 30 PNG frames\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames --count=30 --format=png\n\n# Convert to video with ffmpeg\nffmpeg -framerate 10 -i /tmp/frames/frame-%04d.jpg -c:v libx264 output.mp4\n```\n\n### interact - Interact with current page (no navigation)\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/interact [OPTIONS]\n```\n\n**This is the key command for multi-step workflows.** Unlike `navigate`, this command connects to the already-open browser tab and performs actions WITHOUT reloading the page. Essential for:\n- Multi-step processes (search â†’ click result â†’ add to cart)\n- Single-page applications (SPAs)\n- Sites where navigation resets state\n\nOptions:\n- `--click=SELECTOR` - Click element matching CSS selector\n- `--type=SELECTOR=TEXT` - Type text into input field\n- `--eval=JAVASCRIPT` - Execute JavaScript and print result\n- `--wait-for=SELECTOR` - Wait for element to appear\n- `--select=SELECTOR=VALUE` - Select dropdown option\n- `--focus=SELECTOR` - Focus an element\n- `--text=SELECTOR` - Get text content of element\n- `--timeout=SECONDS` - Timeout (default: 30)\n\nExamples:\n```bash\n# Execute JavaScript on current page\n${CLAUDE_PLUGIN_ROOT}/bin/interact --eval=\"document.title\" --user-data=~/.chrome-mysite\n\n# Click a button on current page\n${CLAUDE_PLUGIN_ROOT}/bin/interact --click=\"#submit-btn\" --user-data=~/.chrome-mysite\n\n# Type into an input without navigating away\n${CLAUDE_PLUGIN_ROOT}/bin/interact --type=\"#search=query\" --user-data=~/.chrome-mysite\n\n# Chain actions: focus, type, then click\n${CLAUDE_PLUGIN_ROOT}/bin/interact --focus=\"#search\" --type=\"#search=pork\" --click=\"#search-btn\" --user-data=~/.chrome-mysite\n\n# Get text from an element\n${CLAUDE_PLUGIN_ROOT}/bin/interact --text=\"h1.title\" --user-data=~/.chrome-mysite\n```\n\n### chrome-status - Check browser status\n\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/chrome-status\n```\n\nShows whether Chrome is running, version info, and open tabs.\n\n## Common Workflows\n\n### Screenshot a page\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/screenshot https://example.com /tmp/screenshot.png\n```\n\n### Convert page to PDF\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/pdf https://example.com /tmp/document.pdf --paper=a4\n```\n\n### Scrape page content\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/extract https://example.com --format=markdown\n```\n\n### Fill and submit a form\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/form https://example.com/login \\\n  --fill='#username=user' \\\n  --fill='#password=pass' \\\n  --submit='button[type=submit]' \\\n  --wait-after='.dashboard'\n```\n\n### Record a screencast\n```bash\n${CLAUDE_PLUGIN_ROOT}/bin/record https://example.com /tmp/frames --duration=10\nffmpeg -framerate 10 -i /tmp/frames/frame-%04d.jpg -c:v libx264 video.mp4\n```\n\n## Notes\n\n- Chrome auto-starts in headless mode when needed (use `--no-headless` for visible browser)\n- Chrome continues running between commands for speed\n- Use `--user-data=PATH` to preserve login/cookies between sessions\n- Use `pkill -f 'chrome.*--remote-debugging-port'` to stop Chrome manually\n- Default port is 9222; set `CHROME_DRIVER_PORT` to change\n- All scripts support `--help` for full usage info\n- Large screenshots are auto-scaled to fit within 8000px (API limit)\n\n## Session Management Tips\n\nFor sites requiring login (Instacart, Amazon, banking, etc.):\n\n1. **Create a persistent profile**: Use `--user-data=~/.chrome-sitename` consistently\n2. **First-time login**: Use `--no-headless` to see the browser and log in manually\n3. **Subsequent automation**: Same `--user-data` path preserves your session\n4. **Multiple accounts**: Use different `--user-data` paths for different accounts/sites\n\n---\n\n## Multi-Step Workflow Guide: Shopping Sites (Instacart, Amazon, etc.)\n\nThis section walks through automating complex multi-step processes on sites that require login and multiple interactions. The key insight is using **two commands together**:\n\n- `navigate` - Go to a URL (use for initial navigation)\n- `interact` - Work with the current page without reloading (use for everything after)\n\n### Understanding the Two-Command Pattern\n\n**Why `navigate` alone isn't enough:**\n- `navigate` ALWAYS loads/reloads the specified URL\n- Each `navigate` call is independent - it doesn't \"continue\" from the previous state\n- Multi-step workflows (search â†’ select â†’ add to cart) break because each step resets\n\n**Why `interact` is essential:**\n- `interact` connects to the EXISTING browser tab\n- It performs actions on whatever page is currently displayed\n- The page state is preserved between `interact` calls\n- Perfect for SPAs and multi-step processes\n\n### Complete Example: Adding Items to Instacart Cart\n\nHere's a real-world example that works:\n\n#### Step 1: Initial Setup - Create Profile and Login\n\nFirst time only - open browser visibly so user can log in:\n\n```bash\n# Open Instacart with visible browser and persistent profile\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://www.instacart.com \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# USER ACTION: Log in manually in the browser window\n# Your cookies/session will be saved to ~/.chrome-instacart\n```\n\n#### Step 2: Navigate to Store\n\nAfter login, go to the desired store:\n\n```bash\n# First, find the correct store URL by checking the homepage\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://www.instacart.com/store \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Use JavaScript to find links containing your store name\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"Array.from(document.querySelectorAll('a')).filter(a => a.innerText.includes('Market 32')).map(a => a.href).join('\\n')\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Navigate to the store (use the URL found above)\n${CLAUDE_PLUGIN_ROOT}/bin/navigate https://www.instacart.com/store/price-chopper-ny/storefront \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 3: Search for Product (Multi-Step with interact)\n\nNow use `interact` to search WITHOUT navigating away:\n\n```bash\n# Click the search input\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --click=\"#search-bar-input\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Type the search query\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --type=\"#search-bar-input=pork shoulder\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n\n# Submit the search using JavaScript (trigger form submit event)\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"var input = document.querySelector('#search-bar-input'); var form = input.closest('form'); form.dispatchEvent(new Event('submit', {bubbles: true, cancelable: true})); 'submitted'\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 4: View Search Results\n\nCheck what products are available:\n\n```bash\n# Wait a moment for results to load, then check the page content\nsleep 2\n\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"document.body.innerText.substring(0, 2000)\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 5: Add Product to Cart\n\nClick the Add button for the desired product:\n\n```bash\n# Find and click the first \"Add\" button\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"var addBtns = Array.from(document.querySelectorAll('button')).filter(b => b.innerText.trim() === 'Add'); if (addBtns.length > 0) { addBtns[0].click(); 'Added to cart'; } else { 'No Add button found'; }\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n#### Step 6: Verify Cart Updated\n\nConfirm the item was added:\n\n```bash\n# Check cart count or page state\n${CLAUDE_PLUGIN_ROOT}/bin/interact \\\n  --eval=\"document.body.innerText.includes('2') ? 'Cart has 2 items' : document.body.innerText.substring(0, 500)\" \\\n  --no-headless \\\n  --user-data=~/.chrome-instacart\n```\n\n### Key Techniques for Multi-Step Automation\n\n#### 1. Finding Elements with JavaScript\n\nWhen CSS selectors are complex or dynamic, use `--eval` to find elements:\n\n```bash\n# Find all buttons with specific text\n--eval=\"Array.from(document.querySelectorAll('button')).filter(b => b.innerText.includes('Add')).length\"\n\n# Find links by text content\n--eval=\"Array.from(document.querySelectorAll('a')).filter(a => a.innerText.includes('Checkout'))[0].href\"\n\n# Get input field IDs/names\n--eval=\"JSON.stringify(Array.from(document.querySelectorAll('input')).map(i => ({id: i.id, name: i.name, placeholder: i.placeholder})))\"\n```\n\n#### 2. Clicking Elements via JavaScript\n\nWhen `--click` doesn't work (dynamic elements, overlays, etc.):\n\n```bash\n# Click by finding element with JS\n--eval=\"document.querySelector('.add-to-cart-btn').click(); 'clicked'\"\n\n# Click first matching element\n--eval=\"Array.from(document.querySelectorAll('button')).filter(b => b.innerText === 'Add')[0].click(); 'clicked'\"\n```\n\n#### 3. Submitting Forms\n\nDifferent approaches for form submission:\n\n```bash\n# Method 1: Dispatch submit event (most reliable for SPAs)\n--eval=\"document.querySelector('form').dispatchEvent(new Event('submit', {bubbles: true, cancelable: true})); 'submitted'\"\n\n# Method 2: Click submit button\n--click=\"button[type=submit]\"\n\n# Method 3: Call submit() directly\n--eval=\"document.querySelector('form').submit(); 'submitted'\"\n```\n\n#### 4. Waiting for Dynamic Content\n\nUse `--wait-for` or JavaScript polling:\n\n```bash\n# Wait for element to appear\n--wait-for=\".search-results\"\n\n# Or use JavaScript with timeout\n--eval=\"new Promise(r => { let i = setInterval(() => { if (document.querySelector('.results')) { clearInterval(i); r('found'); }}, 100); setTimeout(() => { clearInterval(i); r('timeout'); }, 5000); })\"\n```\n\n#### 5. Reading Page State\n\nExtract information to make decisions:\n\n```bash\n# Get current URL\n--eval=\"window.location.href\"\n\n# Check if logged in\n--eval=\"document.body.innerText.includes('Sign Out') ? 'logged in' : 'not logged in'\"\n\n# Get cart count\n--eval=\"document.querySelector('.cart-count')?.innerText || '0'\"\n\n# Get product prices\n--eval=\"JSON.stringify(Array.from(document.querySelectorAll('.price')).map(p => p.innerText))\"\n```\n\n### Troubleshooting Multi-Step Workflows\n\n#### Problem: Page resets between commands\n**Solution**: Use `interact` instead of `navigate` for all steps after initial navigation.\n\n#### Problem: Elements not found\n**Solution**:\n1. Use `--eval` to inspect the page structure\n2. Wait for dynamic content with `--wait-for` or `sleep`\n3. Check if element is in an iframe\n\n#### Problem: Click doesn't work\n**Solution**:\n1. Try JavaScript click: `--eval=\"document.querySelector('...').click()\"`\n2. Scroll element into view first\n3. Check for overlays blocking the element\n\n#### Problem: Form doesn't submit\n**Solution**:\n1. Use form submit event: `form.dispatchEvent(new Event('submit', ...))`\n2. Check if it's a SPA with custom form handling\n3. Look for and click the actual submit button\n\n#### Problem: Login session lost\n**Solution**:\n1. Always use same `--user-data` path\n2. Check if cookies expired\n3. Some sites require re-login periodically\n\n### Best Practices\n\n1. **Always use `--user-data`** for sites requiring login\n2. **Use `--no-headless`** during development to see what's happening\n3. **Start with `navigate`** to load the initial page\n4. **Switch to `interact`** for all subsequent actions on that page\n5. **Use `--eval` liberally** to inspect page state and find elements\n6. **Add `sleep` between actions** if the site needs time to update\n7. **Check results after each step** to verify the action worked\n",
        "README.md": "# chrome-driver\n\nA Claude Code plugin that enables LLMs to interact with web pages through Chrome DevTools Protocol, implemented in pure Perl with no external dependencies.\n\n## Features\n\n- **Browser Automation**: Navigate, click, type, interact with web pages\n- **Content Extraction**: Extract HTML, text, or markdown from pages\n- **Visual Capture**: Take screenshots (PNG, JPEG, WebP)\n- **PDF Generation**: Convert pages to PDF with full control\n- **JavaScript Execution**: Run JavaScript in browser context\n- **Session Management**: Save/load cookies and authentication state\n- **Zero Dependencies**: Pure Perl 5.14+ with standard modules only\n\n## Installation\n\n### Prerequisites\n\n- Perl 5.14 or later (included with macOS/Linux)\n- Chrome or Chromium browser\n\n### Install Plugin\n\n**Via Focus Marketplace (Recommended):**\n```bash\n# Add the Focus marketplace (if not already added)\n/plugin marketplace add The-Focus-AI/claude-marketplace\n\n# Install the plugin\n/plugin install chrome-driver@focus-marketplace\n```\n\nThen restart Claude Code.\n\n**Manual Installation:**\n```bash\n# Clone repository\ngit clone https://github.com/The-Focus-AI/chrome-driver\ncd chrome-driver\n\n# The plugin is self-contained in .claude-plugin/\n# Point Claude Code to this directory or copy to your plugins location\n```\n\n## Quick Start\n\n### Use with Claude Code\n\nSimply ask Claude to interact with websites:\n\n```\n> Take a screenshot of example.com\n> Extract the text from https://news.ycombinator.com\n> Generate a PDF of this page\n> Fill out the login form at https://example.com/login\n```\n\nThe browser-automation skill will automatically activate.\n\n### Slash Commands\n\nQuick commands for common tasks:\n\n```bash\n/browser              # Check browser status\n/screenshot URL       # Take screenshot\n/pdf URL              # Generate PDF\n/extract URL          # Extract content\n/navigate URL         # Navigate and interact\n/interact             # Multi-step interactions (no page reload)\n/form URL             # Fill and submit forms\n/record URL DIR       # Record screencast frames\n/cookies              # Manage sessions\n```\n\n### Direct Perl Usage\n\n```perl\nuse ChromeDriver;\nuse Page::Navigation;\nuse Content::Extraction;\n\n# Start browser\nmy $chrome = ChromeDriver->new(headless => 1);\n$chrome->connect_to_page() or die $chrome->error;\n\n# Navigate\nmy $nav = Page::Navigation->new(chrome => $chrome);\n$nav->goto('https://example.com');\n\n# Extract content\nmy $content = Content::Extraction->new(chrome => $chrome);\nmy $markdown = $content->markdown();\nmy @links = $content->links();\n\n# Clean up\n$chrome->close();\n```\n\n## Modules\n\n| Module | Purpose |\n|--------|---------|\n| `ChromeDriver` | Core CDP connection and messaging |\n| `Page::Navigation` | Navigate, reload, history |\n| `Content::Extraction` | Extract HTML, text, markdown, links, images |\n| `Visual::Capture` | Screenshots and viewport control |\n| `Print::PDF` | PDF generation with full options |\n| `DOM::Elements` | Query, click, type, interact with elements |\n| `JS::Execute` | Execute JavaScript in browser |\n| `Session::Cookies` | Cookie management and persistence |\n| `Help::Browser` | Interactive help system |\n\n## Examples\n\n### Scrape Website Content\n\n```perl\nuse ChromeDriver;\nuse Page::Navigation;\nuse Content::Extraction;\n\nmy $chrome = ChromeDriver->new(headless => 1);\n$chrome->connect_to_page();\n\nmy $nav = Page::Navigation->new(chrome => $chrome);\nmy $content = Content::Extraction->new(chrome => $chrome);\n\n$nav->goto('https://example.com');\nmy $text = $content->text('article');\nmy @links = $content->links();\n\nprint \"Content: $text\\n\";\nprint \"Found \" . scalar(@links) . \" links\\n\";\n\n$chrome->close();\n```\n\n### Fill Form and Submit\n\n```perl\nuse ChromeDriver;\nuse Page::Navigation;\nuse DOM::Elements;\n\nmy $chrome = ChromeDriver->new(headless => 1);\n$chrome->connect_to_page();\n\nmy $nav = Page::Navigation->new(chrome => $chrome);\nmy $dom = DOM::Elements->new(chrome => $chrome);\n\n$nav->goto('https://example.com/login');\n$dom->type('input[name=\"email\"]', 'user@example.com');\n$dom->type('input[name=\"password\"]', 'secret');\n$dom->click('button[type=\"submit\"]');\n\n$dom->wait_for('.dashboard', 10);\nprint \"Logged in successfully!\\n\";\n\n$chrome->close();\n```\n\n### Generate PDF Report\n\n```perl\nuse ChromeDriver;\nuse Page::Navigation;\nuse Print::PDF;\n\nmy $chrome = ChromeDriver->new(headless => 1);\n$chrome->connect_to_page();\n\nmy $nav = Page::Navigation->new(chrome => $chrome);\nmy $pdf = Print::PDF->new(chrome => $chrome);\n\n$nav->goto('https://example.com/report');\n$pdf->a4(\n    file => '/tmp/report.pdf',\n    margin => 1,\n    print_background => 1\n);\n\nprint \"PDF saved to /tmp/report.pdf\\n\";\n\n$chrome->close();\n```\n\n### Take Full-Page Screenshot\n\n```perl\nuse ChromeDriver;\nuse Page::Navigation;\nuse Visual::Capture;\n\nmy $chrome = ChromeDriver->new(headless => 1);\n$chrome->connect_to_page();\n\nmy $nav = Page::Navigation->new(chrome => $chrome);\nmy $capture = Visual::Capture->new(chrome => $chrome);\n\n$nav->goto('https://example.com');\n$capture->screenshot(\n    file => '/tmp/page.png',\n    full_page => 1\n);\n\nprint \"Screenshot saved to /tmp/page.png\\n\";\n\n$chrome->close();\n```\n\n## Testing\n\n```bash\n# Unit tests\nprove -Ilib t/\n\n# Integration tests (requires Chrome)\nCHROME_TEST=1 prove -Ilib t/\n\n# Specific test\nperl -Ilib t/01-frame.t\n```\n\n## Documentation\n\n### Get Help in Code\n\n```perl\nuse Help::Browser qw(browser_help);\n\nprint browser_help();              # Overview\nprint browser_help('navigation');  # Topic help\nprint browser_help('examples');    # Usage examples\n```\n\n### Available Help Topics\n\n- `overview` - Plugin overview and quick start\n- `navigation` - Page navigation (goto, back, forward)\n- `content` - Content extraction (HTML, text, markdown)\n- `screenshot` - Screenshots and viewport control\n- `pdf` - PDF generation\n- `dom` - DOM queries and interactions\n- `javascript` - JavaScript execution\n- `cookies` - Cookie management\n- `cdp` - Chrome DevTools Protocol reference\n- `examples` - Common usage examples\n\n## Troubleshooting\n\n### Chrome Won't Start\n\n```bash\n# Check if Chrome is installed\ngoogle-chrome --version\n\n# Try starting manually\ngoogle-chrome --remote-debugging-port=9222 --headless\n\n# Kill orphan processes\npkill -f 'chrome.*--remote-debugging-port'\n```\n\n### Connection Issues\n\n```bash\n# Check if Chrome is running\ncurl http://localhost:9222/json/version\n\n# Check port availability\nlsof -i :9222\n\n# View Chrome debugging targets\ncurl http://localhost:9222/json\n```\n\n### Element Not Found\n\n- Use `$dom->wait_for($selector, $timeout)` for dynamic content\n- Verify selector with browser DevTools (F12)\n- Ensure page has fully loaded\n- Check for iframes (content may be in a different frame)\n\n## Architecture\n\n### How It Works\n\n1. **Chrome Startup**: Auto-detects and launches Chrome with `--remote-debugging-port=9222`\n2. **WebSocket Connection**: Implements RFC 6455 WebSocket handshake in pure Perl\n3. **CDP Protocol**: Sends JSON-RPC messages over WebSocket\n4. **Event Handling**: Subscribes to CDP events for async operations\n5. **Cleanup**: Hooks ensure Chrome processes are killed when session ends\n\n### No External Dependencies\n\nUses only Perl standard library modules:\n- `IO::Socket::INET` - TCP sockets\n- `HTTP::Tiny` - HTTP requests\n- `JSON::PP` - JSON encoding/decoding\n- `Digest::SHA` - WebSocket handshake\n- `MIME::Base64` - Base64 encoding\n\n## Contributing\n\nContributions welcome! Please:\n\n1. Follow existing code style\n2. Add tests for new features\n3. Update documentation\n4. Keep dependencies at zero (core Perl only)\n\n## License\n\nMIT License - see LICENSE file for details\n\n## Credits\n\nBuilt with Claude Code for automated browser interactions via Chrome DevTools Protocol.\n\n## Links\n\n- Chrome DevTools Protocol: https://chromedevtools.github.io/devtools-protocol/\n- RFC 6455 (WebSocket): https://tools.ietf.org/html/rfc6455\n- Claude Code: https://claude.com/claude-code\n"
      },
      "plugins": [
        {
          "name": "chrome-driver",
          "source": {
            "source": "local",
            "path": "./"
          },
          "version": "0.1.0",
          "description": "Interact with web pages via Chrome DevTools Protocol using pure Perl",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add The-Focus-AI/chrome-driver",
            "/plugin install chrome-driver@chrome-driver-dev"
          ]
        }
      ]
    }
  ]
}