{
  "author": {
    "id": "raine",
    "display_name": "Raine Virta",
    "avatar_url": "https://avatars.githubusercontent.com/u/11027?u=d9e8e59b86147f5d1cbd789b105a43f2cda1f298&v=4"
  },
  "marketplaces": [
    {
      "name": "workmux",
      "version": null,
      "description": "Plugins for workmux - git worktrees and tmux workflow tool",
      "repo_full_name": "raine/workmux",
      "repo_url": "https://github.com/raine/workmux",
      "repo_description": "git worktrees + tmux windows for zero-friction parallel dev",
      "signals": {
        "stars": 711,
        "forks": 42,
        "pushed_at": "2026-02-15T21:32:39Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"workmux\",\n  \"owner\": {\n    \"name\": \"raine\",\n    \"email\": \"raine.virta@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Plugins for workmux - git worktrees and tmux workflow tool\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"workmux-status\",\n      \"source\": \"./\",\n      \"description\": \"Display Claude agent status (working/waiting) in tmux window names\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"workmux-status\",\n  \"description\": \"Display Claude agent status in tmux window names via workmux\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"raine\"\n  },\n  \"repository\": \"https://github.com/raine/workmux\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"tmux\", \"workmux\", \"status\", \"agent\"],\n  \"hooks\": {\n    \"UserPromptSubmit\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"workmux set-window-status working\"\n          }\n        ]\n      }\n    ],\n    \"Notification\": [\n      {\n        \"matcher\": \"permission_prompt|elicitation_dialog\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"workmux set-window-status waiting\"\n          }\n        ]\n      }\n    ],\n    \"PostToolUse\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"workmux set-window-status working\"\n          }\n        ]\n      }\n    ],\n    \"Stop\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"workmux set-window-status done\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "README.md": "<p align=\"center\">\n  <picture>\n    <source media=\"(prefers-color-scheme: dark)\" srcset=\"meta/logo-dark.svg\">\n    <img src=\"meta/logo.svg\" alt=\"workmux icon\" width=\"300\">\n  </picture>\n</p>\n\n<p align=\"center\">\n  <strong>Parallel development in tmux* with git worktrees</strong>\n</p>\n\n<p align=\"center\">\n  <a href=\"https://workmux.raine.dev/\"><strong>üìñ Documentation</strong></a> ¬∑\n  <a href=\"#installation\">Install</a> ¬∑\n  <a href=\"#quick-start\">Quick start</a> ¬∑\n  <a href=\"#commands\">Commands</a> ¬∑\n  <a href=\"CHANGELOG.md\">Changelog</a>\n</p>\n\n---\n\nGiga opinionated zero-friction workflow tool for managing\n[git worktrees](https://git-scm.com/docs/git-worktree) and tmux windows as\nisolated development environments. Perfect for running multiple AI agents in\nparallel without conflict.\n\n\\*Also supports [kitty](https://workmux.raine.dev/guide/kitty) and\n[WezTerm](https://workmux.raine.dev/guide/wezterm) as alternative backends.\n\nüìö See the [full documentation](https://workmux.raine.dev/guide/) for guides and\nconfiguration reference.\n\nüìñ **New to workmux?** Read the\n[introduction blog post](https://raine.dev/blog/introduction-to-workmux/) for a\nquick overview.\n\nüöÄ **Using Claude Code?** Try the\n[`/worktree` command](#delegating-tasks-with-a-custom-command) to delegate tasks\nfrom your conversation.\n\n![workmux demo](https://raw.githubusercontent.com/raine/workmux/refs/heads/main/meta/demo.gif)\n\n## Why workmux?\n\n**Parallel workflows.** Work on multiple features or hotfixes at the same time,\neach with its own AI agent. No stashing, no branch switching, no conflicts.\n\n**One window per task.** A natural mental model. Each has its own terminal\nstate, editor session, dev server, and AI agent. Context switching is switching\ntabs.\n\n**tmux is the interface.** For existing and new tmux users. If you already live\nin tmux, it fits your workflow. If you don't, it's worth picking up.\n\nNew to worktrees? See [Why git worktrees?](#why-git-worktrees)\n\n## Features\n\n- Create git worktrees with matching tmux windows in a single command (`add`)\n- Merge branches and clean up everything (worktree, tmux window, branches) in\n  one command (`merge`)\n- [Dashboard](#workmux-dashboard) for monitoring agents, reviewing changes, and\n  sending commands\n- [Delegate tasks to worktree agents](#delegating-tasks-with-a-custom-command)\n  with a `/worktree` slash command\n- [Display Claude agent status in tmux window names](#agent-status-tracking)\n- Automatically set up your preferred tmux pane layout (editor, shell, watchers,\n  etc.)\n- Run post-creation hooks (install dependencies, setup database, etc.)\n- Copy or symlink configuration files (`.env`, `node_modules`) into new\n  worktrees\n- [Sandbox agents](#sandbox) in containers or VMs for enhanced security\n- [Automatic branch name generation](#automatic-branch-name-generation) from\n  prompts using LLM\n- Shell completions\n\n## Hype\n\n> \"I've been using (and loving) workmux which brings together tmux, git\n> worktrees, and CLI agents into an opinionated workflow.\"  \n> ‚Äî @Coolin96 [üîó](https://news.ycombinator.com/item?id=46029809)\n\n> \"Thank you so much for your work with workmux! It's a tool I've been wanting\n> to exist for a long time.\"  \n> ‚Äî @rstacruz [üîó](https://github.com/raine/workmux/issues/2)\n\n> \"It's become my daily driver - the perfect level of abstraction over tmux +\n> git, without getting in the way or obscuring the underlying tooling.\"  \n> ‚Äî @cisaacstern [üîó](https://github.com/raine/workmux/issues/33)\n\n## Installation\n\n### Bash YOLO\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/raine/workmux/main/scripts/install.sh | bash\n```\n\n### Homebrew (macOS/Linux)\n\n```bash\nbrew install raine/workmux/workmux\n```\n\n### Cargo\n\nRequires Rust. Install via [rustup](https://rustup.rs/) if you don't have it.\n\n```bash\ncargo install workmux\n```\n\n### Nix\n\n```bash\nnix profile install github:raine/workmux\n# or try without installing\nnix run github:raine/workmux -- --help\n```\n\nSee [Nix guide](https://workmux.raine.dev/guide/nix) for flake and home-manager\nsetup.\n\n---\n\nFor manual installation, see\n[pre-built binaries](https://github.com/raine/workmux/releases/latest).\n\n## Quick start\n\n1. **Initialize configuration (optional)**:\n\n   ```bash\n   workmux init\n   ```\n\n   This creates a `.workmux.yaml` file to customize your workflow (pane layouts,\n   setup commands, file operations, etc.). workmux works out of the box with\n   sensible defaults, so this step is optional.\n\n2. **Create a new worktree and tmux window**:\n\n   ```bash\n   workmux add new-feature\n   ```\n\n   This will:\n   - Create a git worktree at\n     `<project_root>/../<project_name>__worktrees/new-feature`\n   - Create a tmux window named `wm-new-feature` (the prefix is configurable)\n   - Set up your configured or the default tmux pane layout\n   - Automatically switch your tmux client to the new window\n\n3. **Do your thing**\n\n4. **Finish and clean up**\n\n   **Local merge:** Run `workmux merge` to merge into the base branch and clean\n   up in one step.\n\n   **PR workflow:** Push and open a PR. After it's merged, run `workmux remove`\n   to clean up.\n\n## Configuration\n\nworkmux uses a two-level configuration system:\n\n- **Global** (`~/.config/workmux/config.yaml`): Personal defaults for all\n  projects\n- **Project** (`.workmux.yaml`): Project-specific overrides\n\nProject settings override global settings. When you run workmux from a\nsubdirectory, it walks upward to find the nearest `.workmux.yaml`, allowing\nnested configs for monorepos. See the\n[Monorepos guide](https://workmux.raine.dev/guide/monorepos#nested-configuration)\nfor details. For `post_create` and file operation lists (`files.copy`,\n`files.symlink`), you can use `\"<global>\"` to include global values alongside\nproject-specific ones. Other settings like `panes` are replaced entirely when\ndefined in the project config.\n\n### Global configuration example\n\n`~/.config/workmux/config.yaml`:\n\n```yaml\nnerdfont: true # Enable nerdfont icons (prompted on first run)\nmerge_strategy: rebase # Make workmux merge do rebase by default\nagent: claude\n\npanes:\n  - command: <agent> # Start the configured agent (e.g., claude)\n    focus: true\n  - split: horizontal # Second pane with default shell\n```\n\n### Project configuration example\n\n`.workmux.yaml`:\n\n```yaml\npost_create:\n  - '<global>'\n  - mise use\n\nfiles:\n  symlink:\n    - '<global>' # Include global symlinks (node_modules)\n    - .pnpm-store # Add project-specific symlink\n\npanes:\n  - command: pnpm install\n    focus: true\n  - command: <agent>\n    split: horizontal\n  - command: pnpm run dev\n    split: vertical\n```\n\nFor a real-world example, see\n[workmux's own `.workmux.yaml`](https://github.com/raine/workmux/blob/main/.workmux.yaml).\n\n### Configuration options\n\nMost options have sensible defaults. You only need to configure what you want to\ncustomize.\n\n#### Basic options\n\n| Option           | Description                                          | Default                 |\n| ---------------- | ---------------------------------------------------- | ----------------------- |\n| `main_branch`    | Branch to merge into                                 | Auto-detected           |\n| `worktree_dir`   | Directory for worktrees (absolute or relative)       | `<project>__worktrees/` |\n| `window_prefix`  | Prefix for tmux window names                         | `wm-`                   |\n| `agent`          | Default agent for `<agent>` placeholder              | `claude`                |\n| `merge_strategy` | Default merge strategy (`merge`, `rebase`, `squash`) | `merge`                 |\n| `theme`          | Dashboard color theme (`dark`, `light`)              | `dark`                  |\n\n#### Naming options\n\n| Option            | Description                                 | Default |\n| ----------------- | ------------------------------------------- | ------- |\n| `worktree_naming` | How to derive names from branches           | `full`  |\n| `worktree_prefix` | Prefix for worktree directories and windows | none    |\n\n`worktree_naming` strategies:\n\n- `full`: Use the full branch name (slashes become dashes)\n- `basename`: Use only the part after the last `/` (e.g., `prj-123/feature` ‚Üí\n  `feature`)\n\n#### Panes\n\nDefine your tmux pane layout with the `panes` array:\n\n```yaml\npanes:\n  - command: <agent>\n    focus: true\n  - command: npm run dev\n    split: horizontal\n    size: 15\n```\n\nEach pane supports:\n\n| Option       | Description                                         | Default |\n| ------------ | --------------------------------------------------- | ------- |\n| `command`    | Command to run (use `<agent>` for configured agent) | Shell   |\n| `focus`      | Whether this pane receives focus                    | `false` |\n| `split`      | Split direction (`horizontal` or `vertical`)        | ‚Äî       |\n| `size`       | Absolute size in lines/cells                        | 50%     |\n| `percentage` | Size as percentage (1-100)                          | 50%     |\n\n**Note**: The `<agent>` placeholder must be the entire command value to be\nsubstituted. To add extra flags, either include them in the `agent` config\n(e.g., `agent: \"claude --verbose\"`) or use the literal command name (e.g.,\n`command: \"claude --verbose\"`).\n\n#### File operations\n\nCopy or symlink files into new worktrees:\n\n```yaml\nfiles:\n  copy:\n    - .env\n  symlink:\n    - node_modules\n    - .pnpm-store\n```\n\nBoth `copy` and `symlink` accept glob patterns.\n\n#### Lifecycle hooks\n\nRun commands at specific points in the worktree lifecycle. All hooks run with\nthe **worktree directory** as the working directory (or the nested config\ndirectory for\n[nested configs](https://workmux.raine.dev/guide/monorepos#nested-configuration))\nand receive environment variables: `WM_HANDLE`, `WM_WORKTREE_PATH`,\n`WM_PROJECT_ROOT`, `WM_CONFIG_DIR`.\n\n`WM_CONFIG_DIR` points to the directory containing the `.workmux.yaml` that was\nused, which may differ from `WM_WORKTREE_PATH` when using nested configs.\n\n| Hook          | When it runs                                      | Additional env vars                  |\n| ------------- | ------------------------------------------------- | ------------------------------------ |\n| `post_create` | After worktree creation, before tmux window opens | ‚Äî                                    |\n| `pre_merge`   | Before merging (aborts on failure)                | `WM_BRANCH_NAME`, `WM_TARGET_BRANCH` |\n| `pre_remove`  | Before worktree removal (aborts on failure)       | ‚Äî                                    |\n\nExample:\n\n```yaml\npost_create:\n  - direnv allow\n\npre_merge:\n  - just check\n```\n\n#### Agent status icons\n\nCustomize the icons shown in tmux window names:\n\n```yaml\nstatus_icons:\n  working: 'ü§ñ' # Agent is processing\n  waiting: 'üí¨' # Agent needs input (auto-clears on focus)\n  done: '‚úÖ' # Agent finished (auto-clears on focus)\n```\n\nSet `status_format: false` to disable automatic tmux format modification\n\n#### Default behavior\n\n- Worktrees are created in `<project>__worktrees` as a sibling directory to your\n  project by default\n- If no `panes` configuration is defined, workmux provides opinionated defaults:\n  - For projects with a `CLAUDE.md` file: Opens the configured agent (see\n    `agent` option) in the first pane, defaulting to `claude` if none is set.\n  - For all other projects: Opens your default shell.\n  - Both configurations include a second pane split horizontally\n- `post_create` commands are optional and only run if you configure them\n\n### Automatic setup with panes\n\nUse the `panes` configuration to automate environment setup. Unlike\n`post_create` hooks which must finish before the tmux window opens, pane\ncommands execute immediately _within_ the new window.\n\nThis can be used for:\n\n- **Installing dependencies**: Run `npm install` or `cargo build` in a focused\n  pane to monitor progress.\n- **Starting services**: Launch dev servers, database containers, or file\n  watchers automatically.\n- **Running agents**: Initialize AI agents with specific context.\n\nSince these run in standard tmux panes, you can interact with them (check logs,\nrestart servers) just like a normal terminal session.\n\nRunning dependency installation (like `pnpm install`) in a pane command rather\nthan `post_create` has a key advantage: you get immediate access to the tmux\nwindow while installation runs in the background. With `post_create`, you'd have\nto wait for the install to complete before the window even opens. This also\nmeans AI agents can start working immediately in their pane while dependencies\ninstall in parallel.\n\n```yaml\npanes:\n  # Pane 1: Install dependencies, then start dev server\n  - command: pnpm install && pnpm run dev\n\n  # Pane 2: AI agent\n  - command: <agent>\n    split: horizontal\n    focus: true\n```\n\n### Directory structure\n\nHere's how workmux organizes your worktrees by default:\n\n```\n~/projects/\n‚îú‚îÄ‚îÄ my-project/               <-- Main project directory\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ package.json\n‚îÇ   ‚îî‚îÄ‚îÄ .workmux.yaml\n‚îÇ\n‚îî‚îÄ‚îÄ my-project__worktrees/    <-- Worktrees created by workmux\n    ‚îú‚îÄ‚îÄ feature-A/            <-- Isolated workspace for 'feature-A' branch\n    ‚îÇ   ‚îú‚îÄ‚îÄ src/\n    ‚îÇ   ‚îî‚îÄ‚îÄ package.json\n    ‚îÇ\n    ‚îî‚îÄ‚îÄ bugfix-B/             <-- Isolated workspace for 'bugfix-B' branch\n        ‚îú‚îÄ‚îÄ src/\n        ‚îî‚îÄ‚îÄ package.json\n```\n\nEach worktree is a separate working directory for a different branch, all\nsharing the same git repository. This allows you to work on multiple branches\nsimultaneously without conflicts.\n\nYou can customize the worktree directory location using the `worktree_dir`\nconfiguration option (see [Configuration options](#configuration-options)).\n\n### Shell alias (recommended)\n\nFor faster typing, alias `workmux` to `wm`:\n\n```bash\nalias wm='workmux'\n```\n\n## Commands\n\n- [`add`](#workmux-add-branch-name) - Create a new worktree and tmux window\n- [`merge`](#workmux-merge-branch-name) - Merge a branch and clean up everything\n- [`remove`](#workmux-remove-name-alias-rm) - Remove worktrees without merging\n- [`list`](#workmux-list) - List all worktrees with status\n- [`open`](#workmux-open-name) - Open a tmux window for an existing worktree\n- [`close`](#workmux-close-name) - Close a worktree's tmux window (keeps\n  worktree)\n- [`path`](#workmux-path-name) - Get the filesystem path of a worktree\n- [`dashboard`](#workmux-dashboard) - Show TUI dashboard of all active agents\n- [`config edit`](#workmux-config-edit) - Edit the global configuration file\n- [`init`](#workmux-init) - Generate configuration file\n- [`sandbox`](#workmux-sandbox) - Manage sandbox backends (container/Lima)\n- [`claude prune`](#workmux-claude-prune) - Clean up stale Claude Code entries\n- [`completions`](#workmux-completions-shell) - Generate shell completions\n- [`docs`](#workmux-docs) - Show detailed documentation\n\n### `workmux add <branch-name>`\n\nCreates a new git worktree with a matching tmux window and switches you to it\nimmediately. If the branch doesn't exist, it will be created automatically.\n\n- `<branch-name>`: Name of the branch to create or switch to, a remote branch\n  reference (e.g., `origin/feature-branch`), or a GitHub fork reference (e.g.,\n  `user:branch`). Remote and fork references are automatically fetched and\n  create a local branch with the derived name. Optional when using `--pr`.\n\n#### Options\n\n- `--base <branch|commit|tag>`: Specify a base branch, commit, or tag to branch\n  from when creating a new branch. By default, new branches are created from the\n  current branch you have checked out.\n- `--pr <number>`: Checkout a GitHub pull request by its number into a new\n  worktree.\n  - Requires the `gh` command-line tool to be installed and authenticated.\n  - The local branch name defaults to the PR's head branch name, but can be\n    overridden (e.g., `workmux add custom-name --pr 123`).\n- `-A, --auto-name`: Generate branch name from prompt using LLM. See\n  [Automatic branch name generation](#automatic-branch-name-generation).\n- `--name <name>`: Override the worktree directory and tmux window name. By\n  default, these are derived from the branch name (slugified). Cannot be used\n  with multi-worktree generation (`--count`, `--foreach`, or multiple\n  `--agent`).\n- `-b, --background`: Create the tmux window in the background without switching\n  to it. Useful with `--prompt-editor`.\n- `-w, --with-changes`: Move uncommitted changes from the current worktree to\n  the new worktree, then reset the original worktree to a clean state. Useful\n  when you've started working on main and want to move your branches to a new\n  worktree.\n- `--patch`: Interactively select which changes to move (requires\n  `--with-changes`). Opens an interactive prompt for selecting hunks to stash.\n- `-u, --include-untracked`: Also move untracked files (requires\n  `--with-changes`). By default, only staged and modified tracked files are\n  moved.\n- `-p, --prompt <text>`: Provide an inline prompt that will be automatically\n  passed to AI agent panes.\n- `-P, --prompt-file <path>`: Provide a path to a file whose contents will be\n  used as the prompt.\n- `-e, --prompt-editor`: Open your `$EDITOR` (or `$VISUAL`) to write the prompt\n  interactively.\n- `-a, --agent <name>`: The agent(s) to use for the worktree(s). Can be\n  specified multiple times to generate a worktree for each agent. Overrides the\n  `agent` from your config file.\n- `-W, --wait`: Block until the created tmux window is closed. Useful for\n  scripting when you want to wait for an agent to complete its work. The agent\n  can signal completion by running `workmux remove --keep-branch`.\n- `-o, --open-if-exists`: If a worktree for the branch already exists, open it\n  instead of failing. Similar to `tmux new-session -A`. Useful when you don't\n  know or care whether the worktree already exists.\n\n#### Skip options\n\nThese options allow you to skip expensive setup steps when they're not needed\n(e.g., for documentation-only changes):\n\n- `-H, --no-hooks`: Skip running `post_create` commands\n- `-F, --no-file-ops`: Skip file copy/symlink operations (e.g., skip linking\n  `node_modules`)\n- `-C, --no-pane-cmds`: Skip executing pane commands (panes open with plain\n  shells instead)\n\n#### What happens\n\n1. Determines the **handle** for the worktree by slugifying the branch name\n   (e.g., `feature/auth` becomes `feature-auth`). This can be overridden with\n   the `--name` flag.\n2. Creates a git worktree at `<worktree_dir>/<handle>` (the `worktree_dir` is\n   configurable and defaults to a sibling directory of your project)\n3. Runs any configured file operations (copy/symlink)\n4. Executes `post_create` commands if defined (runs before the tmux window\n   opens, so keep them fast)\n5. Creates a new tmux window named `<window_prefix><handle>` (e.g.,\n   `wm-feature-auth` with `window_prefix: wm-`)\n6. Sets up your configured tmux pane layout\n7. Automatically switches your tmux client to the new window\n\n#### Examples\n\n##### Basic usage\n\n```bash\n# Create a new branch and worktree\nworkmux add user-auth\n\n# Use an existing branch\nworkmux add existing-work\n\n# Create a new branch from a specific base\nworkmux add hotfix --base production\n\n# Create a worktree from a remote branch (creates local branch \"user-auth-pr\")\nworkmux add origin/user-auth-pr\n\n# Remote branches with slashes work too (creates local branch \"feature/foo\")\nworkmux add origin/feature/foo\n\n# Create a worktree in the background without switching to it\nworkmux add feature/parallel-task --background\n\n# Use a custom name for the worktree directory and tmux window\nworkmux add feature/long-descriptive-branch-name --name short\n\n# Open existing worktree if it exists, create if it doesn't (idempotent)\nworkmux add my-feature -o\n```\n\n##### Checking out pull requests and fork branches\n\n```bash\n# Checkout PR #123. The local branch will be named after the PR's branch.\nworkmux add --pr 123\n\n# Checkout PR #456 with a custom local branch name\nworkmux add fix/api-bug --pr 456\n\n# Checkout a fork branch using GitHub's owner:branch format (copy from GitHub UI)\nworkmux add someuser:feature-branch\n```\n\n##### Moving changes to a new worktree\n\n```bash\n# Move uncommitted changes to a new worktree (including untracked files)\nworkmux add feature/new-thing --with-changes -u\n\n# Move only staged/modified files (not untracked files)\nworkmux add fix/bug --with-changes\n\n# Interactively select which changes to move\nworkmux add feature/partial --with-changes --patch\n```\n\n##### AI agent prompts\n\n```bash\n# Create a worktree with an inline prompt for AI agents\nworkmux add feature/ai --prompt \"Implement user authentication with OAuth\"\n\n# Override the default agent for a specific worktree\nworkmux add feature/testing -a gemini\n\n# Create a worktree with a prompt from a file\nworkmux add feature/refactor --prompt-file task-description.md\n\n# Open your editor to write a prompt interactively\nworkmux add feature/new-api --prompt-editor\n```\n\n##### Skipping setup steps\n\n```bash\n# Skip expensive setup for documentation-only changes\nworkmux add docs-update --no-hooks --no-file-ops --no-pane-cmds\n\n# Skip just the file operations (e.g., you don't need node_modules)\nworkmux add quick-fix --no-file-ops\n```\n\n##### Scripting with --wait\n\n```bash\n# Block until the agent completes and closes the window\nworkmux add feature/api --wait -p \"Implement the REST API, then run: workmux remove --keep-branch\"\n\n# Use in a script to run sequential agent tasks\nfor task in task1.md task2.md task3.md; do\n  workmux add \"task-$(basename $task .md)\" --wait -P \"$task\"\ndone\n```\n\n#### AI agent integration\n\nWhen you provide a prompt via `--prompt`, `--prompt-file`, or `--prompt-editor`,\nworkmux automatically injects the prompt into panes running the configured agent\ncommand (e.g., `claude`, `codex`, `opencode`, `gemini`, or whatever you've set\nvia the `agent` config or `--agent` flag) without requiring any `.workmux.yaml`\nchanges:\n\n- Panes with a command matching the configured agent are automatically started\n  with the given prompt.\n- You can keep your `.workmux.yaml` pane configuration simple (e.g.,\n  `panes: [{ command: \"<agent>\" }]`) and let workmux handle prompt injection at\n  runtime.\n\nThis means you can launch AI agents with task-specific prompts without modifying\nyour project configuration for each task.\n\n#### Automatic branch name generation\n\nThe `--auto-name` (`-A`) flag generates a branch name from your prompt using an\nLLM via the [`llm`](https://llm.datasette.io/) CLI tool.\n\n##### Usage\n\n```bash\n# Opens editor for prompt, generates branch name\nworkmux add -A\n\n# With inline prompt\nworkmux add -A -p \"Add OAuth authentication\"\n\n# With prompt file\nworkmux add -A -P task-spec.md\n```\n\n##### Requirements\n\nInstall the `llm` CLI tool:\n\n```bash\npipx install llm\n```\n\nConfigure a model (e.g., OpenAI):\n\n```bash\nllm keys set openai\n# Or use a local model\nllm install llm-ollama\n```\n\n##### Configuration\n\nOptionally configure auto-name behavior in `.workmux.yaml`:\n\n```yaml\nauto_name:\n  model: 'gemini-2.5-flash-lite'\n  background: true # Always run in background when using --auto-name\n  system_prompt: |\n    Generate a concise git branch name based on the task description.\n\n    Rules:\n    - Use kebab-case (lowercase with hyphens)\n    - Keep it short: 1-3 words, max 4 if necessary\n    - Focus on the core task/feature, not implementation details\n    - No prefixes like feat/, fix/, chore/\n\n    Examples of good branch names:\n    - \"Add dark mode toggle\" ‚Üí dark-mode\n    - \"Fix the search results not showing\" ‚Üí fix-search\n    - \"Refactor the authentication module\" ‚Üí auth-refactor\n    - \"Add CSV export to reports\" ‚Üí export-csv\n    - \"Shell completion is broken\" ‚Üí shell-completion\n\n    Output ONLY the branch name, nothing else.\n```\n\n| Option          | Description                                       | Default         |\n| --------------- | ------------------------------------------------- | --------------- |\n| `model`         | LLM model to use with the `llm` CLI               | `llm`'s default |\n| `background`    | Always run in background when using `--auto-name` | `false`         |\n| `system_prompt` | Custom system prompt for branch name generation   | Built-in prompt |\n\nRecommended models for fast, cheap branch name generation:\n\n- `gemini-2.5-flash-lite` (recommended)\n- `gpt-5-nano`\n\n#### Parallel workflows & multi-worktree generation\n\nworkmux can generate multiple worktrees from a single `add` command, which is\nideal for running parallel experiments or delegating tasks to multiple AI\nagents. This is controlled by four mutually exclusive modes:\n\n- (`-a`, `--agent`): Create a worktree for each specified agent.\n- (`-n`, `--count`): Create a specific number of worktrees.\n- (`--foreach`): Create worktrees based on a matrix of variables.\n- **stdin**: Pipe input lines to create worktrees with templated prompts.\n\nWhen using any of these modes, branch names are generated from a template, and\nprompts can be templated with variables.\n\n##### Multi-worktree options\n\n- `-a, --agent <name>`: When used multiple times, creates one worktree for each\n  agent.\n- `-n, --count <number>`: Creates `<number>` worktree instances. Can be combined\n  with a single `--agent` flag to apply that agent to all instances.\n- `--foreach <matrix>`: Creates worktrees from a variable matrix string. The\n  format is `\"var1:valA,valB;var2:valX,valY\"`. All value lists must have the\n  same length. Values are paired by index position (zip, not Cartesian product):\n  the first value of each variable goes together, the second with the second,\n  etc.\n- `--branch-template <template>`: A\n  [MiniJinja](https://docs.rs/minijinja/latest/minijinja/) (Jinja2-compatible)\n  template for generating branch names.\n  - Available variables: `{{ base_name }}`, `{{ agent }}`, `{{ num }}`,\n    `{{ index }}`, `{{ input }}` (stdin), and any variables from `--foreach`.\n  - Default:\n    `{{ base_name }}{% if agent %}-{{ agent | slugify }}{% endif %}{% for key, value in foreach_vars %}-{{ value | slugify }}{% endfor %}{% if num %}-{{ num }}{% endif %}`\n- `--max-concurrent <number>`: Limits how many worktrees run simultaneously.\n  When set, workmux creates up to `<number>` worktrees, then waits for any\n  window to close before starting the next. Requires agents to close windows\n  when done (e.g., via prompt instruction to run\n  `workmux remove --keep-branch`).\n\n##### Prompt templating\n\nWhen generating multiple worktrees, any prompt provided via `-p`, `-P`, or `-e`\nis treated as a MiniJinja template. You can use variables from your generation\nmode to create unique prompts for each agent or instance.\n\n##### Variable matrices in prompt files\n\nInstead of passing `--foreach` on the command line, you can specify the variable\nmatrix directly in your prompt file using YAML frontmatter. This is more\nconvenient for complex matrices and keeps the variables close to the prompt that\nuses them.\n\n**Format:**\n\nCreate a prompt file with YAML frontmatter at the top, separated by `---`:\n\n**Example 1:** `mobile-task.md`\n\n```markdown\n---\nforeach:\n  platform: [iOS, Android]\n  lang: [swift, kotlin]\n---\n\nBuild a {{ platform }} app using {{ lang }}. Implement user authentication and\ndata persistence.\n```\n\n```bash\nworkmux add mobile-app --prompt-file mobile-task.md\n# Generates worktrees: mobile-app-ios-swift, mobile-app-android-kotlin\n```\n\n**Example 2:** `agent-task.md` (using `agent` as a foreach variable)\n\n```markdown\n---\nforeach:\n  agent: [claude, gemini]\n---\n\nImplement the dashboard refactor using your preferred approach.\n```\n\n```bash\nworkmux add refactor --prompt-file agent-task.md\n# Generates worktrees: refactor-claude, refactor-gemini\n```\n\n**Behavior:**\n\n- Variables from the frontmatter are available in both the prompt template and\n  the branch name template\n- All value lists must have the same length, and values are paired by index\n  position (same zip behavior as `--foreach`)\n- CLI `--foreach` overrides frontmatter with a warning if both are present\n- Works with both `--prompt-file` and `--prompt-editor`\n\n##### Stdin input\n\nYou can pipe input lines to `workmux add` to create multiple worktrees. Each\nline becomes available as the `{{ input }}` template variable in your prompt.\nThis is useful for batch-processing tasks from external sources.\n\n**Plain text:** Each line becomes `{{ input }}`\n\n```bash\necho -e \"api\\nauth\\ndatabase\" | workmux add refactor -P task.md\n# {{ input }} = \"api\", \"auth\", \"database\"\n```\n\n**JSON lines:** Each key becomes a template variable\n\n```bash\ngh repo list --json url,name --jq -c '.[]' | workmux add analyze \\\n  --branch-template '{{ base_name }}-{{ name }}' \\\n  -P prompt.md\n# Line: {\"url\":\"https://github.com/raine/workmux\",\"name\":\"workmux\"}\n# Variables: {{ url }}, {{ name }}, {{ input }} (raw JSON line)\n```\n\nThis lets you structure data upstream with `jq` and use meaningful branch names\nwhile keeping the full URL available in your prompt.\n\n**Behavior:**\n\n- Empty lines and whitespace-only lines are filtered out\n- Stdin input cannot be combined with `--foreach` (mutually exclusive)\n- JSON objects (lines starting with `{`) are parsed and each key becomes a\n  variable\n- `{{ input }}` always contains the raw line\n- If JSON contains an `input` key, it overwrites the raw line value\n\n##### Examples\n\n```bash\n# Create one worktree for claude and one for gemini with a focused prompt\nworkmux add my-feature -a claude -a gemini -p \"Implement the new search API integration\"\n# Generates worktrees: my-feature-claude, my-feature-gemini\n\n# Create 2 instances of the default agent\nworkmux add my-feature -n 2 -p \"Implement task #{{ num }} in TASKS.md\"\n# Generates worktrees: my-feature-1, my-feature-2\n\n# Create worktrees from a variable matrix\nworkmux add my-feature --foreach \"platform:iOS,Android\" -p \"Build for {{ platform }}\"\n# Generates worktrees: my-feature-ios, my-feature-android\n\n# Create agent-specific worktrees via --foreach\nworkmux add my-feature --foreach \"agent:claude,gemini\" -p \"Implement the dashboard refactor\"\n# Generates worktrees: my-feature-claude, my-feature-gemini\n\n# Use frontmatter in a prompt file for cleaner syntax\n# task.md contains:\n# ---\n# foreach:\n#   env: [staging, production]\n#   task: [smoke-tests, integration-tests]\n# ---\n# Run {{ task }} against the {{ env }} environment\nworkmux add testing --prompt-file task.md\n# Generates worktrees: testing-staging-smoke-tests, testing-production-integration-tests\n\n# Pipe input from stdin to create worktrees\n# review.md contains: Review the {{ input }} module for security issues.\necho -e \"auth\\npayments\\napi\" | workmux add review -A -P review.md\n# Generates worktrees with LLM-generated branch names for each module\n```\n\n##### Recipe: Batch processing with worker pools\n\nCombine stdin input, prompt templating, and concurrency limits to create a\nworker pool that processes items from an external command.\n\n**Example: Generate test scaffolding for untested files**\n\n```bash\n# generate-tests.md contains:\n# Read the file at {{ input }} and generate a test suite covering\n# the exported functions. Focus on happy path and edge cases.\n# When done, run: workmux remove --keep-branch\n\nfind src/utils -name \"*.ts\" ! -name \"*.test.ts\" | \\\n  workmux add add-tests \\\n    --branch-template '{{ base_name }}-{{ index }}' \\\n    --prompt-file generate-tests.md \\\n    --max-concurrent 3 \\\n    --background\n```\n\n- `find ...` lists files without tests (one per line) piped to stdin\n- `--branch-template` uses `{{ index }}` for unique branch names\n- `--prompt-file` uses `{{ input }}` to pass each file path to the agent\n- `--max-concurrent 3` limits parallel agents to avoid rate limits\n- `--background` runs without switching focus\n\n---\n\n### `workmux merge [branch-name]`\n\nMerges a branch into a target branch (main by default) and automatically cleans\nup all associated resources (worktree, tmux window, and local branch).\n\n<!-- prettier-ignore -->\n> [!TIP]\n> **`merge` vs `remove`**: Use `merge` when you want to merge directly\n> without a pull request. If your workflow uses pull requests, use\n> [`remove`](#workmux-remove-name-alias-rm) to clean up after your PR is merged\n> on the remote.\n\n- `[branch-name]`: Optional name of the branch to merge. If omitted,\n  automatically detects the current branch from the worktree you're in.\n\n#### Options\n\n- `--into <branch>`: Merge into the specified branch instead of the main branch.\n  Useful for stacked PRs, git-flow workflows, or merging subtasks into a parent\n  feature branch. If the target branch has its own worktree, the merge happens\n  there; otherwise, the main worktree is used.\n- `--ignore-uncommitted`: Commit any staged changes before merging without\n  opening an editor\n- `--keep`, `-k`: Keep the worktree, window, and branch after merging (skip\n  cleanup). Useful when you want to verify the merge before cleaning up.\n- `--notification`: Show a system notification on successful merge. Useful when\n  delegating merge to an AI agent and you want to be notified when it completes.\n\n#### Merge strategies\n\nBy default, `workmux merge` performs a standard merge commit (configurable via\n`merge_strategy`). You can override the configured behavior with these mutually\nexclusive flags:\n\n- `--rebase`: Rebase the feature branch onto the target before merging (creates\n  a linear history via fast-forward merge). If conflicts occur, you'll need to\n  resolve them manually in the worktree and run `git rebase --continue`.\n- `--squash`: Squash all commits from the feature branch into a single commit on\n  the target. You'll be prompted to provide a commit message in your editor.\n\nIf you don't want to have merge commits in your main branch, use the `rebase`\nmerge strategy, which does `--rebase` by default.\n\n```yaml\n# ~/.config/workmux/config.yaml\nmerge_strategy: rebase\n```\n\n#### What happens\n\n1. Determines which branch to merge (specified branch or current branch if\n   omitted)\n2. Determines the target branch (`--into` or main branch from config)\n3. Checks for uncommitted changes (errors if found, unless\n   `--ignore-uncommitted` is used)\n4. Commits staged changes if present (unless `--ignore-uncommitted` is used)\n5. Merges your branch into the target using the selected strategy (default:\n   merge commit)\n6. Deletes the tmux window (including the one you're currently in if you ran\n   this from a worktree) ‚Äî skipped if `--keep` is used\n7. Removes the worktree ‚Äî skipped if `--keep` is used\n8. Deletes the local branch ‚Äî skipped if `--keep` is used\n\n#### Typical workflow\n\nWhen you're done working in a worktree, simply run `workmux merge` from within\nthat worktree's tmux window. The command will automatically detect which branch\nyou're on, merge it into main, and close the current window as part of cleanup.\n\n#### Examples\n\n```bash\n# Merge branch into main (default: merge commit)\nworkmux merge user-auth\n\n# Merge the current worktree you're in\n# (run this from within the worktree's tmux window)\nworkmux merge\n\n# Rebase onto main before merging for a linear history\nworkmux merge user-auth --rebase\n\n# Squash all commits into a single commit\nworkmux merge user-auth --squash\n\n# Merge but keep the worktree/window/branch to verify before cleanup\nworkmux merge user-auth --keep\n# ... verify the merge in main ...\nworkmux remove user-auth  # clean up later when ready\n\n# Merge into a different branch (stacked PRs)\nworkmux merge feature/subtask --into feature/parent\n```\n\n---\n\n### `workmux remove [name]...` (alias: `rm`)\n\nRemoves worktrees, tmux windows, and branches without merging (unless you keep\nthe branches). Useful for abandoning work or cleaning up experimental branches.\nSupports removing multiple worktrees in a single command.\n\n- `[name]...`: One or more worktree names (the directory names). Defaults to\n  current directory name if omitted.\n\n#### Options\n\n- `--all`: Remove all worktrees at once (except the main worktree). Prompts for\n  confirmation unless `--force` is used. Safely skips worktrees with uncommitted\n  changes or unmerged commits.\n- `--gone`: Remove worktrees whose upstream remote branch has been deleted\n  (e.g., after a PR is merged on GitHub). Automatically runs `git fetch --prune`\n  first.\n- `--force`, `-f`: Skip confirmation prompt and ignore uncommitted changes\n- `--keep-branch`, `-k`: Remove only the worktree and tmux window while keeping\n  the local branch\n\n#### Examples\n\n```bash\n# Remove the current worktree (run from within the worktree)\nworkmux remove\n\n# Remove a specific worktree with confirmation if unmerged\nworkmux remove experiment\n\n# Remove multiple worktrees at once\nworkmux rm feature-a feature-b feature-c\n\n# Remove multiple worktrees with force (no confirmation)\nworkmux rm -f old-work stale-branch\n\n# Use the alias\nworkmux rm old-work\n\n# Remove worktree/window but keep the branch\nworkmux remove --keep-branch experiment\n\n# Force remove without prompts\nworkmux rm -f experiment\n\n# Remove worktrees whose remote branches were deleted (e.g., after PR merge)\nworkmux rm --gone\n\n# Force remove all gone worktrees (no confirmation)\nworkmux rm --gone -f\n\n# Remove all worktrees at once\nworkmux rm --all\n```\n\n---\n\n### `workmux list` (alias: `ls`)\n\nLists all git worktrees with their agent status, multiplexer window status, and\nmerge status. Supports filtering by worktree handle or branch name.\n\n#### Arguments\n\n- `[worktree-or-branch...]`: Filter by worktree handle (directory name) or\n  branch name. Accepts multiple values. When omitted, shows all worktrees.\n\n#### Options\n\n- `--pr`: Show GitHub PR status for each worktree. Requires the `gh` CLI to be\n  installed and authenticated. Note that it shows pull requests' statuses with\n  [Nerd Font](https://www.nerdfonts.com/) icons, which requires Nerd Font\n  compatible font installed.\n\n#### Examples\n\n```bash\n# List all worktrees\nworkmux list\n\n# List with PR status\nworkmux list --pr\n\n# Filter to specific worktrees\nworkmux list my-feature\nworkmux list feature-auth feature-api\n```\n\n#### Example output\n\n```\nBRANCH      AGENT  MUX  UNMERGED  PATH\nmain        -      -    -         ~/project\nuser-auth   ü§ñ     ‚úì    -         ~/project__worktrees/user-auth\nbug-fix     ‚úÖ     ‚úì    ‚óè         ~/project__worktrees/bug-fix\napi-work    -      ‚úì    -         ~/project__worktrees/api-work\n```\n\n#### Key\n\n- AGENT shows the current agent status (see\n  [status tracking](https://workmux.dev/guide/status-tracking/)):\n  - `ü§ñ` = working, `üí¨` = waiting for input, `‚úÖ` = finished\n  - Multiple agents per worktree show a count (e.g., `2ü§ñ 1‚úÖ`)\n- `‚úì` in MUX column = multiplexer window exists for this worktree\n- `‚óè` in UNMERGED column = branch has commits not merged into main\n- `-` = not applicable\n\n---\n\n### `workmux config edit`\n\nOpens the global configuration file (`~/.config/workmux/config.yaml`) in your\npreferred editor. Uses `$VISUAL`, `$EDITOR`, or falls back to `vi`. Creates the\nfile with commented-out defaults if it doesn't exist yet.\n\n---\n\n### `workmux config path`\n\nPrints the path to the global configuration file. Useful for scripting.\n\n---\n\n### `workmux init`\n\nGenerates `.workmux.yaml` with example configuration and `\"<global>\"`\nplaceholder usage.\n\n---\n\n### `workmux open [name]`\n\nOpens or switches to a tmux window for a pre-existing git worktree. If the\nwindow already exists, switches to it. If not, creates a new window with the\nconfigured pane layout and environment.\n\n- `[name]`: Worktree name (the directory name, which is also the tmux window\n  name without the prefix). Optional with `--new` when run from inside a\n  worktree.\n\n#### Options\n\n- `-n, --new`: Force opening in a new window even if one already exists. Creates\n  a duplicate window with a suffix (e.g., `-2`, `-3`). Useful for having\n  multiple terminal views into the same worktree.\n- `--run-hooks`: Re-runs the `post_create` commands (these block window\n  creation).\n- `--force-files`: Re-applies file copy/symlink operations. Useful for restoring\n  a deleted `.env` file.\n- `-p, --prompt <text>`: Provide an inline prompt for AI agent panes.\n- `-P, --prompt-file <path>`: Provide a path to a file containing the prompt.\n- `-e, --prompt-editor`: Open your editor to write the prompt interactively.\n\n#### What happens\n\n1. Verifies that a worktree with `<name>` exists.\n2. If a tmux window exists and `--new` is not set, switches to it.\n3. Otherwise, creates a new tmux window (with suffix if duplicating).\n4. (If specified) Runs file operations and `post_create` hooks.\n5. Sets up your configured tmux pane layout.\n6. Automatically switches your tmux client to the new window.\n\n#### Examples\n\n```bash\n# Open or switch to a window for an existing worktree\nworkmux open user-auth\n\n# Force open a second window for the same worktree (creates user-auth-2)\nworkmux open user-auth --new\n\n# Open a new window for the current worktree (run from within the worktree)\nworkmux open --new\n\n# Open with a prompt for AI agents\nworkmux open user-auth -p \"Continue implementing the login flow\"\n\n# Open and re-run dependency installation\nworkmux open user-auth --run-hooks\n\n# Open and restore configuration files\nworkmux open user-auth --force-files\n```\n\n---\n\n### `workmux close [name]`\n\nCloses the tmux window for a worktree without removing the worktree or branch.\nThis is useful when you want to temporarily close a window to reduce clutter or\nfree resources, but plan to return to the work later.\n\n- `[name]`: Optional worktree name (the directory name). Defaults to current\n  directory if omitted.\n\n#### Examples\n\n```bash\n# Close the window for a specific worktree\nworkmux close user-auth\n\n# Close the current worktree's window (run from within the worktree)\nworkmux close\n```\n\nTo reopen the window later, use [`workmux open`](#workmux-open-name).\n\n**Tip**: You can also use tmux's native kill-window command (default:\n`prefix + &`) to close a worktree's window with the same effect.\n\n---\n\n### `workmux path <name>`\n\nPrints the filesystem path of an existing worktree. Useful for scripting or\nquickly navigating to a worktree directory.\n\n- `<name>`: Worktree name (the directory name).\n\n#### Examples\n\n```bash\n# Get the path of a worktree\nworkmux path user-auth\n# Output: /Users/you/project__worktrees/user-auth\n\n# Use in scripts or with cd\ncd \"$(workmux path user-auth)\"\n\n# Copy a file to a worktree\ncp config.json \"$(workmux path feature-branch)/\"\n```\n\n---\n\n### `workmux dashboard`\n\nOpens a TUI dashboard showing all active AI agents across all tmux sessions.\nUseful for monitoring multiple parallel agents and quickly jumping between them.\n\n#### Options\n\n- `-d, --diff`: Open the diff view directly for the current worktree. Useful\n  when you want to quickly review uncommitted changes without navigating through\n  the agent list.\n- `-P, --preview-size <10-90>`: Set preview pane size as percentage (larger =\n  more preview, less table). Default: 60.\n\n<!-- prettier-ignore -->\n> [!IMPORTANT]\n> This feature requires [agent status tracking](#agent-status-tracking) to be\n> configured. Without it, no agents will appear in the dashboard.\n\n![workmux dashboard](https://raw.githubusercontent.com/raine/workmux/refs/heads/main/meta/dashboard.webp)\n\n#### Keybindings\n\n| Key       | Action                                  |\n| --------- | --------------------------------------- |\n| `1`-`9`   | Quick jump to agent (closes dashboard)  |\n| `Tab`     | Toggle between current and last agent   |\n| `d`       | View diff (opens WIP view)              |\n| `p`       | Peek at agent (dashboard stays open)    |\n| `s`       | Cycle sort mode                         |\n| `f`       | Toggle stale filter (show/hide stale)   |\n| `i`       | Enter input mode (type to agent)        |\n| `Ctrl+u`  | Scroll preview up                       |\n| `Ctrl+d`  | Scroll preview down                     |\n| `+`/`-`   | Resize preview pane                     |\n| `Enter`   | Go to selected agent (closes dashboard) |\n| `j`/`k`   | Navigate up/down                        |\n| `q`/`Esc` | Quit                                    |\n\n#### Live preview\n\nThe bottom half shows a live preview of the selected agent's terminal output.\nThe preview auto-scrolls to show the latest output, but you can scroll through\nhistory with `Ctrl+u`/`Ctrl+d`. Press `i` to enter input mode and type directly\nto the agent without leaving the dashboard.\n\n#### Columns\n\n- **#**: Quick jump key (1-9)\n- **Project**: Project name (from `__worktrees` path or directory name)\n- **Agent**: Worktree/window name\n- **Git**: Diff stats showing branch changes (dim) and uncommitted changes\n  (bright)\n- **Status**: Agent status icon (ü§ñ working, üí¨ waiting, ‚úÖ done, or \"stale\")\n- **Time**: Time since last status change\n- **Title**: Claude Code session title (auto-generated summary)\n\n#### Sort modes\n\nPress `s` to cycle through sort modes:\n\n- **Priority** (default): Waiting > Done > Working > Stale\n- **Project**: Group by project name, then by priority within each project\n- **Recency**: Most recently updated first\n- **Natural**: Original tmux order (by pane creation)\n\nYour sort preference persists in the tmux session.\n\n#### Stale filter\n\nPress `f` to toggle between showing all agents or hiding stale ones. The filter\nstate persists across dashboard sessions within the same tmux server.\n\n#### Diff view\n\nPress `d` to view the diff for the selected agent. The diff view has two modes:\n\n- **WIP** - Shows uncommitted changes (`git diff HEAD`)\n- **review** - Shows all changes on the branch vs main (`git diff main...HEAD`)\n\nPress `Tab` to toggle between modes. The footer displays which mode is active\nalong with diff statistics showing lines added (+) and removed (-).\n\n| Key       | Action                           |\n| --------- | -------------------------------- |\n| `Tab`     | Toggle WIP / review              |\n| `a`       | Enter patch mode (WIP only)      |\n| `j`/`k`   | Scroll down/up                   |\n| `Ctrl+d`  | Page down                        |\n| `Ctrl+u`  | Page up                          |\n| `c`       | Send commit command to agent     |\n| `m`       | Trigger merge and exit dashboard |\n| `q`/`Esc` | Close diff view                  |\n\n#### Patch mode\n\nPatch mode (`a` from WIP diff) allows staging individual hunks like\n`git add -p`. This is useful for selectively staging parts of an agent's work.\n\nWhen [delta](https://github.com/dandavison/delta) is installed, hunks are\nrendered with syntax highlighting for better readability.\n\n| Key       | Action                           |\n| --------- | -------------------------------- |\n| `y`       | Stage current hunk               |\n| `n`       | Skip current hunk                |\n| `u`       | Undo last staged hunk            |\n| `s`       | Split hunk (if splittable)       |\n| `o`       | Comment on hunk (sends to agent) |\n| `j`/`k`   | Navigate to next/previous hunk   |\n| `q`/`Esc` | Exit patch mode                  |\n\nPress `y` to stage the current hunk and advance to the next. Press `n` to skip\nwithout staging. The counter in the header shows your progress (e.g., `[3/10]`).\n\nPress `s` to split the current hunk into smaller pieces when there are context\nlines between separate changes. Press `u` to undo the last staged hunk.\n\nPress `o` to comment on the current hunk. This sends a message to the agent\nincluding the file path, line number, the diff hunk as context, and your\ncomment. Useful for giving feedback like \"This function should handle the error\ncase\".\n\n#### Example tmux binding\n\nAdd to your `~/.tmux.conf` for quick access:\n\n```bash\nbind C-s display-popup -h 30 -w 100 -E \"workmux dashboard\"\n```\n\nThen press `prefix + Ctrl-s` to open the dashboard as a tmux popup.\n\n---\n\n### `workmux sandbox`\n\nCommands for managing sandbox functionality. See the\n[sandbox guide](https://workmux.raine.dev/guide/sandbox/) for full\ndocumentation.\n\n| Command             | Description                                              |\n| ------------------- | -------------------------------------------------------- |\n| `sandbox pull`      | Pull the latest container image from the registry        |\n| `sandbox build`     | Build the container image locally                        |\n| `sandbox shell`     | Start an interactive shell inside a sandbox              |\n| `sandbox agent`     | Run the configured agent in a sandbox with RPC support   |\n| `sandbox stop`      | Stop running Lima VMs                                    |\n| `sandbox prune`     | Delete unused Lima VMs to reclaim disk space             |\n| `sandbox install-dev` | Cross-compile and install workmux into sandboxes (dev) |\n\n---\n\n### `workmux claude prune`\n\nRemoves stale entries from Claude config (`~/.claude.json`) that point to\ndeleted worktree directories. When you run Claude Code in worktrees, it stores\nper-worktree settings in that file. Over time, as worktrees are merged or\ndeleted, it can accumulate entries for paths that no longer exist.\n\n#### What happens\n\n1. Scans `~/.claude.json` for entries pointing to non-existent directories\n2. Creates a backup at `~/.claude.json.bak` before making changes\n3. Removes all stale entries\n4. Reports the number of entries cleaned up\n\n#### Safety\n\n- Only removes entries for absolute paths that don't exist\n- Creates a backup before modifying the file\n- Preserves all valid entries and relative paths\n\n#### Examples\n\n```bash\n# Clean up stale Claude Code entries\nworkmux claude prune\n```\n\n#### Example output\n\n```\n  - Removing: /Users/user/project__worktrees/old-feature\n\n‚úì Created backup at ~/.claude.json.bak\n‚úì Removed 3 stale entries from ~/.claude.json\n```\n\n---\n\n### `workmux completions <shell>`\n\nGenerates shell completion script for the specified shell. Completions provide\ntab-completion for commands and dynamic branch name suggestions.\n\n- `<shell>`: Shell type: `bash`, `zsh`, or `fish`.\n\n#### Examples\n\n```bash\n# Generate completions for zsh\nworkmux completions zsh\n```\n\nSee the [Shell Completions](#shell-completions) section for installation\ninstructions.\n\n---\n\n### `workmux docs`\n\nDisplays this README with terminal formatting. Useful for quick reference\nwithout leaving the terminal.\n\nWhen run interactively, renders markdown with colors and uses a pager (`less`).\nWhen piped (e.g., to an LLM), outputs raw markdown for clean context.\n\n#### Using with AI agents\n\nYou can ask an agent to read the docs and configure workmux for you:\n\n```\n> run `workmux docs` and configure workmux so that on the left pane\n  there is claude as agent, and on the right side neovim and empty\n  shell on top of each other\n\n‚è∫ Bash(workmux docs)\n  ‚éø  <p align=\"center\">\n       <picture>\n     ‚Ä¶ +923 lines\n\n‚è∫ Write(.workmux.yaml)\n  ‚éø  Wrote 9 lines to .workmux.yaml\n\n‚è∫ Created .workmux.yaml with the layout:\n  - Left: claude agent (focused)\n  - Right top: neovim\n  - Right bottom: empty shell\n```\n\n## Agent status tracking\n\nWorkmux can display the status of the agent in your tmux window list, giving you\nat-a-glance visibility into what the agent in each window doing.\n\n![tmux status showing agent icons](https://raw.githubusercontent.com/raine/workmux/refs/heads/main/meta/status.webp)\n\n#### Key\n\n- ü§ñ = agent is working\n- üí¨ = agent is waiting for user input\n- ‚úÖ = agent finished (auto-clears on window focus)\n\n**Note**: Currently Claude Code and [OpenCode](https://opencode.ai/) support\nhooks that enable this functionality. Gemini's support is\n[on the way](https://github.com/google-gemini/gemini-cli/issues/9070). Codex\nsupport can be tracked in\n[this issue](https://github.com/openai/codex/issues/2109).\n\n### Setup\n\n#### Claude Code\n\nInstall the workmux status plugin in Claude Code:\n\n```\nclaude plugin marketplace add raine/workmux\nclaude plugin install workmux-status\n```\n\nAlternatively, you can manually add the hooks to `~/.claude/settings.json`. See\n[.claude-plugin/plugin.json](.claude-plugin/plugin.json) for the hook\nconfiguration.\n\n#### OpenCode\n\nDownload the workmux status plugin to your global OpenCode plugin directory:\n\n```bash\nmkdir -p ~/.config/opencode/plugin\ncurl -o ~/.config/opencode/plugin/workmux-status.ts \\\n  https://raw.githubusercontent.com/raine/workmux/main/.opencode/plugin/workmux-status.ts\n```\n\nRestart OpenCode for the plugin to take effect.\n\n---\n\nWorkmux automatically modifies your tmux `window-status-format` to display the\nstatus icons. This happens once per session and only affects the current tmux\nsession (not your global config).\n\n### Customization\n\nYou can customize the icons in your config:\n\n```yaml\n# ~/.config/workmux/config.yaml\nstatus_icons:\n  working: 'üîÑ'\n  waiting: '‚è∏Ô∏è'\n  done: '‚úîÔ∏è'\n```\n\nIf you prefer to manage the tmux format yourself, disable auto-modification and\nadd the status variable to your `~/.tmux.conf`:\n\n```yaml\n# ~/.config/workmux/config.yaml\nstatus_format: false\n```\n\n```bash\n# ~/.tmux.conf\nset -g window-status-format '#I:#W#{?@workmux_status, #{@workmux_status},}#{?window_flags,#{window_flags}, }'\nset -g window-status-current-format '#I:#W#{?@workmux_status, #{@workmux_status},}#{?window_flags,#{window_flags}, }'\n```\n\n### Jump to completed agents\n\nUse `workmux last-done` to quickly switch to the agent that most recently\nfinished its task. Repeated invocations cycle through all completed agents in\nreverse chronological order.\n\nAdd a tmux keybinding for quick access:\n\n```bash\n# ~/.tmux.conf\nbind-key L run-shell \"workmux last-done\"\n```\n\nThen press `prefix + L` to jump to the last completed agent, press again to\ncycle to the next oldest, and so on.\n\n### Toggle between agents\n\nUse `workmux last-agent` to toggle between your current agent and the last one\nyou visited. This works like vim's `Ctrl+^` or tmux's `last-window` - it\nremembers which agent you came from and switches back to it. Pressing it again\nreturns you to where you were.\n\nThis is available both as a CLI command and as the `Tab` key in the dashboard.\n\nAdd a tmux keybinding for quick access:\n\n```bash\n# ~/.tmux.conf\nbind Tab run-shell \"workmux last-agent\"\n```\n\nThen press `prefix + Tab` to toggle between your two most recent agents.\n\n## Sandbox\n\nworkmux can run agents inside containers (Docker/Podman) or Lima VMs, isolating\nthem from your host. Agents are restricted to the project worktree; sensitive\nfiles like SSH keys, AWS credentials, and other secrets are not accessible. This\nlets you run agents with `--dangerously-skip-permissions` without worrying about\nwhat they might touch on your host.\n\nSandboxing is transparent: status indicators, the dashboard, spawning new\nagents, and merging all continue to work normally across the sandbox boundary.\n\n### Backends\n\n|                      | Container (Docker/Podman)                 | Lima VM                              |\n| -------------------- | ----------------------------------------- | ------------------------------------ |\n| **Isolation**        | Process-level (namespaces)                | Machine-level (virtual machine)      |\n| **Persistence**      | Ephemeral (new container per session)     | Persistent (stateful VMs)            |\n| **Toolchain**        | Custom Dockerfile or host command proxying | Built-in Nix & Devbox support       |\n| **Network**          | Optional restrictions (domain allowlist)  | Unrestricted                         |\n\nContainer is a good default: simple to set up and ephemeral, so no state\naccumulates between sessions. Choose Lima if you want persistent VMs with\nbuilt-in Nix/Devbox toolchain support.\n\n### Quick start\n\n```yaml\n# ~/.config/workmux/config.yaml or .workmux.yaml\nsandbox:\n  enabled: true\n  # backend: lima  # uncomment for Lima VMs (default: container)\n```\n\nThe pre-built container image is pulled automatically on first run. For Lima, the\nVM is created and provisioned on first use.\n\n### Shared features\n\nBoth backends support:\n\n- **Host command proxying**: Run specific commands (build tools, linters) on the\n  host from inside the sandbox via `host_commands` config\n- **Extra mounts**: Mount additional host directories into the sandbox\n  (read-only by default)\n- **Git identity**: Your `user.name` and `user.email` are automatically injected\n  so git commits work without exposing your full `~/.gitconfig`\n- **Credential sharing**: Agent credentials are shared between host and sandbox\n- **Network restrictions** (container only): Block outbound connections except to\n  approved domains\n\nSee the [sandbox guide](https://workmux.raine.dev/guide/sandbox/) for full\nsetup, configuration, and security details.\n\n## Workflow example\n\nHere's a complete workflow:\n\n```bash\n# Start a new feature\nworkmux add user-auth\n\n# Work on your feature...\n# (tmux automatically sets up your configured panes and environment)\n\n# When ready, merge and clean up\nworkmux merge user-auth\n\n# Start another feature\nworkmux add api-endpoint\n\n# List all active worktrees\nworkmux list\n```\n\n## Before and after\n\nworkmux turns a multi-step manual workflow into simple commands, making parallel\ndevelopment workflows practical.\n\n### Without workmux\n\n```bash\n# 1. Manually create the worktree and environment\ngit worktree add ../worktrees/user-auth -b user-auth\ncd ../worktrees/user-auth\ncp ../../project/.env.example .env\nln -s ../../project/node_modules .\nnpm install\n# ... and other setup steps\n\n# 2. Manually create and configure the tmux window\ntmux new-window -n user-auth\ntmux split-window -h 'npm run dev'\ntmux send-keys -t 0 'claude' C-m\n# ... repeat for every pane in your desired layout\n\n# 3. When done, manually merge and clean everything up\ncd ../../project\ngit switch main && git pull\ngit merge --no-ff user-auth\ntmux kill-window -t user-auth\ngit worktree remove ../worktrees/user-auth\ngit branch -d user-auth\n```\n\n### With workmux\n\n```bash\n# Create the environment\nworkmux add user-auth\n\n# ... work on the feature ...\n\n# Merge and clean up\nworkmux merge\n```\n\n### The parallel AI workflow\n\nRun multiple AI agents simultaneously, each in its own worktree.\n\n```bash\n# Spin up two agents working on different tasks\nworkmux add refactor-user-model -p \"Refactor the User model to use composition\"\nworkmux add add-search-endpoint -p \"Add a /search endpoint with pagination\"\n\n# Each agent works in isolation. Check progress via tmux windows or the dashboard\nworkmux dashboard\n\n# Merge completed work back to main\nworkmux merge refactor-user-model\nworkmux merge add-search-endpoint\n```\n\n<!-- prettier-ignore -->\n> [!TIP]\n> Use `-A` (`--auto-name`) to generate branch names automatically from your\n> prompt, so you don't have to think of one. See\n> [Automatic branch name generation](#automatic-branch-name-generation).\n\n## Why git worktrees?\n\n[Git worktrees](https://git-scm.com/docs/git-worktree) let you have multiple\nbranches checked out at once in the same repository, each in a separate\ndirectory. This provides two main advantages over a standard single-directory\nsetup:\n\n- **Painless context switching**: Switch between tasks just by changing\n  directories (`cd ../other-branch`). There's no need to `git stash` or make\n  temporary commits. Your work-in-progress, editor state, and command history\n  remain isolated and intact for each branch.\n\n- **True parallel development**: Work on multiple branches simultaneously\n  without interference. You can run builds, install dependencies\n  (`npm install`), or run tests in one worktree while actively coding in\n  another. This isolation is perfect for running multiple AI agents in parallel\n  on different tasks.\n\nIn a standard Git setup, switching branches disrupts your flow by requiring a\nclean working tree. Worktrees remove this friction. `workmux` automates the\nentire process and pairs each worktree with a dedicated tmux window, creating\nfully isolated development environments. See\n[Before and after](#before-and-after) for how workmux streamlines this workflow.\n\n## Git worktree caveats\n\nWhile powerful, git worktrees have nuances that are important to understand.\nworkmux is designed to automate solutions to these, but awareness of the\nunderlying mechanics helps.\n\n- [Gitignored files require configuration](#gitignored-files-require-configuration)\n- [Conflicts](#conflicts)\n- [Package manager considerations (pnpm, yarn)](#package-manager-considerations-pnpm-yarn)\n- [Rust projects](#rust-projects)\n- [Port conflicts in monorepos](#port-conflicts-in-monorepos)\n- [Symlinks and `.gitignore` trailing slashes](#symlinks-and-gitignore-trailing-slashes)\n- [Local git ignores (`.git/info/exclude`) are not shared](#local-git-ignores-gitinfoexclude-are-not-shared)\n\n### Gitignored files require configuration\n\nWhen `git worktree add` creates a new working directory, it's a clean checkout.\nFiles listed in your `.gitignore` (e.g., `.env` files, `node_modules`, IDE\nconfiguration) will not exist in the new worktree by default. Your application\nwill be broken in the new worktree until you manually create or link these\nnecessary files.\n\nThis is a primary feature of workmux. Use the `files` section in your\n`.workmux.yaml` to automatically copy or symlink these files on creation:\n\n```yaml\n# .workmux.yaml\nfiles:\n  copy:\n    - .env # Copy environment variables\n  symlink:\n    - .next/cache # Share Next.js build cache\n```\n\nNote: Symlinking `node_modules` can be efficient but only works if all worktrees\nshare identical dependencies. If different branches have different dependency\nversions, each worktree needs its own installation. For dependency installation,\nconsider using a pane command instead of `post_create` hooks - this runs the\ninstall in the background without blocking the worktree and window creation:\n\n```yaml\npanes:\n  - command: npm install\n    focus: true\n  - split: horizontal\n```\n\n### Conflicts\n\nWorktrees isolate your filesystem, but they do not prevent merge conflicts. If\nyou modify the area of code on two different branches (in two different\nworktrees), you will still have a conflict when you merge one into the other.\n\nThe best practice is to work on logically separate features in parallel\nworktrees. When conflicts are unavoidable, use standard git tools to resolve\nthem. You can also leverage an AI agent within the worktree to assist with the\nconflict resolution.\n\n### Package manager considerations (pnpm, yarn)\n\nModern package managers like `pnpm` use a global store with symlinks to\n`node_modules`. Each worktree typically needs its own `pnpm install` to set up\nthe correct dependency versions for that branch.\n\nIf your worktrees always have identical dependencies (e.g., working on multiple\nfeatures from the same base), you could potentially symlink `node_modules`\nbetween worktrees. However, this breaks as soon as branches diverge in their\ndependencies, so it's generally safer to run a fresh install in each worktree.\n\nNote: In large monorepos, cleaning up `node_modules` during worktree removal can\ntake significant time. workmux has a\n[special cleanup mechanism](https://github.com/raine/workmux/blob/main/src/scripts/cleanup_node_modules.sh)\nthat moves `node_modules` to a temporary location and deletes it in the\nbackground, making the `remove` command return almost instantly.\n\n### Rust projects\n\nUnlike `node_modules`, Rust's `target/` directory should **not** be symlinked\nbetween worktrees. Cargo locks the `target` directory during builds, so sharing\nit would block parallel builds and defeat the purpose of worktrees.\n\nInstead, use [sccache](https://github.com/mozilla/sccache) to share compiled\ndependencies across worktrees:\n\n```bash\nbrew install sccache\n```\n\nAdd to `~/.cargo/config.toml`:\n\n```toml\n[build]\nrustc-wrapper = \"sccache\"\n```\n\nThis caches compiled dependencies globally, so new worktrees benefit from cached\nartifacts without any lock contention.\n\n### Port conflicts in monorepos\n\nWhen running multiple services (API, web app, database) in a monorepo, each\nworktree needs unique ports to avoid conflicts. For example, if your `.env` has\nhardcoded ports like `API_PORT=3001` and `VITE_PORT=3000`, running two worktrees\nsimultaneously would fail because both would try to bind to the same ports.\nSimply copying `.env` files won't work since all worktrees would use the same\nports.\n\n**Solution**: Use a `post_create` hook to generate a `.env.local` file with\nunique ports. Many frameworks (Vite, Next.js, CRA) automatically load\n`.env.local` and merge it with `.env`, with `.env.local` taking precedence. For\nplain Node.js, use multiple `--env-file` flags where later files override\nearlier ones.\n\nCreate a script at `scripts/worktree-env`:\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\nport_in_use() {\n  lsof -nP -iTCP:\"$1\" -sTCP:LISTEN &>/dev/null\n}\n\nfind_port() {\n  local port=$1\n  while port_in_use \"$port\"; do\n    ((port++))\n  done\n  echo \"$port\"\n}\n\n# Hash the handle to get a deterministic port offset (0-99)\nhash=$(echo -n \"$WM_HANDLE\" | md5 | cut -c1-4)\noffset=$((16#$hash % 100))\n\n# Find available ports starting from the hash-based offset\napi_port=$(find_port $((3001 + offset * 10)))\nvite_port=$(find_port $((3000 + offset * 10)))\n\n# Generate .env.local with port overrides\ncat >.env.local <<EOF\nAPI_PORT=$api_port\nVITE_PORT=$vite_port\nVITE_PUBLIC_API_URL=http://localhost:$api_port\nEOF\n\necho \"Created .env.local with ports: API=$api_port, VITE=$vite_port\"\n```\n\nConfigure workmux to copy `.env` and generate `.env.local`:\n\n```yaml\n# .workmux.yaml\nfiles:\n  copy:\n    - .env # Copy secrets (DATABASE_URL, API keys, etc.)\n\npost_create:\n  - ./scripts/worktree-env # Generate .env.local with unique ports\n```\n\nFor plain Node.js (without framework support), load both files with later\noverriding earlier:\n\n```json\n{\n  \"scripts\": {\n    \"api\": \"node --env-file=.env --env-file=.env.local api/server.js\",\n    \"web\": \"node --env-file=.env --env-file=.env.local web/server.js\"\n  }\n}\n```\n\nEach worktree now gets unique ports derived from its name, allowing multiple\ninstances to run simultaneously without conflicts. The `.env` file stays\nuntouched, and `.env.local` is gitignored.\n\nSee the [Monorepos guide](https://workmux.raine.dev/guide/monorepos) for\nalternative approaches using direnv.\n\n### Symlinks and `.gitignore` trailing slashes\n\nIf your `.gitignore` uses a trailing slash to ignore directories (e.g.,\n`tests/venv/`), symlinks to that path in the created worktree will **not** be\nignored and will show up in `git status`. This is because `venv/` only matches\ndirectories, not files (symlinks).\n\nTo ignore both directories and symlinks, remove the trailing slash:\n\n```diff\n- tests/venv/\n+ tests/venv\n```\n\n### Local git ignores (`.git/info/exclude`) are not shared\n\nThe local git ignore file, `.git/info/exclude`, is specific to the main\nworktree's git directory and is not respected in other worktrees. Personal\nignore patterns for your editor or temporary files may not apply in new\nworktrees, causing them to appear in `git status`.\n\nFor personal ignores, use a global git ignore file. For project-specific ignores\nthat are safe to share with your team, add them to the project's main\n`.gitignore` file.\n\n## Tips\n\n### Nerdfont icons\n\nOn first run, workmux prompts you to check if a git branch icon displays\ncorrectly. If you have a [Nerd Font](https://www.nerdfonts.com/) installed,\nanswer yes to enable nerdfont icons throughout the interface, including the tmux\nwindow prefix.\n\n![nerdfont window prefix](https://raw.githubusercontent.com/raine/workmux/refs/heads/main/meta/nerdfont-prefix.webp)\n\nTo change the setting later, edit `~/.config/workmux/config.yaml`:\n\n```yaml\nnerdfont: true # or false for unicode fallbacks\n```\n\n### Using direnv\n\nIf your project uses [direnv](https://direnv.net/) for environment management,\nyou can configure workmux to automatically set it up in new worktrees:\n\n```yaml\n# .workmux.yaml\npost_create:\n  - direnv allow\n\nfiles:\n  symlink:\n    - .envrc\n```\n\n### Claude Code permissions\n\nBy default, Claude Code prompts for permission before running commands. There\nare several ways to handle this in worktrees:\n\n**Share permissions across worktrees**\n\nTo keep permission prompts but share granted permissions across worktrees:\n\n```yaml\nfiles:\n  symlink:\n    - .claude/settings.local.json\n```\n\nAdd this to your global config (`~/.config/workmux/config.yaml`) or project's\n`.workmux.yaml`. Since this file contains user-specific permissions, also add it\nto `.gitignore`:\n\n```\n.claude/settings.local.json\n```\n\n**Skip permission prompts (yolo mode)**\n\nTo skip prompts entirely, either configure the agent with the flag:\n\n```yaml\nagent: 'claude --dangerously-skip-permissions'\n```\n\nThis only affects workmux-created worktrees. Alternatively, use a global shell\nalias:\n\n```bash\nalias claude=\"claude --dangerously-skip-permissions\"\n```\n\n### Delegating tasks with a custom command\n\nüìù **See [this blog post][delegating-post]** for a detailed walkthrough of the\nworkflow.\n\nA Claude Code [custom slash command][custom slash commands] can streamline task\ndelegation to worktree agents. Save this as `~/.claude/commands/worktree.md`:\n\n```markdown\nLaunch one or more tasks in new git worktrees using workmux.\n\nTasks: $ARGUMENTS\n\n## Instructions\n\nNote: The tasks above may reference something discussed earlier in the\nconversation (e.g., \"do option 2\", \"implement the fix we discussed\"). Include\nall relevant context from the conversation in each prompt you write.\n\nIf tasks reference a markdown file (e.g., a plan or spec), re-read the file to\nensure you have the latest version before writing prompts.\n\nFor each task:\n\n1. Generate a short, descriptive worktree name (2-4 words, kebab-case)\n2. Write a detailed implementation prompt to a temp file\n3. Run `workmux add <worktree-name> -b -P <temp-file>` to create the worktree\n\nThe prompt file should:\n\n- Include the full task description\n- Use RELATIVE paths only (never absolute paths, since each worktree has its own\n  root directory)\n- Be specific about what the agent should accomplish\n\n## Workflow\n\nWrite ALL temp files first, THEN run all workmux commands in parallel.\n\nAfter creating the worktrees, inform the user which branches were created.\n```\n\nUsage:\n\n```\n> /worktree Implement user authentication\n> /worktree Fix the race condition in handler.go\n> /worktree Add dark mode, Implement caching  # multiple tasks\n```\n\n[custom slash commands]:\n  https://docs.anthropic.com/en/docs/claude-code/tutorials/custom-slash-commands\n[delegating-post]: https://raine.dev/blog/git-worktrees-parallel-agents/\n\n## Shell completions\n\nTo enable tab completions for commands and branch names, add the following to\nyour shell's configuration file.\n\nFor **bash**, add to your `.bashrc`:\n\n```bash\neval \"$(workmux completions bash)\"\n```\n\nFor **zsh**, add to your `.zshrc`:\n\n```bash\neval \"$(workmux completions zsh)\"\n```\n\nFor **fish**, add to your `config.fish`:\n\n```bash\nworkmux completions fish | source\n```\n\n## Requirements\n\n- Rust (for building)\n- Git 2.5+ (for worktree support)\n- tmux (or an alternative backend)\n\n### Alternative backends\n\nWhile tmux is the primary and recommended backend, workmux also supports\nalternative terminal multiplexers:\n\n- **[WezTerm](https://workmux.raine.dev/guide/wezterm)** (experimental) - For\n  users who prefer WezTerm's features. Thanks to\n  [@JeremyBYU](https://github.com/JeremyBYU) for contributing this backend.\n- **[kitty](https://workmux.raine.dev/guide/kitty)** (experimental) - For users\n  who prefer kitty terminal. Requires `allow_remote_control` and `listen_on`\n  configuration.\n\nworkmux auto-detects the backend from environment variables (`$WEZTERM_PANE`,\n`$KITTY_WINDOW_ID`, or `$TMUX`).\n\n## Inspiration and related tools\n\nworkmux is inspired by [wtp](https://github.com/satococoa/wtp), an excellent git\nworktree management tool. While wtp streamlines worktree creation and setup,\nworkmux takes this further by tightly coupling worktrees with tmux window\nmanagement.\n\nFor managing multiple AI agents in parallel, tools like\n[claude-squad](https://github.com/smtg-ai/claude-squad) and\n[vibe-kanban](https://github.com/BloopAI/vibe-kanban/) offer dedicated\ninterfaces, like a TUI or kanban board. In contrast, workmux adheres to its\nphilosophy that **tmux is the interface**, providing a native tmux experience\nfor managing parallel workflows without requiring a separate interface to learn.\n\n## Contributing\n\nBug reports and feature suggestions are always welcome via issues or\ndiscussions. Large and/or complex PRs, especially without prior discussion, may\nnot get merged. Thanks for contributing!\n\nSee [CONTRIBUTING.md](CONTRIBUTING.md) for development setup.\n\n## Related projects\n\n- [tmux-tools](https://github.com/raine/tmux-tools) ‚Äî Collection of tmux\n  utilities including file picker, smart sessions, and more\n- [tmux-file-picker](https://github.com/raine/tmux-file-picker) ‚Äî Pop up fzf in\n  tmux to quickly insert file paths, perfect for AI coding assistants\n- [tmux-bro](https://github.com/raine/tmux-bro) ‚Äî Smart tmux session manager\n  that sets up project-specific sessions automatically\n- [git-surgeon](https://github.com/raine/git-surgeon) ‚Äî Non-interactive\n  hunk-level git staging for AI agents\n- [claude-history](https://github.com/raine/claude-history) ‚Äî Search and view\n  Claude Code conversation history with fzf\n- [consult-llm-mcp](https://github.com/raine/consult-llm-mcp) ‚Äî MCP server that\n  lets Claude Code consult stronger AI models (o3, Gemini, GPT-5.1 Codex)\n"
      },
      "plugins": [
        {
          "name": "workmux-status",
          "source": "./",
          "description": "Display Claude agent status (working/waiting) in tmux window names",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add raine/workmux",
            "/plugin install workmux-status@workmux"
          ]
        }
      ]
    }
  ]
}