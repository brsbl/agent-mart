{
  "author": {
    "id": "rikdc",
    "display_name": "Richard Claydon",
    "avatar_url": "https://avatars.githubusercontent.com/u/33488?u=23577cb6cf1c83eb5ac3352f60259ad8979f61ac&v=4"
  },
  "marketplaces": [
    {
      "name": "claude-code-template",
      "version": null,
      "description": "Security hooks, branch protection, and development skills for Claude Code projects",
      "repo_full_name": "rikdc/claude_code_template",
      "repo_url": "https://github.com/rikdc/claude_code_template",
      "repo_description": "Template repository setting up Claude Code for new projects",
      "signals": {
        "stars": 2,
        "forks": 1,
        "pushed_at": "2026-02-11T16:55:31Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-code-template\",\n  \"owner\": {\n    \"name\": \"Richard Claydon\"\n  },\n  \"metadata\": {\n    \"description\": \"Security hooks, branch protection, and development skills for Claude Code projects\",\n    \"version\": \"1.0.0\",\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"security-hooks\",\n      \"source\": \"./plugins/security-hooks\",\n      \"description\": \"MCP security scanner and protected branch hooks for Claude Code\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"security\", \"hooks\", \"mcp\", \"branch-protection\"],\n      \"category\": \"security\"\n    },\n    {\n      \"name\": \"pr-review-triage\",\n      \"source\": \"./plugins/pr-review-triage\",\n      \"description\": \"Triage PR review comments — classify, accept/reject, and track follow-up work\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"pr-review\", \"triage\", \"code-review\", \"github\", \"workflow\"],\n      \"category\": \"workflow\"\n    }\n  ]\n}\n",
        "README.md": "# Claude Code Template\n\nProduction-ready Claude Code project template with security hooks, workflow automation, and specialized agents for software development.\n\n## Features\n\n- **Security Hooks**: Prevent sensitive data leaks and enforce branch protection\n- **Slash Commands**: Workflow automation for code quality, documentation, and project management\n- **Specialized Agents**: Expert agents for Go development, code review, and documentation\n- **Testing Infrastructure**: Comprehensive test suite with ~2000 lines of test coverage\n- **Marketplace Plugins**: Modular plugin architecture with 6 installable plugins\n\n## Installation\n\n### Install Individual Plugins\n\nThe repository is organized as a marketplace with 6 independent plugins:\n\n```bash\n# Install specific plugins\nclaude code plugins install security-hooks\nclaude code plugins install dev-skills\nclaude code plugins install git-workflow\nclaude code plugins install pm-tools\nclaude code plugins install code-quality\nclaude code plugins install prompt-tools\n\n# Or install from GitHub\nclaude code plugins install github:rikdc/claude_code_template/security-hooks\n```\n\n### Clone for Local Development\n\nClone the entire repository for local development with all components:\n\n```bash\ngit clone https://github.com/rikdc/claude_code_template.git\ncd claude_code_template\nmake install\nmake test\n```\n\n## Available Plugins\n\n| Plugin | Category | Description |\n|--------|----------|-------------|\n| [security-hooks](plugins/security-hooks/) | Security | MCP security scanner and protected branch hooks |\n| [dev-skills](plugins/dev-skills/) | Development | Expert skills for Go, documentation, and architecture |\n| [git-workflow](plugins/git-workflow/) | Productivity | Git automation for commits, PRs, and changelog |\n| [pm-tools](plugins/pm-tools/) | Productivity | Project management commands for PRDs and tasks |\n| [code-quality](plugins/code-quality/) | Development | Code quality analysis, review, and cleanup |\n| [prompt-tools](plugins/prompt-tools/) | AI | AI prompt generation and review tools |\n\n## Security Hooks\n\n| Hook | Description |\n|------|-------------|\n| [MCP Security Scanner](docs/mcp-security-scanner.md) | Scans MCP requests for API keys, tokens, database URLs, and PII |\n| [Protected Branch Hook](docs/protect-main-branch-hook.md) | Enforces PR-based workflow by blocking direct edits to protected branches |\n\n## Slash Commands\n\n### Development\n\n- `/dev:check` - Comprehensive code quality analysis with parallel auto-fixing\n- `/dev:review` - Performs detailed code review on latest commit\n- `/clean` - Removes redundant comments from codebase\n\n### GitHub Workflow\n\n- `/gh:commit` - Creates conventional commits with emoji\n- `/gh:pr` - Creates GitHub pull requests with templates\n\n### Project Management\n\n- `/pm:create-prd` - Interactive PRD creation with clarifying questions\n- `/pm:generate-tasks` - Generates task lists from PRDs with phased approach\n- `/pm:process-tasks` - Task management protocols and workflows\n\n### Documentation\n\n- `/changelog` - Maintains CHANGELOG.md following Keep a Changelog format\n- `/promptify` - Generates high-quality AI prompts with best practices\n- `/prompt-reviewer` - Reviews and improves AI prompts\n\n## Specialized Agents\n\n- **Manager Agent**: Orchestrates multi-agent workflows and task delegation\n- **Go Implementor**: Test-driven Go development with eevee framework patterns\n- **Go Reviewer**: Expert Go code review focusing on idiomatic patterns\n- **Document Agent**: Technical documentation and API specification generation\n- **Staff Eyes**: Senior-level architectural review and design feedback\n- **Specify Agent**: Requirements analysis and technical specification creation\n- **Taskify Agent**: Breaks down epics into actionable development tasks\n\n## Quick Start\n\n```bash\nmake install        # Install hooks and make scripts executable\nmake test           # Run complete test suite\nmake lint           # Run ShellCheck and markdownlint\nmake check-tools    # Verify required and optional tools\nmake status         # Show configuration and tool status\n```\n\n## Project Structure\n\n```text\nplugins/                          # Marketplace plugin distribution\n├── security-hooks/              # MCP security and branch protection\n├── dev-skills/                  # Development skills (Go, docs, etc.)\n├── git-workflow/                # Git automation commands\n├── pm-tools/                    # Project management commands\n├── code-quality/                # Code review and cleanup\n└── prompt-tools/                # AI prompt generation\n\n.claude/                         # Local development structure\n├── skills/                      # Specialized skills\n├── commands/                    # Slash command implementations\n│   ├── dev/                    # Development workflow commands\n│   ├── gh/                     # GitHub automation commands\n│   └── pm/                     # Project management commands\n├── hooks/                       # Security and workflow hooks\n└── settings.json                # Hook configuration\n\ndocs/                            # Documentation\ntests/                           # Test suite\nMakefile                         # Command interface\n```\n\n**Note**: The `plugins/` directory is the canonical location for all plugin content.\n\n## Attribution\n\nThis project includes work from the following sources:\n\n### Product Management Commands\n\nThe PM command suite (`/pm:create-prd`, `/pm:generate-tasks`, `/pm:process-tasks`) is based on patterns and workflows from:\n\n- **Source**: [AI Dev Tasks](https://github.com/snarktank/ai-dev-tasks/tree/main)\n- **License**: MIT License\n- **Usage**: Adapted and extended for Claude Code project management workflows\n\nSpecial thanks to the AI Dev Tasks project for providing the foundational patterns for structured AI-assisted development workflows.\n",
        "plugins/security-hooks/README.md": "# Security Hooks Plugin\n\nMCP security scanner and protected branch hooks for Claude Code projects.\n\n## Features\n\n### 1. MCP Security Scanner\n\n- Scans all MCP tool requests for sensitive data before execution\n- Detects API keys, tokens, credentials, database URLs, and personal information\n- Logs all security violations to `.claude/security-scan.log`\n- Supports optional external tools (trufflehog, gitleaks, git-secrets)\n\n### 2. Protected Branch Hook\n\n- Prevents direct edits to protected branches (main, master, production, release)\n- Blocks Edit, Write, Bash, and Task tools on protected branches\n- Enforces PR-based workflows\n- Logs all violations to `.claude/protect-main-branch.log`\n\n## Installation\n\nInstall via Claude Code marketplace:\n\n```bash\nclaude code plugins install security-hooks\n```\n\nOr install from this repository:\n\n```bash\nclaude code plugins install github:rikdc/claude_code_template/security-hooks\n```\n\n## Configuration\n\n### Security Patterns\n\nThe plugin includes a `security-patterns.conf` file with regex patterns for detecting:\n\n- Authentication & API keys (AWS, GitHub, OpenAI, Slack, Discord, etc.)\n- Database connection strings (PostgreSQL, MySQL, MongoDB)\n- Personal information (emails, credit cards, SSNs, phone numbers)\n- Cloud provider credentials and private keys\n\nYou can customize patterns by editing `security-patterns.conf` in the plugin directory.\n\n### Hook Behavior\n\nBoth hooks run automatically when:\n\n- **MCP Scanner**: Any MCP tool is called (pattern: `mcp__.*`)\n- **Branch Protection**: Edit, Write, Bash, or Task tools are called on protected branches\n\n## Usage\n\n### Security Scanner\n\nThe scanner runs automatically on all MCP requests. Check the log for violations:\n\n```bash\ncat .claude/security-scan.log | grep \"SECURITY VIOLATION\"\n```\n\n### Branch Protection\n\nCreate a feature branch before making changes:\n\n```bash\ngit checkout -b feature/my-changes\n```\n\nThe hook will block operations on protected branches with guidance to create a feature branch.\n\n## Dependencies\n\n**Required**: `jq`, `grep`, `awk`, `mktemp`\n\n**Optional** (enhance detection):\n\n- `trufflehog`: Advanced secret scanning\n- `gitleaks`: Git secret detection\n- `git-secrets`: Prevent secrets in commits\n\n## Monitoring\n\n### Security Scan Log\n\nLocation: `.claude/security-scan.log`\n\nView recent activity:\n\n```bash\ntail -n 50 .claude/security-scan.log\n```\n\n### Branch Protection Log\n\nLocation: `.claude/protect-main-branch.log`\n\nView recent blocks:\n\n```bash\ngrep \"PROTECTED BRANCH VIOLATION\" .claude/protect-main-branch.log\n```\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "security-hooks",
          "source": "./plugins/security-hooks",
          "description": "MCP security scanner and protected branch hooks for Claude Code",
          "version": "1.0.0",
          "keywords": [
            "security",
            "hooks",
            "mcp",
            "branch-protection"
          ],
          "category": "security",
          "categories": [
            "branch-protection",
            "hooks",
            "mcp",
            "security"
          ],
          "install_commands": [
            "/plugin marketplace add rikdc/claude_code_template",
            "/plugin install security-hooks@claude-code-template"
          ]
        },
        {
          "name": "pr-review-triage",
          "source": "./plugins/pr-review-triage",
          "description": "Triage PR review comments — classify, accept/reject, and track follow-up work",
          "version": "1.0.0",
          "keywords": [
            "pr-review",
            "triage",
            "code-review",
            "github",
            "workflow"
          ],
          "category": "workflow",
          "categories": [
            "code-review",
            "github",
            "pr-review",
            "triage",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add rikdc/claude_code_template",
            "/plugin install pr-review-triage@claude-code-template"
          ]
        }
      ]
    },
    {
      "name": "reeds",
      "version": null,
      "description": "Autonomous multi-task development loops powered by Beads issue tracking",
      "repo_full_name": "rikdc/reeds",
      "repo_url": "https://github.com/rikdc/reeds",
      "repo_description": "Autonomous multi-task development loops powered by the Ralph technique and Beads issue tracking.",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-04T21:52:03Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"reeds\",\n  \"owner\": {\n    \"name\": \"Reeds Contributors\"\n  },\n  \"metadata\": {\n    \"description\": \"Autonomous multi-task development loops powered by Beads issue tracking\",\n    \"version\": \"0.1.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"reeds\",\n      \"source\": \"./\",\n      \"description\": \"Autonomous multi-task development loops powered by Beads issue tracking. Ralph Loop + Beads integration for continuous task execution.\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"Reeds Contributors\"\n      },\n      \"homepage\": \"https://github.com/rikdc/reeds\",\n      \"repository\": \"https://github.com/rikdc/reeds\",\n      \"license\": \"MIT\",\n      \"keywords\": [\n        \"automation\",\n        \"beads\",\n        \"issue-tracking\",\n        \"ralph-loop\",\n        \"autonomous\",\n        \"task-management\",\n        \"workflow\",\n        \"ci-cd\"\n      ],\n      \"category\": \"automation\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"reeds\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Autonomous multi-task development loops powered by Beads issue tracking. Ralph Loop + Beads integration for continuous task execution.\",\n  \"author\": {\n    \"name\": \"Reeds Contributors\",\n    \"url\": \"https://github.com/rikdc/reeds\"\n  },\n  \"homepage\": \"https://github.com/rikdc/reeds\",\n  \"repository\": \"https://github.com/rikdc/reeds\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"automation\",\n    \"beads\",\n    \"issue-tracking\",\n    \"ralph-loop\",\n    \"autonomous\",\n    \"task-management\",\n    \"workflow\",\n    \"ci-cd\"\n  ]\n}\n",
        "README.md": "# Reeds\n\nAutonomous multi-task development loops powered by Beads issue tracking and subagent isolation.\n\n## What is Reeds?\n\nReeds connects [Beads](https://github.com/steveyegge/beads) (git-based issue tracker) with Claude's Task tool for autonomous task execution. It provides:\n\n- **Task Orchestration**: Main agent queries Beads for ready tasks\n- **Subagent Isolation**: Each task is implemented by a fresh subagent (no context pollution)\n- **Iteration Control**: Own stop hook handles looping\n- **Dependency Awareness**: Respects Beads' dependency system\n\n## Architecture\n\n```\nMain Agent (orchestrator)\n  │\n  ├─→ bd ready --limit 1 (get next task)\n  │\n  ├─→ bd show <task-id> (get details)\n  │\n  ├─→ Task tool → task-implementer agent\n  │     │\n  │     └─→ Implements task in isolated context\n  │         Returns summary when done\n  │\n  ├─→ bd close <task-id> --reason \"summary\"\n  │\n  ├─→ Output: <promise>TASK COMPLETE: <id></promise>\n  │\n  └─→ Claude attempts to stop...\n        │\n        └─→ Stop Hook intercepts\n              │\n              ├─→ Parses transcript for promises\n              ├─→ Increments iteration counter\n              ├─→ Re-injects prompt: \"Get next task\"\n              │\n              └─→ Loop continues until REEDS COMPLETE\n```\n\n## Prerequisites\n\n- Claude Code CLI installed\n- [Beads](https://github.com/steveyegge/beads) initialized in your project (`bd init`)\n- `bd` CLI available in PATH\n- `jq` for JSON processing\n\n## Installation\n\n```bash\ncd ~/.claude/plugins\ngit clone https://github.com/rikdc/reeds\n```\n\nRestart Claude Code to load the plugin.\n\n## Usage\n\n### Start a Loop\n\n```text\n/reeds:reeds-start [--max-iterations N]\n```\n\nThis will:\n1. Validate Beads is initialized\n2. Show ready task count\n3. Start the autonomous task loop\n\nOptions:\n- `--max-iterations N` - Stop after N iterations (default: 30)\n\n### Check Status\n\n```text\n/reeds:reeds-status\n```\n\nShows Reeds loop state and Beads task statistics.\n\n### Cancel Loop\n\n```text\n/reeds:reeds-cancel\n```\n\nStops the autonomous loop by setting the state file to inactive.\n\n## How It Works\n\n1. **Setup**: `/reeds:reeds-start` creates `.claude/reeds-state.local.md` with iteration tracking\n2. **Orchestration**: Main agent runs `bd ready` to get tasks\n3. **Delegation**: Each task is passed to the `task-implementer` subagent\n4. **Isolation**: Subagent runs in clean context, implements task, returns summary\n5. **Closure**: Main agent runs `bd close` with the summary\n6. **Iteration**: Stop hook detects when Claude tries to stop, re-injects loop prompt\n7. **Completion**: Loop ends when `bd ready` returns nothing\n\n## How Iteration Control Works\n\nReeds uses a **promise protocol** and a **stop hook** to maintain the autonomous loop across multiple agent turns.\n\n### Promise Markers\n\nThe orchestrator outputs special markers that the stop hook detects:\n\n| Marker | Meaning |\n|--------|---------|\n| `<promise>TASK COMPLETE: <id></promise>` | Current task finished, get next task |\n| `<promise>REEDS COMPLETE</promise>` | No more tasks, terminate loop |\n\n### Stop Hook Behavior\n\nWhen Claude attempts to stop, the stop hook (`scripts/stop-hook.sh`) intercepts:\n\n1. **Parses the transcript** for promise markers\n2. **If TASK COMPLETE**: Clears current task, re-injects prompt to get next task\n3. **If REEDS COMPLETE**: Sets state to inactive, allows exit\n4. **If neither**: Re-injects prompt to continue current task\n5. **Increments iteration counter** and checks against max\n\n### State Machine\n\n```\n┌─────────────┐\n│  No Task    │◄───────────────────────────────┐\n└──────┬──────┘                                │\n       │ bd ready returns task                 │\n       ▼                                       │\n┌─────────────┐                                │\n│ Implementing│──── TASK COMPLETE ────────────►│\n└──────┬──────┘                                │\n       │ bd ready returns nothing              │\n       ▼                                       │\n┌─────────────┐                                │\n│   Complete  │ REEDS COMPLETE → exit          │\n└─────────────┘\n```\n\n## Example Workflow\n\n```bash\n# Initialize a project with Beads\ncd my-project\nbd init\n\n# Create some tasks\nbd create \"Set up project structure\" --priority 1\nbd create \"Implement core feature\" --priority 2\nbd create \"Add tests\" --priority 3\n\n# Open in Claude Code\nclaude\n\n# Start the autonomous loop\n/reeds:reeds-start --max-iterations 20\n```\n\nClaude will work through each task using subagents, closing them as completed, until no ready tasks remain.\n\n## Skills\n\n### /prd-to-beads\n\nConvert a PRD (Product Requirements Document) to Beads tasks:\n\n```text\n/prd-to-beads path/to/prd.md\n```\n\nCreates an epic with child tasks for each user story, with proper dependencies.\n\n## Project Structure\n\n```text\nreeds/\n├── .claude-plugin/\n│   └── plugin.json       # Plugin manifest\n├── agents/\n│   └── task-implementer.md  # Subagent for task implementation\n├── commands/\n│   ├── reeds-start.md    # Start command\n│   ├── reeds-status.md   # Status command\n│   └── reeds-cancel.md   # Cancel command\n├── skills/\n│   └── prd-to-beads/     # PRD to Beads conversion skill\n├── hooks/\n│   └── hooks.json        # Stop hook for iteration control\n├── scripts/\n│   ├── setup-reeds.sh       # Prerequisites validation & state setup\n│   ├── stop-hook.sh         # Iteration control hook\n│   └── set-current-task.sh  # Updates state with current task ID\n└── README.md\n```\n\n## State File Format\n\nReeds maintains state in `.claude/reeds-state.local.md` with YAML frontmatter:\n\n```yaml\n---\nactive: true                          # Loop is running (true/false)\niteration: 5                          # Current iteration count\nmax_iterations: 30                    # Stop after this many iterations\ncurrent_task_id: \"reeds-123\"          # Task currently being worked on\nstarted_at: 2024-01-15T10:30:00Z      # When the loop started (ISO 8601)\n---\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `active` | boolean | Whether the loop is running |\n| `iteration` | integer | Current iteration (incremented by stop hook) |\n| `max_iterations` | integer | Safety limit to prevent runaway loops |\n| `current_task_id` | string | Beads task ID being implemented (empty between tasks) |\n| `started_at` | ISO 8601 | Timestamp when `/reeds:reeds-start` was invoked |\n\n## Troubleshooting\n\n### Loop won't start\n\n- Ensure Beads is initialized: `bd init`\n- Check for ready tasks: `bd ready`\n- Verify `bd` is in PATH: `which bd`\n\n### Tasks not being picked up\n\n- Ensure tasks are in `open` status: `bd list`\n- Check for dependency blocks: `bd blocked`\n\n### Loop stops unexpectedly\n\n- Check Reeds state: `cat .claude/reeds-state.local.md`\n- Max iterations may have been reached\n- Run `/reeds:reeds-status` for diagnostics\n\n### Task fails verification\n\nIf a subagent reports test or build failures:\n\n1. The task remains open in Beads (not closed)\n2. Run `/reeds:reeds-cancel` to stop the loop\n3. Manually fix the issue\n4. Resume with `/reeds:reeds-start`\n\n### Loop gets stuck\n\nIf the loop keeps iterating on the same task:\n\n1. Check if `current_task_id` is set: `cat .claude/reeds-state.local.md`\n2. Manually close the problematic task: `bd close <task-id> --reason \"manually resolved\"`\n3. Resume with `/reeds:reeds-start`\n\n### Manual state recovery\n\nTo reset Reeds state completely:\n\n```bash\nrm .claude/reeds-state.local.md\n```\n\nTo manually adjust iteration count:\n\n```bash\n# Edit the state file directly\nvim .claude/reeds-state.local.md\n# Change iteration: N to a lower number\n```\n\n## Acknowledgments\n\n- [ralph-tui](https://github.com/human-ui/ralph-tui) - PRD to Beads skill adapted from here (MIT License)\n- [Beads](https://github.com/steveyegge/beads) - Git-based issue tracking\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "reeds",
          "source": "./",
          "description": "Autonomous multi-task development loops powered by Beads issue tracking. Ralph Loop + Beads integration for continuous task execution.",
          "version": "0.1.0",
          "author": {
            "name": "Reeds Contributors"
          },
          "homepage": "https://github.com/rikdc/reeds",
          "repository": "https://github.com/rikdc/reeds",
          "license": "MIT",
          "keywords": [
            "automation",
            "beads",
            "issue-tracking",
            "ralph-loop",
            "autonomous",
            "task-management",
            "workflow",
            "ci-cd"
          ],
          "category": "automation",
          "categories": [
            "automation",
            "autonomous",
            "beads",
            "ci-cd",
            "issue-tracking",
            "ralph-loop",
            "task-management",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add rikdc/reeds",
            "/plugin install reeds@reeds"
          ]
        }
      ]
    }
  ]
}