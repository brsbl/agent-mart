{
  "author": {
    "id": "rikdc",
    "display_name": "Richard Claydon",
    "avatar_url": "https://avatars.githubusercontent.com/u/33488?u=23577cb6cf1c83eb5ac3352f60259ad8979f61ac&v=4"
  },
  "marketplaces": [
    {
      "name": "reeds",
      "version": null,
      "description": "Autonomous multi-task development loops powered by Beads issue tracking",
      "repo_full_name": "rikdc/reeds",
      "repo_url": "https://github.com/rikdc/reeds",
      "repo_description": "Autonomous multi-task development loops powered by the Ralph technique and Beads issue tracking.",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-04T21:52:03Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"reeds\",\n  \"owner\": {\n    \"name\": \"Reeds Contributors\"\n  },\n  \"metadata\": {\n    \"description\": \"Autonomous multi-task development loops powered by Beads issue tracking\",\n    \"version\": \"0.1.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"reeds\",\n      \"source\": \"./\",\n      \"description\": \"Autonomous multi-task development loops powered by Beads issue tracking. Ralph Loop + Beads integration for continuous task execution.\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"Reeds Contributors\"\n      },\n      \"homepage\": \"https://github.com/rikdc/reeds\",\n      \"repository\": \"https://github.com/rikdc/reeds\",\n      \"license\": \"MIT\",\n      \"keywords\": [\n        \"automation\",\n        \"beads\",\n        \"issue-tracking\",\n        \"ralph-loop\",\n        \"autonomous\",\n        \"task-management\",\n        \"workflow\",\n        \"ci-cd\"\n      ],\n      \"category\": \"automation\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"reeds\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Autonomous multi-task development loops powered by Beads issue tracking. Ralph Loop + Beads integration for continuous task execution.\",\n  \"author\": {\n    \"name\": \"Reeds Contributors\",\n    \"url\": \"https://github.com/rikdc/reeds\"\n  },\n  \"homepage\": \"https://github.com/rikdc/reeds\",\n  \"repository\": \"https://github.com/rikdc/reeds\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"automation\",\n    \"beads\",\n    \"issue-tracking\",\n    \"ralph-loop\",\n    \"autonomous\",\n    \"task-management\",\n    \"workflow\",\n    \"ci-cd\"\n  ]\n}\n",
        "README.md": "# Reeds\n\nAutonomous multi-task development loops powered by Beads issue tracking and subagent isolation.\n\n## What is Reeds?\n\nReeds connects [Beads](https://github.com/steveyegge/beads) (git-based issue tracker) with Claude's Task tool for autonomous task execution. It provides:\n\n- **Task Orchestration**: Main agent queries Beads for ready tasks\n- **Subagent Isolation**: Each task is implemented by a fresh subagent (no context pollution)\n- **Iteration Control**: Own stop hook handles looping\n- **Dependency Awareness**: Respects Beads' dependency system\n\n## Architecture\n\n```\nMain Agent (orchestrator)\n  │\n  ├─→ bd ready --limit 1 (get next task)\n  │\n  ├─→ bd show <task-id> (get details)\n  │\n  ├─→ Task tool → task-implementer agent\n  │     │\n  │     └─→ Implements task in isolated context\n  │         Returns summary when done\n  │\n  ├─→ bd close <task-id> --reason \"summary\"\n  │\n  ├─→ Output: <promise>TASK COMPLETE: <id></promise>\n  │\n  └─→ Claude attempts to stop...\n        │\n        └─→ Stop Hook intercepts\n              │\n              ├─→ Parses transcript for promises\n              ├─→ Increments iteration counter\n              ├─→ Re-injects prompt: \"Get next task\"\n              │\n              └─→ Loop continues until REEDS COMPLETE\n```\n\n## Prerequisites\n\n- Claude Code CLI installed\n- [Beads](https://github.com/steveyegge/beads) initialized in your project (`bd init`)\n- `bd` CLI available in PATH\n- `jq` for JSON processing\n\n## Installation\n\n```bash\ncd ~/.claude/plugins\ngit clone https://github.com/rikdc/reeds\n```\n\nRestart Claude Code to load the plugin.\n\n## Usage\n\n### Start a Loop\n\n```text\n/reeds:reeds-start [--max-iterations N]\n```\n\nThis will:\n1. Validate Beads is initialized\n2. Show ready task count\n3. Start the autonomous task loop\n\nOptions:\n- `--max-iterations N` - Stop after N iterations (default: 30)\n\n### Check Status\n\n```text\n/reeds:reeds-status\n```\n\nShows Reeds loop state and Beads task statistics.\n\n### Cancel Loop\n\n```text\n/reeds:reeds-cancel\n```\n\nStops the autonomous loop by setting the state file to inactive.\n\n## How It Works\n\n1. **Setup**: `/reeds:reeds-start` creates `.claude/reeds-state.local.md` with iteration tracking\n2. **Orchestration**: Main agent runs `bd ready` to get tasks\n3. **Delegation**: Each task is passed to the `task-implementer` subagent\n4. **Isolation**: Subagent runs in clean context, implements task, returns summary\n5. **Closure**: Main agent runs `bd close` with the summary\n6. **Iteration**: Stop hook detects when Claude tries to stop, re-injects loop prompt\n7. **Completion**: Loop ends when `bd ready` returns nothing\n\n## How Iteration Control Works\n\nReeds uses a **promise protocol** and a **stop hook** to maintain the autonomous loop across multiple agent turns.\n\n### Promise Markers\n\nThe orchestrator outputs special markers that the stop hook detects:\n\n| Marker | Meaning |\n|--------|---------|\n| `<promise>TASK COMPLETE: <id></promise>` | Current task finished, get next task |\n| `<promise>REEDS COMPLETE</promise>` | No more tasks, terminate loop |\n\n### Stop Hook Behavior\n\nWhen Claude attempts to stop, the stop hook (`scripts/stop-hook.sh`) intercepts:\n\n1. **Parses the transcript** for promise markers\n2. **If TASK COMPLETE**: Clears current task, re-injects prompt to get next task\n3. **If REEDS COMPLETE**: Sets state to inactive, allows exit\n4. **If neither**: Re-injects prompt to continue current task\n5. **Increments iteration counter** and checks against max\n\n### State Machine\n\n```\n┌─────────────┐\n│  No Task    │◄───────────────────────────────┐\n└──────┬──────┘                                │\n       │ bd ready returns task                 │\n       ▼                                       │\n┌─────────────┐                                │\n│ Implementing│──── TASK COMPLETE ────────────►│\n└──────┬──────┘                                │\n       │ bd ready returns nothing              │\n       ▼                                       │\n┌─────────────┐                                │\n│   Complete  │ REEDS COMPLETE → exit          │\n└─────────────┘\n```\n\n## Example Workflow\n\n```bash\n# Initialize a project with Beads\ncd my-project\nbd init\n\n# Create some tasks\nbd create \"Set up project structure\" --priority 1\nbd create \"Implement core feature\" --priority 2\nbd create \"Add tests\" --priority 3\n\n# Open in Claude Code\nclaude\n\n# Start the autonomous loop\n/reeds:reeds-start --max-iterations 20\n```\n\nClaude will work through each task using subagents, closing them as completed, until no ready tasks remain.\n\n## Skills\n\n### /prd-to-beads\n\nConvert a PRD (Product Requirements Document) to Beads tasks:\n\n```text\n/prd-to-beads path/to/prd.md\n```\n\nCreates an epic with child tasks for each user story, with proper dependencies.\n\n## Project Structure\n\n```text\nreeds/\n├── .claude-plugin/\n│   └── plugin.json       # Plugin manifest\n├── agents/\n│   └── task-implementer.md  # Subagent for task implementation\n├── commands/\n│   ├── reeds-start.md    # Start command\n│   ├── reeds-status.md   # Status command\n│   └── reeds-cancel.md   # Cancel command\n├── skills/\n│   └── prd-to-beads/     # PRD to Beads conversion skill\n├── hooks/\n│   └── hooks.json        # Stop hook for iteration control\n├── scripts/\n│   ├── setup-reeds.sh       # Prerequisites validation & state setup\n│   ├── stop-hook.sh         # Iteration control hook\n│   └── set-current-task.sh  # Updates state with current task ID\n└── README.md\n```\n\n## State File Format\n\nReeds maintains state in `.claude/reeds-state.local.md` with YAML frontmatter:\n\n```yaml\n---\nactive: true                          # Loop is running (true/false)\niteration: 5                          # Current iteration count\nmax_iterations: 30                    # Stop after this many iterations\ncurrent_task_id: \"reeds-123\"          # Task currently being worked on\nstarted_at: 2024-01-15T10:30:00Z      # When the loop started (ISO 8601)\n---\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `active` | boolean | Whether the loop is running |\n| `iteration` | integer | Current iteration (incremented by stop hook) |\n| `max_iterations` | integer | Safety limit to prevent runaway loops |\n| `current_task_id` | string | Beads task ID being implemented (empty between tasks) |\n| `started_at` | ISO 8601 | Timestamp when `/reeds:reeds-start` was invoked |\n\n## Troubleshooting\n\n### Loop won't start\n\n- Ensure Beads is initialized: `bd init`\n- Check for ready tasks: `bd ready`\n- Verify `bd` is in PATH: `which bd`\n\n### Tasks not being picked up\n\n- Ensure tasks are in `open` status: `bd list`\n- Check for dependency blocks: `bd blocked`\n\n### Loop stops unexpectedly\n\n- Check Reeds state: `cat .claude/reeds-state.local.md`\n- Max iterations may have been reached\n- Run `/reeds:reeds-status` for diagnostics\n\n### Task fails verification\n\nIf a subagent reports test or build failures:\n\n1. The task remains open in Beads (not closed)\n2. Run `/reeds:reeds-cancel` to stop the loop\n3. Manually fix the issue\n4. Resume with `/reeds:reeds-start`\n\n### Loop gets stuck\n\nIf the loop keeps iterating on the same task:\n\n1. Check if `current_task_id` is set: `cat .claude/reeds-state.local.md`\n2. Manually close the problematic task: `bd close <task-id> --reason \"manually resolved\"`\n3. Resume with `/reeds:reeds-start`\n\n### Manual state recovery\n\nTo reset Reeds state completely:\n\n```bash\nrm .claude/reeds-state.local.md\n```\n\nTo manually adjust iteration count:\n\n```bash\n# Edit the state file directly\nvim .claude/reeds-state.local.md\n# Change iteration: N to a lower number\n```\n\n## Acknowledgments\n\n- [ralph-tui](https://github.com/human-ui/ralph-tui) - PRD to Beads skill adapted from here (MIT License)\n- [Beads](https://github.com/steveyegge/beads) - Git-based issue tracking\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "reeds",
          "source": "./",
          "description": "Autonomous multi-task development loops powered by Beads issue tracking. Ralph Loop + Beads integration for continuous task execution.",
          "version": "0.1.0",
          "author": {
            "name": "Reeds Contributors"
          },
          "homepage": "https://github.com/rikdc/reeds",
          "repository": "https://github.com/rikdc/reeds",
          "license": "MIT",
          "keywords": [
            "automation",
            "beads",
            "issue-tracking",
            "ralph-loop",
            "autonomous",
            "task-management",
            "workflow",
            "ci-cd"
          ],
          "category": "automation",
          "categories": [
            "automation",
            "autonomous",
            "beads",
            "ci-cd",
            "issue-tracking",
            "ralph-loop",
            "task-management",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add rikdc/reeds",
            "/plugin install reeds@reeds"
          ]
        }
      ]
    }
  ]
}