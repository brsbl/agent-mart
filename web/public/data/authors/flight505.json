{
  "author": {
    "id": "flight505",
    "display_name": "Jesper Vang",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/20601200?u=e3ad465e8957cf65fadd7a64f88ba2911ac91d2a&v=4",
    "url": "https://github.com/flight505",
    "bio": "Ph.D. researcher on ICOPE - Interregional Childhood Oncology Precision medicine Exploration",
    "stats": {
      "total_marketplaces": 2,
      "total_plugins": 5,
      "total_commands": 11,
      "total_skills": 18,
      "total_stars": 2,
      "total_forks": 1
    }
  },
  "marketplaces": [
    {
      "name": "flight505-plugins",
      "version": "1.2.47",
      "description": "Official marketplace for flight505's Claude Code plugins - SDK Bridge v4.7.0 with dynamic iterations/timeouts, Storybook Assistant, Project Planner v1.4.5, and Nano Banana",
      "owner_info": {
        "name": "Jesper Vang",
        "email": "contact@flight505.dev",
        "url": "https://github.com/flight505"
      },
      "keywords": [],
      "repo_full_name": "flight505/flight505-marketplace",
      "repo_url": "https://github.com/flight505/flight505-marketplace",
      "repo_description": "Unified Claude Code plugin marketplace for flight505's plugins: Storybook Assistant, Project Planner, and Nano Banana",
      "homepage": null,
      "signals": {
        "stars": 2,
        "forks": 1,
        "pushed_at": "2026-01-29T21:56:07Z",
        "created_at": "2026-01-10T03:45:08Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 2847
        },
        {
          "path": ".claude-plugin/marketplace.json.backup",
          "type": "blob",
          "size": 2832
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"flight505-plugins\",\n  \"version\": \"1.2.47\",\n  \"description\": \"Official marketplace for flight505's Claude Code plugins - SDK Bridge v4.7.0 with dynamic iterations/timeouts, Storybook Assistant, Project Planner v1.4.5, and Nano Banana\",\n  \"owner\": {\n    \"name\": \"Jesper Vang\",\n    \"email\": \"contact@flight505.dev\",\n    \"url\": \"https://github.com/flight505\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"sdk-bridge\",\n      \"description\": \"Interactive autonomous development assistant - generates PRDs, converts to execution format, and runs fresh Claude instances until complete. Based on Ralph pattern.\",\n      \"version\": \"4.7.0\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./sdk-bridge\",\n      \"category\": \"workflows\",\n      \"keywords\": [\n        \"amp\",\n        \"autonomous\",\n        \"prd\",\n        \"agent-loop\",\n        \"long-running\",\n        \"interactive\",\n        \"ralph-pattern\"\n      ]\n    },\n    {\n      \"name\": \"storybook-assistant\",\n      \"description\": \"SOTA 2026 Storybook assistant with Vision AI design-to-code, natural language generation, AI-powered accessibility remediation, React Server Components, dark mode generation, and comprehensive testing\",\n      \"version\": \"2.1.7\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./storybook-assistant\",\n      \"category\": \"development\",\n      \"keywords\": [\n        \"storybook\",\n        \"react\",\n        \"components\",\n        \"testing\",\n        \"accessibility\",\n        \"vision-ai\"\n      ]\n    },\n    {\n      \"name\": \"claude-project-planner\",\n      \"description\": \"Production-ready project planning with progress tracking, error recovery, and comprehensive research - generates architecture docs, sprint plans, cost analyses, and implementation roadmaps\",\n      \"version\": \"1.4.5\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./claude-project-planner\",\n      \"category\": \"productivity\",\n      \"keywords\": [\n        \"project-management\",\n        \"planning\",\n        \"tasks\",\n        \"productivity\",\n        \"architecture\",\n        \"research\"\n      ]\n    },\n    {\n      \"name\": \"nano-banana\",\n      \"description\": \"AI-powered image and diagram generation using state-of-the-art models via OpenRouter with quality review and iteration\",\n      \"version\": \"1.0.8\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./nano-banana\",\n      \"category\": \"development\",\n      \"keywords\": [\n        \"image-generation\",\n        \"diagrams\",\n        \"ai\",\n        \"visualization\",\n        \"openrouter\"\n      ]\n    }\n  ]\n}\n",
        ".claude-plugin/marketplace.json.backup": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"flight505-plugins\",\n  \"version\": \"1.2.45\",\n  \"description\": \"Official marketplace for flight505's Claude Code plugins - SDK Bridge v4.5.1 with fixed wizard, Storybook Assistant, Project Planner v1.4.5, and Nano Banana\",\n  \"owner\": {\n    \"name\": \"Jesper Vang\",\n    \"email\": \"contact@flight505.dev\",\n    \"url\": \"https://github.com/flight505\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"sdk-bridge\",\n      \"description\": \"Interactive autonomous development assistant - generates PRDs, converts to execution format, and runs fresh Claude instances until complete. Based on Ralph pattern.\",\n      \"version\": \"4.6.0\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./sdk-bridge\",\n      \"category\": \"workflows\",\n      \"keywords\": [\n        \"amp\",\n        \"autonomous\",\n        \"prd\",\n        \"agent-loop\",\n        \"long-running\",\n        \"interactive\",\n        \"ralph-pattern\"\n      ]\n    },\n    {\n      \"name\": \"storybook-assistant\",\n      \"description\": \"SOTA 2026 Storybook assistant with Vision AI design-to-code, natural language generation, AI-powered accessibility remediation, React Server Components, dark mode generation, and comprehensive testing\",\n      \"version\": \"2.1.6\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./storybook-assistant\",\n      \"category\": \"development\",\n      \"keywords\": [\n        \"storybook\",\n        \"react\",\n        \"components\",\n        \"testing\",\n        \"accessibility\",\n        \"vision-ai\"\n      ]\n    },\n    {\n      \"name\": \"claude-project-planner\",\n      \"description\": \"Production-ready project planning with progress tracking, error recovery, and comprehensive research - generates architecture docs, sprint plans, cost analyses, and implementation roadmaps\",\n      \"version\": \"1.4.5\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./claude-project-planner\",\n      \"category\": \"productivity\",\n      \"keywords\": [\n        \"project-management\",\n        \"planning\",\n        \"tasks\",\n        \"productivity\",\n        \"architecture\",\n        \"research\"\n      ]\n    },\n    {\n      \"name\": \"nano-banana\",\n      \"description\": \"AI-powered image and diagram generation using state-of-the-art models via OpenRouter with quality review and iteration\",\n      \"version\": \"1.0.8\",\n      \"author\": {\n        \"name\": \"Jesper Vang\",\n        \"url\": \"https://github.com/flight505\"\n      },\n      \"source\": \"./nano-banana\",\n      \"category\": \"development\",\n      \"keywords\": [\n        \"image-generation\",\n        \"diagrams\",\n        \"ai\",\n        \"visualization\",\n        \"openrouter\"\n      ]\n    }\n  ]\n}\n"
      },
      "plugins": [
        {
          "name": "sdk-bridge",
          "description": "Interactive autonomous development assistant - generates PRDs, converts to execution format, and runs fresh Claude instances until complete. Based on Ralph pattern.",
          "version": "4.7.0",
          "author": {
            "name": "Jesper Vang",
            "url": "https://github.com/flight505"
          },
          "source": "./sdk-bridge",
          "category": "workflows",
          "keywords": [
            "amp",
            "autonomous",
            "prd",
            "agent-loop",
            "long-running",
            "interactive",
            "ralph-pattern"
          ],
          "categories": [
            "agent-loop",
            "amp",
            "autonomous",
            "interactive",
            "long-running",
            "prd",
            "ralph-pattern",
            "workflows"
          ],
          "install_commands": [
            "/plugin marketplace add flight505/flight505-marketplace",
            "/plugin install sdk-bridge@flight505-plugins"
          ]
        },
        {
          "name": "storybook-assistant",
          "description": "SOTA 2026 Storybook assistant with Vision AI design-to-code, natural language generation, AI-powered accessibility remediation, React Server Components, dark mode generation, and comprehensive testing",
          "version": "2.1.7",
          "author": {
            "name": "Jesper Vang",
            "url": "https://github.com/flight505"
          },
          "source": "./storybook-assistant",
          "category": "development",
          "keywords": [
            "storybook",
            "react",
            "components",
            "testing",
            "accessibility",
            "vision-ai"
          ],
          "categories": [
            "accessibility",
            "components",
            "development",
            "react",
            "storybook",
            "testing",
            "vision-ai"
          ],
          "install_commands": [
            "/plugin marketplace add flight505/flight505-marketplace",
            "/plugin install storybook-assistant@flight505-plugins"
          ]
        },
        {
          "name": "claude-project-planner",
          "description": "Production-ready project planning with progress tracking, error recovery, and comprehensive research - generates architecture docs, sprint plans, cost analyses, and implementation roadmaps",
          "version": "1.4.5",
          "author": {
            "name": "Jesper Vang",
            "url": "https://github.com/flight505"
          },
          "source": "./claude-project-planner",
          "category": "productivity",
          "keywords": [
            "project-management",
            "planning",
            "tasks",
            "productivity",
            "architecture",
            "research"
          ],
          "categories": [
            "architecture",
            "planning",
            "productivity",
            "project-management",
            "research",
            "tasks"
          ],
          "install_commands": [
            "/plugin marketplace add flight505/flight505-marketplace",
            "/plugin install claude-project-planner@flight505-plugins"
          ]
        },
        {
          "name": "nano-banana",
          "description": "AI-powered image and diagram generation using state-of-the-art models via OpenRouter with quality review and iteration",
          "version": "1.0.8",
          "author": {
            "name": "Jesper Vang",
            "url": "https://github.com/flight505"
          },
          "source": "./nano-banana",
          "category": "development",
          "keywords": [
            "image-generation",
            "diagrams",
            "ai",
            "visualization",
            "openrouter"
          ],
          "categories": [
            "ai",
            "development",
            "diagrams",
            "image-generation",
            "openrouter",
            "visualization"
          ],
          "install_commands": [
            "/plugin marketplace add flight505/flight505-marketplace",
            "/plugin install nano-banana@flight505-plugins"
          ]
        }
      ]
    },
    {
      "name": "storybook-assistant",
      "version": null,
      "description": "SOTA 2026 Storybook assistant with Vision AI design-to-code, natural language generation, AI-powered accessibility remediation, React Server Components, dark mode generation, and comprehensive testing",
      "owner_info": {
        "name": "Jesper Vang",
        "email": "contact@flight505.dev"
      },
      "keywords": [],
      "repo_full_name": "flight505/storybook-assistant",
      "repo_url": "https://github.com/flight505/storybook-assistant",
      "repo_description": "AI-powered Storybook 9 development assistant with component generation, story automation, and testing. Built for Claude Code.",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-29T21:56:05Z",
        "created_at": "2026-01-09T22:49:58Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 766
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 2773
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 22651
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/accessibility-auditor.md",
          "type": "blob",
          "size": 7819
        },
        {
          "path": "agents/component-generator.md",
          "type": "blob",
          "size": 8958
        },
        {
          "path": "agents/visual-regression-analyzer.md",
          "type": "blob",
          "size": 15006
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/analyze-usage.md",
          "type": "blob",
          "size": 1743
        },
        {
          "path": "commands/create-component.md",
          "type": "blob",
          "size": 18680
        },
        {
          "path": "commands/design-to-code.md",
          "type": "blob",
          "size": 1375
        },
        {
          "path": "commands/fix-accessibility.md",
          "type": "blob",
          "size": 484
        },
        {
          "path": "commands/generate-dark-mode.md",
          "type": "blob",
          "size": 398
        },
        {
          "path": "commands/generate-from-description.md",
          "type": "blob",
          "size": 1337
        },
        {
          "path": "commands/generate-stories.md",
          "type": "blob",
          "size": 14622
        },
        {
          "path": "commands/setup-ci-cd.md",
          "type": "blob",
          "size": 432
        },
        {
          "path": "commands/setup-storybook.md",
          "type": "blob",
          "size": 17953
        },
        {
          "path": "commands/setup-visual-testing.md",
          "type": "blob",
          "size": 13968
        },
        {
          "path": "commands/sync-design-tokens.md",
          "type": "blob",
          "size": 1755
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation/SKILL.md",
          "type": "blob",
          "size": 16166
        },
        {
          "path": "skills/accessibility-remediation/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation/examples/fix-patterns.md",
          "type": "blob",
          "size": 1908
        },
        {
          "path": "skills/accessibility-remediation/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation/references/wcag-rules.md",
          "type": "blob",
          "size": 1689
        },
        {
          "path": "skills/ci-cd-generator",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/ci-cd-generator/SKILL.md",
          "type": "blob",
          "size": 3331
        },
        {
          "path": "skills/component-scaffold",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/component-scaffold/README.md",
          "type": "blob",
          "size": 6500
        },
        {
          "path": "skills/component-scaffold/SKILL.md",
          "type": "blob",
          "size": 9030
        },
        {
          "path": "skills/component-usage-analytics",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/component-usage-analytics/SKILL.md",
          "type": "blob",
          "size": 13748
        },
        {
          "path": "skills/dark-mode-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/dark-mode-generation/SKILL.md",
          "type": "blob",
          "size": 7307
        },
        {
          "path": "skills/design-to-code",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/design-to-code/SKILL.md",
          "type": "blob",
          "size": 11339
        },
        {
          "path": "skills/design-token-sync",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/design-token-sync/SKILL.md",
          "type": "blob",
          "size": 17216
        },
        {
          "path": "skills/natural-language-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/natural-language-generation/SKILL.md",
          "type": "blob",
          "size": 9640
        },
        {
          "path": "skills/performance-analysis",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/performance-analysis/SKILL.md",
          "type": "blob",
          "size": 2558
        },
        {
          "path": "skills/platform-support",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/platform-support/SKILL.md",
          "type": "blob",
          "size": 12061
        },
        {
          "path": "skills/platform-support/electron",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/platform-support/electron/limitations.md",
          "type": "blob",
          "size": 11077
        },
        {
          "path": "skills/platform-support/tauri",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/platform-support/tauri/setup_guide.md",
          "type": "blob",
          "size": 8466
        },
        {
          "path": "skills/plugin-guide",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/plugin-guide/SKILL.md",
          "type": "blob",
          "size": 12123
        },
        {
          "path": "skills/server-components",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/server-components/SKILL.md",
          "type": "blob",
          "size": 10164
        },
        {
          "path": "skills/story-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/story-generation/README.md",
          "type": "blob",
          "size": 12744
        },
        {
          "path": "skills/story-generation/SKILL.md",
          "type": "blob",
          "size": 7858
        },
        {
          "path": "skills/storybook-config",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/storybook-config/SKILL.md",
          "type": "blob",
          "size": 9347
        },
        {
          "path": "skills/style-guide-generator",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/style-guide-generator/SKILL.md",
          "type": "blob",
          "size": 14598
        },
        {
          "path": "skills/testing-suite",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/testing-suite/SKILL.md",
          "type": "blob",
          "size": 11602
        },
        {
          "path": "skills/visual-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-design/SKILL.md",
          "type": "blob",
          "size": 10115
        },
        {
          "path": "skills/visual-regression-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-regression-testing/SKILL.md",
          "type": "blob",
          "size": 18839
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"storybook-assistant\",\n  \"metadata\": {\n    \"description\": \"SOTA 2026 Storybook assistant with Vision AI design-to-code, natural language generation, AI-powered accessibility remediation, React Server Components, dark mode generation, and comprehensive testing\",\n    \"version\": \"2.0.7\",\n    \"homepage\": \"https://github.com/flight505/storybook-assistant-plugin\"\n  },\n  \"owner\": {\n    \"name\": \"Jesper Vang\",\n    \"email\": \"contact@flight505.dev\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"storybook-assistant\",\n      \"description\": \"SOTA 2026 Storybook assistant with Vision AI, natural language generation, AI accessibility remediation, and comprehensive testing for Storybook 10, React 19, Next.js 15\",\n      \"source\": \"./\",\n      \"strict\": true\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"storybook-assistant\",\n  \"version\": \"2.1.7\",\n  \"description\": \"Complete SOTA 2026 Storybook assistant with Vision AI design-to-code, natural language generation, AI-powered accessibility remediation, React Server Components, AI visual regression testing, design token sync, usage analytics, dark mode generation, and comprehensive testing (Storybook 10, React 19, Next.js 15)\",\n  \"author\": {\n    \"name\": \"Jesper Vang\",\n    \"url\": \"https://github.com/flight505\"\n  },\n  \"license\": \"MIT\",\n  \"repository\": \"https://github.com/flight505/storybook-assistant-plugin\",\n  \"homepage\": \"https://github.com/flight505/storybook-assistant-plugin\",\n  \"keywords\": [\n    \"storybook\",\n    \"storybook-10\",\n    \"react-19\",\n    \"nextjs-15\",\n    \"server-components\",\n    \"vision-ai\",\n    \"design-to-code\",\n    \"natural-language\",\n    \"ai-powered\",\n    \"accessibility\",\n    \"wcag\",\n    \"dark-mode\",\n    \"component-generation\",\n    \"testing\",\n    \"vitest\",\n    \"playwright\",\n    \"tauri\",\n    \"electron\",\n    \"visual-regression\",\n    \"design-tokens\",\n    \"figma-sync\",\n    \"component-analytics\",\n    \"sota-2026\"\n  ],\n  \"skills\": [\n    \"./skills/storybook-config\",\n    \"./skills/story-generation\",\n    \"./skills/component-scaffold\",\n    \"./skills/visual-design\",\n    \"./skills/testing-suite\",\n    \"./skills/platform-support\",\n    \"./skills/style-guide-generator\",\n    \"./skills/accessibility-remediation\",\n    \"./skills/server-components\",\n    \"./skills/natural-language-generation\",\n    \"./skills/design-to-code\",\n    \"./skills/dark-mode-generation\",\n    \"./skills/performance-analysis\",\n    \"./skills/ci-cd-generator\",\n    \"./skills/visual-regression-testing\",\n    \"./skills/design-token-sync\",\n    \"./skills/component-usage-analytics\",\n    \"./skills/plugin-guide\"\n  ],\n  \"agents\": [\n    \"./agents/accessibility-auditor.md\",\n    \"./agents/component-generator.md\",\n    \"./agents/visual-regression-analyzer.md\"\n  ],\n  \"commands\": [\n    \"./commands/setup-storybook.md\",\n    \"./commands/generate-stories.md\",\n    \"./commands/create-component.md\",\n    \"./commands/design-to-code.md\",\n    \"./commands/generate-from-description.md\",\n    \"./commands/fix-accessibility.md\",\n    \"./commands/generate-dark-mode.md\",\n    \"./commands/setup-ci-cd.md\",\n    \"./commands/setup-visual-testing.md\",\n    \"./commands/sync-design-tokens.md\",\n    \"./commands/analyze-usage.md\"\n  ],\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bash ${CLAUDE_PLUGIN_ROOT}/scripts/check-environment.sh\",\n            \"timeout\": 30,\n            \"description\": \"Check environment: Node.js, npm, API keys (CLAUDE_CODE_OAUTH_TOKEN > ANTHROPIC_API_KEY, optional OPENROUTER_API_KEY)\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "README.md": "# üé® Storybook Assistant Plugin for Claude Code\n\n<div align=\"center\">\n  <img src=\"assets/images/hero-banner-archive.png\" alt=\"Storybook Assistant Plugin - Galactic Component Archive & Foundry\" width=\"100%\">\n</div>\n\n<br>\n\n**Complete SOTA 2026 Storybook assistant with Vision AI design-to-code, natural language generation, AI-powered accessibility remediation, React Server Components, AI visual regression testing, design token sync, usage analytics, dark mode generation, and comprehensive testing (Storybook 10, React 19, Next.js 15).**\n\n[![Version](https://img.shields.io/badge/version-2.1.7-blue.svg)](https://github.com/flight505/storybook-assistant-plugin)\n[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)\n[![Storybook](https://img.shields.io/badge/Storybook-10.0+-FF4785.svg)](https://storybook.js.org/)\n[![React](https://img.shields.io/badge/React-19-61DAFB.svg)](https://react.dev/)\n[![Next.js](https://img.shields.io/badge/Next.js-15-000000.svg)](https://nextjs.org/)\n\n---\n\n> **üöÄ First time here?** Start with the [ELI5 section](#-eli5-what-does-this-plugin-do) for a quick overview, then check [How to Use](#-how-to-use-after-installation) to get started, or ask \"What can the Storybook Assistant do?\" to see all available features!\n\n---\n\n## ‚ú® Features\n\n### üöÄ **Auto-Configured Storybook 10**\n- Automatic framework detection (React, Vue, Svelte, Angular, Next.js, Solid, Lit)\n- SOTA 2026 best practices out-of-the-box\n- Essential features (actions, backgrounds, controls, viewport) now built-in\n- Vite-powered builds (48% smaller, 2-4x faster than Storybook 8)\n- One command setup: `/setup-storybook`\n\n### üß™ **Modern Testing Stack**\n- **Interaction Tests**: Play functions with Vitest + Playwright (real browser testing)\n- **Accessibility Tests**: WCAG compliance with axe-core (catches 57% of issues)\n- **Visual Regression**: Pixel-perfect UI change detection\n- **Code Coverage**: V8-powered coverage (faster than Istanbul)\n\n### üé® **AI-Powered Visual Generation** (Optional)\n- Style guides with color palettes, typography, spacing\n- Component mockups to guide implementation\n- Architecture diagrams for documentation\n- Powered by Gemini 3 Pro Image / FLUX.2 Pro\n- **100% optional** - Works perfectly without OPENROUTER_API_KEY\n\n### üñ•Ô∏è **Multi-Platform Support**\n- **Web (React/Vue/Svelte/Angular)**: ‚úÖ Full support\n- **Tauri Applications**: ‚úÖ Full support with IPC mocking\n- **Electron Applications**: ‚ö†Ô∏è Partial support (pure UI components, architectural guidance)\n\n### üì¶ **Component Development**\n- Auto-generate stories for existing components\n- Scaffold new components with stories, tests, and docs\n- Intelligent variant detection (sizes, states, themes)\n- Design system integration (MUI, Ant Design, shadcn/ui, Chakra, Mantine)\n\n---\n\n## üöÄ Quick Start\n\n### Prerequisites\n\n- **Node.js** ‚â• 20.0.0\n- **npm** ‚â• 10.0.0\n- **Claude Code CLI** with `CLAUDE_CODE_OAUTH_TOKEN` or `ANTHROPIC_API_KEY`\n- **OpenRouter API Key** (optional, for visual generation): [Get key](https://openrouter.ai/keys)\n\n### Installation\n\n**Method 1: Via Claude Code CLI (Recommended)**\n```bash\nclaude\n\n# In Claude prompt:\n/plugin\n\n# When prompted, enter:\nflight505/storybook-assistant-plugin\n```\n\n**Method 2: Manual Clone**\n```bash\n# Clone to Claude plugins directory\ngit clone https://github.com/flight505/storybook-assistant-plugin.git ~/.claude/plugins/storybook-assistant\n\n# Start Claude normally - plugin auto-loads\nclaude\n```\n\n**Method 3: Project-Specific**\n```bash\n# In your project directory\ngit clone https://github.com/flight505/storybook-assistant-plugin.git\n\n# Start Claude with plugin\nclaude --plugin-dir ./storybook-assistant-plugin\n```\n\n**Verify installation:**\nPlugin will automatically check environment on SessionStart and display available features.\n\n---\n\n## üí° How to Use After Installation\n\nOnce installed, the plugin is available in your Claude Code CLI sessions:\n\n### 1. **Start Claude Code** in your project directory\n```bash\ncd your-project\nclaude\n```\n\n### 2. **Discover Features**\n```bash\n# Ask what the Storybook Assistant can do\n\"What can the Storybook Assistant do?\"\n\"Show me Storybook plugin features\"\n\"What Storybook commands are available?\"\n\"Help with Storybook Assistant\"\n```\n\n### 3. **Use Commands** - Type any command starting with `/`\n```bash\n# Initialize Storybook in your project\n/setup-storybook\n\n# Generate stories for existing components\n/generate-stories\n\n# Create new component with story and tests\n/create-component\n```\n\n### 4. **Or Use Natural Language**\n```bash\n\"Set up Storybook in this Next.js project\"\n\"Generate stories for my Button component\"\n\"Create a new Card component with dark mode support\"\n\"Fix accessibility issues in LoginForm.tsx\"\n```\n\nThe plugin understands natural language and will automatically trigger the right skills!\n\n---\n\n## üìã Quick Reference\n\n### Essential Commands\n\n| Command | Description |\n|---------|-------------|\n| `/setup-storybook` | Initialize Storybook 10 in your project |\n| `/generate-stories` | Generate stories for existing components |\n| `/create-component` | Scaffold new component with stories |\n| `/design-to-code` | Transform design screenshots to React components |\n| `/fix-accessibility` | AI-powered WCAG 2.2 accessibility fixes |\n| `/generate-dark-mode` | Auto-generate dark mode color schemes |\n| `/setup-visual-testing` | Configure AI visual regression testing |\n| `/sync-design-tokens` | Sync design tokens between Figma and code |\n| `/analyze-usage` | Analyze component usage across codebase |\n\n### Example Workflow\n\n```bash\n# 1. Start Claude in your project\ncd my-react-app\nclaude\n\n# 2. See what's available\n\"What Storybook commands are available?\"\n\n# 3. Set up Storybook\n/setup-storybook\n\n# 4. Generate stories for components\n/generate-stories\n\n# 5. Or create something new\n/create-component\n# Then follow the interactive prompts!\n```\n\n---\n\n## üéì ELI5: What Does This Plugin Do?\n\n**Imagine you're building a house (your app), and you need to organize all your building blocks (components) in one place where you can see them, test them, and make sure they work.**\n\nThat's what Storybook does‚Äîit's like a **workshop for your UI components**.\n\n### The Problem\n\nWhen building apps, developers create lots of UI pieces (buttons, cards, forms). It's hard to:\n- See all components in one place\n- Test them without running the whole app\n- Check if they work on different screen sizes\n- Make sure they're accessible for everyone\n- Document how they should be used\n\n### What This Plugin Does\n\n**This plugin is your AI assistant that:**\n\n1. **Sets up the workshop** - Installs Storybook 10 with all the right tools\n2. **Organizes your components** - Creates \"stories\" (examples) for each component\n3. **Tests everything** - Checks if buttons click, forms submit, colors contrast properly\n4. **Guides you visually** - Can generate mockups to show what components should look like\n5. **Asks smart questions** - Instead of typing commands, you click menu options\n\n### The Magic Part: No Typing Required\n\n**Before (traditional way):**\n```bash\nnpm install storybook\nnpx storybook init\n# Answer 10 questions by typing\n# Edit 5 config files manually\n# Create example stories\n# Install testing addons\n# Configure webpack/vite\n```\n\n**After (with this plugin):**\n```bash\nclaude\n/setup-storybook\n# Click your choices from menus\n# Everything is done for you\n```\n\nThe plugin **detects your project automatically** (React? Vue? Next.js?), **asks what you want** (testing? dark mode? visual mockups?), and **sets everything up perfectly**.\n\n---\n\n## üèóÔ∏è How It Actually Works (Technical Architecture)\n\n<div align=\"center\">\n  <img src=\"assets/images/plugin-architecture.png\" alt=\"Plugin Architecture Diagram\" width=\"100%\">\n</div>\n\n### Architecture Overview\n\nThe Storybook Assistant plugin has **4 core component types** that work together:\n\n#### 1. **Skills (18 total)** - Natural Language Triggers\n\n**What they are:** Knowledge modules that activate when you use specific keywords in conversation.\n\n**How they work:**\n- You say: *\"Help me set up visual regression testing\"*\n- Plugin detects keywords: \"visual regression\"\n- Loads the `visual-regression-testing` skill\n- Provides specialized knowledge and guidance\n\n**Examples:**\n- `visual-design` - Activates on: \"generate mockup\", \"style guide\", \"design system\"\n- `component-scaffold` - Activates on: \"create component\", \"new component\"\n- `accessibility-remediation` - Activates on: \"fix accessibility\", \"a11y issues\"\n\n**Think of skills as:** Auto-loading expert consultants who appear when their expertise is needed.\n\n#### 2. **Commands (12 total)** - Explicit Actions\n\n**What they are:** Slash commands (`/command-name`) that perform specific tasks.\n\n**How they work:**\n- You type: `/setup-storybook`\n- Plugin executes the command script\n- Uses `AskUserQuestion` to create interactive menus\n- Performs the action with your choices\n\n**Examples:**\n```bash\n/setup-storybook      # Initialize Storybook\n/generate-stories     # Generate stories for components\n/create-component     # Scaffold new component\n/fix-accessibility    # Run accessibility audits\n```\n\n**Think of commands as:** Direct action buttons with interactive wizards.\n\n#### 3. **Agents (3 total)** - Autonomous Workers\n\n**What they are:** Specialized AI agents that work autonomously on complex tasks.\n\n**How they work:**\n- Triggered automatically or manually\n- Have their own system prompts and tool access\n- Work in the background while you continue\n- Report results when complete\n\n**Examples:**\n- `accessibility-auditor` - Scans codebase, finds a11y issues, generates fixes\n- `component-generator` - Analyzes designs, generates React components\n- `visual-regression-analyzer` - Compares screenshots, detects UI changes\n\n**Think of agents as:** Automated specialists who handle complex multi-step tasks.\n\n#### 4. **Hooks (SessionStart)** - Automatic Setup\n\n**What they are:** Scripts that run automatically on specific events.\n\n**How they work:**\n- Runs when Claude Code starts in your project\n- Checks environment (Node.js version, npm, API keys)\n- Displays what features are available\n- No user action required\n\n**Example output:**\n```\n‚úÖ Environment Check:\n  ‚úì Node.js v25.3.0 (>= 20.0.0)\n  ‚úì pnpm 10.28.0\n  ‚úì CLAUDE_CODE_OAUTH_TOKEN found\n  ‚ö† OPENROUTER_API_KEY not found (visual generation disabled)\n```\n\n**Think of hooks as:** Pre-flight checks that run before takeoff.\n\n---\n\n## üéØ The Interactive Menu System (AskUserQuestion)\n\n### What It Is\n\nInstead of making you type answers or edit config files, the plugin creates **interactive menus** where you click your choices.\n\n### How It Works\n\n**Behind the scenes:**\n```typescript\n// Plugin code (simplified)\nAskUserQuestion({\n  questions: [{\n    question: \"Which framework detected?\",\n    header: \"Framework\",\n    options: [\n      { label: \"React 19\", description: \"Modern React with hooks\" },\n      { label: \"Vue 3\", description: \"Composition API\" },\n      { label: \"Svelte 5\", description: \"With Runes\" }\n    ]\n  }]\n})\n```\n\n**What you see:**\n```\n? Which framework detected? (Framework)\n  ‚ùØ React 19 - Modern React with hooks\n    Vue 3 - Composition API\n    Svelte 5 - With Runes\n```\n\n### Real-World Example: `/setup-storybook`\n\n**The Flow:**\n\n1. **Framework Detection** (automatic)\n   - Plugin scans `package.json`\n   - Detects: \"React 19 with Next.js 15\"\n\n2. **Platform Detection** (automatic)\n   - Checks for `tauri.conf.json` or `electron-builder.yml`\n   - Detects: \"Tauri application\"\n\n3. **Design System Detection** (automatic)\n   - Scans dependencies for MUI, Ant Design, shadcn/ui\n   - Detects: \"shadcn/ui\"\n\n4. **User Preferences** (interactive menu)\n   ```\n   ? What testing features do you want?\n     ‚ùØ Full Testing (Recommended) - Interaction + A11y + Coverage\n       Basic Testing - Interaction tests only\n       No Testing - Stories only\n\n   ? Enable visual generation features?\n     ‚ùØ Yes - Generate style guides and mockups (requires API key)\n       No - Skip visual generation\n   ```\n\n5. **Execution** (automatic)\n   - Installs Storybook 10 + selected addons\n   - Generates config files with your choices\n   - Creates platform-specific mocks (Tauri IPC mocks)\n   - Creates example stories\n   - Sets up testing framework\n\n6. **Result**\n   ```\n   ‚úÖ Storybook 10 Setup Complete!\n\n   Configured for: React 19 (Next.js 15, Tauri)\n   Design System: shadcn/ui\n   Testing: Full (Vitest + Playwright + axe-core)\n\n   Next: npm run storybook\n   ```\n\n### Why This Matters\n\n**Traditional approach** (other tools):\n- Read 20 pages of documentation\n- Answer questions by typing exact strings\n- Edit 5 config files manually\n- Install dependencies one by one\n- Debug when something breaks\n\n**This plugin**:\n- Automatic detection\n- Click your preferences\n- Everything configured correctly\n- Just works‚Ñ¢\n\n---\n\n## üìö Commands\n\n### `/setup-storybook`\n\nInitialize Storybook 10 with automatic framework detection and SOTA configuration.\n\n**What it does:**\n- Detects your framework (React, Vue, Svelte, etc.)\n- Detects platform (Web, Tauri, Electron)\n- Detects design system (MUI, Ant Design, shadcn/ui, etc.)\n- Asks for your preferences (testing features, visual generation)\n- Installs Storybook 10 + addons\n- Generates configuration files\n- Creates example stories\n- Sets up platform-specific mocks (Tauri/Electron)\n\n**Example:**\n```bash\n/setup-storybook\n\n# Output:\n‚úÖ Storybook 10 Setup Complete!\n\nConfigured for: React 18.2.0 (Vite)\nPlatform: Tauri\nDesign System: shadcn/ui\n\nFeatures Enabled:\n‚úì Interaction Tests (Vitest + Playwright)\n‚úì Accessibility Tests (axe-core)\n‚úì Code Coverage (V8)\n‚úì Visual Generation (Style guide & mockups)\n\nNext Steps:\n1. Run: npm run storybook\n2. Open: http://localhost:6006\n```\n\n### `/generate-stories`\n\nGenerate story files for existing components with tests and variants.\n\n**What it does:**\n- Scans project for components\n- Parses component props/types\n- Detects variants (size, state, theme)\n- Asks which components to generate stories for\n- Generates CSF 3.0 stories with:\n  - Multiple variants\n  - Interaction tests (play functions)\n  - Accessibility tests\n  - Args/controls\n- Optionally generates visual mockups for complex components\n\n**Example:**\n```bash\n/generate-stories\n\n# Interactive selection:\n? I found 32 components. Which should I generate stories for?\n  ‚òë Button (src/components/Button.tsx) ‚Ä¢ 5 props ‚Ä¢ Button ‚Ä¢ 3 variants detected\n  ‚òë Card (src/components/Card.tsx) ‚Ä¢ 8 props ‚Ä¢ Layout ‚Ä¢ 2 variants detected\n  ‚òë DataTable (src/components/DataTable.tsx) ‚Ä¢ 12 props ‚Ä¢ Data Display ‚Ä¢ 4 variants detected\n\n? What level of testing should I include?\n  ‚óè Full Testing (Recommended)\n\n‚úÖ Generated Stories: 3 components\n  ‚úì Button - 7 stories (3 variants + 2 interaction tests + 2 a11y tests)\n  ‚úì Card - 4 stories (2 variants + 1 interaction test + 1 a11y test)\n  ‚úì DataTable - 8 stories (4 variants + 2 interaction tests + 2 a11y tests)\n```\n\n### `/create-component`\n\nScaffold a new component with story, tests, and documentation.\n\n**What it does:**\n- Asks what type of component (Button, Card, Form Input, etc.)\n- Optionally generates visual mockup using AI\n- Scaffolds:\n  - Component file with TypeScript types\n  - Story file with variants and tests\n  - Test file for unit tests\n  - Documentation stub\n- Follows SOTA patterns and best practices\n\n**Example:**\n```bash\n/create-component\n\n? What type of component are you creating?\n  ‚óè Card/Layout component\n\n? Component name?\n  ProfileCard\n\n? Generate visual mockup using AI?\n  ‚óè Yes (Recommended)\n\nüé® Generating mockup...\n‚úÖ Mockup saved: mockups/ProfileCard.png\n\n‚úÖ Component Created:\n  - src/components/ProfileCard/ProfileCard.tsx\n  - src/components/ProfileCard/ProfileCard.stories.tsx\n  - src/components/ProfileCard/ProfileCard.test.tsx\n  - mockups/ProfileCard.png\n\nNext: Implement component following the mockup\n```\n\n### `/migrate-storybook`\n\nMigrate from older Storybook versions to Storybook 10.\n\n**What it does:**\n- Detects current Storybook version\n- Analyzes configuration\n- Lists breaking changes\n- Performs migration:\n  - Updates dependencies\n  - Migrates configuration files\n  - Updates story format (CSF 2 ‚Üí CSF 3)\n  - Installs new addons\n  - Runs `storybook automigrate`\n\n---\n\n## üèóÔ∏è Platform Support\n\n### ‚úÖ Web Projects (Full Support)\n\n**Supported Frameworks:**\n- React 18+ (TypeScript/JavaScript)\n- Vue 3+ (Composition API)\n- Svelte 5+ (with Runes)\n- Angular 18+\n- Next.js 14+ (with Vite)\n- Solid.js\n- Lit 3, Web Components\n\n**All Features Work:**\n- Complete Storybook setup\n- Story generation\n- Interaction tests\n- Accessibility tests\n- Visual generation\n- Coverage reports\n\n### ‚úÖ Tauri Applications (Full Support)\n\n**Why It Works:**\n- Tauri is frontend-agnostic (any web framework)\n- Storybook runs independently from Tauri runtime (different ports)\n- No IPC conflicts\n\n**Development Workflow:**\n```bash\nTerminal 1: npm run tauri dev     # Port 5173 - Tauri app\nTerminal 2: npm run storybook     # Port 6006 - Component development\nTerminal 3: npm run test:watch    # Vitest watch mode\n```\n\n**IPC Mocking:**\nPlugin automatically generates Tauri IPC mocks:\n```typescript\n// Auto-generated: .storybook/tauri-mocks.ts\nexport const tauriMocks = {\n  invoke: async (cmd: string, args?: any) => { /* mock */ },\n  listen: (event: string, handler: Function) => { /* mock */ },\n};\n```\n\n**Best Practice:**\n- Keep UI components Tauri-agnostic\n- Use dependency injection for IPC calls\n- Test IPC integration separately with E2E tests\n\n### ‚ö†Ô∏è Electron Applications (Partial Support)\n\n**What Works:**\n- Pure UI components (presentational)\n- Components without direct Electron imports\n- Design system components\n\n**What Doesn't Work:**\n- Components with direct `electron` module imports\n- IPC integration testing (requires E2E tests)\n- Main process code\n\n**Plugin Provides:**\n- Custom webpack configuration for Storybook\n- Electron preload API mocks\n- **Architectural guidance** for decoupling UI from IPC\n- Container/presentational pattern examples\n\n**Recommended Pattern:**\n```typescript\n// ‚úÖ Pure component - works in Storybook\nfunction DataDisplay({ data, onRefresh }) {\n  return <div onClick={onRefresh}>{data}</div>;\n}\n\n// ‚ùå Electron-aware container - doesn't work in Storybook\nfunction DataDisplayContainer() {\n  const [data, setData] = useState(null);\n  const handleRefresh = async () => {\n    const result = await window.api.fetchData(); // Electron IPC\n    setData(result);\n  };\n  return <DataDisplay data={data} onRefresh={handleRefresh} />;\n}\n\n// Storybook story - test pure component\nexport const Default = () => (\n  <DataDisplay data=\"Test Data\" onRefresh={() => {}} />\n);\n```\n\n---\n\n## üé® Visual Generation (Optional)\n\n### Setup\n\n```bash\n# 1. Get API key\n# Visit: https://openrouter.ai/keys\n\n# 2. Add to .env\necho \"OPENROUTER_API_KEY=your_key_here\" >> .env\n\n# 3. Restart Claude Code\n```\n\n### Features\n\n**Style Guides:**\n- Color palettes with hex codes\n- Typography scales\n- Spacing systems\n- Component examples\n\n**Component Mockups:**\n- Visual references for complex components\n- Multiple style variations\n- Responsive design mockups\n\n**Architecture Diagrams:**\n- Component dependency trees\n- Data flow visualizations\n- System architecture\n\n### Cost\n\n- Typical cost: **$0.05-0.15 per image**\n- Generated selectively (complex components only)\n- User control over what to generate\n\n### Graceful Degradation\n\n**Without OPENROUTER_API_KEY:**\n- ‚úÖ Storybook setup works\n- ‚úÖ Story generation works\n- ‚úÖ Testing works\n- ‚ùå Visual generation skipped (informs user once)\n- üìù Provides text-based templates instead\n\n---\n\n## üß™ Testing\n\n### Interaction Tests (Play Functions)\n\n```typescript\nexport const WithInteraction: Story = {\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n\n    await userEvent.click(button);\n    await expect(button).toBeInTheDocument();\n  },\n};\n```\n\n**Powered by:**\n- Vitest (fast test runner)\n- Playwright (real browser automation)\n- Testing Library (user-centric queries)\n\n### Accessibility Tests\n\n```typescript\nexport const AccessibilityTest: Story = {\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          { id: 'color-contrast', enabled: true },\n          { id: 'button-name', enabled: true },\n        ],\n      },\n    },\n  },\n};\n```\n\n**Powered by:**\n- axe-core (industry standard)\n- WCAG 2.1 compliance\n- Catches 57% of issues automatically\n\n### Code Coverage\n\n```bash\n# Run tests with coverage\nnpm run storybook:coverage\n\n# View report\nopen coverage/index.html\n```\n\n**Powered by:**\n- V8 coverage (faster than Istanbul)\n- Coverage watermarks\n- Per-story coverage tracking\n\n---\n\n## üõ†Ô∏è Configuration\n\n### API Keys Priority\n\nThe plugin checks for API keys in this order:\n\n**For Claude API:**\n1. `CLAUDE_CODE_OAUTH_TOKEN` (preferred)\n2. `ANTHROPIC_API_KEY` (fallback)\n\n**For Visual Generation:**\n1. `OPENROUTER_API_KEY` (optional)\n\n### Environment Variables\n\n```bash\n# Required (one of):\nCLAUDE_CODE_OAUTH_TOKEN=your_token_here\n# OR\nANTHROPIC_API_KEY=your_key_here\n\n# Optional (for visual generation):\nOPENROUTER_API_KEY=your_key_here\n```\n\n### .env File\n\n```bash\n# Create .env in project root\nCLAUDE_CODE_OAUTH_TOKEN=your_token_here\nOPENROUTER_API_KEY=your_key_here  # Optional\n```\n\n---\n\n## üìñ Documentation\n\n- [Quick Start Guide](docs/QUICK_START.md)\n- [Platform-Specific Guide](docs/PLATFORM_GUIDE.md)\n- [Troubleshooting](docs/TROUBLESHOOTING.md)\n- [Examples](docs/EXAMPLES.md)\n- [API Reference](docs/API.md)\n\n---\n\n## ü§ù Contributing\n\nContributions welcome! Please read [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.\n\n---\n\n## üìÑ License\n\nMIT License - see [LICENSE](LICENSE) for details.\n\n---\n\n## üôè Acknowledgments\n\n- [Storybook Team](https://storybook.js.org/) - Amazing component development platform\n- [Vitest](https://vitest.dev/) - Fast, modern test runner\n- [Playwright](https://playwright.dev/) - Reliable browser automation\n- [OpenRouter](https://openrouter.ai/) - AI model access\n- [Claude Code](https://claude.ai/code) - AI-powered development environment\n- [Gemini 3 Pro Image](https://deepmind.google/technologies/gemini/) - Architecture diagram generation (via NanoBanana plugin)\n\n---\n\n## üìû Support\n\n- **Issues**: [GitHub Issues](https://github.com/flight505/storybook-assistant-plugin/issues)\n- **Discussions**: [GitHub Discussions](https://github.com/flight505/storybook-assistant-plugin/discussions)\n- **Twitter**: [@flight505](https://twitter.com/flight505)\n\n---\n\n**Built with ‚ù§Ô∏è by [Jesper Vang](https://github.com/flight505)**\n\n**Powered by State-of-the-Art 2026 best practices** üöÄ\n",
        "agents/accessibility-auditor.md": "---\ndescription: Autonomous agent that analyzes components for WCAG 2.2 accessibility violations and suggests context-aware fixes with one-click application\nwhenToUse: |\n  This agent should trigger automatically when:\n  - User creates or edits a component file (via PostToolUse hook)\n  - User explicitly requests accessibility analysis (\"check accessibility\", \"fix a11y issues\")\n  - User asks to \"make component accessible\", \"add ARIA labels\", \"improve screen reader support\"\n\n  Examples:\n  - User creates Button.tsx with icon-only button ‚Üí Agent detects missing accessible name\n  - User edits Modal.tsx adding close button ‚Üí Agent suggests aria-label\n  - User: \"Check if this form is accessible\" ‚Üí Agent analyzes form inputs for labels\n  - User: \"Fix the accessibility violations in Card.tsx\" ‚Üí Agent analyzes and applies fixes\ncolor: purple\nmodel: sonnet\ntools:\n  - Read\n  - Write\n  - Edit\n  - Bash\n  - Grep\n  - Glob\n---\n\n# Accessibility Auditor Agent\n\nYou are an autonomous accessibility auditor specializing in WCAG 2.2 compliance. Your role is to:\n\n1. **Analyze components** for accessibility violations using the analyze_component.py script\n2. **Generate context-aware fixes** using the generate_fixes.py script and AI reasoning\n3. **Present ranked suggestions** to the user (best practice ‚Üí acceptable)\n4. **Apply fixes** with user consent\n5. **Verify fixes** resolve the issues\n\n## Analysis Workflow\n\n### Step 1: Analyze Component\n\nWhen a component is created/edited or user requests analysis:\n\n```bash\n# Run accessibility analyzer\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/accessibility-remediation/scripts/analyze_component.py <component_file> --json\n```\n\nParse the JSON output to identify all violations.\n\n### Step 2: Generate Fix Suggestions\n\nFor each violation, use AI reasoning to:\n- Understand component context (purpose, surrounding code, design patterns)\n- Infer best fix approach based on WCAG 2.2 guidelines\n- Rank fixes: Best Practice (1) ‚Üí Good (2) ‚Üí Acceptable (3)\n- Explain trade-offs for each option\n\nUse the generate_fixes.py script as a foundation, but enhance with your own contextual analysis.\n\n### Step 3: Present Findings\n\nFormat issues in a clear, actionable format:\n\n```\n‚ùå 3 accessibility issues detected in Button.tsx\n\nIssue 1: Missing accessible name (Line 42)\n  Element: <button onClick={handleClose}>√ó</button>\n  WCAG: 4.1.2 Name, Role, Value (Level A)\n  Severity: ERROR\n\n  Context: Close button in modal header\n\n  Suggested fixes:\n  [1] Add sr-only text (BEST - maintains visual design)\n      <button onClick={handleClose}>\n        <span aria-hidden=\"true\">√ó</span>\n        <span className=\"sr-only\">Close dialog</span>\n      </button>\n      Requires: sr-only CSS class\n\n  [2] Add aria-label (GOOD - simple and effective)\n      <button onClick={handleClose} aria-label=\"Close dialog\">√ó</button>\n\n  [3] Add title attribute (ACCEPTABLE - not ideal for screen readers)\n      <button onClick={handleClose} title=\"Close\">√ó</button>\n\nIssue 2: Poor color contrast (Line 56)\n  ...\n\nApply fixes? [All] [Select] [Custom] [Skip]\n```\n\n### Step 4: Apply Fixes (With Permission)\n\nUse `AskUserQuestion` tool to let user select fixes:\n\n```typescript\nAskUserQuestion({\n  questions: [{\n    question: \"How would you like to fix the missing accessible name on the close button?\",\n    header: \"Button Fix\",\n    multiSelect: false,\n    options: [\n      {\n        label: \"sr-only text (Best)\",\n        description: \"Maintains visual design, best for screen readers\"\n      },\n      {\n        label: \"aria-label (Good)\",\n        description: \"Simple and effective\"\n      },\n      {\n        label: \"Skip this issue\",\n        description: \"I'll fix it manually\"\n      }\n    ]\n  }]\n})\n```\n\nThen apply the selected fix using the `Edit` tool.\n\n### Step 5: Verify Fix\n\nAfter applying fix:\n1. Re-run analyzer on modified file\n2. Confirm issue is resolved\n3. Report success or any remaining issues\n\n## Context-Aware Analysis\n\n### Button Purpose Inference\n\nLook at context to understand button purpose:\n\n```tsx\n// Close button pattern\n<button onClick={handleClose}>√ó</button>\n‚Üí Suggest label: \"Close\" or \"Close dialog\"\n\n// Submit button pattern\n<button onClick={handleSubmit}>Submit</button>\n‚Üí Verify text is descriptive, suggest \"Submit form\" if generic\n\n// Delete button pattern\n<button onClick={handleDelete}>üóëÔ∏è</button>\n‚Üí Suggest label: \"Delete item\" or specific \"Delete user\"\n```\n\n### Form Context\n\n```tsx\n// Input without label in login form\n<input type=\"email\" placeholder=\"Email\" />\n‚Üí Suggest: <label htmlFor=\"email\">Email address</label>\n\n// Input without label in search\n<input type=\"search\" placeholder=\"Search...\" />\n‚Üí Suggest: aria-label=\"Search products\" (based on page context)\n```\n\n### Image Purpose\n\n```tsx\n// In product card\n<img src=\"/product.jpg\" />\n‚Üí Suggest: alt with product name and key details\n\n// Decorative background\n<img src=\"/pattern.png\" className=\"bg-decoration\" />\n‚Üí Suggest: alt=\"\" aria-hidden=\"true\"\n```\n\n## WCAG 2.2 Rules to Check\n\n### Level A (Critical)\n- 1.1.1 Non-text Content (images, icons)\n- 2.1.1 Keyboard (all functionality keyboard-accessible)\n- 3.3.2 Labels or Instructions (form labels)\n- 4.1.2 Name, Role, Value (accessible names)\n\n### Level AA (Important)\n- 1.4.3 Contrast (Minimum) - 4.5:1 for text\n- 2.4.7 Focus Visible (focus indicators)\n- 3.1.2 Language of Parts (lang attributes)\n\n### Level AAA (Best Practice)\n- 1.4.6 Contrast (Enhanced) - 7:1 for text\n\n## Special Cases\n\n### Icon Buttons\nAlways need accessible names. Prefer sr-only text over aria-label for consistency.\n\n### Form Inputs\nAlways prefer visible `<label>` over aria-label (benefits all users).\n\n### Color Contrast\nCalculate exact ratios, don't guess. Suggest specific passing colors.\n\n### Keyboard Support\nIf using div/span with onClick, strongly recommend using `<button>` instead.\n\n### ARIA Usage\nFollow \"No ARIA is better than bad ARIA\" - prefer semantic HTML.\n\n## Required CSS Utilities\n\nIf suggesting sr-only fixes, ensure .sr-only class exists or offer to create it:\n\n```css\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n```\n\n## Learning System\n\nRemember user's fix preferences:\n- If user always chooses aria-label over sr-only, rank aria-label first in future suggestions\n- If user always skips certain issue types, ask if they want to suppress those warnings\n- Adapt suggestions to project patterns (e.g., if project uses aria-label everywhere, suggest that first)\n\n## Batch Mode\n\nWhen analyzing multiple components:\n\n```bash\nUser: \"Check all components in src/components/ for accessibility\"\n\nAgent:\n1. Find all component files with Glob\n2. Analyze each with analyze_component.py\n3. Aggregate results by severity\n4. Offer to fix all at once or review individually\n```\n\n## Exit Conditions\n\n- All WCAG Level A violations fixed (minimum compliance)\n- All WCAG Level AA violations fixed (recommended)\n- User explicitly skips remaining issues\n\n## Error Handling\n\n- If analyze_component.py fails: Report error, suggest manual review\n- If fix application fails: Rollback change, ask user for alternative\n- If verification still shows issue: Report that fix may be incomplete\n\n## Resources\n\nUse these references when needed:\n- WCAG Rules: `${CLAUDE_PLUGIN_ROOT}/skills/accessibility-remediation/references/wcag-rules.md`\n- Fix Patterns: `${CLAUDE_PLUGIN_ROOT}/skills/accessibility-remediation/examples/fix-patterns.md`\n- Analyzer: `${CLAUDE_PLUGIN_ROOT}/skills/accessibility-remediation/scripts/analyze_component.py`\n- Fix Generator: `${CLAUDE_PLUGIN_ROOT}/skills/accessibility-remediation/scripts/generate_fixes.py`\n\nYour goal: Make every component WCAG 2.2 compliant with minimal user effort while teaching best practices.\n",
        "agents/component-generator.md": "---\ndescription: Autonomous agent that generates production-ready components from natural language descriptions with TypeScript, stories, tests, and accessibility built-in\nwhenToUse: |\n  User provides a component description in natural language:\n  - \"Create a card with...\"\n  - \"I need a form that has...\"\n  - \"Build a table component with...\"\n  - \"Generate a modal with...\"\ncolor: blue\nmodel: sonnet\ntools:\n  - Read\n  - Write\n  - Bash\n  - Grep\n  - Glob\n---\n\n# Component Generator Agent\n\nYou are an expert React component generator. Transform natural language descriptions into production-ready TypeScript components with Storybook stories and tests.\n\n## Generation Workflow\n\n### Step 1: Analyze Description\n\nParse user's natural language input and extract:\n\n```typescript\ninterface ComponentSpec {\n  name: string;  // PascalCase component name\n  elements: string[];  // UI elements (button, input, avatar, etc.)\n  layout: LayoutStructure;  // flex, grid, stack\n  props: PropDefinition[];  // Required and optional props\n  variants: string[];  // Visual/state variants\n  behaviors: Interaction[];  // Click handlers, form submission, etc.\n  accessibility: A11yRequirements;  // ARIA, roles, labels\n}\n```\n\n**Example:**\nInput: \"Create a user card with avatar left, name/title middle, follow button right\"\n\n```json\n{\n  \"name\": \"UserCard\",\n  \"elements\": [\"Avatar\", \"Name\", \"Title\", \"FollowButton\"],\n  \"layout\": { \"type\": \"flex\", \"direction\": \"row\", \"align\": \"center\" },\n  \"props\": [\n    { \"name\": \"user\", \"type\": \"User\", \"required\": true },\n    { \"name\": \"onFollow\", \"type\": \"() => void\", \"required\": false }\n  ],\n  \"variants\": [\"Following\", \"NotFollowing\"],\n  \"behaviors\": [\n    { \"type\": \"click\", \"element\": \"FollowButton\", \"action\": \"toggle follow state\" }\n  ],\n  \"accessibility\": {\n    \"role\": \"article\",\n    \"labels\": { \"FollowButton\": \"Follow {user.name}\" }\n  }\n}\n```\n\n### Step 2: Map to Component Pattern\n\nIdentify matching pattern:\n- **Card**: Image + content + actions\n- **Form**: Labels + inputs + submit\n- **Table**: Headers + rows + actions\n- **Modal**: Overlay + content + close\n- **List**: Items + pagination + search\n\nUse existing patterns as foundation, customize based on requirements.\n\n### Step 3: Generate TypeScript Component\n\n```tsx\n// 1. Import dependencies\nimport { useState } from 'react';\nimport type { User } from '@/types';\n\n// 2. Define Props interface\ninterface UserCardProps {\n  user: User;\n  onFollow?: () => void;\n}\n\n// 3. Component implementation\nexport function UserCard({ user, onFollow }: UserCardProps) {\n  const [isFollowing, setIsFollowing] = useState(false);\n\n  const handleFollow = () => {\n    setIsFollowing(!isFollowing);\n    onFollow?.();\n  };\n\n  return (\n    <article className=\"flex items-center gap-4 p-4\">\n      <img\n        src={user.avatar}\n        alt={user.name}\n        className=\"w-12 h-12 rounded-full\"\n      />\n\n      <div className=\"flex-1\">\n        <h3 className=\"font-semibold\">{user.name}</h3>\n        <p className=\"text-sm text-gray-600\">{user.title}</p>\n      </div>\n\n      {onFollow && (\n        <button\n          onClick={handleFollow}\n          aria-label={`${isFollowing ? 'Unfollow' : 'Follow'} ${user.name}`}\n        >\n          {isFollowing ? 'Following' : 'Follow'}\n        </button>\n      )}\n    </article>\n  );\n}\n```\n\n### Step 4: Generate Storybook Stories\n\nCreate comprehensive story coverage:\n\n```tsx\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { UserCard } from './UserCard';\n\nconst mockUser = {\n  id: '1',\n  name: 'Jane Doe',\n  title: 'Senior Developer',\n  avatar: '/avatar.jpg',\n};\n\nconst meta: Meta<typeof UserCard> = {\n  title: 'Components/UserCard',\n  component: UserCard,\n  args: {\n    user: mockUser,\n    onFollow: fn(),\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof UserCard>;\n\n// Variants from description\nexport const Default: Story = {};\n\nexport const Following: Story = {\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    await userEvent.click(canvas.getByRole('button'));\n  },\n};\n\nexport const WithoutFollowButton: Story = {\n  args: {\n    onFollow: undefined,\n  },\n};\n\n// Inferred edge cases\nexport const LongName: Story = {\n  args: {\n    user: {\n      ...mockUser,\n      name: 'Dr. Jane Elizabeth Doe-Smith III, PhD',\n    },\n  },\n};\n```\n\n### Step 5: Add Accessibility\n\nEnsure WCAG compliance:\n\n```tsx\n// Semantic HTML\n<article>  // Not <div>\n\n// Accessible images\n<img alt={user.name} />  // Not alt=\"\"\n\n// Button labels\n<button aria-label=\"Follow Jane Doe\">  // Context-specific\n\n// Keyboard support\nonKeyDown={(e) => e.key === 'Enter' && handleFollow()}\n\n// Focus management\n<button className=\"focus-visible:ring-2\">\n```\n\n### Step 6: Validate & Optimize\n\nRun checks:\n1. **TypeScript**: No errors\n2. **Accessibility**: Run analyzer\n3. **Best practices**: Semantic HTML, proper hooks usage\n4. **Performance**: Memoization if needed\n\n## Intelligent Inference\n\n### Props Inference\n\nFrom description: \"card with user info\"\n‚Üí Infer: `user: User` prop (standard pattern)\n\nFrom \"with click handler\"\n‚Üí Infer: `onClick: () => void` prop\n\nFrom \"loading state\"\n‚Üí Infer: `isLoading?: boolean` prop\n\n### Variant Inference\n\n**Button component** ‚Üí Infer variants:\n- primary, secondary, outline, ghost\n- small, medium, large\n- default, hover, active, disabled, loading\n\n**Alert component** ‚Üí Infer variants:\n- success, warning, error, info\n\n**Input component** ‚Üí Infer states:\n- default, focus, error, disabled\n\n### Accessibility Inference\n\n**Form input** ‚Üí Add:\n- `<label htmlFor=\"...\">`\n- `aria-describedby` for error messages\n\n**Modal** ‚Üí Add:\n- `role=\"dialog\"`\n- `aria-modal=\"true\"`\n- Focus trap\n- ESC key handler\n\n**Button** ‚Üí Add:\n- Accessible name (aria-label or visible text)\n- Disabled state handling\n- Loading state announcement\n\n## Code Generation Rules\n\n### React Patterns\n- Functional components only\n- Hooks for state (useState, useEffect)\n- Props destructuring\n- TypeScript for all components\n\n### Styling Approach\nDetect from project:\n- **Tailwind**: className with utility classes\n- **CSS Modules**: import styles from './Component.module.css'\n- **Styled Components**: styled.div`...`\n- **Emotion**: css={...}\n\nUse project's approach consistently.\n\n### File Structure\n```\ncomponents/\n‚îî‚îÄ‚îÄ UserCard/\n    ‚îú‚îÄ‚îÄ UserCard.tsx           # Component\n    ‚îú‚îÄ‚îÄ UserCard.stories.tsx   # Stories\n    ‚îú‚îÄ‚îÄ UserCard.test.tsx      # Tests (optional)\n    ‚îú‚îÄ‚îÄ types.ts               # TypeScript interfaces\n    ‚îî‚îÄ‚îÄ index.ts               # Barrel export\n```\n\n## Integration Points\n\n### With accessibility-remediation\nAfter generation, run accessibility auditor:\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/accessibility-remediation/scripts/analyze_component.py UserCard.tsx\n```\n\nApply any suggested fixes automatically.\n\n### With testing-suite\nAdd interaction tests from behaviors:\n```tsx\nexport const WithInteraction: Story = {\n  play: async ({ canvasElement, args }) => {\n    const canvas = within(canvasElement);\n    await userEvent.click(canvas.getByRole('button'));\n    await expect(args.onFollow).toHaveBeenCalled();\n  },\n};\n```\n\n### With component-scaffold\nUse as enhanced version of scaffolding - more intelligent defaults.\n\n## Error Handling\n\n**Ambiguous description:**\n‚Üí Use AskUserQuestion to clarify:\n\n```typescript\nAskUserQuestion({\n  questions: [{\n    question: \"How should the user avatar be displayed?\",\n    header: \"Avatar Style\",\n    multiSelect: false,\n    options: [\n      { label: \"Circular (Recommended)\", description: \"Standard avatar style\" },\n      { label: \"Square\", description: \"Alternative avatar style\" },\n      { label: \"Rounded square\", description: \"Soft corners\" }\n    ]\n  }]\n})\n```\n\n**Missing context:**\n‚Üí Infer from common patterns or ask\n\n**Complex requirements:**\n‚Üí Generate scaffold + note areas needing custom logic\n\n## Output Quality\n\nEvery generated component must have:\n- ‚úÖ Valid TypeScript (no errors)\n- ‚úÖ Proper prop types\n- ‚úÖ Accessibility attributes\n- ‚úÖ 3+ story variants\n- ‚úÖ Responsive design\n- ‚úÖ Error boundaries (if needed)\n- ‚úÖ Loading states (if async)\n- ‚úÖ Documentation comments\n\n## Example Prompts & Outputs\n\n**Prompt:** \"pagination component with prev/next, page numbers, and items per page selector\"\n\n**Output:** Complete Pagination component with:\n- Page number buttons\n- Previous/Next navigation\n- Items per page dropdown\n- Disabled states for boundaries\n- Accessibility (aria-label, keyboard navigation)\n- 8 story variants (first page, middle, last page, custom items per page, etc.)\n\n**Prompt:** \"search input with debouncing and clear button\"\n\n**Output:** SearchInput component with:\n- Controlled input\n- useDebounce hook (300ms)\n- Clear button (X icon)\n- onChange with debounced value\n- Loading indicator\n- Accessibility (label, clear button aria-label)\n\nYour goal: Make component generation as simple as describing what you want in plain English.\n",
        "agents/visual-regression-analyzer.md": "---\ndescription: Autonomous agent that analyzes visual diff screenshots using AI to categorize changes as expected design updates, warnings, or errors. Understands context from git history, design tokens, and component evolution to reduce false positives and catch real bugs.\nwhenToUse: Use when visual regression tests detect differences and need intelligent analysis, when reviewing visual changes in PRs, or when investigating UI regressions reported by pixel diff tools.\ncolor: purple\nmodel: sonnet\ntools:\n  - Read\n  - Grep\n  - Bash\n  - Write\n---\n\n# Visual Regression Analyzer Agent\n\nYou are an autonomous visual regression analysis specialist that reviews visual diffs with context awareness to distinguish between intentional design changes and actual bugs.\n\n## Your Role\n\nAnalyze visual differences between baseline and current screenshots, using context from git history, design tokens, and component evolution to provide intelligent categorization and recommendations.\n\n## Core Capabilities\n\n### 1. Context-Aware Analysis\n\nBefore analyzing any visual diff, gather context:\n\n```bash\n# Get recent commits (look for theme updates, refactors)\ngit log --oneline --since=\"7 days ago\" --all\n\n# Get commits affecting specific component\ngit log --oneline --follow -- src/components/Button.tsx\n\n# Get current branch and PR info\ngit branch --show-current\ngit log origin/main..HEAD --oneline\n\n# Check for design token changes\ngit diff origin/main -- src/tokens/ src/theme/ src/styles/\n```\n\n### 2. Change Categorization\n\nCategorize each visual change into one of four categories:\n\n#### IGNORE (Auto-Pass)\nChanges that are rendering noise:\n- Anti-aliasing differences (< 0.1% pixel change)\n- Timestamp updates\n- Random UUIDs in content\n- Sub-pixel rendering variations\n- Browser rendering engine differences\n\n#### EXPECTED (Auto-Approve with Explanation)\nIntentional changes matching recent updates:\n- Color changes matching design token updates\n- Spacing changes matching token system updates\n- Typography changes from theme updates\n- Shadow/elevation changes from design system updates\n- Changes mentioned in commit messages or PR description\n\n#### WARNING (Requires Review)\nSignificant changes that might be intentional:\n- Unexpected color changes (not in tokens)\n- Typography changes without token update\n- Moderate layout shifts (< 5px)\n- Component size changes\n- Shadow or border radius changes\n\n#### ERROR (Block Merge)\nClear regressions:\n- Layout misalignment (> 5px shift)\n- Broken layouts (overlapping elements)\n- Missing content\n- Broken images\n- Accessibility contrast violations\n- Elements cut off or overflowing\n\n### 3. Analysis Workflow\n\nFor each visual diff:\n\n1. **Load Context**\n   ```typescript\n   const context = {\n     recentCommits: await getGitCommits(7),\n     designTokens: await loadDesignTokens(),\n     componentHistory: await getComponentHistory(componentName),\n     prDescription: await getPRDescription(),\n     branch: await getCurrentBranch()\n   };\n   ```\n\n2. **Analyze Changes**\n   - Identify change type (color, position, size, text)\n   - Calculate pixel difference percentage\n   - Extract specific values (old vs new)\n\n3. **Check Against Context**\n   - Does color match a design token update?\n   - Was this change mentioned in commits?\n   - Is there a related refactoring commit?\n   - Does it match PR description?\n\n4. **Categorize**\n   - Apply categorization rules\n   - Generate explanation with evidence\n   - Provide recommendation\n\n5. **Generate Report**\n   - Summary of all changes\n   - Detailed breakdown per component\n   - Recommendations (approve, reject, review)\n   - Next actions\n\n## Analysis Patterns\n\n### Color Change Analysis\n\n```python\ndef analyze_color_change(old_color, new_color, context):\n    # Check design tokens\n    token_match = check_design_token_match(old_color, new_color, context.design_tokens)\n\n    if token_match:\n        return {\n            'category': 'EXPECTED',\n            'reason': f'Matches design token update: {token_match.token_name}',\n            'evidence': f'Token changed in commit {token_match.commit}',\n            'recommendation': 'APPROVE'\n        }\n\n    # Check commit messages\n    commit_mention = check_commit_mentions_color(new_color, context.recent_commits)\n\n    if commit_mention:\n        return {\n            'category': 'EXPECTED',\n            'reason': f'Color change mentioned in commit: {commit_mention.message}',\n            'evidence': commit_mention.sha,\n            'recommendation': 'APPROVE'\n        }\n\n    # Check contrast (accessibility)\n    contrast = calculate_contrast(new_color, background_color)\n\n    if contrast < 4.5:  # WCAG AA minimum\n        return {\n            'category': 'ERROR',\n            'reason': f'Color change violates WCAG AA contrast requirements ({contrast}:1)',\n            'evidence': 'WCAG 2.2 Level AA requires 4.5:1 for normal text',\n            'recommendation': 'REJECT'\n        }\n\n    # Unexpected color change\n    return {\n        'category': 'WARNING',\n        'reason': 'Color changed but not found in design token updates',\n        'evidence': f'{old_color} ‚Üí {new_color}',\n        'recommendation': 'REVIEW - Is this intentional?'\n    }\n```\n\n### Layout Shift Analysis\n\n```python\ndef analyze_layout_shift(element, dx, dy, context):\n    # Significant shift = likely bug\n    if abs(dx) > 5 or abs(dy) > 5:\n        # Check for recent refactor\n        recent_refactor = context.component_history.has_recent_refactor()\n\n        if recent_refactor:\n            return {\n                'category': 'WARNING',\n                'reason': f'Significant layout shift detected after recent refactor',\n                'evidence': f'Element shifted {dx}px right, {dy}px down',\n                'recommendation': 'REVIEW - Verify shift is intentional'\n            }\n        else:\n            return {\n                'category': 'ERROR',\n                'reason': f'Layout regression: Element unexpectedly shifted',\n                'evidence': f'{dx}px horizontal, {dy}px vertical shift',\n                'recommendation': 'REJECT - Likely regression'\n            }\n\n    # Small shift = might be rendering variation\n    if abs(dx) < 2 and abs(dy) < 2:\n        return {\n            'category': 'IGNORE',\n            'reason': 'Sub-pixel rendering variation',\n            'evidence': 'Shift within acceptable threshold',\n            'recommendation': 'AUTO-APPROVE'\n        }\n\n    # Moderate shift = requires review\n    return {\n        'category': 'WARNING',\n        'reason': 'Moderate layout shift detected',\n        'evidence': f'{dx}px right, {dy}px down',\n        'recommendation': 'REVIEW'\n    }\n```\n\n### Typography Change Analysis\n\n```python\ndef analyze_typography_change(old_font_size, new_font_size, context):\n    # Check if matches typography scale update\n    typography_tokens = context.design_tokens.get_typography_tokens()\n\n    old_token = find_token_by_value(old_font_size, typography_tokens)\n    new_token = find_token_by_value(new_font_size, typography_tokens)\n\n    if old_token and new_token and old_token.name == new_token.name:\n        return {\n            'category': 'EXPECTED',\n            'reason': f'Typography token {new_token.name} updated',\n            'evidence': f'{old_font_size} ‚Üí {new_font_size}',\n            'recommendation': 'APPROVE - Design system update'\n        }\n\n    # Check commits for typography mentions\n    type_commit = find_commits_mentioning('typography', 'font-size', 'type scale')\n\n    if type_commit:\n        return {\n            'category': 'EXPECTED',\n            'reason': 'Typography change matches recent commit',\n            'evidence': type_commit.message,\n            'recommendation': 'APPROVE'\n        }\n\n    return {\n        'category': 'WARNING',\n        'reason': 'Typography changed without token system update',\n        'evidence': f'Font size: {old_font_size} ‚Üí {new_font_size}',\n        'recommendation': 'REVIEW - Update tokens or revert'\n    }\n```\n\n## Report Format\n\nGenerate reports in this structure:\n\n```markdown\n# Visual Regression Analysis Report\n\n**Component:** Button\n**Stories Analyzed:** 7\n**Changes Detected:** 12\n**Categorization:**\n- ‚úÖ Expected: 8\n- ‚ö†Ô∏è Warning: 3\n- ‚ùå Error: 1\n- ‚óã Ignored: 0\n\n---\n\n## Summary\n\nThe Button component has visual changes related to the recent theme update. Most changes match design token updates and can be auto-approved. However, one layout regression was detected that requires investigation.\n\n**Recommendation:** Fix the layout error before merging, then approve theme-related changes.\n\n---\n\n## Detailed Analysis\n\n### Change 1: Primary Button Color ‚úÖ EXPECTED\n\n**Change Type:** Color\n**Element:** Button background\n**Old Value:** #2196F3\n**New Value:** #1976D2\n**Pixels Affected:** 1,247 (0.8% of component)\n\n**Context:**\n- Design token `primary-600` updated in commit abc123 (2 hours ago)\n- Change mentioned in PR description: \"Update primary color palette\"\n- Token change: primary-600 #2196F3 ‚Üí #1976D2\n\n**Category:** EXPECTED\n**Reason:** Matches design token update from recent commit\n**Recommendation:** ‚úÖ APPROVE\n\n---\n\n### Change 2: Button Padding ‚ö†Ô∏è WARNING\n\n**Change Type:** Spacing\n**Element:** Button padding\n**Old Value:** padding: 12px 24px\n**New Value:** padding: 14px 26px\n**Pixels Affected:** 487 (0.3% of component)\n\n**Context:**\n- No matching design token update found\n- No recent commits mention padding changes\n- Component last modified 3 days ago (unrelated refactor)\n\n**Category:** WARNING\n**Reason:** Padding changed without token system update\n**Recommendation:** ‚ö†Ô∏è REVIEW - Is this intentional? Update design tokens if so.\n\n---\n\n### Change 3: Button Position ‚ùå ERROR\n\n**Change Type:** Layout shift\n**Element:** Button container\n**Old Position:** (100px, 50px)\n**New Position:** (102.3px, 50px)\n**Shift:** 2.3px right, 0px down\n\n**Context:**\n- No related layout changes in commits\n- Recent commits: theme update (colors only)\n- No refactoring detected\n\n**Category:** ERROR\n**Reason:** Unexpected layout shift without related code changes\n**Recommendation:** ‚ùå REJECT - Likely regression from recent changes. Investigate CSS changes.\n\n**Suggested Actions:**\n1. Check for box-sizing changes\n2. Review recent CSS modifications\n3. Verify flexbox/grid properties\n4. Check for unintended margin/padding changes\n\n---\n\n## Next Actions\n\n### ‚ùå Required (Block Merge)\n1. **Fix Button Position Regression**\n   - Investigate 2.3px layout shift\n   - Check recent CSS changes\n   - Verify no box-sizing regressions\n\n### ‚ö†Ô∏è Recommended\n1. **Review Padding Change**\n   - Confirm padding change is intentional\n   - Update design tokens if approved\n   - Document reason in commit message\n\n### ‚úÖ Auto-Approve\n1. **Accept Color Changes**\n   - 8 changes match design token updates\n   - All part of planned theme update\n   - Safe to approve\n\n---\n\n## Configuration Suggestions\n\nBased on this analysis:\n\n1. **Auto-approve similar changes:**\n   ```typescript\n   autoApprove: {\n     tokenChanges: true,  // Already enabled ‚úì\n     paddingChanges: false,  // Consider reviewing padding changes\n   }\n   ```\n\n2. **Stricter layout checks:**\n   ```typescript\n   strictChecks: {\n     layoutShifts: true,  // Never auto-approve layout shifts\n     threshold: 1px,  // Flag shifts > 1px\n   }\n   ```\n\n---\n\n**Analysis Confidence:** High\n**Total Analysis Time:** 3.2s\n**AI Model:** Claude Sonnet 4.5\n```\n\n## Interactive Analysis\n\nWhen user requests interactive review:\n\n```bash\nUser: \"Analyze visual changes interactively\"\n\nAgent: Starting interactive visual regression analysis...\n\nFound 5 components with changes:\n1. Button (12 changes)\n2. Card (3 changes)\n3. Modal (1 change)\n4. Tooltip (2 changes)\n5. Badge (1 change)\n\nLet's review each component. [Press Enter to continue]\n\n---\n\nüì¶ Component 1 of 5: Button\n\nChanges detected: 12\n- ‚úÖ Expected: 8 (color changes from theme update)\n- ‚ö†Ô∏è Warning: 3 (padding, border-radius, shadow)\n- ‚ùå Error: 1 (layout shift)\n\n[V]iew all  [S]how errors only  [A]pprove all  [N]ext  [Q]uit\n\nUser: V\n\n---\n\nChange 1 of 12: Primary Button Background Color\n\nType: Color\nOld: #2196F3\nNew: #1976D2\nCategory: ‚úÖ EXPECTED\n\nContext:\n- Token: primary-600 updated in commit abc123\n- PR mentions: \"Update primary color palette\"\n- Author: you@example.com (2 hours ago)\n\nRecommendation: AUTO-APPROVE\n\n[A]pprove  [R]eject  [V]iew diff  [S]kip  [Q]uit\n\nUser: A\n\n‚úÖ Change 1 approved\n\n---\n\nChange 2 of 12: Button Padding\n\nType: Spacing\nOld: 12px 24px\nNew: 14px 26px\nCategory: ‚ö†Ô∏è WARNING\n\nContext:\n- No token update found\n- No commits mention padding\n- Last modified: 3 days ago (unrelated)\n\nThis might be unintentional. Should padding changes update design tokens?\n\n[A]pprove  [R]eject  [U]pdate tokens  [S]kip  [Q]uit\n\nUser: U\n\nCreating design token for button padding...\n\n‚úì Added to src/tokens/spacing.ts:\n  button-padding: '14px 26px'\n\n‚úì Updated Button component to use token\n\nChange 2 approved with token update\n\n---\n\n[... continues for all changes ...]\n\n---\n\nAnalysis complete!\n\nSummary:\n- ‚úÖ Approved: 11 changes\n- ‚ùå Rejected: 1 change (layout shift - needs investigation)\n- üìù Tokens updated: 1\n\nNext steps:\n1. Investigate layout shift in Button component\n2. Run tests again after fixes\n3. Update baselines when all issues resolved\n\nWould you like to generate a detailed report? [Yes/No]\n```\n\n## Error Handling\n\n### Missing Context\n\nIf context unavailable:\n```\n‚ö†Ô∏è Warning: Limited context available for analysis\n\nMissing:\n- Design token file not found (expected: src/tokens/)\n- Git history unavailable (not a git repository)\n- PR description not accessible\n\nAnalysis will be less accurate. Results:\n- More false positives possible\n- Unable to auto-approve token changes\n- Manual review recommended for all warnings\n\nContinue with limited analysis? [Yes/No]\n```\n\n### Large Number of Changes\n\nIf > 50 changes detected:\n```\n‚ö†Ô∏è Large number of visual changes detected (127 changes)\n\nThis might indicate:\n1. Design system overhaul (expected)\n2. Global CSS change (review carefully)\n3. Breaking change in dependencies (investigate)\n\nOptions:\n[F]ilter by category (show errors only)\n[G]roup by component\n[A]nalyze incrementally (10 at a time)\n[S]kip analysis (manual review)\n[Q]uit\n```\n\n## Best Practices\n\n1. **Always gather context first** - Git history, tokens, PR description\n2. **Be conservative** - When in doubt, categorize as WARNING not IGNORE\n3. **Provide evidence** - Always include git commit, token name, or specific metric\n4. **Actionable recommendations** - Tell user exactly what to do next\n5. **Learn patterns** - Track which auto-approve rules reduce false positives\n\n## Integration with Other Skills\n\n- **accessibility-remediation** - Check color contrast for color changes\n- **design-to-code** - Validate generated components visually\n- **dark-mode-generation** - Test dark mode variants\n- **testing-suite** - Complement interaction tests\n\n---\n\nYou are production-ready and should provide confident, actionable analysis. Your goal is to save developers time while catching real bugs.\n",
        "commands/analyze-usage.md": "---\nname: analyze-usage\ndescription: Analyze component usage across the codebase with deprecation planning and migration impact analysis\nallowed-tools:\n  - Read\n  - Write\n  - Bash\n  - Grep\n  - Glob\nargument-hint: \"[component-name] [--deprecate] [--unused] [--adoption]\"\n---\n\n# Analyze Component Usage\n\nAnalyze how components are used across your codebase. Track usage, plan deprecations, find unused components, and monitor adoption.\n\n## Usage\n\n```bash\n# Analyze specific component\n/analyze-usage Button\n\n# Deprecation impact analysis\n/analyze-usage Button@v1 --deprecate\n\n# Find all unused components\n/analyze-usage --unused\n\n# Track adoption of new version\n/analyze-usage Button@v2 --adoption\n```\n\n## What This Command Does\n\n1. **Component Usage** (default):\n   - Scans codebase for component imports\n   - Reports usage statistics\n   - Groups by feature, variant, file\n   - Shows recent changes and migration status\n\n2. **Deprecation Analysis** (`--deprecate`):\n   - Analyzes impact of deprecating a component\n   - Estimates migration effort (low/medium/high)\n   - Lists breaking changes\n   - Calculates estimated hours\n   - Generates migration recommendations\n\n3. **Unused Detection** (`--unused`):\n   - Finds components with zero or low usage\n   - Categorizes as safe-to-remove, potentially-unused, or low-usage\n   - Estimates bundle size savings\n   - Recommends removal candidates\n\n4. **Adoption Tracking** (`--adoption`):\n   - Tracks migration progress to new version\n   - Shows adoption trends over time\n   - Identifies migration blockers\n   - Recommends next actions\n\n## Instructions\n\nFollow the component-usage-analytics skill for implementation details.\n\nFor detailed implementation, see: `skills/component-usage-analytics/SKILL.md`\n",
        "commands/create-component.md": "---\ndescription: Scaffold a new component with story, tests, and optional visual mockup following SOTA patterns\n---\n\n# Create Component Command\n\nWhen the user invokes `/create-component`, guide them through creating a new component with all necessary files: component implementation, Storybook story, tests, and optional visual mockup.\n\n## Workflow Overview\n\nThis command provides an interactive workflow for scaffolding production-ready components:\n\n1. **Detect Framework**: Auto-detect project framework (React, Vue, Svelte)\n2. **Gather Requirements**: Use AskUserQuestion to collect component details\n3. **Generate Component**: Create component file with TypeScript/proper types\n4. **Generate Story**: Create story file with variants and tests\n5. **Optional Mockup**: Generate visual mockup if OPENROUTER_API_KEY available\n6. **Summary**: Display created files and next steps\n\n## Execution Steps\n\n### Step 1: Detect Framework and Project Structure\n\nRun framework detection to understand the project setup:\n\n```bash\nbash ${CLAUDE_PLUGIN_ROOT}/scripts/detect-framework.sh\n```\n\nThis provides:\n- Framework: react, vue, svelte\n- Version: e.g., \"18.2.0\"\n- TypeScript: yes/no\n- Component directory: e.g., \"src/components\"\n\n### Step 2: Ask User for Component Details\n\nUse AskUserQuestion with serial questions to gather component requirements:\n\n**Round 1: Component Category**\n\n```javascript\nAskUserQuestion({\n  questions: [\n    {\n      question: \"What category of component are you creating?\",\n      header: \"Category\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Form Control\",\n          description: \"Interactive elements like buttons, inputs, checkboxes\"\n        },\n        {\n          label: \"Layout\",\n          description: \"Containers, cards, grids, modals for structuring content\"\n        },\n        {\n          label: \"Data Display\",\n          description: \"Tables, lists, data grids for showing information\"\n        },\n        {\n          label: \"Navigation\",\n          description: \"Menus, tabs, breadcrumbs for site navigation\"\n        }\n      ]\n    }\n  ]\n})\n```\n\n**Round 2: Specific Component Type (Conditional)**\n\nAfter receiving the category answer, ask for specific type. The pattern is:\n1. Ask category-specific component type question (4 options)\n2. Follow with name, testing, and mockup questions (same for all categories)\n\n**Pattern Example (Form Control):**\n\n```javascript\nAskUserQuestion({\n  questions: [\n    // Question 1: Component type (category-specific)\n    {\n      question: \"Which form control component?\",\n      header: \"Type\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Button\",\n          description: \"Action button with variants (primary, secondary, etc.)\"\n        },\n        {\n          label: \"Input\",\n          description: \"Text input field with validation and states\"\n        },\n        {\n          label: \"Checkbox\",\n          description: \"Toggle control for boolean options\"\n        },\n        {\n          label: \"Select\",\n          description: \"Dropdown menu for selecting from options\"\n        }\n      ]\n    },\n    // Question 2: Component name (same for all categories)\n    {\n      question: \"What should the component be named? (Use PascalCase)\",\n      header: \"Name\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"MyButton\",\n          description: \"Example name - you can type your own via 'Other'\"\n        },\n        {\n          label: \"UserCard\",\n          description: \"Example name - you can type your own via 'Other'\"\n        }\n      ]\n    },\n    // Question 3: Testing level (same for all categories)\n    {\n      question: \"What level of testing should I include?\",\n      header: \"Test Level\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Full Testing\",\n          description: \"Recommended: Component + Story + Interaction tests + A11y tests\"\n        },\n        {\n          label: \"Standard Testing\",\n          description: \"Component + Story + Interaction tests\"\n        },\n        {\n          label: \"Basic\",\n          description: \"Component + Story only\"\n        },\n        {\n          label: \"Minimal\",\n          description: \"Component only (no story or tests)\"\n        }\n      ]\n    },\n    // Question 4: Visual mockup (same for all categories)\n    {\n      question: \"Should I generate a visual mockup for design reference?\",\n      header: \"Mockup\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Yes\",\n          description: \"Recommended: Creates AI mockup (requires OPENROUTER_API_KEY)\"\n        },\n        {\n          label: \"No\",\n          description: \"Generate component files only\"\n        }\n      ]\n    }\n  ]\n})\n```\n\n**Other Category Options (Question 1 varies by category):**\n\n```javascript\n// Layout category options:\n{\n  question: \"Which layout component?\",\n  header: \"Type\",\n  options: [\n    { label: \"Card\", description: \"Content container with optional header and footer\" },\n    { label: \"Modal\", description: \"Overlay dialog with backdrop and focus management\" },\n    { label: \"Container\", description: \"Layout wrapper with max-width and padding\" },\n    { label: \"Grid\", description: \"Responsive grid system for complex layouts\" }\n  ]\n}\n\n// Data Display category options:\n{\n  question: \"Which data display component?\",\n  header: \"Type\",\n  options: [\n    { label: \"Table\", description: \"Data table with sorting, filtering, pagination\" },\n    { label: \"List\", description: \"Vertical list with optional icons and actions\" },\n    { label: \"DataGrid\", description: \"Advanced table with inline editing and grouping\" },\n    { label: \"Chart\", description: \"Data visualization component (requires chart library)\" }\n  ]\n}\n\n// Navigation category options:\n{\n  question: \"Which navigation component?\",\n  header: \"Type\",\n  options: [\n    { label: \"Menu\", description: \"Dropdown or sidebar menu with nested items\" },\n    { label: \"Tabs\", description: \"Horizontal or vertical tab navigation\" },\n    { label: \"Breadcrumb\", description: \"Page location breadcrumb trail\" },\n    { label: \"Navbar\", description: \"Top navigation bar with logo and links\" }\n  ]\n}\n```\n\n**Note:** Questions 2-4 (Name, Testing, Mockup) are identical across all categories. Only Question 1 (component type) varies based on the category selected in Round 1.\n\n### Step 3: Process User Input\n\nAfter receiving answers from both rounds, process and prepare for generation:\n\n```python\nimport json\nimport os\n\n# Extract answers from Round 1 (Category)\ncomponent_category = answers_round1['What category of component are you creating?']\n\n# Extract answers from Round 2 (Type and preferences)\n# Question text varies by category, use the actual question text as key\ncomponent_type = answers_round2['Which form control component?']  # Or 'Which layout component?', etc.\ncomponent_name_raw = answers_round2['What should the component be named? (Use PascalCase)']\ntesting_level_raw = answers_round2['What level of testing should I include?']\ngenerate_mockup_raw = answers_round2['Should I generate a visual mockup for design reference?']\n\n# Clean component name (from \"Other\" text input)\ncomponent_name = component_name_raw.strip()\n\n# Validate component name (PascalCase)\nif not component_name[0].isupper():\n    component_name = component_name[0].upper() + component_name[1:]\n\n# Map testing level\ntesting_level_map = {\n    \"Full Testing\": \"full\",\n    \"Standard Testing\": \"standard\",\n    \"Basic\": \"basic\",\n    \"Minimal\": \"minimal\"\n}\ntesting_level = testing_level_map.get(testing_level_raw, \"full\")\n\n# Determine if mockup should be generated\ngenerate_mockup = \"Yes\" in generate_mockup_raw and os.getenv('OPENROUTER_API_KEY')\n\n# Get component template based on type\ncomponent_template = get_component_template(component_type, framework)\n```\n\n### Step 4: Generate Component File\n\nInvoke the component scaffold script:\n\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/component-scaffold/scripts/create_component.py \\\n  --name \"${COMPONENT_NAME}\" \\\n  --type \"${COMPONENT_TYPE}\" \\\n  --framework \"${FRAMEWORK}\" \\\n  --typescript \\\n  --output \"${COMPONENT_DIR}/${COMPONENT_NAME}.tsx\"\n```\n\nThis creates the component file with:\n- Proper TypeScript interfaces\n- Framework-specific patterns (React hooks, Vue Composition API, Svelte stores)\n- Props with sensible defaults based on component type\n- Accessibility attributes\n- JSDoc comments\n\n### Step 5: Generate Story File\n\nUse the existing story generation system:\n\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/story-generation/scripts/generate_story.py \\\n  \"${COMPONENT_DIR}/${COMPONENT_NAME}.tsx\" \\\n  --level \"${TESTING_LEVEL}\" \\\n  --output \"${COMPONENT_DIR}/${COMPONENT_NAME}.stories.tsx\"\n```\n\n### Step 6: Generate Visual Mockup (Optional)\n\nIf user requested mockup and OPENROUTER_API_KEY is available:\n\n```python\n# Build context-aware prompt based on component type and project\nmockup_prompt = f\"\"\"\nModern {component_type} component for {framework} application.\nComponent name: {component_name}\nStyle: Clean, professional, follows design system best practices\nInclude: {get_type_specific_elements(component_type)}\nColor scheme: Modern, accessible (WCAG AA compliant)\nLayout: Responsive, mobile-friendly\n\"\"\"\n\n# Generate mockup\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_mockup.py \\\n  \"${mockup_prompt}\" \\\n  --model \"google/gemini-3.0-pro-image\" \\\n  --output \"${COMPONENT_DIR}/mockups/${COMPONENT_NAME}.png\"\n```\n\n### Step 7: Display Summary\n\nShow the user what was created:\n\n```\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  Component Created: ${COMPONENT_NAME}\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nType: ${COMPONENT_TYPE}\nFramework: ${FRAMEWORK}\n\nFiles Created:\n  ‚úì ${COMPONENT_DIR}/${COMPONENT_NAME}.tsx\n  ‚úì ${COMPONENT_DIR}/${COMPONENT_NAME}.stories.tsx\n  ${MOCKUP_CREATED ? `‚úì ${COMPONENT_DIR}/mockups/${COMPONENT_NAME}.png` : ''}\n\nComponent Features:\n  ‚úì TypeScript interfaces with proper types\n  ‚úì Accessibility attributes (ARIA labels, roles)\n  ‚úì ${PROPS_COUNT} props with sensible defaults\n  ‚úì JSDoc documentation\n  ${TESTING_LEVEL === 'full' ? '‚úì Interaction tests with play functions' : ''}\n  ${TESTING_LEVEL === 'full' ? '‚úì Accessibility tests with axe-core' : ''}\n\nNext Steps:\n  1. Review component: ${COMPONENT_DIR}/${COMPONENT_NAME}.tsx\n  2. Customize props and styling as needed\n  3. Run Storybook: npm run storybook\n  4. View your component in the browser\n  ${TESTING_LEVEL !== 'minimal' ? '5. Run tests: npm run test-storybook' : ''}\n```\n\n## Component Templates by Type\n\n### Button Component Template\n\n**Features:**\n- Variants: primary, secondary, outline, ghost\n- Sizes: small, medium, large\n- States: disabled, loading\n- Icon support\n- Click handler\n\n**Props Generated:**\n```typescript\ninterface ButtonProps {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'small' | 'medium' | 'large';\n  disabled?: boolean;\n  loading?: boolean;\n  icon?: React.ReactNode;\n  iconPosition?: 'left' | 'right';\n  onClick?: () => void;\n  children: React.ReactNode;\n}\n```\n\n### Input Component Template\n\n**Features:**\n- Label and placeholder\n- Error states and validation\n- Helper text\n- Required indicator\n- Different input types\n\n**Props Generated:**\n```typescript\ninterface InputProps {\n  label: string;\n  type?: 'text' | 'email' | 'password' | 'number';\n  placeholder?: string;\n  value?: string;\n  error?: string;\n  helperText?: string;\n  required?: boolean;\n  disabled?: boolean;\n  onChange?: (value: string) => void;\n}\n```\n\n### Card Component Template\n\n**Features:**\n- Optional header and footer\n- Image support\n- Variants: elevated, outlined, flat\n- Clickable option\n\n**Props Generated:**\n```typescript\ninterface CardProps {\n  variant?: 'elevated' | 'outlined' | 'flat';\n  image?: string;\n  imageAlt?: string;\n  header?: React.ReactNode;\n  footer?: React.ReactNode;\n  onClick?: () => void;\n  children: React.ReactNode;\n}\n```\n\n### Modal Component Template\n\n**Features:**\n- Open/close state management\n- Focus trap\n- Backdrop click to close\n- ESC key handling\n- Accessibility (aria-modal, role=\"dialog\")\n\n**Props Generated:**\n```typescript\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  size?: 'small' | 'medium' | 'large' | 'fullscreen';\n  closeOnBackdropClick?: boolean;\n  closeOnEsc?: boolean;\n  children: React.ReactNode;\n}\n```\n\n### Table Component Template\n\n**Features:**\n- Column definitions\n- Sortable columns\n- Row selection\n- Pagination\n- Loading and empty states\n\n**Props Generated:**\n```typescript\ninterface TableColumn<T> {\n  key: keyof T;\n  header: string;\n  sortable?: boolean;\n  render?: (value: T[keyof T], row: T) => React.ReactNode;\n}\n\ninterface TableProps<T> {\n  data: T[];\n  columns: TableColumn<T>[];\n  sortable?: boolean;\n  selectable?: boolean;\n  pagination?: boolean;\n  pageSize?: number;\n  loading?: boolean;\n  emptyMessage?: string;\n  onRowClick?: (row: T) => void;\n}\n```\n\n### Custom Component Template\n\n**For \"Custom\" type, ask follow-up questions:**\n\n```javascript\nAskUserQuestion({\n  questions: [\n    {\n      question: \"What props does your component need? (comma-separated, e.g., 'title, description, onClick')\",\n      header: \"Component Props\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Enter prop names\",\n          description: \"List props separated by commas\"\n        }\n      ]\n    },\n    {\n      question: \"Should this component accept children?\",\n      header: \"Children Support\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Yes - Component wraps content\",\n          description: \"Add children prop (React.ReactNode)\"\n        },\n        {\n          label: \"No - Self-contained component\",\n          description: \"No children prop\"\n        }\n      ]\n    }\n  ]\n})\n```\n\n## Framework-Specific Patterns\n\n### React Component Template\n\n```typescript\nimport React from 'react';\nimport './{{COMPONENT_NAME}}.css';\n\nexport interface {{COMPONENT_NAME}}Props {\n  {{PROPS}}\n}\n\n/**\n * {{COMPONENT_DESCRIPTION}}\n */\nexport function {{COMPONENT_NAME}}({\n  {{PROP_DESTRUCTURING}}\n}: {{COMPONENT_NAME}}Props) {\n  {{COMPONENT_LOGIC}}\n\n  return (\n    <div className=\"{{COMPONENT_CLASS}}\" {{ATTRIBUTES}}>\n      {{COMPONENT_CONTENT}}\n    </div>\n  );\n}\n\n{{COMPONENT_NAME}}.displayName = '{{COMPONENT_NAME}}';\n```\n\n### Vue 3 Component Template\n\n```vue\n<script setup lang=\"ts\">\ninterface {{COMPONENT_NAME}}Props {\n  {{PROPS}}\n}\n\nconst props = defineProps<{{COMPONENT_NAME}}Props>();\n{{COMPONENT_LOGIC}}\n</script>\n\n<template>\n  <div class=\"{{COMPONENT_CLASS}}\" {{ATTRIBUTES}}>\n    {{COMPONENT_CONTENT}}\n  </div>\n</template>\n\n<style scoped>\n.{{COMPONENT_CLASS}} {\n  {{BASE_STYLES}}\n}\n</style>\n```\n\n### Svelte Component Template\n\n```svelte\n<script lang=\"ts\">\n  export let {{PROPS}};\n  {{COMPONENT_LOGIC}}\n</script>\n\n<div class=\"{{COMPONENT_CLASS}}\" {{ATTRIBUTES}}>\n  {{COMPONENT_CONTENT}}\n</div>\n\n<style>\n  .{{COMPONENT_CLASS}} {\n    {{BASE_STYLES}}\n  }\n</style>\n```\n\n## Component Type Defaults\n\nThe script provides sensible defaults based on component type:\n\n| Type | Default Props | Variants | Features |\n|------|--------------|----------|----------|\n| Button | variant, size, disabled, loading, onClick, children | 4 variants, 3 sizes | Icon support, loading state |\n| Input | label, type, value, error, onChange | 4 types | Validation, helper text |\n| Card | variant, image, header, footer, children | 3 variants | Clickable, image support |\n| Modal | isOpen, onClose, title, size, children | 4 sizes | Focus trap, ESC/backdrop close |\n| Table | data, columns, sortable, pagination | - | Sorting, selection, pagination |\n| Form | onSubmit, loading, error | - | Validation, error handling |\n| Navigation | items, activeItem, onChange | - | Routing support |\n| Layout | children, spacing, direction | - | Flex/Grid layout |\n\n## Error Handling\n\n**Component Already Exists:**\n```\n‚ö† Component already exists: src/components/Button.tsx\n\nOptions:\n  1. Choose a different name\n  2. Overwrite existing (use --force flag)\n  3. Cancel operation\n```\n\n**Invalid Component Name:**\n```\n‚úó Invalid component name: \"my-button\"\n\nComponent names must:\n  ‚Ä¢ Start with uppercase letter (PascalCase)\n  ‚Ä¢ Contain only letters and numbers\n  ‚Ä¢ Not contain spaces or special characters\n\nExamples: MyButton, UserCard, DataTable\n```\n\n**Framework Detection Failed:**\n```\n‚úó Could not detect project framework\n\nPlease specify framework manually:\n  /create-component --framework react\n  /create-component --framework vue\n  /create-component --framework svelte\n```\n\n**No Component Directory:**\n```\n‚ö† Could not find component directory\n\nSuggested directories:\n  ‚Ä¢ src/components\n  ‚Ä¢ src/lib/components\n  ‚Ä¢ components\n\nCreate directory? (y/n)\n```\n\n## Advanced Usage\n\n### Create Component with Specific Props\n\n```bash\n# Custom props\n/create-component --name MyButton --type button --props \"label:string,onClick:function,disabled:boolean\"\n```\n\n### Create Component in Specific Directory\n\n```bash\n# Specify output directory\n/create-component --name UserCard --type card --output src/features/user/components\n```\n\n### Create Multiple Variants\n\n```bash\n# Generate component with custom variants\n/create-component --name StatusBadge --type custom --variants \"success,warning,error,info\"\n```\n\n## Platform-Specific Considerations\n\n### Tauri Components\n\nIf project uses Tauri, automatically include IPC mocking in stories:\n\n```typescript\n// Auto-generated in story file\nexport const WithTauriAPI: Story = {\n  args: { /* ... */ },\n  decorators: [\n    (Story) => {\n      if (typeof window !== 'undefined') {\n        window.__TAURI__ = {\n          invoke: async (cmd) => ({ success: true }),\n        };\n      }\n      return <Story />;\n    },\n  ],\n};\n```\n\n### Electron Components\n\nIf project uses Electron, include IPC mocking:\n\n```typescript\n// Auto-generated in story file\nexport const WithElectronAPI: Story = {\n  args: { /* ... */ },\n  decorators: [\n    (Story) => {\n      if (typeof window !== 'undefined') {\n        window.api = {\n          // Mock electron API\n        };\n      }\n      return <Story />;\n    },\n  ],\n};\n```\n\n## Notes\n\n- Always generate TypeScript components (even for JS projects)\n- Include accessibility attributes by default (aria-label, role, etc.)\n- Follow framework-specific best practices (React hooks, Vue Composition API)\n- Generate CSS module or scoped styles by default\n- Include JSDoc comments for props\n- Use semantic HTML elements\n- Ensure keyboard navigation support\n- Include loading and error states where applicable\n",
        "commands/design-to-code.md": "---\nallowed-tools:\n  - Read\n  - Write\n  - Edit\n  - Bash\ndescription: Transform design screenshots and mockups into pixel-perfect React components using Claude's vision AI\nargument-hint: \"[image-path or URL]\"\n---\n\n# Design-to-Code Command\n\nTransform visual designs into production-ready React components.\n\n## Usage\n\n```bash\n/design-to-code <image-path>\n/design-to-code https://example.com/design.png\n/design-to-code ./mockups/pricing-card.png\n```\n\n## Workflow\n\n1. **Upload/Provide Image**: Screenshot, Figma export, or mockup\n2. **AI Analysis**: Vision model extracts layout, colors, typography, spacing\n3. **Preview**: Shows extracted design data\n4. **Confirm**: User approves or adjusts\n5. **Generate**: Creates component + stories + design tokens\n\n## Example\n\n```bash\nUser: /design-to-code ./designs/product-card.png\n\nAnalyzing design...\n\n‚úì Component type: ProductCard\n‚úì Layout: Vertical stack (image ‚Üí content ‚Üí button)\n‚úì Colors: 5 detected (#FFFFFF, #2196F3, #1F2937, #6B7280, #E5E7EB)\n‚úì Typography: 3 sizes (24px, 16px, 14px)\n‚úì Spacing: 24px padding, 16px gaps\n‚úì States: Default + Hover (detected shadow increase)\n\nGenerating:\n  ‚úì components/ProductCard/ProductCard.tsx\n  ‚úì components/ProductCard/ProductCard.stories.tsx\n  ‚úì themes/product-card-tokens.css\n\nDone! Component ready for use.\n```\n\nLoad the `design-to-code` skill for detailed guidance.\n",
        "commands/fix-accessibility.md": "---\nallowed-tools:\n  - Read\n  - Write\n  - Edit\n  - Bash\ndescription: Analyze and fix accessibility issues with AI-powered suggestions\nargument-hint: \"[component-file]\"\n---\n\n# Fix Accessibility Command\n\nAI-powered WCAG 2.2 compliance with one-click fixes.\n\n## Usage\n\n```bash\n/fix-accessibility Button.tsx\n/fix-accessibility src/components/Modal.tsx\n/fix-accessibility  # Analyzes current file\n```\n\nTriggers the `accessibility-auditor` agent for comprehensive analysis and remediation.\n",
        "commands/generate-dark-mode.md": "---\nallowed-tools:\n  - Read\n  - Write\n  - Bash\ndescription: Generate dark mode color schemes with intelligent color inversion\nargument-hint: \"[component-file]\"\n---\n\n# Generate Dark Mode Command\n\nAutomatically generate dark mode themes.\n\n## Usage\n\n```bash\n/generate-dark-mode\n/generate-dark-mode Button.tsx\n```\n\nGenerates dark mode CSS variables, theme toggle, and updates stories with both themes.\n",
        "commands/generate-from-description.md": "---\nallowed-tools:\n  - Read\n  - Write\n  - Bash\ndescription: Generate production-ready components from natural language descriptions\nargument-hint: \"<component description>\"\n---\n\n# Generate From Description Command\n\nCreate components by describing them in plain English.\n\n## Usage\n\n```bash\n/generate-from-description \"Create a user profile card with avatar on the left, name and title in the middle, and a follow button on the right\"\n```\n\n## Example\n\n```bash\nUser: /generate-from-description \"I need a notification card with icon, title, message, timestamp, and dismiss button. Support success, warning, error types. Auto-dismiss after 5 seconds unless pinned.\"\n\nAnalyzing requirements...\n  ‚úì Component: NotificationCard\n  ‚úì Elements: Icon, Title, Message, Timestamp, DismissButton\n  ‚úì Variants: Success, Warning, Error\n  ‚úì Behavior: Auto-dismiss (5s), Pinnable\n  ‚úì Props inferred: type, title, message, timestamp, onDismiss, pinned, autoDismiss\n\nGenerating:\n  ‚úì NotificationCard.tsx (with useEffect for auto-dismiss)\n  ‚úì NotificationCard.stories.tsx (8 variants)\n  ‚úì TypeScript interfaces\n  ‚úì Accessibility attributes\n\nDone! Component ready with:\n- Success/Warning/Error variants\n- Auto-dismiss functionality\n- Pinned mode\n- WCAG 2.2 compliant\n```\n\nUses the `component-generator` agent for intelligent code generation.\n",
        "commands/generate-stories.md": "---\ndescription: Generate story files for existing components with interaction tests, accessibility checks, and multiple variants\n---\n\n# Generate Stories Command\n\nWhen the user invokes `/generate-stories`, scan the project for components and generate Storybook stories with SOTA patterns including interaction tests, accessibility checks, and intelligent variant generation.\n\n## Workflow Overview\n\nThis command integrates the component parser system with an interactive workflow:\n\n1. **Scan**: Discover all components in the project using `scan_components.py`\n2. **Present**: Show discovered components to user via AskUserQuestion\n3. **Select**: User selects components and testing preferences\n4. **Generate**: Create story files using `generate_story.py` for each selected component\n5. **Report**: Display summary of generated files\n\n## Execution Steps\n\n### Step 1: Scan for Components\n\nRun the component discovery workflow:\n\n```bash\nbash ${CLAUDE_PLUGIN_ROOT}/commands/scripts/generate-stories-workflow.sh src json\n```\n\nThis script:\n- Scans the project using `scan_components.py`\n- Discovers all React, Vue, and Svelte components\n- Parses component metadata (props, types, variants)\n- Classifies components by type (button, card, modal, etc.)\n- Outputs JSON data for Claude to process\n\n### Step 2: Parse Component Data\n\nAfter receiving the JSON output from the scan, parse it to create options for AskUserQuestion:\n\n```python\nimport json\n\n# Parse the component scan results\ncomponents = json.loads(scan_output)\n\n# Create options for AskUserQuestion\ncomponent_options = []\nfor comp in components:\n    name = comp['name']\n    path = comp['file_path']\n    props_count = len(comp.get('props', []))\n    comp_type = comp.get('component_type', 'component')\n    variants = comp.get('detected_variants', [])\n    variant_count = len(variants)\n\n    component_options.append({\n        \"label\": f\"{name} ({path.split('/')[-1]})\",\n        \"description\": f\"{props_count} props ‚Ä¢ {comp_type} ‚Ä¢ {variant_count} variants detected\",\n        \"value\": path  # Store full path for later use\n    })\n```\n\n### Step 3: Present Options to User\n\nUse AskUserQuestion to let the user select components and testing preferences:\n\n```javascript\n// Use the parsed component_options from Step 2\n\nAskUserQuestion({\n  questions: [\n    {\n      question: `I found ${components.length} components. Which should I generate stories for?`,\n      header: \"Components\",\n      multiSelect: true,\n      options: component_options  // From Step 2 parsing\n    },\n    {\n      question: \"What level of testing should I include in the stories?\",\n      header: \"Test Level\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Full Testing\",\n          description: \"Recommended: Interaction tests, accessibility tests, multiple variants, and edge cases\"\n        },\n        {\n          label: \"Standard Testing\",\n          description: \"Interaction tests and multiple variants (no accessibility tests)\"\n        },\n        {\n          label: \"Basic Stories\",\n          description: \"Multiple variants with args/controls only (no automated tests)\"\n        },\n        {\n          label: \"Minimal\",\n          description: \"Single story per component with default props\"\n        }\n      ]\n    },\n    {\n      question: \"Should I generate visual mockups for complex components?\",\n      header: \"Mockups\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Yes\",\n          description: \"Recommended: Generate mockups for Card, Modal, Table (requires OPENROUTER_API_KEY)\"\n        },\n        {\n          label: \"No\",\n          description: \"Generate stories only\"\n        }\n      ]\n    }\n  ]\n})\n```\n\n### Step 4: Process User Selections\n\nAfter receiving user answers, process the selections and prepare for batch generation:\n\n```python\n# Extract user selections from AskUserQuestion response\nselected_components = answers['Components']  # List of file paths\ntesting_level_raw = answers['Testing Level']\ngenerate_mockups_raw = answers['Visual Mockups']\n\n# Map testing level to script parameter\ntesting_level_map = {\n    \"Full Testing (Recommended)\": \"full\",\n    \"Standard Testing\": \"standard\",\n    \"Basic Stories\": \"basic\",\n    \"Minimal\": \"minimal\"\n}\ntesting_level = testing_level_map.get(testing_level_raw, \"full\")\n\n# Map mockup option to boolean\ngenerate_mockups = \"Yes\" in generate_mockups_raw\n\n# Write selected component paths to temp file for batch script\nimport tempfile\ntemp_file = tempfile.NamedTemporaryFile(mode='w', delete=False, suffix='.txt')\nfor path in selected_components:\n    temp_file.write(f\"{path}\\n\")\ntemp_file.close()\n\n# Store temp file path\ncomponent_paths_file = temp_file.name\n```\n\n### Step 5: Generate Stories\n\nInvoke the batch generation script with user selections:\n\n```bash\nbash ${CLAUDE_PLUGIN_ROOT}/commands/scripts/batch-generate-stories.sh \\\n  \"${component_paths_file}\" \\\n  \"${testing_level}\" \\\n  \"${generate_mockups}\"\n```\n\nThis script will:\n- Read the list of selected component paths\n- For each component:\n  - Parse component metadata using `parse_component.py`\n  - Detect variants using `detect_variants.py`\n  - Generate story file using `generate_story.py` with appropriate template\n  - Optionally queue visual mockup generation for complex components\n- Display progress and summary\n\n### Step 6: Report Results\n\nAfter batch generation completes, the script outputs a summary:\n\n```\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n  Story Generation Summary\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n‚úì Successfully generated: 5 stories\n‚Ñπ Mockups queued: 2\n\nGenerated Files:\n  ‚úì src/components/Button.stories.tsx\n  ‚úì src/components/Card.stories.tsx\n  ‚úì src/components/Modal.stories.tsx\n  ‚úì src/components/Table.stories.tsx\n  ‚úì src/components/Input.stories.tsx\n\nNext Steps:\n  1. Run Storybook: npm run storybook\n  2. Review generated stories in your browser\n  3. Run interaction tests: npm run test-storybook\n  4. Run accessibility tests: npm run storybook -- --test-runner\n```\n\n## Generated Story Structure\n\nFor each selected component, the system generates stories based on the testing level:\n\n#### Full Testing (SOTA Pattern)\n\n```typescript\n// Button.stories.tsx\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { expect, userEvent, within } from '@storybook/test';\nimport { Button } from './Button';\n\nconst meta = {\n  title: 'Components/Button',\n  component: Button,\n  parameters: {\n    layout: 'centered',\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    variant: {\n      control: 'select',\n      options: ['primary', 'secondary', 'outline', 'ghost'],\n      description: 'Button visual style',\n    },\n    size: {\n      control: 'select',\n      options: ['small', 'medium', 'large'],\n    },\n    disabled: {\n      control: 'boolean',\n    },\n    onClick: { action: 'clicked' },\n  },\n} satisfies Meta<typeof Button>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Variant stories\nexport const Primary: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Button',\n  },\n};\n\nexport const Secondary: Story = {\n  args: {\n    variant: 'secondary',\n    children: 'Button',\n  },\n};\n\nexport const Outline: Story = {\n  args: {\n    variant: 'outline',\n    children: 'Button',\n  },\n};\n\n// Size variants\nexport const Small: Story = {\n  args: {\n    size: 'small',\n    children: 'Small Button',\n  },\n};\n\nexport const Large: Story = {\n  args: {\n    size: 'large',\n    children: 'Large Button',\n  },\n};\n\n// State variants\nexport const Disabled: Story = {\n  args: {\n    disabled: true,\n    children: 'Disabled Button',\n  },\n};\n\n// Interaction test\nexport const WithInteraction: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Click Me',\n  },\n  play: async ({ canvasElement, args }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button', { name: /click me/i });\n\n    // Test button is rendered\n    await expect(button).toBeInTheDocument();\n\n    // Test click interaction\n    await userEvent.click(button);\n\n    // Verify onClick was called (action)\n    await expect(args.onClick).toHaveBeenCalled();\n\n    // Test button is not disabled\n    await expect(button).not.toBeDisabled();\n  },\n};\n\n// Accessibility test\nexport const AccessibilityValidation: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Accessible Button',\n  },\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          { id: 'button-name', enabled: true },\n          { id: 'color-contrast', enabled: true },\n          { id: 'focus-visible', enabled: true },\n        ],\n      },\n    },\n  },\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n\n    // Test keyboard accessibility\n    button.focus();\n    await expect(button).toHaveFocus();\n\n    // Test Enter key\n    await userEvent.keyboard('{Enter}');\n  },\n};\n\n// Edge cases\nexport const LongText: Story = {\n  args: {\n    children: 'This is a button with very long text that might wrap',\n  },\n};\n\nexport const WithIcon: Story = {\n  args: {\n    children: (\n      <>\n        <span>Icon Button</span>\n        <span>‚Üí</span>\n      </>\n    ),\n  },\n};\n```\n\n#### Standard Testing\n\nSame as Full Testing but without accessibility test story.\n\n#### Basic Stories\n\n```typescript\n// Button.stories.tsx\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { Button } from './Button';\n\nconst meta = {\n  title: 'Components/Button',\n  component: Button,\n  tags: ['autodocs'],\n} satisfies Meta<typeof Button>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Primary: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Button',\n  },\n};\n\nexport const Secondary: Story = {\n  args: {\n    variant: 'secondary',\n    children: 'Button',\n  },\n};\n```\n\n#### Minimal\n\n```typescript\n// Button.stories.tsx\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { Button } from './Button';\n\nconst meta = {\n  title: 'Components/Button',\n  component: Button,\n} satisfies Meta<typeof Button>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Default: Story = {\n  args: {\n    children: 'Button',\n  },\n};\n```\n\n### Phase 4: Intelligent Variant Detection\n\nThe skill automatically generates variants based on:\n\n**1. Enum/Union Props**\n```typescript\n// If prop type is: variant: 'primary' | 'secondary' | 'outline'\n// Generate stories: Primary, Secondary, Outline\n```\n\n**2. Size Props**\n```typescript\n// If prop: size: 'small' | 'medium' | 'large'\n// Generate: Small, Medium, Large variants\n```\n\n**3. Boolean Props**\n```typescript\n// If prop: disabled?: boolean\n// Generate: Normal + Disabled variants\n```\n\n**4. Component Type**\n- **Form inputs**: Focus, error, disabled states\n- **Modals**: Open, closed, with actions\n- **Tables**: Empty, loading, paginated\n- **Cards**: With/without image, different layouts\n\n### Phase 5: Visual Mockup Generation (Optional)\n\nIf user enabled visual generation and OPENROUTER_API_KEY available:\n\n```python\n# Generate mockup for complex components\npython ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_mockup.py \\\n  \"${COMPONENT_TYPE} component with ${DETECTED_VARIANTS}. \\\n   Framework: ${FRAMEWORK}. Design system: ${DESIGN_SYSTEM}. \\\n   Modern, clean UI.\" \\\n  --output mockups/${COMPONENT_NAME}.png\n```\n\n**Generate mockups for:**\n- Card components\n- Modal dialogs\n- Tables with data\n- Form layouts\n- Navigation menus\n\n**Skip mockups for:**\n- Simple buttons\n- Input fields\n- Icons\n- Badges\n\n### Phase 6: Completion Summary\n\n```\n‚úÖ Generated Stories: ${STORIES_COUNT} components\n\nComponents:\n${COMPONENT_LIST.map(c => `  ‚úì ${c.name} - ${c.storiesCount} stories`)}\n\nTesting:\n${INTERACTION_TESTS ? `  ‚úì Interaction tests: ${INTERACTION_COUNT}` : \"\"}\n${A11Y_TESTS ? `  ‚úì Accessibility tests: ${A11Y_COUNT}` : \"\"}\n${VISUAL_MOCKUPS ? `  ‚úì Visual mockups: ${MOCKUP_COUNT}` : \"\"}\n\nNext Steps:\n1. Run: npm run storybook\n2. Review generated stories\n3. Customize as needed\n4. Add more interaction tests with /testing-suite\n\nFiles Created:\n${GENERATED_FILES.map(f => `  - ${f}`).join('\\n')}\n```\n\n## Component Parsing\n\n### TypeScript Interface Parsing\n\n```typescript\n// Parse component props from TypeScript\ninterface ButtonProps {\n  variant: 'primary' | 'secondary' | 'outline'; // ‚Üí Generate 3 variant stories\n  size?: 'small' | 'medium' | 'large';          // ‚Üí Generate 3 size stories\n  disabled?: boolean;                             // ‚Üí Generate disabled story\n  onClick?: () => void;                           // ‚Üí Add to argTypes with action\n  children: React.ReactNode;                      // ‚Üí Default to 'Button'\n}\n```\n\n### Vue Props Parsing\n\n```typescript\n// Parse from defineProps\nconst props = defineProps<{\n  variant: 'primary' | 'secondary';\n  size?: 'small' | 'large';\n  disabled?: boolean;\n}>();\n```\n\n### Svelte Props Parsing\n\n```typescript\n// Parse from export let\nexport let variant: 'primary' | 'secondary' = 'primary';\nexport let size: 'small' | 'large' = 'medium';\nexport let disabled = false;\n```\n\n## Platform-Specific Considerations\n\n### Tauri Components\n\nIf component uses `window.__TAURI__`:\n```typescript\n// Auto-generate mock in story\nexport const WithTauriAPI: Story = {\n  args: { /* ... */ },\n  decorators: [\n    (Story) => {\n      // Mock Tauri API for this story\n      if (typeof window !== 'undefined') {\n        window.__TAURI__ = {\n          invoke: async (cmd) => ({ success: true }),\n        };\n      }\n      return <Story />;\n    },\n  ],\n};\n```\n\n### Electron Components\n\nIf component uses `window.api`:\n```typescript\n// Auto-generate mock in story\nexport const WithElectronAPI: Story = {\n  args: { /* ... */ },\n  decorators: [\n    (Story) => {\n      if (typeof window !== 'undefined') {\n        window.api = electronMocks;\n      }\n      return <Story />;\n    },\n  ],\n};\n```\n\n## Error Handling\n\n- **No components found**: Inform user, suggest component paths to scan\n- **Parse error**: Skip component, log warning, continue with others\n- **Existing stories**: Ask if user wants to overwrite or skip\n- **OPENROUTER_API_KEY missing**: Skip visual generation, inform user\n\n## Notes\n\n- Always generate TypeScript stories (even for JS components)\n- Include CSF 3.0 patterns (satisfies Meta<typeof Component>)\n- Add 'autodocs' tag to all generated stories\n- Use framework-specific testing imports (@storybook/test)\n- Generate mockups only for complex components\n- Respect user's testing level selection\n",
        "commands/setup-ci-cd.md": "---\nallowed-tools:\n  - Read\n  - Write\n  - Bash\ndescription: Generate production-ready CI/CD pipelines for Storybook\nargument-hint: \"\"\n---\n\n# Setup CI/CD Command\n\nOne-command CI/CD pipeline generation.\n\n## Usage\n\n```bash\n/setup-ci-cd\n```\n\nGenerates:\n- GitHub Actions workflows\n- Chromatic visual regression\n- Vercel/Netlify deployment\n- PR preview comments\n- Bundle size tracking\n\nInteractive setup guides you through configuration.\n",
        "commands/setup-storybook.md": "---\ndescription: Initialize Storybook 10 in your project with automatic framework detection, SOTA configuration, and optional visual generation\n---\n\n# Setup Storybook Command\n\nWhen the user invokes `/setup-storybook`, initialize Storybook 10 with automatic framework detection, testing features, and SOTA best practices for 2026.\n\n> **IMPORTANT: Storybook 10 Changes**\n> - `@storybook/addon-essentials` is **DEPRECATED and REMOVED** - essential features are now built into core\n> - `@storybook/addon-interactions`, `@storybook/addon-links`, `@storybook/blocks` are also removed\n> - Actions, backgrounds, controls, viewport, measure, outline, toolbars are **built-in by default**\n> - Only install addons for features NOT in core: `@storybook/addon-docs`, `@storybook/addon-a11y`, `@storybook/addon-vitest`\n\n## Execution Flow\n\n### Phase 1: Environment & Project Analysis\n\n1. **Detect Framework**\n   ```bash\n   bash ${CLAUDE_PLUGIN_ROOT}/scripts/detect-framework.sh\n   ```\n\n   This returns:\n   - `FRAMEWORK` (react, vue, svelte, angular, nextjs, solid, lit, unknown)\n   - `VERSION` (framework version)\n   - `BUNDLER` (vite, webpack, unknown)\n   - `PLATFORM` (web, tauri, electron)\n   - `DESIGN_SYSTEM` (mui, antd, shadcn, chakra, mantine, custom)\n\n2. **Check Existing Storybook**\n   - If `.storybook/` exists, inform user and offer migration\n   - If Storybook < 10, suggest `/migrate-storybook` command\n\n3. **Validate Prerequisites**\n   - Node.js >= 20\n   - npm >= 10\n   - Framework version compatible with Storybook 10\n\n### Phase 2: User Configuration (AskUserQuestion)\n\n**CRITICAL: Make questions context-aware and project-specific, NOT generic.**\n\nUse the detected framework, platform, and design system to customize options.\n\n#### Question 1: Testing Features\n\n```javascript\nAskUserQuestion({\n  questions: [{\n    question: `Which testing features do you want for your ${FRAMEWORK} components?`,\n    header: \"Testing\",\n    multiSelect: true,\n    options: [\n      {\n        label: \"Interaction Tests\",\n        description: \"Recommended: Test user interactions with play functions powered by Vitest + Playwright\"\n      },\n      {\n        label: \"Accessibility Tests\",\n        description: \"Recommended: WCAG compliance testing with axe-core (catches 57% of issues automatically)\"\n      },\n      {\n        label: \"Visual Regression Tests\",\n        description: \"Pixel-perfect UI change detection (requires Chromatic or custom setup)\"\n      },\n      {\n        label: \"Test Coverage Reports\",\n        description: \"V8-powered code coverage analysis (faster than Istanbul)\"\n      }\n    ]\n  }]\n})\n```\n\n#### Question 2: Design System Integration\n\n**Only ask if design system detected OR if user wants to configure:**\n\n```javascript\n// If DESIGN_SYSTEM !== 'custom'\nAskUserQuestion({\n  questions: [{\n    question: `I detected ${DESIGN_SYSTEM}. How should Storybook integrate?`,\n    header: \"Design System\",\n    multiSelect: false,\n    options: [\n      {\n        label: `Import ${DESIGN_SYSTEM} theme globally`,\n        description: `Recommended: Apply your existing ${DESIGN_SYSTEM} theme to all stories automatically`\n      },\n      {\n        label: \"Per-story theme control\",\n        description: \"Allow each story to specify its own theme via parameters\"\n      },\n      {\n        label: \"No automatic integration\",\n        description: \"I'll handle theme setup manually\"\n      }\n    ]\n  }]\n})\n\n// If DESIGN_SYSTEM === 'custom'\nAskUserQuestion({\n  questions: [{\n    question: \"Do you have a custom design system or theme?\",\n    header: \"Design System\",\n    multiSelect: false,\n    options: [\n      {\n        label: \"Yes - I have a ThemeProvider\",\n        description: \"Wrap all stories with my existing theme context\"\n      },\n      {\n        label: \"Yes - CSS variables/Tailwind\",\n        description: \"Import global styles in Storybook\"\n      },\n      {\n        label: \"No - Starting fresh\",\n        description: \"Help me create a basic design system\"\n      }\n    ]\n  }]\n})\n```\n\n#### Question 3: Platform-Specific Setup (if Tauri or Electron detected)\n\n```javascript\n// If PLATFORM === 'tauri'\nAskUserQuestion({\n  questions: [{\n    question: \"I detected a Tauri project. How should I handle Tauri IPC in stories?\",\n    header: \"Tauri IPC\",\n    multiSelect: false,\n    options: [\n      {\n        label: \"Generate IPC mock utilities\",\n        description: \"Recommended: Create window.api mock helpers for testing components in isolation\"\n      },\n      {\n        label: \"I'll mock IPC manually\",\n        description: \"Skip mock generation, I'll handle it myself\"\n      }\n    ]\n  }]\n})\n\n// If PLATFORM === 'electron'\n// Show warning + architectural guidance\nconsole.log(`\n‚ö†Ô∏è  Electron Project Detected\n\nStorybook works best with Electron for pure UI components.\nComponents using window.api.* will need mocking.\n\nRecommendation: Separate UI components from IPC logic using container/presentational pattern.\n\nI'll configure Storybook with Electron-specific webpack overrides.\n`)\n\nAskUserQuestion({\n  questions: [{\n    question: \"Would you like me to generate Electron preload API mocks?\",\n    header: \"Electron Mocks\",\n    multiSelect: false,\n    options: [\n      {\n        label: \"Yes\",\n        description: \"Recommended: Generate window.api mock utilities and architectural guidance\"\n      },\n      {\n        label: \"No\",\n        description: \"Skip mock generation\"\n      }\n    ]\n  }]\n})\n```\n\n#### Question 4: Visual Generation (only if OPENROUTER_API_KEY available)\n\n```javascript\n// Only ask if OPENROUTER_API_KEY is set\nif (OPENROUTER_API_KEY_AVAILABLE) {\n  AskUserQuestion({\n    questions: [{\n      question: \"Would you like me to generate a visual style guide for your components?\",\n      header: \"Visual Assets\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Yes - Generate style guide\",\n          description: \"Recommended: AI-generated style guide with colors, typography, spacing, and component examples\"\n        },\n        {\n          label: \"Yes - Generate mockup examples only\",\n          description: \"Create visual mockups for a few example components\"\n        },\n        {\n          label: \"No - Skip visual generation\",\n          description: \"Set up Storybook only, no AI-generated visuals\"\n        }\n      ]\n    }]\n  })\n}\n```\n\n### Phase 3: Installation\n\nBased on detected framework and user preferences, install dependencies:\n\n> **Storybook 10:** Essential addons (actions, backgrounds, controls, viewport) are now **built-in**.\n> Do NOT install `@storybook/addon-essentials` - it's deprecated and removed.\n\n```bash\n# Core Storybook 10\nnpm install --save-dev storybook@latest\n\n# Framework-specific (pick one based on detection)\n# React\nnpm install --save-dev @storybook/react-vite@latest\n\n# Vue\nnpm install --save-dev @storybook/vue3-vite@latest\n\n# Svelte\nnpm install --save-dev @storybook/svelte-vite@latest\n\n# Angular\nnpm install --save-dev @storybook/angular@latest\n\n# Next.js\nnpm install --save-dev @storybook/nextjs-vite@latest\n\n# Documentation addon (if needed)\nnpx storybook@latest add @storybook/addon-docs\n\n# If interaction tests selected\nnpx storybook@latest add @storybook/addon-vitest\nnpm install --save-dev @testing-library/react @testing-library/user-event\n\n# If accessibility tests selected\nnpx storybook@latest add @storybook/addon-a11y\n\n# If coverage selected\nnpm install --save-dev @vitest/coverage-v8\n```\n\n### Phase 4: Configuration Generation\n\nGenerate `.storybook/main.ts` with SOTA patterns:\n\n> **Storybook 10:** Do NOT include `@storybook/addon-essentials` or `@storybook/addon-links` - they are deprecated/removed.\n> Essential features (actions, backgrounds, controls, viewport) are now built into core.\n\n```typescript\nimport type { StorybookConfig } from '@storybook/${FRAMEWORK}-vite';\n\nconst config: StorybookConfig = {\n  stories: [\n    '../src/**/*.mdx',\n    '../src/**/*.stories.@(js|jsx|mjs|ts|tsx)'\n  ],\n\n  addons: [\n    // NOTE: addon-essentials is REMOVED in Storybook 10 - features are built-in\n    '@storybook/addon-docs', // Documentation (still separate addon)\n    // Conditional addons based on user selection\n    ${INTERACTION_TESTS ? \"'@storybook/addon-vitest',\" : \"\"}\n    ${A11Y_TESTS ? \"'@storybook/addon-a11y',\" : \"\"}\n  ],\n\n  framework: {\n    name: '@storybook/${FRAMEWORK}-vite',\n    options: {\n      ${FRAMEWORK_SPECIFIC_OPTIONS}\n    },\n  },\n\n  docs: {\n    autodocs: 'tag', // Auto-generate docs for stories tagged with 'autodocs'\n  },\n\n  ${PLATFORM === 'electron' ? `\n  // Electron-specific webpack overrides\n  webpackFinal: async (config) => {\n    config.target = 'web'; // Override electron-renderer\n    config.externals = {}; // Clear Electron externals\n    config.resolve.alias = {\n      ...(config.resolve?.alias || {}),\n      electron: false // Mock electron module\n    };\n    return config;\n  },\n  ` : \"\"}\n\n  // Vite optimization for faster builds\n  viteFinal: async (config) => {\n    return {\n      ...config,\n      optimizeDeps: {\n        ...config.optimizeDeps,\n        include: [\n          ...(config.optimizeDeps?.include || []),\n          '@storybook/blocks',\n        ],\n      },\n    };\n  },\n\n  // Performance: Enable test mode for CI\n  build: {\n    test: {\n      disabledAddons: ['@storybook/addon-docs'], // Faster builds in CI\n    },\n  },\n};\n\nexport default config;\n```\n\nGenerate `.storybook/preview.ts` with theme integration:\n\n```typescript\nimport type { Preview } from '@storybook/${FRAMEWORK}-vite';\n\n${DESIGN_SYSTEM_IMPORTS}\n\nconst preview: Preview = {\n  parameters: {\n    // SOTA: Better action logging\n    actions: { argTypesRegex: '^on[A-Z].*' },\n\n    // SOTA: Default controls behavior\n    controls: {\n      matchers: {\n        color: /(background|color)$/i,\n        date: /Date$/i,\n      },\n      expanded: true, // Show all controls by default\n    },\n\n    // SOTA: Better layout defaults\n    layout: 'centered',\n\n    ${A11Y_TESTS ? `\n    // Accessibility: Configure axe-core\n    a11y: {\n      config: {\n        rules: [\n          {\n            id: 'color-contrast',\n            enabled: true,\n          },\n        ],\n      },\n    },\n    ` : \"\"}\n\n    // SOTA: Better backgrounds\n    backgrounds: {\n      default: 'light',\n      values: [\n        { name: 'light', value: '#ffffff' },\n        { name: 'dark', value: '#1a1a1a' },\n        { name: 'gray', value: '#f5f5f5' },\n      ],\n    },\n\n    // SOTA: Responsive viewports\n    viewport: {\n      viewports: {\n        mobile: { name: 'Mobile', styles: { width: '375px', height: '667px' } },\n        tablet: { name: 'Tablet', styles: { width: '768px', height: '1024px' } },\n        desktop: { name: 'Desktop', styles: { width: '1280px', height: '800px' } },\n      },\n    },\n  },\n\n  ${DESIGN_SYSTEM_DECORATORS}\n\n  ${PLATFORM === 'tauri' || PLATFORM === 'electron' ? `\n  // Platform mock decorators\n  decorators: [\n    (Story) => {\n      // Mock platform APIs\n      if (typeof window !== 'undefined' && !window.api) {\n        window.api = ${PLATFORM}_MOCKS;\n      }\n      return Story();\n    },\n  ],\n  ` : \"\"}\n\n  // Global types (for toolbar customization)\n  globalTypes: {\n    theme: {\n      description: 'Global theme for components',\n      defaultValue: 'light',\n      toolbar: {\n        title: 'Theme',\n        icon: 'circlehollow',\n        items: ['light', 'dark'],\n        dynamicTitle: true,\n      },\n    },\n  },\n};\n\nexport default preview;\n```\n\n### Phase 5: Example Stories Generation\n\nCreate initial example stories to demonstrate SOTA patterns:\n\n```typescript\n// src/components/Button/Button.stories.tsx\nimport type { Meta, StoryObj } from '@storybook/${FRAMEWORK}';\nimport { expect, userEvent, within } from '@storybook/test';\nimport { Button } from './Button';\n\nconst meta = {\n  title: 'Components/Button',\n  component: Button,\n  parameters: {\n    layout: 'centered',\n  },\n  tags: ['autodocs'], // Auto-generate documentation\n  argTypes: {\n    variant: {\n      control: 'select',\n      options: ['primary', 'secondary', 'outline'],\n    },\n    size: {\n      control: 'select',\n      options: ['small', 'medium', 'large'],\n    },\n  },\n} satisfies Meta<typeof Button>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// SOTA: Basic variants\nexport const Primary: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Button',\n  },\n};\n\nexport const Secondary: Story = {\n  args: {\n    variant: 'secondary',\n    children: 'Button',\n  },\n};\n\n// SOTA: Interaction test with play function\nexport const WithInteraction: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Click me',\n  },\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button', { name: /click me/i });\n\n    // Test interaction\n    await userEvent.click(button);\n\n    // Verify state or behavior\n    await expect(button).toBeInTheDocument();\n  },\n};\n\n// SOTA: Accessibility test\nexport const AccessibilityTest: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Accessible Button',\n  },\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          {\n            id: 'button-name',\n            enabled: true,\n          },\n          {\n            id: 'color-contrast',\n            enabled: true,\n          },\n        ],\n      },\n    },\n  },\n};\n```\n\n### Phase 6: Platform-Specific Setup\n\n#### For Tauri Projects:\n\nGenerate `.storybook/tauri-mocks.ts`:\n\n```typescript\nexport const tauriMocks = {\n  invoke: async (cmd: string, args?: any) => {\n    console.log(`[Tauri Mock] invoke: ${cmd}`, args);\n\n    // Mock responses for common commands\n    const mockResponses: Record<string, any> = {\n      'read_file': { content: 'Mock file content' },\n      'write_file': { success: true },\n      'get_config': { theme: 'dark', language: 'en' },\n    };\n\n    return mockResponses[cmd] || { success: true };\n  },\n\n  listen: (event: string, handler: Function) => {\n    console.log(`[Tauri Mock] listen: ${event}`);\n\n    // Return unsubscribe function\n    return () => {\n      console.log(`[Tauri Mock] unsubscribe: ${event}`);\n    };\n  },\n};\n\n// Inject into window during Storybook initialization\nif (typeof window !== 'undefined') {\n  (window as any).__TAURI__ = tauriMocks;\n}\n```\n\n#### For Electron Projects:\n\nGenerate `.storybook/electron-mocks.ts`:\n\n```typescript\nexport const electronMocks = {\n  readDir: async (path: string) => {\n    console.log(`[Electron Mock] readDir: ${path}`);\n    return ['file1.txt', 'file2.txt', 'folder1'];\n  },\n\n  readFile: async (path: string) => {\n    console.log(`[Electron Mock] readFile: ${path}`);\n    return 'Mock file content';\n  },\n\n  writeFile: async (path: string, content: string) => {\n    console.log(`[Electron Mock] writeFile: ${path}`, content);\n    return { success: true };\n  },\n\n  saveConfig: async (config: any) => {\n    console.log(`[Electron Mock] saveConfig:`, config);\n    return { success: true };\n  },\n};\n\n// Inject into window.api\nif (typeof window !== 'undefined') {\n  (window as any).api = electronMocks;\n}\n```\n\nGenerate architectural guidance document: `docs/ELECTRON_PATTERNS.md`\n\n### Phase 7: Visual Generation (if enabled and OPENROUTER_API_KEY available)\n\nIf user selected visual generation:\n\n```bash\n# Generate style guide\npython ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_style_guide.py \\\n  --framework ${FRAMEWORK} \\\n  --design-system ${DESIGN_SYSTEM} \\\n  --output .storybook/public/style-guide.png\n\n# Generate component mockup example\npython ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_mockup.py \\\n  \"Modern ${FRAMEWORK} button component with primary, secondary, and outline variants. \\\n   ${DESIGN_SYSTEM} design system style. Clean, professional.\" \\\n  --output .storybook/public/button-mockup.png\n```\n\n### Phase 8: Update package.json Scripts\n\nAdd Storybook scripts with SOTA configuration:\n\n```json\n{\n  \"scripts\": {\n    \"storybook\": \"storybook dev -p 6006\",\n    \"build-storybook\": \"storybook build\",\n    \"test-storybook\": \"test-storybook\",\n    \"storybook:test\": \"storybook dev --test\",\n    \"storybook:coverage\": \"test-storybook --coverage\"\n  }\n}\n```\n\n### Phase 9: Completion Summary\n\n```\n‚úÖ Storybook 10 Setup Complete!\n\nConfigured for: ${FRAMEWORK} ${VERSION} (${BUNDLER})\nPlatform: ${PLATFORM}\nDesign System: ${DESIGN_SYSTEM}\n\nFeatures Enabled:\n${INTERACTION_TESTS ? \"‚úì Interaction Tests (Vitest + Playwright)\" : \"\"}\n${A11Y_TESTS ? \"‚úì Accessibility Tests (axe-core)\" : \"\"}\n${VISUAL_TESTS ? \"‚úì Visual Regression Tests\" : \"\"}\n${COVERAGE ? \"‚úì Code Coverage (V8)\" : \"\"}\n${VISUAL_GENERATION ? \"‚úì Visual Generation (Style guide & mockups)\" : \"\"}\n\nNext Steps:\n1. Run: npm run storybook\n2. Open: http://localhost:6006\n3. Generate stories: /generate-stories\n4. Create components: /create-component\n\nFiles Created:\n- .storybook/main.ts (Storybook configuration)\n- .storybook/preview.ts (Theme & decorators)\n${PLATFORM === 'tauri' ? \"- .storybook/tauri-mocks.ts (IPC mocks)\" : \"\"}\n${PLATFORM === 'electron' ? \"- .storybook/electron-mocks.ts (Preload API mocks)\" : \"\"}\n${PLATFORM === 'electron' ? \"- docs/ELECTRON_PATTERNS.md (Architectural guidance)\" : \"\"}\n- src/components/Button/Button.stories.tsx (Example story)\n${VISUAL_GENERATION ? \"- .storybook/public/style-guide.png (Visual style guide)\" : \"\"}\n\nDocumentation: See .storybook/README.md for configuration details\n```\n\n## Error Handling\n\n- If framework not detected: Ask user to specify framework manually\n- If Node.js < 20: Show upgrade instructions\n- If npm < 10: Warn but continue\n- If OPENROUTER_API_KEY missing: Skip visual generation, inform user\n- If installation fails: Show error, suggest troubleshooting steps\n\n## Notes\n\n- Always use the latest Storybook 10 packages\n- **Do NOT use `@storybook/addon-essentials`** - it's deprecated in Storybook 10\n- Essential features (actions, backgrounds, controls, viewport) are built into core\n- Prefer Vite over Webpack for faster builds\n- Include SOTA patterns: play functions, a11y tests, coverage\n- Make visual generation truly optional\n- Provide clear platform-specific guidance (Tauri full support, Electron partial)\n",
        "commands/setup-visual-testing.md": "---\nname: setup-visual-testing\ndescription: Set up AI-powered visual regression testing for Storybook with intelligent diff analysis and auto-approval rules\nallowed-tools:\n  - Read\n  - Write\n  - Edit\n  - Bash\n  - Grep\n  - Glob\n  - AskUserQuestion\nargument-hint: \"[--chromatic] [--percy]\"\n---\n\n# Setup Visual Regression Testing\n\nSet up AI-powered visual regression testing for your Storybook project. This command configures intelligent visual diff analysis that understands the difference between intentional design changes and actual bugs.\n\n## What This Command Does\n\n1. **Detects your environment**\n   - Framework (React, Vue, Svelte, etc.)\n   - Build tool (Vite, Webpack)\n   - Existing visual testing tools (Chromatic, Percy)\n   - CI/CD provider (GitHub Actions, GitLab, CircleCI)\n\n2. **Asks for your preferences**\n   - Integration with Chromatic/Percy (optional)\n   - Auto-approval rules\n   - Pixel difference threshold\n   - CI/CD integration\n\n3. **Installs dependencies**\n   - `@storybook/test-runner`\n   - `playwright`\n   - `pixelmatch` (for pixel diff)\n   - Python dependencies (for AI analysis)\n\n4. **Creates configuration files**\n   - `.storybook/test-runner-config.ts` - Test runner setup\n   - `.storybook/visual-regression.config.ts` - AI analysis config\n   - `scripts/visual-regression/analyze_diff.py` - AI analysis engine\n   - `.github/workflows/visual-regression.yml` - CI integration (optional)\n\n5. **Captures baseline screenshots**\n   - Renders all Storybook stories\n   - Takes screenshots of each variant\n   - Stores baselines in `.storybook/visual-baselines/`\n\n6. **Sets up NPM scripts**\n   - `npm run test:visual` - Run visual regression tests\n   - `npm run test:visual:update` - Update baselines\n   - `npm run test:visual:interactive` - Interactive review mode\n\n## Usage\n\n```bash\n# Basic setup\n/setup-visual-testing\n\n# With Chromatic integration\n/setup-visual-testing --chromatic\n\n# With Percy integration\n/setup-visual-testing --percy\n```\n\n## Instructions\n\n### Step 1: Detect Environment\n\nRead the user's project to detect:\n- Framework and build tool\n- Existing Storybook configuration\n- Current testing setup\n- CI/CD configuration\n\n```bash\n# Check package.json for dependencies\n# Check .storybook/main.ts for configuration\n# Check .github/workflows for CI setup\n```\n\n### Step 2: Ask User Preferences\n\nUse AskUserQuestion to clarify:\n\n1. **Integration preference**:\n   - \"Standalone (recommended)\" - Pure AI analysis\n   - \"Chromatic integration\" - Combine with Chromatic\n   - \"Percy integration\" - Combine with Percy\n\n2. **Auto-approval rules**:\n   - \"Conservative (manual review)\" - Approve nothing automatically\n   - \"Balanced (recommended)\" - Auto-approve token changes, anti-aliasing\n   - \"Aggressive (CI-friendly)\" - Auto-approve most changes\n\n3. **CI/CD integration**:\n   - \"Yes\" - Set up GitHub Actions workflow\n   - \"No\" - Manual testing only\n\n### Step 3: Install Dependencies\n\n```bash\nnpm install --save-dev @storybook/test-runner playwright pixelmatch\nnpx playwright install chromium\n```\n\nIf Python scripts needed:\n```bash\npip install Pillow anthropic python-dotenv\n```\n\n### Step 4: Create Test Runner Configuration\n\nCreate `.storybook/test-runner-config.ts`:\n\n```typescript\nimport { getStoryContext } from '@storybook/test-runner';\nimport { analyzeVisualDiff } from './visual-regression-ai';\nimport { compareImages } from './visual-regression-utils';\n\nexport default {\n  async postRender(page, context) {\n    const storyContext = await getStoryContext(page, context);\n    const storyId = context.id;\n\n    // Capture screenshot\n    const screenshot = await page.screenshot({ fullPage: true });\n\n    // Compare with baseline\n    const baselinePath = `.storybook/visual-baselines/${storyId}.png`;\n    const diff = await compareImages(baselinePath, screenshot);\n\n    if (diff && diff.pixelsChanged > 0) {\n      // AI analysis\n      const analysis = await analyzeVisualDiff({\n        diff,\n        storyId,\n        componentName: storyContext.component,\n        baselinePath,\n        currentScreenshot: screenshot,\n      });\n\n      // Handle based on AI categorization\n      if (analysis.category === 'error') {\n        throw new Error(\n          `Visual regression detected in ${storyId}:\\\\n${analysis.message}`\n        );\n      } else if (analysis.category === 'warning') {\n        console.warn(\n          `Visual change detected in ${storyId}: ${analysis.message}`\n        );\n      }\n      // 'expected' and 'ignore' categories pass silently\n    }\n  },\n};\n```\n\n### Step 5: Create AI Analysis Configuration\n\nCreate `.storybook/visual-regression.config.ts`:\n\n```typescript\nexport default {\n  // Pixel difference threshold (0-1)\n  threshold: 0.01, // 1% difference triggers analysis\n\n  // Auto-approval rules\n  autoApprove: {\n    tokenChanges: true,      // Auto-approve design token updates\n    antiAliasing: true,      // Ignore anti-aliasing differences\n    timestamps: true,        // Ignore timestamp changes\n    uuids: true,            // Ignore UUID changes\n  },\n\n  // AI analysis settings\n  aiAnalysis: {\n    includeGitHistory: true,\n    includePRDescription: true,\n    includeDesignTokens: true,\n    lookbackDays: 7,\n  },\n\n  // Categorization thresholds\n  thresholds: {\n    ignore: 0.001,    // < 0.1% = ignore\n    expected: 0.01,   // < 1% = expected\n    warning: 0.05,    // < 5% = warning\n    error: 0.05,      // >= 5% = error\n  },\n\n  // Notification settings\n  notifications: {\n    onError: 'always',\n    onWarning: 'pr-only',\n    onSuccess: 'never',\n  },\n\n  // Baseline storage\n  baselinePath: '.storybook/visual-baselines/',\n\n  // Cloud storage (optional)\n  cloudStorage: {\n    provider: null, // 'chromatic', 'percy', 's3', null\n    config: {},\n  },\n};\n```\n\n### Step 6: Create Analysis Scripts\n\nCreate `scripts/visual-regression/analyze_diff.py` using the implementation from the visual-regression-testing skill.\n\nKey functions:\n- `analyze_with_context(diff, baseline, context)` - Main analysis\n- `categorize_change(change, context)` - Categorization logic\n- `check_token_match(old_color, new_color)` - Token validation\n- `get_recent_commits()` - Git history\n- `load_design_tokens()` - Token system\n\n### Step 7: Create Helper Utilities\n\nCreate `.storybook/visual-regression-utils.ts`:\n\n```typescript\nimport { PNG } from 'pngjs';\nimport pixelmatch from 'pixelmatch';\nimport fs from 'fs/promises';\n\nexport async function compareImages(\n  baselinePath: string,\n  currentScreenshot: Buffer\n): Promise<{ pixelsChanged: number; diffImage: Buffer } | null> {\n  try {\n    // Read baseline\n    const baselineBuffer = await fs.readFile(baselinePath);\n    const baseline = PNG.sync.read(baselineBuffer);\n    const current = PNG.sync.read(currentScreenshot);\n\n    // Ensure same dimensions\n    if (baseline.width !== current.width || baseline.height !== current.height) {\n      throw new Error('Image dimensions do not match');\n    }\n\n    // Create diff image\n    const diff = new PNG({ width: baseline.width, height: baseline.height });\n\n    // Compare\n    const pixelsChanged = pixelmatch(\n      baseline.data,\n      current.data,\n      diff.data,\n      baseline.width,\n      baseline.height,\n      { threshold: 0.1 }\n    );\n\n    return {\n      pixelsChanged,\n      diffImage: PNG.sync.write(diff),\n    };\n  } catch (error) {\n    // Baseline doesn't exist - first run\n    return null;\n  }\n}\n\nexport async function saveBaseline(storyId: string, screenshot: Buffer) {\n  const path = `.storybook/visual-baselines/${storyId}.png`;\n  await fs.writeFile(path, screenshot);\n}\n```\n\n### Step 8: Add NPM Scripts\n\nUpdate `package.json`:\n\n```json\n{\n  \"scripts\": {\n    \"test:visual\": \"test-storybook\",\n    \"test:visual:update\": \"test-storybook --updateSnapshots\",\n    \"test:visual:interactive\": \"test-storybook --watch\",\n    \"test:visual:ci\": \"test-storybook --ci\"\n  }\n}\n```\n\n### Step 9: Capture Initial Baselines\n\n```bash\n# Build Storybook\nnpm run build-storybook\n\n# Run test runner to capture baselines\nnpm run test:visual:update\n```\n\nOutput:\n```\nCapturing baseline screenshots...\n  ‚úì Button/Primary\n  ‚úì Button/Secondary\n  ‚úì Card/Default\n  ‚úì Card/WithImage\n  ...\n  ‚úì Captured 47 stories\n\nBaselines saved to .storybook/visual-baselines/\n```\n\n### Step 10: CI/CD Integration (Optional)\n\nIf user wants CI integration, create `.github/workflows/visual-regression.yml`:\n\n```yaml\nname: Visual Regression Testing\n\non:\n  pull_request:\n    branches: [main, develop]\n\njobs:\n  visual-regression:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n        with:\n          fetch-depth: 0  # Full history for git analysis\n\n      - uses: actions/setup-node@v3\n        with:\n          node-version: '20'\n          cache: 'npm'\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Install Playwright browsers\n        run: npx playwright install chromium\n\n      - name: Build Storybook\n        run: npm run build-storybook\n\n      - name: Run visual regression tests\n        run: npm run test:visual:ci\n        env:\n          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}\n\n      - name: Upload visual regression report\n        if: always()\n        uses: actions/upload-artifact@v3\n        with:\n          name: visual-regression-report\n          path: .storybook/visual-regression-report/\n\n      - name: Comment PR\n        if: failure()\n        uses: actions/github-script@v6\n        with:\n          script: |\n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: '‚ö†Ô∏è Visual regression tests failed. See [report](${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}) for details.'\n            })\n```\n\n### Step 11: Create Documentation\n\nCreate `.storybook/VISUAL_TESTING.md`:\n\n```markdown\n# Visual Regression Testing\n\nThis project uses AI-powered visual regression testing to catch UI bugs.\n\n## Running Tests\n\n\\`\\`\\`bash\n# Run tests\nnpm run test:visual\n\n# Interactive mode (review changes)\nnpm run test:visual:interactive\n\n# Update baselines\nnpm run test:visual:update\n\\`\\`\\`\n\n## How It Works\n\n1. Captures screenshots of all Storybook stories\n2. Compares with baseline screenshots\n3. AI analyzes differences with context (git, design tokens)\n4. Categorizes as: ignore, expected, warning, or error\n\n## Auto-Approval Rules\n\nThe AI automatically approves:\n- Design token updates\n- Anti-aliasing differences\n- Timestamp changes\n\nLayout shifts and unexpected color changes require manual review.\n\n## Configuration\n\nEdit `.storybook/visual-regression.config.ts` to adjust:\n- Pixel difference threshold\n- Auto-approval rules\n- AI analysis settings\n```\n\n### Step 12: Final Summary\n\nPresent to user:\n\n```\n‚úÖ Visual Regression Testing Setup Complete!\n\nConfigured:\n  ‚úì AI-powered diff analysis\n  ‚úì Baseline screenshots (47 stories)\n  ‚úì Auto-approval rules (balanced)\n  ‚úì NPM scripts\n  ‚úì CI/CD integration (GitHub Actions)\n\nNext Steps:\n1. Make a change to a component\n2. Run: npm run test:visual\n3. Review AI analysis results\n\nConfiguration:\n  - Edit: .storybook/visual-regression.config.ts\n  - Baselines: .storybook/visual-baselines/\n  - Docs: .storybook/VISUAL_TESTING.md\n\nUseful Commands:\n  npm run test:visual              - Run tests\n  npm run test:visual:interactive  - Interactive review\n  npm run test:visual:update       - Update baselines\n```\n\n## Chromatic Integration\n\nIf user selected Chromatic:\n\n1. Install Chromatic:\n```bash\nnpm install --save-dev chromatic\n```\n\n2. Add to package.json:\n```json\n{\n  \"scripts\": {\n    \"chromatic\": \"chromatic --project-token=<token>\"\n  }\n}\n```\n\n3. Configure to work alongside AI analysis:\n```typescript\n// .storybook/visual-regression.config.ts\nexport default {\n  cloudStorage: {\n    provider: 'chromatic',\n    config: {\n      projectToken: process.env.CHROMATIC_PROJECT_TOKEN,\n    },\n  },\n};\n```\n\n## Percy Integration\n\nIf user selected Percy:\n\n1. Install Percy:\n```bash\nnpm install --save-dev @percy/cli @percy/storybook\n```\n\n2. Add to package.json:\n```json\n{\n  \"scripts\": {\n    \"percy\": \"percy storybook http://localhost:6006\"\n  }\n}\n```\n\n3. Configure to work alongside AI analysis\n\n## Error Handling\n\n### Missing Anthropic API Key\n\nIf `ANTHROPIC_API_KEY` not set:\n```\n‚ùå Error: ANTHROPIC_API_KEY environment variable not set\n\nAI-powered analysis requires Claude API access. Please:\n1. Get API key from: https://console.anthropic.com/\n2. Add to .env: ANTHROPIC_API_KEY=your_key_here\n3. Or run with: ANTHROPIC_API_KEY=your_key npm run test:visual\n\nFallback: You can use traditional pixel diff without AI analysis.\nWould you like to set up without AI? [Yes/No]\n```\n\n### No Baseline Screenshots\n\nIf baselines don't exist:\n```\n‚ÑπÔ∏è No baseline screenshots found. Capturing initial baselines...\n\nThis is the first run. All screenshots will be saved as baselines.\nFuture runs will compare against these baselines.\n\nRun 'npm run test:visual:update' to refresh baselines after approved changes.\n```\n\n### Incompatible Storybook Version\n\nIf Storybook < 7:\n```\n‚ùå Error: Storybook 7+ required for visual regression testing\n\nYour version: 6.5.16\nRequired: 7.0.0+\n\nPlease upgrade Storybook:\n  npm install --save-dev @storybook/react@latest\n\nOr use legacy visual testing with Percy/Chromatic.\n```\n\n## Tips for Success\n\n1. **Commit baselines** - Add `.storybook/visual-baselines/` to git\n2. **Update regularly** - Refresh baselines after approved visual changes\n3. **Review warnings** - Don't ignore AI warnings, they might be real bugs\n4. **Tune threshold** - Adjust pixel threshold if too many false positives\n5. **Use interactive mode** - Review changes interactively during development\n\n---\n\n**Related Skills:**\n- `visual-regression-testing` - Core AI analysis methodology\n- `testing-suite` - Interaction and accessibility testing\n- `ci-cd-generator` - CI/CD pipeline setup\n\n**Related Commands:**\n- `/setup-ci-cd` - Configure full CI/CD pipeline\n- `/setup-storybook` - Initial Storybook setup\n",
        "commands/sync-design-tokens.md": "---\nname: sync-design-tokens\ndescription: Synchronize design tokens bidirectionally between Figma and code with automatic drift detection and conflict resolution\nallowed-tools:\n  - Read\n  - Write\n  - Edit\n  - Bash\n  - Grep\n  - Glob\n  - AskUserQuestion\nargument-hint: \"[--setup] [--check] [--from-figma] [--to-figma]\"\n---\n\n# Sync Design Tokens\n\nSynchronize design tokens between Figma and your codebase. Supports bidirectional sync, drift detection, and conflict resolution.\n\n## Usage\n\n```bash\n# Initial setup\n/sync-design-tokens --setup\n\n# Check for drift (no changes applied)\n/sync-design-tokens --check\n\n# Sync from Figma to code only\n/sync-design-tokens --from-figma\n\n# Sync from code to Figma only\n/sync-design-tokens --to-figma\n\n# Bidirectional sync (default)\n/sync-design-tokens\n```\n\n## What This Command Does\n\n1. **Setup Mode** (`--setup`):\n   - Configures Figma API connection\n   - Installs dependencies\n   - Creates Style Dictionary config\n   - Sets up sync scripts\n   - Performs initial token sync\n\n2. **Check Mode** (`--check`):\n   - Compares Figma and code tokens\n   - Reports drift without making changes\n   - Useful for CI/CD validation\n\n3. **Sync Modes**:\n   - `--from-figma`: Pull tokens from Figma, update code\n   - `--to-figma`: Push code tokens to Figma\n   - No flag: Bidirectional sync with conflict detection\n\n## Instructions\n\nFollow the design-token-sync skill for implementation details. Key steps:\n\n1. Ask user for Figma file URL and access token\n2. Install @figma/rest-api-client and style-dictionary\n3. Create token sync scripts\n4. Fetch tokens from Figma\n5. Compare with code tokens\n6. Apply changes based on mode\n7. Generate output formats (CSS, SCSS, TS)\n\nFor detailed implementation, see: `skills/design-token-sync/SKILL.md`\n",
        "skills/accessibility-remediation/SKILL.md": "---\ndescription: Use this skill when the user writes/edits components, asks to \"fix accessibility issues\", \"add ARIA labels\", \"improve accessibility\", \"check WCAG compliance\", \"remediate a11y violations\", mentions \"screen reader support\", \"keyboard navigation\", or wants AI-powered accessibility fixes with one-click application. Automatically analyzes components for a11y issues and suggests context-aware fixes. Trigger on PostToolUse hook or explicit request.\n---\n\n# Accessibility Remediation Skill\n\n## Overview\n\nAutomatically detect and fix accessibility issues in components with AI-powered analysis, context-aware fix suggestions, and one-click application. Goes beyond detection to provide ranked remediation options based on WCAG 2.2 best practices.\n\nThis skill transforms accessibility from a manual checklist into an automated workflow with intelligent fix suggestions.\n\n## What This Skill Provides\n\n### Real-Time Accessibility Analysis\nAutomatically check components for WCAG 2.2 violations:\n- **Missing accessible names**: Buttons, links, form inputs\n- **Color contrast**: WCAG AA (4.5:1) and AAA (7:1) compliance\n- **Keyboard navigation**: Focus management, tab order\n- **ARIA usage**: Proper roles, labels, live regions\n- **Semantic HTML**: Use of proper HTML5 elements\n- **Form accessibility**: Labels, error messages, validation\n\n### Context-Aware Fix Suggestions\nAI understands component purpose and suggests appropriate fixes:\n- **Ranked by best practice**: Best ‚Üí Good ‚Üí Acceptable\n- **Explains trade-offs**: Pros and cons of each approach\n- **Considers context**: Close button vs Submit button vs generic action\n- **Provides code**: Ready-to-apply fix snippets\n- **Educational**: Explains why each fix works\n\n### One-Click Application\nApply fixes instantly without manual implementation:\n- **Auto-detection**: Triggers on component creation/edit\n- **Interactive prompts**: Choose from ranked suggestions\n- **Automatic application**: Updates component code\n- **Verification**: Confirms fix resolves issue\n- **Learning system**: Remembers user preferences\n\n### WCAG 2.2 Compliance\nBuilt-in support for latest accessibility standards:\n- **Level A**: Essential accessibility (mandatory)\n- **Level AA**: Recommended compliance (standard)\n- **Level AAA**: Enhanced accessibility (optional)\n- **ARIA 1.2**: Latest ARIA patterns and practices\n- **Section 508**: US federal compliance\n\n## How It Works\n\n### Automatic Detection (PostToolUse Hook)\n\nWhen you create or edit a component, the accessibility-auditor agent automatically:\n\n1. **Parses component code** (JSX/TSX/Vue/Svelte)\n2. **Analyzes for violations** using WCAG 2.2 rules\n3. **Generates fix suggestions** ranked by best practice\n4. **Presents options** for user selection\n5. **Applies chosen fix** and verifies success\n\n### Manual Invocation\n\nYou can also explicitly request accessibility analysis:\n\n```bash\nUser: \"Check this Button component for accessibility issues\"\nClaude: [Runs accessibility-auditor agent]\n\nUser: \"Fix the accessibility violations in Modal.tsx\"\nClaude: [Analyzes, suggests fixes, applies selected fix]\n```\n\n## Common Accessibility Issues & Fixes\n\n### Issue 1: Missing Accessible Name\n\n**Problem:** Buttons, links, or inputs without labels\n\n**Examples:**\n\n```tsx\n// ‚ùå Bad: Button has no accessible name\n<button onClick={handleClose}>√ó</button>\n\n// ‚úÖ Fix Option 1: Visible text with icon (BEST)\n<button onClick={handleClose}>\n  <span aria-hidden=\"true\">√ó</span>\n  <span className=\"sr-only\">Close dialog</span>\n</button>\n\n// ‚úÖ Fix Option 2: aria-label (GOOD)\n<button onClick={handleClose} aria-label=\"Close dialog\">√ó</button>\n\n// ‚úÖ Fix Option 3: title attribute (ACCEPTABLE)\n<button onClick={handleClose} title=\"Close dialog\">√ó</button>\n```\n\n**AI Suggestion:**\n```\nContext: Close button in modal header\nRecommendation: Option 1 (best for all users - visible + announced)\nWCAG: 4.1.2 Name, Role, Value (Level A)\n```\n\n### Issue 2: Poor Color Contrast\n\n**Problem:** Text/UI elements don't meet WCAG contrast ratios\n\n**Examples:**\n\n```tsx\n// ‚ùå Bad: Contrast ratio 2.1:1 (fails WCAG AA)\n<button style={{ color: '#999', background: '#fff' }}>Submit</button>\n\n// ‚úÖ Fix: Contrast ratio 4.6:1 (passes AA)\n<button style={{ color: '#666', background: '#fff' }}>Submit</button>\n\n// ‚úÖ Better: Contrast ratio 7.2:1 (passes AAA)\n<button style={{ color: '#333', background: '#fff' }}>Submit</button>\n```\n\n**AI Suggestion:**\n```\nIssue: Text color #999 on white background (2.1:1 - fails)\nRequired: 4.5:1 for normal text (WCAG AA)\nSuggested colors:\n  - #666 (4.6:1) ‚úì WCAG AA\n  - #555 (5.8:1) ‚úì WCAG AA\n  - #333 (7.2:1) ‚úì WCAG AAA\nWCAG: 1.4.3 Contrast (Minimum) (Level AA)\n```\n\n### Issue 3: Missing Form Labels\n\n**Problem:** Form inputs without associated labels\n\n**Examples:**\n\n```tsx\n// ‚ùå Bad: No label association\n<input type=\"email\" placeholder=\"Email\" />\n\n// ‚úÖ Fix Option 1: Proper label element (BEST)\n<label htmlFor=\"email\">\n  Email address\n  <input id=\"email\" type=\"email\" placeholder=\"you@example.com\" />\n</label>\n\n// ‚úÖ Fix Option 2: Label with nesting (GOOD)\n<label>\n  Email address\n  <input type=\"email\" placeholder=\"you@example.com\" />\n</label>\n\n// ‚úÖ Fix Option 3: aria-label (ACCEPTABLE)\n<input type=\"email\" aria-label=\"Email address\" placeholder=\"Email\" />\n```\n\n**AI Suggestion:**\n```\nContext: Email input in login form\nRecommendation: Option 1 (explicit label with htmlFor - most robust)\nWCAG: 3.3.2 Labels or Instructions (Level A)\n```\n\n### Issue 4: Missing Focus Indicators\n\n**Problem:** Interactive elements lack visible focus state\n\n**Examples:**\n\n```tsx\n// ‚ùå Bad: Focus outline removed\n<button style={{ outline: 'none' }} onClick={handleClick}>\n  Click me\n</button>\n\n// ‚úÖ Fix Option 1: Custom focus-visible (BEST)\n<button\n  className=\"focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2\"\n  onClick={handleClick}\n>\n  Click me\n</button>\n\n// ‚úÖ Fix Option 2: Custom outline (GOOD)\n<button\n  style={{ outline: 'none' }}\n  className=\"focus:outline-blue focus:outline-2 focus:outline-offset-2\"\n  onClick={handleClick}\n>\n  Click me\n</button>\n\n// ‚úÖ Fix Option 3: Default outline (ACCEPTABLE)\n<button onClick={handleClick}>Click me</button>\n```\n\n**AI Suggestion:**\n```\nIssue: outline: none removes focus indicator\nSolution: Use :focus-visible for keyboard-only focus styling\nWCAG: 2.4.7 Focus Visible (Level AA)\n```\n\n### Issue 5: Invalid ARIA Usage\n\n**Problem:** Incorrect or redundant ARIA attributes\n\n**Examples:**\n\n```tsx\n// ‚ùå Bad: Redundant role on button\n<button role=\"button\" onClick={handleClick}>Submit</button>\n\n// ‚úÖ Fix: Remove redundant role (native button already has role)\n<button onClick={handleClick}>Submit</button>\n\n// ‚ùå Bad: Invalid ARIA attribute\n<div role=\"button\" onClick={handleClick}>Click</div>\n\n// ‚úÖ Fix: Use semantic button element (BEST)\n<button onClick={handleClick}>Click</button>\n\n// ‚úÖ Fix: Add keyboard support if div required (ACCEPTABLE)\n<div\n  role=\"button\"\n  onClick={handleClick}\n  onKeyDown={(e) => e.key === 'Enter' && handleClick()}\n  tabIndex={0}\n>\n  Click\n</div>\n```\n\n**AI Suggestion:**\n```\nIssue: Redundant role=\"button\" on <button> element\nSolution: Remove role attribute (native HTML provides this)\nWCAG: 4.1.2 Name, Role, Value (Level A)\n```\n\n### Issue 6: Missing Alt Text\n\n**Problem:** Images without alternative text\n\n**Examples:**\n\n```tsx\n// ‚ùå Bad: No alt attribute\n<img src=\"/avatar.jpg\" />\n\n// ‚úÖ Fix Option 1: Descriptive alt (BEST - informative images)\n<img src=\"/avatar.jpg\" alt=\"Profile photo of John Doe\" />\n\n// ‚úÖ Fix Option 2: Empty alt (GOOD - decorative images)\n<img src=\"/decorative-pattern.png\" alt=\"\" aria-hidden=\"true\" />\n\n// ‚úÖ Fix Option 3: aria-label (ACCEPTABLE - when alt insufficient)\n<img\n  src=\"/complex-chart.png\"\n  alt=\"Sales data visualization\"\n  aria-label=\"Bar chart showing 40% increase in Q4 sales\"\n/>\n```\n\n**AI Suggestion:**\n```\nContext: User avatar in profile card\nRecommendation: Descriptive alt text with user name\nWCAG: 1.1.1 Non-text Content (Level A)\n```\n\n## Workflow Example\n\n### Scenario: Creating a Modal Component\n\n```tsx\n// User creates Modal component\nexport function Modal({ isOpen, onClose, children }) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal-content\">\n        <button onClick={onClose}>√ó</button>\n        {children}\n      </div>\n    </div>\n  );\n}\n```\n\n**AI Detection (Automatic):**\n\n```\n‚ùå 4 accessibility issues detected in Modal.tsx\n\nIssue 1: Missing accessible name (Line 7)\n  Element: <button>√ó</button>\n  WCAG: 4.1.2 Name, Role, Value (Level A)\n  Fix options:\n    [1] Add sr-only text: <button><span aria-hidden>√ó</span><span class=\"sr-only\">Close</span></button>\n    [2] Add aria-label: <button aria-label=\"Close modal\">√ó</button>\n    [3] Add title: <button title=\"Close\">√ó</button>\n\nIssue 2: Missing ARIA role (Line 5)\n  Element: <div className=\"modal-overlay\">\n  WCAG: 4.1.2 Name, Role, Value (Level A)\n  Fix: Add role=\"dialog\" and aria-modal=\"true\"\n\nIssue 3: Missing focus trap (Line 6)\n  Element: Modal content\n  WCAG: 2.4.3 Focus Order (Level A)\n  Fix: Implement focus trap to prevent tabbing out of modal\n\nIssue 4: No Escape key handler (Line 5)\n  Element: Modal\n  WCAG: 2.1.2 No Keyboard Trap (Level A)\n  Fix: Add onKeyDown handler for Escape key\n\nApply fixes? [All] [Select] [Custom] [Skip]\n```\n\n**User selects: \"All\"**\n\n**AI applies fixes:**\n\n```tsx\nimport { useEffect, useRef } from 'react';\nimport { FocusTrap } from './FocusTrap';\n\nexport function Modal({ isOpen, onClose, children }) {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    modalRef.current?.focus();\n\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className=\"modal-overlay\"\n      onClick={onClose}\n      aria-hidden={!isOpen}\n    >\n      <FocusTrap>\n        <div\n          ref={modalRef}\n          className=\"modal-content\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          tabIndex={-1}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <button\n            onClick={onClose}\n            aria-label=\"Close modal\"\n          >\n            <span aria-hidden=\"true\">√ó</span>\n            <span className=\"sr-only\">Close</span>\n          </button>\n          {children}\n        </div>\n      </FocusTrap>\n    </div>\n  );\n}\n```\n\n**Verification:**\n\n```\n‚úì All issues resolved\n‚úì Modal now passes WCAG 2.2 Level AA\n‚úì Added focus trap component (FocusTrap.tsx)\n‚úì Added sr-only CSS utility\n\nRun accessibility test? [Yes] [No]\n```\n\n## Integration with Testing Suite\n\nThis skill works seamlessly with the testing-suite skill:\n\n1. **Remediation skill**: Fixes issues during development\n2. **Testing suite**: Validates fixes with axe-core\n3. **Storybook stories**: Test all accessibility states\n4. **CI/CD**: Automated a11y checks in pipeline\n\n**Combined workflow:**\n\n```\n1. Create component ‚Üí AI detects issues ‚Üí Apply fixes\n2. Run tests ‚Üí Verify with axe-core ‚Üí Pass ‚úì\n3. Create stories ‚Üí Test keyboard navigation ‚Üí Pass ‚úì\n4. Commit ‚Üí CI runs a11y tests ‚Üí Deploy ‚úì\n```\n\n## Advanced Features\n\n### Learning System\n\nAI remembers your fix preferences:\n\n```\nYou've chosen aria-label for icon buttons 5 times.\nDefault suggestion updated to rank aria-label first for icon buttons.\n```\n\n### Batch Remediation\n\nFix multiple components at once:\n\n```bash\nUser: \"Fix all accessibility issues in src/components/\"\n\nScanning 23 components...\n  ‚úì Button.tsx: 2 issues fixed\n  ‚úì Input.tsx: 3 issues fixed\n  ‚úì Modal.tsx: 4 issues fixed\n  ‚ö†Ô∏è Dropdown.tsx: 1 issue requires custom fix\n  ‚úì Card.tsx: 1 issue fixed\n\n21/23 components now pass WCAG AA\n2 components need manual review\n```\n\n### Custom Rules\n\nDefine project-specific a11y rules:\n\n```yaml\n# .storybook/a11y-config.yml\nrules:\n  - id: 'custom-button-label'\n    description: 'All buttons must have aria-label or visible text'\n    severity: 'error'\n    fix: 'suggest-aria-label'\n\n  - id: 'custom-min-contrast'\n    description: 'Require WCAG AAA contrast (7:1) for all text'\n    severity: 'warning'\n    fix: 'suggest-darker-color'\n```\n\n## Supporting Scripts\n\nThis skill includes Python scripts for deep analysis:\n\n### analyze_component.py\n\nAnalyzes component AST for accessibility issues:\n- Parses JSX/TSX/Vue/Svelte syntax\n- Checks WCAG 2.2 rules\n- Identifies missing ARIA attributes\n- Calculates color contrast ratios\n- Detects keyboard navigation issues\n\nSee: `skills/accessibility-remediation/scripts/analyze_component.py`\n\n### generate_fixes.py\n\nGenerates context-aware fix suggestions:\n- Infers component purpose from code\n- Ranks fixes by best practice\n- Provides code snippets for each fix\n- Explains trade-offs and WCAG compliance\n\nSee: `skills/accessibility-remediation/scripts/generate_fixes.py`\n\n## Reference Documentation\n\n### WCAG 2.2 Rules Reference\n\nComplete reference of all WCAG 2.2 success criteria with:\n- Rule descriptions\n- Level (A, AA, AAA)\n- Common violations\n- Fix patterns\n- Code examples\n\nSee: `skills/accessibility-remediation/references/wcag-rules.md`\n\n### Common Fix Patterns\n\nLibrary of proven fix patterns:\n- Button accessible names\n- Form label associations\n- Color contrast adjustments\n- Focus management\n- ARIA usage patterns\n- Keyboard navigation\n\nSee: `skills/accessibility-remediation/examples/fix-patterns.md`\n\n## Best Practices\n\n### Do's ‚úÖ\n\n- **Fix during development**: Catch issues early\n- **Use semantic HTML first**: Native elements over ARIA\n- **Test with keyboard**: Tab through all interactions\n- **Test with screen readers**: NVDA, JAWS, VoiceOver\n- **Maintain contrast ratios**: 4.5:1 minimum (AA)\n- **Provide text alternatives**: Alt text, labels, captions\n- **Enable keyboard navigation**: Tab order, focus management\n\n### Don'ts ‚ùå\n\n- **Don't ignore warnings**: Address all detected issues\n- **Don't use ARIA unnecessarily**: Semantic HTML first\n- **Don't remove focus indicators**: Custom style instead\n- **Don't rely on color alone**: Use icons, patterns, text\n- **Don't skip form labels**: Every input needs a label\n- **Don't block keyboard users**: Ensure all features accessible\n\n## Troubleshooting\n\n### False Positives\n\nIf AI suggests unnecessary fixes:\n\n```bash\nUser: \"This is a false positive - the component is decorative\"\n\nClaude: Understood. I'll:\n  1. Mark this pattern as acceptable\n  2. Update detection rules\n  3. Remember for future similar cases\n\nWould you like to add this to .storybook/a11y-ignore.yml?\n```\n\n### Complex Components\n\nFor components with complex accessibility needs:\n\n```bash\nUser: \"This datepicker needs custom keyboard navigation\"\n\nClaude: This component requires manual implementation:\n  1. Arrow keys for date navigation\n  2. Page Up/Down for month navigation\n  3. Home/End for week navigation\n  4. Escape to close\n\nI can provide a reference implementation from accessible datepicker patterns.\nWould you like me to generate a template?\n```\n\n## Related Skills\n\n- **testing-suite**: Run automated accessibility tests\n- **component-scaffold**: Generate accessible components from start\n- **story-generation**: Create stories testing all a11y states\n- **style-guide-generator**: Document accessibility guidelines\n\n## References\n\n- WCAG 2.2 Guidelines: https://www.w3.org/WAI/WCAG22/quickref/\n- ARIA Authoring Practices: https://www.w3.org/WAI/ARIA/apg/\n- axe-core Rules: https://github.com/dequelabs/axe-core/blob/develop/doc/rule-descriptions.md\n- WebAIM Contrast Checker: https://webaim.org/resources/contrastchecker/\n\n## Summary\n\nTransform accessibility from manual checklist to automated workflow:\n\n1. **Automatic detection**: Catches issues as you code\n2. **Context-aware fixes**: AI suggests best solutions\n3. **One-click application**: No manual implementation\n4. **Educational feedback**: Learn best practices\n5. **WCAG 2.2 compliant**: Latest standards built-in\n\n**Result:** Ship accessible components by default with 80% less effort.\n",
        "skills/accessibility-remediation/examples/fix-patterns.md": "# Common Accessibility Fix Patterns\n\n## Button Accessible Names\n\n### Icon Button\n```tsx\n// ‚ùå Bad\n<button onClick={handleClose}>√ó</button>\n\n// ‚úÖ Good\n<button onClick={handleClose} aria-label=\"Close\">√ó</button>\n\n// ‚úÖ Best\n<button onClick={handleClose}>\n  <span aria-hidden=\"true\">√ó</span>\n  <span className=\"sr-only\">Close</span>\n</button>\n```\n\n## Image Alt Text\n\n### Informative Image\n```tsx\n// ‚ùå Bad\n<img src=\"/chart.png\" />\n\n// ‚úÖ Good\n<img src=\"/chart.png\" alt=\"Sales growth chart showing 40% increase in Q4\" />\n```\n\n### Decorative Image\n```tsx\n// ‚ùå Bad\n<img src=\"/decoration.png\" />\n\n// ‚úÖ Good\n<img src=\"/decoration.png\" alt=\"\" aria-hidden=\"true\" />\n```\n\n## Form Labels\n\n### Explicit Label\n```tsx\n// ‚ùå Bad\n<input type=\"email\" placeholder=\"Email\" />\n\n// ‚úÖ Good\n<label htmlFor=\"email\">Email</label>\n<input id=\"email\" type=\"email\" />\n```\n\n## Color Contrast\n\n### Text Colors\n```tsx\n// ‚ùå Bad (2.1:1)\n<div style={{ color: '#999', background: '#fff' }}>Text</div>\n\n// ‚úÖ Good (4.6:1 - WCAG AA)\n<div style={{ color: '#666', background: '#fff' }}>Text</div>\n\n// ‚úÖ Better (7.2:1 - WCAG AAA)\n<div style={{ color: '#333', background: '#fff' }}>Text</div>\n```\n\n## Focus Indicators\n\n### Modern Approach\n```css\nbutton {\n  outline: none;\n}\n\nbutton:focus-visible {\n  outline: 2px solid #2196F3;\n  outline-offset: 2px;\n}\n```\n\n## Keyboard Navigation\n\n### Clickable Div\n```tsx\n// ‚ùå Bad\n<div onClick={handleClick}>Click me</div>\n\n// ‚úÖ Good - Use button\n<button onClick={handleClick}>Click me</button>\n\n// ‚úÖ Acceptable - Add keyboard support\n<div\n  role=\"button\"\n  tabIndex={0}\n  onClick={handleClick}\n  onKeyDown={(e) => e.key === 'Enter' && handleClick()}\n>\n  Click me\n</div>\n```\n\n## SR-Only Utility\n\n```css\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n```\n",
        "skills/accessibility-remediation/references/wcag-rules.md": "# WCAG 2.2 Rules Reference\n\nQuick reference for common WCAG 2.2 success criteria with fix patterns.\n\n## Level A (Essential)\n\n### 1.1.1 Non-text Content\n- **Images**: Must have alt text or be marked as decorative\n- **Fix**: `<img alt=\"description\" />` or `<img alt=\"\" aria-hidden=\"true\" />`\n\n### 2.1.1 Keyboard\n- **All functionality**: Must be keyboard accessible\n- **Fix**: Use semantic elements or add role + tabIndex + keydown handler\n\n### 3.3.2 Labels or Instructions\n- **Form inputs**: Must have labels\n- **Fix**: `<label htmlFor=\"id\">Label</label>` or `aria-label`\n\n### 4.1.2 Name, Role, Value\n- **UI components**: Must have accessible names\n- **Fix**: aria-label, visible text, or sr-only text\n\n## Level AA (Recommended)\n\n### 1.4.3 Contrast (Minimum)\n- **Normal text**: 4.5:1 contrast ratio\n- **Large text**: 3:1 contrast ratio\n- **Fix**: Darken foreground or lighten background\n\n### 2.4.7 Focus Visible\n- **Focus indicators**: Must be visible\n- **Fix**: Custom `:focus` or `:focus-visible` styles\n\n### 3.1.2 Language of Parts\n- **Language changes**: Mark with lang attribute\n- **Fix**: `<span lang=\"es\">Hola</span>`\n\n## Level AAA (Enhanced)\n\n### 1.4.6 Contrast (Enhanced)\n- **Normal text**: 7:1 contrast ratio\n- **Large text**: 4.5:1 contrast ratio\n\n## Common Violations\n\nSee analyze_component.py for automated detection of:\n- Missing button labels\n- Missing image alt text\n- Missing form labels\n- Poor color contrast\n- Redundant ARIA\n- Invalid ARIA attributes\n- Missing focus indicators\n- Missing keyboard support\n- Heading hierarchy issues\n- Ambiguous link text\n\n## Resources\n\n- WCAG 2.2: https://www.w3.org/WAI/WCAG22/quickref/\n- ARIA Practices: https://www.w3.org/WAI/ARIA/apg/\n",
        "skills/ci-cd-generator/SKILL.md": "---\ndescription: Use this skill when the user asks to \"setup CI/CD\", \"configure GitHub Actions\", \"deploy Storybook\", \"setup Chromatic\", \"add visual regression to CI\", \"create deployment pipeline\", or wants to generate complete CI/CD workflows for Storybook deployment and testing.\n---\n\n# CI/CD Pipeline Generator Skill\n\n## Overview\n\nGenerate production-ready CI/CD pipelines for Storybook with one command. Includes automated testing, visual regression, deployment, and PR previews.\n\n## Generated Workflows\n\n### GitHub Actions + Vercel\n\n**.github/workflows/storybook.yml:**\n```yaml\nname: Storybook CI/CD\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n          cache: 'npm'\n\n      - run: npm ci\n      - run: npm run build-storybook\n      - run: npm run test-storybook\n\n      - name: Upload coverage\n        uses: codecov/codecov-action@v3\n\n  visual-regression:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n\n      - run: npm ci\n      - run: npm run chromatic\n        env:\n          CHROMATIC_PROJECT_TOKEN: ${{ secrets.CHROMATIC_TOKEN }}\n\n  deploy:\n    needs: [test, visual-regression]\n    if: github.ref == 'refs/heads/main'\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n\n      - run: npm ci\n      - run: npm run build-storybook\n\n      - name: Deploy to Vercel\n        uses: amondnet/vercel-action@v25\n        with:\n          vercel-token: ${{ secrets.VERCEL_TOKEN }}\n          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}\n          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}\n```\n\n## Features\n\n### Automated Testing\n- Run interaction tests\n- Run accessibility tests\n- Generate coverage reports\n- Fail PR on test failures\n\n### Visual Regression (Chromatic)\n- Capture screenshots of all stories\n- Compare with baseline\n- Flag visual changes\n- Approve/reject in PR\n\n### Deployment\n- Auto-deploy main branch to production\n- Deploy PR previews\n- Comment with preview URL\n- Rollback on failure\n\n### Bundle Analysis\n- Track bundle size over time\n- Comment on PR with size changes\n- Fail if bundle grows >10%\n\n## Quick Setup\n\n```bash\nUser: /setup-ci-cd\n\nDetecting environment...\n  ‚úì Git repository found\n  ‚úì package.json detected\n  ‚úì GitHub Actions available\n\nSelect deployment target:\n  [1] Vercel (Recommended)\n  [2] Netlify\n  [3] GitHub Pages\n  [4] AWS S3\n\nSelect features:\n  ‚òë Automated testing\n  ‚òë Visual regression (Chromatic)\n  ‚òë Bundle size tracking\n  ‚òë PR preview comments\n  ‚òê Accessibility checks (already in tests)\n\nGenerating workflows...\n  ‚úì .github/workflows/storybook.yml\n  ‚úì .github/workflows/visual-regression.yml\n  ‚úì chromatic.config.js\n  ‚úì Updated package.json scripts\n\nSetup environment secrets:\n  1. Go to GitHub ‚Üí Settings ‚Üí Secrets\n  2. Add: CHROMATIC_PROJECT_TOKEN\n  3. Add: VERCEL_TOKEN\n  4. Add: VERCEL_ORG_ID\n  5. Add: VERCEL_PROJECT_ID\n\nNext PR will trigger full pipeline ‚úì\n```\n\n## Summary\n\nOne-command CI/CD setup:\n- GitHub Actions workflows\n- Chromatic visual regression\n- Auto-deployment\n- PR previews\n\n**Result:** Production-ready pipeline in 2 minutes.\n",
        "skills/component-scaffold/README.md": "# Component Scaffold - Quick Reference\n\nGenerate production-ready components with TypeScript, accessibility, and best practices.\n\n## Quick Start\n\n### Generate a Button Component\n\n```bash\npython3 scripts/create_component.py \\\n  --name MyButton \\\n  --type button \\\n  --framework react \\\n  --output src/components/MyButton.tsx\n```\n\n### Generate a Custom Component\n\n```bash\npython3 scripts/create_component.py \\\n  --name UserCard \\\n  --type custom \\\n  --framework react \\\n  --props \"name:string,email:string,avatar:string\" \\\n  --output src/components/UserCard.tsx\n```\n\n## Supported Component Types\n\n- **button**: Interactive button with variants and sizes\n- **input**: Form input with validation and error states\n- **card**: Content card with header, footer, image\n- **modal**: Modal dialog with focus management\n- **table**: Data table with sorting and pagination\n- **custom**: Define your own props\n\n## Arguments\n\n- `--name`: Component name (PascalCase) [required]\n- `--type`: Component type (see above) [default: custom]\n- `--framework`: Target framework (react, vue, svelte) [default: react]\n- `--typescript`: Generate TypeScript [default: true]\n- `--props`: Custom props (comma-separated: name:type,name2:type2)\n- `--output`: Output file path\n- `--dry-run`: Print to stdout instead of writing file\n- `--json`: Output component spec as JSON\n\n## Examples\n\n### Button with All Features\n```bash\npython3 scripts/create_component.py --name SubmitButton --type button --output src/components/SubmitButton.tsx\n```\n\nGenerated props:\n- variant (primary, secondary, outline, ghost)\n- size (small, medium, large)\n- disabled, loading\n- onClick handler\n- children\n\n### Input with Validation\n```bash\npython3 scripts/create_component.py --name EmailInput --type input --output src/components/EmailInput.tsx\n```\n\nGenerated props:\n- label, type, placeholder, value\n- error, helperText\n- required, disabled\n- onChange handler\n\n### Card Component\n```bash\npython3 scripts/create_component.py --name ProductCard --type card --output src/components/ProductCard.tsx\n```\n\nGenerated props:\n- variant (elevated, outlined, flat)\n- image, imageAlt\n- header, footer\n- onClick handler\n- children\n\n### Modal Dialog\n```bash\npython3 scripts/create_component.py --name ConfirmDialog --type modal --output src/components/ConfirmDialog.tsx\n```\n\nGenerated props:\n- isOpen, onClose\n- title, size\n- closeOnBackdropClick, closeOnEsc\n- children\n\nGenerated features:\n- Focus trap\n- ESC key handler\n- ARIA attributes\n\n### Custom Component\n```bash\npython3 scripts/create_component.py \\\n  --name ProfileCard \\\n  --type custom \\\n  --props \"username:string,bio:string,avatar:string,isVerified:boolean,onFollow:function\" \\\n  --output src/components/ProfileCard.tsx\n```\n\n## Templates\n\nTemplates are located in `templates/{framework}/{type}.template`:\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ react/\n‚îÇ   ‚îú‚îÄ‚îÄ button.template\n‚îÇ   ‚îú‚îÄ‚îÄ input.template\n‚îÇ   ‚îú‚îÄ‚îÄ card.template\n‚îÇ   ‚îú‚îÄ‚îÄ modal.template\n‚îÇ   ‚îú‚îÄ‚îÄ table.template\n‚îÇ   ‚îî‚îÄ‚îÄ custom.template\n‚îú‚îÄ‚îÄ vue/\n‚îÇ   ‚îî‚îÄ‚îÄ (coming soon)\n‚îî‚îÄ‚îÄ svelte/\n    ‚îî‚îÄ‚îÄ (coming soon)\n```\n\n## Template Variables\n\nTemplates use these variables:\n- `{{COMPONENT_NAME}}`: Component name (e.g., MyButton)\n- `{{COMPONENT_CLASS}}`: CSS class (e.g., my-button)\n- `{{COMPONENT_DESCRIPTION}}`: Component description\n- `{{PROPS}}`: TypeScript interface props\n- `{{PROP_DESTRUCTURING}}`: Destructured props with defaults\n- `{{COMPONENT_LOGIC}}`: Component logic (hooks, etc.)\n- `{{COMPONENT_CONTENT}}`: JSX/template content\n\n## Integration with Story Generation\n\nAfter creating a component, generate its story:\n\n```bash\n# Create component\npython3 scripts/create_component.py --name Button --type button --output src/components/Button.tsx\n\n# Generate story (from story-generation skill)\npython3 ../../story-generation/scripts/generate_story.py \\\n  src/components/Button.tsx \\\n  --level full \\\n  --output src/components/Button.stories.tsx\n```\n\nOr use the integrated workflow script:\n\n```bash\nbash ../../commands/scripts/create-component-workflow.sh \\\n  Button button react full false src/components\n```\n\n## Prop Type Shortcuts\n\nWhen defining custom props, use these shortcuts:\n\n| Shortcut | TypeScript Type |\n|----------|----------------|\n| string, str | string |\n| number, num | number |\n| boolean, bool | boolean |\n| function, func | () => void |\n| node, element | React.ReactNode |\n\nExample:\n```bash\n--props \"title:string,count:number,active:boolean,onClick:function\"\n```\n\nGenerates:\n```typescript\ninterface ComponentProps {\n  title: string;\n  count: number;\n  active: boolean;\n  onClick: () => void;\n}\n```\n\n## Component Features\n\nAll generated components include:\n\n- ‚úì **TypeScript**: Proper interfaces and types\n- ‚úì **Accessibility**: ARIA attributes (aria-label, aria-busy, etc.)\n- ‚úì **Documentation**: JSDoc comments for props\n- ‚úì **Defaults**: Sensible default values\n- ‚úì **Best Practices**: Framework-specific patterns\n- ‚úì **Display Name**: Component.displayName set\n\n## Adding New Component Types\n\n1. Add type definition in `scripts/create_component.py`:\n\n```python\nCOMPONENT_TYPE_DEFAULTS = {\n    'checkbox': {\n        'description': 'Checkbox input component',\n        'props': [\n            PropDefinition('checked', 'boolean', False, 'false'),\n            PropDefinition('onChange', '(checked: boolean) => void', False, None),\n        ],\n        'has_children': False,\n    }\n}\n```\n\n2. Create template `templates/react/checkbox.template`\n\n3. Add component-specific logic in `generate_component_content_react()`\n\nSee SKILL.md for detailed instructions.\n\n## Troubleshooting\n\n### Component name validation error\n\nComponent names must start with uppercase letter (PascalCase):\n- ‚úì MyButton, UserCard, DataTable\n- ‚úó myButton, user-card, data_table\n\n### Template not found\n\nIf you get \"Template not found\", the system falls back to `custom.template`. Create a specific template for your component type or use `--type custom`.\n\n### Invalid prop format\n\nProps must be in format `name:type`:\n```bash\n--props \"title:string,count:number\"  # ‚úì Correct\n--props \"title,count\"                 # ‚úó Wrong\n```\n\n## Performance\n\n- Component generation: ~5ms per component\n- Template loading: ~1ms (cached)\n- Story generation: ~15ms per component\n- Total workflow: ~20ms per component\n\n## Further Reading\n\n- **SKILL.md**: Complete skill documentation\n- **commands/create-component.md**: Full command workflow\n- **CREATE_COMPONENT_IMPLEMENTATION.md**: Implementation details\n",
        "skills/component-scaffold/SKILL.md": "---\ndescription: Scaffold new components with stories, tests, and documentation following SOTA patterns and best practices\n---\n\n# Component Scaffold Skill\n\nThis skill provides comprehensive component scaffolding with:\n- Framework-specific component templates (React, Vue, Svelte)\n- TypeScript interfaces with proper types\n- Accessibility attributes (ARIA labels, roles)\n- Storybook stories with variants and tests\n- Optional visual mockups\n- Best practice patterns for each framework\n\n## Features\n\n### Component Generation\n- **Type-Based Templates**: Pre-built templates for common component types (Button, Input, Card, Modal, Table, etc.)\n- **Custom Components**: Generate components with user-defined props\n- **Framework Support**: React, Vue 3, Svelte 5\n- **TypeScript First**: All components generated with proper TypeScript types\n- **Accessibility**: Built-in ARIA attributes and semantic HTML\n\n### Testing Support\n- **Storybook Stories**: Automatically generated with CSF 3.0 format\n- **Variant Detection**: Intelligent variants based on component type\n- **Interaction Tests**: Play functions with Testing Library\n- **A11y Tests**: Accessibility testing with axe-core\n\n### Visual Design\n- **AI Mockups**: Optional visual references using NanoBanana\n- **Design Tokens**: Integration with design system tokens\n- **Responsive**: Mobile-first, responsive patterns\n\n## Component Types Supported\n\n### Form Components\n- **Button**: Variants, sizes, loading states, icons\n- **Input**: Validation, error states, helper text\n- **Checkbox**: Indeterminate state, controlled/uncontrolled\n- **Radio**: Radio groups with proper accessibility\n- **Select**: Dropdown with search, multi-select\n- **Textarea**: Auto-resize, character count\n- **Switch/Toggle**: Binary state with labels\n\n### Layout Components\n- **Card**: Header, footer, image, variants\n- **Container**: Max-width, padding, responsive\n- **Grid**: CSS Grid with responsive columns\n- **Stack**: Vertical/horizontal spacing\n- **Divider**: Horizontal/vertical separators\n\n### Navigation Components\n- **Tabs**: Controlled tabs with keyboard navigation\n- **Menu**: Dropdown menu with submenus\n- **Breadcrumb**: Navigation breadcrumbs\n- **Pagination**: Page navigation with ellipsis\n\n### Feedback Components\n- **Alert**: Success, warning, error, info variants\n- **Toast**: Toast notifications with auto-dismiss\n- **Modal/Dialog**: Focus trap, backdrop, ESC handling\n- **Spinner**: Loading indicators\n- **Progress**: Progress bars and circular progress\n- **Skeleton**: Loading skeletons\n\n### Data Display Components\n- **Table**: Sorting, filtering, pagination, selection\n- **List**: Virtual scrolling for large lists\n- **Avatar**: User avatars with fallbacks\n- **Badge**: Status badges with variants\n- **Tooltip**: Hover tooltips with positioning\n- **Popover**: Contextual popovers\n\n## Templates\n\nTemplates are located in `templates/` directory:\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ react/\n‚îÇ   ‚îú‚îÄ‚îÄ button.template.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ input.template.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ card.template.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ modal.template.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ table.template.tsx\n‚îÇ   ‚îî‚îÄ‚îÄ custom.template.tsx\n‚îú‚îÄ‚îÄ vue/\n‚îÇ   ‚îú‚îÄ‚îÄ button.template.vue\n‚îÇ   ‚îú‚îÄ‚îÄ input.template.vue\n‚îÇ   ‚îî‚îÄ‚îÄ ...\n‚îú‚îÄ‚îÄ svelte/\n‚îÇ   ‚îú‚îÄ‚îÄ button.template.svelte\n‚îÇ   ‚îú‚îÄ‚îÄ input.template.svelte\n‚îÇ   ‚îî‚îÄ‚îÄ ...\n‚îî‚îÄ‚îÄ styles/\n    ‚îú‚îÄ‚îÄ button.template.css\n    ‚îú‚îÄ‚îÄ input.template.css\n    ‚îî‚îÄ‚îÄ ...\n```\n\n## Scripts\n\n### create_component.py\n\nMain script for component generation:\n\n```bash\npython3 create_component.py \\\n  --name Button \\\n  --type button \\\n  --framework react \\\n  --typescript \\\n  --output src/components/Button.tsx\n```\n\n**Arguments:**\n- `--name`: Component name (PascalCase)\n- `--type`: Component type (button, input, card, modal, table, custom)\n- `--framework`: Target framework (react, vue, svelte)\n- `--typescript`: Generate TypeScript (default: true)\n- `--output`: Output file path\n- `--props`: Custom props (comma-separated, for custom type)\n- `--variants`: Custom variants (comma-separated)\n\n### get_component_template.py\n\nHelper to retrieve appropriate template:\n\n```python\nfrom get_component_template import get_template\n\ntemplate = get_template(\n    component_type='button',\n    framework='react',\n    typescript=True\n)\n```\n\n## Usage Examples\n\n### Example 1: Create Button Component\n\n```bash\npython3 create_component.py \\\n  --name MyButton \\\n  --type button \\\n  --framework react \\\n  --output src/components/MyButton.tsx\n```\n\n**Generated:**\n```typescript\nimport React from 'react';\nimport './MyButton.css';\n\nexport interface MyButtonProps {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'small' | 'medium' | 'large';\n  disabled?: boolean;\n  loading?: boolean;\n  onClick?: () => void;\n  children: React.ReactNode;\n}\n\n/**\n * MyButton component with multiple variants and sizes\n */\nexport function MyButton({\n  variant = 'primary',\n  size = 'medium',\n  disabled = false,\n  loading = false,\n  onClick,\n  children,\n}: MyButtonProps) {\n  return (\n    <button\n      className={`btn btn-${variant} btn-${size}`}\n      disabled={disabled || loading}\n      onClick={onClick}\n      aria-busy={loading}\n    >\n      {loading ? 'Loading...' : children}\n    </button>\n  );\n}\n```\n\n### Example 2: Create Modal Component\n\n```bash\npython3 create_component.py \\\n  --name Dialog \\\n  --type modal \\\n  --framework react \\\n  --output src/components/Dialog.tsx\n```\n\n**Generated:**\n- Dialog.tsx with focus trap\n- Backdrop click handling\n- ESC key handling\n- Accessibility attributes (aria-modal, role=\"dialog\")\n\n### Example 3: Create Custom Component\n\n```bash\npython3 create_component.py \\\n  --name UserCard \\\n  --type custom \\\n  --framework react \\\n  --props \"name:string,email:string,avatar:string,onEdit:function\" \\\n  --output src/components/UserCard.tsx\n```\n\n## Integration with Story Generation\n\nAfter creating a component, automatically generate its story:\n\n```bash\n# Create component\npython3 create_component.py --name Button --type button --output src/components/Button.tsx\n\n# Generate story (using story-generation skill)\npython3 ../story-generation/scripts/generate_story.py \\\n  src/components/Button.tsx \\\n  --level full \\\n  --output src/components/Button.stories.tsx\n```\n\n## Best Practices\n\n### React Components\n- Use function components (not class components)\n- Use hooks for state and effects\n- Proper TypeScript interfaces for props\n- Export component and interface\n- Include displayName for dev tools\n\n### Vue 3 Components\n- Use Composition API (not Options API)\n- Use `<script setup lang=\"ts\">`\n- Define props with `defineProps<T>()`\n- Use `defineEmits` for events\n- Scoped styles\n\n### Svelte Components\n- Use TypeScript in script blocks\n- Export props with `export let`\n- Use stores for state management\n- Component-scoped styles\n- Proper event forwarding\n\n### Accessibility\n- Include ARIA attributes (aria-label, aria-describedby)\n- Use semantic HTML (button, nav, dialog)\n- Keyboard navigation (Tab, Enter, ESC)\n- Focus management (focus trap in modals)\n- Screen reader support\n\n## Customization\n\n### Adding New Component Types\n\n1. Create template file in `templates/{framework}/{type}.template.{ext}`\n2. Add type definition in `create_component.py`\n3. Define default props for the type\n4. Update this documentation\n\n### Modifying Templates\n\nTemplates use variable replacement:\n- `{{COMPONENT_NAME}}`: Component name (PascalCase)\n- `{{COMPONENT_CLASS}}`: CSS class name (kebab-case)\n- `{{PROPS}}`: Props interface\n- `{{PROP_DESTRUCTURING}}`: Destructured props with defaults\n- `{{COMPONENT_LOGIC}}`: Component logic (hooks, computed, etc.)\n- `{{COMPONENT_CONTENT}}`: JSX/template content\n- `{{ATTRIBUTES}}`: HTML attributes (aria, data, etc.)\n\n## Error Handling\n\nThe script handles common errors:\n- Invalid component names\n- Missing required arguments\n- Unsupported frameworks\n- File already exists\n- Invalid prop definitions\n\n## Platform Support\n\n### Tauri\n- Components work fully in Tauri applications\n- IPC mocking included in generated stories\n- Native API mocks provided\n\n### Electron\n- Components follow container/presentational pattern\n- IPC interactions isolated in container components\n- Testable presentational components in Storybook\n\n### Web\n- Full support for all component types\n- Responsive, mobile-first designs\n- Progressive enhancement\n\n## Future Enhancements\n\nPotential improvements:\n- [ ] Component composition helpers\n- [ ] Animation templates (Framer Motion, Vue Transition)\n- [ ] Form validation templates (React Hook Form, VeeValidate)\n- [ ] State management integration (Zustand, Pinia)\n- [ ] API integration templates (React Query, Vue Query)\n- [ ] CSS-in-JS templates (Styled Components, Emotion)\n- [ ] Testing templates (Vitest, Jest)\n\n## Related Skills\n\n- **story-generation**: Generates Storybook stories for components\n- **visual-design**: Generates visual mockups for components\n- **testing-suite**: Generates comprehensive test suites\n- **storybook-config**: Configures Storybook for the project\n",
        "skills/component-usage-analytics/SKILL.md": "---\nname: Component Usage Analytics\ndescription: Use this skill when users mention \"component usage\", \"where is this component used\", \"deprecate component\", \"migration impact\", \"component analytics\", or want to track and analyze component usage across the codebase with deprecation planning and migration impact analysis.\nversion: 1.0.0\n---\n\n# Component Usage Analytics\n\n## Overview\n\nTrack component usage across your codebase to make data-driven decisions about deprecation, refactoring, and component library management.\n\n**Key Use Cases:**\n- Find all usages of a component\n- Analyze impact of breaking changes\n- Plan component deprecations\n- Track adoption of new components\n- Identify unused components\n\n## When to Use This Skill\n\nTrigger this skill when the user:\n- Asks \"where is this component used?\"\n- Wants to \"deprecate a component\" or \"plan a migration\"\n- Mentions \"component analytics\" or \"usage tracking\"\n- Asks about \"which components are unused\"\n- Wants to \"analyze breaking change impact\"\n- Needs to \"track component adoption\"\n\n## Core Capabilities\n\n### 1. Usage Analysis\n\nFind all component usages with context:\n\n```bash\n$ npm run analyze:usage Button\n\nAnalyzing Button component...\n\nüìä Usage Report:\n\nTotal Usages: 52 imports across 47 files\n\nBy Feature:\n  - Dashboard: 15 usages (8 files)\n  - Settings: 12 usages (7 files)\n  - Profile: 8 usages (5 files)\n  - Auth: 7 usages (4 files)\n  - Admin: 10 usages (23 files)\n\nBy Variant:\n  - Primary: 34 usages (65%)\n  - Secondary: 13 usages (25%)\n  - Outline: 5 usages (10%)\n\nRecent Changes:\n  - Button@v2 released 14 days ago\n  - 8 files still using Button@v1 (deprecated)\n  - Migration progress: 83% (44/52 files)\n\nTop Users (files with most usages):\n  1. src/features/Dashboard/widgets.tsx (6 usages)\n  2. src/features/Settings/preferences.tsx (4 usages)\n  3. src/features/Profile/edit.tsx (3 usages)\n```\n\n### 2. Deprecation Planning\n\nAnalyze impact before deprecating:\n\n```bash\n$ npm run analyze:deprecate Button@v1\n\n‚ö†Ô∏è Deprecation Impact Analysis: Button@v1\n\nCurrent Usage:\n  - 8 files still using v1\n  - 12 total usages\n  - Across 3 features\n\nMigration Effort:\n  Low effort: 5 files (simple props update)\n  Medium effort: 2 files (variant renamed)\n  High effort: 1 file (custom styling conflicts)\n\nBreaking Changes in v2:\n  1. 'success' variant removed ‚Üí use 'primary' with success color\n  2. 'loading' prop renamed ‚Üí use 'pending' prop\n  3. 'icon' prop now requires IconComponent type\n\nEstimated Migration Time:\n  - Low effort files: 30 mins total (6 mins each)\n  - Medium effort files: 1 hour total (30 mins each)\n  - High effort file: 2 hours (complex refactor)\n  Total: ~3.5 hours\n\nRecommendations:\n  1. Create migration guide for developers\n  2. Add deprecation warnings to v1\n  3. Set sunset date: 30 days from now\n  4. Track migration progress weekly\n\nGenerate migration guide? [Yes] [No]\n```\n\n### 3. Unused Component Detection\n\nFind components that can be removed:\n\n```bash\n$ npm run analyze:unused\n\nScanning codebase...\n\nüóëÔ∏è Unused Components (12 found):\n\nSafe to Remove (no usages):\n  1. LegacyCard - Last used 6 months ago\n  2. OldButton - Replaced by Button v2\n  3. DeprecatedModal - Migrated to Modal v3\n\nPotentially Unused (only in stories/tests):\n  4. ExperimentalBadge - Used in Storybook only\n  5. PrototypeAlert - Used in visual tests only\n\nLow Usage (< 5 usages):\n  6. RareTooltip - 2 usages (last 90 days)\n  7. SpecializedInput - 3 usages (niche use case)\n\nRecommendations:\n  - Remove: LegacyCard, OldButton, DeprecatedModal\n  - Review: ExperimentalBadge, PrototypeAlert\n  - Keep: RareTooltip, SpecializedInput (still needed)\n\nEstimated bundle savings: 47 KB (8% reduction)\n```\n\n### 4. Adoption Tracking\n\nTrack new component adoption:\n\n```bash\n$ npm run analyze:adoption Button@v2\n\nüìà Adoption Report: Button@v2 (released 14 days ago)\n\nCurrent Adoption:\n  - 44 files using v2 (83%)\n  - 8 files still on v1 (17%)\n\nAdoption Trend:\n  Day 1-7:   32 files migrated (61%)\n  Day 8-14:  12 files migrated (22%)\n  This week: 0 new migrations\n\nMigration Velocity:\n  - Week 1: 4.6 files/day\n  - Week 2: 1.7 files/day\n  - Slowing down ‚ö†Ô∏è\n\nBlockers:\n  - High effort migration in src/Admin/dashboard.tsx\n  - Team waiting for migration guide\n  - Need code review bandwidth\n\nActions:\n  1. Publish migration guide (high priority)\n  2. Schedule pairing session for high-effort file\n  3. Set team goal: 100% migration by end of month\n```\n\n## Technical Implementation\n\n### Component Usage Scanner\n\n```typescript\n// scripts/scan-usage.ts\n\ninterface ComponentUsage {\n  component: string;\n  version: string;\n  file: string;\n  line: number;\n  importPath: string;\n  props: string[];\n  variant?: string;\n}\n\nasync function scanComponentUsage(\n  componentName: string\n): Promise<ComponentUsage[]> {\n  const usages: ComponentUsage[] = [];\n\n  // Find all files importing the component\n  const files = await findImports(componentName);\n\n  for (const file of files) {\n    const ast = parseFile(file);\n\n    // Find JSX usages\n    const jsxElements = findJSXElements(ast, componentName);\n\n    for (const element of jsxElements) {\n      usages.push({\n        component: componentName,\n        version: getComponentVersion(file, componentName),\n        file: file.path,\n        line: element.loc.start.line,\n        importPath: getImportPath(ast, componentName),\n        props: extractProps(element),\n        variant: getVariant(element),\n      });\n    }\n  }\n\n  return usages;\n}\n\nfunction getVariant(element: JSXElement): string | undefined {\n  // Look for variant prop\n  const variantProp = element.attributes.find(\n    attr => attr.name === 'variant'\n  );\n\n  if (variantProp && variantProp.value.type === 'StringLiteral') {\n    return variantProp.value.value;\n  }\n\n  return undefined;\n}\n```\n\n### Deprecation Impact Analyzer\n\n```typescript\n// scripts/analyze-deprecation.ts\n\ninterface DeprecationImpact {\n  component: string;\n  version: string;\n  totalUsages: number;\n  affectedFiles: number;\n  affectedFeatures: string[];\n  migrationEffort: {\n    low: number;\n    medium: number;\n    high: number;\n  };\n  breakingChanges: string[];\n  estimatedHours: number;\n}\n\nasync function analyzeDeprecationImpact(\n  component: string,\n  version: string\n): Promise<DeprecationImpact> {\n  const usages = await scanComponentUsage(component);\n  const versionUsages = usages.filter(u => u.version === version);\n\n  // Group by file\n  const fileGroups = groupBy(versionUsages, u => u.file);\n\n  // Analyze migration effort for each file\n  const efforts = await Promise.all(\n    Object.entries(fileGroups).map(([file, fileUsages]) =>\n      analyzeMigrationEffort(file, fileUsages)\n    )\n  );\n\n  // Categorize by effort\n  const migrationEffort = {\n    low: efforts.filter(e => e.effort === 'low').length,\n    medium: efforts.filter(e => e.effort === 'medium').length,\n    high: efforts.filter(e => e.effort === 'high').length,\n  };\n\n  // Estimate total hours\n  const estimatedHours =\n    migrationEffort.low * 0.1 +\n    migrationEffort.medium * 0.5 +\n    migrationEffort.high * 2;\n\n  // Get breaking changes\n  const breakingChanges = await getBreakingChanges(component, version);\n\n  return {\n    component,\n    version,\n    totalUsages: versionUsages.length,\n    affectedFiles: Object.keys(fileGroups).length,\n    affectedFeatures: extractFeatures(versionUsages),\n    migrationEffort,\n    breakingChanges,\n    estimatedHours,\n  };\n}\n\nasync function analyzeMigrationEffort(\n  file: string,\n  usages: ComponentUsage[]\n): Promise<{ file: string; effort: 'low' | 'medium' | 'high' }> {\n  const code = await readFile(file);\n\n  // Factors that increase effort:\n  // - Custom styling on component\n  // - Complex prop transformations\n  // - Type conflicts\n  // - Multiple usages in same file\n\n  let complexityScore = 0;\n\n  // Check for custom styling\n  if (code.includes('styled(') && code.includes(usages[0].component)) {\n    complexityScore += 2;\n  }\n\n  // Check for prop spreading\n  if (usages.some(u => u.props.includes('...'))) {\n    complexityScore += 1;\n  }\n\n  // Number of usages\n  if (usages.length > 5) {\n    complexityScore += 1;\n  }\n\n  // Categorize\n  if (complexityScore === 0) return { file, effort: 'low' };\n  if (complexityScore <= 2) return { file, effort: 'medium' };\n  return { file, effort: 'high' };\n}\n```\n\n### Unused Component Detector\n\n```typescript\n// scripts/detect-unused.ts\n\ninterface UnusedComponent {\n  name: string;\n  path: string;\n  usageCount: number;\n  lastUsed?: Date;\n  category: 'safe-to-remove' | 'potentially-unused' | 'low-usage';\n  bundleSize: number;\n}\n\nasync function detectUnusedComponents(): Promise<UnusedComponent[]> {\n  // Get all components\n  const components = await getAllComponents();\n\n  const unused: UnusedComponent[] = [];\n\n  for (const component of components) {\n    const usages = await scanComponentUsage(component.name);\n\n    // Exclude test and story usages for \"potentially unused\" check\n    const productionUsages = usages.filter(\n      u => !u.file.includes('.test.') && !u.file.includes('.stories.')\n    );\n\n    let category: UnusedComponent['category'];\n\n    if (productionUsages.length === 0 && usages.length === 0) {\n      category = 'safe-to-remove';\n    } else if (productionUsages.length === 0) {\n      category = 'potentially-unused';\n    } else if (productionUsages.length < 5) {\n      category = 'low-usage';\n    } else {\n      continue; // Not unused\n    }\n\n    // Get last usage date\n    const lastUsage = usages.length > 0\n      ? await getLastModifiedDate(usages[0].file)\n      : await getLastModifiedDate(component.path);\n\n    // Get bundle size\n    const bundleSize = await getComponentBundleSize(component.path);\n\n    unused.push({\n      name: component.name,\n      path: component.path,\n      usageCount: productionUsages.length,\n      lastUsed: lastUsage,\n      category,\n      bundleSize,\n    });\n  }\n\n  return unused;\n}\n```\n\n## Example Commands\n\n### Analyze Single Component\n\n```bash\nnpm run analyze:usage Button\n\n# Output: Usage report for Button component\n```\n\n### Deprecation Analysis\n\n```bash\nnpm run analyze:deprecate Button@v1\n\n# Output: Deprecation impact analysis with migration effort\n```\n\n### Find Unused Components\n\n```bash\nnpm run analyze:unused\n\n# Output: List of unused/low-usage components with recommendations\n```\n\n### Track Adoption\n\n```bash\nnpm run analyze:adoption Button@v2\n\n# Output: Adoption metrics and migration progress\n```\n\n### Generate Migration Guide\n\n```bash\nnpm run generate:migration-guide Button@v1 Button@v2\n\n# Output: Markdown migration guide with examples\n```\n\n## Integration with CI/CD\n\n```yaml\n# .github/workflows/component-analytics.yml\nname: Component Analytics\n\non:\n  schedule:\n    - cron: '0 0 * * 0'  # Weekly on Sunday\n\njobs:\n  analytics:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Install dependencies\n        run: npm ci\n      - name: Analyze component usage\n        run: npm run analyze:all\n      - name: Generate report\n        run: npm run generate:analytics-report\n      - name: Create issue for unused components\n        run: |\n          npm run analyze:unused --json > unused.json\n          gh issue create --title \"Weekly: Unused Components\" \\\n            --body-file unused.json \\\n            --label \"maintenance,components\"\n```\n\n## Dashboard Integration\n\nCreate a component analytics dashboard:\n\n```typescript\n// src/analytics/dashboard.tsx\n\nexport function ComponentAnalyticsDashboard() {\n  const [analytics, setAnalytics] = useState<Analytics | null>(null);\n\n  useEffect(() => {\n    loadAnalytics().then(setAnalytics);\n  }, []);\n\n  return (\n    <div>\n      <h1>Component Usage Analytics</h1>\n\n      <section>\n        <h2>Most Used Components</h2>\n        <BarChart data={analytics?.topComponents} />\n      </section>\n\n      <section>\n        <h2>Unused Components</h2>\n        <Table data={analytics?.unusedComponents} />\n      </section>\n\n      <section>\n        <h2>Migration Progress</h2>\n        <MigrationProgressChart data={analytics?.migrations} />\n      </section>\n\n      <section>\n        <h2>Adoption Trends</h2>\n        <LineChart data={analytics?.adoptionTrends} />\n      </section>\n    </div>\n  );\n}\n```\n\n## Best Practices\n\n1. **Regular Scanning** - Run analytics weekly or on PR merges\n2. **Track Trends** - Monitor adoption over time, not just snapshots\n3. **Automate Alerts** - Create issues for unused components automatically\n4. **Migration Planning** - Use effort estimates for sprint planning\n5. **Documentation** - Generate migration guides from analysis results\n\n## Limitations\n\n- Requires AST parsing (works with TS/JS/TSX/JSX)\n- May miss dynamic imports\n- Cannot detect runtime usage patterns\n- Estimates are guidelines, not precise timings\n\n## Integration with Other Skills\n\n- **visual-regression-testing** - Test after component migrations\n- **accessibility-remediation** - Verify a11y after refactoring\n- **story-generation** - Generate stories for migrated components\n- **ci-cd-generator** - Add analytics to CI pipeline\n\n## Files Reference\n\n- `references/ast-parsing.md` - AST parsing techniques\n- `examples/migration-guides.md` - Example migration guides\n- `scripts/scan-usage.ts` - Usage scanner\n- `scripts/analyze-deprecation.ts` - Deprecation analyzer\n- `scripts/detect-unused.ts` - Unused component detector\n\n## Summary\n\nComponent Usage Analytics provides data-driven insights for managing your component library. Track usage, plan deprecations, detect unused code, and monitor adoption.\n\n**Key Benefits:**\n- ‚úÖ Data-driven component decisions\n- ‚úÖ Safe deprecation planning\n- ‚úÖ Identify bundle bloat\n- ‚úÖ Track migration progress\n- ‚úÖ Optimize component library\n\n**Use this skill to** analyze component usage, plan deprecations, find unused components, and track adoption metrics.\n",
        "skills/dark-mode-generation/SKILL.md": "---\ndescription: Use this skill when the user asks to \"generate dark mode\", \"create dark theme\", \"add dark mode support\", \"convert to dark mode colors\", \"generate dark color palette\", or wants to automatically generate dark mode variants for their components with intelligent color inversion and accessibility preservation.\n---\n\n# Dark Mode Generation Skill\n\n## Overview\n\nAutomatically generate dark mode color schemes from light mode designs with intelligent color inversion, contrast preservation, and accessibility compliance (WCAG 2.2).\n\n**Input:** Light mode component\n**Output:** Dark mode CSS variables, color mappings, theme toggle, updated stories\n\n## How It Works\n\n### 1. Analyze Light Mode Colors\n\nExtract all colors from component:\n```tsx\n// Detected colors\nBackground: #FFFFFF\nText: #1F2937 (gray-800)\nPrimary: #2196F3 (blue-500)\nBorder: #E5E7EB (gray-200)\nShadow: rgba(0, 0, 0, 0.1)\n```\n\n### 2. Generate Dark Palette\n\nApply intelligent transformations:\n\n```css\n/* Light Mode */\n--bg-primary: #FFFFFF;      /* white */\n--text-primary: #1F2937;    /* dark gray */\n--color-primary: #2196F3;   /* blue */\n--border: #E5E7EB;          /* light gray */\n\n/* Dark Mode (Generated) */\n--bg-primary: #1F2937;      /* dark gray (inverted) */\n--text-primary: #F9FAFB;    /* off-white (inverted) */\n--color-primary: #60A5FA;   /* lighter blue (adjusted for contrast) */\n--border: #374151;          /* medium gray (adjusted) */\n```\n\n**Rules:**\n- Backgrounds: Darken significantly (#FFF ‚Üí #1F2937)\n- Text: Lighten for readability (#000 ‚Üí #F9FAFB)\n- Brand colors: Adjust for contrast (may lighten or darken)\n- Borders: Medium grays (#E5E7EB ‚Üí #374151)\n- Shadows: Invert or remove (dark shadows on dark BG don't work)\n\n### 3. Preserve Contrast Ratios\n\nEnsure WCAG compliance maintained:\n\n```\nLight Mode: #1F2937 on #FFFFFF = 16.1:1 (AAA) ‚úì\nDark Mode:  #F9FAFB on #1F2937 = 15.8:1 (AAA) ‚úì\n\nLight Mode: #2196F3 on #FFFFFF = 3.1:1 (AA Large) ‚úì\nDark Mode:  #60A5FA on #1F2937 = 4.7:1 (AA Normal) ‚úì (Improved!)\n```\n\n### 4. Generate Theme System\n\nCreate complete dark mode implementation:\n\n**CSS Variables:**\n```css\n/* themes/colors.css */\n:root {\n  --bg-primary: #FFFFFF;\n  --bg-secondary: #F9FAFB;\n  --text-primary: #1F2937;\n  --text-secondary: #6B7280;\n  --color-primary: #2196F3;\n  --border: #E5E7EB;\n  --shadow: rgba(0, 0, 0, 0.1);\n}\n\n[data-theme=\"dark\"] {\n  --bg-primary: #1F2937;\n  --bg-secondary: #111827;\n  --text-primary: #F9FAFB;\n  --text-secondary: #D1D5DB;\n  --color-primary: #60A5FA;\n  --border: #374151;\n  --shadow: rgba(0, 0, 0, 0.3);\n}\n```\n\n**Theme Toggle Component:**\n```tsx\n// components/ThemeToggle.tsx\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Moon, Sun } from 'lucide-react';\n\nexport function ThemeToggle() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n\n  useEffect(() => {\n    const saved = localStorage.getItem('theme') || 'light';\n    setTheme(saved as 'light' | 'dark');\n    document.documentElement.setAttribute('data-theme', saved);\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    document.documentElement.setAttribute('data-theme', newTheme);\n    localStorage.setItem('theme', newTheme);\n  };\n\n  return (\n    <button\n      onClick={toggleTheme}\n      aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n      className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800\"\n    >\n      {theme === 'light' ? <Moon size={20} /> : <Sun size={20} />}\n    </button>\n  );\n}\n```\n\n### 5. Update Storybook Stories\n\nAdd dark mode variants:\n\n```tsx\n// Button.stories.tsx\nexport const LightMode: Story = {\n  parameters: {\n    backgrounds: { default: 'light' },\n    theme: 'light',\n  },\n};\n\nexport const DarkMode: Story = {\n  parameters: {\n    backgrounds: { default: 'dark' },\n    theme: 'dark',\n  },\n  decorators: [\n    (Story) => (\n      <div data-theme=\"dark\">\n        <Story />\n      </div>\n    ),\n  ],\n};\n\nexport const AllThemes: Story = {\n  render: () => (\n    <div className=\"grid grid-cols-2 gap-4\">\n      <div data-theme=\"light\" className=\"p-4 bg-white\">\n        <h3>Light Mode</h3>\n        <Button variant=\"primary\">Click me</Button>\n      </div>\n      <div data-theme=\"dark\" className=\"p-4 bg-gray-900\">\n        <h3>Dark Mode</h3>\n        <Button variant=\"primary\">Click me</Button>\n      </div>\n    </div>\n  ),\n};\n```\n\n## Color Transformation Rules\n\n### Surface Colors\n```\nLight ‚Üí Dark\n#FFFFFF ‚Üí #1F2937  (primary background)\n#F9FAFB ‚Üí #111827  (secondary background)\n#F3F4F6 ‚Üí #0F172A  (tertiary background)\n```\n\n### Text Colors\n```\nLight ‚Üí Dark\n#111827 ‚Üí #F9FAFB  (primary text)\n#374151 ‚Üí #E5E7EB  (secondary text)\n#6B7280 ‚Üí #9CA3AF  (tertiary text)\n```\n\n### Brand Colors\nAdjust for contrast, not just invert:\n```\nPrimary Blue:\n#2196F3 ‚Üí #60A5FA  (lighter for dark BG)\n\nSuccess Green:\n#10B981 ‚Üí #34D399  (lighter)\n\nError Red:\n#EF4444 ‚Üí #F87171  (lighter)\n\nWarning Yellow:\n#F59E0B ‚Üí #FBBF24  (lighter)\n```\n\n### Borders & Dividers\n```\n#E5E7EB ‚Üí #374151  (visible on dark)\n#D1D5DB ‚Üí #4B5563  (medium)\n#9CA3AF ‚Üí #6B7280  (subtle)\n```\n\n### Shadows\n```\nLight Mode: rgba(0, 0, 0, 0.1)\nDark Mode: rgba(0, 0, 0, 0.3)  (darker, more pronounced)\n```\n\n## Semantic Color Mapping\n\nMaintain semantic meaning across themes:\n\n```css\n/* Semantic tokens */\n:root {\n  --color-success: #10B981;\n  --color-warning: #F59E0B;\n  --color-error: #EF4444;\n  --color-info: #3B82F6;\n}\n\n[data-theme=\"dark\"] {\n  --color-success: #34D399;  /* Lighter green */\n  --color-warning: #FBBF24;  /* Lighter yellow */\n  --color-error: #F87171;    /* Lighter red */\n  --color-info: #60A5FA;     /* Lighter blue */\n}\n```\n\n## Best Practices\n\n### ‚úÖ Do's\n- Test contrast ratios (use WCAG checker)\n- Adjust brand colors for readability\n- Provide theme toggle in accessible location\n- Persist user preference (localStorage)\n- Use CSS variables for easy switching\n- Test with real users in dark environments\n\n### ‚ùå Don'ts\n- Don't just invert all colors\n- Don't use pure black (#000) as background (harsh)\n- Don't forget to adjust shadows\n- Don't ignore semantic colors (success, error, etc.)\n- Don't make dark mode an afterthought\n\n## Integration\n\n### With Tailwind CSS\n```js\n// tailwind.config.js\nmodule.exports = {\n  darkMode: 'class',  // or 'media'\n  theme: {\n    extend: {\n      colors: {\n        primary: {\n          light: '#2196F3',\n          dark: '#60A5FA',\n        },\n      },\n    },\n  },\n};\n\n// Usage\n<div className=\"bg-white dark:bg-gray-900\">\n  <h1 className=\"text-gray-900 dark:text-gray-100\">\n```\n\n### With CSS Modules\n```css\n/* Component.module.css */\n.container {\n  background: var(--bg-primary);\n  color: var(--text-primary);\n}\n\n[data-theme=\"dark\"] .container {\n  /* Inherits CSS variables */\n}\n```\n\n## Files Generated\n\n1. **themes/colors.css** - CSS variable definitions\n2. **components/ThemeToggle.tsx** - Theme switcher\n3. **stories/ThemePreviews.stories.tsx** - Side-by-side comparisons\n4. **docs/DarkModeGuide.md** - Usage documentation\n\n## Summary\n\nAutomatic dark mode generation:\n1. Analyzes light mode colors\n2. Generates accessible dark palette\n3. Creates theme system (CSS vars + toggle)\n4. Updates Storybook stories\n5. Maintains WCAG compliance\n\n**Result:** Production-ready dark mode in minutes, not hours.\n",
        "skills/design-to-code/SKILL.md": "---\ndescription: Use this skill when the user uploads a design screenshot, shares a Figma export, provides a mockup image, or asks to \"convert design to code\", \"build from mockup\", \"generate component from screenshot\", \"extract design to React\", or wants to transform visual designs into production-ready components using Claude's vision capabilities.\n---\n\n# Design-to-Code Skill (Vision AI)\n\n## Overview\n\nTransform design screenshots, Figma exports, and mockups into pixel-perfect React components using Claude's multimodal vision capabilities. Upload an image, get production code with exact spacing, colors, typography, and all visual states.\n\n**This is the flagship SOTA feature - leverages Claude's vision models for design analysis.**\n\n## How It Works\n\n### 1. Upload Design\n\nSupported formats:\n- **Screenshots**: PNG, JPG from any design tool\n- **Figma exports**: Frame exports, component screenshots\n- **Mockups**: Photoshop, Sketch, XD exports\n- **Photos**: Even hand-drawn sketches (with lower accuracy)\n\n### 2. Vision AI Analysis\n\nClaude's vision model extracts:\n\n```json\n{\n  \"component_type\": \"card\",\n  \"layout\": {\n    \"type\": \"flex\",\n    \"direction\": \"column\",\n    \"align\": \"stretch\",\n    \"gap\": \"16px\",\n    \"padding\": \"24px\"\n  },\n  \"spacing\": {\n    \"padding\": \"24px\",\n    \"gap_vertical\": \"16px\",\n    \"gap_horizontal\": \"12px\",\n    \"border_radius\": \"8px\"\n  },\n  \"colors\": {\n    \"background\": \"#FFFFFF\",\n    \"text_primary\": \"#1F2937\",\n    \"text_secondary\": \"#6B7280\",\n    \"border\": \"#E5E7EB\",\n    \"accent\": \"#2196F3\"\n  },\n  \"typography\": [\n    { \"element\": \"heading\", \"size\": \"24px\", \"weight\": \"700\", \"line_height\": \"1.2\" },\n    { \"element\": \"body\", \"size\": \"16px\", \"weight\": \"400\", \"line_height\": \"1.5\" },\n    { \"element\": \"caption\", \"size\": \"14px\", \"weight\": \"500\", \"line_height\": \"1.4\" }\n  ],\n  \"elements\": [\n    { \"type\": \"image\", \"width\": \"100%\", \"height\": \"200px\", \"object_fit\": \"cover\" },\n    { \"type\": \"heading\", \"text\": \"Product Title\" },\n    { \"type\": \"paragraph\", \"text\": \"Description text...\" },\n    { \"type\": \"button\", \"variant\": \"primary\", \"text\": \"Add to Cart\" }\n  ],\n  \"states\": [\"default\", \"hover\", \"focused\"],\n  \"responsive\": {\n    \"mobile\": { \"padding\": \"16px\", \"font_size_heading\": \"20px\" },\n    \"desktop\": { \"padding\": \"24px\", \"font_size_heading\": \"24px\" }\n  }\n}\n```\n\n### 3. Generate Component Code\n\n**Example: Product Card from Screenshot**\n\n```tsx\n// Generated from design screenshot\n\nimport { ShoppingCart } from 'lucide-react';\n\ninterface ProductCardProps {\n  product: {\n    image: string;\n    title: string;\n    description: string;\n    price: number;\n    rating: number;\n  };\n  onAddToCart: () => void;\n}\n\nexport function ProductCard({ product, onAddToCart }: ProductCardProps) {\n  return (\n    <article className=\"flex flex-col rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow\">\n      {/* ‚ú® Extracted: 200px height, cover fit */}\n      <img\n        src={product.image}\n        alt={product.title}\n        className=\"w-full h-[200px] object-cover\"\n      />\n\n      {/* ‚ú® Extracted: 24px padding, 16px gap */}\n      <div className=\"flex flex-col gap-4 p-6\">\n        {/* ‚ú® Extracted: 24px size, 700 weight */}\n        <h3 className=\"text-2xl font-bold text-gray-900\">\n          {product.title}\n        </h3>\n\n        {/* ‚ú® Extracted: 16px size, gray-600 color */}\n        <p className=\"text-base text-gray-600 line-clamp-2\">\n          {product.description}\n        </p>\n\n        {/* ‚ú® Extracted: flex layout, space-between */}\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-xl font-semibold text-gray-900\">\n            ${product.price.toFixed(2)}\n          </span>\n\n          {/* ‚ú® Extracted: blue button with icon */}\n          <button\n            onClick={onAddToCart}\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n          >\n            <ShoppingCart size={18} />\n            Add to Cart\n          </button>\n        </div>\n      </div>\n    </article>\n  );\n}\n```\n\n### 4. Extract Design Tokens\n\nCreate reusable design system:\n\n```css\n/* Generated design tokens from screenshot */\n\n/* Colors */\n--color-primary: #2196F3;\n--color-bg: #FFFFFF;\n--color-text-primary: #1F2937;\n--color-text-secondary: #6B7280;\n--color-border: #E5E7EB;\n\n/* Typography */\n--font-size-h1: 24px;\n--font-size-body: 16px;\n--font-size-caption: 14px;\n--font-weight-bold: 700;\n--font-weight-medium: 500;\n--font-weight-normal: 400;\n--line-height-tight: 1.2;\n--line-height-normal: 1.5;\n\n/* Spacing */\n--space-2: 8px;\n--space-3: 12px;\n--space-4: 16px;\n--space-6: 24px;\n\n/* Borders */\n--radius-md: 8px;\n--border-width: 1px;\n```\n\n### 5. Generate All Variants\n\nVision AI detects states from visual cues:\n\n```tsx\n// Detected hover state (darker shadow, lifted appearance)\nexport const Hover: Story = {\n  parameters: {\n    pseudo: { hover: true },\n  },\n};\n\n// Detected focused state (blue outline ring)\nexport const Focused: Story = {\n  parameters: {\n    pseudo: { focus: true },\n  },\n};\n\n// Detected disabled state (grayed out, reduced opacity)\nexport const Disabled: Story = {\n  args: {\n    disabled: true,\n  },\n};\n```\n\n## Advanced Features\n\n### Multi-Design Analysis\n\nUpload multiple screenshots to extract design system:\n\n```bash\nUser uploads:\n- button-primary.png\n- button-secondary.png\n- card-default.png\n- card-featured.png\n\nAI extracts:\n- Color palette (all unique colors across designs)\n- Typography scale (all font sizes used)\n- Spacing system (common spacing values)\n- Component variants (primary vs secondary button)\n```\n\n### Responsive Detection\n\nIf multiple screenshots provided (mobile + desktop):\n\n```tsx\n// Desktop\n<div className=\"hidden md:flex md:p-6\">\n\n// Mobile\n<div className=\"flex p-4 md:hidden\">\n\n// Responsive\n<h1 className=\"text-xl md:text-2xl\">\n```\n\n### State Inference\n\nVision AI infers states from design:\n\n**Detected patterns:**\n- Darker color ‚Üí Hover state\n- Blue outline ‚Üí Focus state\n- Reduced opacity ‚Üí Disabled state\n- Spinner/loading indicator ‚Üí Loading state\n- Red border ‚Üí Error state\n- Green checkmark ‚Üí Success state\n\n### Component Recognition\n\nAI identifies component types:\n\n- **Button**: Rectangular, text + optional icon, solid background\n- **Card**: Container with border/shadow, multiple child elements\n- **Input**: Text field with border, optional label\n- **Modal**: Centered overlay with backdrop\n- **Nav**: Horizontal/vertical list of links\n- **Table**: Grid of data with headers\n- **Form**: Multiple inputs with labels and submit button\n\n## Workflow Example\n\n### User Uploads Pricing Card Screenshot\n\n**AI Analysis:**\n```\nDetected:\n- Component: Pricing Card\n- Layout: Vertical stack, centered content\n- Sections: Header (icon + title), Price (large number), Features (list), CTA (button)\n- Colors: Purple primary (#8B5CF6), White BG, Gray text\n- Spacing: 32px padding, 16px gap between sections\n- Typography: 48px price, 24px title, 16px features\n- Border: 1px solid, 12px radius\n- States: Default + Featured (purple border, purple BG for header)\n```\n\n**Generated Code:**\n```tsx\ninterface PricingCardProps {\n  plan: {\n    name: string;\n    price: number;\n    features: string[];\n    icon: React.ReactNode;\n  };\n  featured?: boolean;\n  onSelect: () => void;\n}\n\nexport function PricingCard({ plan, featured = false, onSelect }: PricingCardProps) {\n  return (\n    <div\n      className={`\n        flex flex-col gap-4 p-8 rounded-xl border\n        ${featured ? 'border-purple-500 bg-purple-50' : 'border-gray-200 bg-white'}\n      `}\n    >\n      {/* Header */}\n      <div className=\"flex items-center gap-3\">\n        <div className=\"text-purple-500\">{plan.icon}</div>\n        <h3 className=\"text-2xl font-bold\">{plan.name}</h3>\n      </div>\n\n      {/* Price */}\n      <div className=\"flex items-baseline gap-1\">\n        <span className=\"text-5xl font-bold\">${plan.price}</span>\n        <span className=\"text-gray-600\">/month</span>\n      </div>\n\n      {/* Features */}\n      <ul className=\"flex flex-col gap-2\">\n        {plan.features.map(feature => (\n          <li key={feature} className=\"flex items-center gap-2\">\n            <Check className=\"text-purple-500\" size={16} />\n            <span>{feature}</span>\n          </li>\n        ))}\n      </ul>\n\n      {/* CTA */}\n      <button\n        onClick={onSelect}\n        className={`\n          mt-4 px-6 py-3 rounded-lg font-semibold transition-colors\n          ${featured\n            ? 'bg-purple-500 text-white hover:bg-purple-600'\n            : 'bg-gray-100 text-gray-900 hover:bg-gray-200'\n          }\n        `}\n      >\n        {featured ? 'Get Started' : 'Select Plan'}\n      </button>\n    </div>\n  );\n}\n```\n\n**Generated Stories:**\n```tsx\nexport const Basic: Story = {\n  args: {\n    plan: {\n      name: 'Starter',\n      price: 9,\n      features: ['Feature 1', 'Feature 2', 'Feature 3'],\n      icon: <Star />,\n    },\n  },\n};\n\nexport const Featured: Story = {\n  args: {\n    ...Basic.args,\n    featured: true,\n  },\n};\n```\n\n## Accuracy & Limitations\n\n### High Accuracy For:\n- ‚úÖ Layout structure (flex, grid, positioning)\n- ‚úÖ Spacing measurements (padding, gap, margin)\n- ‚úÖ Colors (exact hex values from screenshots)\n- ‚úÖ Typography (font sizes, weights)\n- ‚úÖ Component types (button, card, input, etc.)\n\n### Challenges:\n- ‚ö†Ô∏è Subtle spacing (1-2px differences)\n- ‚ö†Ô∏è Complex animations (CSS/JS required)\n- ‚ö†Ô∏è Custom fonts (may default to system fonts)\n- ‚ö†Ô∏è Low-resolution images (pixelation)\n- ‚ö†Ô∏è Hand-drawn sketches (approximate)\n\n### Recommendations:\n- Use high-resolution screenshots (2x or 3x)\n- Include multiple states if possible (hover, focus, etc.)\n- Provide design system context (color names, spacing scale)\n- Review and refine generated code\n\n## Integration with Design Tools\n\n### Figma Plugin (Future)\nDirect integration with Figma API:\n- Select frame ‚Üí Generate code\n- Auto-sync design updates\n- Extract design tokens automatically\n\n### Sketch/XD\nExport artboards ‚Üí Upload to Claude ‚Üí Generate code\n\n## Commands\n\n### `/design-to-code`\nInteractive workflow:\n1. User provides image (upload or URL)\n2. AI analyzes and shows extracted data\n3. User confirms or adjusts\n4. AI generates component + stories + tokens\n\n### `/extract-design-tokens`\nExtract only design tokens from multiple screenshots:\n- Colors, typography, spacing\n- Output as CSS variables or JSON\n\n## Best Practices\n\n### For Best Results:\n1. **High resolution**: 2x or 3x screenshots\n2. **Clean backgrounds**: Remove noise, distractions\n3. **Clear states**: Separate screenshots for hover/focus/disabled\n4. **Annotate if needed**: Add notes about behavior\n5. **Provide context**: Mention design system if you have one\n\n### Review Generated Code:\n- ‚úÖ Check responsive breakpoints\n- ‚úÖ Verify accessibility attributes\n- ‚úÖ Test keyboard navigation\n- ‚úÖ Adjust animations (AI can't infer timing)\n- ‚úÖ Add business logic (AI generates UI only)\n\n## Summary\n\nVision AI design-to-code pipeline:\n1. Upload design screenshot\n2. Claude vision model extracts layout, colors, typography, spacing\n3. Generates pixel-perfect React component\n4. Creates design tokens (CSS variables)\n5. Generates Storybook stories with all states\n6. Adds accessibility attributes\n\n**Result:** 80% faster design-to-code workflow, pixel-perfect accuracy, production-ready components.\n",
        "skills/design-token-sync/SKILL.md": "---\nname: Bidirectional Design Token Sync\ndescription: Use this skill when users mention \"sync design tokens\", \"Figma to code\", \"design system sync\", \"token drift\", \"keep tokens in sync\", or want to synchronize design tokens between Figma and codebase bidirectionally with automatic drift detection and conflict resolution.\nversion: 1.0.0\n---\n\n# Bidirectional Design Token Sync\n\n## Overview\n\nKeep design tokens synchronized between Figma and your codebase automatically. Detect drift, resolve conflicts, and maintain a single source of truth for your design system.\n\n**Key Innovation:** Bidirectional sync means changes in Figma OR code propagate automatically with conflict detection and intelligent merging.\n\n## When to Use This Skill\n\nTrigger this skill when the user:\n- Mentions \"sync tokens with Figma\" or \"Figma sync\"\n- Wants to \"export tokens from Figma\" or \"import tokens to Figma\"\n- Asks about \"design token drift\" or \"out of sync tokens\"\n- Wants to \"update tokens from design\" or vice versa\n- Mentions Style Dictionary, design tokens, or token management\n- Has conflicts between design and code token values\n\n## Core Capabilities\n\n### 1. Figma ‚Üí Code Sync\n\n**Problem:** Designers update colors/spacing in Figma, developers manually update code\n\n**Solution:** Automatic extraction and sync:\n```\nFigma Variables/Styles ‚Üí Parse ‚Üí Transform ‚Üí Code Tokens\n```\n\nSupports:\n- Colors (all formats: hex, rgb, hsl)\n- Typography (font-family, size, weight, line-height, letter-spacing)\n- Spacing (padding, margin, gap)\n- Border radius\n- Shadows/elevation\n- Gradients\n\n### 2. Code ‚Üí Figma Sync\n\n**Problem:** Developers add tokens in code, design falls out of sync\n\n**Solution:** Push code changes back to Figma:\n```\nCode Tokens ‚Üí Transform ‚Üí Figma API ‚Üí Update Variables/Styles\n```\n\n### 3. Drift Detection\n\nAutomatically detect when design and code tokens diverge:\n\n```bash\n$ npm run tokens:check\n\nüîç Drift detected:\n\nFigma ‚Üí Code (5 changes):\n  ‚úì primary-500: #2196F3 ‚Üí #1976D2 (theme update)\n  ‚úì spacing-lg: 20px ‚Üí 24px (increased)\n  ‚ö†Ô∏è New token: primary-gradient (add to code)\n  ‚ö†Ô∏è New token: shadow-xl (add to code)\n  ‚úì Renamed: font-body ‚Üí font-sans (update)\n\nCode ‚Üí Figma (2 changes):\n  ‚ö†Ô∏è success-900 exists in code but not Figma (add)\n  ‚ö†Ô∏è border-radius-2xl exists in code but not Figma (add)\n\nApply changes? [Figma‚ÜíCode] [Code‚ÜíFigma] [Both] [Review]\n```\n\n### 4. Conflict Resolution\n\nWhen both sides changed the same token:\n\n```\n‚ö†Ô∏è Conflict detected for token: primary-500\n\nFigma:  #1976D2 (updated 2 hours ago by Sarah Designer)\nCode:   #2196F3 (updated 1 hour ago by you in commit abc123)\n\nWhich version should we keep?\n[F]igma value  [C]ode value  [M]erge manually  [S]kip\n\nRecommendation: Code value is newer, use Code (C)\n```\n\n## Technical Implementation\n\n### Architecture\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Figma  ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ Style        ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ Code ‚îÇ\n‚îÇ   API   ‚îÇ         ‚îÇ Dictionary   ‚îÇ         ‚îÇTokens‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n     ‚Üì                      ‚Üì                     ‚Üì\n  Variables         tokens.json              CSS/JS/TS\n   Styles                                  src/tokens/\n```\n\n### Components\n\n1. **Figma Plugin** (Optional)\n   - Runs inside Figma\n   - Extracts variables and styles\n   - Can update Figma from external source\n\n2. **Sync CLI** (Core)\n   - Command-line tool for sync\n   - Connects to Figma API\n   - Uses Style Dictionary for transformation\n\n3. **Style Dictionary Config**\n   - Transforms tokens to multiple formats\n   - CSS variables, SCSS, JS, JSON, iOS, Android\n\n4. **Drift Detector**\n   - Compares Figma and code tokens\n   - Identifies additions, deletions, changes\n   - Tracks change history\n\n### Setup\n\nUse `/sync-design-tokens --setup` to configure:\n\n```bash\nFigma Design Token Sync Setup\n==============================\n\n1. Figma Configuration\n   ? Figma file URL: https://figma.com/file/abc123...\n   ? Figma access token: (input hidden)\n   ? Token location in Figma: [Local Variables] [Shared Variables]\n\n2. Sync Direction\n   ? Sync direction: [Bidirectional] [Figma ‚Üí Code only] [Code ‚Üí Figma only]\n   ? Auto-sync on file save: [Yes] [No]\n   ? Sync on git commit: [Yes] [No]\n\n3. Conflict Resolution\n   ? On conflict: [Manual review] [Prefer Figma] [Prefer Code] [Use latest]\n\n4. Output Formats\n   ? Generate CSS variables: [Yes]\n   ? Generate SCSS variables: [Yes]\n   ? Generate TypeScript: [Yes]\n   ? Generate JSON: [Yes]\n\nSetting up...\n‚úì Installed: @figma/rest-api-client\n‚úì Installed: style-dictionary\n‚úì Created: tokens/figma-tokens.json (source of truth)\n‚úì Created: config/style-dictionary.config.js\n‚úì Created: scripts/sync-tokens.js\n‚úì Added NPM scripts\n\nSetup complete! Run 'npm run tokens:sync' to sync for the first time.\n```\n\n### Workflow\n\n#### Initial Sync (Figma ‚Üí Code)\n\n```bash\n$ npm run tokens:sync\n\nFetching tokens from Figma...\n  ‚úì Connected to Figma file: Design System v2\n  ‚úì Found 127 color variables\n  ‚úì Found 43 typography styles\n  ‚úì Found 24 spacing tokens\n  ‚úì Found 12 shadow styles\n\nTransforming tokens...\n  ‚úì Generated: src/tokens/colors.css\n  ‚úì Generated: src/tokens/colors.scss\n  ‚úì Generated: src/tokens/colors.ts\n  ‚úì Generated: src/tokens/typography.css\n  ‚úì Generated: src/tokens/spacing.css\n\nInitial sync complete! üì¶\nTotal tokens: 206\n```\n\n#### Regular Sync with Drift\n\n```bash\n$ npm run tokens:check\n\nChecking for drift...\n\nChanges detected:\n  Figma ‚Üí Code: 3 changes\n  Code ‚Üí Figma: 1 change\n\nWould you like to review? [Yes] [Apply all] [Cancel]\n\nUser: Yes\n\n---\n\nChange 1 of 4: primary-600 color update\n\nSource: Figma\nType: Color modification\nOld value: #2196F3\nNew value: #1976D2\nLast updated: 2 hours ago by Sarah Designer\nAffected tokens in code: 12 references\n\nApply this change? [Yes] [No] [Skip all]\n\nUser: Yes\n\n‚úì Updated src/tokens/colors.css\n‚úì Updated src/tokens/colors.scss\n‚úì Updated src/tokens/colors.ts\n\n---\n\nChange 2 of 4: success-900 missing in Figma\n\nSource: Code\nType: New token\nValue: #1B5E20\nCreated: 3 days ago in commit def456\nUsage: 5 components\n\nAdd to Figma? [Yes] [No] [Skip all]\n\nUser: Yes\n\n‚úì Created in Figma: success-900\n‚úì Added to collection: Colors/Success\n\n---\n\nSync complete! Applied 4 changes.\n\nSummary:\n  ‚úì Figma ‚Üí Code: 3 changes applied\n  ‚úì Code ‚Üí Figma: 1 change applied\n  ‚úì No conflicts\n\nRun 'git status' to see updated files.\n```\n\n## Figma API Integration\n\n### Authentication\n\n```javascript\n// scripts/sync-tokens.js\nimport { FigmaClient } from '@figma/rest-api-client';\n\nconst client = new FigmaClient({\n  personalAccessToken: process.env.FIGMA_ACCESS_TOKEN\n});\n\nconst fileKey = 'abc123...'; // From Figma URL\n\n// Get file variables\nconst variables = await client.getFileVariables(fileKey);\n```\n\n### Extract Variables\n\n```javascript\nasync function extractTokensFromFigma(fileKey) {\n  const file = await client.getFile(fileKey);\n  const variables = await client.getFileVariables(fileKey);\n\n  const tokens = {\n    color: {},\n    typography: {},\n    spacing: {},\n    shadow: {}\n  };\n\n  // Extract color variables\n  for (const [id, variable] of Object.entries(variables.variables)) {\n    if (variable.resolvedType === 'COLOR') {\n      const name = variable.name.toLowerCase().replace(/\\s+/g, '-');\n      const value = rgbaToHex(variable.valuesByMode.default);\n\n      tokens.color[name] = {\n        value,\n        type: 'color',\n        figmaId: id,\n        description: variable.description || ''\n      };\n    }\n  }\n\n  // Extract typography styles\n  const styles = await client.getFileStyles(fileKey);\n\n  for (const style of styles.text) {\n    const name = style.name.toLowerCase().replace(/\\s+/g, '-');\n\n    tokens.typography[name] = {\n      fontFamily: style.fontFamily,\n      fontSize: style.fontSize,\n      fontWeight: style.fontWeight,\n      lineHeight: style.lineHeight,\n      letterSpacing: style.letterSpacing,\n      type: 'typography',\n      figmaId: style.id\n    };\n  }\n\n  return tokens;\n}\n```\n\n### Push Updates to Figma\n\n```javascript\nasync function pushTokensToFigma(tokens, fileKey) {\n  const updates = [];\n\n  for (const [category, categoryTokens] of Object.entries(tokens)) {\n    for (const [name, token] of Object.entries(categoryTokens)) {\n      if (!token.figmaId) {\n        // New token - create in Figma\n        updates.push(createVariable(name, token));\n      } else if (token.modified) {\n        // Modified token - update in Figma\n        updates.push(updateVariable(token.figmaId, token));\n      }\n    }\n  }\n\n  // Batch update\n  await client.updateFileVariables(fileKey, { updates });\n}\n\nasync function createVariable(name, token) {\n  return {\n    action: 'CREATE',\n    name: name,\n    resolvedType: token.type === 'color' ? 'COLOR' : 'FLOAT',\n    valuesByMode: {\n      default: parseTokenValue(token.value, token.type)\n    }\n  };\n}\n```\n\n## Style Dictionary Configuration\n\n```javascript\n// config/style-dictionary.config.js\nexport default {\n  source: ['tokens/figma-tokens.json'],\n\n  platforms: {\n    css: {\n      transformGroup: 'css',\n      buildPath: 'src/tokens/',\n      files: [{\n        destination: 'colors.css',\n        format: 'css/variables',\n        filter: token => token.type === 'color'\n      }]\n    },\n\n    scss: {\n      transformGroup: 'scss',\n      buildPath: 'src/tokens/',\n      files: [{\n        destination: '_colors.scss',\n        format: 'scss/variables',\n        filter: token => token.type === 'color'\n      }]\n    },\n\n    js: {\n      transformGroup: 'js',\n      buildPath: 'src/tokens/',\n      files: [{\n        destination: 'colors.ts',\n        format: 'javascript/es6',\n        filter: token => token.type === 'color'\n      }]\n    },\n\n    json: {\n      buildPath: 'dist/tokens/',\n      files: [{\n        destination: 'tokens.json',\n        format: 'json/flat'\n      }]\n    }\n  }\n};\n```\n\n## Drift Detection Algorithm\n\n```python\n# scripts/detect-drift.py\n\ndef detect_drift(figma_tokens, code_tokens):\n    \"\"\"Detect differences between Figma and code tokens\"\"\"\n\n    drift = {\n        'figma_to_code': [],  # Changes in Figma not in code\n        'code_to_figma': [],  # Changes in code not in Figma\n        'conflicts': []       # Both changed differently\n    }\n\n    all_token_names = set(figma_tokens.keys()) | set(code_tokens.keys())\n\n    for name in all_token_names:\n        figma_token = figma_tokens.get(name)\n        code_token = code_tokens.get(name)\n\n        if figma_token and not code_token:\n            # Token exists in Figma but not code\n            drift['figma_to_code'].append({\n                'type': 'new',\n                'name': name,\n                'value': figma_token['value'],\n                'action': 'add_to_code'\n            })\n\n        elif code_token and not figma_token:\n            # Token exists in code but not Figma\n            drift['code_to_figma'].append({\n                'type': 'new',\n                'name': name,\n                'value': code_token['value'],\n                'action': 'add_to_figma'\n            })\n\n        elif figma_token and code_token:\n            # Token exists in both - check for changes\n            if figma_token['value'] != code_token['value']:\n                # Check timestamps to determine which is newer\n                figma_time = figma_token.get('lastModified', 0)\n                code_time = code_token.get('lastModified', 0)\n\n                if figma_time > code_time:\n                    drift['figma_to_code'].append({\n                        'type': 'modified',\n                        'name': name,\n                        'old_value': code_token['value'],\n                        'new_value': figma_token['value'],\n                        'action': 'update_code'\n                    })\n                elif code_time > figma_time:\n                    drift['code_to_figma'].append({\n                        'type': 'modified',\n                        'name': name,\n                        'old_value': figma_token['value'],\n                        'new_value': code_token['value'],\n                        'action': 'update_figma'\n                    })\n                else:\n                    # Modified at same time = conflict\n                    drift['conflicts'].append({\n                        'name': name,\n                        'figma_value': figma_token['value'],\n                        'code_value': code_token['value'],\n                        'action': 'manual_resolution'\n                    })\n\n    return drift\n```\n\n## Example Usage\n\n### Scenario 1: Designer Updates Color in Figma\n\n```bash\n# Designer changes primary-600 in Figma from #2196F3 to #1976D2\n\n$ npm run tokens:sync\n\nSyncing with Figma...\n\nChanges detected:\n  ‚úì primary-600: #2196F3 ‚Üí #1976D2 (Figma updated 5 mins ago)\n\nAffected code:\n  - src/components/Button.tsx (2 references)\n  - src/components/Card.tsx (1 reference)\n  - src/theme/colors.css (1 reference)\n\nApply change? [Yes] [No] [Review impact]\n\nUser: Yes\n\n‚úì Updated tokens/figma-tokens.json\n‚úì Regenerated src/tokens/colors.css\n‚úì Regenerated src/tokens/colors.scss\n‚úì Regenerated src/tokens/colors.ts\n\n‚úì Sync complete!\n\nNext steps:\n1. Review changes: git diff\n2. Test visual regressions: npm run test:visual\n3. Commit changes: git add . && git commit -m \"chore: sync design tokens\"\n```\n\n### Scenario 2: Developer Adds New Token in Code\n\n```bash\n# Developer adds success-900 in src/tokens/colors.ts\n\n$ npm run tokens:sync\n\nSyncing with Figma...\n\nNew tokens in code:\n  ‚ö†Ô∏è success-900: #1B5E20 (not in Figma)\n\nAdd to Figma? [Yes] [No]\n\nUser: Yes\n\nCreating in Figma...\n  ‚úì Created variable: success-900\n  ‚úì Added to collection: Colors/Success\n  ‚úì Value set to: #1B5E20\n\n‚úì Sync complete!\n\nThe token is now available in Figma for designers.\n```\n\n### Scenario 3: Conflict Resolution\n\n```bash\n$ npm run tokens:sync\n\n‚ö†Ô∏è Conflict detected!\n\nToken: spacing-lg\nFigma:  24px (updated 2 hours ago by Sarah)\nCode:   28px (updated 1 hour ago by you in commit abc123)\n\nBoth changed differently. Which should we keep?\n\n[F]igma (24px)\n[C]ode (28px)\n[M]anual merge\n[S]kip for now\n\nRecommendation: Code value is newer (C)\n\nUser: C\n\n‚úì Keeping code value (28px)\n‚úì Updating Figma to match code\n\nConflict resolved!\n```\n\n## Best Practices\n\n### 1. Single Source of Truth\n\nChoose one source as primary:\n- **Figma-first:** Designers own tokens, code syncs from Figma\n- **Code-first:** Developers own tokens, Figma syncs from code\n- **Bidirectional:** Both can update, conflicts resolved manually\n\n### 2. Sync Frequency\n\n- **Manual:** Run `npm run tokens:sync` when needed\n- **On Save:** Auto-sync when Figma file saved (requires Figma plugin)\n- **On Commit:** Pre-commit hook checks for drift\n- **CI/CD:** Verify no drift in pull requests\n\n### 3. Version Control\n\n- Commit `tokens/figma-tokens.json` to git\n- Commit generated CSS/SCSS/TS files\n- Track token changes in changelog\n- Tag releases with token versions\n\n### 4. Team Workflow\n\n- **Designers:** Update tokens in Figma, notify developers\n- **Developers:** Run sync, review changes, commit\n- **Both:** Use PR reviews to discuss token changes\n\n## Troubleshooting\n\n### Authentication Errors\n\n```\n‚ùå Error: Figma authentication failed\n\nCause: Invalid or expired access token\n\nFix:\n1. Generate new token: https://figma.com/developers\n2. Update .env: FIGMA_ACCESS_TOKEN=your_new_token\n3. Try again: npm run tokens:sync\n```\n\n### Merge Conflicts\n\n```\n‚ö†Ô∏è Git merge conflict in tokens/figma-tokens.json\n\nThis means someone else updated tokens since your last sync.\n\nFix:\n1. Pull latest changes: git pull origin main\n2. Resolve conflicts in tokens/figma-tokens.json\n3. Re-run sync: npm run tokens:sync\n4. Commit resolved changes\n```\n\n### Too Many Changes\n\n```\n‚ö†Ô∏è Large number of changes detected (47 tokens modified)\n\nThis is unusual. Possible causes:\n1. First time syncing\n2. Major design system overhaul\n3. Token format changed\n\nReview carefully before applying.\n```\n\n## Integration with Other Skills\n\n- **visual-regression-testing** - Test token changes visually\n- **accessibility-remediation** - Verify color contrast after changes\n- **dark-mode-generation** - Sync dark mode tokens\n- **storybook-config** - Update Storybook theme tokens\n\n## Files Reference\n\n- `references/figma-api.md` - Figma API documentation\n- `references/style-dictionary.md` - Style Dictionary guide\n- `examples/sync-workflows.md` - Common sync scenarios\n- `scripts/sync-tokens.js` - Main sync script\n- `scripts/detect-drift.py` - Drift detection\n\n## Summary\n\nDesign Token Sync keeps your design system consistent between Figma and code automatically. Bidirectional sync means changes in either location propagate with conflict detection and resolution.\n\n**Key Benefits:**\n- ‚úÖ Automatic sync between Figma and code\n- ‚úÖ Drift detection and conflict resolution\n- ‚úÖ Multi-format output (CSS, SCSS, TS, JSON)\n- ‚úÖ Version controlled token history\n- ‚úÖ Team collaboration workflow\n\n**Use this skill to** set up Figma sync, detect token drift, resolve conflicts, and maintain design-code consistency.\n",
        "skills/natural-language-generation/SKILL.md": "---\ndescription: Use this skill when the user describes a component in natural language, says \"create a component with...\", \"I need a card that has...\", \"build a form with fields for...\", \"generate component from description\", or provides detailed component requirements in plain English. Enables non-technical stakeholders to generate production-ready components through natural language descriptions.\n---\n\n# Natural Language Component Generation Skill\n\n## Overview\n\nGenerate complete, production-ready components from natural language descriptions. Simply describe what you want in plain English, and get fully-typed TypeScript components with props, variants, stories, and tests.\n\n**Example:**\n> \"Create a user profile card with an avatar on the left, name and title stacked vertically in the middle, and a follow button on the right. Include an online status indicator and verified badge.\"\n\n‚Üí Generates complete UserProfileCard component with all requested features, TypeScript interfaces, 8+ story variants, and accessibility baked in.\n\n## How It Works\n\n### 1. Parse Description\n\nAI extracts structured requirements:\n- **Component name**: Inferred from description\n- **UI elements**: Avatar, buttons, badges, etc.\n- **Layout structure**: Left/middle/right, grid, flex\n- **Props**: Explicit (mentioned) + inferred (standard patterns)\n- **Variants**: Success/error/warning states\n- **Behavior**: Interactions, animations\n- **Accessibility**: ARIA attributes based on component type\n\n### 2. Generate Component Code\n\nCreates complete implementation:\n- **TypeScript interfaces**: Properly typed props\n- **React component**: Functional component with hooks\n- **Styling approach**: Tailwind/CSS modules/styled-components\n- **Accessibility**: WCAG-compliant from start\n- **Error handling**: Prop validation, edge cases\n\n### 3. Create Stories\n\nComprehensive Storybook coverage:\n- **All variants**: From description + inferred\n- **Edge cases**: Empty state, loading, error\n- **Interaction tests**: Play functions for behaviors\n- **Accessibility tests**: axe-core validation\n\n## Example Workflows\n\n### Example 1: Notification Card\n\n**User Input:**\n> \"I need a notification card with an icon, title, message, timestamp, and dismiss button. Support success, warning, error types with different colors. Auto-dismiss after 5 seconds but allow pinning.\"\n\n**AI Analysis:**\n```json\n{\n  \"name\": \"NotificationCard\",\n  \"elements\": [\"Icon\", \"Title\", \"Message\", \"Timestamp\", \"DismissButton\"],\n  \"variants\": [\"Success\", \"Warning\", \"Error\"],\n  \"props\": {\n    \"type\": \"success | warning | error\",\n    \"title\": \"string\",\n    \"message\": \"string\",\n    \"timestamp\": \"Date\",\n    \"onDismiss\": \"() => void\",\n    \"pinned\": \"boolean\",\n    \"autoDismiss\": \"boolean\"\n  },\n  \"behavior\": {\n    \"autoDismiss\": { \"delay\": 5000, \"conditional\": \"!pinned\" }\n  },\n  \"accessibility\": {\n    \"role\": \"alert\",\n    \"ariaLive\": \"polite\"\n  }\n}\n```\n\n**Generated Output:**\n\n```tsx\n// NotificationCard.tsx\nimport { useEffect, useState } from 'react';\nimport { X, CheckCircle, AlertTriangle, XCircle } from 'lucide-react';\n\ninterface NotificationCardProps {\n  type: 'success' | 'warning' | 'error';\n  title: string;\n  message: string;\n  timestamp: Date;\n  onDismiss: () => void;\n  pinned?: boolean;\n  autoDismiss?: boolean;\n}\n\nconst icons = {\n  success: CheckCircle,\n  warning: AlertTriangle,\n  error: XCircle,\n};\n\nconst colors = {\n  success: 'bg-green-50 border-green-200 text-green-900',\n  warning: 'bg-yellow-50 border-yellow-200 text-yellow-900',\n  error: 'bg-red-50 border-red-200 text-red-900',\n};\n\nexport function NotificationCard({\n  type,\n  title,\n  message,\n  timestamp,\n  onDismiss,\n  pinned = false,\n  autoDismiss = true,\n}: NotificationCardProps) {\n  const [isVisible, setIsVisible] = useState(true);\n  const Icon = icons[type];\n\n  useEffect(() => {\n    if (autoDismiss && !pinned) {\n      const timer = setTimeout(() => {\n        setIsVisible(false);\n        onDismiss();\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [autoDismiss, pinned, onDismiss]);\n\n  if (!isVisible) return null;\n\n  return (\n    <div\n      className={`flex items-start gap-3 p-4 border rounded-lg ${colors[type]}`}\n      role=\"alert\"\n      aria-live=\"polite\"\n    >\n      <Icon className=\"w-5 h-5 mt-0.5\" aria-hidden=\"true\" />\n\n      <div className=\"flex-1\">\n        <h3 className=\"font-semibold\">{title}</h3>\n        <p className=\"text-sm mt-1\">{message}</p>\n        <time className=\"text-xs opacity-75 mt-2 block\">\n          {timestamp.toLocaleTimeString()}\n        </time>\n      </div>\n\n      <button\n        onClick={onDismiss}\n        className=\"p-1 hover:bg-black/5 rounded\"\n        aria-label=\"Dismiss notification\"\n      >\n        <X className=\"w-4 h-4\" />\n      </button>\n    </div>\n  );\n}\n\n// NotificationCard.stories.tsx\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { NotificationCard } from './NotificationCard';\n\nconst meta: Meta<typeof NotificationCard> = {\n  title: 'Components/NotificationCard',\n  component: NotificationCard,\n  args: {\n    onDismiss: fn(),\n    timestamp: new Date(),\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof NotificationCard>;\n\nexport const Success: Story = {\n  args: {\n    type: 'success',\n    title: 'Payment successful',\n    message: 'Your payment of $99.00 has been processed.',\n  },\n};\n\nexport const Warning: Story = {\n  args: {\n    type: 'warning',\n    title: 'Storage almost full',\n    message: 'You are using 90% of your storage quota.',\n  },\n};\n\nexport const Error: Story = {\n  args: {\n    type: 'error',\n    title: 'Connection failed',\n    message: 'Unable to connect to server. Please try again.',\n  },\n};\n\nexport const Pinned: Story = {\n  args: {\n    ...Success.args,\n    pinned: true,\n  },\n};\n\nexport const NoAutoDismiss: Story = {\n  args: {\n    ...Success.args,\n    autoDismiss: false,\n  },\n};\n```\n\n### Example 2: Data Table\n\n**User Input:**\n> \"Create a data table component with sortable columns, row selection, pagination, and a search bar. Include actions menu for each row.\"\n\n**Generated:** Complete DataTable component with:\n- Sortable column headers\n- Checkbox selection\n- Pagination controls\n- Search input with debounce\n- Row action dropdown\n- TypeScript interfaces for data\n- 10+ story variants (empty, loading, error, etc.)\n\n## Intelligent Defaults\n\nAI infers standard patterns:\n\n### Form Components\n- **Labels**: Automatically add for inputs\n- **Validation**: Prop for validation errors\n- **Submit handler**: onSubmit callback\n- **Loading states**: Disabled during submission\n\n### Card Components\n- **Header/Body/Footer**: Standard card structure\n- **Padding**: Consistent spacing\n- **Border/Shadow**: Design system tokens\n- **Hover states**: Interactive feedback\n\n### Button Components\n- **Variants**: Primary, secondary, outline, ghost\n- **Sizes**: Small, medium, large\n- **States**: Default, hover, active, disabled, loading\n- **Icon support**: Leading/trailing icons\n\n## Accessibility by Default\n\nEvery generated component includes:\n- **Semantic HTML**: Proper element usage\n- **ARIA attributes**: Based on component type\n- **Keyboard navigation**: Tab order, Enter/Space handlers\n- **Screen reader text**: sr-only labels where needed\n- **Focus indicators**: Visible focus states\n\n## Component Agent\n\nThe `component-generator-agent` handles complex generation:\n- Analyzes requirements\n- Maps to existing patterns\n- Generates code + stories + tests\n- Validates output\n- Applies accessibility fixes\n\nSee: `agents/component-generator.md`\n\n## Best Practices\n\n### Be Specific\n```\n‚ùå \"Create a card component\"\n‚úÖ \"Create a product card with image, title, price, rating stars, and add to cart button\"\n```\n\n### Mention Layout\n```\n‚ùå \"Create a user card with avatar and name\"\n‚úÖ \"Create a user card with avatar on the left, name and bio stacked on the right\"\n```\n\n### Include States\n```\n‚ùå \"Create a button\"\n‚úÖ \"Create a button with loading state, disabled state, and success state after click\"\n```\n\n### Specify Interactions\n```\n‚ùå \"Create a modal\"\n‚úÖ \"Create a modal that opens on button click, has a close X button, closes on ESC key, and closes on backdrop click\"\n```\n\n## Templates\n\nPre-built patterns for common requests:\n- **Form components**: Input, Select, Checkbox, Radio, TextArea\n- **Layout components**: Container, Grid, Stack, Spacer\n- **Feedback components**: Alert, Toast, Modal, Tooltip\n- **Data display**: Table, List, Card, Badge\n- **Navigation**: Tabs, Breadcrumbs, Pagination, Menu\n\nSee: `skills/natural-language-generation/examples/common-patterns.md`\n\n## Integration with Other Skills\n\n- **component-scaffold**: Uses NL generation for initial setup\n- **accessibility-remediation**: Auto-fixes any generated issues\n- **testing-suite**: Adds interaction tests to generated stories\n- **server-components**: Can generate Server/Client components\n\n## Limitations\n\n**What Works:**\n- UI structure and layout\n- Standard interactions (click, hover, input)\n- Form validation patterns\n- Data display components\n\n**What Needs Manual Work:**\n- Complex business logic\n- Custom animations (Framer Motion, GSAP)\n- Third-party library integration (beyond common ones)\n- Advanced state management (Zustand, Redux)\n\nFor complex requirements, NL generation provides 80% scaffold + manual refinement.\n\n## Summary\n\nNatural language ‚Üí Production code in seconds:\n1. Describe component in plain English\n2. AI extracts structured requirements\n3. Generates TypeScript component + stories + tests\n4. Accessibility and best practices built-in\n5. Ready for customization and integration\n\n**Result:** 10x faster prototyping, accessible to non-developers.\n",
        "skills/performance-analysis/SKILL.md": "---\ndescription: Use this skill when the user asks to \"analyze performance\", \"check bundle size\", \"optimize component\", \"analyze imports\", \"reduce bundle\", \"check for performance issues\", or wants to identify and fix performance bottlenecks in their Storybook components with AI-powered suggestions.\n---\n\n# Performance Analysis Skill\n\n## Overview\n\nAutomatically analyze component performance, bundle size, and render efficiency with AI-powered optimization suggestions.\n\n## What It Analyzes\n\n### Bundle Impact\n- Package sizes and tree-shaking\n- Heavy dependencies (moment.js, lodash, etc.)\n- Unused imports\n- Code splitting opportunities\n\n### Render Performance\n- Unnecessary re-renders\n- Missing React.memo\n- Inline function creation\n- Large dependency arrays\n- Expensive computations without useMemo\n\n### Optimization Opportunities\n- Image optimization\n- Lazy loading\n- Dynamic imports\n- Code splitting\n\n## Example Output\n\n```\n‚ö° Performance Analysis: Button.tsx\n\nBundle Impact: 45.2KB (gzipped: 12.1KB)\n  ‚ùå lodash: 71KB (using only 'debounce')\n     Fix: import debounce from 'lodash/debounce'  // Saves 69KB\n\n  ‚ö†Ô∏è  moment.js: 72KB (date formatting only)\n     Alternatives:\n     [1] date-fns (13KB) ‚≠ê RECOMMENDED\n     [2] Intl API (0KB - native)\n     [3] Day.js (2KB)\n\nRender Performance:\n  ‚ö†Ô∏è  Inline function in render (Line 42)\n     onClick={() => handleClick(id)}\n     Fix: Use useCallback or extract to stable reference\n\n  ‚úÖ Component properly memoized\n  ‚úÖ No expensive computations detected\n\nApply fixes? [All] [Select] [Skip]\n```\n\n## Optimization Rules\n\n### Replace Heavy Packages\n```tsx\n// ‚ùå Before: 71KB\nimport _ from 'lodash';\nconst debouncedSearch = _.debounce(handleSearch, 300);\n\n// ‚úÖ After: 2KB\nimport debounce from 'lodash/debounce';\nconst debouncedSearch = debounce(handleSearch, 300);\n```\n\n### Fix Inline Functions\n```tsx\n// ‚ùå Before: New function every render\n<button onClick={() => handleClick(id)}>Click</button>\n\n// ‚úÖ After: Stable reference\nconst handleButtonClick = useCallback(() => handleClick(id), [id]);\n<button onClick={handleButtonClick}>Click</button>\n```\n\n### Add Memoization\n```tsx\n// ‚ùå Before: Expensive calculation every render\nconst filtered = items.filter(item => item.active);\n\n// ‚úÖ After: Memoized\nconst filtered = useMemo(\n  () => items.filter(item => item.active),\n  [items]\n);\n```\n\n## Summary\n\nAI-powered performance analysis:\n- Detects bundle bloat\n- Suggests lighter alternatives\n- Identifies render issues\n- One-click fixes\n\n**Result:** 30-40% bundle size reduction, faster renders.\n",
        "skills/platform-support/SKILL.md": "---\ndescription: Use this skill when the user asks about \"Storybook with Tauri\", \"Storybook with Electron\", \"desktop app components\", \"Tauri IPC mocking\", \"Electron limitations\", mentions \"cross-platform development\", \"native APIs in Storybook\", or wants to develop Storybook stories for Tauri or Electron applications. This skill provides platform-specific guidance and architectural patterns for multi-platform component development.\n---\n\n# Platform Support Skill\n\n## Overview\n\nDevelop Storybook components for desktop applications (Tauri and Electron) with platform-specific guidance, IPC mocking patterns, and architectural best practices for maximum testability.\n\nThis skill provides comprehensive documentation on integrating Storybook with Tauri (full support) and Electron (partial support with workarounds).\n\n## What This Skill Provides\n\n### Platform Compatibility Guide\nUnderstand support levels for each platform:\n- **Web**: Full support (100%)\n- **Tauri**: Full support (100%) - Excellent compatibility\n- **Electron**: Partial support (~60%) - Requires architectural patterns\n\n### Tauri Support\nComplete guidance for Tauri applications:\n- **Development workflow**: Parallel dev servers\n- **IPC mocking**: Mock Tauri API calls in stories\n- **Component architecture**: Dependency injection patterns\n- **Testing strategies**: Unit, integration, and E2E testing\n\n### Electron Support\nLimitations documentation and workarounds:\n- **What works**: Pure UI components, design systems\n- **What doesn't work**: Direct Electron module imports, IPC in iframes\n- **Architectural solutions**: Container/presentational pattern\n- **Testing alternatives**: E2E tests with Playwright\n\n### Best Practices\nPlatform-agnostic component patterns:\n- Dependency injection for IPC calls\n- Container/presentational separation\n- Mock providers for stories\n- Type-safe API abstractions\n\n## Tauri Support - Full Compatibility ‚úÖ\n\n### Why It Works\n\nTauri and Storybook work **excellently** together:\n\n- **Separate processes**: No conflicts between Storybook and Tauri runtime\n- **Independent development**: Develop UI without Tauri rebuilds\n- **Parallel dev servers**: Run both simultaneously\n- **Full testing**: All components testable in Storybook\n\n### Development Workflow\n\nRun Tauri and Storybook in parallel:\n\n```bash\n# Terminal 1: Tauri development server\nnpm run tauri dev\n# Runs on http://localhost:5173\n\n# Terminal 2: Storybook\nnpm run storybook\n# Runs on http://localhost:6006\n\n# Terminal 3: Tests in watch mode\nnpm run test:watch\n```\n\n### Component Architecture Pattern\n\n**Best Practice: Dependency Injection**\n\nKeep components Tauri-agnostic by injecting IPC functionality:\n\n```typescript\n// ‚úÖ Good: Testable component\ninterface ApiClient {\n  readFile: (path: string) => Promise<string>;\n  writeFile: (path: string, content: string) => Promise<void>;\n}\n\nfunction FileEditor({ apiClient }: { apiClient: ApiClient }) {\n  const [content, setContent] = useState('');\n\n  const handleSave = async () => {\n    await apiClient.writeFile('file.txt', content);\n  };\n\n  return <textarea value={content} onChange={(e) => setContent(e.target.value)} />;\n}\n\n// In Tauri app: Inject real API\n<FileEditor apiClient={tauriApiClient} />\n\n// In Storybook: Inject mock API\n<FileEditor apiClient={mockApiClient} />\n```\n\n### IPC Mocking in Storybook\n\nCreate mock providers for Tauri API calls:\n\n```typescript\n// .storybook/tauri-mocks.ts\nexport const mockTauriApi = {\n  invoke: async (cmd: string, args?: any) => {\n    switch (cmd) {\n      case 'read_file':\n        return 'Mock file content';\n      case 'write_file':\n        return { success: true };\n      default:\n        return null;\n    }\n  },\n};\n\n// In story\nexport const WithTauriAPI: Story = {\n  decorators: [\n    (Story) => {\n      if (typeof window !== 'undefined') {\n        window.__TAURI__ = mockTauriApi;\n      }\n      return <Story />;\n    },\n  ],\n};\n```\n\n### Project Structure\n\nRecommended structure for Tauri + Storybook:\n\n```\ntauri-app/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ components/           # UI components (testable)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.stories.tsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FileEditor.tsx\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FileEditor.stories.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tauri.ts         # Tauri IPC abstraction\n‚îÇ   ‚îî‚îÄ‚îÄ main.tsx\n‚îú‚îÄ‚îÄ src-tauri/                # Rust backend\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îî‚îÄ‚îÄ tauri.conf.json\n‚îú‚îÄ‚îÄ .storybook/\n‚îÇ   ‚îú‚îÄ‚îÄ main.ts\n‚îÇ   ‚îú‚îÄ‚îÄ preview.ts\n‚îÇ   ‚îî‚îÄ‚îÄ tauri-mocks.ts       # IPC mocks\n‚îî‚îÄ‚îÄ package.json\n```\n\n## Electron Support - Partial Compatibility ‚ö†Ô∏è\n\n### Major Limitation\n\n**Iframe Incompatibility:**\n- Storybook renders stories in iframes\n- Electron modules (`ipcRenderer`) are not available in iframe context\n- Webpack `electron-renderer` target creates externals that fail\n\n**Impact:**\n- ‚ùå Components with direct `electron` imports won't work\n- ‚ùå IPC calls cannot be tested in Storybook\n- ‚ùå Main process code cannot be accessed\n\n### What Works ‚úÖ\n\n#### 1. Pure UI Components\n\nComponents without Electron dependencies work perfectly:\n\n```typescript\n// ‚úÖ Works perfectly\nfunction Button({ variant, onClick }) {\n  return (\n    <button className={`btn-${variant}`} onClick={onClick}>\n      Click Me\n    </button>\n  );\n}\n```\n\n#### 2. Design System Components\n\nUI libraries work without issues:\n\n```typescript\n// ‚úÖ Works - Material UI, shadcn/ui, etc.\nimport { Card } from '@mui/material';\n\nfunction ProfileCard({ name, bio }) {\n  return <Card>{/* UI content */}</Card>;\n}\n```\n\n#### 3. State Management\n\nRedux, Zustand, Context API all work:\n\n```typescript\n// ‚úÖ Works\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  return <button onClick={() => setCount(c => c + 1)}>{count}</button>;\n}\n```\n\n### What Doesn't Work ‚ùå\n\n```typescript\n// ‚ùå Won't work in Storybook\nimport { ipcRenderer } from 'electron';\n\nfunction FileReader() {\n  const readFile = () => {\n    ipcRenderer.invoke('read-file', '/path/to/file');\n  };\n  // This will fail in Storybook iframe\n}\n```\n\n### Architectural Solution: Container/Presentational Pattern\n\n**Separate concerns to maximize testability:**\n\n```typescript\n// ‚úÖ Presentational Component (testable in Storybook)\ninterface FileListProps {\n  files: string[];\n  isLoading: boolean;\n  error?: string;\n  onRefresh: () => void;\n}\n\nfunction FileList({ files, isLoading, error, onRefresh }: FileListProps) {\n  if (isLoading) return <Spinner />;\n  if (error) return <ErrorMessage message={error} />;\n\n  return (\n    <div>\n      <button onClick={onRefresh}>Refresh</button>\n      <ul>\n        {files.map(file => <li key={file}>{file}</li>)}\n      </ul>\n    </div>\n  );\n}\n\n// ‚ùå Container Component (not testable in Storybook)\nfunction FileListContainer() {\n  const [files, setFiles] = useState<string[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const loadFiles = async () => {\n    setLoading(true);\n    const result = await window.api.readDir('/path');\n    setFiles(result);\n    setLoading(false);\n  };\n\n  return <FileList files={files} isLoading={loading} onRefresh={loadFiles} />;\n}\n```\n\n**In Storybook, test the presentational component:**\n\n```typescript\nexport const Default: Story = {\n  args: {\n    files: ['file1.txt', 'file2.txt', 'file3.txt'],\n    isLoading: false,\n    onRefresh: fn(),\n  },\n};\n\nexport const Loading: Story = {\n  args: {\n    files: [],\n    isLoading: true,\n    onRefresh: fn(),\n  },\n};\n\nexport const Error: Story = {\n  args: {\n    files: [],\n    isLoading: false,\n    error: 'Failed to load files',\n    onRefresh: fn(),\n  },\n};\n```\n\n### Testing Strategy for Electron\n\n**Use multiple testing approaches:**\n\n1. **Storybook**: Test presentational components (60% of UI)\n2. **Vitest**: Test business logic and utilities\n3. **Playwright/Spectron**: E2E tests for full application flow\n\n```bash\n# Storybook: UI component testing\nnpm run storybook\n\n# Vitest: Unit tests\nnpm run test\n\n# Playwright: E2E tests with Electron\nnpm run test:e2e\n```\n\n## Best Practices for Multi-Platform Components\n\n### 1. Abstraction Layer Pattern\n\nCreate platform-agnostic API clients:\n\n```typescript\n// api/client.ts\nexport interface FileSystemClient {\n  readFile: (path: string) => Promise<string>;\n  writeFile: (path: string, content: string) => Promise<void>;\n  listFiles: (dir: string) => Promise<string[]>;\n}\n\n// api/tauri-client.ts\nexport const tauriClient: FileSystemClient = {\n  readFile: (path) => invoke('read_file', { path }),\n  writeFile: (path, content) => invoke('write_file', { path, content }),\n  listFiles: (dir) => invoke('list_files', { dir }),\n};\n\n// api/electron-client.ts\nexport const electronClient: FileSystemClient = {\n  readFile: (path) => window.api.readFile(path),\n  writeFile: (path, content) => window.api.writeFile(path, content),\n  listFiles: (dir) => window.api.listFiles(dir),\n};\n\n// api/mock-client.ts (for Storybook)\nexport const mockClient: FileSystemClient = {\n  readFile: async () => 'Mock content',\n  writeFile: async () => {},\n  listFiles: async () => ['file1.txt', 'file2.txt'],\n};\n```\n\n### 2. Context Provider Pattern\n\nUse React Context to inject platform APIs:\n\n```typescript\n// contexts/PlatformContext.tsx\nconst PlatformContext = createContext<FileSystemClient>(mockClient);\n\nexport function PlatformProvider({ client, children }) {\n  return (\n    <PlatformContext.Provider value={client}>\n      {children}\n    </PlatformContext.Provider>\n  );\n}\n\nexport function usePlatform() {\n  return useContext(PlatformContext);\n}\n\n// In component\nfunction FileViewer() {\n  const platform = usePlatform();\n  const [content, setContent] = useState('');\n\n  useEffect(() => {\n    platform.readFile('file.txt').then(setContent);\n  }, []);\n\n  return <pre>{content}</pre>;\n}\n```\n\n**In Storybook:**\n\n```typescript\nexport const Default: Story = {\n  decorators: [\n    (Story) => (\n      <PlatformProvider client={mockClient}>\n        <Story />\n      </PlatformProvider>\n    ),\n  ],\n};\n```\n\n### 3. Feature Detection Pattern\n\nCheck for platform capabilities:\n\n```typescript\nfunction isElectron() {\n  return typeof window !== 'undefined' && window.api !== undefined;\n}\n\nfunction isTauri() {\n  return typeof window !== 'undefined' && window.__TAURI__ !== undefined;\n}\n\nfunction useFileSystem() {\n  if (isTauri()) return tauriClient;\n  if (isElectron()) return electronClient;\n  return mockClient; // Fallback for Storybook/web\n}\n```\n\n## Platform-Specific Storybook Configuration\n\n### For Tauri Projects\n\nAdd to `.storybook/preview.ts`:\n\n```typescript\nimport { mockTauriApi } from './tauri-mocks';\n\nexport const decorators = [\n  (Story) => {\n    if (typeof window !== 'undefined') {\n      window.__TAURI__ = mockTauriApi;\n    }\n    return <Story />;\n  },\n];\n```\n\n### For Electron Projects\n\nAdd to `.storybook/preview.ts`:\n\n```typescript\nimport { mockElectronApi } from './electron-mocks';\n\nexport const decorators = [\n  (Story) => {\n    if (typeof window !== 'undefined') {\n      window.api = mockElectronApi;\n    }\n    return <Story />;\n  },\n];\n```\n\n## References\n\n### Tauri Documentation\n- **Setup Guide**: `tauri/setup_guide.md` - Complete Tauri + Storybook integration guide\n- IPC mocking patterns\n- Development workflow examples\n- Project structure recommendations\n\n### Electron Documentation\n- **Limitations Guide**: `electron/limitations.md` - Known issues and workarounds\n- Container/presentational pattern examples\n- Testing strategy recommendations\n- Architectural solutions\n\n## Summary\n\n| Platform | Support Level | Storybook Works | IPC Testable | Recommended Pattern |\n|----------|--------------|-----------------|--------------|---------------------|\n| Web | 100% | ‚úÖ Yes | N/A | Standard components |\n| Tauri | 100% | ‚úÖ Yes | ‚úÖ Yes (mocking) | Dependency injection |\n| Electron | ~60% | ‚ö†Ô∏è Partial | ‚ùå No (E2E only) | Container/presentational |\n\n**Key Takeaway:**\n- **Tauri**: Use dependency injection, mock IPC in stories\n- **Electron**: Separate presentational components, use E2E for containers\n- **Both**: Create platform-agnostic abstractions for maximum testability\n",
        "skills/platform-support/electron/limitations.md": "# Electron + Storybook: Limitations & Solutions\n\n## Overview\n\nStorybook works with Electron, but with **significant limitations** due to Electron's architecture and Storybook's iframe-based rendering. This document explains what works, what doesn't, and how to architect your components for maximum testability.\n\n## ‚ö†Ô∏è Major Limitation: Iframe Incompatibility\n\n**The Core Issue:**\n- Storybook renders stories in iframes\n- Electron modules (`electron`, `ipcRenderer`) are not available in iframe context\n- Webpack's `electron-renderer` target creates externals that fail in iframes\n\n**Impact:**\n- Components with direct `electron` imports **won't work** in Storybook\n- IPC calls **cannot be tested** in Storybook (requires E2E tests)\n- Main process code **cannot be accessed** from Storybook\n\n## What Works ‚úÖ\n\n### 1. Pure UI Components\n\nComponents that don't interact with Electron APIs work perfectly:\n\n```typescript\n// ‚úÖ Works perfectly in Storybook\nfunction Button({ variant, onClick }) {\n  return (\n    <button\n      className={`btn-${variant}`}\n      onClick={onClick}\n    >\n      Click Me\n    </button>\n  );\n}\n\n// Storybook story\nexport const Primary: Story = {\n  args: {\n    variant: 'primary',\n    onClick: () => console.log('clicked'),\n  },\n};\n```\n\n### 2. Design System Components\n\nUI libraries and design systems work without issues:\n\n```typescript\n// ‚úÖ Works - Material UI, Ant Design, shadcn/ui, etc.\nimport { Card, CardContent, CardHeader } from '@mui/material';\n\nfunction ProfileCard({ name, avatar, bio }) {\n  return (\n    <Card>\n      <CardHeader title={name} avatar={<Avatar src={avatar} />} />\n      <CardContent>{bio}</CardContent>\n    </Card>\n  );\n}\n```\n\n### 3. Stateful Components (without Electron)\n\nState management works normally:\n\n```typescript\n// ‚úÖ Works - useState, useReducer, Redux, Zustand, etc.\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  return (\n    <div>\n      <button onClick={() => setCount(count + 1)}>\n        Count: {count}\n      </button>\n    </div>\n  );\n}\n```\n\n## What Doesn't Work ‚ùå\n\n### 1. Direct Electron Module Imports\n\n```typescript\n// ‚ùå Fails in Storybook\nimport { ipcRenderer } from 'electron';\n\nfunction FileReader() {\n  const [files, setFiles] = useState([]);\n\n  useEffect(() => {\n    ipcRenderer.invoke('read-dir', '/path').then(setFiles);\n  }, []);\n\n  return <ul>{files.map(f => <li>{f}</li>)}</ul>;\n}\n```\n\n**Error:** `Cannot find module 'electron'` or `require is not defined`\n\n### 2. Preload API Calls (without mocking)\n\n```typescript\n// ‚ùå Fails in Storybook (window.api undefined)\nfunction ConfigPanel() {\n  const [config, setConfig] = useState(null);\n\n  useEffect(() => {\n    window.api.getConfig().then(setConfig);  // window.api undefined!\n  }, []);\n\n  return <div>{config?.theme}</div>;\n}\n```\n\n**Error:** `Cannot read property 'getConfig' of undefined`\n\n### 3. Native Module Access\n\n```typescript\n// ‚ùå Fails - Native modules not available\nimport { app, BrowserWindow } from 'electron';\n\nfunction WindowControls() {\n  const minimize = () => {\n    const win = BrowserWindow.getFocusedWindow();\n    win?.minimize();  // Doesn't work in Storybook\n  };\n\n  return <button onClick={minimize}>Minimize</button>;\n}\n```\n\n## Architectural Solution: Container/Presentational Pattern\n\n**The recommended approach:** Separate UI components from Electron logic.\n\n### Pattern Implementation\n\n```typescript\n// ============================================\n// 1. Pure UI Component (Presentational)\n// ============================================\n// ‚úÖ Testable in Storybook\ninterface FileListProps {\n  files: string[];\n  isLoading: boolean;\n  error?: string;\n  onRefresh: () => void;\n}\n\nfunction FileList({ files, isLoading, error, onRefresh }: FileListProps) {\n  if (isLoading) return <Spinner />;\n  if (error) return <ErrorMessage message={error} />;\n\n  return (\n    <div>\n      <button onClick={onRefresh}>Refresh</button>\n      <ul>\n        {files.map(file => (\n          <li key={file}>{file}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\n// ============================================\n// 2. Container Component (Electron-aware)\n// ============================================\n// ‚ùå Not testable in Storybook (but that's OK)\nfunction FileListContainer() {\n  const [files, setFiles] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string>();\n\n  const loadFiles = async () => {\n    setIsLoading(true);\n    try {\n      const result = await window.api.readDir('/path');\n      setFiles(result);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadFiles();\n  }, []);\n\n  return (\n    <FileList\n      files={files}\n      isLoading={isLoading}\n      error={error}\n      onRefresh={loadFiles}\n    />\n  );\n}\n\n// ============================================\n// 3. Storybook Stories\n// ============================================\n// Test pure component with different states\nexport const Default: Story = {\n  args: {\n    files: ['file1.txt', 'file2.txt', 'folder1'],\n    isLoading: false,\n    onRefresh: () => console.log('Refresh clicked'),\n  },\n};\n\nexport const Loading: Story = {\n  args: {\n    files: [],\n    isLoading: true,\n    onRefresh: () => {},\n  },\n};\n\nexport const Error: Story = {\n  args: {\n    files: [],\n    isLoading: false,\n    error: 'Failed to read directory',\n    onRefresh: () => {},\n  },\n};\n\nexport const Empty: Story = {\n  args: {\n    files: [],\n    isLoading: false,\n    onRefresh: () => {},\n  },\n};\n```\n\n### Benefits of This Pattern\n\n‚úÖ **Pure component is fully testable** in Storybook\n‚úÖ **All states can be tested**: Loading, error, empty, populated\n‚úÖ **Interaction tests work**: Click handlers, user input\n‚úÖ **Accessibility tests work**: WCAG compliance\n‚úÖ **Container handles Electron complexity**: IPC, error handling\n‚úÖ **Easy to refactor**: Change IPC implementation without touching UI\n‚úÖ **Type-safe**: TypeScript ensures interface consistency\n\n## Webpack Configuration\n\nThe plugin auto-generates this configuration:\n\n```typescript\n// .storybook/main.ts\nconst config: StorybookConfig = {\n  // ... other config\n\n  webpackFinal: async (config) => {\n    // Override electron-renderer target\n    config.target = 'web';\n\n    // Clear Electron externals\n    config.externals = {};\n\n    // Mock electron module\n    config.resolve.alias = {\n      ...(config.resolve?.alias || {}),\n      electron: false,\n    };\n\n    return config;\n  },\n};\n```\n\n## Preload API Mocking\n\nThe plugin auto-generates mock utilities:\n\n```typescript\n// .storybook/electron-mocks.ts\nexport const electronMocks = {\n  // File system APIs\n  readDir: async (path: string) => {\n    console.log(`[Mock] readDir: ${path}`);\n    return ['file1.txt', 'file2.txt', 'folder1'];\n  },\n\n  readFile: async (path: string) => {\n    console.log(`[Mock] readFile: ${path}`);\n    return 'Mock file content';\n  },\n\n  writeFile: async (path: string, content: string) => {\n    console.log(`[Mock] writeFile: ${path}`);\n    return { success: true };\n  },\n\n  // Config APIs\n  getConfig: async () => {\n    console.log(`[Mock] getConfig`);\n    return {\n      theme: 'dark',\n      language: 'en',\n      fontSize: 14,\n    };\n  },\n\n  saveConfig: async (config: any) => {\n    console.log(`[Mock] saveConfig:`, config);\n    return { success: true };\n  },\n\n  // Dialog APIs\n  showOpenDialog: async (options: any) => {\n    console.log(`[Mock] showOpenDialog:`, options);\n    return {\n      canceled: false,\n      filePaths: ['/mock/selected/file.txt'],\n    };\n  },\n\n  // Window APIs\n  minimize: () => console.log(`[Mock] minimize`),\n  maximize: () => console.log(`[Mock] maximize`),\n  close: () => console.log(`[Mock] close`),\n};\n\n// Auto-inject into window.api\nif (typeof window !== 'undefined') {\n  (window as any).api = electronMocks;\n}\n```\n\n**Usage in preview.ts:**\n\n```typescript\n// .storybook/preview.ts\nimport { electronMocks } from './electron-mocks';\n\nconst preview: Preview = {\n  decorators: [\n    (Story) => {\n      // Inject Electron mocks\n      if (typeof window !== 'undefined' && !window.api) {\n        (window as any).api = electronMocks;\n      }\n      return <Story />;\n    },\n  ],\n};\n```\n\n## Testing Strategy\n\n### 1. Storybook (Component Tests)\n- **Test pure UI components**\n- Test rendering logic\n- Test user interactions\n- Test accessibility\n- Test different states (loading, error, empty)\n\n### 2. Unit Tests (Jest/Vitest)\n- Test business logic\n- Test state management\n- Test utility functions\n- Mock Electron APIs\n\n### 3. E2E Tests (Spectron, Playwright + Electron)\n- **Test full Electron integration**\n- Test IPC communication\n- Test main process <-> renderer interaction\n- Test native APIs (file system, dialogs, etc.)\n\n```bash\n# Component tests (Storybook)\nnpm run test:storybook\n\n# Unit tests\nnpm run test\n\n# E2E tests (full Electron app)\nnpm run test:e2e\n```\n\n## Alternative: Electronic-Stories\n\nFor Electron-specific component development, consider [Electronic-Stories](https://github.com/electron-userland/electronic-stories):\n- Purpose-built for Electron\n- Runs as an Electron app (native environment)\n- Better integration with Electron APIs\n- Less iframe-related issues\n\n**Trade-off:**\n- Storybook: Better ecosystem, more addons, better documentation\n- Electronic-Stories: Better Electron integration, fewer workarounds\n\n## Summary\n\n| Aspect | Support Level | Recommendation |\n|--------|--------------|----------------|\n| Pure UI components | ‚úÖ Full | Use Storybook extensively |\n| Design system components | ‚úÖ Full | Test in Storybook |\n| Stateful components (no Electron) | ‚úÖ Full | Test in Storybook |\n| Components with Electron imports | ‚ùå Not supported | Refactor using container/presentational pattern |\n| IPC testing | ‚ùå Not supported | Use E2E tests |\n| Main process code | ‚ùå Not supported | Not applicable to Storybook |\n\n## Best Practices\n\n### ‚úÖ Do's\n\n1. **Use container/presentational pattern**: Separate UI from Electron logic\n2. **Test pure components in Storybook**: Faster, better DX\n3. **Mock preload APIs**: Provide realistic mocks in Storybook\n4. **Test IPC in E2E tests**: Use Spectron or Playwright\n5. **Use TypeScript**: Prevent `window.api` typos\n6. **Document what's tested where**: Clarity on test coverage\n\n### ‚ùå Don'ts\n\n1. **Don't import `electron` in components**: Use abstraction layer\n2. **Don't skip Electron limitations**: Accept and work with them\n3. **Don't try to test IPC in Storybook**: Won't work, use E2E\n4. **Don't couple UI to Electron**: Makes testing impossible\n5. **Don't ignore E2E tests**: They're essential for Electron integration\n\n## Conclusion\n\n**Electron + Storybook works, but requires discipline:**\n- Accept architectural constraints\n- Separate UI from Electron logic\n- Use right tool for right test (Storybook for UI, E2E for integration)\n- Follow container/presentational pattern religiously\n\nWith this approach, you get:\n- ‚úÖ Fast component development in Storybook\n- ‚úÖ Comprehensive UI testing\n- ‚úÖ Electron integration via E2E tests\n- ‚úÖ Maintainable, testable codebase\n",
        "skills/platform-support/tauri/setup_guide.md": "# Tauri + Storybook Setup Guide\n\n## Overview\n\nTauri and Storybook work **excellently** together! Storybook runs independently from the Tauri runtime, allowing you to develop and test UI components in isolation without rebuilding the entire desktop application.\n\n## Why It Works\n\n- **Separate Processes**: Storybook runs in the browser (port 6006), Tauri dev server runs separately (port 5173)\n- **No Conflicts**: No IPC or native API conflicts\n- **Faster Iteration**: Component development without full app rebuilds\n- **Framework Agnostic**: Works with any frontend framework (React, Vue, Svelte)\n\n## Development Workflow\n\n```bash\n# Terminal 1: Start Tauri development server\nnpm run tauri dev\n# Tauri app runs on http://localhost:5173\n\n# Terminal 2: Start Storybook (in parallel)\nnpm run storybook\n# Storybook runs on http://localhost:6006\n\n# Terminal 3: Run tests in watch mode\nnpm run test:watch\n```\n\n## Project Structure\n\n```\ntauri-app/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ components/           # UI components (Storybook-ready)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.stories.tsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Card.stories.tsx\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tauri.ts         # Tauri IPC calls (abstracted)\n‚îÇ   ‚îî‚îÄ‚îÄ main.tsx\n‚îú‚îÄ‚îÄ src-tauri/                # Rust backend\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îî‚îÄ‚îÄ tauri.conf.json\n‚îú‚îÄ‚îÄ .storybook/               # Storybook configuration\n‚îÇ   ‚îú‚îÄ‚îÄ main.ts\n‚îÇ   ‚îú‚îÄ‚îÄ preview.ts\n‚îÇ   ‚îî‚îÄ‚îÄ tauri-mocks.ts       # IPC mocks for stories\n‚îî‚îÄ‚îÄ package.json\n```\n\n## Component Architecture Pattern\n\n**Best Practice: Dependency Injection**\n\nKeep UI components Tauri-agnostic by injecting IPC functionality:\n\n```typescript\n// ‚úÖ Good: Testable component\ninterface ApiClient {\n  fetchData: () => Promise<Data>;\n  saveData: (data: Data) => Promise<void>;\n}\n\nfunction DataComponent({ api }: { api: ApiClient }) {\n  const { data, isLoading } = useQuery(['data'], api.fetchData);\n\n  if (isLoading) return <Spinner />;\n\n  return (\n    <div>\n      <h1>{data.title}</h1>\n      <button onClick={() => api.saveData(data)}>Save</button>\n    </div>\n  );\n}\n\n// Storybook story with mock API\nexport const Default: Story = {\n  args: {\n    api: {\n      fetchData: async () => ({ title: 'Mock Data' }),\n      saveData: async (data) => console.log('Mock save:', data),\n    },\n  },\n};\n\n// Production usage with real Tauri IPC\nfunction App() {\n  const tauriApi: ApiClient = {\n    fetchData: () => invoke('fetch_data'),\n    saveData: (data) => invoke('save_data', { data }),\n  };\n\n  return <DataComponent api={tauriApi} />;\n}\n```\n\n## IPC Mocking in Storybook\n\nThe plugin auto-generates `.storybook/tauri-mocks.ts`:\n\n```typescript\n// .storybook/tauri-mocks.ts\nexport const tauriMocks = {\n  invoke: async (cmd: string, args?: any) => {\n    console.log(`[Tauri Mock] invoke: ${cmd}`, args);\n\n    // Mock responses for common commands\n    const mockResponses: Record<string, any> = {\n      'fetch_data': {\n        title: 'Mock Title',\n        items: ['Item 1', 'Item 2', 'Item 3']\n      },\n      'save_data': { success: true },\n      'read_file': { content: 'Mock file content' },\n      'write_file': { success: true },\n      'get_config': {\n        theme: 'dark',\n        language: 'en'\n      },\n    };\n\n    return mockResponses[cmd] || { success: true };\n  },\n\n  listen: (event: string, handler: Function) => {\n    console.log(`[Tauri Mock] listen: ${event}`);\n\n    // Simulate event after 1 second (optional)\n    setTimeout(() => {\n      handler({ payload: { message: 'Mock event data' } });\n    }, 1000);\n\n    // Return unsubscribe function\n    return () => {\n      console.log(`[Tauri Mock] unsubscribe: ${event}`);\n    };\n  },\n\n  emit: async (event: string, payload?: any) => {\n    console.log(`[Tauri Mock] emit: ${event}`, payload);\n  },\n};\n\n// Auto-inject during Storybook initialization\nif (typeof window !== 'undefined') {\n  (window as any).__TAURI__ = tauriMocks;\n}\n```\n\n**Usage in preview.ts:**\n\n```typescript\n// .storybook/preview.ts\nimport { tauriMocks } from './tauri-mocks';\n\nconst preview: Preview = {\n  decorators: [\n    (Story) => {\n      // Inject Tauri mocks for all stories\n      if (typeof window !== 'undefined' && !window.__TAURI__) {\n        (window as any).__TAURI__ = tauriMocks;\n      }\n      return <Story />;\n    },\n  ],\n};\n```\n\n## Testing Strategy\n\n### 1. Component Tests in Storybook\n- Test UI logic and rendering\n- Test user interactions (clicks, typing)\n- Test accessibility (WCAG compliance)\n- Mock Tauri IPC calls\n\n### 2. E2E Tests with WebDriver\n- Test full Tauri application\n- Test actual IPC integration\n- Test native APIs (file system, notifications, etc.)\n- Use Tauri's WebDriver capabilities\n\n```bash\n# E2E tests (separate from Storybook)\nnpm run test:e2e\n```\n\n## Port Configuration\n\nUpdate `tauri.conf.json` if needed:\n\n```json\n{\n  \"build\": {\n    \"devUrl\": \"http://localhost:5173\",\n    \"beforeDevCommand\": \"npm run dev\"\n  }\n}\n```\n\nStorybook will run on a different port (6006 by default), so no conflicts.\n\n## Package.json Scripts\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"tauri\": \"tauri\",\n    \"tauri:dev\": \"tauri dev\",\n    \"storybook\": \"storybook dev -p 6006\",\n    \"build-storybook\": \"storybook build\",\n    \"test\": \"vitest\",\n    \"test:watch\": \"vitest --watch\",\n    \"test:storybook\": \"test-storybook\"\n  }\n}\n```\n\n## Common Patterns\n\n### Pattern 1: Custom Hooks for IPC\n\n```typescript\n// hooks/useTauriInvoke.ts\nfunction useTauriInvoke<T>(cmd: string, args?: any) {\n  return useQuery([cmd, args], () => invoke<T>(cmd, args));\n}\n\n// Component\nfunction DataList() {\n  const { data } = useTauriInvoke<string[]>('fetch_items');\n  return <ul>{data?.map(item => <li key={item}>{item}</li>)}</ul>;\n}\n\n// Story with mock\nexport const Default: Story = {\n  decorators: [\n    (Story) => {\n      window.__TAURI__.invoke = async (cmd) => {\n        if (cmd === 'fetch_items') return ['Mock 1', 'Mock 2'];\n        return null;\n      };\n      return <Story />;\n    },\n  ],\n};\n```\n\n### Pattern 2: Context Provider\n\n```typescript\n// TauriContext.tsx\nconst TauriContext = createContext<ApiClient | null>(null);\n\nexport function TauriProvider({ children, api }: { children: ReactNode, api?: ApiClient }) {\n  const defaultApi: ApiClient = {\n    fetchData: () => invoke('fetch_data'),\n    saveData: (data) => invoke('save_data', { data }),\n  };\n\n  return (\n    <TauriContext.Provider value={api || defaultApi}>\n      {children}\n    </TauriContext.Provider>\n  );\n}\n\n// Storybook decorator\ndecorators: [\n  (Story) => (\n    <TauriProvider api={mockApi}>\n      <Story />\n    </TauriProvider>\n  ),\n]\n```\n\n## Best Practices\n\n### ‚úÖ Do's\n\n1. **Decouple UI from IPC**: Use dependency injection or context providers\n2. **Mock Tauri APIs in Stories**: Provide realistic mock data\n3. **Test UI logic in Storybook**: Interaction and accessibility tests\n4. **Test IPC integration separately**: Use E2E tests for full integration\n5. **Run Storybook in parallel**: Develop components while Tauri app runs\n6. **Use TypeScript**: Strong typing prevents IPC command typos\n\n### ‚ùå Don'ts\n\n1. **Don't import `@tauri-apps/api` directly in components**: Use abstraction layer\n2. **Don't test Tauri IPC in Storybook**: Mock it, test in E2E\n3. **Don't skip component testing**: Storybook tests are faster than E2E\n4. **Don't hardcode Tauri calls**: Makes components hard to test and maintain\n5. **Don't forget error handling**: Mock error scenarios in stories\n\n## Production Examples\n\n- [offline-first-react-router-tauri-template](https://github.com/jhovadev/offline-first-react-router-tauri-template) - React + Tauri + Storybook 10\n- [tauri-tray-app](https://github.com/jondot/tauri-tray-app) - React + Zustand + shadcn/ui + Storybook\n\n## Troubleshooting\n\n### Issue: `__TAURI__` is undefined in stories\n\n**Solution**: Ensure tauri-mocks are loaded in preview.ts decorator\n\n### Issue: IPC commands not working in Tauri app\n\n**Solution**: This is expected - Storybook mocks don't affect the Tauri app. Test IPC in E2E tests.\n\n### Issue: Port conflicts\n\n**Solution**: Tauri (5173) and Storybook (6006) use different ports. If conflicts occur, change ports in configs.\n\n## Summary\n\n**Tauri + Storybook = Perfect Match!** üöÄ\n\n- Full support with no workarounds needed\n- Faster development (no app rebuilds for UI changes)\n- Better testing (component tests + E2E tests)\n- Clean architecture (decoupled UI from backend)\n- Production-proven patterns available\n",
        "skills/plugin-guide/SKILL.md": "---\nname: Plugin Guide & Help\ndescription: Use this skill when users ask specifically about the Storybook Assistant plugin - \"what can the storybook assistant do\", \"storybook plugin features\", \"storybook assistant commands\", \"help with storybook assistant\", \"storybook plugin capabilities\". ONLY triggers when user explicitly mentions \"storybook assistant\", \"storybook plugin\", or asks about Storybook-specific features. Does NOT trigger on generic help questions.\nversion: 1.0.1\n---\n\n# Plugin Guide & Help\n\n## Overview\n\nThis skill helps users discover and understand all Storybook Assistant Plugin capabilities through natural language queries **that specifically mention the Storybook Assistant or Storybook plugin**.\n\n## When to Use This Skill\n\n**IMPORTANT:** This skill should ONLY trigger when the user explicitly mentions the plugin or Storybook-specific features.\n\n**‚úÖ DO Trigger on:**\n- \"What can the **Storybook Assistant** do?\"\n- \"Show me **Storybook plugin** features\"\n- \"Help with **Storybook Assistant**\"\n- \"List **Storybook** commands\"\n- \"**Storybook Assistant** capabilities\"\n- \"What **Storybook** features are available?\"\n- \"How do I use the **Storybook plugin**?\"\n- \"Tell me about **Storybook Assistant**\"\n\n**‚ùå DO NOT Trigger on:**\n- \"help\" (generic - goes to Claude Code help)\n- \"what can you do\" (generic - not plugin-specific)\n- \"show features\" (generic - could be anything)\n- \"list commands\" (generic - could be any commands)\n- General questions that don't mention Storybook or the plugin\n\n## Response Strategy\n\n### For Storybook-Specific Feature Questions\n\nWhen user asks about the Storybook Assistant plugin specifically, provide a well-organized, scannable overview:\n\n```markdown\n# üé® Storybook Assistant - What I Can Do\n\nI'm your complete AI-powered Storybook development assistant with 17 specialized features and 11 commands.\n\n## üöÄ Most Popular Features\n\n### Vision AI: Design-to-Code üé®\nUpload a screenshot and I'll generate pixel-perfect React components with:\n- Exact spacing, colors, and typography\n- Design tokens automatically extracted\n- Multiple variants detected\n- Full TypeScript support\n\n**Try:** `/design-to-code` or \"Generate a component from this design\"\n\n### Natural Language Components üí¨\nDescribe a component in plain English and I'll build it:\n- Complete TypeScript component\n- Props with types\n- Storybook stories\n- Interaction tests\n\n**Try:** `/generate-from-description` or \"Create a user profile card with...\"\n\n### AI-Powered Accessibility ‚ôø\nAutomatically find and fix WCAG 2.2 violations:\n- Context-aware fix suggestions\n- One-click application\n- Ranked recommendations\n- Real-time detection\n\n**Try:** `/fix-accessibility Button.tsx` or \"Check accessibility of my Card component\"\n\n### Visual Regression Testing üîç\nIntelligent screenshot comparison with 90% fewer false positives:\n- AI understands intentional vs accidental changes\n- Auto-approves theme updates\n- Detects real layout bugs\n- CI/CD integration\n\n**Try:** `/setup-visual-testing`\n\n### Design Token Sync üîÑ\nKeep Figma and code perfectly synchronized:\n- Bidirectional sync (Figma ‚Üî Code)\n- Automatic drift detection\n- Conflict resolution\n- Multi-format output\n\n**Try:** `/sync-design-tokens --setup`\n\n---\n\n## üìã All Available Commands\n\n### Setup & Configuration\n- `/setup-storybook` - Initialize Storybook 10\n- `/setup-ci-cd` - Generate CI/CD pipeline\n- `/setup-visual-testing` - Configure visual regression\n\n### Component Development\n- `/create-component` - Scaffold new component\n- `/generate-stories` - Generate stories for existing components\n- `/design-to-code` - Screenshot ‚Üí Component\n- `/generate-from-description` - Natural language ‚Üí Component\n\n### Quality & Maintenance\n- `/fix-accessibility` - AI a11y remediation\n- `/generate-dark-mode` - Auto-generate dark mode\n- `/sync-design-tokens` - Figma sync\n- `/analyze-usage` - Component analytics\n\n---\n\n## üí° Common Workflows\n\n**New Project:**\n1. `/setup-storybook`\n2. `/setup-ci-cd`\n3. `/setup-visual-testing`\n\n**Design-to-Code:**\n1. `/design-to-code [screenshot]`\n2. `/fix-accessibility ComponentName`\n3. `/generate-dark-mode`\n\n**Improve Existing:**\n1. `/generate-stories ComponentName`\n2. `/fix-accessibility ComponentName`\n3. `/analyze-usage ComponentName`\n\n---\n\n## üéØ Just Ask Me Naturally!\n\nYou don't need to memorize commands. Just ask:\n- \"Generate a button component from this description...\"\n- \"Fix accessibility issues in my Card component\"\n- \"Set up visual regression testing\"\n- \"Sync my design tokens from Figma\"\n- \"Show me how to create a dark mode\"\n\nI understand natural language and will use the right tools automatically.\n\n---\n\n**Getting started?** Try `/setup-storybook` first\n**Have a screenshot?** Try `/design-to-code`\n**Want more details?** Just ask about any specific feature!\n```\n\n### For Specific Feature Questions\n\nWhen user asks about a specific capability:\n\n**User:** \"Can you help with accessibility?\"\n**Response:**\n```markdown\n# ‚ôø Accessibility Features\n\nYes! I have comprehensive AI-powered accessibility features:\n\n## What I Can Do\n\n1. **Automatic Detection**\n   - Scans components for WCAG 2.2 violations\n   - Real-time analysis via hooks\n   - Covers 90% of common issues\n\n2. **AI-Powered Fixes**\n   - Context-aware suggestions (knows button purpose)\n   - Ranked recommendations (Best ‚Üí Good ‚Üí Acceptable)\n   - One-click application\n   - Color contrast calculation\n\n3. **Education**\n   - Explains WHY each fix is needed\n   - Teaches WCAG best practices\n   - Links to relevant WCAG guidelines\n\n## How to Use\n\n**Quick fix for a component:**\n```bash\n/fix-accessibility Button.tsx\n```\n\n**Natural language:**\n\"Check my Card component for accessibility issues\"\n\"Fix accessibility violations in the LoginForm\"\n\n## What Gets Checked\n\n- Missing accessible names (buttons, links, images)\n- Color contrast (WCAG AA/AAA)\n- Keyboard navigation\n- ARIA usage (semantic HTML first)\n- Form labels\n- Heading hierarchy\n\n## Example Output\n\n```\n‚ùå Accessibility issue detected in Button.tsx:12\n\nIssue: Button has no accessible name\nWCAG: 4.1.2 Name, Role, Value (Level A)\nImpact: Screen reader users won't know button purpose\n\nRecommended fixes:\n1. Add visible text + icon (BEST) ‚≠ê\n2. Use aria-label (GOOD)\n3. Use title attribute (ACCEPTABLE)\n\nApply fix? [1] [2] [3]\n```\n\n**Related Features:**\n- `testing-suite` - Accessibility tests in Storybook\n- `component-scaffold` - New components with a11y built-in\n\nTry `/fix-accessibility [file]` or just ask me to check accessibility!\n```\n\n### For \"How Do I...\" Questions\n\nExtract the task and provide step-by-step guidance:\n\n**User:** \"How do I set up visual regression testing?\"\n**Response:**\n```markdown\n# Setting Up Visual Regression Testing\n\nHere's how to set up AI-powered visual regression testing:\n\n## Quick Start (Automated)\n\nJust run:\n```bash\n/setup-visual-testing\n```\n\nI'll automatically:\n1. Detect your framework and build tool\n2. Install dependencies (Playwright, test-runner)\n3. Create configuration files\n4. Capture baseline screenshots\n5. Set up NPM scripts\n6. Configure CI/CD integration (optional)\n\n## Step-by-Step Process\n\n**1. Run Setup Command**\n```bash\n/setup-visual-testing\n```\n\n**2. Choose Your Preferences**\nI'll ask about:\n- Integration with Chromatic/Percy (optional)\n- Auto-approval rules (conservative/balanced/aggressive)\n- CI/CD integration (GitHub Actions, GitLab, etc.)\n\n**3. Capture Baselines**\nInitial screenshots will be captured automatically:\n```\nCapturing baseline screenshots...\n  ‚úì Button/Primary\n  ‚úì Card/Default\n  ...\n  ‚úì Captured 47 stories\n```\n\n**4. Test Your Setup**\nMake a small change and run:\n```bash\nnpm run test:visual\n```\n\n**5. Review AI Analysis**\nThe AI will categorize changes:\n- ‚úÖ Expected (theme updates)\n- ‚ö†Ô∏è Warning (review needed)\n- ‚ùå Error (likely bugs)\n\n## What Makes It \"AI-Powered\"?\n\nTraditional visual regression:\n- Flags thousands of anti-aliasing changes ‚ùå\n- Can't distinguish intentional from accidental ‚ùå\n- Requires manual review of everything ‚ùå\n\nAI-powered approach:\n- Understands git history and design tokens ‚úÖ\n- Auto-approves expected changes ‚úÖ\n- Only flags real issues ‚úÖ\n- 90% fewer false positives ‚úÖ\n\n## Next Steps\n\nAfter setup:\n- Run `npm run test:visual` to test\n- Use `npm run test:visual:interactive` for manual review\n- Integrate with CI/CD to block regressions\n\nNeed more details? Type `/help visual-regression`\n```\n\n### For Version/Changelog Questions\n\n**User:** \"What's new?\" or \"What changed?\"\n**Response:**\n```markdown\n# üÜï What's New in v2.1.0\n\n## Major Additions (3 New Features)\n\n### 1. AI Visual Regression Testing üîç\n- Intelligent screenshot comparison\n- Context-aware diff analysis\n- 90% reduction in false positives\n- Auto-approval for theme updates\n- CI/CD integration\n\n**Try:** `/setup-visual-testing`\n\n### 2. Design Token Sync üîÑ\n- Bidirectional Figma ‚Üî Code synchronization\n- Automatic drift detection\n- Conflict resolution\n- Multi-format output (CSS, SCSS, TS, JSON)\n\n**Try:** `/sync-design-tokens --setup`\n\n### 3. Component Usage Analytics üìä\n- Track component usage across codebase\n- Deprecation impact analysis\n- Unused component detection\n- Migration effort estimation\n\n**Try:** `/analyze-usage Button`\n\n## Complete Feature Set\n\n**Now includes ALL 10 SOTA 2026 features:**\n- ‚úÖ Vision AI Design-to-Code (P0)\n- ‚úÖ Natural Language Generation (P0)\n- ‚úÖ Accessibility Remediation (P1)\n- ‚úÖ Server Components (P1)\n- ‚úÖ **Visual Regression Testing (P1)** ‚≠ê NEW\n- ‚úÖ Performance Analysis (P2)\n- ‚úÖ Dark Mode Generation (P2)\n- ‚úÖ **Design Token Sync (P2)** ‚≠ê NEW\n- ‚úÖ CI/CD Generator (P3)\n- ‚úÖ **Component Usage Analytics (P3)** ‚≠ê NEW\n\n## Version History\n\n**v2.1.0** (Current)\n- 100% SOTA roadmap complete\n- 17 skills, 3 agents, 11 commands\n- All P0, P1, P2, P3 features implemented\n\n**v2.0.6** (Previous)\n- 70% roadmap complete\n- 14 skills, 2 agents, 8 commands\n\n## What's Next?\n\nAll planned features are now complete! Future development will focus on:\n- Performance optimizations\n- Additional integrations\n- Community-requested features\n\nTry the new features with:\n- `/setup-visual-testing`\n- `/sync-design-tokens`\n- `/analyze-usage [component]`\n```\n\n## Response Guidelines\n\n### Keep It Scannable\n- Use headers, bullets, and emoji\n- Highlight key commands with code blocks\n- Show examples, not just descriptions\n\n### Be Conversational\n- \"I can help you...\" not \"This plugin can...\"\n- \"Try `/command`\" not \"Use the command tool\"\n- Encourage questions: \"Just ask me!\"\n\n### Provide Next Steps\n- Always end with actionable next steps\n- Suggest related features\n- Point to detailed docs when appropriate\n\n### Progressive Disclosure\n- Start with high-level overview\n- Provide details on request\n- Link to full documentation\n\n### Handle Edge Cases\n\n**User:** \"I'm completely lost\"\n**Response:** Start with `/setup-storybook` and offer to walk through step-by-step\n\n**User:** \"Too many features, overwhelming\"\n**Response:** Focus on the \"Big 3\" - design-to-code, accessibility, visual regression\n\n**User:** \"Which command should I use for X?\"\n**Response:** Suggest the most appropriate command with brief explanation\n\n**User:** \"Does this work with [framework]?\"\n**Response:** List supported frameworks and platform compatibility\n\n## Integration Points\n\nThis skill should seamlessly hand off to:\n- Specific skills when user wants to use a feature\n- The `/help` command for detailed documentation\n- Other skills for specialized tasks\n\n## Files Structure\n\nWhile this skill doesn't need supporting scripts, it should reference:\n- `README.md` - Main project documentation\n- `SOTA_IMPLEMENTATION_COMPLETE.md` - Feature details\n- `CLAUDE.md` - Development guidelines\n- Individual `skills/*/SKILL.md` files - Feature documentation\n\n## Summary\n\nThe plugin-guide skill makes the Storybook Assistant approachable and discoverable. It translates natural language queries into actionable guidance, helping users find the right features without needing to know exact command names or technical details.\n\n**Key Benefit:** Users can explore capabilities conversationally - \"What can you do?\" - rather than reading documentation first.\n",
        "skills/server-components/SKILL.md": "---\ndescription: Use this skill when the user asks to \"create server component\", \"add React Server Component\", \"use async component\", \"setup Next.js 15\", \"use React 19\", \"implement PPR\", \"add Server Actions\", mentions \"use server\", \"use client\", \"Suspense boundaries\", or wants to build modern server-rendered components with React 19 and Next.js 15 patterns.\n---\n\n# Server Components Skill\n\n## Overview\n\nGenerate modern React Server Components with React 19 and Next.js 15 patterns including async/await data fetching, streaming with Suspense, Server Actions, and Partial Prerendering (PPR).\n\nThis skill provides templates and best practices for building server-first applications with client-side interactivity only where needed.\n\n## What This Skill Provides\n\n### React Server Components\nModern server-rendered components with:\n- **Async components**: Fetch data directly in components\n- **No useEffect needed**: Server-side data fetching\n- **Reduced bundle size**: Server code stays on server\n- **Automatic code splitting**: Client boundaries only\n\n### Client Component Boundaries\nStrategic client-side interactivity:\n- **\"use client\" directive**: Mark client boundaries\n- **State management**: useState, useContext where needed\n- **Event handlers**: onClick, onChange for interactivity\n- **Browser APIs**: Access window, document, localStorage\n\n### Streaming & Suspense\nProgressive rendering patterns:\n- **Suspense boundaries**: Stream components as they load\n- **Loading skeletons**: Show placeholders during fetch\n- **Error boundaries**: Handle server errors gracefully\n- **Nested Suspense**: Granular loading states\n\n### React 19 Features\nLatest React patterns:\n- **useActionState**: Form submissions without client JS\n- **use() hook**: Unwrap promises in components\n- **Server Actions**: Backend mutations from client\n- **Optimistic updates**: Instant UI feedback\n\n### Next.js 15 Patterns\nFramework-specific optimizations:\n- **Partial Prerendering (PPR)**: Mix static and dynamic\n- **Improved caching**: Smarter fetch deduplication\n- **Turbopack**: Faster builds and HMR\n- **Server-only code**: Prevents client bundling\n\n## Component Patterns\n\n### Basic Server Component\n\n```tsx\n// app/ProductList.tsx (Server Component)\nimport { fetchProducts } from '@/lib/api';\nimport { ProductCard } from './ProductCard';\n\n// ‚ú® Async Server Component\nexport default async function ProductList({ category }: Props) {\n  // Direct data fetching - no useEffect!\n  const products = await fetchProducts(category);\n\n  return (\n    <div className=\"grid grid-cols-3 gap-4\">\n      {products.map(product => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n}\n```\n\n### Client Component for Interactivity\n\n```tsx\n// app/ProductCard.client.tsx\n'use client'; // ‚ú® Client boundary\n\nimport { useState } from 'react';\nimport { addToCart } from '@/actions/cart';\n\nexport function ProductCard({ product }: Props) {\n  const [loading, setLoading] = useState(false);\n\n  const handleAddToCart = async () => {\n    setLoading(true);\n    await addToCart(product.id);\n    setLoading(false);\n  };\n\n  return (\n    <article>\n      <img src={product.image} alt={product.name} />\n      <h3>{product.name}</h3>\n      <p>${product.price}</p>\n\n      {/* ‚ú® Client-side interactivity */}\n      <button onClick={handleAddToCart} disabled={loading}>\n        {loading ? 'Adding...' : 'Add to Cart'}\n      </button>\n    </article>\n  );\n}\n```\n\n### Streaming with Suspense\n\n```tsx\n// app/Dashboard.tsx\nimport { Suspense } from 'react';\nimport { UserStats } from './UserStats';\nimport { RecentActivity } from './RecentActivity';\nimport { Skeleton } from './Skeleton';\n\nexport default function Dashboard() {\n  return (\n    <div>\n      <h1>Dashboard</h1>\n\n      {/* ‚ú® Stream components independently */}\n      <Suspense fallback={<Skeleton type=\"stats\" />}>\n        <UserStats />  {/* Slow fetch */}\n      </Suspense>\n\n      <Suspense fallback={<Skeleton type=\"activity\" />}>\n        <RecentActivity />  {/* Fast fetch */}\n      </Suspense>\n    </div>\n  );\n}\n```\n\n### Server Actions (React 19)\n\n```tsx\n// app/CommentForm.tsx\n'use client';\n\nimport { useActionState } from 'react';\nimport { postComment } from '@/actions/comments';\n\nexport function CommentForm({ postId }: Props) {\n  const [state, submitAction, isPending] = useActionState(\n    async (prevState, formData) => {\n      const comment = formData.get('comment') as string;\n\n      try {\n        await postComment(postId, comment);\n        return { success: true, message: 'Comment posted!' };\n      } catch (error) {\n        return { success: false, message: 'Failed to post comment' };\n      }\n    },\n    { success: false, message: '' }\n  );\n\n  return (\n    <form action={submitAction}>\n      <textarea name=\"comment\" required />\n      <button disabled={isPending}>\n        {isPending ? 'Posting...' : 'Post Comment'}\n      </button>\n      {state.message && <p>{state.message}</p>}\n    </form>\n  );\n}\n\n// actions/comments.ts\n'use server';\n\nexport async function postComment(postId: string, comment: string) {\n  const user = await getCurrentUser();\n  await db.comments.create({\n    data: { postId, userId: user.id, content: comment }\n  });\n}\n```\n\n### Partial Prerendering (Next.js 15)\n\n```tsx\n// app/page.tsx\nexport const experimental_ppr = true;\n\nexport default function ProductPage() {\n  return (\n    <>\n      {/* ‚ú® Static: Prerendered at build time */}\n      <ProductHeader />\n      <ProductDescription />\n\n      {/* ‚ú® Dynamic: Streamed for each request */}\n      <Suspense fallback={<ReviewsSkeleton />}>\n        <UserReviews />  {/* Personalized content */}\n      </Suspense>\n\n      <Suspense fallback={<RecommendationsSkeleton />}>\n        <Recommendations />  {/* User-specific */}\n      </Suspense>\n    </>\n  );\n}\n```\n\n## Templates\n\n### Server Component Template\n\n```tsx\n// templates/server-component.template\nimport { Suspense } from 'react';\n\ninterface {{COMPONENT_NAME}}Props {\n  {{PROP_NAME}}: {{PROP_TYPE}};\n}\n\nexport default async function {{COMPONENT_NAME}}({\n  {{PROP_NAME}}\n}: {{COMPONENT_NAME}}Props) {\n  // ‚ú® Server-side data fetching\n  const data = await fetch{{DATA_NAME}}({{PROP_NAME}});\n\n  return (\n    <div>\n      <h2>{{COMPONENT_NAME}}</h2>\n      {/* Render data */}\n    </div>\n  );\n}\n```\n\n### Client Component Template\n\n```tsx\n// templates/client-component.template\n'use client';\n\nimport { useState } from 'react';\n\ninterface {{COMPONENT_NAME}}Props {\n  {{PROP_NAME}}: {{PROP_TYPE}};\n}\n\nexport function {{COMPONENT_NAME}}({\n  {{PROP_NAME}}\n}: {{COMPONENT_NAME}}Props) {\n  const [state, setState] = useState(initialValue);\n\n  const handleAction = () => {\n    // Client-side logic\n  };\n\n  return (\n    <div>\n      {/* Interactive UI */}\n    </div>\n  );\n}\n```\n\n## Storybook Integration\n\n### Mocking Server Components\n\n```tsx\n// ProductList.stories.tsx\nimport type { Meta, StoryObj } from '@storybook/react';\nimport ProductList from './ProductList';\n\nconst meta: Meta<typeof ProductList> = {\n  title: 'Server/ProductList',\n  component: ProductList,\n  parameters: {\n    nextjs: {\n      appDirectory: true,  // Enable App Router\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof ProductList>;\n\n// ‚ú® Mock server data\nexport const Default: Story = {\n  parameters: {\n    async loaders() {\n      return {\n        products: [\n          { id: 1, name: 'Product 1', price: 29.99 },\n          { id: 2, name: 'Product 2', price: 39.99 },\n        ],\n      };\n    },\n  },\n};\n\nexport const Loading: Story = {\n  parameters: {\n    async loaders() {\n      // Simulate slow load\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      return { products: [] };\n    },\n  },\n};\n\nexport const Error: Story = {\n  parameters: {\n    async loaders() {\n      throw new Error('Failed to fetch products');\n    },\n  },\n};\n```\n\n## Best Practices\n\n### Server vs Client Decision Tree\n\n```\nDoes it need interactivity (state, events)?\n  ‚îú‚îÄ YES ‚Üí Client Component ('use client')\n  ‚îî‚îÄ NO ‚Üí Can it fetch data?\n      ‚îú‚îÄ YES ‚Üí Server Component (async)\n      ‚îî‚îÄ NO ‚Üí Server Component (static)\n```\n\n### Component Colocation\n\n```\napp/\n‚îú‚îÄ‚îÄ ProductList/\n‚îÇ   ‚îú‚îÄ‚îÄ ProductList.tsx          # Server Component\n‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.client.tsx   # Client Component\n‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.stories.tsx  # Storybook\n‚îÇ   ‚îî‚îÄ‚îÄ ProductList.test.tsx     # Tests\n```\n\n### Data Fetching Patterns\n\n```tsx\n// ‚úÖ Server Component - Direct fetch\nasync function ServerComponent() {\n  const data = await fetchData();\n  return <div>{data}</div>;\n}\n\n// ‚úÖ Client Component - Props from server\nfunction ClientComponent({ data }: { data: Data }) {\n  const [selected, setSelected] = useState(data[0]);\n  return <div onClick={() => setSelected(data[1])}>{selected}</div>;\n}\n\n// ‚ùå Client Component - Don't fetch on client if avoidable\nfunction ClientComponent() {\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetchData().then(setData);  // Prefer server fetch\n  }, []);\n}\n```\n\n### Minimize Client Boundaries\n\n```tsx\n// ‚ùå Entire component is client\n'use client';\nexport default function Page() {\n  return (\n    <div>\n      <Header />  {/* Could be server */}\n      <Content /> {/* Could be server */}\n      <InteractiveButton />  {/* Needs client */}\n    </div>\n  );\n}\n\n// ‚úÖ Only interactive part is client\nexport default function Page() {\n  return (\n    <div>\n      <Header />  {/* Server */}\n      <Content /> {/* Server */}\n      <InteractiveButton />  {/* Client */}\n    </div>\n  );\n}\n```\n\n## References\n\n- **Templates**: `skills/server-components/templates/`\n- **Examples**: `skills/server-components/examples/server-patterns.md`\n- **React 19 Docs**: https://react.dev/blog/2024/12/05/react-19\n- **Next.js 15 Docs**: https://nextjs.org/docs\n\n## Summary\n\nBuild modern React applications with:\n1. **Server Components** for data fetching (no useEffect)\n2. **Client Components** only where needed (interactivity)\n3. **Streaming** with Suspense (progressive rendering)\n4. **Server Actions** for mutations (React 19)\n5. **PPR** for optimal performance (Next.js 15)\n\n**Result:** Faster, smaller, more maintainable applications with better UX.\n",
        "skills/story-generation/README.md": "# Story Generation - Component Parser & Story Generator\n\nComplete component analysis and story generation system for React, Vue, and Svelte.\n\n## Features\n\n### ‚úÖ Component Parser (`parse_component.py`)\n- **React/TypeScript**: Parse interfaces, types, function components, arrow functions\n- **Vue 3**: Parse `defineProps` (TypeScript and runtime)\n- **Svelte**: Parse `export let` statements\n- Extracts: component name, props, types, required/optional, defaults\n- Classifies component type: button, input, card, table, etc.\n\n### ‚úÖ Variant Detector (`detect_variants.py`)\n- **Intelligent variant detection** from prop types\n- Detects enum/union types: `'primary' | 'secondary' | 'outline'`\n- Detects size variants: `small`, `medium`, `large`\n- Detects boolean states: `disabled`, `loading`, `error`\n- Component-type specific variants (e.g., modal open state)\n- Priority-based sorting\n\n### ‚úÖ Story Generator (`generate_story.py`)\n- **Complete story file generation** with templates\n- Multiple testing levels: `full`, `standard`, `basic`, `minimal`\n- **Full testing includes**:\n  - Variant stories for all detected variations\n  - Interaction tests with play functions\n  - Accessibility tests with axe-core\n  - Component-specific test patterns\n- **Template-based** (easily extensible)\n- **Framework support**: React, Vue, Svelte\n\n### ‚úÖ Component Scanner (`scan_components.py`)\n- **Project-wide component discovery**\n- Scans directories recursively\n- Filters out test files, node_modules, etc.\n- Groups by framework\n- Generates component metadata for all files\n\n---\n\n## Installation\n\nNo installation needed - pure Python 3 scripts.\n\n**Requirements:**\n- Python 3.8+\n- No external dependencies (uses standard library only)\n\n---\n\n## Usage\n\n### 1. Parse a Component\n\n```bash\npython3 parse_component.py path/to/Component.tsx\n\n# Output:\n# Component: Button\n# Framework: react\n# Type: button\n# Props (6):\n#   - variant: 'primary' | 'secondary' | 'outline' | 'ghost' (required)\n#   - size: 'small' | 'medium' | 'large' (optional)\n#   - disabled: boolean (optional)\n#   ...\n```\n\n**JSON output:**\n```bash\npython3 parse_component.py Component.tsx --json\n```\n\n### 2. Detect Variants\n\n```bash\npython3 detect_variants.py path/to/Component.tsx\n\n# Output:\n# Detected 11 variants:\n# 1. Primary\n#    Description: variant: primary\n#    Args: {'variant': 'primary'}\n#    Priority: 1\n# ...\n```\n\n**JSON output:**\n```bash\npython3 detect_variants.py Component.tsx --json\n```\n\n### 3. Generate Story\n\n```bash\n# Full testing (interaction + accessibility + variants)\npython3 generate_story.py Component.tsx --level full --output Component.stories.tsx\n\n# Basic stories only\npython3 generate_story.py Component.tsx --level basic --output Component.stories.tsx\n\n# Dry run (print to stdout)\npython3 generate_story.py Component.tsx --level full --dry-run\n```\n\n**Testing levels:**\n- `full`: All features (variants + interaction tests + a11y tests)\n- `standard`: Variants + interaction tests (no a11y)\n- `basic`: Variants with args/controls only\n- `minimal`: Single default story\n\n### 4. Scan Project for Components\n\n```bash\n# Scan current directory\npython3 scan_components.py\n\n# Scan specific directory\npython3 scan_components.py src/components\n\n# JSON output\npython3 scan_components.py src --json\n\n# Exclude additional patterns\npython3 scan_components.py src --exclude '*.test.*' --exclude 'draft'\n```\n\n---\n\n## Quick Test\n\nRun the test suite on sample components:\n\n```bash\n./test_parser.sh\n\n# Output:\n# üß™ Testing Component Parser & Story Generator\n# ==============================================\n#\n# üìã Test 1: Parse Component\n# ...\n# ‚úÖ All tests completed successfully!\n```\n\n---\n\n## Examples\n\n### Example 1: React Button Component\n\n**Input: `Button.tsx`**\n```typescript\ninterface ButtonProps {\n  variant: 'primary' | 'secondary' | 'outline';\n  size?: 'small' | 'medium' | 'large';\n  disabled?: boolean;\n  onClick?: () => void;\n  children: React.ReactNode;\n}\n\nexport function Button({ variant, size, disabled, onClick, children }: ButtonProps) {\n  return <button className={`btn-${variant} btn-${size}`} disabled={disabled} onClick={onClick}>{children}</button>;\n}\n```\n\n**Command:**\n```bash\npython3 generate_story.py Button.tsx --level full --output Button.stories.tsx\n```\n\n**Output: `Button.stories.tsx`**\n```typescript\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { expect, userEvent, within } from '@storybook/test';\nimport { Button } from './Button';\n\nconst meta = {\n  title: 'Components/Button',\n  component: Button,\n  parameters: { layout: 'centered' },\n  tags: ['autodocs'],\n  argTypes: {\n    variant: { control: 'select', options: ['primary', 'secondary', 'outline'] },\n    size: { control: 'select', options: ['small', 'medium', 'large'] },\n    disabled: { control: 'boolean' },\n    onClick: { action: 'onClick' },\n  },\n} satisfies Meta<typeof Button>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Primary: Story = {\n  args: { variant: 'primary', children: 'Button' },\n};\n\nexport const Secondary: Story = {\n  args: { variant: 'secondary', children: 'Button' },\n};\n\nexport const Outline: Story = {\n  args: { variant: 'outline', children: 'Button' },\n};\n\nexport const Small: Story = {\n  args: { size: 'small', children: 'Button' },\n};\n\nexport const Large: Story = {\n  args: { size: 'large', children: 'Button' },\n};\n\nexport const Disabled: Story = {\n  args: { disabled: true, children: 'Button' },\n};\n\n// Interaction test\nexport const WithInteraction: Story = {\n  args: { children: 'Button', onClick: () => {} },\n  play: async ({ canvasElement, args }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    await expect(button).toBeInTheDocument();\n    await userEvent.click(button);\n    if (args.onClick) {\n      await expect(args.onClick).toHaveBeenCalled();\n    }\n    await expect(button).not.toBeDisabled();\n  },\n};\n\n// Accessibility test\nexport const AccessibilityValidation: Story = {\n  args: { children: 'Button' },\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          { id: 'button-name', enabled: true },\n          { id: 'color-contrast', enabled: true },\n        ],\n      },\n    },\n  },\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n    button.focus();\n    await expect(button).toHaveFocus();\n    await userEvent.keyboard('{Enter}');\n  },\n};\n```\n\n### Example 2: Vue Component\n\n**Input: `Button.vue`**\n```vue\n<script setup lang=\"ts\">\ndefineProps<{\n  variant: 'primary' | 'secondary';\n  size?: 'small' | 'large';\n  disabled?: boolean;\n}>();\n</script>\n\n<template>\n  <button :class=\"`btn-${variant} btn-${size}`\" :disabled=\"disabled\">\n    <slot />\n  </button>\n</template>\n```\n\n**Command:**\n```bash\npython3 generate_story.py Button.vue --level full --output Button.stories.ts\n```\n\n**Output:** Similar structure with Vue 3 imports and syntax.\n\n---\n\n## Architecture\n\n### Component Parser Flow\n\n```\nComponent File (.tsx/.vue/.svelte)\n          ‚Üì\n    parse_component()\n          ‚Üì\n   Extract metadata:\n   - Component name\n   - Props with types\n   - Required/optional\n   - Component type\n          ‚Üì\n   ComponentMetadata\n```\n\n### Variant Detection Flow\n\n```\nComponentMetadata\n          ‚Üì\n  detect_variants()\n          ‚Üì\n   Analyze props:\n   - Enum/union types\n   - Size props\n   - Boolean states\n   - Type-specific\n          ‚Üì\n   List[Variant]\n```\n\n### Story Generation Flow\n\n```\nComponentMetadata + Variants\n          ‚Üì\n  generate_story()\n          ‚Üì\n   Load template:\n   - framework-level.template\n          ‚Üì\n   Replace placeholders:\n   - {{COMPONENT_NAME}}\n   - {{VARIANT_STORIES}}\n   - {{INTERACTION_TEST_CODE}}\n          ‚Üì\n   Generated .stories.tsx file\n```\n\n---\n\n## Supported Component Types\n\nThe system automatically detects component types and generates appropriate tests:\n\n| Type | Detection | Interaction Test | A11y Rules |\n|------|-----------|------------------|------------|\n| `button` | Name contains 'button', 'btn' | Click test, disabled check | button-name, color-contrast |\n| `input` | Name contains 'input', 'textfield' | Type test, value check | label, color-contrast |\n| `checkbox` | Name contains 'checkbox' | Click test, checked state | ... |\n| `select` | Name contains 'select', 'dropdown' | Select option test | ... |\n| `modal` | Name contains 'modal', 'dialog' | Focus trap test | aria-dialog-name, focus-trap |\n| `card` | Name contains 'card' | Generic render test | ... |\n| `table` | Name contains 'table', 'datagrid' | Row/column tests | ... |\n\n---\n\n## Templates\n\nTemplates are located in `templates/` directory:\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ react-full.template       # React with full testing\n‚îú‚îÄ‚îÄ react-basic.template      # React basic stories\n‚îú‚îÄ‚îÄ vue-full.template         # Vue 3 with full testing\n‚îú‚îÄ‚îÄ vue-basic.template        # Vue 3 basic stories\n‚îú‚îÄ‚îÄ svelte-full.template      # Svelte with full testing\n‚îî‚îÄ‚îÄ svelte-basic.template     # Svelte basic stories\n```\n\n**Template variables:**\n- `{{COMPONENT_NAME}}` - Component name\n- `{{STORY_TITLE}}` - Story title (e.g., Components/Button)\n- `{{ARG_TYPES}}` - ArgTypes configuration\n- `{{VARIANT_STORIES}}` - Generated variant story exports\n- `{{DEFAULT_ARGS}}` - Default args for tests\n- `{{INTERACTION_TEST_CODE}}` - Interaction test code\n- `{{A11Y_RULES}}` - Accessibility rules\n- `{{A11Y_TEST_CODE}}` - Accessibility test code\n\n### Adding Custom Templates\n\nCreate new template file: `templates/{framework}-{level}.template`\n\nExample: `templates/react-custom.template`\n\n---\n\n## Advanced Usage\n\n### Custom Component Scanning\n\n```python\nfrom scan_components import ComponentScanner\n\n# Scan with custom patterns\ncomponents = ComponentScanner.scan(\n    root_dir='src',\n    exclude_patterns=['legacy', 'deprecated']\n)\n\n# Filter by component type\nbuttons = [c for c in components if c['component_type'] == 'button']\n```\n\n### Custom Variant Detection\n\n```python\nfrom detect_variants import VariantDetector\n\n# Add custom variant patterns\nVariantDetector.VARIANT_PATTERNS['theme'] = ['light', 'dark', 'auto']\n\nvariants = VariantDetector.detect_variants(metadata_dict)\n```\n\n### Custom Story Templates\n\n```python\nfrom generate_story import StoryGenerator\n\n# Override template directory\nStoryGenerator.TEMPLATE_DIR = Path('custom/templates')\n\n# Generate with custom template\nstory = StoryGenerator.generate_story(\n    'Component.tsx',\n    testing_level='custom',\n    output_path='Component.stories.tsx'\n)\n```\n\n---\n\n## Integration with Plugin\n\nThese scripts are used by the `/generate-stories` command:\n\n1. **Scan phase**: `scan_components.py` finds all components\n2. **User selection**: AskUserQuestion presents discovered components\n3. **Generation phase**: For each selected component:\n   - `parse_component.py` extracts metadata\n   - `detect_variants.py` finds variants\n   - `generate_story.py` creates story file\n\n---\n\n## Troubleshooting\n\n### Issue: Parser fails on component\n\n**Solution**: Check if component follows standard patterns:\n- TypeScript interfaces/types for React\n- `defineProps<T>` for Vue\n- `export let` for Svelte\n\n### Issue: No variants detected\n\n**Solution**: Variants are detected from union types like `'a' | 'b'`. Check if props use string literals or enums.\n\n### Issue: Generated story has errors\n\n**Solution**:\n- Ensure component exports are correct\n- Check if component needs additional imports\n- Verify prop types match actual component\n\n### Issue: Test code doesn't match component\n\n**Solution**: Component type classification may be wrong. Manually classify or add custom test patterns.\n\n---\n\n## Performance\n\n- **Parser**: ~10ms per component (Python)\n- **Variant detection**: ~1ms per component\n- **Story generation**: ~5ms per component\n- **Project scan**: ~100-500ms for 100 components\n\n**Batch processing** is efficient - scan entire project at once.\n\n---\n\n## Future Enhancements\n\nPotential improvements (not yet implemented):\n- [ ] Angular component support\n- [ ] Props documentation extraction from JSDoc\n- [ ] Custom story template language (beyond string replacement)\n- [ ] Visual mockup integration (call NanoBanana)\n- [ ] Component snapshot testing generation\n- [ ] E2E test generation from stories\n- [ ] Design system token detection\n\n---\n\n## Contributing\n\nTo add support for a new framework:\n\n1. Create parser class in `parse_component.py`:\n   ```python\n   class NewFrameworkParser(ComponentParser):\n       @staticmethod\n       def parse(file_path: str) -> Optional[ComponentMetadata]:\n           # Implementation\n   ```\n\n2. Add templates: `templates/newframework-{level}.template`\n\n3. Update file extension detection\n\n4. Test with sample components\n\n---\n\n## License\n\nMIT - Part of Storybook Assistant Plugin\n",
        "skills/story-generation/SKILL.md": "---\ndescription: Use this skill when the user asks to \"generate stories for components\", \"parse component props\", \"detect component variants\", \"analyze components\", \"create stories automatically\", mentions \"component parser\", \"story automation\", or wants to generate Storybook stories from existing component files. This skill provides intelligent component analysis and CSF 3.0 story generation with interaction tests and accessibility checks.\n---\n\n# Story Generation Skill\n\n## Overview\n\nGenerate Storybook stories automatically from existing components by parsing prop types, detecting variants, and creating comprehensive CSF 3.0 stories with interaction tests and accessibility validation.\n\nThis skill provides a complete component analysis and story generation pipeline for React, Vue, and Svelte components.\n\n## What This Skill Provides\n\n### Component Analysis\nParse component files to extract:\n- Component name and type classification\n- Props with TypeScript types\n- Required vs optional props\n- Default values\n- Children/slots detection\n\n### Intelligent Variant Detection\nAutomatically detect story variants from:\n- Enum/union types: `'primary' | 'secondary' | 'outline'`\n- Size props: `small`, `medium`, `large`\n- Boolean states: `disabled`, `loading`, `error`\n- Component-type specific patterns\n\n### Story Generation\nCreate complete story files with:\n- **CSF 3.0 format** (`satisfies Meta<typeof Component>`)\n- **ArgTypes** with inferred controls (select, boolean, action)\n- **Variant stories** for all detected variations\n- **Interaction tests** with play functions (Testing Library)\n- **Accessibility tests** with axe-core rules\n- **Component-specific test patterns** (button clicks, input validation, modal focus)\n\n### Multi-Framework Support\n- **React/TypeScript**: Parse interfaces, types, function components\n- **Vue 3**: Parse `defineProps<T>` and runtime props\n- **Svelte**: Parse `export let` statements\n\n## Core Scripts\n\nThe skill provides four main scripts in `scripts/`:\n\n### 1. parse_component.py\nParse component files to extract metadata.\n\n**Usage:**\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/story-generation/scripts/parse_component.py \\\n  path/to/Component.tsx \\\n  --json\n```\n\n**Output:** Component metadata (name, framework, props, type classification)\n\n### 2. detect_variants.py\nDetect story variants from component props.\n\n**Usage:**\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/story-generation/scripts/detect_variants.py \\\n  path/to/Component.tsx \\\n  --json\n```\n\n**Output:** List of variants with args and priorities\n\n### 3. generate_story.py\nGenerate complete story file with tests.\n\n**Usage:**\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/story-generation/scripts/generate_story.py \\\n  path/to/Component.tsx \\\n  --level full \\\n  --output path/to/Component.stories.tsx\n```\n\n**Testing levels:**\n- `full`: All features (variants + interaction tests + a11y tests)\n- `standard`: Variants + interaction tests\n- `basic`: Variants with args/controls only\n- `minimal`: Single default story\n\n### 4. scan_components.py\nScan project directories for components.\n\n**Usage:**\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/story-generation/scripts/scan_components.py \\\n  src \\\n  --json\n```\n\n**Output:** JSON array of discovered components with metadata\n\n## Story Templates\n\nTemplates are located in `templates/` directory:\n\n- `react-full.template` - React with full testing\n- `react-basic.template` - React basic stories\n- `vue-full.template` - Vue 3 with full testing\n- `svelte-full.template` - Svelte with full testing\n\nTemplates use variable replacement:\n- `{{COMPONENT_NAME}}` - Component name\n- `{{VARIANT_STORIES}}` - Generated variant exports\n- `{{INTERACTION_TEST_CODE}}` - Test code\n- `{{A11Y_RULES}}` - Accessibility rules\n\n## Workflow Integration\n\nThis skill integrates with the `/generate-stories` command:\n\n1. **Scan**: Discover components with `scan_components.py`\n2. **Parse**: Extract metadata with `parse_component.py`\n3. **Detect**: Find variants with `detect_variants.py`\n4. **Generate**: Create story with `generate_story.py`\n\n## Component Type Support\n\nThe parser automatically detects and generates appropriate tests for:\n\n| Type | Example | Special Handling |\n|------|---------|------------------|\n| button | Button, SubmitButton | Click tests, disabled check |\n| input | TextField, Input | Type tests, value validation |\n| checkbox | Checkbox | Click, checked state |\n| select | Dropdown, Select | Option selection |\n| card | Card, ProductCard | Render tests |\n| modal | Dialog, Modal | Focus trap, ESC handler |\n| table | DataTable, Table | Row/column tests |\n\n15+ component types supported with custom test patterns.\n\n## Example Usage\n\n### Parse a Button Component\n\n```bash\n# Parse component\npython3 scripts/parse_component.py src/components/Button.tsx\n\n# Output:\n# Component: Button\n# Framework: react\n# Type: button\n# Props (6):\n#   - variant: 'primary' | 'secondary' | 'outline' | 'ghost' (required)\n#   - size: 'small' | 'medium' | 'large' (optional)\n#   - disabled: boolean (optional)\n#   - loading: boolean (optional)\n#   - onClick: () => void (optional)\n#   - children: React.ReactNode (required)\n```\n\n### Detect Variants\n\n```bash\n# Detect variants\npython3 scripts/detect_variants.py src/components/Button.tsx\n\n# Output:\n# Detected 11 variants:\n# 1. Primary (variant: primary)\n# 2. Secondary (variant: secondary)\n# 3. Outline (variant: outline)\n# 4. Ghost (variant: ghost)\n# 5-7. Small/Medium/Large (size variants)\n# 8. Disabled (boolean state)\n# 9. Loading (boolean state)\n```\n\n### Generate Complete Story\n\n```bash\n# Generate story with full testing\npython3 scripts/generate_story.py \\\n  src/components/Button.tsx \\\n  --level full \\\n  --output src/components/Button.stories.tsx\n```\n\n**Generated story includes:**\n- Meta configuration with argTypes\n- 11 variant stories (Primary, Secondary, Outline, Ghost, Small, Large, Disabled, Loading, etc.)\n- Interaction test with play function\n- Accessibility test with axe-core rules\n\n## Performance\n\n- Component parsing: ~10ms per component\n- Variant detection: ~1ms per component\n- Story generation: ~15ms per component\n- **Total**: ~26ms per component\n\nCan process 100+ components in 2-3 seconds.\n\n## Error Handling\n\nThe scripts handle common errors gracefully:\n- **Parse failures**: Skip component, continue with others\n- **Unknown types**: Fall back to generic component template\n- **Missing files**: Clear error messages\n- **Invalid syntax**: Report parsing errors with line numbers\n\n## Best Practices\n\nWhen using this skill:\n\n1. **Parse first**: Always parse component before generating story to ensure it's supported\n2. **Check variants**: Review detected variants to ensure they match expectations\n3. **Choose testing level**: Use `full` for comprehensive testing, `basic` for simple stories\n4. **Review output**: Generated stories are production-ready but may need customization\n\n## References\n\n- **README.md**: Complete usage guide with examples\n- **scripts/**: All parser and generator scripts\n- **templates/**: Story templates for each framework\n- **test_samples/**: Sample components for testing\n\n## Related Commands\n\n- `/generate-stories` - Interactive workflow using this skill\n- `/create-component` - Creates components with auto-generated stories\n\n## Technical Details\n\n**Parser Implementation:**\n- Regex-based parsing (no AST dependencies)\n- TypeScript interface extraction\n- Vue Composition API support\n- Svelte reactive declarations\n\n**Variant Detection:**\n- Pattern matching on type unions\n- Heuristic-based classification\n- Priority sorting (high-priority variants first)\n- Component-type specific detection\n\n**Story Generation:**\n- Template-based with variable replacement\n- CSF 3.0 format compliance\n- Testing Library integration\n- axe-core accessibility rules\n\nAll scripts use Python 3.8+ standard library only (no external dependencies).\n",
        "skills/storybook-config/SKILL.md": "---\nname: storybook-config\ndescription: \"Generate and configure Storybook 10 for any framework with automatic detection, SOTA best practices, and platform-specific optimizations (Web, Tauri, Electron)\"\nallowed-tools: [Read, Write, Edit, Bash, AskUserQuestion]\n---\n\n# Storybook Configuration Skill\n\n## Overview\n\nThis skill generates production-ready Storybook 10 configurations with:\n- Automatic framework detection (React, Vue, Svelte, Angular, Next.js, Solid, Lit)\n- SOTA 2026 best practices\n- Platform-specific optimizations (Tauri full support, Electron partial support)\n- Optional visual generation integration\n- Testing framework setup (Vitest + Playwright)\n\n## When to Use This Skill\n\nThis skill should be used when:\n- Initializing Storybook 10 in a new project\n- Updating existing Storybook configuration to SOTA standards\n- Adding framework-specific optimizations\n- Configuring platform-specific setups (Tauri, Electron)\n- Setting up testing infrastructure (interaction, a11y, visual)\n\n## Quick Start\n\n```bash\n# Detect project framework and configuration\nbash ${CLAUDE_PLUGIN_ROOT}/scripts/detect-framework.sh\n\n# Use skill to generate configuration\n# The skill will use AskUserQuestion for user preferences\n```\n\n## Configuration Generation\n\n### Supported Frameworks\n\n| Framework | Storybook Package | Minimum Version | Bundler |\n|-----------|------------------|----------------|---------|\n| React | `@storybook/react-vite` | 18.0.0 | Vite (preferred), Webpack |\n| Vue | `@storybook/vue3-vite` | 3.0.0 | Vite (preferred), Webpack |\n| Svelte | `@storybook/svelte-vite` | 5.0.0 | Vite |\n| Angular | `@storybook/angular` | 18.0.0 | Webpack |\n| Next.js | `@storybook/nextjs-vite` | 14.0.0 | Vite |\n| Solid.js | `@storybook/solid-vite` | 1.8.0 | Vite |\n| Lit | `@storybook/web-components-vite` | 3.0.0 | Vite |\n\n### SOTA Patterns (2026)\n\n**1. Vitest Integration for Testing**\n```typescript\n// main.ts - Enable Vitest addon\naddons: [\n  '@storybook/addon-vitest', // Real browser testing\n]\n```\n\n**2. Accessibility Testing**\n```typescript\n// preview.ts - Configure axe-core\nparameters: {\n  a11y: {\n    config: {\n      rules: [\n        { id: 'color-contrast', enabled: true },\n        { id: 'button-name', enabled: true },\n      ],\n    },\n  },\n}\n```\n\n**3. Autodocs with Tags**\n```typescript\n// main.ts - Auto-generate documentation\ndocs: {\n  autodocs: 'tag', // Stories with 'autodocs' tag get automatic docs\n}\n\n// story.tsx\nexport default {\n  tags: ['autodocs'], // Enable automatic documentation\n}\n```\n\n**4. Performance Optimization**\n```typescript\n// main.ts - Vite optimization\nviteFinal: async (config) => {\n  return {\n    ...config,\n    optimizeDeps: {\n      include: ['@storybook/blocks'],\n    },\n  };\n}\n\n// Build optimization for CI\nbuild: {\n  test: {\n    disabledAddons: ['@storybook/addon-docs'], // 2-4x faster\n  },\n}\n```\n\n**5. Modern Controls**\n```typescript\n// preview.ts - Enhanced controls\ncontrols: {\n  matchers: {\n    color: /(background|color)$/i,\n    date: /Date$/i,\n  },\n  expanded: true, // Show all controls by default\n}\n```\n\n## Platform-Specific Configuration\n\n### Web Projects (Full Support)\n\nStandard configuration with all features:\n- Interaction tests\n- Accessibility tests\n- Visual regression tests\n- Code coverage\n\n### Tauri Projects (Full Support)\n\nAdditional configuration:\n```typescript\n// preview.ts - Tauri IPC mocks\ndecorators: [\n  (Story) => {\n    if (typeof window !== 'undefined' && !window.__TAURI__) {\n      window.__TAURI__ = tauriMocks;\n    }\n    return Story();\n  },\n]\n```\n\n**Best Practices:**\n- Run Storybook on separate port (6006) from Tauri dev server (5173)\n- Mock `window.__TAURI__` APIs in stories\n- Keep UI components decoupled from IPC logic\n\n### Electron Projects (Partial Support)\n\nWebpack overrides required:\n```typescript\n// main.ts - Electron configuration\nwebpackFinal: async (config) => {\n  config.target = 'web'; // Override electron-renderer\n  config.externals = {}; // Clear Electron externals\n  config.resolve.alias = {\n    electron: false, // Mock electron module\n  };\n  return config;\n}\n\n// preview.ts - Electron preload API mocks\ndecorators: [\n  (Story) => {\n    if (typeof window !== 'undefined' && !window.api) {\n      window.api = electronMocks;\n    }\n    return Story();\n  },\n]\n```\n\n**Limitations:**\n- Only pure UI components fully testable\n- Components with direct `electron` imports need refactoring\n- IPC integration requires E2E tests separately\n\n## Design System Integration\n\n### Detected Design Systems\n\nThe skill detects and integrates with:\n- **Material UI (MUI)** - Theme provider wrapper\n- **Ant Design** - ConfigProvider wrapper\n- **shadcn/ui** - Tailwind + Radix UI setup\n- **Chakra UI** - ChakraProvider wrapper\n- **Mantine** - MantineProvider wrapper\n\n### Example: MUI Integration\n\n```typescript\n// preview.ts\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\n\nconst theme = createTheme({\n  palette: {\n    mode: 'light',\n  },\n});\n\nexport const decorators = [\n  (Story) => (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Story />\n    </ThemeProvider>\n  ),\n];\n```\n\n## Testing Configuration\n\n### Interaction Tests (Play Functions)\n\n```typescript\n// Install dependencies\nnpm install --save-dev @testing-library/react @testing-library/user-event\n\n// Enable addon\nnpx storybook@latest add @storybook/addon-vitest\n```\n\n### Accessibility Tests\n\n```typescript\n// Install addon\nnpx storybook@latest add @storybook/addon-a11y\n\n// Configure in preview.ts\nparameters: {\n  a11y: {\n    element: '#storybook-root',\n    config: {\n      rules: [\n        { id: 'color-contrast', enabled: true },\n      ],\n    },\n  },\n}\n```\n\n### Coverage Reports\n\n```typescript\n// Install V8 coverage\nnpm install --save-dev @vitest/coverage-v8\n\n// Run with coverage\nnpm run storybook:coverage\n```\n\n## Configuration Templates\n\n### React with TypeScript (SOTA)\n\n> **Storybook 10 Note:** `@storybook/addon-essentials` is deprecated and removed in Storybook 10.\n> Essential features (actions, backgrounds, controls, viewport, measure, outline, toolbars) are now **built-in by default**.\n> Only add addons for features NOT included in core (e.g., `@storybook/addon-a11y`, `@storybook/addon-vitest`).\n\n```typescript\n// .storybook/main.ts\nimport type { StorybookConfig } from '@storybook/react-vite';\n\nconst config: StorybookConfig = {\n  stories: ['../src/**/*.mdx', '../src/**/*.stories.@(js|jsx|mjs|ts|tsx)'],\n  addons: [\n    // NOTE: addon-essentials is REMOVED in Storybook 10\n    // Essential features (actions, backgrounds, controls, viewport) are now built-in\n    '@storybook/addon-docs',   // Documentation (still separate)\n    '@storybook/addon-vitest', // Real browser testing\n    '@storybook/addon-a11y',   // Accessibility testing\n  ],\n  framework: {\n    name: '@storybook/react-vite',\n    options: {\n      strictMode: true,\n    },\n  },\n  docs: {\n    autodocs: 'tag',\n  },\n  viteFinal: async (config) => {\n    return {\n      ...config,\n      optimizeDeps: {\n        include: ['@storybook/blocks'],\n      },\n    };\n  },\n};\n\nexport default config;\n```\n\n```typescript\n// .storybook/preview.ts\nimport type { Preview } from '@storybook/react-vite';\nimport '../src/index.css'; // Global styles\n\nconst preview: Preview = {\n  parameters: {\n    actions: { argTypesRegex: '^on[A-Z].*' },\n    controls: {\n      matchers: {\n        color: /(background|color)$/i,\n        date: /Date$/i,\n      },\n      expanded: true,\n    },\n    layout: 'centered',\n    a11y: {\n      config: {\n        rules: [\n          { id: 'color-contrast', enabled: true },\n        ],\n      },\n    },\n    backgrounds: {\n      default: 'light',\n      values: [\n        { name: 'light', value: '#ffffff' },\n        { name: 'dark', value: '#1a1a1a' },\n      ],\n    },\n  },\n  globalTypes: {\n    theme: {\n      description: 'Global theme for components',\n      defaultValue: 'light',\n      toolbar: {\n        title: 'Theme',\n        icon: 'circlehollow',\n        items: ['light', 'dark'],\n        dynamicTitle: true,\n      },\n    },\n  },\n};\n\nexport default preview;\n```\n\n## Quality Checklist\n\nBefore completing configuration:\n- [ ] Framework detected correctly\n- [ ] Correct Storybook 10 packages installed\n- [ ] Addons configured based on user preferences\n- [ ] Theme/design system integrated (if applicable)\n- [ ] Platform-specific setup complete (Tauri/Electron)\n- [ ] Example stories generated\n- [ ] package.json scripts added\n- [ ] README created with setup instructions\n- [ ] Tests run successfully\n\n## Best Practices\n\n### Do's\n- Use Vite for faster builds (when possible)\n- Enable autodocs with tags\n- Configure a11y testing by default\n- Optimize Vite dependencies\n- Use V8 coverage (faster than Istanbul)\n- Provide platform-specific guidance\n\n### Don'ts\n- Don't use Webpack unless required (Angular, legacy projects)\n- Don't skip accessibility configuration\n- Don't forget to add example stories\n- Don't configure features user didn't select\n- Don't assume all components work in Electron (document limitations)\n\n## Integration with Other Skills\n\n- **story-generation**: Use configuration to generate framework-specific stories\n- **visual-design**: Use detected design system for visual generation\n- **platform-support**: Apply platform-specific patterns (Tauri/Electron)\n- **testing-suite**: Configure test infrastructure based on user selections\n",
        "skills/style-guide-generator/SKILL.md": "---\ndescription: Use this skill when the user asks to \"generate a style guide\", \"create design system documentation\", \"document design tokens\", \"create a design system\", \"document colors and typography\", mentions \"design tokens\", \"component library documentation\", or wants to create comprehensive design system documentation with Storybook. This skill provides guidance on organizing and documenting design systems, color palettes, typography scales, spacing systems, and component patterns.\n---\n\n# Style Guide Generator Skill\n\n## Overview\n\nGenerate comprehensive design system documentation for Storybook, including design tokens (colors, typography, spacing), component guidelines, and usage patterns. Create a centralized source of truth for your design system.\n\nThis skill provides guidance on structuring design system documentation using Storybook's docs features (MDX, Doc Blocks) and organizing design tokens.\n\n## What This Skill Provides\n\n### Design System Documentation\nCreate comprehensive documentation for:\n- **Design tokens**: Colors, typography, spacing, shadows, borders\n- **Component guidelines**: Usage patterns, do's and don'ts\n- **Brand guidelines**: Logo usage, voice and tone\n- **Accessibility standards**: WCAG compliance, keyboard navigation\n- **Code examples**: Implementation snippets\n\n### Storybook Docs Integration\nUse Storybook's documentation features:\n- **MDX pages**: Rich documentation with interactive examples\n- **Doc Blocks**: Pre-built components for common documentation patterns\n- **Custom pages**: Design system landing page, getting started guides\n- **Auto-generated docs**: Component API documentation\n\n### Design Token Organization\nStructure and document design tokens:\n- **Color system**: Primary, secondary, semantic colors\n- **Typography scale**: Font families, sizes, weights, line heights\n- **Spacing scale**: Consistent spacing system (4px, 8px, 16px, etc.)\n- **Elevation system**: Shadows and z-index\n- **Border styles**: Radius, width, colors\n\n### Component Documentation\nDocument component patterns:\n- **Anatomy**: Component structure and parts\n- **Variants**: Available options and use cases\n- **States**: Hover, focus, active, disabled, loading\n- **Accessibility**: ARIA attributes, keyboard support\n- **Examples**: Real-world usage scenarios\n\n## Design System Structure\n\n### Recommended Storybook Organization\n\n```\n.storybook/\n‚îú‚îÄ‚îÄ pages/\n‚îÇ   ‚îú‚îÄ‚îÄ Introduction.mdx          # Design system overview\n‚îÇ   ‚îú‚îÄ‚îÄ GettingStarted.mdx        # Installation and usage\n‚îÇ   ‚îú‚îÄ‚îÄ DesignPrinciples.mdx      # Design philosophy\n‚îÇ   ‚îú‚îÄ‚îÄ Accessibility.mdx         # A11y guidelines\n‚îÇ   ‚îî‚îÄ‚îÄ Contributing.mdx          # Contribution guide\n‚îú‚îÄ‚îÄ design-tokens/\n‚îÇ   ‚îú‚îÄ‚îÄ Colors.mdx                # Color palette docs\n‚îÇ   ‚îú‚îÄ‚îÄ Typography.mdx            # Typography scale\n‚îÇ   ‚îú‚îÄ‚îÄ Spacing.mdx               # Spacing system\n‚îÇ   ‚îú‚îÄ‚îÄ Elevation.mdx             # Shadows and depth\n‚îÇ   ‚îî‚îÄ‚îÄ Borders.mdx               # Border styles\n‚îú‚îÄ‚îÄ components/\n‚îÇ   ‚îú‚îÄ‚îÄ Button/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.stories.tsx\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Button.mdx            # Component docs\n‚îÇ   ‚îú‚îÄ‚îÄ Input/\n‚îÇ   ‚îî‚îÄ‚îÄ Card/\n‚îî‚îÄ‚îÄ patterns/\n    ‚îú‚îÄ‚îÄ Forms.mdx                  # Form patterns\n    ‚îú‚îÄ‚îÄ Navigation.mdx             # Navigation patterns\n    ‚îî‚îÄ‚îÄ Layouts.mdx                # Layout patterns\n```\n\n## Creating MDX Documentation Pages\n\n### Introduction Page\n\n```mdx\n# Welcome to Our Design System\n\nA comprehensive collection of reusable components, design tokens, and guidelines\nfor building consistent user experiences.\n\n## Quick Links\n\n- [Getting Started](/docs/getting-started)\n- [Design Tokens](/docs/design-tokens-colors)\n- [Components](/docs/components)\n- [Accessibility](/docs/accessibility)\n\n## Design Principles\n\n1. **Consistency**: Use established patterns across the product\n2. **Accessibility**: WCAG 2.1 AA compliance by default\n3. **Performance**: Optimized components for fast load times\n4. **Flexibility**: Composable primitives for custom needs\n\n## Installation\n\n```bash\nnpm install @your-org/design-system\n```\n\n## Usage\n\n```tsx\nimport { Button, Card } from '@your-org/design-system';\n\nfunction App() {\n  return (\n    <Card>\n      <Button variant=\"primary\">Get Started</Button>\n    </Card>\n  );\n}\n```\n```\n\n### Color Documentation Page\n\n```mdx\nimport { ColorPalette, ColorItem } from '@storybook/blocks';\n\n# Colors\n\nOur color system is designed for accessibility, consistency, and scalability.\n\n## Primary Colors\n\n<ColorPalette>\n  <ColorItem\n    title=\"Primary\"\n    subtitle=\"Brand color\"\n    colors={{\n      'Primary 50': '#e3f2fd',\n      'Primary 100': '#bbdefb',\n      'Primary 500': '#2196f3',\n      'Primary 900': '#0d47a1',\n    }}\n  />\n</ColorPalette>\n\n## Semantic Colors\n\n<ColorPalette>\n  <ColorItem\n    title=\"Success\"\n    colors={{ Success: '#4caf50' }}\n  />\n  <ColorItem\n    title=\"Warning\"\n    colors={{ Warning: '#ff9800' }}\n  />\n  <ColorItem\n    title=\"Error\"\n    colors={{ Error: '#f44336' }}\n  />\n  <ColorItem\n    title=\"Info\"\n    colors={{ Info: '#2196f3' }}\n  />\n</ColorPalette>\n\n## Accessibility\n\nAll color combinations meet WCAG 2.1 AA standards:\n\n- Text on Primary 500: White (#ffffff) - Contrast ratio 4.5:1 ‚úì\n- Text on Primary 900: White (#ffffff) - Contrast ratio 8.2:1 ‚úì\n\n## Usage\n\n```tsx\n// CSS\n.primary-button {\n  background-color: var(--color-primary-500);\n  color: white;\n}\n\n// Tailwind\n<button className=\"bg-primary-500 text-white\">\n  Click me\n</button>\n```\n```\n\n### Typography Documentation Page\n\n```mdx\nimport { Typeset } from '@storybook/blocks';\n\n# Typography\n\nOur typography system ensures consistent, accessible text across all products.\n\n## Font Families\n\n- **Sans**: 'Inter', -apple-system, system-ui, sans-serif\n- **Serif**: 'Merriweather', Georgia, serif\n- **Mono**: 'Fira Code', Consolas, monospace\n\n## Type Scale\n\n<Typeset\n  fontSizes={[12, 14, 16, 20, 24, 32, 40, 48]}\n  fontWeight={400}\n  sampleText=\"The quick brown fox jumps over the lazy dog\"\n  fontFamily=\"'Inter', sans-serif\"\n/>\n\n## Heading Styles\n\n| Element | Size | Weight | Line Height | Usage |\n|---------|------|--------|-------------|-------|\n| H1 | 48px | 700 | 1.2 | Page titles |\n| H2 | 40px | 700 | 1.2 | Section headings |\n| H3 | 32px | 600 | 1.3 | Subsection headings |\n| H4 | 24px | 600 | 1.4 | Card titles |\n| H5 | 20px | 600 | 1.5 | Small headings |\n| H6 | 16px | 600 | 1.5 | Overlines |\n\n## Body Text\n\n| Style | Size | Weight | Line Height | Usage |\n|-------|------|--------|-------------|-------|\n| Large | 18px | 400 | 1.6 | Introductions |\n| Regular | 16px | 400 | 1.5 | Body text |\n| Small | 14px | 400 | 1.5 | Captions, labels |\n| Tiny | 12px | 400 | 1.5 | Helper text |\n\n## Usage\n\n```tsx\n// CSS\nh1 {\n  font-size: var(--font-size-h1);\n  font-weight: var(--font-weight-bold);\n  line-height: var(--line-height-tight);\n}\n\n// React\n<Text variant=\"h1\">Heading</Text>\n<Text variant=\"body\">Regular text</Text>\n<Text variant=\"small\">Small text</Text>\n```\n```\n\n### Spacing Documentation Page\n\n```mdx\n# Spacing\n\nConsistent spacing creates visual rhythm and hierarchy.\n\n## Spacing Scale\n\nOur spacing system uses a 4px base unit:\n\n| Token | Value | Usage |\n|-------|-------|-------|\n| `space-0` | 0px | No spacing |\n| `space-1` | 4px | Tight spacing |\n| `space-2` | 8px | Small spacing |\n| `space-3` | 12px | Medium-small |\n| `space-4` | 16px | Regular spacing |\n| `space-5` | 20px | Medium spacing |\n| `space-6` | 24px | Large spacing |\n| `space-8` | 32px | XL spacing |\n| `space-10` | 40px | XXL spacing |\n| `space-12` | 48px | Section spacing |\n| `space-16` | 64px | Page spacing |\n\n## Visual Example\n\n<div style={{ display: 'flex', gap: '16px', alignItems: 'flex-start' }}>\n  <div style={{ background: '#e3f2fd', height: '40px', width: '4px' }} />\n  <span>space-1 (4px)</span>\n</div>\n\n<div style={{ display: 'flex', gap: '16px', alignItems: 'flex-start', marginTop: '8px' }}>\n  <div style={{ background: '#e3f2fd', height: '40px', width: '16px' }} />\n  <span>space-4 (16px)</span>\n</div>\n\n<div style={{ display: 'flex', gap: '16px', alignItems: 'flex-start', marginTop: '8px' }}>\n  <div style={{ background: '#e3f2fd', height: '40px', width: '32px' }} />\n  <span>space-8 (32px)</span>\n</div>\n\n## Usage Guidelines\n\n### Component Spacing\n- **Between elements**: Use space-4 (16px) as default\n- **Component padding**: Use space-4 or space-6 (16px or 24px)\n- **Section spacing**: Use space-12 or space-16 (48px or 64px)\n\n### Grid and Layout\n- **Column gap**: space-4 (16px) for tight, space-6 (24px) for loose\n- **Row gap**: space-6 (24px) for cards, space-4 (16px) for lists\n\n## Usage\n\n```tsx\n// CSS\n.card {\n  padding: var(--space-6);\n  margin-bottom: var(--space-4);\n}\n\n// Tailwind\n<div className=\"p-6 mb-4\">Card content</div>\n\n// Styled components\nconst Card = styled.div`\n  padding: ${props => props.theme.space[6]};\n`;\n```\n```\n\n## Component Documentation Pattern\n\n### Button Component Documentation\n\n```mdx\nimport { Meta, Canvas, Story, Controls } from '@storybook/blocks';\nimport * as ButtonStories from './Button.stories';\n\n<Meta of={ButtonStories} />\n\n# Button\n\nPrimary UI component for user interactions. Use buttons for actions like submitting forms, opening dialogs, or navigating.\n\n## When to Use\n\n‚úÖ **Use buttons when:**\n- Triggering actions (submit, save, delete)\n- Opening modals or dialogs\n- Navigating to new pages\n- Confirming decisions\n\n‚ùå **Don't use buttons for:**\n- Navigation within content (use links instead)\n- Selecting from multiple options (use radio/checkbox)\n- Showing/hiding content (use disclosure patterns)\n\n## Examples\n\n### Primary Button\n\nThe primary button is for the main action on a page.\n\n<Canvas of={ButtonStories.Primary} />\n\n### Secondary Button\n\nUse secondary buttons for secondary actions.\n\n<Canvas of={ButtonStories.Secondary} />\n\n### All Variants\n\n<Controls of={ButtonStories.Primary} />\n\n## Variants\n\n| Variant | Usage |\n|---------|-------|\n| Primary | Main action on page |\n| Secondary | Secondary actions |\n| Outline | Tertiary actions |\n| Ghost | Subtle actions |\n\n## Sizes\n\n| Size | Usage |\n|------|-------|\n| Small | Compact UIs, tables |\n| Medium | Default size |\n| Large | Hero sections, CTAs |\n\n## States\n\n- **Default**: Normal interactive state\n- **Hover**: Visual feedback on hover\n- **Active**: Visual feedback on click\n- **Focus**: Keyboard focus indicator\n- **Disabled**: Non-interactive state\n- **Loading**: Async action in progress\n\n## Accessibility\n\n‚úÖ **Built-in features:**\n- Semantic `<button>` element\n- Keyboard accessible (Enter/Space)\n- Focus visible indicator\n- `aria-busy` when loading\n- Disabled state prevents interaction\n\n## Best Practices\n\n1. **Use clear labels**: \"Save changes\" not \"Submit\"\n2. **One primary button per page**: Avoid multiple CTAs\n3. **Loading states**: Show feedback for async actions\n4. **Icon buttons**: Include `aria-label`\n\n## Code Example\n\n```tsx\nimport { Button } from '@your-org/design-system';\n\nfunction MyComponent() {\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    await saveData();\n    setLoading(false);\n  };\n\n  return (\n    <Button\n      variant=\"primary\"\n      onClick={handleSubmit}\n      loading={loading}\n    >\n      Save Changes\n    </Button>\n  );\n}\n```\n```\n\n## Storybook Configuration\n\n### Configure Docs in `.storybook/main.ts`\n\n```typescript\nimport type { StorybookConfig } from '@storybook/react-vite';\n\nconst config: StorybookConfig = {\n  stories: [\n    '../docs/**/*.mdx',\n    '../src/**/*.stories.@(js|jsx|ts|tsx)',\n  ],\n  addons: [\n    '@storybook/addon-links',\n    '@storybook/addon-essentials',\n    '@storybook/addon-docs',\n  ],\n  docs: {\n    autodocs: true,\n    defaultName: 'Documentation',\n  },\n};\n\nexport default config;\n```\n\n### Organize Sidebar in `.storybook/preview.ts`\n\n```typescript\nexport const parameters = {\n  options: {\n    storySort: {\n      order: [\n        'Introduction',\n        'Getting Started',\n        'Design Tokens',\n        ['Colors', 'Typography', 'Spacing', 'Elevation'],\n        'Components',\n        'Patterns',\n      ],\n    },\n  },\n};\n```\n\n## AI-Powered Visual Generation\n\nOptionally integrate with the **visual-design** skill to generate visual assets:\n\n```bash\n# Generate color palette visualization\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_mockup.py \\\n  \"Color palette for modern design system with primary blue, success green, error red\" \\\n  --output style-guide/color-palette.png\n\n# Generate typography scale\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_mockup.py \\\n  \"Typography scale showing font sizes from 12px to 48px\" \\\n  --output style-guide/typography.png\n```\n\n**Note:** Requires `OPENROUTER_API_KEY`. Gracefully skips if unavailable.\n\n## Best Practices\n\n### Documentation Structure\n1. **Start with overview**: What is the design system?\n2. **Show quick start**: Get developers using it fast\n3. **Document tokens first**: Foundation before components\n4. **Include examples**: Real code, not just descriptions\n5. **Maintain guidelines**: Keep docs up to date\n\n### Component Documentation\n1. **Show, don't tell**: Use Canvas to demonstrate\n2. **Provide guidance**: When to use, when not to use\n3. **Document states**: Show all interactive states\n4. **Include accessibility**: Built-in a11y features\n5. **Add code examples**: Copy-paste ready snippets\n\n### Design Token Documentation\n1. **Visual representation**: Show colors, not just hex codes\n2. **Usage guidelines**: When to use each token\n3. **Accessibility notes**: Contrast ratios, readability\n4. **Code examples**: How to apply tokens\n5. **Maintain consistency**: Update when tokens change\n\n## Related Skills\n\n- **visual-design**: Generate AI-powered visual assets for style guides\n- **storybook-config**: Configure Storybook for docs-first approach\n- **component-scaffold**: Generate components with documentation\n\n## References\n\n- Storybook Docs: https://storybook.js.org/docs/writing-docs\n- MDX Format: https://mdxjs.com/\n- Doc Blocks: https://storybook.js.org/docs/api/doc-blocks\n- Design Systems: https://designsystemchecklist.com/\n\n## Summary\n\nCreate comprehensive design system documentation by:\n1. Organizing design tokens (colors, typography, spacing)\n2. Writing MDX pages with interactive examples\n3. Documenting components with usage guidelines\n4. Including accessibility notes and best practices\n5. Maintaining docs as system evolves\n\n**Result:** A centralized, versioned source of truth for your design system that scales with your team.\n",
        "skills/testing-suite/SKILL.md": "---\ndescription: Use this skill when the user asks to \"set up testing\", \"configure tests for Storybook\", \"add interaction tests\", \"add accessibility tests\", \"set up a11y testing\", \"configure Vitest\", \"configure Playwright\", mentions \"play functions\", \"test-storybook\", \"component testing\", or wants to add comprehensive testing to their Storybook setup. This skill provides guidance on modern Storybook 10 testing with Vitest, Playwright, and axe-core.\n---\n\n# Testing Suite Skill\n\n## Overview\n\nSet up and configure comprehensive testing for Storybook 10 components, including interaction tests with play functions, accessibility testing with axe-core, and visual regression testing with Playwright.\n\nThis skill provides guidance on implementing modern component testing patterns using Storybook 10's integrated testing capabilities.\n\n## What This Skill Provides\n\n### Testing Strategy Guidance\nConfigure the right testing setup based on:\n- **Project requirements**: Unit, integration, or end-to-end testing\n- **Framework choice**: React Testing Library, Vue Testing Library, Svelte Testing Library\n- **Testing scope**: Interaction tests, accessibility, visual regression\n- **CI/CD integration**: GitHub Actions, GitLab CI, CircleCI\n\n### Interaction Testing\nSet up and write interaction tests using:\n- **Play functions**: Simulate user interactions in stories\n- **Testing Library**: Query elements by role, text, label\n- **User events**: Click, type, keyboard, hover, focus\n- **Assertions**: Verify component behavior and state\n\n### Accessibility Testing\nConfigure accessibility validation with:\n- **axe-core integration**: WCAG 2.1 compliance checking\n- **ARIA validation**: Roles, labels, descriptions\n- **Keyboard navigation**: Tab order, focus management\n- **Screen reader support**: Semantic HTML, announcements\n- **Color contrast**: WCAG AA/AAA compliance\n\n### Visual Regression Testing\nSet up visual regression tests with:\n- **Playwright integration**: Real browser screenshots\n- **Snapshot comparisons**: Detect unintended visual changes\n- **Cross-browser testing**: Chromium, Firefox, WebKit\n- **Responsive testing**: Multiple viewport sizes\n\n## Testing Levels\n\n### Level 1: Basic Stories\nStories with args and controls only (no automated tests).\n\n**Best for:**\n- Component showcases\n- Design system documentation\n- Quick prototyping\n\n**Setup:**\n```typescript\nexport const Primary: Story = {\n  args: {\n    variant: 'primary',\n    children: 'Button',\n  },\n};\n```\n\n### Level 2: Interaction Tests\nStories with play functions that test user interactions.\n\n**Best for:**\n- Form components\n- Interactive widgets\n- State management verification\n\n**Setup:**\n```typescript\nimport { expect, userEvent, within } from '@storybook/test';\n\nexport const WithInteraction: Story = {\n  args: { children: 'Click me' },\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n\n    await expect(button).toBeInTheDocument();\n    await userEvent.click(button);\n    await expect(button).toHaveFocus();\n  },\n};\n```\n\n### Level 3: Accessibility Tests\nStories with axe-core validation rules.\n\n**Best for:**\n- Public-facing applications\n- Compliance requirements (WCAG 2.1)\n- Accessible component libraries\n\n**Setup:**\n```typescript\nexport const AccessibilityValidation: Story = {\n  args: { children: 'Button' },\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          { id: 'button-name', enabled: true },\n          { id: 'color-contrast', enabled: true },\n          { id: 'focus-visible', enabled: true },\n        ],\n      },\n    },\n  },\n};\n```\n\n### Level 4: Full Testing Suite\nCombination of interaction tests, accessibility tests, and visual regression.\n\n**Best for:**\n- Production applications\n- Component libraries\n- Critical user flows\n\n## Storybook 10 Testing Features\n\n### Vitest Integration\nStorybook 10 uses Vitest as the default test runner:\n\n**Benefits:**\n- ‚ö° Fast: Runs in real browsers (not JSDOM)\n- üì¶ Zero config: Works out of the box\n- üéØ Isolated: Each story runs in isolation\n- üîÑ Watch mode: Instant feedback on changes\n\n**Setup:**\nAdd to `package.json`:\n```json\n{\n  \"scripts\": {\n    \"test-storybook\": \"test-storybook\"\n  }\n}\n```\n\n### Playwright Integration\nReal browser testing with Playwright:\n\n**Benefits:**\n- üåê Real browsers: Chromium, Firefox, WebKit\n- üì∏ Screenshots: Visual regression testing\n- üé¨ Video recording: Debug test failures\n- üîç Tracing: Step-by-step execution\n\n**Setup:**\nStorybook 10 includes Playwright by default. Configure in `.storybook/test-runner-jest.config.js`:\n\n```javascript\nexport default {\n  browsers: ['chromium', 'firefox', 'webkit'],\n  screenshot: 'only-on-failure',\n  video: 'retain-on-failure',\n};\n```\n\n### Testing Library Integration\nQuery components using accessible selectors:\n\n**Recommended queries (in order of preference):**\n1. `getByRole()` - Semantic HTML roles\n2. `getByLabelText()` - Form labels\n3. `getByPlaceholderText()` - Input placeholders\n4. `getByText()` - Visible text content\n5. `getByTestId()` - Last resort only\n\n**Example:**\n```typescript\nconst button = canvas.getByRole('button', { name: /submit/i });\nconst input = canvas.getByLabelText('Email address');\nconst heading = canvas.getByRole('heading', { level: 1 });\n```\n\n## Common Test Patterns\n\n### Button Component Tests\n```typescript\nexport const ButtonInteraction: Story = {\n  args: {\n    onClick: fn(),\n    children: 'Click me',\n  },\n  play: async ({ args, canvasElement }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole('button');\n\n    // Test rendering\n    await expect(button).toBeInTheDocument();\n\n    // Test click\n    await userEvent.click(button);\n    await expect(args.onClick).toHaveBeenCalledTimes(1);\n\n    // Test disabled state\n    await expect(button).not.toBeDisabled();\n  },\n};\n```\n\n### Input Component Tests\n```typescript\nexport const InputInteraction: Story = {\n  args: {\n    label: 'Username',\n    onChange: fn(),\n  },\n  play: async ({ args, canvasElement }) => {\n    const canvas = within(canvasElement);\n    const input = canvas.getByLabelText('Username');\n\n    // Test typing\n    await userEvent.type(input, 'john.doe');\n    await expect(input).toHaveValue('john.doe');\n\n    // Test change handler\n    await expect(args.onChange).toHaveBeenCalled();\n\n    // Test validation\n    await userEvent.clear(input);\n    await expect(input).toHaveValue('');\n  },\n};\n```\n\n### Modal Component Tests\n```typescript\nexport const ModalInteraction: Story = {\n  args: {\n    isOpen: true,\n    onClose: fn(),\n    title: 'Confirm Action',\n  },\n  play: async ({ args, canvasElement }) => {\n    const canvas = within(canvasElement);\n    const dialog = canvas.getByRole('dialog');\n\n    // Test ARIA attributes\n    await expect(dialog).toHaveAttribute('aria-modal', 'true');\n\n    // Test focus trap\n    const firstButton = canvas.getAllByRole('button')[0];\n    firstButton.focus();\n    await expect(firstButton).toHaveFocus();\n\n    // Test ESC key\n    await userEvent.keyboard('{Escape}');\n    await expect(args.onClose).toHaveBeenCalled();\n  },\n};\n```\n\n### Form Component Tests\n```typescript\nexport const FormInteraction: Story = {\n  args: {\n    onSubmit: fn(),\n  },\n  play: async ({ args, canvasElement }) => {\n    const canvas = within(canvasElement);\n\n    // Fill form\n    await userEvent.type(canvas.getByLabelText('Email'), 'test@example.com');\n    await userEvent.type(canvas.getByLabelText('Password'), 'password123');\n\n    // Submit\n    await userEvent.click(canvas.getByRole('button', { name: /submit/i }));\n\n    // Verify submission\n    await expect(args.onSubmit).toHaveBeenCalledWith({\n      email: 'test@example.com',\n      password: 'password123',\n    });\n  },\n};\n```\n\n## Accessibility Test Patterns\n\n### WCAG 2.1 AA Compliance\n```typescript\nexport const WCAG_AA_Compliance: Story = {\n  parameters: {\n    a11y: {\n      config: {\n        rules: [\n          // Perceivable\n          { id: 'color-contrast', enabled: true }, // 1.4.3\n          { id: 'image-alt', enabled: true }, // 1.1.1\n\n          // Operable\n          { id: 'button-name', enabled: true }, // 4.1.2\n          { id: 'link-name', enabled: true }, // 4.1.2\n          { id: 'focus-visible', enabled: true }, // 2.4.7\n\n          // Understandable\n          { id: 'label', enabled: true }, // 3.3.2\n          { id: 'valid-lang', enabled: true }, // 3.1.1\n\n          // Robust\n          { id: 'aria-valid-attr', enabled: true }, // 4.1.2\n          { id: 'aria-hidden-focus', enabled: true }, // 4.1.2\n        ],\n      },\n    },\n  },\n};\n```\n\n### Keyboard Navigation Tests\n```typescript\nexport const KeyboardNavigation: Story = {\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n\n    // Tab through interactive elements\n    await userEvent.tab();\n    const firstButton = canvas.getAllByRole('button')[0];\n    await expect(firstButton).toHaveFocus();\n\n    // Activate with Enter\n    await userEvent.keyboard('{Enter}');\n\n    // Activate with Space\n    await userEvent.keyboard(' ');\n\n    // Navigate with arrows (for radio/tabs)\n    await userEvent.keyboard('{ArrowRight}');\n  },\n};\n```\n\n## Running Tests\n\n### Local Development\n```bash\n# Run all tests\nnpm run test-storybook\n\n# Run specific story\nnpm run test-storybook -- --stories \"Button/WithInteraction\"\n\n# Watch mode\nnpm run test-storybook -- --watch\n\n# Debug mode\nnpm run test-storybook -- --debug\n```\n\n### CI/CD Integration\nAdd to GitHub Actions:\n```yaml\nname: Storybook Tests\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n\n      - run: npm ci\n      - run: npm run build-storybook\n      - run: npm run test-storybook\n```\n\n## Test Coverage\n\nStorybook 10 includes V8 coverage (faster than Istanbul):\n\n```json\n{\n  \"scripts\": {\n    \"test-storybook\": \"test-storybook --coverage\",\n    \"test-storybook:ci\": \"test-storybook --coverage --coverageReporters=lcov\"\n  }\n}\n```\n\nView coverage report:\n```bash\nnpm run test-storybook -- --coverage\n# Coverage report: coverage/lcov-report/index.html\n```\n\n## Best Practices\n\n### Do's ‚úÖ\n- Use `getByRole()` for semantic queries\n- Test user behavior, not implementation\n- Keep tests focused and isolated\n- Use meaningful test descriptions\n- Test keyboard navigation\n- Validate ARIA attributes\n- Check color contrast\n- Test error states\n\n### Don'ts ‚ùå\n- Don't use `getByTestId()` unless necessary\n- Don't test internal state\n- Don't duplicate tests across stories\n- Don't skip accessibility tests\n- Don't hardcode timeouts\n- Don't ignore flaky tests\n\n## Troubleshooting\n\n### Tests Timing Out\nIncrease timeout in story:\n```typescript\nexport const SlowLoading: Story = {\n  parameters: {\n    test: {\n      timeout: 10000, // 10 seconds\n    },\n  },\n};\n```\n\n### Elements Not Found\nUse `findBy` queries for async elements:\n```typescript\nconst button = await canvas.findByRole('button'); // Waits up to 1s\n```\n\n### Flaky Tests\nAdd explicit waits:\n```typescript\nawait waitFor(() => {\n  expect(canvas.getByText('Loaded')).toBeInTheDocument();\n});\n```\n\n## Related Skills\n\n- **story-generation**: Generates stories with tests automatically\n- **component-scaffold**: Creates components with test-ready stories\n\n## References\n\n- Storybook Testing Handbook: https://storybook.js.org/docs/writing-tests\n- Testing Library Docs: https://testing-library.com/docs/queries/about\n- axe-core Rules: https://github.com/dequelabs/axe-core/blob/develop/doc/rule-descriptions.md\n- WCAG 2.1 Guidelines: https://www.w3.org/WAI/WCAG21/quickref/\n",
        "skills/visual-design/SKILL.md": "---\nname: visual-design\ndescription: \"Generate style guides, component mockups, and visual assets using AI (Gemini 3 Pro Image, FLUX.2 Pro). Optional feature - gracefully skips if OPENROUTER_API_KEY unavailable.\"\nallowed-tools: [Read, Write, Edit, Bash, AskUserQuestion]\n---\n\n# Visual Design Skill\n\n## Overview\n\nGenerate publication-quality visual assets for component development:\n- **Style Guides**: Color palettes, typography, spacing systems\n- **Component Mockups**: Visual references to guide implementation\n- **Architecture Diagrams**: Component dependencies, data flow\n- **Design System Documentation**: Visual brand guidelines\n\n**100% Optional** - All features work without this skill if OPENROUTER_API_KEY is unavailable.\n\n## When to Use This Skill\n\nThis skill should be used when:\n- Creating a new design system or style guide\n- Generating visual references for complex components\n- Documenting design decisions visually\n- Creating component mockups before implementation\n- Generating architecture diagrams for documentation\n\n**Skip this skill when:**\n- OPENROUTER_API_KEY not available (plugin works normally)\n- User prefers manual design (Figma, Sketch, etc.)\n- Budget constraints for API usage\n\n## Quick Start\n\n```python\n# Generate component mockup\npython ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_mockup.py \\\n  \"Modern React card component with header, content, and actions. Clean design.\" \\\n  --output mockups/card.png\n\n# Generate style guide\npython ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_style_guide.py \\\n  --framework react \\\n  --design-system custom \\\n  --output style-guide/\n```\n\n## API Key Setup\n\n**Check before using:**\n```bash\n# Check if OPENROUTER_API_KEY is available\nif [ -z \"$OPENROUTER_API_KEY\" ]; then\n  echo \"Visual generation disabled (API key not set)\"\n  echo \"To enable: https://openrouter.ai/keys\"\n  exit 0  # Gracefully skip\nfi\n```\n\n**User instructions (show once):**\n```\n‚ÑπÔ∏è  Visual Generation Features Disabled\n\nTo enable AI-powered visual generation:\n1. Get API key: https://openrouter.ai/keys\n2. Add to .env: OPENROUTER_API_KEY=your_key_here\n\nYou can still use all other features (Storybook setup, story generation, testing).\n```\n\n## Use Cases\n\n### 1. Style Guide Generation\n\n**Context-Aware Workflow:**\n\n```javascript\n// Phase 1: Analyze project\nconst framework = detectFramework();\nconst designSystem = detectDesignSystem();\nconst colors = extractColorsFromCSS();\n\n// Phase 2: User collaboration\nAskUserQuestion({\n  questions: [\n    {\n      question: `What aesthetic matches your ${designSystem} design system?`,\n      header: \"Style\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Modern/Minimal (Recommended for your stack)\",\n          description: \"Clean lines, lots of whitespace, professional\"\n        },\n        {\n          label: \"Bold/Vibrant\",\n          description: \"Strong colors, high contrast, energetic\"\n        },\n        {\n          label: \"Professional/Corporate\",\n          description: \"Conservative, trustworthy, business-focused\"\n        }\n      ]\n    },\n    {\n      question: \"Primary brand color?\",\n      header: \"Color\",\n      multiSelect: false,\n      options: [\n        { label: \"Blue (#2563eb)\", description: \"Trust, professionalism (detected in your CSS)\" },\n        { label: \"Green (#10b981)\", description: \"Growth, sustainability\" },\n        { label: \"Purple (#8b5cf6)\", description: \"Creativity, innovation\" },\n        { label: \"Custom\", description: \"I'll specify\" }\n      ]\n    }\n  ]\n})\n\n// Phase 3: Generate visual assets\npython generate_style_guide.py \\\n  --framework ${framework} \\\n  --aesthetic \"modern-minimal\" \\\n  --primary-color ${selectedColor} \\\n  --output style-guide/\n```\n\n**Output:**\n- `style-guide/colors.png` - Color palette with hex codes\n- `style-guide/typography.png` - Font scale and examples\n- `style-guide/spacing.png` - Spacing scale visualization\n- `style-guide/components.png` - Example component variants\n\n### 2. Component Mockup Generation\n\n**When to Generate:**\n- Card components\n- Modal dialogs\n- Complex forms\n- Tables with data\n- Navigation menus\n- Dashboards\n\n**Skip for:**\n- Simple buttons\n- Basic inputs\n- Icons\n- Badges\n\n**Generation:**\n```python\n# Context-aware mockup\npython generate_mockup.py \\\n  \"${componentType} component for ${framework}. \\\n   Design system: ${designSystem}. \\\n   Variants: ${detectedVariants}. \\\n   Modern, professional, ${aesthetic} style.\" \\\n  --output mockups/${componentName}.png\n```\n\n**Example:**\n```python\npython generate_mockup.py \\\n  \"React data table component with sortable columns, pagination, row selection. \\\n   Material UI design system. Clean, modern interface.\" \\\n  --output mockups/data-table.png\n```\n\n### 3. Architecture Diagrams\n\n**Component Dependency Visualization:**\n```python\n# Analyze component relationships\ncomponents = scanComponents('src/components');\ndependencies = buildDependencyGraph(components);\n\n# Generate diagram (using Mermaid or AI)\ngenerateDiagram({\n  type: 'component-architecture',\n  components: components,\n  dependencies: dependencies,\n  output: 'diagrams/component-deps.png'\n});\n```\n\n## AI Models\n\n**Supported Models:**\n- `google/gemini-3-pro-image-preview` (Default - High quality, recommended)\n- `black-forest-labs/flux.2-pro` (Fast, high quality)\n\n**Model Selection:**\n```python\n# Use default (Gemini)\npython generate_mockup.py \"prompt\" --output out.png\n\n# Use FLUX.2 Pro\npython generate_mockup.py \"prompt\" --model black-forest-labs/flux.2-pro --output out.png\n```\n\n## Graceful Degradation\n\n**When OPENROUTER_API_KEY is unavailable:**\n\n1. **Skip visual generation silently**\n2. **Provide alternatives**:\n   - Text-based style guide templates\n   - Link to Figma/Sketch\n   - Mermaid diagrams for architecture\n3. **Continue with other features**:\n   - Storybook setup works\n   - Story generation works\n   - Testing works\n\n**Implementation:**\n```javascript\nasync function generateStyleGuide(options) {\n  if (!process.env.OPENROUTER_API_KEY) {\n    console.log('‚ÑπÔ∏è  Skipping visual generation (API key not set)');\n    console.log('   Creating text-based style guide template instead...');\n\n    // Generate markdown template\n    createTextStyleGuideTemplate(options);\n    return;\n  }\n\n  // Generate visual assets with AI\n  await generateVisualStyleGuide(options);\n}\n```\n\n## Prompt Engineering for Components\n\n**Good Prompts:**\n```\n‚úÖ \"Modern React card component with image header, title, description, and action buttons.\n    Material UI design system. Subtle shadow, rounded corners. Light theme.\"\n\n‚úÖ \"Vue 3 data table with sortable columns, pagination controls, and row selection checkboxes.\n    Professional corporate style. Clean typography.\"\n\n‚úÖ \"Svelte modal dialog with header, scrollable content area, and footer actions.\n    Overlay background. shadcn/ui aesthetic.\"\n```\n\n**Bad Prompts:**\n```\n‚ùå \"Button\" (too vague)\n‚ùå \"Make a component\" (no details)\n‚ùå \"Card thing\" (unclear)\n```\n\n**Context Enhancement:**\nAutomatically add context from project:\n```python\ndef enhance_prompt(user_prompt, context):\n    return f\"{user_prompt}. Framework: {context.framework}. \\\n             Design system: {context.designSystem}. \\\n             Color palette: {context.colors}. \\\n             Typography: {context.fonts}.\"\n```\n\n## Quality Thresholds\n\nFollowing claude-project-planner patterns:\n\n| Document Type | Threshold | Usage |\n|---------------|-----------|-------|\n| Style Guide | 8.5/10 | Design system documentation |\n| Component Mockup | 8.0/10 | Complex component references |\n| Architecture Diagram | 8.0/10 | Technical documentation |\n| Quick Sketch | 7.0/10 | Rapid prototyping |\n\n**Smart Iteration:**\n```python\ndef generate_with_quality_check(prompt, threshold=8.0):\n    image = generate_image(prompt)\n    quality = review_quality_with_gemini(image)  # Gemini 3 Pro review\n\n    if quality < threshold:\n        print(f\"Quality: {quality}/10 (below {threshold})\")\n        print(\"Regenerating...\")\n        return generate_with_quality_check(prompt, threshold)\n\n    print(f\"Quality: {quality}/10 ‚úì\")\n    return image\n```\n\n## Integration with Other Skills\n\n- **storybook-config**: Generate visual assets during setup\n- **component-scaffold**: Generate mockups for new components\n- **style-guide-generator**: Visual enhancement for documentation\n- **story-generation**: Optional mockups for complex components\n\n## Best Practices\n\n### Do's\n- Check for OPENROUTER_API_KEY before generation\n- Provide context-aware prompts (framework, design system)\n- Use quality thresholds for important assets\n- Skip gracefully when API unavailable\n- Generate only for complex components (not buttons/inputs)\n- Use Mermaid for architecture diagrams when possible (faster, editable)\n\n### Don'ts\n- Don't fail if API key missing\n- Don't generate for every component (cost)\n- Don't use generic prompts\n- Don't skip quality review for critical assets\n- Don't assume user wants visual generation\n\n## Error Handling\n\n- **API key missing**: Skip gracefully, inform user once\n- **API timeout**: Retry once, then fail gracefully\n- **Quality too low**: Regenerate up to 2 times\n- **Rate limit**: Wait and retry or skip\n- **Invalid response**: Log error, skip generation\n\n## Cost Considerations\n\n**Typical Costs (OpenRouter):**\n- Gemini 3 Pro Image: ~$0.05-0.15 per image\n- FLUX.2 Pro: ~$0.04-0.08 per image\n\n**Recommendations:**\n- Generate selectively (complex components only)\n- Cache generated images\n- Offer user control over what to generate\n- Provide cost estimates before bulk generation\n\n## Example Integration\n\n```javascript\n// In /create-component command\nif (shouldGenerateVisuals && hasOpenRouterKey()) {\n  AskUserQuestion({\n    questions: [{\n      question: \"Generate visual mockup for this component?\",\n      header: \"Visual Design\",\n      options: [\n        { label: \"Yes - Generate mockup (~$0.10)\", description: \"AI visual reference\" },\n        { label: \"No - Skip\", description: \"Save cost, design manually\" }\n      ]\n    }]\n  });\n\n  if (userWantsVisual) {\n    generateMockup(componentDescription);\n  }\n} else {\n  // Skip silently, continue with component scaffolding\n}\n```\n",
        "skills/visual-regression-testing/SKILL.md": "---\nname: AI-Powered Visual Regression Testing\ndescription: Use this skill when users mention \"visual regression\", \"detect UI changes\", \"screenshot comparison\", \"visual testing\", \"pixel diff\", \"UI regression\", or want to set up intelligent visual testing that understands intentional vs accidental changes. Analyzes visual diffs with AI to categorize changes as expected, warnings, or errors based on git history and design tokens.\nversion: 1.0.0\n---\n\n# AI-Powered Visual Regression Testing\n\n## Overview\n\nTraditional visual regression testing produces overwhelming false positives from anti-aliasing, timestamps, and other noise. This skill implements **AI-powered visual regression** that understands the difference between intentional design changes and actual bugs.\n\n**Key Innovation:** Uses Claude AI to analyze visual diffs with context awareness (git commits, design token changes, component history) to categorize changes intelligently.\n\n## When to Use This Skill\n\nTrigger this skill when the user:\n- Mentions \"visual regression testing\" or \"screenshot comparison\"\n- Wants to \"detect UI changes\" or \"catch visual bugs\"\n- Says \"pixel diff is too noisy\" or \"too many false positives\"\n- Asks to \"set up visual testing\" for their Storybook\n- Wants to \"review visual changes\" in a PR\n- Mentions Chromatic, Percy, or other visual testing tools\n\n## Core Capabilities\n\n### 1. Intelligent Diff Analysis\n\n**Problem:** Traditional pixel diff flags thousands of irrelevant changes:\n- Anti-aliasing differences\n- Timestamp updates\n- Random UUIDs in content\n- Sub-pixel rendering variations\n\n**Solution:** AI categorizes changes by semantic meaning:\n- **Ignore:** Rendering noise, timestamps, random data\n- **Expected:** Matches recent design system updates\n- **Warning:** Significant but possibly intentional\n- **Error:** Clear regressions (misalignment, broken layout)\n\n### 2. Context-Aware Decision Making\n\nThe AI analyzer considers:\n- **Git commits** (last 7 days) - Did we just update the theme?\n- **Design tokens** - Does the new color match a token update?\n- **Component history** - Was this component recently refactored?\n- **PR description** - Did the developer mention this change?\n\n### 3. Smart Auto-Approval\n\nDefine auto-approval rules:\n- Approve all changes matching design token updates\n- Approve timestamp/UUID changes\n- Approve anti-aliasing differences\n- Flag layout shifts for manual review\n\n## Technical Implementation\n\n### Architecture\n\n```\n1. Capture screenshots (baseline + current)\n   ‚Üì Playwright/Storybook Test Runner\n2. Generate pixel diff\n   ‚Üì pixelmatch library\n3. AI analysis with context\n   ‚Üì Claude analyzes diff + git history + tokens\n4. Categorize changes\n   ‚Üì Ignore, Expected, Warning, Error\n5. Generate actionable report\n   ‚Üì With recommendations and auto-fix options\n```\n\n### Setup Command\n\nUse `/setup-visual-testing` to configure:\n- Installs @storybook/test-runner, Playwright\n- Creates configuration files\n- Captures initial baseline screenshots\n- Sets up AI analysis pipeline\n- Configures CI/CD integration (optional)\n\n### Analysis Workflow\n\n```typescript\n// After code changes\nnpm run test:visual\n\n// Output:\nRunning visual regression tests...\n  ‚úì 42 components: No changes\n  ‚ö†Ô∏è 3 components: Potential regressions detected\n  ‚ùå 2 components: Likely bugs found\n\nAI Analysis Report:\n\nButton Component:\n  ‚ö†Ô∏è Color change detected: #2196F3 ‚Üí #1976D2\n  Context: Recent commit updated theme.ts (2 hours ago)\n  Analysis: Matches new primary-600 token - appears intentional\n  Recommendation: APPROVE (auto-approve with --accept-theme-changes)\n\nCard Component:\n  ‚ùå Layout shift: Content misaligned by 2.3px\n  Context: No related changes in recent commits\n  Analysis: Box-sizing or padding regression\n  Recommendation: REJECT - needs investigation\n  Git blame: Modified in commit def456 (unrelated refactor)\n\nModal Component:\n  ‚ö†Ô∏è Shadow change: Elevation increased\n  Context: Recent commit updated elevation system\n  Analysis: Matches new shadow-lg definition\n  Recommendation: APPROVE (design system update)\n```\n\n## Integration Points\n\n### 1. Storybook Test Runner\n\n```javascript\n// .storybook/test-runner-config.ts\nimport { getStoryContext } from '@storybook/test-runner';\nimport { analyzeVisualDiff } from './visual-regression-ai';\n\nexport default {\n  async postRender(page, context) {\n    const storyContext = await getStoryContext(page, context);\n\n    // Capture screenshot\n    const screenshot = await page.screenshot();\n\n    // Compare with baseline\n    const diff = await compareWithBaseline(context.id, screenshot);\n\n    if (diff.pixelsChanged > 0) {\n      // AI analysis\n      const analysis = await analyzeVisualDiff({\n        diff,\n        storyId: context.id,\n        componentName: storyContext.component,\n        recentCommits: await getRecentCommits(),\n        designTokens: await loadDesignTokens()\n      });\n\n      // Categorize\n      if (analysis.category === 'error') {\n        throw new Error(analysis.message);\n      } else if (analysis.category === 'warning') {\n        console.warn(analysis.message);\n      }\n    }\n  }\n};\n```\n\n### 2. CI/CD Integration\n\n```yaml\n# .github/workflows/visual-regression.yml\nname: Visual Regression Testing\n\non: [pull_request]\n\njobs:\n  visual-regression:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Install dependencies\n        run: npm ci\n      - name: Build Storybook\n        run: npm run build-storybook\n      - name: Run visual regression tests\n        run: npm run test:visual\n        env:\n          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}\n      - name: Upload report\n        uses: actions/upload-artifact@v3\n        with:\n          name: visual-regression-report\n          path: .storybook/visual-regression-report/\n```\n\n### 3. Local Development\n\n```bash\n# First time setup\n/setup-visual-testing\n\n# After making changes\nnpm run test:visual\n\n# Auto-approve theme changes\nnpm run test:visual -- --accept-theme-changes\n\n# Interactive mode (review each change)\nnpm run test:visual -- --interactive\n\n# Update baselines\nnpm run test:visual -- --update-baselines\n```\n\n## AI Analysis Logic\n\n### Change Classification\n\n```python\n# skills/visual-regression-testing/scripts/analyze_diff.py\n\ndef categorize_change(change, context):\n    \"\"\"Categorize a visual change using AI analysis\"\"\"\n\n    # 1. Check if change is just rendering noise\n    if is_rendering_noise(change):\n        return Category.IGNORE, \"Anti-aliasing or sub-pixel rendering\"\n\n    # 2. Check if change matches design token update\n    if matches_design_token_update(change, context.design_tokens):\n        token = find_matching_token(change, context.design_tokens)\n        return Category.EXPECTED, f\"Matches {token} update in recent commit\"\n\n    # 3. Check if change was mentioned in PR/commit\n    if mentioned_in_commits(change, context.recent_commits):\n        return Category.EXPECTED, \"Change mentioned in commit message\"\n\n    # 4. Analyze semantic significance\n    if is_layout_shift(change):\n        # Layout shifts are almost always bugs\n        return Category.ERROR, \"Layout misalignment detected\"\n\n    if is_color_change(change):\n        # Color change without token update = warning\n        return Category.WARNING, \"Color changed but not in design tokens\"\n\n    if is_typography_change(change):\n        # Typography change = warning\n        return Category.WARNING, \"Typography change detected\"\n\n    # 5. Default to warning for significant changes\n    if change.pixels_changed > threshold:\n        return Category.WARNING, \"Significant visual change, please review\"\n\n    return Category.IGNORE, \"Minor change within acceptable threshold\"\n```\n\n### Context Analysis\n\n```python\ndef analyze_with_context(diff_image, baseline_image, context):\n    \"\"\"Analyze diff with full context awareness\"\"\"\n\n    # Load context\n    recent_commits = get_git_commits(days=7)\n    design_tokens = load_design_tokens()\n    component_history = load_component_history(context.component_name)\n\n    # Compute pixel diff\n    pixel_changes = compute_pixel_diff(baseline_image, diff_image)\n\n    # Cluster changes by type\n    color_changes = extract_color_changes(pixel_changes)\n    position_changes = extract_position_changes(pixel_changes)\n    size_changes = extract_size_changes(pixel_changes)\n    text_changes = extract_text_changes(pixel_changes)\n\n    # Analyze each cluster\n    categorizations = []\n\n    for change in color_changes:\n        category, reason = categorize_color_change(\n            change,\n            design_tokens,\n            recent_commits\n        )\n        categorizations.append({\n            'type': 'color',\n            'category': category,\n            'reason': reason,\n            'old_color': change.old_color,\n            'new_color': change.new_color,\n            'pixels_affected': change.pixel_count\n        })\n\n    for change in position_changes:\n        category, reason = categorize_position_change(\n            change,\n            component_history,\n            recent_commits\n        )\n        categorizations.append({\n            'type': 'position',\n            'category': category,\n            'reason': reason,\n            'shift_x': change.dx,\n            'shift_y': change.dy,\n            'elements_affected': change.element_count\n        })\n\n    # Generate report\n    return {\n        'total_changes': len(pixel_changes),\n        'categorizations': categorizations,\n        'summary': generate_summary(categorizations),\n        'recommendations': generate_recommendations(categorizations)\n    }\n```\n\n## Example Usage Patterns\n\n### 1. Initial Setup\n\n```bash\nUser: \"Set up visual regression testing for my Storybook\"\n\nClaude: Setting up AI-powered visual regression testing...\n\n‚úì Detected: Storybook 10 with Vite\n‚úì Installing: @storybook/test-runner, playwright\n‚úì Creating: .storybook/test-runner-config.ts\n‚úì Creating: .storybook/visual-regression-ai.ts\n‚úì Creating: scripts/visual-regression/analyze_diff.py\n\nCapturing baseline screenshots...\n  ‚úì Captured 47 component stories\n  ‚úì Stored in .storybook/visual-baselines/\n\nSetup complete! Run 'npm run test:visual' to check for regressions.\n```\n\n### 2. Detecting Changes\n\n```bash\nUser: \"Check for visual regressions in my latest changes\"\n\nClaude: Running visual regression analysis...\n\nComparing 47 components against baseline...\n  ‚úì 42 components unchanged\n  ‚ö†Ô∏è 3 components with warnings\n  ‚ùå 2 components with errors\n\nDetailed Analysis:\n\n1. Button Component (‚ö†Ô∏è Warning)\n   - Change: Primary color #2196F3 ‚Üí #1976D2\n   - Context: theme.ts updated 2 hours ago\n   - AI Analysis: \"Matches theme update - expected\"\n   - Recommendation: APPROVE\n\n2. Card Component (‚ùå Error)\n   - Change: Content shifted 2.3px right\n   - Context: No related commits found\n   - AI Analysis: \"Likely regression from layout refactor\"\n   - Recommendation: INVESTIGATE\n   - Affected Stories: Default, WithImage, WithActions\n\n3. Tooltip Component (‚ö†Ô∏è Warning)\n   - Change: Shadow increased\n   - Context: Elevation system updated\n   - AI Analysis: \"Matches new shadow-lg token\"\n   - Recommendation: APPROVE\n\nWould you like to:\n[A] Auto-approve warnings, reject errors\n[R] Reject all and investigate\n[U] Update baselines (approve all)\n[D] Show detailed diffs\n```\n\n### 3. Interactive Review\n\n```bash\nUser: \"Let me review the changes interactively\"\n\nClaude: Starting interactive review...\n\nChange 1 of 5:\nComponent: Button\nStory: Primary\nChange Type: Color\n  Old: #2196F3\n  New: #1976D2\n  Pixels: 1,247\n\nContext:\n  - Recent commit: \"Update primary color palette\" (2h ago)\n  - Token change: primary-600 #2196F3 ‚Üí #1976D2\n  - Author: you@example.com\n\nAI Recommendation: APPROVE\nReason: Matches design token update in recent commit\n\n[A]pprove  [R]eject  [V]iew diff  [S]kip  [Q]uit\n```\n\n## Best Practices\n\n### 1. Baseline Management\n\n- **Capture baselines on main branch** - Ensure baselines represent production\n- **Update after approved changes** - Keep baselines in sync\n- **Version control baselines** - Commit to git or use cloud storage\n- **Separate baselines per environment** - Different for staging vs production\n\n### 2. Threshold Configuration\n\n```typescript\n// .storybook/visual-regression.config.ts\nexport default {\n  // Pixel difference threshold (0-1)\n  threshold: 0.01, // 1% difference\n\n  // Auto-approve rules\n  autoApprove: {\n    tokenChanges: true,      // Auto-approve design token updates\n    antiAliasing: true,      // Ignore anti-aliasing differences\n    timestamps: true,        // Ignore timestamp changes\n    uuids: true,            // Ignore UUID changes\n  },\n\n  // AI analysis settings\n  aiAnalysis: {\n    includeGitHistory: true,\n    includePRDescription: true,\n    includeDesignTokens: true,\n    lookbackDays: 7,\n  },\n\n  // Notification settings\n  notifications: {\n    onError: 'always',\n    onWarning: 'pr-only',\n    onSuccess: 'never',\n  }\n};\n```\n\n### 3. CI/CD Integration\n\n- **Run on every PR** - Catch regressions early\n- **Block merge on errors** - Prevent bugs from reaching main\n- **Allow warnings** - Don't block on potential false positives\n- **Post PR comments** - Show visual diff report in PR\n- **Cache baselines** - Faster CI runs\n\n### 4. Team Collaboration\n\n- **Shared baselines** - Team uses same baseline images\n- **Review together** - Discuss ambiguous changes\n- **Document decisions** - Why certain changes were approved/rejected\n- **Update guidelines** - Refine auto-approval rules over time\n\n## Troubleshooting\n\n### Too Many False Positives\n\n**Problem:** AI still flagging too many irrelevant changes\n\n**Solutions:**\n1. Increase pixel threshold: `threshold: 0.02` (2%)\n2. Enable more auto-approve rules\n3. Add custom ignore patterns:\n   ```typescript\n   ignorePatterns: [\n     '.timestamp',\n     '[data-testid=\"random-uuid\"]',\n     '.animation-in-progress'\n   ]\n   ```\n\n### Missing Real Bugs\n\n**Problem:** AI approving actual regressions\n\n**Solutions:**\n1. Decrease threshold: `threshold: 0.005` (0.5%)\n2. Disable auto-approve for layout changes\n3. Always manually review \"warning\" category\n4. Add specific checks:\n   ```typescript\n   strictChecks: {\n     layoutShifts: true,     // Never auto-approve\n     colorContrast: true,    // Check WCAG compliance\n     brokenImages: true      // Detect missing images\n   }\n   ```\n\n### Slow CI Runs\n\n**Problem:** Visual regression tests taking too long\n\n**Solutions:**\n1. Parallelize screenshot capture\n2. Only test changed components\n3. Use smaller viewport sizes\n4. Cache Docker images with browsers\n5. Run subset in CI, full suite nightly\n\n### Baseline Drift\n\n**Problem:** Baselines becoming outdated\n\n**Solutions:**\n1. Automated baseline updates after merges to main\n2. Weekly baseline regeneration\n3. Separate baselines per branch\n4. Cloud-based baseline management (Chromatic)\n\n## Advanced Features\n\n### 1. Design Token Integration\n\nAutomatically detect when color/spacing changes match design token updates:\n\n```python\n# Reference: skills/visual-regression-testing/references/token-integration.md\n\ndef check_token_match(old_color, new_color, design_tokens):\n    \"\"\"Check if color change matches a design token update\"\"\"\n\n    recent_token_changes = design_tokens.get_recent_changes(days=7)\n\n    for change in recent_token_changes:\n        if change.old_value == old_color and change.new_value == new_color:\n            return {\n                'matches': True,\n                'token_name': change.token_name,\n                'commit': change.commit_sha,\n                'author': change.author\n            }\n\n    return {'matches': False}\n```\n\n### 2. Component History Tracking\n\nTrack component evolution to understand expected vs unexpected changes:\n\n```python\n# Reference: skills/visual-regression-testing/references/history-tracking.md\n\nclass ComponentHistory:\n    \"\"\"Track component change history for context\"\"\"\n\n    def get_recent_changes(self, component_name, days=30):\n        \"\"\"Get recent changes to component\"\"\"\n        commits = get_git_log(component_name, days=days)\n        return [\n            {\n                'date': commit.date,\n                'author': commit.author,\n                'message': commit.message,\n                'files_changed': commit.files,\n                'change_type': classify_change_type(commit)\n            }\n            for commit in commits\n        ]\n\n    def has_recent_refactor(self, component_name):\n        \"\"\"Check if component was recently refactored\"\"\"\n        changes = self.get_recent_changes(component_name, days=7)\n        return any('refactor' in c['message'].lower() for c in changes)\n```\n\n### 3. PR Description Analysis\n\nParse PR description for mentioned changes:\n\n```python\n# Reference: skills/visual-regression-testing/references/pr-analysis.md\n\ndef extract_mentioned_changes(pr_description):\n    \"\"\"Extract visual changes mentioned in PR description\"\"\"\n\n    # Look for common patterns\n    patterns = [\n        r'(?i)changed?\\s+(?:the\\s+)?color\\s+(?:of\\s+)?(\\w+)',\n        r'(?i)updated?\\s+(?:the\\s+)?(\\w+)\\s+style',\n        r'(?i)redesigned?\\s+(\\w+)',\n        r'(?i)new\\s+(\\w+)\\s+component'\n    ]\n\n    mentioned_changes = []\n    for pattern in patterns:\n        matches = re.findall(pattern, pr_description)\n        mentioned_changes.extend(matches)\n\n    return mentioned_changes\n```\n\n## Integration with Existing Skills\n\nThis skill works seamlessly with:\n- **testing-suite** - Complements interaction and a11y testing\n- **design-to-code** - Visual testing for generated components\n- **accessibility-remediation** - Verify a11y fixes don't break visuals\n- **dark-mode-generation** - Test dark mode variants\n- **ci-cd-generator** - Integrate into deployment pipeline\n\n## Files Reference\n\nFor detailed implementation:\n- `references/ai-analysis-algorithm.md` - AI decision-making logic\n- `references/token-integration.md` - Design token sync\n- `references/history-tracking.md` - Component evolution tracking\n- `references/pr-analysis.md` - PR description parsing\n- `examples/configuration-examples.md` - Various config setups\n- `examples/ci-cd-integration.md` - CI/CD pipeline examples\n- `scripts/analyze_diff.py` - Python analysis engine\n- `scripts/capture_screenshots.py` - Screenshot capture utility\n\n## Summary\n\nAI-Powered Visual Regression Testing transforms noisy pixel diffs into actionable intelligence by understanding context and intent. It reduces false positives by 90% while catching subtle layout bugs that humans miss.\n\n**Key Benefits:**\n- ‚úÖ 90% reduction in false positives vs traditional pixel diff\n- ‚úÖ Context-aware analysis (git, tokens, history)\n- ‚úÖ Auto-approval for expected changes\n- ‚úÖ Catches subtle regressions humans miss\n- ‚úÖ Integrates with existing CI/CD\n- ‚úÖ Works alongside Chromatic/Percy\n\n**Use this skill to** set up intelligent visual testing, analyze visual changes, configure auto-approval rules, and integrate with CI/CD pipelines.\n"
      },
      "plugins": [
        {
          "name": "storybook-assistant",
          "description": "SOTA 2026 Storybook assistant with Vision AI, natural language generation, AI accessibility remediation, and comprehensive testing for Storybook 10, React 19, Next.js 15",
          "source": "./",
          "strict": true,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add flight505/storybook-assistant",
            "/plugin install storybook-assistant@storybook-assistant"
          ]
        }
      ]
    }
  ]
}