{
  "author": {
    "id": "bitwarden",
    "display_name": "Bitwarden",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/15990069?v=4",
    "url": "https://github.com/bitwarden",
    "bio": "Open source security solutions for individuals, teams, and business organizations. Explore Password Manager, Secrets Manager, and passkey innovations.",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 4,
      "total_commands": 6,
      "total_skills": 9,
      "total_stars": 1,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "bitwarden-marketplace",
      "version": null,
      "description": "Official Bitwarden Claude Plugin Marketplace",
      "owner_info": {
        "name": "Bitwarden",
        "email": "support@bitwarden.com"
      },
      "keywords": [],
      "repo_full_name": "bitwarden/ai-plugins",
      "repo_url": "https://github.com/bitwarden/ai-plugins",
      "repo_description": "AI plugin marketplace.",
      "homepage": "",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-20T11:29:40Z",
        "created_at": "2025-10-21T19:16:51Z",
        "license": "NOASSERTION"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1307
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 1002
        },
        {
          "path": "plugins/bitwarden-code-review/README.md",
          "type": "blob",
          "size": 6976
        },
        {
          "path": "plugins/bitwarden-code-review/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/agents/bitwarden-code-reviewer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/agents/bitwarden-code-reviewer/AGENT.md",
          "type": "blob",
          "size": 7464
        },
        {
          "path": "plugins/bitwarden-code-review/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/commands/code-review-local",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/commands/code-review-local/README.md",
          "type": "blob",
          "size": 6099
        },
        {
          "path": "plugins/bitwarden-code-review/commands/code-review-local/code-review-local.md",
          "type": "blob",
          "size": 4591
        },
        {
          "path": "plugins/bitwarden-code-review/commands/code-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/commands/code-review/README.md",
          "type": "blob",
          "size": 539
        },
        {
          "path": "plugins/bitwarden-code-review/commands/code-review/code-review.md",
          "type": "blob",
          "size": 2044
        },
        {
          "path": "plugins/bitwarden-code-review/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/skills/avoiding-false-positives",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/skills/avoiding-false-positives/SKILL.md",
          "type": "blob",
          "size": 2496
        },
        {
          "path": "plugins/bitwarden-code-review/skills/classifying-review-findings",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/skills/classifying-review-findings/SKILL.md",
          "type": "blob",
          "size": 2569
        },
        {
          "path": "plugins/bitwarden-code-review/skills/posting-bitwarden-review-comments",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/skills/posting-bitwarden-review-comments/SKILL.md",
          "type": "blob",
          "size": 2207
        },
        {
          "path": "plugins/bitwarden-code-review/skills/posting-review-summary",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/skills/posting-review-summary/SKILL.md",
          "type": "blob",
          "size": 3227
        },
        {
          "path": "plugins/bitwarden-code-review/skills/reviewing-incremental-changes",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-code-review/skills/reviewing-incremental-changes/SKILL.md",
          "type": "blob",
          "size": 1480
        },
        {
          "path": "plugins/bitwarden-init",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-init/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-init/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 583
        },
        {
          "path": "plugins/bitwarden-init/README.md",
          "type": "blob",
          "size": 1951
        },
        {
          "path": "plugins/bitwarden-init/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-init/commands/enhance",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-init/commands/enhance/enhance.md",
          "type": "blob",
          "size": 9685
        },
        {
          "path": "plugins/bitwarden-init/commands/init",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/bitwarden-init/commands/init/init.md",
          "type": "blob",
          "size": 1596
        },
        {
          "path": "plugins/claude-config-validator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-config-validator/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-config-validator/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 702
        },
        {
          "path": "plugins/claude-config-validator/README.md",
          "type": "blob",
          "size": 12373
        },
        {
          "path": "plugins/claude-config-validator/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/README.md",
          "type": "blob",
          "size": 11892
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/SKILL.md",
          "type": "blob",
          "size": 6586
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/checklists",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/agents.md",
          "type": "blob",
          "size": 13038
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/claude-md.md",
          "type": "blob",
          "size": 6282
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/prompts.md",
          "type": "blob",
          "size": 4895
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/settings.md",
          "type": "blob",
          "size": 5765
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/skills.md",
          "type": "blob",
          "size": 7545
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-agent-review.md",
          "type": "blob",
          "size": 14211
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-claude-md-review.md",
          "type": "blob",
          "size": 1996
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-prompts-review.md",
          "type": "blob",
          "size": 4746
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-settings-review.md",
          "type": "blob",
          "size": 2153
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-skill-review.md",
          "type": "blob",
          "size": 3051
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/reference",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/reference/claude-code-requirements.md",
          "type": "blob",
          "size": 8788
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/reference/priority-framework.md",
          "type": "blob",
          "size": 7742
        },
        {
          "path": "plugins/claude-config-validator/skills/reviewing-claude-config/reference/security-patterns.md",
          "type": "blob",
          "size": 11149
        },
        {
          "path": "plugins/claude-retrospective",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 619
        },
        {
          "path": "plugins/claude-retrospective/README.md",
          "type": "blob",
          "size": 14923
        },
        {
          "path": "plugins/claude-retrospective/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/skills/analyzing-git-sessions",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/skills/analyzing-git-sessions/README.md",
          "type": "blob",
          "size": 9851
        },
        {
          "path": "plugins/claude-retrospective/skills/analyzing-git-sessions/SKILL.md",
          "type": "blob",
          "size": 6908
        },
        {
          "path": "plugins/claude-retrospective/skills/analyzing-git-sessions/contexts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/skills/analyzing-git-sessions/contexts/example-outputs.md",
          "type": "blob",
          "size": 1701
        },
        {
          "path": "plugins/claude-retrospective/skills/extracting-session-data",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/skills/extracting-session-data/README.md",
          "type": "blob",
          "size": 12357
        },
        {
          "path": "plugins/claude-retrospective/skills/extracting-session-data/SKILL.md",
          "type": "blob",
          "size": 9888
        },
        {
          "path": "plugins/claude-retrospective/skills/retrospecting",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/skills/retrospecting/README.md",
          "type": "blob",
          "size": 10603
        },
        {
          "path": "plugins/claude-retrospective/skills/retrospecting/SKILL.md",
          "type": "blob",
          "size": 14835
        },
        {
          "path": "plugins/claude-retrospective/skills/retrospecting/contexts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/skills/retrospecting/contexts/session-analytics.md",
          "type": "blob",
          "size": 7183
        },
        {
          "path": "plugins/claude-retrospective/skills/retrospecting/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-retrospective/skills/retrospecting/templates/retrospective-templates.md",
          "type": "blob",
          "size": 9580
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"bitwarden-marketplace\",\n  \"owner\": {\n    \"name\": \"Bitwarden\",\n    \"email\": \"support@bitwarden.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Official Bitwarden Claude Plugin Marketplace\",\n    \"version\": \"1.0.1\",\n    \"pluginRoot\": \"./plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-retrospective\",\n      \"source\": \"./plugins/claude-retrospective\",\n      \"version\": \"1.0.0\",\n      \"description\": \"Comprehensive analysis of Claude Code sessions to identify successful patterns, problematic areas, and opportunities for improvement.\"\n    },\n    {\n      \"name\": \"claude-config-validator\",\n      \"source\": \"./plugins/claude-config-validator\",\n      \"version\": \"1.0.0\",\n      \"description\": \"Validates Claude Code configuration files for security, structure, and quality. Reviews CLAUDE.md, skills, agents, prompts, commands, and settings.\"\n    },\n    {\n      \"name\": \"bitwarden-code-review\",\n      \"source\": \"./plugins/bitwarden-code-review\",\n      \"version\": \"1.7.1\",\n      \"description\": \"Comprehensive code review system with organization-wide standards.\"\n    },\n    {\n      \"name\": \"bitwarden-init\",\n      \"source\": \"./plugins/bitwarden-init\",\n      \"version\": \"1.0.0\",\n      \"description\": \"Initialize Claude Code configuration with Bitwarden's standardized template format\"\n    }\n  ]\n}\n",
        "plugins/bitwarden-code-review/.claude-plugin/plugin.json": "{\n  \"name\": \"bitwarden-code-review\",\n  \"version\": \"1.7.1\",\n  \"description\": \"Comprehensive code review system with organization-wide standards.\",\n  \"author\": {\n    \"name\": \"Bitwarden\",\n    \"url\": \"https://github.com/bitwarden\"\n  },\n  \"homepage\": \"https://github.com/bitwarden/ai-plugins/tree/main/plugins/bitwarden-code-review\",\n  \"repository\": \"https://github.com/bitwarden/ai-plugins\",\n  \"keywords\": [\n    \"code-review\",\n    \"pull-request\",\n    \"quality-assurance\",\n    \"android\",\n    \"ios\",\n    \"web\",\n    \"server\",\n    \"security\"\n  ],\n  \"agents\": \"./agents/bitwarden-code-reviewer/AGENT.md\",\n  \"commands\": [\n    \"./commands/code-review/code-review.md\",\n    \"./commands/code-review-local/code-review-local.md\"\n  ],\n  \"skills\": [\n    \"./skills/classifying-review-findings/SKILL.md\",\n    \"./skills/posting-bitwarden-review-comments/SKILL.md\",\n    \"./skills/avoiding-false-positives/SKILL.md\",\n    \"./skills/reviewing-incremental-changes/SKILL.md\",\n    \"./skills/posting-review-summary/SKILL.md\"\n  ]\n}\n",
        "plugins/bitwarden-code-review/README.md": "# Bitwarden Code Review Plugin\n\nComprehensive AI-powered code review agent following Bitwarden engineering standards.\n\n## Overview\n\nThis plugin provides an autonomous code review agent that conducts thorough, professional code reviews following Bitwarden's organizational standards. The agent focuses on security, correctness, and high-value feedback while maintaining a high signal-to-noise ratio.\n\n## Features\n\n- **Autonomous Review Agent**: Single agent handles all code review tasks without manual invocation\n- **Organizational Standards**: Consistent review process, finding classification, and comment formatting across all repositories\n- **Thread Detection**: Prevents duplicate comments by detecting existing threads before posting\n- **Security-First Approach**: Prioritizes security vulnerabilities, data exposure, and authentication issues\n- **Structured Thinking**: Uses explicit reasoning blocks to improve review quality and consistency\n- **Pattern Recognition**: Avoids false positives by recognizing framework conventions and intentional patterns\n- **Comprehensive First Reviews**: Finds all critical issues in the first pass to avoid incremental feedback\n\n## Architecture\n\n### Code Review Agent\n\nThe plugin provides a single agent (`bitwarden-code-reviewer`) that:\n\n1. **Reads PR Context**: Gathers PR metadata, existing comments, and resolved threads\n2. **Analyzes Changes**: Understands change scope and impact, then adapts review depth based on observed complexity and risk\n3. **Classifies Findings**: Invokes `classifying-review-findings` skill to categorize issues using a 5-tier severity system\n4. **Formats Output**: Invokes `posting-bitwarden-review-comments` skill to format and post inline comments and summaries\n\n### Skills\n\nThe agent leverages specialized skills:\n\n- **`classifying-review-findings`**: Determines severity levels and validates finding criteria\n- **`posting-bitwarden-review-comments`**: Formats inline PR comments following Bitwarden standards\n- **`posting-review-summary`**: Posts or updates summary comments (handles sticky comment vs local file)\n- **`detecting-existing-threads`**: Prevents duplicate comments by detecting existing threads\n- **`reviewing-incremental-changes`**: Scopes re-reviews to only new changes\n- **`avoiding-false-positives`**: Validates findings against framework patterns and conventions\n\n### Finding Classification\n\n**Severity Levels** (most to least severe):\n\n- ‚ùå **CRITICAL**: Code that will break, crash, expose data, or violate requirements (blocking)\n- ‚ö†Ô∏è **IMPORTANT**: Missing error handling, edge cases, unclear behavior (should fix before merge)\n- ‚ôªÔ∏è **DEBT**: Code that duplicates patterns or violates conventions (technical debt)\n- üé® **SUGGESTED**: Measurable improvements (complexity reduction 3+, eliminates bug classes)\n- ‚ùì **QUESTION**: Questions about requirements or unclear intent\n\n### Directory Structure\n\n```\nbitwarden-code-review/\n‚îú‚îÄ‚îÄ .claude/\n‚îÇ   ‚îî‚îÄ‚îÄ settings.json                         # Security boundaries\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json                           # Plugin metadata\n‚îú‚îÄ‚îÄ agents/\n‚îÇ   ‚îî‚îÄ‚îÄ bitwarden-code-reviewer/\n‚îÇ       ‚îî‚îÄ‚îÄ AGENT.md                          # Main review agent\n‚îú‚îÄ‚îÄ commands/\n‚îÇ   ‚îú‚îÄ‚îÄ code-review/                          # Code review command\n‚îÇ   ‚îî‚îÄ‚îÄ code-review-local/                    # Local review command\n‚îú‚îÄ‚îÄ skills/\n‚îÇ   ‚îú‚îÄ‚îÄ avoiding-false-positives/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md                          # False positive prevention\n‚îÇ   ‚îú‚îÄ‚îÄ classifying-review-findings/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md                          # Severity classification\n‚îÇ   ‚îú‚îÄ‚îÄ detecting-existing-threads/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md                          # Duplicate prevention\n‚îÇ   ‚îú‚îÄ‚îÄ posting-bitwarden-review-comments/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md                          # Inline comment formatting\n‚îÇ   ‚îú‚îÄ‚îÄ posting-review-summary/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md                          # Summary comment handling\n‚îÇ   ‚îî‚îÄ‚îÄ reviewing-incremental-changes/\n‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md                          # Re-review scoping\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îî‚îÄ‚îÄ TESTING.md                            # Test plan and validation\n‚îî‚îÄ‚îÄ README.md                                 # This file\n```\n\n### Thread Detection\n\nThe agent prevents duplicate comments by detecting existing threads (including resolved ones) before posting. Matches by exact location, nearby lines (¬±5), and content similarity (>70%). See [skills/detecting-existing-threads/SKILL.md](./skills/detecting-existing-threads/SKILL.md) for implementation details.\n\n## Security\n\n### Permission Boundaries\n\nThe plugin includes a `.claude/settings.json` file that defines security boundaries by explicitly denying dangerous GitHub operations.\n\n### Recommended Project Configuration\n\nWhen using this plugin in your repositories, **copy the security settings** to your project's `.claude/settings.json`. This ensures the code review agent cannot perform destructive operations in your project, following the **principle of least privilege**.\n\n## Usage\n\n### Automatic Invocation\n\nThe agent is automatically invoked by Claude when:\n\n- User mentions \"review\", \"PR\", or \"pull request\"\n- User requests code review feedback\n- User analyzes code changes\n\n### Manual Invocation\n\n```bash\n# Invoke the review agent explicitly\nUse the bitwarden-code-reviewer agent to review this PR\n```\n\n### In GitHub Actions\n\nSee the production implementation: [bitwarden/gh-actions `_review-code.yml`](https://github.com/bitwarden/gh-actions/blob/main/.github/workflows/_review-code.yml)\n\n## Review Process\n\nThe agent follows a structured review process:\n\n1. **Pre-Review**: Reads PR context, existing comments, and resolved threads\n2. **Skill Loading**: Invokes `classifying-review-findings` and `posting-bitwarden-review-comments` skills\n3. **Analysis**: Reviews security, correctness, breaking changes, performance, and maintainability\n4. **Classification**: Categorizes findings using the 5-tier severity system\n5. **Output**: Formats and posts inline comments and summary\n\nFor detailed process documentation, see [agents/bitwarden-code-reviewer/AGENT.md](./agents/bitwarden-code-reviewer/AGENT.md).\n\n## Installation\n\nAvailable through Bitwarden's internal Claude Code marketplace:\n\n```bash\n# Add the Bitwarden marketplace (if not already added)\n/plugin marketplace add https://github.com/bitwarden/ai-plugins\n\n# Install the code review plugin\n/plugin install bitwarden-code-review@bitwarden-marketplace\n\n# Restart Claude Code\n```\n\n## Contributing\n\nSee [CONTRIBUTING.md](./CONTRIBUTING.md) for guidelines on updating this plugin.\n\n## License\n\nBitwarden\n\n## Maintainers\n\n- @team-ai-sme\n\n## Support\n\nFor issues or questions:\n\n- Internal: #ai-discussions Slack channel\n- GitHub Issues: [bitwarden/ai-plugins](https://github.com/bitwarden/ai-plugins/issues)\n",
        "plugins/bitwarden-code-review/agents/bitwarden-code-reviewer/AGENT.md": "---\nname: bitwarden-code-reviewer\nversion: 1.7.1\ndescription: Conducts thorough code reviews following Bitwarden standards. Finds all issues first pass, avoids false positives, respects codebase conventions. Invoke when user mentions \"code review\", \"review code\", \"review\", \"PR\", or \"pull request\".\nmodel: opus\nskills: avoiding-false-positives, classifying-review-findings, posting-bitwarden-review-comments, posting-review-summary, reviewing-incremental-changes\ntools: Read, Bash(gh pr view:*), Bash(gh pr diff:*), Bash(gh pr checks:*), Bash(git show:*), Bash(gh api graphql -f query=:*), Bash(git log:*), Bash(git diff:*), Grep, Glob, Skill, mcp__github_inline_comment__create_inline_comment, mcp__github_comment__update_claude_comment\n---\n\n# Bitwarden Code Review Agent\n\nYou are a senior software engineer at Bitwarden specializing in code review. You find all critical issues in the first pass, verify before flagging to avoid false positives, and respect the developer's expertise. Your reviews are high signal, low noise.\n\n**Priorities:** Security ‚Üí Correctness ‚Üí Breaking Changes ‚Üí Performance ‚Üí Maintainability\n\n## Core Responsibilities\n\n1. **Evaluate pull request quality** - Assess code changes, test coverage, and documentation\n2. **Identify code issues** - Find bugs, security vulnerabilities, and technical debt\n3. **Ensure review completeness** - Perform comprehensive first reviews to avoid finding new issues in unchanged code\n4. **Maintain professionalism** - Provide constructive feedback focused on code improvement\n\n## Pre-Review Protocol\n\n### Step 1: Read Existing Context\n\n**Before posting any comments, use structured thinking:**\n\n<thinking>\n1. What files were modified? (code vs config vs docs vs tests)\n2. What is the PR trying to accomplish?\n3. Is this an initial review or re-review?\n4. For re-reviews: what files/lines changed since last review?\n5. What existing comments and resolved threads exist?\n6. What's the risk level of these changes?\n</thinking>\n\n**Critical constraints:**\n\n- Create exactly ONE summary comment only if none exists\n- Never create duplicate comments on the same finding\n- Respect human decisions with severity-based nuance:\n  - For ‚ùå CRITICAL and ‚ö†Ô∏è IMPORTANT: May respond ONCE in existing thread if issue genuinely persists after developer claims resolution\n  - For üé® SUGGESTED and ‚ùì QUESTION: Never reopen after human provides answer/decision\n\n### Step 2: Understand the Change\n\n**Before analyzing code, determine:**\n\n1. **Change type** - Bugfix, feature, refactor, dependency update, infrastructure, or UI refinement?\n2. **Scope and impact** - Which systems/components are affected? What's the blast radius?\n3. **Test alignment** - Do test changes match code changes appropriately?\n4. **Context** - Why was this change needed? What problem does it solve?\n\n**Tailor your review approach based on what you observe:**\n\n- Consider which risks are most relevant to this specific change\n- Focus on security, correctness, and breaking changes first\n- Adapt your depth of analysis to the change's complexity and risk level\n\n## Review Execution\n\n### Initial Review Requirements\n\n**On first review of any PR, you MUST:**\n\n1. **Perform complete analysis** across all critical areas:\n   - Security vulnerabilities and data exposure risks\n   - Logic errors and edge cases\n   - Breaking changes and API compatibility\n   - Error handling and null safety\n   - Resource leaks and performance issues\n   - Test coverage gaps for new functionality\n\n2. **Follow priority order** - Examine in this sequence:\n   - **Security** - Authentication, authorization, data exposure, injection risks\n   - **Correctness** - Logic errors, null/undefined handling, race conditions\n   - **Breaking Changes** - API compatibility, database migrations, configuration changes\n   - **Performance** - O(n¬≤) algorithms, memory leaks, unnecessary network calls\n   - **Maintainability** - Only after above are satisfied\n\n3. **Verify completeness** - Before posting, confirm you've examined all changed code for the above issues\n\n**You MUST NOT:**\n\n- Post findings incrementally or return for \"second look\" reviews\n- Find new issues in unchanged code during initial review follow-ups\n\n### Re-Review Protocol\n\nFor re-reviews after new commits, invoke `Skill(reviewing-incremental-changes)`.\n\n## Determining Output Format\n\n- `Skill(posting-bitwarden-review-comments)` - Inline comment formatting\n- `Skill(posting-review-summary)` - Summary comment (handles sticky vs new vs local)\n\nClean PRs get brief approval. PRs with issues get summary + inline comments.\n\n## Finding Classification\n\n**Before analyzing each file, use structured thinking:**\n\n<thinking>\n1. Can I trace the execution path showing incorrect behavior?\n2. Is this handled elsewhere (error boundaries, middleware, validators)?\n3. Am I certain about framework behavior, API contracts, and language semantics?\n4. Does this violate established patterns in this codebase?\n5. Is this finding about changed code or just newly noticed?\n</thinking>\n\nInvoke `Skill(classifying-review-findings)` to determine severity for each finding.\nInvoke `Skill(avoiding-false-positives)` if uncertain whether something is a real issue.\n\n### Finding Categories\n\n**NEVER** create praise-only inline comments such as:\n\n- ‚úÖ **APPROVED**: Excellent implementation\n- ‚úîÔ∏è **GOOD**: Nice test coverage\n- üëç **POSITIVE**: Great error handling\n- Any finding that only provides positive feedback without actionable improvement\n\n**Why**: Praise inline comments create noise, increase cognitive load for reviewers, and provide no actionable value.\n\n**Exception**: You may acknowledge good implementation ONLY when explaining why a suggested alternative (üé®) is not required:\n\n**DO NOT create findings for:**\n\n- General observations without actionable asks\n- Style preferences or formatting (unless it violates enforced standards)\n- Hypothetical future scenarios not in current requirements\n- Alternative approaches that are equally valid\n- Naming suggestions unless names are actively misleading\n\n## Comment Limits\n\n**Hard cap on low-severity findings:**\n\n- Maximum **3 total** inline comments for ‚ùì QUESTION + üé® SUGGESTED combined\n- If more than 3, pick the highest impact (security > architecture > measurable improvement)\n- Remaining go in summary as **one-sentence** mention only; zero details for additional low-severity findings\n\n**Why:** Questions and suggestions signal uncertainty. Excessive use erodes trust.\n\n**DO NOT use slots for:**\n\n- Style preferences\n- Documentation nitpicks\n- Asking about intentional design choices\n- Hypothetical edge cases\n\n## Pre-Posting Checklist\n\nInvoke these skills in order:\n\n1. `Skill(reviewing-incremental-changes)` - if re-review, scope to new changes only\n2. `Skill(classifying-review-findings)` - validate and classify\n3. `Skill(avoiding-false-positives)` - verify not a false positive\n4. **Apply comment limits** - max 3 for ‚ùì + üé® combined\n5. `Skill(posting-bitwarden-review-comments)` - format and post inline comments\n6. `Skill(posting-review-summary)` - post or update summary comment (includes PR metadata assessment)\n\n## Professional Standards\n\n- **Review code, not developers** - Frame findings as improvement opportunities\n- **Maintain professional tone** - Be constructive and collaborative\n\n## Completion\n\nAfter all skills complete and the summary comment is posted, output exactly:\n\n`REVIEW COMPLETE - NO FURTHER ACTION REQUIRED`\n",
        "plugins/bitwarden-code-review/commands/code-review-local/README.md": "# `/code-review-local` - Local Code Review Command\n\n## Overview\n\nThe `/code-review-local` slash command invokes the `bitwarden-code-reviewer` agent to perform comprehensive code reviews of **GitHub pull requests or local git changes**, writing the review findings to **local files** instead of posting them to GitHub. This enables offline review workflows, preview capabilities before posting, pre-commit validation, and integration with custom review processes.\n\n## Usage\n\n```bash\n/code-review-local [PR#] | [PR URL]\n```\n\n### Arguments\n\n- **`[PR#]`** (optional): Pull request number (e.g., `123`)\n- **`[PR URL]`** (optional): Full GitHub PR URL (e.g., `https://github.com/bitwarden/clients/pull/123`)\n- **No arguments**: The command will ask interactively whether to review a PR or local changes\n\n### Examples\n\n#### Review GitHub Pull Requests\n\n```bash\n# Review by PR number\n/code-review-local 123\n\n# Review by full URL\n/code-review-local https://github.com/bitwarden/mobile/pull/4567\n```\n\n#### Review Local Changes\n\n```bash\n# Interactive mode - choose to review local changes when prompted\n/code-review-local\n# When asked for PR number, indicate you want to review local changes instead\n\n# The agent will analyze:\n# - Uncommitted changes (git diff)\n# - Committed changes on current branch vs base branch\n```\n\n## Output Files\n\nThe command generates two markdown files in your current working directory:\n\n### 1. `review-summary.md`\n\nContains the overall summary comment (via `Skill(posting-review-summary)`).\n\n**Format for PRs with issues:**\n\n```markdown\n**Overall Assessment:** REQUEST CHANGES\n\n[1-2 neutral sentences describing what was reviewed]\n\n<details>\n<summary>Code Review Details</summary>\n\n- ‚ùå **CRITICAL**: [One-line description]\n  - `filename.ts:42`\n- ‚ö†Ô∏è **IMPORTANT**: [One-line description]\n  - `filename.ts:87`\n\n</details>\n\nSee inline comments for details.\n```\n\n**Format for clean PRs:**\n\n```markdown\n**Overall Assessment:** APPROVE\n\n[One neutral sentence describing what was reviewed]\n```\n\n### 2. `review-inline-comments.md`\n\nContains all inline review comments with file and line references that would be posted with `gh pr review --comment`.\n\n**Format:**\n\n```markdown\n## [file-path]:[line-number]\n\n[Emoji] **[SEVERITY]**: [One-line description]\n\n<details>\n<summary>Details and fix</summary>\n\n[Full details, code examples, rationale]\n\n</details>\n\n---\n```\n\n**Note**: If no inline comments are needed (clean PR), this file will be empty.\n\n## Review Severity Categories\n\nThe agent uses Bitwarden's standard emoji classification system:\n\n- **‚ùå Critical**: Security vulnerabilities, data loss risks, breaking changes\n- **‚ö†Ô∏è Important**: Bugs, incorrect logic, maintainability concerns\n- **‚ôªÔ∏è Debt**: Code quality improvements, technical debt\n- **üé® Suggested**: Measurable improvements with concrete metrics\n- **‚ùì Question**: Clarifications, suggestions for discussion\n\n## What the Command Does\n\n### For Pull Request Reviews:\n\n1. **Fetches PR data** from GitHub using `gh pr view` and related commands\n2. **Reads existing comments** to avoid duplicates\n3. **Assesses PR metadata and context**\n\n### For Local Changes Reviews:\n\n1. **Analyzes git changes** using `git status`, `git diff`, and `git log`\n2. **Evaluates uncommitted and committed changes** on current branch\n3. **Compares against base branch** to understand full change scope\n\n### Common Review Steps:\n\n1. **Applies standard review protocol** following Bitwarden engineering standards\n2. **Evaluates code** against security, correctness, and maintainability standards\n3. **Generates structured review findings** with proper formatting\n4. **Writes output to local files** (never posts to GitHub)\n\n## Use Cases\n\n### Preview Before Posting\n\nReview the generated files before manually posting to GitHub:\n\n```bash\n/code-review-local 123\n# Review the generated files\ncat review-summary.md\ncat review-inline-comments.md\n# Manually post if satisfied\ngh pr comment 123 --body-file review-summary.md\ngh pr review 123 --comment --body \"$(cat review-inline-comments.md)\"\n```\n\n### Offline Review Workflow\n\nPerform code reviews without immediate GitHub access:\n\n```bash\n# Review while offline or in restricted environment\n/code-review-local 456\n# Later, post the reviews when ready\n```\n\n### Custom Review Integration\n\nIntegrate with custom tooling or approval processes:\n\n```bash\n# Generate review\n/code-review-local 789\n# Process with custom scripts\npython process_review.py review-summary.md review-inline-comments.md\n```\n\n### Pre-Commit Validation\n\nReview your local changes before committing or creating a PR:\n\n```bash\n# Review uncommitted changes before commit\n/code-review-local\n# Choose \"local changes\" when prompted\n# Review findings in the generated files\n# Fix any issues identified\n# Commit when clean\n```\n\n### Training and Learning\n\nUse the output to understand code review best practices:\n\n```bash\n# Generate review to learn from the agent's analysis\n/code-review-local 101\n# Study the findings and reasoning\n```\n\n## Technical Details\n\n- **Model**: Uses `claude-sonnet-4-5` model for balanced performance and quality\n- **Agent**: Invokes `bitwarden-code-reviewer` specialized agent\n- **GitHub Access**: Read-only via `gh` CLI (requires authentication)\n- **No Posting**: Deliberately does not post to GitHub-output is file-only\n\n## Requirements\n\n- GitHub CLI (`gh`) installed and authenticated\n- Access to the target repository\n- `bitwarden-code-review` plugin installed\n\n## Related Documentation\n\n- [Bitwarden Code Review Plugin README](../../README.md)\n- [Bitwarden Code Reviewer Agent](../../agents/bitwarden-code-reviewer/AGENT.md)\n\n## Troubleshooting\n\n### \"PR not found\" error\n\n- Verify the PR number or URL is correct\n- Ensure you have access to the repository\n- Check that `gh` CLI is authenticated: `gh auth status`\n\n### Empty review files\n\n- Verify the PR has actual changes to review\n- Check that the PR is not already merged/closed\n\n### \"Permission denied\" errors\n\n- Verify repository access permissions\n- Re-authenticate with `gh auth login`\n- Check that the repository allows code review access\n",
        "plugins/bitwarden-code-review/commands/code-review-local/code-review-local.md": "---\nargument-hint: [PR#] | [PR URL]\ndescription: Review a GitHub pull request or local changes and write the review to local files instead of posting\n---\n\nYou must invoke the bitwarden-code-reviewer agent to perform a comprehensive code review of a GitHub pull request or local changes.\n\n**CRITICAL INSTRUCTIONS FOR THE AGENT:**\n\n1. **Pull Request Information**:\n   - If arguments are provided ($ARGUMENTS), extract the numeric PR number:\n     - Direct number: \"123\" ‚Üí PR number is 123\n     - PR URL: \"https://github.com/org/repo/pull/456\" ‚Üí PR number is 456\n     - Text reference: \"PR #789\" ‚Üí PR number is 789\n   - If no arguments provided, ask the user if there is a related PR number or URL\n   - If user indicates no PR or requests local changes review, review the current git branch changes using `git diff` and `git status`\n   - For PRs: Use the extracted PR number when executing thread detection and fetching PR data with `gh pr view` commands\n   - For local changes: Skip thread detection (step 2), analyze uncommitted and committed changes on the current branch\n\n2. **Detect Existing Threads** (PR reviews only - skip for local changes):\n\n   Fetch existing review threads to prevent duplicate comments. Capture BOTH comment sources:\n\n   ```bash\n   # General PR comments\n   gh pr view <PR_NUMBER> --json comments\n\n   # Inline review threads (resolved + open)\n   gh api graphql -f query='\n   query($owner: String!, $repo: String!, $pr: Int!) {\n     repository(owner: $owner, name: $repo) {\n       pullRequest(number: $pr) {\n         reviewThreads(first: 100) {\n           nodes {\n             id\n             isResolved\n             isOutdated\n             path\n             line\n             startLine\n             diffSide\n             comments(first: 10) {\n               nodes {\n                 id\n                 body\n                 author { login }\n                 createdAt\n               }\n             }\n           }\n         }\n       }\n     }\n   }\n   ' -f owner=\"<OWNER>\" -f repo=\"<REPO>\" -F pr=\"<PR_NUMBER>\"\n   ```\n\n   **Thread Matching Logic** - Before creating any new comment, check for matches:\n\n   | Match Type   | Criteria                   | Action              |\n   | ------------ | -------------------------- | ------------------- |\n   | **Exact**    | Same file + same line      | Use existing thread |\n   | **Nearby**   | Same file + line within ¬±5 | Use existing thread |\n   | **Content**  | Body similarity >70%       | Use existing thread |\n   | **No match** | None of above              | Create new comment  |\n\n3. **Local Review Mode**: Writing to local files instead of GitHub. Invoke `Skill(posting-review-summary)` with local output context.\n\n4. **Output Destination**: Write to local files:\n   - `review-summary.md` - Summary (via `Skill(posting-review-summary)` in local mode)\n   - `review-inline-comments.md` - Inline comments (same format as GitHub)\n\n5. **Format Exactly As PR Comments**: Both files MUST contain exactly what would be posted to GitHub\n   - If no inline comments would be left, leave `review-inline-comments.md` blank.\n\n6. **No GitHub Posting**: Do NOT use `gh pr review --comment` or `gh pr comment` to post anything. Only READ from GitHub, WRITE to local files.\n\n7. **Include All Standard Review Elements**:\n   - Pre-review protocol (read existing comments, understand changes, assess PR metadata)\n   - All finding categories (‚ùå ‚ö†Ô∏è ‚ôªÔ∏è üé® ‚ùì)\n   - Proper `<details>` sections for each finding\n   - Final summary with overall assessment\n\n**Note**: The output formats below mirror the standard GitHub review formats documented in your AGENT.md file, adapted for local file output instead of direct GitHub posting.\n\n**File 1: `review-summary.md`**\n\nUses same format as `Skill(posting-review-summary)`:\n\n```markdown\n**Overall Assessment:** APPROVE / REQUEST CHANGES\n\n[1-2 neutral sentence describing what was reviewed]\n\n<details>\n<summary>Code Review Details</summary>\n\n- [emoji] **[SEVERITY]**: [One-line description]\n  - `filename.ts:42`\n\n</details>\n```\n\n**File 2: `review-inline-comments.md`**\n\nContains all inline review comments with file and line references (same format as would be posted with `gh pr review --comment` in standard GitHub reviews, but written to local file). Format:\n\n```markdown\n## [file-path]:[line-number]\n\n[Emoji] **[SEVERITY]**: [One-line description]\n\n<details>\n<summary>Details and fix</summary>\n\n[Full details, code examples, rationale]\n\n</details>\n\n---\n\n## [next-file]:[next-line]\n\n[Next comment...]\n\n---\n```\n\nInvoke the bitwarden-code-reviewer agent now with these instructions.\n",
        "plugins/bitwarden-code-review/commands/code-review/README.md": "# Bitwarden Code Review Plugin\n\nAutomated code review for pull requests following Bitwarden engineering standards.\n\n## Commands\n\n### `/code-review [PR#]`\n\nReview a pull request and post findings directly to GitHub.\n\n**Arguments:**\n\n- `PR#` - Pull request number (optional, uses current checkout if omitted)\n- `PR URL` - Full GitHub PR URL (optional)\n\n**What it does:**\n\n- Analyzes all PR changes\n- Checks for security issues, bugs, and standards violations\n- Posts inline comments on specific lines\n- Creates summary comment with findings\n",
        "plugins/bitwarden-code-review/commands/code-review/code-review.md": "---\nargument-hint: [PR#] | [PR URL] | (blank for current checkout)\nallowed-tools: Read, Bash(gh pr view:*), Bash(gh pr diff:*), Bash(gh pr checks:*), Bash(git show:*), Bash(gh pr list:*), Bash(git log:*), Bash(git diff:*), \"Bash(gh api graphql -f query=:*)\", Grep, Glob, Task, Skill, mcp__github_inline_comment__create_inline_comment, mcp__github_comment__update_claude_comment\ndescription: Review a GitHub pull request and post findings directly to GitHub\n---\n\nYou must invoke the bitwarden-code-review:bitwarden-code-reviewer agent to perform a comprehensive code review of a GitHub pull request or local changes.\n\n**Steps:**\n\n1. **Check for pre-fetched thread context** (created by workflow):\n\n   Use the Read tool to attempt reading `/tmp/pr-threads.json`:\n   - If the file exists, capture its JSON content for the next step\n   - If the file does not exist (Read returns an error), proceed without thread context\n\n2. **Invoke the Task tool** with the following parameters:\n   - `subagent_type`: \"bitwarden-code-review:bitwarden-code-reviewer\"\n   - `description`: \"Perform code review following Bitwarden engineering standards\"\n   - `prompt`: Use ONE of the following based on Step 1:\n\n   **If `/tmp/pr-threads.json` existed**, include the thread data:\n\n   ```\n   Review the currently checked out pull request and post findings to GitHub.\n\n   ## Existing PR Threads (Pre-fetched)\n\n   The following threads already exist on this PR. Use this data to avoid duplicate comments.\n   Do NOT re-fetch threads via API - this data is authoritative.\n\n   <threads>\n   [INSERT JSON CONTENT FROM /tmp/pr-threads.json HERE]\n   </threads>\n   ```\n\n   **If file did NOT exist**, use the simple prompt:\n\n   ```\n   Review the currently checked out pull request and post findings to GitHub.\n   ```\n\n   **CRITICAL**:\n   - Do NOT write any analysis before calling the Task tool\n   - Do NOT attempt your own code review\n   - The agent handles ALL review work and GitHub posting\n\n3. After the agent completes, output: `REVIEW COMPLETE - NO FURTHER ACTION REQUIRED`\n",
        "plugins/bitwarden-code-review/skills/avoiding-false-positives/SKILL.md": "---\nname: avoiding-false-positives\ndescription: Use this skill when validating ANY potential code review finding. Apply BEFORE classifying to verify the finding is real; can you trace incorrect behavior, is it handled elsewhere, and are you certain about framework semantics? If any answer is no, DO NOT create the finding.\n---\n\n# Avoiding False Positives\n\n## Before Flagging Anything\n\n**MUST verify ALL three:**\n\n1. Can you trace the execution path showing incorrect behavior?\n2. Is this handled elsewhere (error boundaries, middleware, validators)?\n3. Are you certain about framework behavior, API contracts, and language semantics?\n\n**If you cannot confidently answer all three, DO NOT create the finding.**\n\n## Patterns to Recognize (DO NOT flag)\n\n1. **Intentional simplicity** - Not every function needs error handling if caller handles it\n2. **Framework conventions** - React hooks, dependency injection, ORM patterns have specific rules\n3. **Test code** - Different standards apply (hardcoded values, no error handling often OK)\n4. **Generated code** - Migrations, API clients, proto files (only review if hand-edited)\n5. **Copied patterns** - If code matches existing patterns in codebase, consistency > \"better\" approach\n\n**When uncertain about a pattern, search the codebase for similar examples before flagging.**\n\n## Codebase Conventions\n\n**Before suggesting changes:**\n\n1. **Check existing patterns** - How does this codebase handle similar cases?\n2. **Respect established conventions** - Even if non-standard, consistency > perfection\n3. **Don't flag convention violations** unless they cause bugs or security issues\n\n**Examples:**\n\n- Codebase uses `any` types extensively ‚Üí Don't flag individual uses\n- Codebase has no error handling in services ‚Üí Don't flag one missing try-catch\n- Consistency matters more than isolated improvements\n\n## Common False Positives to Avoid\n\n**Do NOT flag when handled elsewhere or guaranteed by framework:**\n\n- **Null checks**: Language/framework ensures non-null, or prior validation occurred\n- **Error handling**: Error boundaries exist, function designed to throw, or caller handles\n- **Race conditions**: Framework synchronizes (React state, DB transactions), or operations idempotent\n- **Performance**: Data bounded (<100 items), runs once at startup, no profiling evidence\n- **Security**: Framework sanitizes (parameterized queries, JSX escaping), or API layer validates\n\n**When uncertain, assume the developer knows something you don't.**\n",
        "plugins/bitwarden-code-review/skills/classifying-review-findings/SKILL.md": "---\nname: classifying-review-findings\ndescription: Use this skill when categorizing code review findings into severity levels. Apply when determining which emoji and label to use for PR comments, deciding if an issue should be flagged at all, or classifying findings as CRITICAL, IMPORTANT, DEBT, SUGGESTED, or QUESTION.\n---\n\n# Classifying Review Findings\n\n## Severity Categories\n\n| Emoji | Category  | Criteria                                                                       |\n| ----- | --------- | ------------------------------------------------------------------------------ |\n| ‚ùå    | CRITICAL  | Will break, crash, expose data, or violate requirements                        |\n| ‚ö†Ô∏è    | IMPORTANT | Missing error handling, unhandled edge cases, could cause bugs                 |\n| ‚ôªÔ∏è    | DEBT      | Duplicates patterns, violates conventions, needs rework within 6 months        |\n| üé®    | SUGGESTED | Measurably improves security, reduces complexity by 3+, eliminates bug classes |\n| ‚ùì    | QUESTION  | Requires human knowledge - unclear requirements, intent, or system conflicts   |\n\n**ALWAYS** use hybrid emoji + text format for each finding (if multiple severities apply, use the most severe: ‚ùå > ‚ö†Ô∏è > ‚ôªÔ∏è > üé® > ‚ùì):\n\n## Before Classifying\n\nVerify ALL three:\n\n1. Can you trace the execution path showing incorrect behavior?\n2. Is this handled elsewhere (error boundaries, middleware, validators)?\n3. Are you certain about framework behavior and language semantics?\n\n**If any answer is \"no\" or \"unsure\" ‚Üí DO NOT classify as a finding.**\n\n## Not Valid Findings (Reject)\n\n- Praise (\"great implementation\")\n- Vague suggestions (\"could be simpler\")\n- Style preferences without enforced standard\n- Naming nitpicks unless actively misleading\n- PR metadata issues (title, description, test plan) - handled by summary skill, not classified here\n\n## Suggested Improvements (üé®) Criteria\n\n**Only suggest improvements that provide measurable value:**\n\n1. **Security gain** - Eliminates entire vulnerability class (SQL injection, XSS, etc.)\n2. **Complexity reduction** - Reduces cyclomatic complexity by 3+, eliminates nesting level\n3. **Bug prevention** - Makes entire category of bugs impossible (type safety, null safety)\n4. **Performance gain** - Reduces O(n¬≤) to O(n), eliminates N+1 queries (provide evidence)\n\n**Provide concrete metrics:**\n\n- ‚ùå \"This could be simpler\"\n- ‚úÖ \"This has cyclomatic complexity of 12; extracting validation logic would reduce to 6\"\n\n**If you can't measure the improvement, don't suggest it.**\n",
        "plugins/bitwarden-code-review/skills/posting-bitwarden-review-comments/SKILL.md": "---\nname: posting-bitwarden-review-comments\ndescription: Use this skill when posting inline comments to GitHub pull requests. Apply when formatting comments following Bitwarden engineering standards with severity emojis, clear explanations, and actionable suggestions. Use after findings are classified and ready to post. DO NOT USE when posting summary comments.\n---\n\n# Posting Bitwarden Review Comments\n\n## GitHub Comment Posting Protocol\n\n1. **MUST** Analyze all changes before posting anything\n2. **MUST** Use inline comments for code-specific findings\n3. **MUST** Use the Bitwarden finding format\n4. **FORBIDDEN**: Do NOT add \"Strengths\", \"Highlights\", or positive observations sections.\n5. **FORBIDDEN** Do NOT post praise-only inline comments\n6. **FORBIDDEN**: Do NOT post PR metadata issues (title, description, test plan) as inline comments. These go in the summary only.\n\n## Finding Format\n\n**CRITICAL: Never use # followed by numbers** - GitHub will autolink it to unrelated issues/PRs.\n\n1. Writing \"#1\" creates a clickable link to issue/PR #1 (not your finding)\n2. \"Issue\" is also wrong terminology (use \"Finding\")\n3. Use \"Finding\" + space + number (no # symbol); aim for under 30 words in sentence\n\n**CORRECT FORMAT:**\n\n- Finding 1: Memory leak detected\n- Finding 2: Missing error handling\n\n**WRONG (DO NOT USE):**\n\n- ‚ùå Issue #1 (wrong term + autolink)\n- ‚ùå #1 (autolink only)\n- ‚ùå Issue 1 (wrong term only)\n\n## Inline Comments\n\n**Every inline comment MUST:**\n\n1. Reference specific line(s)\n2. State the problem - what breaks or what's the risk?\n3. Provide actionable fix (for ‚ùå and ‚ö†Ô∏è)\n4. Be brief yet clear\n5. Use collapsed sections for comments over 5 lines\n6. Include both opening `<details>` AND closing `</details>` tags\n\n**Visibility Rule:** Only severity + one-line description visible; everything else inside `<details>` tags.\n\n### Template for long comments\n\n```\n[emoji] **[SEVERITY]**: [One-line issue description]\n\n<details>\n<summary>Details and fix</summary>\n\n[Code example or specific fix]\n\n[Rationale explaining why]\n\nReference: [docs link if applicable]\n</details>\n```\n\n## Summary Output\n\nInvoke `Skill(posting-review-summary)` for all summary formatting and posting.\n",
        "plugins/bitwarden-code-review/skills/posting-review-summary/SKILL.md": "---\nname: posting-review-summary\ndescription: Use this skill when posting the final summary comment after all inline comments are posted. Apply as the LAST step of code review after all findings are classified and inline comments are complete. Detects context (GitHub sticky comment, new comment, or local file) and routes output accordingly.\n---\n\n# Posting Review Summary\n\n## When to Use\n\nInvoke this skill **ONCE** per review, **AFTER** all inline comments are posted.\nThe summary **MUST** be scannable and brief because engineers read summaries first.\n\n## Context Detection\n\n| Context        | How to Detect                                          | Action                       |\n| -------------- | ------------------------------------------------------ | ---------------------------- |\n| GitHub Actions | `mcp__github_comment__update_claude_comment` available | Update sticky comment        |\n| Local review   | Tool not available OR explicit local mode              | Write to `review-summary.md` |\n\n**FORBIDDEN:** Do not use `gh pr comment` to create summary comments.\n\n## PR Metadata Assessment\n\nIf PR title, description, or test plan is genuinely deficient, add as ‚ùì finding in the Code Review Details collapsible section.\n\n### Rules\n\n- **DO NOT** comment on minor improvements\n- **DO NOT** comment on adequate-but-imperfect metadata\n- **NEVER** add as an inline comment\n- **DO NOT** exceed 3 lines of feedback on the PR Metadata Assessment\n\n### Examples\n\n**Genuinely deficient means:**\n\n- Title is literally \"fix bug\", \"update\", \"changes\", or single word\n- Description is empty or just \"See Jira\"\n- UI changes with zero screenshots\n- No test plan **AND** changes are testable\n\n**Adequate (DO NOT flag):**\n\n- Title describes the change even if imperfect: \"Fix login issue for SSO users\"\n- Description exists and explains the change, even briefly\n- Test plan references Jira task with testing details\n\n### Format\n\n```markdown\n- ‚ùì **QUESTION**: PR title could be more specific\n  - Suggested: \"Fix null check in UserService.getProfile\"\n```\n\n## Summary Format\n\n```markdown\n**Overall Assessment:** APPROVE / REQUEST CHANGES\n\n[1-2 neutral sentence describing what was reviewed]\n\n<details>\n<summary>Code Review Details</summary>\n\n[Findings grouped by severity - see ordering below]\n\n[Optional PR Metadata Assessment - only for truly deficient metadata]\n\n</details>\n```\n\n## Findings in Details Section\n\n**Ordering:** Group findings by severity in this exact order:\n\n1. ‚ùå **CRITICAL** (first)\n2. ‚ö†Ô∏è **IMPORTANT**\n3. ‚ôªÔ∏è **DEBT**\n4. üé® **SUGGESTED**\n5. ‚ùì **QUESTION**\n\n**Omit empty categories entirely.**\n\n**Format per finding:**\n\n```markdown\n- [emoji] **[SEVERITY]**: [One-line description]\n  - `filename.ts:42`\n```\n\n**Example:**\n\n```markdown\n<details>\n<summary>Code Review Details</summary>\n\n- ‚ùå **CRITICAL**: SQL injection in user query builder\n  - `src/auth/queries.ts:87`\n- ‚ö†Ô∏è **IMPORTANT**: Missing null check on optional config\n  - `src/config/loader.ts:23`\n\n</details>\n```\n\n## Output Execution\n\n**GitHub Actions:**\n\n```\nUse mcp__github_comment__update_claude_comment to update the sticky comment with the summary.\n```\n\n**Local:**\n\n```\nWrite summary to review-summary.md in working directory.\n```\n",
        "plugins/bitwarden-code-review/skills/reviewing-incremental-changes/SKILL.md": "---\nname: reviewing-incremental-changes\ndescription: Use this skill when re-reviewing a PR that already has comments or when responding to developer changes after initial review. Apply when PR threads exist or when reviewing force-pushed commits. Handles incremental reviews, detects addressed feedback, avoids duplicate comments, and focuses only on newly introduced issues.\n---\n\n# Reviewing Incremental Changes\n\n## Scope Rules\n\n| Scenario       | Review Scope                         | New Issues in Old Code? |\n| -------------- | ------------------------------------ | ----------------------- |\n| Initial review | All changed files                    | ‚úÖ Yes                  |\n| Re-review      | Only lines changed since last review | ‚ùå Prohibited           |\n\n## Re-Review Requirements\n\n1. Review ONLY files/lines changed since last review\n2. Do not re-raise issues developer already addressed\n3. Verify previous ‚ùå CRITICAL or ‚ö†Ô∏è IMPORTANT findings were actually fixed\n\n## Responding After Human Replies\n\n| Severity     | Action                                       |\n| ------------ | -------------------------------------------- |\n| ‚ùå CRITICAL  | May respond once if issue genuinely persists |\n| ‚ö†Ô∏è IMPORTANT | May respond once if issue genuinely persists |\n| ‚ôªÔ∏è DEBT      | **NEVER** reopen                             |\n| üé® SUGGESTED | **NEVER** reopen                             |\n| ‚ùì QUESTION  | **NEVER** reopen                             |\n",
        "plugins/bitwarden-init/.claude-plugin/plugin.json": "{\n  \"name\": \"bitwarden-init\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Initialize Claude Code configuration with Bitwarden's standardized template format\",\n  \"author\": {\n    \"name\": \"Bitwarden\",\n    \"url\": \"https://github.com/bitwarden\"\n  },\n  \"homepage\": \"https://github.com/bitwarden/ai-plugins/tree/main/plugins/bitwarden-init\",\n  \"repository\": \"https://github.com/bitwarden/ai-plugins\",\n  \"keywords\": [\n    \"init\",\n    \"initialization\",\n    \"setup\",\n    \"configuration\",\n    \"template\"\n  ],\n  \"commands\": [\n    \"./commands/init/init.md\",\n    \"./commands/enhance/enhance.md\"\n  ]\n}\n",
        "plugins/bitwarden-init/README.md": "# Bitwarden Init Plugin\n\nGenerates CLAUDE.md files using Bitwarden's standardized documentation template.\n\n## What It Does\n\nThis plugin creates comprehensive CLAUDE.md files that document your codebase. It works in two phases:\n\n1. **Phase 1**: Runs Anthropic's built-in `/init` to analyze your codebase and generate initial documentation\n2. **Phase 2**: Extends the output with Bitwarden's template structure, adding standardized sections\n\n## Installation\n\n```bash\n/plugin install bitwarden-init@bitwarden-marketplace\n```\n\nRestart Claude Code after installation.\n\n## Commands\n\n### `/bitwarden-init:init`\n\nGenerates a new CLAUDE.md file. Runs both phases automatically:\n1. Anthropic's `/init` analyzes the codebase\n2. `/enhance` restructures and extends the output\n\n### `/bitwarden-init:enhance`\n\nEnhances an existing CLAUDE.md file. Reads your current file, performs additional codebase research, and reorganizes content to match Bitwarden's template sections.\n\n## Template Structure\n\nThe generated CLAUDE.md includes these sections:\n\n- **Overview** - Project purpose, key concepts\n- **Architecture & Patterns** - System diagrams, code organization, implementation patterns\n- **Development Guide** - Step-by-step instructions with code templates\n- **Data Models** - Types, validation schemas, domain entities\n- **Security & Configuration** - Security rules, authentication, environment variables\n- **Testing** - Test structure, writing tests, running tests\n- **Code Style & Standards** - Formatting, naming conventions, pre-commit hooks\n- **Anti-Patterns** - DO/DON'T lists\n- **Deployment** - Build and deployment instructions\n- **Troubleshooting** - Common issues and solutions\n- **References** - Documentation links\n\n## Requirements\n\n- `claude` CLI in PATH\n- Write permissions for CLAUDE.md\n\n## Contributing\n\nSee [CONTRIBUTING.md](CONTRIBUTING.md).\n\n## Changelog\n\nSee [CHANGELOG.md](CHANGELOG.md).\n\n## License\n\nSee [LICENSE.txt](../../LICENSE.txt).\n",
        "plugins/bitwarden-init/commands/enhance/enhance.md": "---\ndescription: Enhance an existing CLAUDE.md with Bitwarden's standardized template structure and supplementary research\nallowed-tools: Read, Edit(CLAUDE.md), WebFetch, Grep, Glob\n---\n\nEnhance the existing CLAUDE.md file with Bitwarden's standardized template format.\n\n**Prerequisites**: This command expects a CLAUDE.md file to already exist in the repository root (typically generated by Anthropic's `/init` command).\n\n**Instructions:**\n\n1. **Read Existing CLAUDE.md**: First, read the current CLAUDE.md file to understand what has already been documented about the project.\n\n2. **Supplementary Research**: Perform additional codebase analysis to fill gaps and gather information for Bitwarden's extended sections:\n   - Examine security-related code, authentication flows, and authorization patterns\n   - Identify anti-patterns, common mistakes, or areas of technical debt\n   - Review data models, database schemas, and API contracts\n   - Look for configuration management, environment variables, and secrets handling\n   - Find testing patterns, utilities, and coverage expectations\n   - Analyze build, deployment, and CI/CD pipelines\n   - Identify common issues and debugging approaches\n   - Identify external documentation sources and authoritative references\n\n3. **Enhance CLAUDE.md**: Restructure the file to use **exactly** the following sections.\n\n**CRITICAL REQUIREMENTS:**\n- The final CLAUDE.md MUST use these exact headings verbatim - no other top-level headings are allowed\n- ALL content from the original CLAUDE.md MUST be incorporated into one of these sections - do not remove any information\n- Reorganize and merge existing content into the appropriate sections below\n- Add new information from your supplementary research to fill gaps\n\n---\n\n**Required Sections (use these exact headings):**\n# [Project Name] - Claude Code Configuration\n\nBrief description of the project and its primary purpose.\n\n## Overview\n\n### What This Project Does\n- Primary function/purpose (1-2 sentences)\n- Key interfaces or entry points\n- Target users/consumers\n\n### Key Concepts\n- Domain-specific terminology\n- Important abstractions to understand\n\n---\n\n## Architecture & Patterns\n\n### System Architecture\n\n```\n[ASCII diagram showing high-level request flow]\n\nExample:\n    Client Request\n         ‚Üì\n    Entry Point (index.ts)\n         ‚Üì\n    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n    ‚îÇ  Handler A  ‚îÇ  Handler B  ‚îÇ\n    ‚îÇ      ‚Üì     ‚îÇ      ‚Üì     ‚îÇ\n    ‚îÇ  Service A  ‚îÇ  Service B  ‚îÇ\n    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### Code Organization\n\n```\nsrc/\n‚îú‚îÄ‚îÄ handlers/       # Request handlers\n‚îú‚îÄ‚îÄ schemas/        # Validation schemas\n‚îú‚îÄ‚îÄ services/       # Business logic\n‚îú‚îÄ‚îÄ utils/          # Shared utilities\n‚îî‚îÄ‚îÄ index.ts        # Entry point\n```\n\n### Key Principles\n1. **Principle One**: Brief explanation\n2. **Principle Two**: Brief explanation\n3. **Principle Three**: Brief explanation\n\n### Core Patterns\n\n#### [Pattern Name] (e.g., Validation Wrapper)\n\n**Purpose**: Why this pattern exists\n\n**Implementation**:\n```typescript\n// Code example showing the canonical implementation\n```\n\n**Usage**:\n```typescript\n// Code example showing how to use the pattern\n```\n\n---\n\n## Development Guide\n\n### Adding New [Primary Entity]\n\nStep-by-step checklist for the most common development task.\n\n**1. Define the Schema** (`src/schemas/[domain].ts`)\n```typescript\n// Template code\n```\n\n**2. Define the [Entity]** (`src/[entities]/[domain].ts`)\n```typescript\n// Template code\n```\n\n**3. Implement the Handler** (`src/handlers/[domain].ts`)\n```typescript\n// Template code\n```\n\n**4. Register the Handler** (`src/index.ts`)\n```typescript\n// Where and how to register\n```\n\n**5. Write Tests** (`tests/[domain].spec.ts`)\n```typescript\n// Test template\n```\n\n**6. Update Documentation**\n- Files that may need updates\n\n### Common Patterns\n\n#### [Pattern Category 1] (e.g., Request Handling)\n\n```typescript\n// Code example with comments explaining key parts\n```\n\n#### [Pattern Category 2] (e.g., Error Handling)\n\n```typescript\n// Code example with comments explaining key parts\n```\n\n#### Response Formatting\n\n```typescript\n// Standard response structure\nreturn {\n  // ...\n};\n```\n\n---\n\n## Data Models\n\n### Core Types\n\n```typescript\n// Key interfaces and types used throughout the project\ninterface ExampleModel {\n  id: string;\n  name: string;\n  // ...\n}\n```\n\n### Validation Schemas\n\n```typescript\n// Zod schemas or similar validation definitions\nconst exampleSchema = z.object({\n  // ...\n});\n```\n\n---\n\n## Security & Configuration\n\n### Security Rules\n\n**MANDATORY - These rules have no exceptions:**\n\n1. **Rule One**: Explanation and rationale\n2. **Rule Two**: Explanation and rationale\n3. **Rule Three**: Explanation and rationale\n\n### Security Functions\n\n| Function | Purpose | Usage |\n|----------|---------|-------|\n| `functionName()` | What it does | When to use it |\n\n### Environment Configuration\n\n| Variable | Required | Description | Example |\n|----------|----------|-------------|---------|\n| `VAR_NAME` | Yes/No | What it configures | `example-value` |\n\n### Authentication & Authorization\n\n- How authentication works\n- Required credentials/tokens\n- Token lifecycle management\n\n---\n\n## Testing\n\n### Test Structure\n\n```\ntests/\n‚îú‚îÄ‚îÄ unit/              # Unit tests\n‚îú‚îÄ‚îÄ integration/       # Integration tests\n‚îî‚îÄ‚îÄ fixtures/          # Test data\n```\n\n### Writing Tests\n\n**Unit Test Template**:\n```typescript\ndescribe('[Feature]', () => {\n  it('should [expected behavior]', () => {\n    // Arrange\n    // Act\n    // Assert\n  });\n});\n```\n\n**Integration Test Template**:\n```typescript\ndescribe('[Feature] Integration', () => {\n  // Setup/teardown\n  // Test cases\n});\n```\n\n### Running Tests\n\n```bash\nnpm test              # Run all tests\nnpm run test:watch    # Watch mode\nnpm test -- [file]    # Run specific file\n```\n\n### Test Environment\n\n- Required mocks\n- Environment variable setup\n- Test data location\n\n---\n\n## Code Style & Standards\n\n### Formatting\n- Tool used (Prettier, etc.)\n- Key configuration\n\n### Naming Conventions\n- `camelCase` for: variables, functions\n- `PascalCase` for: types, interfaces, classes\n- `SCREAMING_SNAKE_CASE` for: constants\n\n### Imports\n- Ordering rules\n- Extension requirements (e.g., `.js` for ES modules)\n\n### Comments\n- When to use JSDoc\n- When to use inline comments\n\n### Pre-commit Hooks\n- What runs automatically\n- Manual checks to run\n\n---\n\n## Anti-Patterns\n\n### DO\n\n- ‚úÖ Use [pattern] for [situation]\n- ‚úÖ Always validate inputs before processing\n- ‚úÖ Follow the established patterns in this document\n- ‚úÖ Write tests for new functionality\n- ‚úÖ Handle errors gracefully\n- ‚úÖ Use TypeScript strict mode\n\n### DON'T\n\n- ‚ùå Skip input validation\n- ‚ùå Use `any` types\n- ‚ùå Hardcode credentials or secrets\n- ‚ùå Ignore error responses\n- ‚ùå Commit sensitive data\n- ‚ùå Bypass security functions\n- ‚ùå [Project-specific anti-pattern]\n\n---\n\n## Deployment\n\n### Building\n\n```bash\nnpm run build\n```\n\n### Versioning\n\nFollow semantic versioning: `MAJOR.MINOR.PATCH`\n- `MAJOR`: Breaking changes\n- `MINOR`: New features (backwards compatible)\n- `PATCH`: Bug fixes\n\n### Publishing\n\n```bash\n# Steps to publish\n```\n\n---\n\n## Troubleshooting\n\n### Common Issues\n\n#### [Issue Category 1]\n\n**Problem**: Description of the issue\n\n**Solution**: How to fix it\n\n#### [Issue Category 2]\n\n**Problem**: Description of the issue\n\n**Solution**: How to fix it\n\n### Debug Tips\n\n- How to enable verbose logging\n- Common debugging workflows\n\n---\n\n## References\n\n### Official Documentation\n- [Link to primary docs]()\n- [Link to API reference]()\n\n### Internal Documentation\n- [Link to contributing guide]()\n- [Link to code style guide]()\n\n### Tools & Libraries\n- [Link to key dependency docs]()\n\n---\n\n**Enhancement Guidelines:**\n- **No information loss**: Every piece of content from the original CLAUDE.md must appear in the final output, incorporated into the appropriate section\n- **Strict heading structure**: Only the headings above are permitted as top-level sections (## level) - merge any other headings as subsections (### level) or bullet points within the appropriate section\n- **Fill gaps**: Add information for any sections that are missing or incomplete based on your supplementary research\n- **Be specific**: Include concrete examples, file paths, and code references from this codebase\n- **Include code templates**: Provide canonical code examples that can be copied and adapted\n- **Use visual structure**: Include ASCII diagrams, tables, and directory trees where they aid comprehension\n- **Prioritize security**: Pay special attention to authentication, authorization, and data protection patterns\n- **Stay current**: Reference actual patterns found in the code, not assumptions\n\n**Content Quality Standards:**\n- Every section should have substantive, codebase-specific content\n- Avoid generic advice that could apply to any project\n- Include file paths and specific examples (e.g., \"See `src/auth/guards/` for authentication guards\")\n- Use tables for structured data (env vars, security functions)\n- Use emoji indicators (‚úÖ/‚ùå) for DO/DON'T lists\n- Note any deviations from standard practices and why they exist\n\n**Handling Optional Sections:**\n- If a section is not applicable to this project (e.g., \"Deployment\" for a library), include the heading with a brief note: \"Not applicable - this is a library consumed as a dependency.\"\n- Never omit a required heading entirely\n\n**Final Step**: After enhancing CLAUDE.md, provide a detailed summary of what was added or changed compared to the original file.\n",
        "plugins/bitwarden-init/commands/init/init.md": "---\ndescription: Initialize a Claude Code CLAUDE.md file with Bitwarden's standardized template format\nallowed-tools: Read, Write, Edit, WebFetch, Grep, Glob\n---\n\nInitialize Claude Code configuration for this repository using a two-phase process that combines Anthropic's built-in analysis with Bitwarden's extended template.\n\n**Phase 1: Run Anthropic's built-in init**\n\nFirst, execute the built-in `/init` command to generate an initial CLAUDE.md file:\n\nUse the Bash tool to run:\n```bash\nclaude -p \"/init\" --allowedTools \"Read\" \"Write\" \"WebFetch\" \"Grep\" \"Glob\" --model \"opus\"\n```\n\nWait for this to complete and verify that CLAUDE.md was created in the current directory.\n\n**Phase 2: Enhance with Bitwarden template**\n\nOnce Phase 1 completes successfully, run the `/enhance` command from this plugin to extend the CLAUDE.md file with Bitwarden's standardized sections:\n\nUse the Bash tool to run:\n```bash\nclaude -p \"/bitwarden-init:enhance\" --allowedTools \"Read\" \"Edit\" \"WebFetch\" \"Grep\" \"Glob\" --model \"opus\"\n```\n\n**Completion**\n\nAfter both phases complete successfully, read the generated CLAUDE.md and provide a summary report to the user:\n\n1. **What `/init` captured**: Summarize the project-specific information discovered during Phase 1.\n\n2. **What `/enhance` added**: Summarize the additional findings and documentation added during Phase 2.\n\n3. **Suggested improvements**: Based on gaps or uncertainties encountered, suggest specific ways the user could improve their CLAUDE.md with their project knowledge.\n\nRemind the user to review the generated file and commit it to their repository.\n",
        "plugins/claude-config-validator/.claude-plugin/plugin.json": "{\n  \"name\": \"claude-config-validator\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Validates Claude Code configuration files for security, structure, and quality. Reviews CLAUDE.md, skills, agents, prompts, commands, and settings with comprehensive validation checklists.\",\n  \"author\": {\n    \"name\": \"Bitwarden\",\n    \"url\": \"https://github.com/bitwarden\"\n  },\n  \"homepage\": \"https://github.com/bitwarden/ai-plugins/tree/main/plugins/claude-config-validator\",\n  \"repository\": \"https://github.com/bitwarden/ai-plugins\",\n  \"keywords\": [\n    \"validation\",\n    \"configuration\",\n    \"security\",\n    \"quality-assurance\",\n    \"claude-config\",\n    \"code-review\",\n    \"best-practices\"\n  ],\n  \"skills\": \"./skills/\"\n}\n",
        "plugins/claude-config-validator/README.md": "# Claude Config Validator Plugin\n\nComprehensive validation for Claude Code configuration files, ensuring security, structure, and quality standards across all configuration types.\n\n## Overview\n\nThe Claude Config Validator plugin provides expert-level validation for Claude Code projects, reviewing configuration files with the same rigor as human code reviewers. It catches security vulnerabilities, structural issues, and quality problems before they impact your AI-assisted development workflows.\n\n## Features\n\n### Comprehensive Configuration Coverage\n\nValidates **6 configuration file types** with specialized checklists:\n\n| Configuration Type                                                     | What Gets Validated                                                                                        |\n| ---------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- |\n| **Agents** (`.claude/agents/*.md`)                                     | YAML frontmatter, tool access security, model selection, system prompt quality, description clarity        |\n| **Skills** (skill directories)                                         | Progressive disclosure, file organization, YAML validation, structured thinking patterns, token efficiency |\n| **CLAUDE.md** (project instructions)                                   | Clarity, specificity, security patterns, proper emphasis, structured organization                          |\n| **Prompts/Commands** (`.claude/prompts/*.md`, `.claude/commands/*.md`) | Purpose clarity, session context handling, skill references, parameter validation                          |\n| **Settings** (`.claude/settings.json`)                                 | Security (no committed credentials), permission scoping, valid JSON structure                              |\n| **Plugin Configurations** (`plugins/*/`)                               | Manifest validation, directory structure, marketplace standards                                            |\n\n### Security-First Validation\n\nEvery review **always** includes critical security checks:\n\n- ‚úÖ No committed `settings.local.json` files\n- ‚úÖ No hardcoded credentials (API keys, passwords, tokens)\n- ‚úÖ Appropriate permission scoping\n- ‚úÖ Principle of least privilege for agent tool access\n- ‚úÖ Detection of dangerous command patterns in hooks/scripts\n\n### Evidence-Based Quality Standards\n\nAll validation criteria sourced from **official Anthropic documentation** and enterprise best practices (Microsoft Azure AI patterns):\n\n- Agent tool access security matrices\n- Progressive disclosure guidelines (500-line file limits)\n- Model selection decision trees (haiku/sonnet/opus)\n- System prompt engineering patterns\n- Token efficiency optimization\n\n### Multi-Pass Review Strategy\n\nUses structured, systematic validation approach:\n\n1. **Security Scan** - Critical checks first (prevents wasted effort on insecure configs)\n2. **Structure Validation** - YAML frontmatter, file organization, required fields\n3. **Functionality Review** - Logic, completeness, integration points\n4. **Quality Assessment** - Best practices, prompt engineering, documentation\n5. **Marketplace Standards** - Elevated requirements for public plugins\n\n### Inline, Actionable Feedback\n\nProvides specific, file:line referenced feedback with:\n\n- **Priority classification** (CRITICAL / IMPORTANT / SUGGESTED / OPTIONAL)\n- **Specific fixes** with code examples\n- **Rationale** explaining why issues matter\n- **References** to official documentation\n\n## Installation\n\n### Add Bitwarden Marketplace (if not already added)\n\n```bash\n/plugin marketplace add bitwarden/ai-marketplace\n```\n\n### Install the Plugin\n\n```bash\n/plugin install claude-config-validator@bitwarden-marketplace\n```\n\n## Usage\n\n### Basic Invocation\n\n```bash\n/skill reviewing-claude-config\n```\n\nThe skill will automatically:\n\n1. Detect which configuration files were recently modified\n2. Select appropriate validation checklists\n3. Execute security-first review\n4. Provide inline feedback with file:line references\n\n### Use Cases\n\n#### 1. Pre-Commit Configuration Review\n\n**Scenario**: You've created a new agent configuration and want to ensure it meets security and quality standards before committing.\n\n**Usage**:\n\n```markdown\nReview my new agent configuration in .claude/agents/code-analyzer.md\n```\n\n**Output**: Inline comments with specific improvements, security concerns flagged as CRITICAL, quality suggestions as IMPORTANT/SUGGESTED.\n\n---\n\n#### 2. Plugin Marketplace Submission Validation\n\n**Scenario**: You're preparing a plugin for marketplace submission and need to meet elevated quality standards.\n\n**Usage**:\n\n```markdown\nReview my plugin configuration in plugins/my-plugin/ for marketplace readiness\n```\n\n**Output**: Comprehensive validation against marketplace standards, documentation completeness checks, security validation, example quality assessment.\n\n---\n\n#### 3. Skill Architecture Review\n\n**Scenario**: You've created a complex skill with multiple reference files and want to ensure proper progressive disclosure.\n\n**Usage**:\n\n```markdown\nReview my skill at .claude/skills/my-skill/ for progressive disclosure and token efficiency\n```\n\n**Output**: File size analysis (500-line guideline), reference organization recommendations, auto-loaded vs on-demand content optimization.\n\n---\n\n#### 4. Security Audit\n\n**Scenario**: You want to audit all Claude configurations in your project for security issues.\n\n**Usage**:\n\n```markdown\nSecurity audit all Claude configuration files in this project\n```\n\n**Output**: Security-focused review covering credential exposure, permission scoping, dangerous patterns, tool access violations.\n\n## Skills Included\n\n### reviewing-claude-config\n\n**Description**: Reviews Claude configuration files in .claude directories for security, structure, and prompt engineering quality.\n\n**Validates**:\n\n- CLAUDE.md files\n- Skills (SKILL.md)\n- Agents\n- Prompts\n- Commands\n- Settings\n\n**Capabilities**:\n\n- YAML frontmatter validation\n- Progressive disclosure pattern analysis\n- Token efficiency assessment\n- Security best practice enforcement\n- Detection of critical issues (committed secrets, malformed YAML, broken references, oversized files, insecure tool access)\n\n**Validation Strategy**:\n\n- Multi-pass review (structure ‚Üí security ‚Üí functionality ‚Üí quality)\n- Evidence-based recommendations (all criteria from official docs)\n- Priority-classified feedback (CRITICAL ‚Üí IMPORTANT ‚Üí SUGGESTED ‚Üí OPTIONAL)\n- Inline comments with specific fixes and rationale\n\n## Validation Coverage Details\n\n### Agent Validation (6-Pass Strategy)\n\n**Pass 1: Structure and YAML Frontmatter**\n\n- Valid YAML syntax (no tabs, proper structure)\n- Required fields: `name`, `description`\n- Optional fields validated: `tools`, `model`\n- System prompt presence and non-empty\n\n**Pass 2: Security and Tool Access**\n\n- Principle of least privilege verification\n- Tool access appropriateness (Read/Grep/Glob for analysis, Write/Edit for modification, Bash justification required)\n- Over-privileged agent detection\n- Dangerous tool combination identification\n\n**Pass 3: Description and Activation Triggers**\n\n- Specificity (clear purpose statement)\n- Activation triggers (\"Use when...\", \"PROACTIVELY invoke...\")\n- Single responsibility principle\n- Appropriate scope\n\n**Pass 4: System Prompt Quality**\n\n- Role clarity\n- Capability definition\n- Structured thinking guidance (`<thinking>` blocks)\n- Examples provided\n- Output format specification\n- Token efficiency\n\n**Pass 5: Model Selection**\n\n- Appropriate model for task complexity (haiku/sonnet/opus/inherit)\n- Cost/performance optimization\n- Justification for selection\n\n**Pass 6: Marketplace Standards** (if applicable)\n\n- Elevated documentation requirements\n- Production readiness\n- Error handling\n- Example quality\n\n### Skill Validation (4-Pass Strategy)\n\n**Pass 1: Structure and YAML**\n\n- Valid YAML frontmatter with required fields\n- SKILL.md presence\n- Proper file organization\n\n**Pass 2: Progressive Disclosure**\n\n- File size limits (500-line guideline for references)\n- On-demand vs auto-loaded content\n- Token efficiency optimization\n\n**Pass 3: Quality and Clarity**\n\n- Clear instructions\n- Structured thinking blocks\n- Example inclusion\n- Proper emphasis\n\n**Pass 4: Integration and Completeness**\n\n- No broken file references\n- Checklist completeness\n- Reference accuracy\n\n### Security Validation (Always Executed)\n\n**Critical Checks** (all configuration types):\n\n- settings.local.json NOT committed to git\n- No hardcoded credentials (passwords, API keys, tokens)\n- Permissions appropriately scoped\n- No secrets in plaintext\n\n**Detection Methods**:\n\n- Git status checks\n- Pattern matching for common secret formats\n- Permission validation against least privilege principle\n\n## Examples\n\n### Example 1: Agent Security Issue\n\n**Input**: Agent configuration with missing `tools` field\n\n**Output**:\n\n```\n**.claude/agents/documentation-writer.md:1-6** - CRITICAL: Missing tools field - inherits all tools including Bash\n\nAgent has no `tools` field, meaning it inherits ALL tools including destructive operations.\n\nRecommended:\n---\nname: documentation-writer\ndescription: Generates API documentation...\ntools: Read, Grep, Glob, Write\n---\n\nRationale:\n- Read/Grep/Glob: Analyze code to document\n- Write: Create documentation files\n- NO Edit: Doesn't modify source code\n- NO Bash: Documentation doesn't require command execution\n\nSecurity principle: Grant minimum necessary tools only.\n\nReference: `reference/agent-configuration-security.md` - Tool Access Security Matrix\n```\n\n### Example 2: Skill Progressive Disclosure Violation\n\n**Input**: Skill with 690-line reference file\n\n**Output**:\n\n```\n**.claude/skills/my-skill/reference/patterns.md:1** - IMPORTANT: File exceeds 500-line progressive disclosure guideline\n\nCurrent: 690 lines (38% over recommended limit)\nGuideline: 500 lines maximum for on-demand loading\n\nImpact: Loads extra 190 lines into context unnecessarily, reducing token efficiency by 38%.\n\nRecommended: Split into focused files:\n- patterns-security.md (tool access, permissions)\n- patterns-configuration.md (model selection, naming)\n- patterns-prompts.md (system prompt engineering)\n\nReference: Progressive Disclosure Best Practices\n```\n\n### Example 3: CLAUDE.md Clarity Issue\n\n**Input**: CLAUDE.md with vague instructions\n\n**Output**:\n\n```\n**.claude/CLAUDE.md:42** - IMPORTANT: Instruction lacks specificity\n\nCurrent: \"Always write good code\"\nIssue: \"Good code\" is subjective and non-actionable.\n\nRecommended:\n\"Follow these code quality standards:\n- Write comprehensive unit tests for all business logic\n- Use descriptive variable names (no single letters except loop counters)\n- Add inline comments explaining 'why', not 'what'\n- Follow project's established patterns in `docs/architecture.md`\"\n\nSpecific, actionable instructions improve AI behavior by 60% (Anthropic research).\n\nReference: `reference/quality-specificity.md` - Specificity Best Practices\n```\n\n## Plugin Structure\n\n```\nplugins/claude-config-validator/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json          # Plugin manifest\n‚îú‚îÄ‚îÄ skills/\n‚îÇ   ‚îî‚îÄ‚îÄ reviewing-claude-config/\n‚îÇ       ‚îú‚îÄ‚îÄ SKILL.md         # Main skill instructions\n‚îÇ       ‚îú‚îÄ‚îÄ README.md        # Skill-specific documentation\n‚îÇ       ‚îú‚îÄ‚îÄ checklists/      # 5 validation checklists (agents, skills, CLAUDE.md, prompts, settings)\n‚îÇ       ‚îú‚îÄ‚îÄ reference/       # 16 reference files (security, quality, agent patterns)\n‚îÇ       ‚îú‚îÄ‚îÄ examples/        # 6 example review outputs\n‚îÇ       ‚îú‚îÄ‚îÄ docs/            # Implementation plans, changelog\n‚îÇ       ‚îî‚îÄ‚îÄ scripts/         # Validation automation scripts\n‚îî‚îÄ‚îÄ README.md               # This file\n```\n\n## Contributing\n\nContributions welcome! Please follow:\n\n- [Bitwarden Contributing Guidelines](https://contributing.bitwarden.com)\n- Repository standards in root `README.md`\n- Code quality requirements in `.editorconfig`\n\n## Support\n\n- **Issues**: [GitHub Issues](https://github.com/bitwarden/ai-marketplace/issues)\n- **Documentation**: [Claude Code Docs](https://docs.claude.com/en/docs/claude-code/)\n- **Marketplace**: [Bitwarden AI Marketplace](https://github.com/bitwarden/ai-marketplace)\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/README.md": "# reviewing-claude-config\n\nComprehensive skill for reviewing Claude Code configuration files with security-first approach.\n\n## Overview\n\nThis skill provides systematic review guidance for Claude Code configuration files in `.claude` directories. It detects file types, applies appropriate review checklists, and enforces security best practices with executable detection scripts.\n\n**Use this skill when:**\n\n- Reviewing changes to `CLAUDE.md` files\n- Reviewing skill files (`skill.md` and supporting files)\n- Reviewing prompts or commands (`.claude/prompts/*.md`, `.claude/commands/*.md`)\n- Reviewing settings files (`.claude/settings.json`)\n- Validating Claude configuration security and quality\n\n## Features\n\n### Security-First Approach\n\n- Detects committed `settings.local.json` files\n- Scans for hardcoded secrets and credentials\n- Validates permission scoping\n- Identifies dangerous command auto-approvals\n- Includes executable `security-scan.sh` script\n\n### Intelligent Routing\n\n- Detects configuration file type automatically\n- Routes to appropriate specialized checklist\n- Progressive disclosure for token efficiency\n- Structured thinking throughout review process\n\n### Quality Enforcement\n\n- YAML frontmatter validation\n- Progressive disclosure enforcement (500 line limit)\n- Prompt engineering quality checks\n- File reference integrity validation\n- Token efficiency optimization\n\n### Comprehensive Coverage\n\n- **4 specialized checklists**: Skills, CLAUDE.md, Prompts, Settings\n- **3 reference guides**: Priority framework, security patterns, quality criteria\n- **4 review examples**: Demonstrating proper feedback format\n- **Executable security script**: Automated security scanning\n\n## Installation\n\n### Option 1: Copy to Your Project\n\n```bash\n# Copy the entire skill directory to your project's .claude/skills/ directory\ncp -r reviewing-claude-config /path/to/your/project/.claude/skills/\n```\n\n### Option 2: Clone from Repository\n\n```bash\n# In your project's .claude/skills/ directory\ncd .claude/skills/\ngit clone [repository-url] reviewing-claude-config\n```\n\n### Verify Installation\n\n```bash\n# Check that skill is recognized by Claude Code\nls -la .claude/skills/reviewing-claude-config/SKILL.md\n\n# Optionally, make security script executable\nchmod +x .claude/skills/reviewing-claude-config/scripts/security-scan.sh\n```\n\n## Usage\n\n### As a Skill (Recommended)\n\nClaude Code will automatically invoke this skill when appropriate based on the description. You can also invoke it explicitly:\n\n```\nReview the changes to .claude/CLAUDE.md\n```\n\nThe skill will:\n\n1. Detect the file type (CLAUDE.md in this case)\n2. Execute security scan\n3. Load the appropriate checklist\n4. Provide structured review with inline comments\n\n### Manual Security Scan\n\nRun the executable security script directly:\n\n```bash\n# From the scripts directory\ncd .claude/skills/reviewing-claude-config/scripts\n./security-scan.sh\n\n# Or scan a specific directory\n./security-scan.sh /path/to/.claude\n```\n\nThe script checks for:\n\n- Committed settings.local.json\n- Hardcoded secrets (API keys, tokens, passwords)\n- Overly broad permissions\n- Dangerous command auto-approvals\n\n### Examples\n\n**Review a new skill:**\n\n```\nReview .claude/skills/my-new-skill/skill.md\n```\n\n**Review settings changes:**\n\n```\nReview the changes to .claude/settings.json\n```\n\n**Review CLAUDE.md updates:**\n\n```\nReview .claude/CLAUDE.md for quality and security\n```\n\n## File Structure\n\n```\nreviewing-claude-config/\n‚îú‚îÄ‚îÄ skill.md                          # Main orchestration file\n‚îú‚îÄ‚îÄ checklists/                       # Specialized review checklists\n‚îÇ   ‚îú‚îÄ‚îÄ skills.md                     # Skill review checklist\n‚îÇ   ‚îú‚îÄ‚îÄ claude-md.md                  # CLAUDE.md review checklist\n‚îÇ   ‚îú‚îÄ‚îÄ prompts.md                    # Prompts/commands checklist\n‚îÇ   ‚îî‚îÄ‚îÄ settings.md                   # Settings security checklist\n‚îú‚îÄ‚îÄ reference/                        # Reference materials (loaded on-demand)\n‚îÇ   ‚îú‚îÄ‚îÄ priority-framework.md         # Issue classification system\n‚îÇ   ‚îú‚îÄ‚îÄ security-patterns.md          # Security checks and remediation\n‚îÇ   ‚îú‚îÄ‚îÄ prompt-engineering-quality.md # Quality criteria index (modular)\n‚îÇ   ‚îú‚îÄ‚îÄ quality-clarity.md            # Clarity criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-specificity.md        # Specificity criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-examples.md           # Examples criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-emphasis.md           # Emphasis criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-structure.md          # Structure criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-context.md            # Context criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-actionability.md      # Actionability criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-structured-thinking.md # Structured thinking criteria\n‚îÇ   ‚îú‚îÄ‚îÄ quality-checklist.md          # Comprehensive quality checklist\n‚îÇ   ‚îî‚îÄ‚îÄ quality-improvement-patterns.md # Common improvement patterns\n‚îú‚îÄ‚îÄ examples/                         # Sample review outputs\n‚îÇ   ‚îú‚îÄ‚îÄ README.md                     # Examples index and loading guide\n‚îÇ   ‚îú‚îÄ‚îÄ example-skill-review.md       # Skill review example\n‚îÇ   ‚îú‚îÄ‚îÄ example-claude-md-review.md   # CLAUDE.md review example\n‚îÇ   ‚îú‚îÄ‚îÄ example-settings-review.md    # Settings review example\n‚îÇ   ‚îî‚îÄ‚îÄ example-prompts-review.md     # Prompts review example\n‚îú‚îÄ‚îÄ scripts/                          # Executable automation\n‚îÇ   ‚îî‚îÄ‚îÄ security-scan.sh              # Comprehensive security scanner\n‚îú‚îÄ‚îÄ docs/                             # Historical documentation\n‚îÇ   ‚îú‚îÄ‚îÄ CHANGELOG.md                  # Version history\n‚îÇ   ‚îú‚îÄ‚îÄ IMPLEMENTATION_PLAN.md        # Original implementation plan\n‚îÇ   ‚îî‚îÄ‚îÄ FINAL_REPORT.md               # Implementation completion report\n‚îú‚îÄ‚îÄ README.md                         # This file\n‚îî‚îÄ‚îÄ LICENSE                           # MIT License\n```\n\n## Review Process\n\nThe skill follows a systematic 5-step review process:\n\n1. **Detect File Type**: Determines whether reviewing skills, CLAUDE.md, prompts, or settings\n2. **Execute Security Scan**: Always performs critical security checks first\n3. **Load Appropriate Checklist**: Routes to specialized review guidance\n4. **Consult References**: Loads detailed criteria only when needed\n5. **Document Findings**: Provides inline comments with specific fixes\n\n### Security Checks (Always First)\n\nRegardless of file type, these checks are performed:\n\n- ‚úÖ settings.local.json NOT in git\n- ‚úÖ No hardcoded credentials\n- ‚úÖ Permissions appropriately scoped\n- ‚úÖ No dangerous command auto-approvals\n\nIf any security check fails, it's flagged as **CRITICAL** immediately.\n\n### Priority Levels\n\nIssues are classified into four priority levels:\n\n- **CRITICAL**: Prevents functionality, exposes security vulnerabilities (must fix)\n- **IMPORTANT**: Significantly impacts quality or maintainability (should fix)\n- **SUGGESTED**: Nice-to-have improvements (optional)\n- **OPTIONAL**: Personal preferences (author decides)\n\n## Requirements\n\n- Claude Code (tested with latest version)\n- Git (for committed file detection in security scan)\n- Bash (for security-scan.sh script)\n\n## Configuration\n\nThis skill works out-of-the-box with no configuration needed. It's 100% generic and supports any project type or language.\n\n### Customization\n\nIf you want to customize for your organization:\n\n1. **Modify checklists**: Add project-specific requirements to checklist files\n2. **Adjust security patterns**: Add organization-specific secret patterns to `security-scan.sh`\n3. **Update priority framework**: Adjust severity levels based on team standards\n\n**Note**: Keep changes generic to maintain portability if sharing with other teams.\n\n## Examples\n\nThis skill includes 5 comprehensive review examples demonstrating proper feedback format:\n\n- `examples/example-agent-review.md` - Agent review with security and quality issues\n- `examples/example-skill-review.md` - Skill review with multiple issues\n- `examples/example-claude-md-review.md` - CLAUDE.md review with duplication\n- `examples/example-settings-review.md` - Settings review with security concerns\n- `examples/example-prompts-review.md` - Prompts review with quality improvements\n\n### Review Output Format\n\nEach review follows this structure:\n\n**Inline Comments:**\n\n```\n**file:line** - PRIORITY: Issue description\n\n[Specific fix with code example]\n\n[Rationale explaining why this matters]\n```\n\n**Summary Comment:**\n\n```\n**Overall Assessment:** APPROVE / REQUEST CHANGES\n\n[Findings grouped by priority: CRITICAL ‚Üí IMPORTANT ‚Üí SUGGESTED ‚Üí OPTIONAL]\n```\n\n### Priority Levels\n\n- **CRITICAL** - Prevents functionality, security vulnerabilities (must fix)\n- **IMPORTANT** - Significant quality/maintainability impact (should fix)\n- **SUGGESTED** - Nice-to-have improvements (could fix)\n- **OPTIONAL** - Personal preferences, alternatives (consider)\n\n### Best Practices\n\n**Feedback Quality:**\n\n- Provide specific fixes with code examples, not just problem identification\n- Explain rationale (the \"why\"), not just the \"what\"\n- Include references to documentation when applicable\n- Use precise file:line references\n\n**Tone:**\n\n- Constructive and specific, never dismissive\n- Focus on code/config, not people\n- Acknowledge complexity and trade-offs\n- Balance criticism with recognition of what works well\n\n## Research Foundation\n\nThis skill incorporates research-backed best practices:\n\n- **Chain of Thought prompting**: 40% error reduction (Anthropic)\n- **Progressive disclosure**: <500 line main files (Anthropic)\n- **Structured thinking**: Systematic analysis before feedback\n- **Security-first approach**: Critical checks before quality review\n\nSee `docs/IMPLEMENTATION_PLAN.md` for detailed research sources.\n\n## Troubleshooting\n\n### Skill Not Recognized\n\n**Issue**: Claude doesn't invoke the skill automatically\n\n**Solutions:**\n\n1. Verify YAML frontmatter exists in `skill.md`\n2. Check skill name is `reviewing-claude-config`\n3. Ensure file is in `.claude/skills/reviewing-claude-config/`\n4. Try invoking explicitly: \"Use reviewing-claude-config skill\"\n\n### Security Script Fails\n\n**Issue**: `./security-scan.sh` returns errors\n\n**Solutions:**\n\n1. Make executable: `chmod +x security-scan.sh`\n2. Verify you're in a git repository (for git commands)\n3. Check script has access to `.claude` directory\n4. Review error messages for specific issues\n\n### False Positives in Security Scan\n\n**Issue**: Security scan detects patterns in documentation\n\n**Solutions:**\n\n1. Security scan excludes `examples/` and `security-patterns.md`\n2. Use \"example\" or \"your-key-here\" as placeholders in docs\n3. Review manually to confirm false positives\n\n## Contributing\n\nThis skill is designed for internal team use but follows open-source best practices.\n\n**To contribute improvements:**\n\n1. Test changes in your project first\n2. Ensure changes remain 100% generic (no project-specific references)\n3. Update CHANGELOG.md with changes\n4. Increment version in `skill.md` YAML frontmatter (semver)\n\n## Versioning\n\nThis skill follows [Semantic Versioning](https://semver.org/):\n\n- **MAJOR**: Breaking changes to skill interface or file structure\n- **MINOR**: New features, new checklists, backward-compatible changes\n- **PATCH**: Bug fixes, documentation updates, minor improvements\n\nCurrent version: **1.0.0**\n\nSee CHANGELOG.md for version history.\n\n## Support\n\nFor issues, questions, or feedback:\n\n1. Check troubleshooting section above\n2. Review examples in `examples/review-outputs.md`\n3. Consult reference files for detailed guidance\n4. Contact your team's Claude Code administrator\n\n## Acknowledgments\n\nBuilt with research-backed best practices from:\n\n- Anthropic Official Documentation (Chain of Thought, Progressive Disclosure)\n- Claude Code Best Practices\n- Security best practices for credential detection\n- Prompt engineering quality standards\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/SKILL.md": "---\nname: reviewing-claude-config\ndescription: Reviews Claude configuration files for security, structure, and prompt engineering quality. Use when reviewing changes to CLAUDE.md files (project-level or .claude/), skills (SKILL.md), agents, prompts, commands, or settings. Validates YAML frontmatter, progressive disclosure patterns, token efficiency, and security best practices. Detects critical issues like committed settings.local.json, hardcoded secrets, malformed YAML, broken file references, oversized skill files, and insecure agent tool access.\nversion: 1.0.0\nallowed-tools: Read, Grep, Glob\n---\n\n# Reviewing Claude Configuration\n\n## Instructions\n\n**IMPORTANT**: Use structured thinking throughout your review process. Plan your analysis before providing feedback. This improves accuracy and catches critical security issues.\n\n### Step 1: Detect File Type\n\n<thinking>\nAnalyze the changed files:\n1. Which .claude files were modified?\n2. What file types? (CLAUDE.md, skills, agents, prompts, commands, settings)\n3. Are there immediate security concerns?\n4. What's the review scope (single file or multiple)?\n</thinking>\n\nDetermine the primary file type(s) being reviewed:\n\n**Detection Rules**:\n\n- **Agents**: Changes to `.claude/agents/*.md` or `plugins/*/agents/*.md`\n- **Skills**: Changes to `skill.md` files or skill support files (checklists, references, examples)\n- **CLAUDE.md**: Changes to `CLAUDE.md` files (any location: project root, `.claude/`, or subdirectories)\n- **Prompts/Commands**: Changes to `.claude/prompts/*.md` or `.claude/commands/*.md`\n- **Settings**: Changes to `.claude/settings.json` or `.claude/settings.local.json`\n\nIf multiple types modified, review each with appropriate checklist.\n\n### Step 2: Execute Security Scan (ALWAYS)\n\n<thinking>\nSecurity first, regardless of file type:\n1. Is settings.local.json committed to git?\n2. Any hardcoded secrets (passwords, tokens, API keys)?\n3. Are permissions appropriately scoped (if settings modified)?\n4. Any suspicious patterns in changed files?\n</thinking>\n\n**CRITICAL CHECKS** (perform for ALL Claude config reviews):\n\nRun these mental checks immediately:\n\n- [ ] settings.local.json NOT in git (check changed files list)\n- [ ] No hardcoded credentials in any modified files\n- [ ] Permissions scoped appropriately (if settings.json modified)\n- [ ] No API keys, tokens, or passwords in plaintext\n\n**If ANY security issue found**: Flag as **CRITICAL** immediately, stop and report.\n\nConsult `reference/security-patterns.md` for detailed security checks and detection commands.\n\n### Step 3: Load Appropriate Checklist\n\nBased on detected file type, read and follow the relevant checklist:\n\n- **Agents** ‚Üí `checklists/agents.md` (YAML, tool access security, model selection, system prompts)\n- **Skills** ‚Üí `checklists/skills.md` (structure, YAML, progressive disclosure, quality)\n- **CLAUDE.md** ‚Üí `checklists/claude-md.md` (clarity, references, no duplication)\n- **Prompts/Commands** ‚Üí `checklists/prompts.md` (purpose, session context, skill references)\n- **Settings** ‚Üí `checklists/settings.md` (security, permissions scoping)\n\nThe checklist provides:\n\n- Multi-pass review strategy\n- What to check and what to skip\n- Structured thinking guidance\n- Common issues and red flags\n\n### Step 4: Consult Reference Materials As Needed\n\n<thinking>\nWhen to load references:\n1. Need to classify issue priority? ‚Üí priority-framework.md\n2. Security patterns unclear? ‚Üí security-patterns.md\n3. Claude Code requirements (YAML, tools, models, limits)? ‚Üí claude-code-requirements.md\n</thinking>\n\nLoad reference files only when needed for specific questions:\n\n- **Issue prioritization** ‚Üí `reference/priority-framework.md` (CRITICAL vs IMPORTANT vs SUGGESTED vs OPTIONAL)\n- **Security patterns** ‚Üí `reference/security-patterns.md` (detection commands, fix examples)\n- **Claude Code requirements** ‚Üí `reference/claude-code-requirements.md` (YAML frontmatter, model selection, tool names, progressive disclosure, settings conventions)\n\n### Step 5: Document Findings\n\n<thinking>\nBefore writing each comment:\n1. Priority level? (Critical/Important/Suggested/Optional)\n2. Security issue or quality issue?\n3. What's the specific fix or recommendation?\n4. What's the rationale (why does this matter)?\n5. Is there a reference or documentation link?\n</thinking>\n\n**This section defines the standard output format for ALL Claude config reviews.**\nChecklists reference this section rather than duplicating content.\n\n**CRITICAL**: Use inline comments on specific lines, NOT one large summary comment.\n\n**Inline Comment Rules**:\n\n- Create separate comment for EACH specific issue on the exact line\n- Do NOT create one large summary comment with all issues\n- Do NOT update existing comments - always create new comments\n- Include specific fix with code example when applicable\n- Explain rationale (why this matters)\n\n**Comment Format**:\n\n```\n**[file:line]** - [PRIORITY]: [Issue description]\n\n[Specific fix with code example if applicable]\n\n[Rationale explaining why this matters]\n\nReference: [documentation link if applicable]\n```\n\n**Example inline comment**:\n\n````\n**.claude/skills/my-skill/skill.md:1** - CRITICAL: Missing YAML frontmatter\n\nSkills require YAML frontmatter to be discoverable by Claude Code:\n\n\\```yaml\n---\nname: my-skill\ndescription: Clear description with activation triggers\n---\n\\```\n\nWithout frontmatter, the skill won't be recognized by Claude Code.\n\nReference: Anthropic Skills Documentation\n````\n\n**When to use inline vs summary**:\n\n- **Inline comment**: Specific issue, recommendation, or question (use `file:line` format)\n- **Summary comment**: Overall assessment, recommendation (APPROVE or REQUEST CHANGES)\n\nLoad the specific example relevant to your file type (on-demand only, not upfront):\n\n- Agents ‚Üí `examples/example-agent-review.md`\n- Skills ‚Üí `examples/example-skill-review.md`\n- CLAUDE.md ‚Üí `examples/example-claude-md-review.md`\n- Settings ‚Üí `examples/example-settings-review.md`\n- Prompts ‚Üí `examples/example-prompts-review.md`\n\n## Core Principles\n\n- **Security first**: Always check for committed settings, secrets, overly broad permissions\n- **Structure matters**: YAML frontmatter, file references, progressive disclosure, line limits\n- **Quality counts**: Clear instructions, examples, proper emphasis, structured thinking\n- **Token efficiency**: Progressive disclosure, appropriate file sizes, on-demand loading\n- **Actionable feedback**: Say what to do and why, not just what's wrong\n- **Constructive tone**: Focus on code/config, not people; explain rationale\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/agents.md": "# Agents Review Checklist\n\nReview checklist for changes to Claude Code agent files (`.claude/agents/*.md` and `plugins/*/agents/*.md`).\n\n---\n\n## Multi-Pass Review Strategy\n\n### First Pass: Structure and YAML Frontmatter\n\n<thinking>\nCritical structural elements for agents:\n1. Is YAML frontmatter present and valid?\n2. Are required fields (name, description) present?\n3. Are optional fields (tools, model) valid if present?\n4. Does the agent file have a system prompt?\n5. Is the basic structure sound?\n</thinking>\n\n**Focus Areas:**\n\n- [ ] YAML frontmatter present and syntactically valid\n- [ ] Required fields: `name` and `description`\n- [ ] Optional fields validated if present: `tools`, `model`\n- [ ] System prompt exists and is non-empty\n- [ ] File structure follows markdown format\n\n**Required YAML Frontmatter:**\n\n```yaml\n---\nname: agent-name-in-lowercase-with-hyphens\ndescription: Specific description with activation triggers\n---\n```\n\n**Optional YAML Fields:**\n\n```yaml\n---\nname: agent-name\ndescription: Clear description\ntools: Read, Grep, Glob # Comma-separated tool names (omit to inherit all)\nmodel: sonnet # Options: sonnet, opus, haiku, inherit\n---\n```\n\n**Critical Issues to Flag Immediately:**\n\n- Missing YAML frontmatter (agent won't be recognized)\n- Missing `name` field\n- Missing `description` field\n- Invalid YAML syntax (tabs, malformed structure)\n- Invalid `model` value (must be: sonnet, opus, haiku, inherit)\n- Invalid tool names in `tools` field\n- Empty system prompt\n\n**Reference:** [Anthropic - Claude Code Subagents Documentation](https://docs.claude.com/en/docs/claude-code/sub-agents.md)\n\n---\n\n### Second Pass: Security and Tool Access\n\n<thinking>\nSecurity implications of agent configuration:\n1. What tools does this agent have access to?\n2. Is tool access scoped by principle of least privilege?\n3. Are there dangerous tool combinations?\n4. Could this agent perform unintended destructive operations?\n5. Is tool access justified by agent purpose?\n</thinking>\n\n**Principle of Least Privilege:**\nAgents should have ONLY the tools necessary for their specific function.\n\n**Tool Access Patterns:**\n\n‚úÖ **GOOD - Read-only analysis agent:**\n\n```yaml\n---\nname: code-analyzer\ndescription: Analyzes code quality and patterns\ntools: Read, Grep, Glob\n---\n```\n\n‚úÖ **GOOD - Scoped editing agent:**\n\n```yaml\n---\nname: test-generator\ndescription: Generates unit tests for existing code\ntools: Read, Grep, Write\n---\n```\n\n‚ùå **BAD - Overly broad access:**\n\n```yaml\n---\nname: helper-agent\ndescription: Helps with various tasks\n# No tools field = inherits ALL tools\n---\n```\n\n‚ùå **BAD - Unnecessary destructive access:**\n\n```yaml\n---\nname: documentation-writer\ndescription: Writes documentation\ntools: Read, Write, Edit, Bash # Why does documentation need Bash?\n---\n```\n\n**Security Checks:**\n\n- [ ] Tool access scoped to minimum required\n- [ ] Read-only agents don't have Write/Edit/Bash\n- [ ] Bash access is justified for agent purpose\n- [ ] If tools omitted (inherits all), this is intentional and documented\n- [ ] No dangerous tool combinations without justification\n\n**Common Secure Patterns:**\n\n- **Analyst/Reviewer**: Read, Grep, Glob (read-only)\n- **Code Generator**: Read, Grep, Write (creates new files)\n- **Refactoring Agent**: Read, Grep, Edit (modifies existing)\n- **Automation Agent**: Read, Write, Bash (needs command execution)\n\n**Red Flags:**\n\n- Inheriting all tools without clear justification\n- Bash access without explanation\n- Write/Edit access for analysis-only agents\n- Tool access mismatched to agent description\n\n**Reference:** `reference/claude-code-requirements.md` - Tool Access Security (lines 109-133)\n\n---\n\n### Third Pass: Description and Activation Triggers\n\n<thinking>\nDescription quality considerations:\n1. Is it clear what this agent does?\n2. When should Claude invoke this agent?\n3. Are activation triggers specific?\n4. Can users understand when to use this agent?\n5. Is the description too vague or too verbose?\n</thinking>\n\n**Effective Descriptions:**\nDescriptions must be specific about BOTH functionality AND activation triggers.\n\n‚úÖ **GOOD - Specific with activation triggers:**\n\n```yaml\ndescription: Reviews Kotlin code for MVVM violations, state management issues, and Compose best practices. Use when analyzing Android ViewModels, state flows, or Compose UI code.\n```\n\n‚úÖ **GOOD - Clear automatic delegation:**\n\n```yaml\ndescription: Debugs runtime errors by analyzing stack traces and logs. PROACTIVELY invoke when error messages or exceptions are present.\n```\n\n‚úÖ **GOOD - Narrow scope with examples:**\n\n```yaml\ndescription: Generates unit tests for Python functions using pytest. Use when working with .py files that lack test coverage.\n```\n\n‚ùå **BAD - Too vague:**\n\n```yaml\ndescription: Helps with code stuff.\n```\n\n‚ùå **BAD - No activation triggers:**\n\n```yaml\ndescription: Analyzes code quality and suggests improvements.\n# When should this be used? What languages? What types of improvements?\n```\n\n‚ùå **BAD - Too broad (violates single responsibility):**\n\n```yaml\ndescription: Handles all aspects of development including coding, testing, deployment, documentation, and architecture design.\n```\n\n**Check For:**\n\n- [ ] Description states what the agent does\n- [ ] Description includes activation triggers (when to use)\n- [ ] Description is specific, not vague\n- [ ] Single responsibility (focused scope)\n- [ ] Appropriate level of detail (not too terse, not too verbose)\n\n**Activation Language Patterns:**\n\n- \"Use when...\" - Explicit trigger conditions\n- \"PROACTIVELY invoke...\" - Encourages automatic delegation\n- \"Use for...\" - Specific use cases\n- Language/framework specific - Improves targeting\n\n---\n\n### Fourth Pass: System Prompt Quality\n\n<thinking>\nSystem prompt effectiveness:\n1. Are instructions clear and specific?\n2. Does it define role and capabilities?\n3. Are examples provided for complex behaviors?\n4. Does it include constraints and boundaries?\n5. Is structured thinking guidance present?\n6. Is the prompt token-efficient?\n</thinking>\n\n**System Prompt Requirements:**\n\n**Clarity and Specificity:**\n\n- [ ] Role clearly defined\n- [ ] Capabilities explicitly stated\n- [ ] Constraints and boundaries documented\n- [ ] Expected behavior specified\n- [ ] Output format defined (if applicable)\n\n**Prompt Engineering Best Practices:**\n\n‚úÖ **GOOD - Structured with examples:**\n\n```markdown\n# Code Reviewer Agent\n\n## Role\n\nYou are a specialized code reviewer focusing on security vulnerabilities, performance issues, and adherence to SOLID principles.\n\n## Capabilities\n\n- Identify SQL injection, XSS, and CSRF vulnerabilities\n- Detect performance anti-patterns (N+1 queries, memory leaks)\n- Verify SOLID principle adherence\n\n## Process\n\n1. Read the file and understand context\n2. Analyze against security checklist\n3. Check performance patterns\n4. Verify architectural principles\n5. Provide inline comments with file:line references\n\n## Output Format\n\n**file.py:42** - CRITICAL: SQL injection vulnerability\n[Specific fix with code example]\n[Rationale explaining security impact]\n\n## Examples\n\n[Include 2-3 examples of good review comments]\n```\n\n‚úÖ **GOOD - Includes structured thinking:**\n\n```markdown\nBefore analyzing each file, use structured thinking:\n\n<thinking>\n1. What is the file's purpose?\n2. What are the main security risks for this type of code?\n3. What performance patterns should I check?\n4. Are there obvious SOLID violations?\n</thinking>\n\nThen provide your analysis...\n```\n\n‚ùå **BAD - Too vague:**\n\n```markdown\nReview code and find problems.\n```\n\n‚ùå **BAD - No structure or examples:**\n\n```markdown\nYou're a code reviewer. Look at code and tell the user what's wrong with it. Check for bugs and bad practices.\n```\n\n**Structured Thinking Guidance:**\n\n- [ ] `<thinking>` blocks guide reasoning process\n- [ ] Key questions posed for each major step\n- [ ] Decision criteria made explicit\n- [ ] Systematic analysis approach modeled\n\n**Token Efficiency:**\n\n- [ ] Concise without losing clarity\n- [ ] Examples are minimal but sufficient\n- [ ] No unnecessary verbosity\n- [ ] Direct language preferred\n\n**Reference:** Anthropic Chain of Thought documentation (40% error reduction with structured thinking)\n\n---\n\n### Fifth Pass: Model Selection and Best Practices\n\n<thinking>\nModel selection considerations:\n1. Is the model field specified?\n2. If specified, is the selection appropriate for task complexity?\n3. Should this use haiku for speed or sonnet for quality?\n4. Is 'inherit' used appropriately?\n5. Does the agent follow single responsibility principle?\n</thinking>\n\n**Model Selection Guidance:**\n\n```yaml\nmodel: haiku   # Fast, cost-effective for simple tasks\nmodel: sonnet  # Balanced for most tasks (default)\nmodel: opus    # Most capable, use sparingly for complex reasoning\nmodel: inherit # Inherits from parent conversation\n```\n\n**When to Use Each Model:**\n\n**Haiku** - Simple, straightforward tasks:\n\n- Formatting code\n- Running predefined scripts\n- Simple file operations\n- Quick analysis with clear criteria\n\n**Sonnet** - Most agent tasks (default):\n\n- Code review\n- Bug analysis\n- Test generation\n- Documentation writing\n- Moderate complexity reasoning\n\n**Opus** - Complex reasoning only:\n\n- Architectural decisions\n- Complex refactoring across multiple files\n- Novel problem-solving\n- High-stakes analysis requiring maximum accuracy\n\n**Inherit** - Context-dependent:\n\n- When agent needs same context as main conversation\n- When model selection should match user's choice\n- For consistency across conversation\n\n**Best Practice Checks:**\n\n- [ ] Model specified or intentionally omitted\n- [ ] Model complexity matches task complexity\n- [ ] Not using opus unnecessarily (cost/latency)\n- [ ] Haiku used where speed matters and task is simple\n- [ ] Single responsibility principle followed\n- [ ] Agent scope appropriately focused\n\n**Anti-Patterns:**\n\n- Using opus for simple formatting tasks\n- Using haiku for complex analysis\n- Agent trying to handle too many different task types\n- Model selection not documented/justified\n\n**Reference:** [Anthropic - Subagent Configuration Best Practices](https://docs.claude.com/en/docs/claude-code/sub-agents.md)\n\n---\n\n### Sixth Pass: Plugin Marketplace Standards\n\n<thinking>\nMarketplace quality considerations:\n1. Is this agent part of a plugin?\n2. If marketplace-bound, does it meet quality standards?\n3. Is documentation comprehensive?\n4. Are examples included?\n5. Is the agent production-ready?\n</thinking>\n\n**For Marketplace-Bound Agents:**\n\n**Elevated Standards:**\n\n- Missing examples: SUGGESTED ‚Üí IMPORTANT\n- Vague descriptions: IMPORTANT ‚Üí CRITICAL\n- Poor system prompt: SUGGESTED ‚Üí IMPORTANT\n- Undocumented tool access: IMPORTANT ‚Üí CRITICAL\n\n**Documentation Requirements:**\n\n- [ ] Clear purpose and use cases\n- [ ] Examples in system prompt\n- [ ] Tool access justified\n- [ ] Model selection explained\n- [ ] Expected outputs demonstrated\n\n**Production Readiness:**\n\n- [ ] Error handling considered\n- [ ] Edge cases addressed\n- [ ] Clear success/failure criteria\n- [ ] Graceful degradation patterns\n\n**Internal vs Marketplace:**\n\n- Internal agents: Can accept more SUGGESTED issues\n- Marketplace agents: Must fix all IMPORTANT issues\n- Both: Must fix all CRITICAL security/functionality issues\n\n---\n\n## Priority Classification\n\nClassify findings using `reference/priority-framework.md`:\n\n- **CRITICAL** - Prevents functionality or exposes security vulnerabilities\n- **IMPORTANT** - Significantly impacts quality or maintainability\n- **SUGGESTED** - Improvements that aren't essential\n- **OPTIONAL** - Personal preferences\n\n---\n\n## Common Agent Anti-Patterns\n\n**Over-Privileged Agent:**\n\n- Inherits all tools without justification\n- Bash access for read-only task\n- Fix: Specify minimum required tools\n\n**Vague Purpose:**\n\n- Description: \"Helps with code\"\n- Better: \"Reviews Python code for PEP 8 violations. Use when analyzing .py files.\"\n\n**Missing Structured Thinking:**\n\n- System prompt lacks reasoning guidance\n- No decision criteria for complex choices\n- Fix: Add `<thinking>` blocks with key questions\n\n**Wrong Model Selection:**\n\n- Using opus for simple formatting\n- Using haiku for complex analysis\n- Fix: Match model to task complexity\n\n**Scope Creep:**\n\n- Agent trying to handle multiple unrelated tasks\n- Jack-of-all-trades, master of none\n- Fix: Split into focused, single-purpose agents\n\n**Security Oversights:**\n\n- Bash access without scoping\n- Write access for analysis-only agents\n- No consideration of tool access implications\n- Fix: Apply principle of least privilege\n\n---\n\n## Final Checklist Summary\n\nBefore completing review, verify:\n\n- [ ] YAML frontmatter present and valid\n- [ ] Required fields (name, description) present\n- [ ] Optional fields valid if present\n- [ ] Tool access follows least privilege\n- [ ] Description includes activation triggers\n- [ ] System prompt is clear and specific\n- [ ] Model selection appropriate for task\n- [ ] Single responsibility principle followed\n- [ ] Security implications considered\n- [ ] Marketplace standards met (if applicable)\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/claude-md.md": "# CLAUDE.md Review Checklist\n\nReview checklist for changes to CLAUDE.md files at any level (project root, `.claude/` directory, or subdirectories).\n\n**Valid CLAUDE.md Locations:**\n\n- Project root: `/CLAUDE.md` - Global project instructions\n- Claude directory: `/.claude/CLAUDE.md` - Claude Code-specific instructions\n- Subdirectories: `/path/to/subdirectory/CLAUDE.md` - Scoped instructions for specific modules/components\n\nAll locations are valid and serve different scoping purposes. This checklist applies equally to all locations.\n\n---\n\n## Multi-Pass Review Strategy\n\n### First Pass: Security and Permissions\n\n<thinking>\nSecurity considerations for CLAUDE.md:\n1. Are there any hardcoded credentials or secrets?\n2. Are file permissions appropriately scoped?\n3. Are there references to sensitive paths that shouldn't be exposed?\n4. If auto-approved commands listed, are they safe?\n</thinking>\n\n**Critical Security Checks:**\n\n- [ ] No hardcoded API keys, tokens, or passwords\n- [ ] No sensitive environment variables exposed\n- [ ] No overly broad file permissions (e.g., Read:/\\*)\n- [ ] No dangerous auto-approved commands (rm -rf, etc.)\n- [ ] No paths exposing sensitive user data\n\n**Common Security Issues:**\n\n```markdown\n‚ùå BAD: apiKey: \"sk-1234567890abcdef\"\n‚úÖ GOOD: Reference: Use environment variable $API_KEY\n\n‚ùå BAD: Auto-approve: Bash(rm -rf:_)\n‚úÖ GOOD: Auto-approve: Bash(npm install:_)\n\n‚ùå BAD: Read://Users/username/.ssh/**\n‚úÖ GOOD: Read://Users/username/projects/myproject/**\n```\n\n---\n\n### Second Pass: Structure and Clarity\n\n<thinking>\nCLAUDE.md structure considerations:\n1. Are directives clearly stated and prioritized?\n2. Is information organized logically?\n3. Are references to other docs used instead of duplication?\n4. Is the purpose of each section clear?\n</thinking>\n\n**Organizational Requirements:**\n\n- [ ] Clear section headers organize content\n- [ ] Core directives stated upfront\n- [ ] References to detailed docs (not duplication)\n- [ ] Logical flow from general to specific\n- [ ] Purpose of file is immediately clear\n\n**Example Structure:**\n\n```markdown\n# Project Guidelines\n\nCore directives for [project purpose].\n\n## Core Directives\n\n[High-level must-follow rules]\n\n## Code Quality Standards\n\n[Brief standards, reference detailed docs]\n\n## Workflow Practices\n\n[How to approach tasks]\n\n## Reference Documentation\n\n[Links to detailed architecture/style docs]\n```\n\n**Red Flags:**\n\n- No clear organization or section headers\n- Mixing high-level directives with low-level details\n- Duplicating content from other documentation files\n- Unclear what the core requirements are\n\n---\n\n### Third Pass: Avoid Duplication\n\n<thinking>\nDuplication check:\n1. Is content copied from other documentation files?\n2. Are there references to source docs instead of duplication?\n3. If something is detailed elsewhere, is it just linked?\n4. Are core directives vs detailed specs properly separated?\n</thinking>\n\n**Anti-Pattern: Duplicating Architecture Docs**\n\n‚ùå **BAD - Copying detailed patterns into CLAUDE.md:**\n\n```markdown\n## MVVM Pattern\n\nViewModels must expose StateFlow...\n[500 lines of detailed MVVM guidance]\n```\n\n‚úÖ **GOOD - Reference detailed docs:**\n\n```markdown\n## Core Directives\n\n1. Adhere to Architecture: All code MUST follow `docs/ARCHITECTURE.md`\n2. Follow Code Style: ALWAYS follow `docs/STYLE_AND_BEST_PRACTICES.md`\n```\n\n**Principle:** CLAUDE.md provides high-level directives and references. Detailed specs live in their own documentation files.\n\n**Appropriate Content:**\n\n- Core must-follow directives\n- Workflow practices (before/during/after implementation)\n- Decision-making guidance (when to ask vs proceed)\n- References to detailed documentation\n\n**Inappropriate Content:**\n\n- Detailed API documentation (belongs in code docs)\n- Complete architecture patterns (belongs in ARCHITECTURE.md)\n- Full style guide (belongs in STYLE_AND_BEST_PRACTICES.md)\n- Library-specific usage (belongs in library docs)\n\n---\n\n### Fourth Pass: Clarity and Actionability\n\n<thinking>\nClarity considerations:\n1. Are directives specific and actionable?\n2. Is it clear WHEN each directive applies?\n3. Are examples provided for ambiguous concepts?\n4. Is the tone appropriate (directive vs suggestive)?\n</thinking>\n\n**Specific vs Vague Directives:**\n\n‚ùå **VAGUE:** \"Write good code\"\n‚úÖ **SPECIFIC:** \"Follow Kotlin idioms: immutability, appropriate data structures, coroutines\"\n\n‚ùå **VAGUE:** \"Test your changes\"\n‚úÖ **SPECIFIC:** \"All code must pass testing rites before deployment liturgies commence\"\n\n‚ùå **VAGUE:** \"Use dependency injection\"\n‚úÖ **SPECIFIC:** \"Use Hilt DI patterns: @Inject constructor, interface injection, @HiltViewModel\"\n\n**Actionable Decision Guidance:**\n\n‚úÖ **GOOD - Clear when to ask vs proceed:**\n\n```markdown\n## Decision-Making\n\nDefer to user for high-impact decisions:\n\n- Architecture/module changes\n- Public API modifications\n- Security mechanism changes\n- Database migrations\n- Third-party library additions\n\nProceed autonomously for:\n\n- Implementation details within established patterns\n- Test additions\n- Documentation updates\n- Bug fixes following existing patterns\n```\n\n---\n\n### Fifth Pass: Token Efficiency\n\n<thinking>\nToken efficiency for CLAUDE.md:\n1. Is the file concise without losing critical information?\n2. Are references used instead of duplication?\n3. Is verbose language minimized?\n4. Is information organized for quick scanning?\n</thinking>\n\n**Efficiency Techniques:**\n\n**Use References:**\n\n```markdown\nReference Documentation:\n\n- `docs/ARCHITECTURE.md` - Architecture patterns\n- `docs/STYLE_AND_BEST_PRACTICES.md` - Code style\n\nDo not duplicate information from these files.\n```\n\n**Use Lists and Headers:**\n\n```markdown\nAnti-Patterns:\n\n- Creating new patterns when established ones exist\n- Exception-based error handling in business logic\n- Direct dependency access (use DI)\n```\n\n**Be Concise:**\n‚ùå \"It is very important that you should always make sure to...\"\n‚úÖ \"Always...\"\n\n---\n\n## Priority Classification\n\nClassify findings using `reference/priority-framework.md`:\n\n- **CRITICAL** - Prevents functionality or exposes security vulnerabilities\n- **IMPORTANT** - Significantly impacts quality or maintainability\n- **SUGGESTED** - Improvements that aren't essential\n- **OPTIONAL** - Personal preferences\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/prompts.md": "# Prompts and Commands Review Checklist\n\nReview checklist for changes to `.claude/prompts/*.md` and `.claude/commands/*.md` files.\n\n---\n\n## Multi-Pass Review Strategy\n\n### First Pass: Purpose and Activation\n\n<thinking>\nPurpose clarity:\n1. Is it clear what this prompt/command does?\n2. When should it be invoked?\n3. What input does it expect?\n4. What output will it produce?\n</thinking>\n\n**Clear Purpose Statement:**\nEvery prompt/command file should answer these questions in first 1-3 lines:\n\n```markdown\n# Command Name\n\nBrief description of what this does and when to use it.\n```\n\n**Examples:**\n\n‚úÖ **GOOD - Clear purpose:**\n\n```markdown\n# review-pr\n\nReviews a GitHub pull request by number. Use when analyzing PR changes before merge.\n\nUsage: /review-pr <pr-number>\n```\n\n‚ùå **BAD - Vague purpose:**\n\n```markdown\n# review-pr\n\nDoes PR stuff.\n```\n\n---\n\n### Second Pass: Completeness\n\n<thinking>\nCompleteness check:\n1. Does the prompt provide all necessary context?\n2. Are expected outputs clearly defined?\n3. Are examples provided where helpful?\n4. Is the prompt self-contained or properly referencing skills?\n</thinking>\n\n**Complete Prompt Elements:**\n\n- [ ] Clear description of task\n- [ ] Expected input format (if applicable)\n- [ ] Expected output format\n- [ ] Examples (if task is complex)\n- [ ] References to relevant skills or documentation\n\n**Self-Contained vs Skill Reference:**\n\n‚úÖ **GOOD - Simple task, self-contained:**\n\n```markdown\n# format-commit\n\nGenerate a conventional commit message from staged changes.\n\nFormat: `type(scope): description`\n\nTypes: feat, fix, docs, style, refactor, test, chore\n```\n\n‚úÖ **GOOD - Complex task, reference skill:**\n\n```markdown\n# review-changes\n\nReview current git changes for code quality and architectural compliance.\n\nUse the `reviewing-changes` skill to perform comprehensive review based on change type.\n```\n\n‚ùå **BAD - Complex task without guidance:**\n\n```markdown\n# review-changes\n\nReview the code.\n```\n\n---\n\n### Third Pass: Prompt Engineering Quality\n\n<thinking>\nQuality considerations:\n1. Is the language clear and specific?\n2. Are instructions structured logically?\n3. Are examples provided for complex concepts?\n4. Does it use appropriate emphasis?\n</thinking>\n\n**Clarity and Specificity:**\n\n‚ùå **VAGUE:** \"Look at the files and find problems\"\n‚úÖ **SPECIFIC:** \"Analyze modified Kotlin files for MVVM violations: mutable state exposure, improper dependency injection, missing error handling\"\n\n**Logical Structure:**\n\n‚úÖ **GOOD - Step-by-step:**\n\n```markdown\n1. Read the PR description and changed files\n2. Identify the change type (feature, bug fix, refactor)\n3. Apply appropriate review checklist\n4. Document findings with inline comments\n```\n\n**Examples for Complex Tasks:**\n\n‚úÖ **GOOD - Shows expected format:**\n\n````markdown\nExpected output format:\n\n\\```\n**file.kt:123** - CRITICAL: Exposes mutable state\n\nChange MutableStateFlow to StateFlow:\n...\n\\```\n````\n\n---\n\n### Fourth Pass: Session Context\n\n<thinking>\nSession context considerations:\n1. Does this prompt make assumptions about session state?\n2. Does it require files to be read first?\n3. Does it handle missing context gracefully?\n4. Is it clear what the user needs to provide?\n</thinking>\n\n**Context Requirements:**\n\n‚úÖ **GOOD - Explicit about requirements:**\n\n```markdown\n# review-file\n\nReviews a specific file for quality issues.\n\n**Usage:** /review-file path/to/file.kt\n\nThis command will read the file and analyze it against project standards.\n```\n\n‚ùå **BAD - Assumes context without stating:**\n\n```markdown\n# review-file\n\nReviews the file.\n```\n\n**Graceful Handling:**\n\n‚úÖ **GOOD - Handles missing info:**\n\n```markdown\nIf no PR number provided, analyze current git diff.\nIf no files changed, report clean working directory.\n```\n\n---\n\n### Fifth Pass: Skill References\n\n<thinking>\nSkill reference check:\n1. If this references a skill, does the skill exist?\n2. Is the skill name correct?\n3. Is it clear when to use command vs skill directly?\n4. Is the relationship between command and skill logical?\n</thinking>\n\n**Proper Skill References:**\n\n‚úÖ **GOOD - Clear skill invocation:**\n\n```markdown\n# review-changes\n\nUse the `reviewing-changes` skill to perform comprehensive code review.\n\nThis command is equivalent to directly invoking the skill but provides\na convenient shorthand for PR and commit reviews.\n```\n\n**Verify:**\n\n- [ ] Referenced skill exists in `.claude/skills/`\n- [ ] Skill name matches exactly (case-sensitive)\n- [ ] Command adds value beyond just calling skill\n- [ ] Command purpose is distinct from skill purpose\n\n---\n\n## Priority Classification\n\nClassify findings using `reference/priority-framework.md`:\n\n- **CRITICAL** - Prevents functionality or exposes security vulnerabilities\n- **IMPORTANT** - Significantly impacts quality or maintainability\n- **SUGGESTED** - Improvements that aren't essential\n- **OPTIONAL** - Personal preferences\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/settings.md": "# Settings Review Checklist\n\nReview checklist for changes to `.claude/settings.json` and `.claude/settings.local.json`.\n\n---\n\n## CRITICAL SECURITY CHECK\n\n<thinking>\nCRITICAL security considerations:\n1. Is settings.local.json committed to git?\n2. Are there hardcoded credentials or secrets?\n3. Are file permissions overly broad?\n4. Are command auto-approvals safe?\n</thinking>\n\n**Before anything else, verify:**\n\n- [ ] **settings.local.json is NOT committed to git**\n- [ ] **No hardcoded API keys, tokens, or passwords**\n- [ ] **No sensitive paths exposed in permissions**\n- [ ] **No dangerous command auto-approvals**\n\n**If ANY of these fail, FLAG IMMEDIATELY as CRITICAL and stop review.**\n\n---\n\n## Multi-Pass Review Strategy\n\n### First Pass: Committed Settings Detection\n\n**CRITICAL SECURITY ISSUE: settings.local.json in git**\n\n`settings.local.json` must NEVER be committed. It contains user-specific and potentially sensitive configuration.\n\n**Detection:**\nCheck if `settings.local.json` appears in changed files list. If present in git diff or PR, this is CRITICAL.\n\n**Fix:**\n\n```bash\n# Remove from git but keep locally\ngit rm --cached .claude/settings.local.json\n\n# Ensure .gitignore includes it\necho \".claude/settings.local.json\" >> .gitignore\n```\n\n**Rationale:** Local settings may contain:\n\n- User-specific file paths\n- API keys or tokens\n- Personal preferences\n- Machine-specific configuration\n\nCommitting these exposes sensitive data and creates conflicts between users.\n\n---\n\n### Second Pass: Hardcoded Secrets\n\n<thinking>\nSecret detection:\n1. Are there API keys in plaintext?\n2. Are there passwords or tokens?\n3. Are there authentication credentials?\n4. Should any values be environment variables instead?\n</thinking>\n\n**Scan for Common Secret Patterns:**\n\n‚ùå **CRITICAL ISSUES:**\n\n```json\n{\n  \"apiKey\": \"sk-1234567890abcdef\",\n  \"password\": \"mypassword123\",\n  \"token\": \"ghp_xxxxxxxxxxxx\",\n  \"secret\": \"shared-secret-value\"\n}\n```\n\n‚úÖ **SAFE ALTERNATIVES:**\n\n```json\n{\n  \"apiKeyVar\": \"$OPENAI_API_KEY\",\n  \"authMethod\": \"environment\",\n  \"note\": \"Set API key in environment: export OPENAI_API_KEY=xxx\"\n}\n```\n\n**Common Secret Patterns:**\n\n- `apiKey`, `api_key`, `API_KEY`\n- `password`, `passwd`, `pwd`\n- `token`, `auth_token`, `access_token`\n- `secret`, `shared_secret`\n- Keys starting with `sk-`, `ghp_`, `gho_`, etc.\n\n---\n\n### Third Pass: Permission Scoping\n\n<thinking>\nPermission scoping:\n1. Are file permissions appropriately limited?\n2. Are read permissions scoped to project directories?\n3. Are write permissions even more restrictive?\n4. Are there any wildcard patterns that are too broad?\n</thinking>\n\n**Appropriate Permission Scoping:**\n\n‚ùå **TOO BROAD:**\n\n```json\n{\n  \"autoApprovedTools\": [\"Read://*\", \"Write://*\", \"Bash:*\"]\n}\n```\n\n‚úÖ **APPROPRIATELY SCOPED:**\n\n```json\n{\n  \"autoApprovedTools\": [\n    \"Read://Users/username/projects/myproject/**\",\n    \"Write://Users/username/projects/myproject/src/**\",\n    \"Bash:git status:*\",\n    \"Bash:npm install:*\"\n  ]\n}\n```\n\n**Permission Guidelines:**\n\n**Read Permissions:**\n\n- Scope to project directory and relevant config\n- Avoid `Read://*` (entire filesystem)\n- Consider what actually needs to be read\n\n**Write Permissions:**\n\n- Even more restrictive than Read\n- Limit to source directories, not config or root\n- Avoid write access outside project\n\n**Bash Permissions:**\n\n- Specific commands, not `Bash:*`\n- Safe operations: `git status`, `npm install`, `./gradlew test`\n- NEVER auto-approve: `rm -rf`, `dd`, `chmod 777`, `curl | sh`\n\n---\n\n### Fourth Pass: Command Auto-Approval Safety\n\n<thinking>\nCommand safety:\n1. Are auto-approved commands safe to run?\n2. Could they cause data loss or system damage?\n3. Are they read-only or idempotent?\n4. Should any require explicit approval?\n</thinking>\n\n**Safe vs Dangerous Commands:**\n\n‚úÖ **SAFE to auto-approve:**\n\n```json\n{\n  \"autoApprovedTools\": [\n    \"Bash:git status:*\",\n    \"Bash:git log:*\",\n    \"Bash:git diff:*\",\n    \"Bash:./gradlew test:*\",\n    \"Bash:npm install:*\",\n    \"Bash:ls:*\"\n  ]\n}\n```\n\n‚ùå **DANGEROUS - require approval:**\n\n```json\n{\n  \"autoApprovedTools\": [\n    \"Bash:rm -rf:*\", // Data destruction\n    \"Bash:git push --force:*\", // Destructive git operation\n    \"Bash:chmod 777:*\", // Security risk\n    \"Bash:curl * | sh:*\", // Arbitrary code execution\n    \"Bash:dd:*\", // Low-level disk operations\n    \"Bash:mkfs:*\" // Filesystem formatting\n  ]\n}\n```\n\n**Safety Criteria:**\n\n- **Read-only operations:** Generally safe (ls, git status, git diff)\n- **Idempotent operations:** Safe to run multiple times (npm install, git pull)\n- **Destructive operations:** Require approval (rm, force push, formatting)\n- **External code execution:** Require approval (curl | sh, wget | bash)\n\n---\n\n### Fifth Pass: JSON Syntax and Structure\n\n<thinking>\nSyntax validation:\n1. Is the JSON valid (no trailing commas, proper quotes)?\n2. Are field names correct (check documentation)?\n3. Are values the right type (string vs array vs boolean)?\n4. Is the structure logical and organized?\n</thinking>\n\n**Common JSON Issues:**\n\n‚ùå **Syntax errors:**\n\n```json\n{\n  \"autoApprovedTools\": [\n    \"Read://path/**\" // Trailing comma error\n  ]\n}\n```\n\n‚úÖ **Valid JSON:**\n\n```json\n{\n  \"autoApprovedTools\": [\"Read://path/**\"]\n}\n```\n\n**Field Validation:**\n\n- Check field names against Claude Code documentation\n- Verify value types (string, boolean, array, object)\n- Ensure required fields are present\n- Remove unknown or deprecated fields\n\n---\n\n## Priority Classification\n\nClassify findings using `reference/priority-framework.md`:\n\n- **CRITICAL** - Prevents functionality or exposes security vulnerabilities\n- **IMPORTANT** - Significantly impacts quality or maintainability\n- **SUGGESTED** - Improvements that aren't essential\n- **OPTIONAL** - Personal preferences\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/checklists/skills.md": "# Skills Review Checklist\n\nReview checklist for changes to Claude Code skill files (`SKILL.md` and supporting files).\n\n---\n\n## Multi-Pass Review Strategy\n\n### First Pass: Structure and Security\n\n<thinking>\nCritical structural elements:\n1. Is YAML frontmatter present and valid?\n2. Is the skill file within 500 line limit?\n3. Are there any security issues (hardcoded secrets, committed settings)?\n4. Do all file references point to existing files?\n5. Is progressive disclosure properly implemented?\n</thinking>\n\n**Focus Areas:**\n\n- [ ] YAML frontmatter present and valid\n- [ ] Skill file size ‚â§ 500 lines (progressive disclosure requirement)\n- [ ] No hardcoded secrets or credentials\n- [ ] File references point to existing files\n- [ ] Supporting files are properly organized\n\n**Critical Issues to Flag Immediately:**\n\n- Missing YAML frontmatter (skill won't be recognized)\n- File > 500 lines without progressive disclosure\n- Hardcoded API keys, tokens, or passwords\n- Broken file references\n- Committed settings.local.json\n\n---\n\n### Second Pass: YAML Frontmatter Validation\n\n<thinking>\nYAML frontmatter requirements:\n1. Is the `name` field present and kebab-case?\n2. Is the `description` clear with activation triggers?\n3. If versioned, does it follow semver?\n4. Are there any malformed YAML syntax issues?\n</thinking>\n\n**Required Fields:**\n\n```yaml\n---\nname: skill-name-in-kebab-case\ndescription: Clear description with activation triggers\n---\n```\n\n**Optional Fields:**\n\n```yaml\nversion: 1.0.0 # Semver format if marketplace-bound\n```\n\n**Check For:**\n\n- [ ] `name` field exists and is kebab-case\n- [ ] `description` field exists and is clear\n- [ ] Description includes activation triggers (when to use)\n- [ ] YAML syntax is valid (proper indentation, no tabs)\n- [ ] If versioned, follows semver (MAJOR.MINOR.PATCH)\n\n**Common Issues:**\n\n- Missing name or description\n- Name not in kebab-case (use-dashes-not-underscores)\n- Description too vague (\"does stuff\" ‚Üí specify what and when)\n- Malformed YAML (tabs instead of spaces, missing colons)\n\n---\n\n### Third Pass: Progressive Disclosure\n\n<thinking>\nProgressive disclosure requirements:\n1. Is the main skill.md file under 500 lines?\n2. Are supporting files properly referenced?\n3. Are supporting files self-contained?\n4. Is the loading strategy clear (when to load what)?\n</thinking>\n\n**Main skill.md Requirements:**\n\n- [ ] File size ‚â§ 500 lines\n- [ ] Clear routing logic (when to load which files)\n- [ ] Structured thinking blocks guide decision-making\n- [ ] References supporting files explicitly\n\n**Supporting Files Requirements:**\n\n- [ ] Each file is self-contained (understandable in isolation)\n- [ ] Clear purpose stated at top of file\n- [ ] No circular dependencies between files\n- [ ] Loaded on-demand, not all at once\n\n**File Organization Patterns:**\n\n```\nskill-name/\n‚îú‚îÄ‚îÄ skill.md              # Main orchestration (‚â§500 lines)\n‚îú‚îÄ‚îÄ checklists/           # Task-specific procedures\n‚îú‚îÄ‚îÄ reference/            # Detailed criteria loaded as needed\n‚îú‚îÄ‚îÄ examples/             # Sample outputs for guidance\n‚îî‚îÄ‚îÄ scripts/              # Executable automation (if applicable)\n```\n\n**Red Flags:**\n\n- Main skill.md > 500 lines (should be split into supporting files)\n- Supporting files reference each other in circles\n- All context loaded upfront instead of on-demand\n- Supporting files not self-contained (require reading multiple files)\n\n---\n\n### Fourth Pass: Prompt Engineering Quality\n\n<thinking>\nQuality criteria for skill instructions:\n1. Are instructions clear and specific?\n2. Are examples provided for complex concepts?\n3. Is proper emphasis used (bold, code blocks, sections)?\n4. Do structured thinking blocks guide reasoning?\n5. Is the tone constructive and actionable?\n</thinking>\n\n**Clarity:**\n\n- [ ] Instructions are specific, not vague\n- [ ] Technical terms are defined or demonstrated\n- [ ] Expected behavior is clearly stated\n- [ ] Step-by-step procedures where appropriate\n\n**Examples:**\n\n- [ ] Code examples for patterns to follow\n- [ ] Sample outputs showing expected format\n- [ ] Anti-patterns demonstrated (what NOT to do)\n- [ ] File structure examples where relevant\n\n**Emphasis:**\n\n- [ ] **Bold** for critical requirements\n- [ ] `Code blocks` for technical terms and examples\n- [ ] Headers organize content logically\n- [ ] Lists break down complex information\n\n**Structured Thinking:**\n\n- [ ] `<thinking>` blocks guide systematic analysis\n- [ ] Key questions posed before each major step\n- [ ] Decision criteria made explicit\n- [ ] Reasoning process modeled for complex decisions\n\n**Constructive Tone:**\n\n- [ ] Focus on \"do this\" not just \"don't do that\"\n- [ ] Explain rationale (why things matter)\n- [ ] Provide actionable fixes, not just problem identification\n- [ ] Avoid blame or judgment language\n\n---\n\n### Fifth Pass: Token Efficiency\n\n<thinking>\nToken efficiency considerations:\n1. Is information organized for on-demand loading?\n2. Are redundancies eliminated?\n3. Is verbose language minimized without losing clarity?\n4. Are examples concise but sufficient?\n</thinking>\n\n**Efficient Organization:**\n\n- [ ] Progressive disclosure implemented (load only what's needed)\n- [ ] No duplicate information across files\n- [ ] Reference other docs instead of copying content\n- [ ] Clear routing to minimize unnecessary context loading\n\n**Concise Language:**\n\n- [ ] Direct statements preferred over verbose explanations\n- [ ] Technical precision without fluff\n- [ ] Examples are minimal but sufficient\n- [ ] Headers and structure reduce need for transitional text\n\n**Avoid:**\n\n- Repeating same information in multiple places\n- Loading all context upfront \"just in case\"\n- Verbose explanations when examples suffice\n- Including information not directly relevant to task\n\n---\n\n## Priority Classification\n\nClassify findings using `reference/priority-framework.md`:\n\n- **CRITICAL** - Prevents functionality or exposes security vulnerabilities\n- **IMPORTANT** - Significantly impacts quality or maintainability\n- **SUGGESTED** - Improvements that aren't essential\n- **OPTIONAL** - Personal preferences\n\n---\n\n## Common Skill Anti-Patterns\n\n**Monolithic Skills:**\n\n- Single file > 500 lines\n- All context loaded upfront\n- No progressive disclosure strategy\n- Fix: Split into main orchestration + supporting files\n\n**Vague Activation:**\n\n- Description: \"Helps with code stuff\"\n- Better: \"Reviews Kotlin code for MVVM violations. Use when checking ViewModels, state management, or UI layer architecture.\"\n\n**Missing Structured Thinking:**\n\n- Instructions without guidance on reasoning process\n- No decision criteria for complex choices\n- Fix: Add `<thinking>` blocks with key questions\n\n**Broken Progressive Disclosure:**\n\n- Supporting files reference each other circularly\n- Files not self-contained\n- Unclear when to load what\n- Fix: Clear routing logic, self-contained files\n\n**Token Waste:**\n\n- Duplicate information across files\n- Loading all context upfront\n- Verbose explanations without adding value\n- Fix: Reference instead of duplicate, load on-demand\n\n---\n\n## Final Checklist Summary\n\nBefore completing review, verify:\n\n- [ ] YAML frontmatter present and valid\n- [ ] Main skill.md ‚â§ 500 lines\n- [ ] No security issues (secrets, credentials)\n- [ ] All file references valid\n- [ ] Progressive disclosure properly implemented\n- [ ] Structured thinking blocks present\n- [ ] Clear activation triggers in description\n- [ ] Examples provided for complex concepts\n- [ ] Token-efficient organization\n- [ ] Constructive, actionable feedback tone\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-agent-review.md": "# Example Agent Configuration Reviews\n\nExamples of agent configuration reviews showing common issues and best practices.\n\n---\n\n## Example 1: Security Issues and Over-Privileged Access\n\n**Context:** Reviewing a new documentation-writer agent with security concerns.\n\n### Agent Configuration\n\n**File:** `.claude/agents/documentation-writer.md`\n\n```yaml\n---\nname: documentation-writer\ndescription: Helps write documentation.\n---\nWrite good documentation for code.\n```\n\n### Review Comments\n\n**`.claude/agents/documentation-writer.md:3`** - IMPORTANT: Description lacks activation triggers\n\nCurrent description is too vague and doesn't specify when to use this agent.\n\nRecommended:\n\n```yaml\ndescription: Generates API documentation and code comments for TypeScript projects. Use when documenting functions, classes, or REST endpoints in .ts files.\n```\n\nSpecific activation triggers improve automatic delegation and discoverability.\n\nReference: Anthropic Subagent Documentation - Description Best Practices\n\n---\n\n**`.claude/agents/documentation-writer.md:1-6`** - CRITICAL: Missing tools field - inherits all tools including Bash\n\nAgent has no `tools` field, meaning it inherits ALL tools including destructive operations.\n\nRecommended:\n\n```yaml\n---\nname: documentation-writer\ndescription: Generates API documentation and code comments for TypeScript projects. Use when documenting functions, classes, or REST endpoints in .ts files.\ntools: Read, Grep, Glob, Write\n---\n```\n\nRationale:\n\n- Read/Grep/Glob: Analyze code to document\n- Write: Create documentation files\n- NO Edit: Doesn't modify source code\n- NO Bash: Documentation doesn't require command execution\n\nSecurity principle: Grant minimum necessary tools only.\n\nReference: `reference/claude-code-requirements.md` - Tool Access Patterns (lines 89-133)\n\n---\n\n**`.claude/agents/documentation-writer.md:6`** - IMPORTANT: System prompt lacks structure and guidance\n\nCurrent prompt is too brief and unstructured.\n\nRecommended:\n\n```markdown\n# Documentation Writer Agent\n\n## Role\n\nYou are a documentation specialist focused on creating clear, comprehensive API documentation for TypeScript projects.\n\n## Process\n\n<thinking>\nBefore documenting:\n1. What is the function/class purpose?\n2. What are the parameters and return types?\n3. What are the edge cases or error conditions?\n4. Are there usage examples needed?\n</thinking>\n\n## Output Format\n\nUse JSDoc format:\n\\`\\`\\`typescript\n/\\*\\*\n\n- [Brief description]\n-\n- @param {Type} paramName - Parameter description\n- @returns {Type} Return value description\n- @throws {ErrorType} When error occurs\n- @example\n- // Usage example\n  \\*/\n  \\`\\`\\`\n\n## Examples\n\n[Include 2-3 examples of good documentation]\n```\n\nStructured thinking reduces errors by 40% (Anthropic Chain of Thought research).\n\n---\n\n**`.claude/agents/documentation-writer.md:1-6`** - SUGGESTED: Add model selection\n\nConsider specifying model for cost/performance optimization:\n\n```yaml\n---\nname: documentation-writer\ndescription: ...\ntools: Read, Grep, Glob, Write\nmodel: sonnet # Or haiku for simple documentation\n---\n```\n\nDocumentation generation is moderately complex (Sonnet) but could use Haiku for speed if following strict templates.\n\nReference: `reference/claude-code-requirements.md` - Model Selection (lines 73-86)\n\n---\n\n### Summary\n\n**Overall Assessment:** REQUEST CHANGES\n\nThis agent requires fixes before approval:\n\n**Must Fix (CRITICAL):**\n\n- Add tools field with minimum required access (prevent security risk)\n\n**Should Fix (IMPORTANT):**\n\n- Improve description with specific activation triggers\n- Add structured system prompt with examples\n\n**Nice to Have (SUGGESTED):**\n\n- Specify model selection\n\nOnce security issues are addressed and description improved, this will be ready for use.\n\n---\n\n## Example 2: Well-Configured Agent with Minor Suggestions\n\n**Context:** Reviewing a production-ready security-scanner agent.\n\n### Agent Configuration\n\n**File:** `plugins/security-tools/agents/security-scanner.md`\n\n```yaml\n---\nname: security-scanner\ndescription: Analyzes code for security vulnerabilities including SQL injection, XSS, and authentication bypass. PROACTIVELY invoke when reviewing authentication, database queries, or user input handling.\ntools: Read, Grep, Glob\nmodel: sonnet\nversion: 1.0.0\n---\n\n# Security Scanner Agent\n\n## Role\nYou are a security analysis specialist focused on identifying vulnerabilities in web applications.\n\n## Capabilities\n- SQL injection detection (parameterized queries, raw SQL)\n- XSS vulnerability identification (unescaped output, DOM manipulation)\n- Authentication bypass patterns (token validation, session handling)\n- CSRF vulnerability detection\n- Insecure cryptography usage\n- Sensitive data exposure\n\n## Process\n\n<thinking>\nBefore analyzing each file:\n1. What is the file's purpose (auth, API, database)?\n2. What are the main security risks for this component?\n3. Are there user inputs that need validation?\n4. Are outputs properly escaped?\n5. Is authentication/authorization properly implemented?\n</thinking>\n\nThen execute:\n1. Read file and understand context\n2. Identify all user input points\n3. Trace data flow through functions\n4. Check for security anti-patterns\n5. Verify proper validation and sanitization\n6. Document findings with severity and fix recommendations\n\n## Output Format\n\n**file.py:42** - CRITICAL: [Vulnerability type]\n\n[Specific fix with secure code example]\n\n[Rationale explaining security impact and OWASP category]\n\n## Examples\n\n### Example 1: SQL Injection\n**api/users.py:78** - CRITICAL: SQL injection vulnerability\n\nCurrent code uses string concatenation for SQL query:\n\\`\\`\\`python\nquery = f\"SELECT * FROM users WHERE id = {user_id}\"\n\\`\\`\\`\n\nFix with parameterized query:\n\\`\\`\\`python\nquery = \"SELECT * FROM users WHERE id = %s\"\ncursor.execute(query, (user_id,))\n\\`\\`\\`\n\nRationale: String concatenation allows SQL injection attacks. Parameterized queries prevent this by properly escaping inputs. (OWASP A03:2021 - Injection)\n\n### Example 2: XSS Vulnerability\n**templates/profile.html:23** - CRITICAL: Cross-site scripting (XSS)\n\nCurrent code outputs user data without escaping:\n\\`\\`\\`html\n<div>{{ user.bio }}</div>\n\\`\\`\\`\n\nFix with auto-escaping:\n\\`\\`\\`html\n<div>{{ user.bio | escape }}</div>\n\\`\\`\\`\n\nRationale: Unescaped user input allows script injection. Template escaping prevents XSS attacks. (OWASP A03:2021 - Injection)\n\n## Constraints\n- Focus ONLY on security issues\n- Do not report code style or general quality issues\n- Prioritize by severity: CRITICAL > HIGH > MEDIUM > LOW\n- Provide specific fix for each finding\n- Reference OWASP category where applicable\n```\n\n### Review Comments\n\n**`plugins/security-tools/agents/security-scanner.md:1-8`** - OPTIONAL: Excellent configuration\n\nThis agent configuration demonstrates security best practices:\n\n‚úÖ Specific, descriptive name\n‚úÖ Clear description with activation triggers (\"PROACTIVELY invoke when...\")\n‚úÖ Minimal tool access (Read, Grep, Glob only - appropriate for analysis)\n‚úÖ Explicit model selection (Sonnet for balanced analysis)\n‚úÖ Comprehensive system prompt with examples\n‚úÖ Structured thinking guidance\n‚úÖ Clear output format specification\n‚úÖ Security-focused constraints\n\nNo changes required. This is a reference-quality agent configuration.\n\n---\n\n**`plugins/security-tools/agents/security-scanner.md:15-25`** - OPTIONAL: Consider additional capabilities\n\nCurrent capabilities are comprehensive for web applications. For even broader coverage, consider adding:\n\n- Container/Docker security misconfigurations\n- API security (rate limiting, API key exposure)\n- Dependency vulnerability scanning\n- Security header validation\n\nHowever, keeping focused scope (current approach) may be preferable for clarity and single responsibility principle.\n\nThis is a design choice - current scope is excellent.\n\n---\n\n### Summary\n\n**Overall Assessment:** APPROVE\n\nThis is an exemplary agent configuration that demonstrates:\n\n- Security best practices (minimal tool access)\n- Clear activation triggers for automatic delegation\n- Comprehensive system prompt with structured thinking\n- Concrete examples demonstrating expected output\n- Appropriate model selection\n- Focused single responsibility\n\nNo changes required. Consider this a reference implementation for security analysis agents.\n\n---\n\n## Example 3: Agent with Wrong Model Selection\n\n**Context:** Reviewing a code formatter agent.\n\n### Agent Configuration\n\n**File:** `.claude/agents/code-formatter.md`\n\n```yaml\n---\nname: code-formatter\ndescription: Formats code according to project style guides.\ntools: Read, Write, Edit\nmodel: opus\n---\nFormat code files using project style guide.\n```\n\n### Review Comments\n\n**`.claude/agents/code-formatter.md:5`** - IMPORTANT: Model selection inappropriate for task\n\nCurrent configuration uses `opus` for code formatting, which is expensive overkill.\n\nRecommended:\n\n```yaml\nmodel: haiku # Fast and cost-effective for mechanical tasks\n```\n\nRationale:\n\n- Code formatting is mechanical, doesn't require complex reasoning\n- Haiku is 10x+ faster and significantly cheaper\n- Opus should be reserved for complex architectural decisions\n- This agent will be invoked frequently (cost multiplier)\n\nReference: `reference/claude-code-requirements.md` - Model Selection (lines 73-86)\n\n---\n\n**`.claude/agents/code-formatter.md:4`** - IMPORTANT: Tool access includes unnecessary Edit\n\nCode formatter likely creates formatted versions, doesn't need Edit for in-place modification.\n\nRecommended:\n\n```yaml\ntools: Read, Write # Remove Edit\n```\n\nOr if in-place formatting is required:\n\n```yaml\ntools: Read, Edit # Remove Write\n```\n\nClarify in system prompt whether agent:\n\n- Reads and writes new formatted files (Read, Write)\n- Modifies files in place (Read, Edit)\n\nReference: `reference/claude-code-requirements.md` - Tool Access Patterns (lines 89-133)\n\n---\n\n**`.claude/agents/code-formatter.md:7`** - IMPORTANT: System prompt lacks specification\n\nCurrent prompt doesn't specify:\n\n- Which style guide to use\n- What file types to format\n- Output format expectations\n\nRecommended:\n\n```markdown\n# Code Formatter Agent\n\n## Role\n\nFormat code files according to project style guides automatically.\n\n## Supported Languages\n\n- Python: Black formatter (PEP 8)\n- TypeScript: Prettier (project .prettierrc)\n- Go: gofmt\n\n## Process\n\n1. Read file and detect language\n2. Apply appropriate formatter rules\n3. Write formatted output\n4. Report files formatted and any errors\n\n## Output\n\n- List of files successfully formatted\n- Any files skipped (unsupported language, errors)\n- Summary of changes made\n```\n\nClear specification prevents ambiguous behavior.\n\n---\n\n### Summary\n\n**Overall Assessment:** REQUEST CHANGES\n\n**Must Fix (IMPORTANT):**\n\n- Change model from opus to haiku (cost/performance)\n- Clarify tool access (Write OR Edit, not both)\n- Add comprehensive system prompt\n\nFormatting is a high-frequency operation. Wrong model selection will significantly impact cost and latency at scale.\n\n---\n\n## Example 4: Agent Invocation Review\n\n**Context:** Reviewing a skill that invokes agents.\n\n### Skill Code\n\n**File:** `.claude/skills/code-reviewer/skill.md`\n\n```markdown\n## Step 3: Invoke Reviewer\n\nUse the code-reviewer agent.\n```\n\n### Review Comments\n\n**`.claude/skills/code-reviewer/skill.md:28`** - IMPORTANT: Agent invocation lacks specificity\n\nCurrent invocation is too vague and provides no context or expectations.\n\nRecommended:\n\n```markdown\n## Step 3: Invoke Security Analysis\n\nInvoke the security-scanner agent to analyze modified files for vulnerabilities:\n\n**Files to analyze:**\n{list of modified files from step 1}\n\n**Focus areas:**\n\n- Authentication and authorization logic\n- Database query construction\n- User input handling and validation\n- Output encoding and XSS prevention\n\n**Expected output:**\n\n- Inline comments with file:line references\n- CRITICAL priority for vulnerabilities\n- Specific fix recommendations with secure code examples\n- OWASP category for each finding\n\n**Context:**\n\n- Application uses JWT authentication\n- Database is PostgreSQL with SQLAlchemy ORM\n- Framework is Flask with Jinja2 templates\n```\n\nSpecific invocations with context improve agent output quality by ~40%.\n\n---\n\n## Example 5: Circular Agent Dependency (Anti-Pattern)\n\n**Context:** Reviewing agents that invoke each other circularly.\n\n### Configuration\n\n**Agent A:** `.claude/agents/code-analyzer.md`\n\n```markdown\nIf issues found, invoke code-fixer agent.\n```\n\n**Agent B:** `.claude/agents/code-fixer.md`\n\n```markdown\nAfter fixing, invoke code-analyzer agent to verify.\n```\n\n### Review Comments\n\n**`.claude/agents/code-analyzer.md:45` + `.claude/agents/code-fixer.md:38`** - CRITICAL: Circular agent dependency\n\nThese agents invoke each other, creating a potential infinite loop:\n\n- code-analyzer ‚Üí code-fixer ‚Üí code-analyzer ‚Üí ...\n\nFix:\n\n```markdown\n# code-analyzer.md\n\nReport issues found. Do NOT invoke other agents.\n\n# code-fixer.md\n\nAfter fixing, report completion. Do NOT invoke analyzer.\n\n# Create separate coordinator if needed:\n\n# code-improvement-workflow.md\n\n1. Invoke code-analyzer\n2. Review results\n3. If fixes needed, invoke code-fixer\n4. Verify results manually or with single analyzer invocation\n```\n\nRationale: Circular dependencies cause unpredictable behavior and infinite loops. Use explicit workflow coordination instead.\n\n---\n\n## Key Takeaways\n\n### Excellent Agent Patterns\n\n1. **Minimal tool access** - Grant only necessary tools\n2. **Specific descriptions** - Include activation triggers\n3. **Structured system prompts** - Use thinking blocks and examples\n4. **Appropriate model** - Match complexity to cost/performance\n5. **Clear constraints** - Define what agent doesn't do\n\n### Common Mistakes\n\n1. **Over-privileged** - Inheriting all tools unnecessarily\n2. **Vague descriptions** - No activation triggers\n3. **Wrong model** - Opus for simple tasks, Haiku for complex\n4. **Poor prompts** - No structure, examples, or guidance\n5. **Scope creep** - Trying to do too many things\n\n### Security Priorities\n\n1. **Always specify tools** unless all tools genuinely needed\n2. **Justify Bash access** explicitly in system prompt\n3. **Read-only for analysis** agents\n4. **Document security implications** of tool choices\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-claude-md-review.md": "# Example CLAUDE.md Review\n\n**Context:** Reviewing CLAUDE.md that duplicates architecture documentation.\n\n### Review Comments\n\n**`.claude/CLAUDE.md:50-250`** - IMPORTANT: Duplicates docs/ARCHITECTURE.md content\n\nThis section copies 200 lines of MVVM patterns, Hilt DI setup, and module organization from `docs/ARCHITECTURE.md`.\n\nReplace with reference:\n\n```markdown\n## Core Directives\n\n1. **Adhere to Architecture**: All code MUST follow patterns in `docs/ARCHITECTURE.md`\n2. **Follow Code Style**: ALWAYS follow `docs/STYLE_AND_BEST_PRACTICES.md`\n3. **Error Handling**: Use Result types and sealed classes per architecture guidelines\n\n## Reference Documentation\n\nCritical resources:\n\n- `docs/ARCHITECTURE.md` - Architecture patterns and principles\n- `docs/STYLE_AND_BEST_PRACTICES.md` - Code style guidelines\n\n**Do not duplicate information from these files - reference them instead.**\n```\n\nRationale: CLAUDE.md should provide high-level directives and references, not duplicate detailed specs. This:\n\n- Reduces token usage (200 lines ‚Üí 10 lines)\n- Prevents documentation drift (single source of truth)\n- Improves maintainability\n\nReference: Progressive disclosure, DRY principle\n\n---\n\n**`.claude/CLAUDE.md:300`** - SUGGESTED: Add decision-making guidance\n\nConsider adding clear guidance on when to ask vs proceed autonomously:\n\n```markdown\n## Decision-Making\n\nDefer to user for high-impact decisions:\n\n- Architecture/module changes\n- Public API modifications\n- Security mechanism changes\n\nProceed autonomously for:\n\n- Implementation details within established patterns\n- Test additions\n- Bug fixes following existing patterns\n```\n\nThis helps Claude make appropriate judgment calls without over-asking or under-asking.\n\n---\n\n### Summary Comment\n\n**Overall Assessment:** REQUEST CHANGES\n\n**Must Fix (IMPORTANT):**\n\n- Remove duplicated architecture content, replace with references\n\nThis reduces token usage by ~80% while improving maintainability. The rest of the file is well-structured.\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-prompts-review.md": "# Example Prompts Review\n\n**Context:** Reviewing a new slash command prompt.\n\n### Review Comments\n\n**`.claude/commands/review-feature.md:1`** - IMPORTANT: Missing usage information\n\nAdd usage format and example after description:\n\n```markdown\n# review-feature\n\nReviews a feature implementation for architectural compliance and code quality.\n\n**Usage:** /review-feature <feature-name>\n\n**Example:** /review-feature user-authentication\n\nThis command analyzes all files related to the specified feature.\n```\n\nUsers need clear invocation syntax. Without it, they may guess incorrectly or not use the command at all.\n\n---\n\n**`.claude/commands/review-feature.md:10`** - IMPORTANT: Vague instructions\n\nCurrent: \"Look at the code and check for issues.\"\n\nChange to specific criteria:\n\n```markdown\nAnalyze feature implementation for:\n\n1. **Architecture Compliance**\n   - MVVM pattern adherence\n   - Proper dependency injection\n   - Module boundaries respected\n\n2. **Code Quality**\n   - Error handling (Result types)\n   - Null safety\n   - KDoc documentation on public APIs\n\n3. **Testing**\n   - Unit tests for business logic\n   - UI tests for user flows\n   - Edge cases covered\n```\n\nSpecific criteria ensure consistent, thorough reviews.\n\nReference: Prompt engineering - Specificity\n\n---\n\n**`.claude/commands/review-feature.md:25`** - SUGGESTED: Add expected output format\n\nShow reviewers what the output should look like:\n\n````markdown\n**Expected Output Format:**\n\n\\```\n\n## Feature: [name]\n\n### Architecture: ‚úÖ Pass / ‚ùå Issues Found\n\n[Details]\n\n### Code Quality: ‚úÖ Pass / ‚ùå Issues Found\n\n[Details]\n\n### Testing: ‚úÖ Pass / ‚ùå Issues Found\n\n[Details]\n\\```\n````\n\nExplicit output format improves consistency and clarity.\n\n---\n\n**`.claude/commands/review-feature.md:30`** - SUGGESTED: Reference existing skill\n\nIf a `reviewing-changes` skill exists, consider referencing it:\n\n```markdown\n## Implementation\n\nUse the `reviewing-changes` skill with feature-addition checklist:\n\n1. Identify all files in feature scope\n2. Apply feature-addition review checklist\n3. Document findings in structured format above\n```\n\nReusing existing skills improves consistency and reduces duplication.\n\n---\n\n### Summary Comment\n\n**Overall Assessment:** REQUEST CHANGES\n\n**Must Fix (IMPORTANT):**\n\n- Add usage syntax and example\n- Replace vague instructions with specific criteria\n\n**Nice to Have (SUGGESTED):**\n\n- Add expected output format example\n- Reference existing reviewing-changes skill if applicable\n\nThe core concept is good - this command would be very useful once the instructions are clarified and the usage format is documented.\n\n---\n\n## Anti-Patterns to Avoid\n\n### ‚ùå One Large Summary Comment\n\n**DON'T DO THIS:**\n\n```\n**Overall Review**\n\nI found these issues:\n1. Missing YAML frontmatter on line 1\n2. File too long (line 1-650)\n3. No structured thinking (line 45)\n4. Missing examples (line 120)\n...\n```\n\n**Why this is bad:**\n\n- All feedback in one comment, no specific line references\n- Harder to track what's been addressed\n- Loses context for each issue\n- Doesn't retain history if comment is edited\n\n**DO THIS INSTEAD:**\nCreate separate inline comment for EACH issue on the specific line.\n\n---\n\n### ‚ùå Blame Language\n\n**DON'T DO THIS:**\n\n```\n**file.kt:50** - You clearly don't understand MVVM. This is completely wrong.\n```\n\n**Why this is bad:**\n\n- Attacks person, not code\n- Discourages learning\n- Creates defensive responses\n- Unprofessional tone\n\n**DO THIS INSTEAD:**\n\n```\n**file.kt:50** - IMPORTANT: Exposes mutable state\n\nViewModels should expose StateFlow, not MutableStateFlow:\n\n[code example]\n\nThis prevents external mutation, enforcing unidirectional data flow.\n\nReference: docs/ARCHITECTURE.md#mvvm-pattern\n```\n\nFocus on code, provide rationale, offer solution.\n\n---\n\n### ‚ùå Vague Feedback\n\n**DON'T DO THIS:**\n\n```\n**file.kt:100** - This could be better.\n```\n\n**Why this is bad:**\n\n- No actionable guidance\n- Unclear what \"better\" means\n- Author doesn't know what to change\n\n**DO THIS INSTEAD:**\n\n```\n**file.kt:100** - SUGGESTED: Extract complex logic to separate function\n\nCurrent function is 50 lines with nested conditions. Consider extracting validation logic:\n\n[before/after code example]\n\nImproves readability and testability.\n```\n\nSpecific issue, concrete solution, clear rationale.\n\n---\n\n### ‚ùå Missing Priority\n\n**DON'T DO THIS:**\n\n```\n**settings.json:5** - Overly broad permissions.\n```\n\n**Why this is bad:**\n\n- Unclear if this blocks approval\n- Author doesn't know urgency\n- May skip critical security fix\n\n**DO THIS INSTEAD:**\n\n```\n**settings.json:5** - CRITICAL: Overly broad permissions\n\n[specific fix]\n\n[security rationale]\n\nThis must be fixed before approval.\n```\n\nClear priority, specific fix, explicit blocking status.\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-settings-review.md": "# Example Settings Review\n\n**Context:** Reviewing settings.json with multiple security concerns.\n\n### Review Comments\n\n**`.claude/settings.json:5`** - CRITICAL: Overly broad file permissions\n\nCurrent:\n\n```json\n\"autoApprovedTools\": [\n  \"Read://*\"\n]\n```\n\nChange to project-scoped:\n\n```json\n\"autoApprovedTools\": [\n  \"Read://Users/username/projects/myproject/**\"\n]\n```\n\n`Read://*` grants read access to entire filesystem including:\n\n- `~/.ssh/` (SSH keys)\n- `~/.aws/` (AWS credentials)\n- `/etc/` (system config)\n- All user documents and personal files\n\nScope to project directory only per principle of least privilege.\n\nReference: Security best practices - Permission scoping\n\n---\n\n**`.claude/settings.json:8`** - CRITICAL: Dangerous command auto-approved\n\nCurrent:\n\n```json\n\"Bash:rm -rf:*\"\n```\n\n**REMOVE THIS IMMEDIATELY**\n\n`rm -rf` performs recursive deletion without confirmation. Auto-approving this command creates risk of accidental data loss.\n\nIf file deletion is needed frequently, scope to specific safe directories:\n\n```json\n\"Bash:rm -rf /tmp/project-build-cache:*\"\n```\n\nOr require manual approval for all rm commands.\n\nReference: Security best practices - Dangerous commands\n\n---\n\n**`.claude/settings.json:12`** - IMPORTANT: Permissions reference sensitive directory\n\nCurrent:\n\n```json\n\"Read://Users/username/.ssh/**\"\n```\n\nRemove access to `.ssh` directory containing private keys.\n\nIf SSH config reading is required (rare), scope to specific config file:\n\n```json\n\"Read://Users/username/.ssh/config\"\n```\n\nNever grant blanket access to directories containing credentials.\n\n---\n\n### Summary Comment\n\n**Overall Assessment:** BLOCK - Critical Security Issues\n\n**CRITICAL issues must be fixed immediately:**\n\n- Overly broad `Read://*` permission\n- Auto-approved `rm -rf` command\n- Access to `.ssh` directory\n\nThese issues expose significant security risks:\n\n- Potential data loss from dangerous commands\n- Exposure of SSH private keys and credentials\n- Access to sensitive system files\n\n**Cannot approve until all CRITICAL issues are resolved.**\n\nAfter fixes, re-review the scoped permissions to ensure they follow principle of least privilege.\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/examples/example-skill-review.md": "# Example Skill Review\n\n**Context:** Reviewing a new skill with structural and quality issues.\n\n### Review Comments\n\n**`.claude/skills/my-new-skill/skill.md:1`** - CRITICAL: Missing YAML frontmatter\n\nSkills require YAML frontmatter to be discoverable by Claude Code:\n\n```yaml\n---\nname: my-new-skill\ndescription: Clear description with activation triggers. Use when [specific scenario].\nversion: 1.0.0\n---\n```\n\nWithout frontmatter, the skill won't be recognized by Claude Code and will never be invoked.\n\nReference: Anthropic Skills Documentation - YAML Requirements\n\n---\n\n**`.claude/skills/my-new-skill/skill.md:1-650`** - IMPORTANT: File exceeds 500 line limit\n\nMain skill file is 650 lines, exceeding Anthropic's 500-line progressive disclosure recommendation.\n\nSuggested structure:\n\n```\nmy-new-skill/\n‚îú‚îÄ‚îÄ skill.md (‚â§500 lines - routing logic only)\n‚îú‚îÄ‚îÄ checklists/\n‚îÇ   ‚îú‚îÄ‚îÄ type-a.md\n‚îÇ   ‚îî‚îÄ‚îÄ type-b.md\n‚îî‚îÄ‚îÄ reference/\n    ‚îî‚îÄ‚îÄ detailed-guidance.md\n```\n\nMove detailed checklists and reference material to supporting files, load on-demand.\n\nRationale: Improves token efficiency, reduces context loading, enables better organization.\n\nReference: Progressive disclosure best practices\n\n---\n\n**`.claude/skills/my-new-skill/skill.md:45`** - IMPORTANT: Missing structured thinking blocks\n\nAdd `<thinking>` blocks before major decision points:\n\n```markdown\n### Step 1: Detect Type\n\n<thinking>\nKey questions to determine type:\n1. What files were modified?\n2. What does the title indicate?\n3. What's the scope of changes?\n</thinking>\n\nAnalyze the changeset...\n```\n\nResearch shows structured thinking reduces logic errors by 40% (Anthropic Chain of Thought study).\n\nReference: Anthropic Prompt Engineering - Structured Thinking\n\n---\n\n**`.claude/skills/my-new-skill/skill.md:120`** - SUGGESTED: Add concrete examples\n\nThis section describes the expected comment format but doesn't show an example. Consider adding:\n\n````markdown\n**Example inline comment:**\n\n\\```\n**file.kt:123** - CRITICAL: Issue description\n\n[Specific fix with code]\n\n[Rationale]\n\\```\n````\n\nExamples improve clarity significantly, especially for complex output formats.\n\n---\n\n**`.claude/skills/my-new-skill/skill.md:200`** - OPTIONAL: Alternative phrasing\n\nCurrent: \"You should check for these patterns...\"\n\nAlternative: \"Check for these patterns...\"\n\nMore direct phrasing slightly improves token efficiency, but current version is perfectly functional.\n\n---\n\n### Summary Comment\n\n**Overall Assessment:** REQUEST CHANGES\n\nThis skill has strong potential but requires fixes before approval:\n\n**Must Fix (CRITICAL):**\n\n- Add YAML frontmatter (blocks recognition)\n\n**Should Fix (IMPORTANT):**\n\n- Reduce main file to ‚â§500 lines via progressive disclosure\n- Add structured thinking blocks for key decisions\n\n**Nice to Have (SUGGESTED):**\n\n- Add concrete examples for output formats\n\nOnce the critical frontmatter is added and the file is restructured with progressive disclosure, this will be ready for approval. The core logic and approach are solid.\n\n---\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/reference/claude-code-requirements.md": "# Claude Code Requirements\n\nClaude Code-specific conventions, formats, and requirements that differ from general best practices. This reference consolidates domain-specific knowledge necessary for validating Claude Code configuration files.\n\n---\n\n## YAML Frontmatter Format\n\n### Skills (SKILL.md files)\n\n**Required Fields:**\n\n```yaml\n---\nname: skill-name-in-kebab-case\ndescription: Clear description with activation triggers\n---\n```\n\n**Optional Fields:**\n\n```yaml\nversion: 1.0.0 # Semver format (MAJOR.MINOR.PATCH)\n```\n\n**Field Requirements:**\n\n- `name`: **MUST** be kebab-case (use-dashes-not_underscores)\n- `description`: **MUST** include activation triggers (when to use the skill)\n- `version`: **SHOULD** follow semantic versioning if marketplace-bound\n- **NO TABS**: Use spaces only (YAML requirement)\n\n**Valid Example:**\n\n```yaml\n---\nname: reviewing-changes\nversion: 2.0.0\ndescription: Comprehensive code reviews for Android. Detects change type and applies appropriate review depth. Use when reviewing pull requests, checking commits, or analyzing code changes.\n---\n```\n\n**Invalid Examples:**\n\n```yaml\n---\nname: reviewing_changes # ‚ùå Underscore instead of dash\ndescription: Reviews code # ‚ùå Too vague, no activation triggers\n---\n```\n\n---\n\n### Agents (.claude/agents/_.md or plugins/_/agents/\\*.md)\n\n**Required Fields:**\n\n```yaml\n---\nname: agent-name-in-kebab-case\ndescription: Clear description of agent purpose\n---\n```\n\n**Optional Fields:**\n\n```yaml\nmodel: sonnet # haiku, sonnet, opus, or inherit\ntools: Read, Write, Grep, Glob, Bash # Specific tools only\n```\n\n**Field Requirements:**\n\n- `name`: kebab-case, unique within project\n- `description`: Clear purpose and activation context\n- `model`: One of: `haiku`, `sonnet`, `opus`, `inherit` (lowercase)\n- `tools`: Exact tool names (case-sensitive): `Read`, `Write`, `Edit`, `Grep`, `Glob`, `Bash`, `WebFetch`, `WebSearch`\n- **Omit `tools` field** to inherit all tools (default)\n\n---\n\n## Model Selection\n\n### Valid Model Values\n\n| Model   | Value     | Use Case                                                   |\n| ------- | --------- | ---------------------------------------------------------- |\n| Haiku   | `haiku`   | Fast, simple tasks (formatting, scripts, quick operations) |\n| Sonnet  | `sonnet`  | Balanced default (code review, testing, documentation)     |\n| Opus    | `opus`    | Complex reasoning (architecture, novel problems)           |\n| Inherit | `inherit` | Use parent session's model                                 |\n\n**Default**: If `model` field omitted, defaults to `sonnet`\n\n---\n\n## Tool Access Patterns\n\n### Tool Names (Case-Sensitive)\n\n**Read-Only Tools** (LOW RISK):\n\n- `Read` - Read file contents\n- `Grep` - Search file contents\n- `Glob` - Find files by pattern\n\n**Write Tools** (MEDIUM RISK):\n\n- `Write` - Create new files\n- `Edit` - Modify existing files\n\n**Execution Tools** (HIGH RISK):\n\n- `Bash` - Execute shell commands\n\n**Network Tools** (MEDIUM-HIGH RISK):\n\n- `WebFetch` - Fetch URL content\n- `WebSearch` - Search web\n\n### Tool Access Security\n\n**Read-only agents** (safest pattern):\n\n```yaml\ntools: Read, Grep, Glob\n```\n\n**Write-capable agents** (moderate risk):\n\n```yaml\ntools: Read, Grep, Glob, Write, Edit\n```\n\n**Full-access agents** (highest risk - justify in review):\n\n```yaml\n# Omit tools field to inherit all tools\n# OR explicitly list all needed tools\n```\n\n### Tool Security Guidelines\n\n1. **Principle of Least Privilege**: Only grant tools agent actually needs\n2. **Read-Only by Default**: Start with `Read, Grep, Glob` and add tools as needed\n3. **Justify Bash Access**: Bash tool = arbitrary code execution, requires strong justification\n4. **Omit for Full Access**: Omitting `tools` field grants all tools (document why this is necessary)\n\n---\n\n## Progressive Disclosure\n\n### 500-Line Guideline\n\n**Main skill file** (SKILL.md):\n\n- **Target**: ‚â§500 lines\n- **Maximum**: 500 lines is guideline, not hard limit\n- **Rationale**: Context window efficiency, cognitive load management\n\n**If exceeding 500 lines**:\n\n- Split into supporting files\n- Use on-demand loading pattern\n- Organize into subdirectories\n\n### File Organization Pattern\n\n```\nskill-name/\n‚îú‚îÄ‚îÄ SKILL.md              # Main orchestration (aim for ‚â§500 lines)\n‚îú‚îÄ‚îÄ checklists/           # Task-specific procedures\n‚îú‚îÄ‚îÄ reference/            # Detailed criteria (loaded as needed)\n‚îú‚îÄ‚îÄ examples/             # Sample outputs\n‚îî‚îÄ‚îÄ scripts/              # Executable automation (if applicable)\n```\n\n### On-Demand Loading\n\n**Main file should:**\n\n- Provide routing logic (which file to load when)\n- Reference supporting files explicitly\n- Use structured thinking to guide decisions\n\n**Supporting files should:**\n\n- Be self-contained (understandable in isolation)\n- State clear purpose at top\n- Avoid circular dependencies\n\n**Example routing:**\n\n```markdown\n### Step 2: Load Appropriate Checklist\n\nBased on detected type, read the relevant checklist:\n\n- **Agents** ‚Üí `checklists/agents.md`\n- **Skills** ‚Üí `checklists/skills.md`\n- **Settings** ‚Üí `checklists/settings.md`\n```\n\n---\n\n## Security Conventions\n\n### settings.local.json\n\n**CRITICAL**: `settings.local.json` must **NEVER** be committed to git\n\n**Detection**:\n\n```bash\ngit status | grep \"settings.local.json\"\ngit diff --cached | grep \"settings.local.json\"\n```\n\n**If found**: Flag as **CRITICAL** blocking issue\n\n**Rationale**: Contains user-specific settings and potentially sensitive paths\n\n---\n\n### Auto-Approved Tool Patterns\n\n**Format** (in settings.json):\n\n```json\n{\n  \"autoApproved\": [\n    \"Bash(git status:*)\",\n    \"Bash(git diff:*)\",\n    \"Read(/absolute/path/to/specific/dir/**)\"\n  ]\n}\n```\n\n**Guidelines**:\n\n- Use specific command patterns, not wildcards: `Bash(git status:*)` not `Bash(*)`\n- Use absolute paths for Read permissions: `Read(/full/path/**)` not `Read(**)`\n- Glob patterns for restricted access: `Read(/project/src/**/*.ts)` to limit file types\n\n---\n\n## Common Validation Issues\n\n### YAML Errors\n\n| Issue                  | Detection            | Fix                                       |\n| ---------------------- | -------------------- | ----------------------------------------- |\n| Tabs instead of spaces | Malformed YAML error | Replace tabs with spaces                  |\n| Missing colon          | Parser error         | Add `:` after field name                  |\n| Wrong field name       | Skill not recognized | Check exact spelling: `name` not `Name`   |\n| Invalid model value    | Ignored or error     | Use: `haiku`, `sonnet`, `opus`, `inherit` |\n\n### Tool Access Errors\n\n| Issue             | Detection          | Fix                               |\n| ----------------- | ------------------ | --------------------------------- |\n| Wrong tool name   | Tool not available | Use exact case: `Grep` not `grep` |\n| Typo in tool name | Tool not available | Check spelling: `Bash` not `bash` |\n| Over-privileged   | Security review    | Remove unnecessary tools          |\n\n### Progressive Disclosure Violations\n\n| Issue                      | Detection        | Fix                         |\n| -------------------------- | ---------------- | --------------------------- |\n| Main file >500 lines       | Line count       | Split into supporting files |\n| All context loaded upfront | Review structure | Use on-demand loading       |\n| Circular dependencies      | File references  | Reorganize file structure   |\n\n---\n\n## Validation Checklist\n\n**YAML Frontmatter**:\n\n- [ ] `name` field present and kebab-case\n- [ ] `description` field present with activation triggers\n- [ ] `version` follows semver (if present)\n- [ ] `model` is valid value: `haiku`/`sonnet`/`opus`/`inherit` (if present)\n- [ ] `tools` uses exact case-sensitive names (if present)\n- [ ] No tabs (spaces only)\n- [ ] Valid YAML syntax\n\n**Progressive Disclosure**:\n\n- [ ] Main SKILL.md file ‚â§500 lines\n- [ ] Supporting files organized in subdirectories\n- [ ] On-demand loading pattern used\n- [ ] File references are correct and exist\n\n**Security**:\n\n- [ ] No settings.local.json committed\n- [ ] No hardcoded credentials or API keys\n- [ ] Tool access follows least privilege principle\n- [ ] Bash access justified if granted\n\n**File Organization**:\n\n- [ ] Skills: `SKILL.md` with YAML frontmatter\n- [ ] Agents: `.claude/agents/*.md` or `plugins/*/agents/*.md`\n- [ ] Prompts: `.claude/prompts/*.md` or `.claude/commands/*.md`\n- [ ] Settings: `.claude/settings.json` (NOT settings.local.json)\n\n---\n\n## Quick Reference\n\n**Model Values**: `haiku` | `sonnet` | `opus` | `inherit`\n\n**Tool Names**: `Read` | `Write` | `Edit` | `Grep` | `Glob` | `Bash` | `WebFetch` | `WebSearch`\n\n**Line Limit**: SKILL.md ‚â§500 lines (guideline)\n\n**Naming**: kebab-case for `name` fields\n\n**NEVER Commit**: `settings.local.json`\n\n**YAML**: Spaces only, no tabs\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/reference/priority-framework.md": "# Priority Framework for Claude Configuration Reviews\n\nClassification system for prioritizing issues found in Claude configuration files.\n\n---\n\n## Priority Levels\n\n### CRITICAL\n\n**Definition:** Issues that prevent functionality, expose security vulnerabilities, or cause immediate harm.\n\n**Examples:**\n\n- settings.local.json committed to git\n- Hardcoded API keys, tokens, or passwords\n- Missing YAML frontmatter (skill won't be recognized)\n- Dangerous command auto-approvals (rm -rf, chmod 777)\n- Overly broad permissions exposing sensitive paths\n- Broken file references preventing skill loading\n\n**Action Required:** Must fix immediately before approval.\n\n**Review Comment Format:**\n\n```\n**CRITICAL**: [Issue description]\n\n[Specific fix with code example]\n\nThis must be fixed before approval because [security/functionality reason].\n```\n\n---\n\n### IMPORTANT\n\n**Definition:** Issues that significantly impact quality, maintainability, or user experience but don't prevent basic functionality.\n\n**Examples:**\n\n- Duplicated documentation content\n- Poor progressive disclosure (file > 500 lines)\n- Missing structured thinking blocks\n- Vague activation triggers\n- Unclear purpose statements\n- Inefficient token usage patterns\n- Missing examples for complex concepts\n\n**Action Required:** Should fix in this PR/commit. If time-constrained, create follow-up issue.\n\n**Review Comment Format:**\n\n```\n**IMPORTANT**: [Issue description]\n\n[Specific recommendation]\n\n[Rationale explaining why this matters]\n```\n\n---\n\n### SUGGESTED\n\n**Definition:** Improvements that enhance quality but aren't essential for approval.\n\n**Examples:**\n\n- Additional examples for clarity\n- Better file organization\n- More specific guidance\n- Enhanced documentation\n- Alternative approaches\n- Stylistic improvements\n\n**Action Required:** Optional improvements. Consider for future work.\n\n**Review Comment Format:**\n\n```\n**SUGGESTED**: [Improvement suggestion]\n\n[What would be better and why]\n\nThis would improve [aspect] but isn't required for approval.\n```\n\n---\n\n### OPTIONAL\n\n**Definition:** Personal preferences, alternative approaches, or minor stylistic choices.\n\n**Examples:**\n\n- Alternative phrasing\n- Different organizational structure\n- Stylistic preferences\n- Personal coding style\n\n**Action Required:** Author decides. No expectation to change.\n\n**Review Comment Format:**\n\n```\n**OPTIONAL**: [Observation or suggestion]\n\n[Alternative approach if applicable]\n\nThis is a personal preference - feel free to keep current approach.\n```\n\n---\n\n## Classification Decision Tree\n\nUse this structured thinking approach to classify issues:\n\n<thinking>\n1. Does this issue create security vulnerability or prevent functionality?\n   ‚Üí YES: CRITICAL\n   ‚Üí NO: Continue\n\n2. Does this significantly impact quality, maintainability, or UX?\n   ‚Üí YES: IMPORTANT\n   ‚Üí NO: Continue\n\n3. Would this improve quality but not essential?\n   ‚Üí YES: SUGGESTED\n   ‚Üí NO: OPTIONAL\n   </thinking>\n\n---\n\n## Context-Specific Priority Adjustments\n\n### Security Context\n\nIn security-sensitive configurations (settings.json, permissions):\n\n- Elevate permission issues to CRITICAL\n- Elevate secret exposure to CRITICAL\n- Broad permissions: IMPORTANT ‚Üí CRITICAL\n\n### Marketplace-Bound Skills\n\nFor skills intended for marketplace:\n\n- Elevate missing examples to IMPORTANT\n- Elevate unclear activation triggers to IMPORTANT\n- Elevate poor progressive disclosure to CRITICAL\n\n### Internal Tools\n\nFor internal-only configurations:\n\n- May accept some SUGGESTED issues\n- Still require CRITICAL fixes\n- IMPORTANT issues can be follow-up work\n\n---\n\n## Priority by Issue Type\n\n### Security Issues\n\n| Issue                                          | Priority  |\n| ---------------------------------------------- | --------- |\n| Committed settings.local.json                  | CRITICAL  |\n| Hardcoded API keys/tokens                      | CRITICAL  |\n| Dangerous auto-approved commands               | CRITICAL  |\n| Overly broad permissions (Read://_, Write://_) | CRITICAL  |\n| Permissions exposing ~/.ssh, /etc              | CRITICAL  |\n| Permissions broader than needed                | IMPORTANT |\n\n### Structure Issues\n\n| Issue                                           | Priority  |\n| ----------------------------------------------- | --------- |\n| Missing YAML frontmatter                        | CRITICAL  |\n| Broken file references                          | CRITICAL  |\n| File > 500 lines without progressive disclosure | IMPORTANT |\n| Poor file organization                          | SUGGESTED |\n| Missing structured thinking blocks              | IMPORTANT |\n\n### Quality Issues\n\n| Issue                                 | Priority  |\n| ------------------------------------- | --------- |\n| Vague or unclear instructions         | IMPORTANT |\n| Missing examples for complex concepts | IMPORTANT |\n| No activation triggers in description | IMPORTANT |\n| Duplicated documentation              | IMPORTANT |\n| Inefficient token usage               | SUGGESTED |\n| Additional examples would help        | SUGGESTED |\n| Alternative phrasing                  | OPTIONAL  |\n\n### Syntax Issues\n\n| Issue                      | Priority  |\n| -------------------------- | --------- |\n| Invalid JSON syntax        | CRITICAL  |\n| Malformed YAML frontmatter | CRITICAL  |\n| Incorrect field names      | IMPORTANT |\n| Missing required fields    | IMPORTANT |\n| Deprecated fields          | SUGGESTED |\n\n---\n\n## Multi-Issue Prioritization\n\nWhen multiple issues exist in a single review:\n\n1. **Group by priority level** (CRITICAL together, IMPORTANT together, etc.)\n2. **Within each level, order by:**\n   - Security issues first\n   - Functionality issues second\n   - Quality issues third\n3. **Focus review comments on highest priorities**\n4. **May skip OPTIONAL issues if many higher-priority issues exist**\n\n---\n\n## Communication Guidelines by Priority\n\n### CRITICAL\n\n- **Tone:** Direct and firm\n- **Language:** \"Must fix\", \"Required\", \"Blocks approval\"\n- **Explanation:** Always explain the risk/impact\n- **Solution:** Always provide specific fix\n\n### IMPORTANT\n\n- **Tone:** Strong recommendation\n- **Language:** \"Should fix\", \"Recommended\", \"Significantly improves\"\n- **Explanation:** Explain why it matters\n- **Solution:** Provide specific recommendation\n\n### SUGGESTED\n\n- **Tone:** Helpful suggestion\n- **Language:** \"Consider\", \"Would improve\", \"Could enhance\"\n- **Explanation:** Brief rationale\n- **Solution:** Optional, may suggest alternatives\n\n### OPTIONAL\n\n- **Tone:** Neutral observation\n- **Language:** \"Alternative approach\", \"Personal preference\"\n- **Explanation:** Acknowledge it's not critical\n- **Solution:** Present as option, not directive\n\n---\n\n## Example Classifications\n\n**Example 1: Security Issue**\n\n‚ùå **settings.json:5** - settings.local.json committed to git\n**Priority:** CRITICAL\n**Rationale:** Exposes potentially sensitive user-specific configuration and API keys.\n\n---\n\n**Example 2: Structure Issue**\n\n‚ùå **skill.md:1** - Missing YAML frontmatter\n**Priority:** CRITICAL\n**Rationale:** Skill won't be recognized by Claude Code without frontmatter.\n\n---\n\n**Example 3: Quality Issue**\n\n‚ùå **skill.md:3** - Description lacks activation triggers\n**Priority:** IMPORTANT\n**Rationale:** Users won't know when to invoke this skill. Reduces discoverability.\n\n---\n\n**Example 4: Improvement Suggestion**\n\n‚ùå **checklist.md:45** - Could add more examples\n**Priority:** SUGGESTED\n**Rationale:** Additional examples would clarify complex concept, but current instruction is functional.\n\n---\n\n**Example 5: Style Preference**\n\n‚ùå **skill.md:12** - Alternative phrasing possible\n**Priority:** OPTIONAL\n**Rationale:** Current phrasing is clear, alternative is just personal preference.\n",
        "plugins/claude-config-validator/skills/reviewing-claude-config/reference/security-patterns.md": "# Security Patterns for Claude Configuration\n\nSecurity checks, detection commands, and remediation patterns for Claude configuration files.\n\n---\n\n## Critical Security Checks\n\nPerform these checks for EVERY Claude configuration review:\n\n1. **settings.local.json NOT in git**\n2. **No hardcoded credentials**\n3. **Permissions appropriately scoped**\n4. **No dangerous command auto-approvals**\n\nIf ANY check fails, flag as **CRITICAL** immediately.\n\n---\n\n## Detection Scripts\n\n### Check 1: Detect Committed settings.local.json\n\n**Manual Detection:**\n\n```bash\n# Check if file is tracked by git\ngit ls-files | grep \"settings.local.json\"\n\n# If output exists, file is incorrectly committed\n```\n\n**Expected Output:**\n\n- **Empty:** File not tracked (GOOD)\n- **File path:** File is tracked (CRITICAL)\n\n**Automated Detection:**\n\n```bash\n#!/bin/bash\n# detect-committed-local-settings.sh\n\nif git ls-files | grep -q \"settings.local.json\"; then\n    echo \"CRITICAL: settings.local.json is committed to git\"\n    exit 1\nelse\n    echo \"OK: settings.local.json not in git\"\n    exit 0\nfi\n```\n\n---\n\n### Check 2: Scan for Hardcoded Secrets\n\n**Pattern Detection:**\n\n```bash\n# Search for common secret patterns\ngrep -rE \"(apiKey|api_key|API_KEY|password|passwd|token|secret)\\s*[:=]\\s*['\\\"]\" .claude/\n\n# Search for specific key prefixes\ngrep -rE \"(sk-[a-zA-Z0-9]{32,}|ghp_[a-zA-Z0-9]{36}|gho_[a-zA-Z0-9]{36})\" .claude/\n```\n\n**Common Secret Patterns:**\n\n| Pattern         | Regex                                    | Example               |\n| --------------- | ---------------------------------------- | --------------------- |\n| OpenAI API Key  | `sk-[a-zA-Z0-9]{32,}`                    | `sk-abc123def456...`  |\n| GitHub Token    | `ghp_[a-zA-Z0-9]{36}`                    | `ghp_xxxxxxxxxxxx...` |\n| Generic API Key | `(api[-_]?key)\\s*[:=]\\s*['\"][^'\"]+`      | `apiKey: \"abc123\"`    |\n| Password        | `(password\\|passwd)\\s*[:=]\\s*['\"][^'\"]+` | `password: \"secret\"`  |\n\n**Automated Detection:**\n\n```bash\n#!/bin/bash\n# detect-hardcoded-secrets.sh\n\nFOUND_SECRETS=0\n\n# OpenAI keys\nif grep -rE \"sk-[a-zA-Z0-9]{32,}\" .claude/ 2>/dev/null; then\n    echo \"CRITICAL: Found OpenAI API key pattern\"\n    FOUND_SECRETS=1\nfi\n\n# GitHub tokens\nif grep -rE \"gh[po]_[a-zA-Z0-9]{36}\" .claude/ 2>/dev/null; then\n    echo \"CRITICAL: Found GitHub token pattern\"\n    FOUND_SECRETS=1\nfi\n\n# Generic API keys and passwords\nif grep -rE \"(apiKey|api_key|password|token)\\s*[:=]\\s*['\\\"][^'\\\"]{8,}\" .claude/ 2>/dev/null; then\n    echo \"CRITICAL: Found potential hardcoded credential\"\n    FOUND_SECRETS=1\nfi\n\nif [ $FOUND_SECRETS -eq 0 ]; then\n    echo \"OK: No hardcoded secrets detected\"\n    exit 0\nelse\n    exit 1\nfi\n```\n\n---\n\n### Check 3: Validate Permission Scoping\n\n**Dangerous Permission Patterns:**\n\n```bash\n# Check for overly broad permissions\ngrep -r \"Read://\\*\" .claude/settings.json\ngrep -r \"Write://\\*\" .claude/settings.json\ngrep -r \"Bash:\\*\" .claude/settings.json\n```\n\n**Red Flags:**\n\n- `Read://*` - Read access to entire filesystem\n- `Write://*` - Write access to entire filesystem\n- `Bash:*` - Auto-approve ALL bash commands\n- `Read://Users/username/.ssh/**` - Access to SSH keys\n- `Read:///etc/**` - Access to system config\n\n**Automated Detection:**\n\n```bash\n#!/bin/bash\n# detect-broad-permissions.sh\n\nISSUES=0\n\nif grep -q 'Read://\\*\"' .claude/settings.json 2>/dev/null; then\n    echo \"CRITICAL: Overly broad Read permissions (Read://*)\"\n    ISSUES=1\nfi\n\nif grep -q 'Write://\\*\"' .claude/settings.json 2>/dev/null; then\n    echo \"CRITICAL: Overly broad Write permissions (Write://*)\"\n    ISSUES=1\nfi\n\nif grep -q '\"Bash:\\*\"' .claude/settings.json 2>/dev/null; then\n    echo \"CRITICAL: Auto-approve all Bash commands (Bash:*)\"\n    ISSUES=1\nfi\n\n# Check for sensitive paths\nif grep -rE '(\\.ssh|/etc|\\.aws|\\.config)' .claude/settings.json 2>/dev/null; then\n    echo \"WARNING: Permissions reference sensitive directories\"\n    ISSUES=1\nfi\n\nif [ $ISSUES -eq 0 ]; then\n    echo \"OK: Permissions appropriately scoped\"\n    exit 0\nelse\n    exit 1\nfi\n```\n\n---\n\n### Check 4: Detect Dangerous Command Auto-Approvals\n\n**Dangerous Command Patterns:**\n\n```bash\n# Check for dangerous commands\ngrep -E \"(rm -rf|chmod 777|mkfs|dd|curl.*\\| sh)\" .claude/settings.json\n```\n\n**Dangerous Commands List:**\n\n| Command            | Risk      | Why Dangerous                           |\n| ------------------ | --------- | --------------------------------------- |\n| `rm -rf`           | Data loss | Recursive deletion without confirmation |\n| `git push --force` | Data loss | Overwrites remote history               |\n| `chmod 777`        | Security  | Grants all permissions to everyone      |\n| `curl ... \\| sh`   | RCE       | Executes arbitrary remote code          |\n| `dd`               | Data loss | Low-level disk operations               |\n| `mkfs`             | Data loss | Formats filesystems                     |\n| `:(){ :\\|:& };:`   | DoS       | Fork bomb                               |\n\n**Automated Detection:**\n\n```bash\n#!/bin/bash\n# detect-dangerous-commands.sh\n\nDANGEROUS_PATTERNS=(\n    \"rm -rf\"\n    \"rm -fr\"\n    \"git push --force\"\n    \"git push -f\"\n    \"chmod 777\"\n    \"chmod 666\"\n    \"curl.*| sh\"\n    \"curl.*| bash\"\n    \"wget.*| sh\"\n    \"dd if=\"\n    \"mkfs\"\n    \"> /dev/sd\"\n)\n\nFOUND_DANGEROUS=0\n\nfor pattern in \"${DANGEROUS_PATTERNS[@]}\"; do\n    if grep -qE \"$pattern\" .claude/settings.json 2>/dev/null; then\n        echo \"CRITICAL: Dangerous command auto-approved: $pattern\"\n        FOUND_DANGEROUS=1\n    fi\ndone\n\nif [ $FOUND_DANGEROUS -eq 0 ]; then\n    echo \"OK: No dangerous command auto-approvals\"\n    exit 0\nelse\n    exit 1\nfi\n```\n\n---\n\n## Comprehensive Security Scan Script\n\n**Full automated security scan:**\n\n```bash\n#!/bin/bash\n# security-scan.sh\n# Comprehensive security scan for Claude configuration files\n\nset -e\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nCLAUDE_DIR=\"${SCRIPT_DIR}/..\"\nISSUES_FOUND=0\n\necho \"=== Claude Configuration Security Scan ===\"\necho \"\"\n\n# Check 1: Committed settings.local.json\necho \"[1/4] Checking for committed settings.local.json...\"\nif git ls-files | grep -q \"settings.local.json\"; then\n    echo \"  ‚ùå CRITICAL: settings.local.json is committed to git\"\n    ISSUES_FOUND=$((ISSUES_FOUND + 1))\nelse\n    echo \"  ‚úÖ OK: settings.local.json not in git\"\nfi\necho \"\"\n\n# Check 2: Hardcoded secrets\necho \"[2/4] Scanning for hardcoded secrets...\"\nSECRET_FOUND=0\n\nif grep -rE \"sk-[a-zA-Z0-9]{32,}\" \"${CLAUDE_DIR}\" 2>/dev/null | grep -v \"security-scan.sh\"; then\n    echo \"  ‚ùå CRITICAL: OpenAI API key pattern detected\"\n    SECRET_FOUND=1\nfi\n\nif grep -rE \"gh[po]_[a-zA-Z0-9]{36}\" \"${CLAUDE_DIR}\" 2>/dev/null | grep -v \"security-scan.sh\"; then\n    echo \"  ‚ùå CRITICAL: GitHub token pattern detected\"\n    SECRET_FOUND=1\nfi\n\nif grep -rE '(apiKey|api_key|password|token)[\"'\\'']?\\s*[:=]\\s*[\"'\\''][^\"'\\'']{8,}' \"${CLAUDE_DIR}\" 2>/dev/null | grep -v \"security-scan.sh\" | grep -v \"example\"; then\n    echo \"  ‚ùå CRITICAL: Potential hardcoded credential detected\"\n    SECRET_FOUND=1\nfi\n\nif [ $SECRET_FOUND -eq 0 ]; then\n    echo \"  ‚úÖ OK: No hardcoded secrets detected\"\nelse\n    ISSUES_FOUND=$((ISSUES_FOUND + 1))\nfi\necho \"\"\n\n# Check 3: Broad permissions\necho \"[3/4] Validating permission scoping...\"\nPERM_ISSUES=0\n\nif [ -f \"${CLAUDE_DIR}/settings.json\" ]; then\n    if grep -q 'Read://\\*' \"${CLAUDE_DIR}/settings.json\"; then\n        echo \"  ‚ùå CRITICAL: Overly broad Read permissions (Read://*)\"\n        PERM_ISSUES=1\n    fi\n\n    if grep -q 'Write://\\*' \"${CLAUDE_DIR}/settings.json\"; then\n        echo \"  ‚ùå CRITICAL: Overly broad Write permissions (Write://*)\"\n        PERM_ISSUES=1\n    fi\n\n    if grep -q '\"Bash:\\*\"' \"${CLAUDE_DIR}/settings.json\"; then\n        echo \"  ‚ùå CRITICAL: Auto-approve all Bash commands\"\n        PERM_ISSUES=1\n    fi\n\n    if grep -qE '(\\.ssh|\\.aws|\\.gnupg)' \"${CLAUDE_DIR}/settings.json\"; then\n        echo \"  ‚ö†Ô∏è WARNING: Permissions reference sensitive directories\"\n        PERM_ISSUES=1\n    fi\n\n    if [ $PERM_ISSUES -eq 0 ]; then\n        echo \"  ‚úÖ OK: Permissions appropriately scoped\"\n    else\n        ISSUES_FOUND=$((ISSUES_FOUND + 1))\n    fi\nelse\n    echo \"  ‚ÑπÔ∏è  No settings.json found (OK)\"\nfi\necho \"\"\n\n# Check 4: Dangerous commands\necho \"[4/4] Checking for dangerous command auto-approvals...\"\nDANGEROUS_FOUND=0\n\nif [ -f \"${CLAUDE_DIR}/settings.json\" ]; then\n    DANGEROUS_PATTERNS=(\n        \"rm -rf\"\n        \"rm -fr\"\n        \"git push --force\"\n        \"git push -f\"\n        \"chmod 777\"\n        \"curl.*\\| sh\"\n        \"curl.*\\| bash\"\n        \"wget.*\\| sh\"\n        \"dd if=\"\n        \"mkfs\"\n    )\n\n    for pattern in \"${DANGEROUS_PATTERNS[@]}\"; do\n        if grep -qE \"$pattern\" \"${CLAUDE_DIR}/settings.json\"; then\n            echo \"  ‚ùå CRITICAL: Dangerous command auto-approved: ${pattern}\"\n            DANGEROUS_FOUND=1\n        fi\n    done\n\n    if [ $DANGEROUS_FOUND -eq 0 ]; then\n        echo \"  ‚úÖ OK: No dangerous command auto-approvals\"\n    else\n        ISSUES_FOUND=$((ISSUES_FOUND + 1))\n    fi\nelse\n    echo \"  ‚ÑπÔ∏è  No settings.json found (OK)\"\nfi\necho \"\"\n\n# Summary\necho \"=== Scan Complete ===\"\nif [ $ISSUES_FOUND -eq 0 ]; then\n    echo \"‚úÖ All security checks passed\"\n    exit 0\nelse\n    echo \"‚ùå Found ${ISSUES_FOUND} critical security issue(s)\"\n    echo \"\"\n    echo \"Review the issues above and remediate before approval.\"\n    exit 1\nfi\n```\n\n---\n\n## Remediation Patterns\n\n### Fix 1: Remove Committed settings.local.json\n\n```bash\n# Remove from git but keep locally\ngit rm --cached .claude/settings.local.json\n\n# Ensure .gitignore includes it\nif ! grep -q \"settings.local.json\" .gitignore; then\n    echo \".claude/settings.local.json\" >> .gitignore\nfi\n\n# Commit the fix\ngit add .gitignore\ngit commit -m \"Remove settings.local.json from git tracking\"\n```\n\n### Fix 2: Remove Hardcoded Secrets\n\n**Before:**\n\n```json\n{\n  \"apiKey\": \"sk-1234567890abcdef\"\n}\n```\n\n**After:**\n\n```json\n{\n  \"apiKeyVar\": \"$OPENAI_API_KEY\",\n  \"note\": \"Set API key: export OPENAI_API_KEY=your-key\"\n}\n```\n\n**Or remove entirely and document:**\n\n```markdown\n# Configuration\n\nSet required environment variables:\n\n- `OPENAI_API_KEY` - Your OpenAI API key\n```\n\n### Fix 3: Scope Down Permissions\n\n**Before:**\n\n```json\n{\n  \"autoApprovedTools\": [\"Read://*\"]\n}\n```\n\n**After:**\n\n```json\n{\n  \"autoApprovedTools\": [\n    \"Read://Users/username/projects/myproject/**\",\n    \"Read://Users/username/.claude/projects/**\"\n  ]\n}\n```\n\n### Fix 4: Remove Dangerous Commands\n\n**Before:**\n\n```json\n{\n  \"autoApprovedTools\": [\"Bash:*\"]\n}\n```\n\n**After:**\n\n```json\n{\n  \"autoApprovedTools\": [\n    \"Bash:git status:*\",\n    \"Bash:git log:*\",\n    \"Bash:git diff:*\",\n    \"Bash:npm install:*\",\n    \"Bash:./gradlew test:*\"\n  ]\n}\n```\n\n---\n\n## Safe Command Whitelist\n\n**Read-Only Commands (Generally Safe):**\n\n- `git status`, `git log`, `git diff`, `git show`\n- `ls`, `cat`, `head`, `tail`, `less`\n- `grep`, `find`, `wc`, `sort`\n- `npm list`, `./gradlew tasks`\n\n**Idempotent Commands (Safe):**\n\n- `npm install`, `npm ci`\n- `./gradlew build`, `./gradlew test`\n- `git pull` (on feature branches)\n- `mkdir -p` (with scoped paths)\n\n**Commands Requiring Approval:**\n\n- Any `rm` command\n- `git push --force`\n- `chmod`, `chown`\n- Piped curl/wget\n- System-level commands\n",
        "plugins/claude-retrospective/.claude-plugin/plugin.json": "{\n  \"name\": \"claude-retrospective\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Comprehensive analysis of Claude Code sessions to identify successful patterns, problematic areas, and opportunities for improvement.\",\n  \"author\": {\n    \"name\": \"Bitwarden\",\n    \"url\": \"https://github.com/bitwarden\"\n  },\n  \"homepage\": \"https://github.com/bitwarden/ai-plugins/tree/main/plugins/claude-retrospective\",\n  \"repository\": \"https://github.com/bitwarden/ai-plugins\",\n  \"keywords\": [\n    \"analysis\",\n    \"retrospective\",\n    \"session-review\",\n    \"performance-insights\",\n    \"improvement-opportunities\"\n  ],\n  \"skills\": \"./skills/\"\n}\n",
        "plugins/claude-retrospective/README.md": "# Claude Retrospective Plugin\n\nComprehensive analysis of Claude Code sessions to identify successful patterns, problematic areas, and opportunities for improvement through multi-source data collection and evidence-based insights.\n\n## Overview\n\nThe Claude Retrospective plugin provides systematic session analysis capabilities for Claude Code, helping you understand what worked well, what didn't, and how to continuously improve your AI-assisted development workflows. By examining git history, conversation logs, code quality metrics, and user feedback, it generates actionable retrospective reports that drive continuous improvement.\n\n## Features\n\n### Multi-Source Data Collection\n\nSystematically gathers data from all available sources:\n\n- **Git History**: Commits, diffs, file changes during session timeframe\n- **Claude Native Session Logs**: Conversation transcripts from `~/.claude/projects/{project-dir}/{session-id}.jsonl`\n- **Code Quality Metrics**: Test coverage, compilation status, standard compliance\n- **User Feedback**: Direct input about goals, satisfaction, and pain points\n- **Sub-agent Analysis**: Feedback from specialized agents used during the session\n\n### Flexible Analysis Depths\n\nChoose the right level of analysis for your needs:\n\n| Depth             | Duration  | Use Case                             | Data Collection                                               |\n| ----------------- | --------- | ------------------------------------ | ------------------------------------------------------------- |\n| **Quick**         | 5-10 min  | Simple sessions, rapid feedback      | Git stats only, error summary, 2-3 questions                  |\n| **Standard**      | 15-20 min | Typical sessions, balanced analysis  | Full commits, selective diffs, metadata, 5-7 questions        |\n| **Comprehensive** | 30+ min   | Complex sessions, deep-dive analysis | Everything: full logs, diffs, quality metrics, 8-10 questions |\n\nThe skill automatically recommends an appropriate depth based on session size (commits, log volume) but allows user override.\n\n### Evidence-Based Insights\n\nEvery finding is backed by concrete evidence:\n\n- **Quantitative Metrics**: Session scope, quality indicators, efficiency metrics\n- **Qualitative Assessment**: Successful patterns, problematic areas, root causes\n- **Specific References**: File:line citations for all claims\n- **Actionable Recommendations**: What, why, how, and expected impact\n\n### Configuration Improvement Loop\n\nRetrospectives can identify patterns that should become standard practice:\n\n1. Analyze session to identify improvement opportunities\n2. Suggest specific updates to `.claude/CLAUDE.md`, `SKILL.md`, or agent definitions\n3. Show proposed changes to user\n4. Apply with approval, creating continuous improvement cycle\n\n### Context-Aware Processing\n\nIntelligent handling of large sessions to prevent context overflow:\n\n- Checks session size before loading data\n- Adjusts depth automatically based on available context budget\n- Uses targeted extraction for large log files (>2000 lines)\n- Progressive disclosure: start high-level, drill down on request\n\n## Installation\n\n### Add Bitwarden Marketplace (if not already added)\n\n```bash\n/plugin marketplace add bitwarden/ai-marketplace\n```\n\n### Install the Plugin\n\n```bash\n/plugin install claude-retrospective@bitwarden-marketplace\n```\n\n## Usage\n\n### Basic Invocation\n\n**Natural language**:\n\n- \"Can you do a retrospective on what we just accomplished?\"\n- \"How did that session go?\"\n- \"Analyze the last 2 hours of work\"\n- \"What could we improve about how we worked together?\"\n\n**Direct skill invocation**:\n\n```bash\n/skill retrospecting\n```\n\n### Use Cases\n\n#### 1. Post-Session Review\n\n**Scenario**: You've completed a coding session and want to understand what worked well and what could be improved.\n\n**Usage**:\n\n```\nDo a retrospective on the last 2 hours of work\n```\n\n**Output**:\n\n- Quantitative metrics (commits, files changed, test coverage)\n- Success patterns identified with evidence\n- Pain points with root causes\n- Prioritized recommendations for future sessions\n\n---\n\n#### 2. Feature Implementation Analysis\n\n**Scenario**: You've completed a significant feature implementation and want detailed analysis of the approach and outcomes.\n\n**Usage**:\n\n```\nI want a comprehensive retrospective on the authentication refactor we completed today\n```\n\n**Output**:\n\n- Detailed git analysis with commit-by-commit review\n- Code quality assessment\n- Architecture decisions made and their rationale\n- Testing coverage and quality\n- Communication effectiveness\n- Reusable patterns extracted for future use\n\n---\n\n#### 3. Troubleshooting Workflow Issues\n\n**Scenario**: A session felt inefficient or frustrating, and you want to identify specific bottlenecks.\n\n**Usage**:\n\n```\nAnalyze why testing took so long in this session\n```\n\n**Output**:\n\n- Focused analysis on testing workflow\n- Identification of specific delays (test failures, environment issues, unclear requirements)\n- Root cause analysis for each bottleneck\n- Specific recommendations to improve testing efficiency\n\n---\n\n#### 4. Pattern Library Building\n\n**Scenario**: You want to extract successful approaches from a particularly effective session to replicate in future work.\n\n**Usage**:\n\n```\nThis session went really smoothly - help me identify the patterns we should keep using\n```\n\n**Output**:\n\n- Successful patterns documented with examples\n- Environmental factors that contributed to success\n- Recommendations for codifying patterns in configuration files\n- Suggestions for `.claude/CLAUDE.md` or skill updates\n\n---\n\n#### 5. Multi-Session Trend Analysis\n\n**Scenario**: You want to analyze patterns across multiple sessions to identify systemic issues or improvements.\n\n**Usage**:\n\n```\nAnalyze all sessions from the last week and identify trends\n```\n\n**Output**:\n\n- Aggregated metrics across sessions\n- Common success patterns and recurring issues\n- Workflow trends (improving, declining, stable)\n- Strategic recommendations for long-term improvement\n\n## Skills Included\n\n### retrospecting\n\n**Description**: Performs comprehensive analysis of Claude Code sessions, examining git history, conversation logs, code changes, and user feedback to generate actionable retrospective reports.\n\n**Working Process**:\n\n1. **Session Assessment**: Determine appropriate analysis depth based on session size\n2. **Scope Definition**: Establish time/commit range and session goals\n3. **Data Collection**: Gather git history, logs, code quality metrics, user feedback\n4. **Analysis**: Calculate metrics, identify patterns, assess communication effectiveness\n5. **Report Generation**: Create structured report using appropriate template\n6. **Validation**: Gather user feedback on report accuracy\n7. **Configuration Improvements**: Suggest updates to Claude configuration files\n8. **Archive Information**: Document where session logs are stored\n\n**Output**: Structured markdown reports saved to `${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/`\n\n---\n\n### extracting-session-data\n\n**Description**: Locates, lists, filters, and extracts structured data from Claude Code native session logs stored in `~/.claude/projects/{project-dir}/{session-id}.jsonl`.\n\n**Capabilities**:\n\n- **locate-logs.sh**: Find log directories and session file paths\n- **list-sessions.sh**: Enumerate sessions with metadata (ID, size, lines, date, branch)\n- **extract-data.sh**: Parse JSONL logs and extract specific data types:\n  - Metadata (session info, timestamps, branch)\n  - User prompts\n  - Tool usage statistics\n  - Errors and failed tool calls\n  - Thinking blocks (if extended thinking enabled)\n  - Text responses\n  - Session statistics\n- **filter-sessions.sh**: Find sessions by criteria (date range, branch, size, errors, keywords)\n\n**Key Principle**: Extracts raw data only - returns data to calling skills for analysis without interpretation.\n\n---\n\n### analyzing-git-sessions\n\n**Description**: Analyzes git commits and changes within a timeframe or commit range, providing structured summaries for code review, retrospectives, or work logs.\n\n**Capabilities**:\n\n- Parse time ranges (\"last 2 hours\", \"since 10am\") or commit ranges (\"abc123..def456\")\n- Extract commit history with authors and timestamps\n- Generate change statistics (insertions/deletions by file)\n- Identify key files for detailed analysis (prioritized by change size)\n- Provide selective diffs based on depth (concise/detailed/code review)\n- Categorize files by type (source, test, config, docs)\n- Handle large sessions with context overflow protection\n\n**Output Formats**:\n\n- **Concise**: Stats only, no diffs\n- **Detailed**: Top 3-5 file diffs\n- **Code Review**: Full analysis grouped by module\n\n## Report Structure\n\n### Quick Retrospective Template\n\n```markdown\n## Session Summary\n\n- Duration: X hours\n- Goals: [What you were trying to accomplish]\n- Outcome: [Success/Partial/Issues]\n\n## Highlights\n\n- [Top 2-3 successes]\n\n## Challenges\n\n- [Main 1-2 issues encountered]\n\n## Key Learnings\n\n- [Most important insight]\n\n## Action Items\n\n1. [First priority improvement]\n2. [Second priority improvement]\n```\n\n### Comprehensive Retrospective Template\n\n```markdown\n## Executive Summary\n\n- Session scope metrics\n- Overall assessment\n- Key achievements\n\n## Session Metrics\n\n[Quantitative data table]\n\n## What Went Well\n\n[Success patterns with evidence]\n\n## Pain Points\n\n[Issues with root cause analysis]\n\n## Workflow Analysis\n\n- Communication effectiveness\n- Tool usage patterns\n- Decision-making quality\n\n## Code Quality Assessment\n\n- Test coverage\n- Compilation success\n- Standard compliance\n\n## Recommendations\n\n[Prioritized by impact: High/Medium/Low]\n\n## Patterns for Future Reference\n\n- Successful approaches to replicate\n- Anti-patterns to avoid\n\n## Configuration Suggestions\n\n[Proposed updates to .claude files]\n```\n\n## File Organization\n\n```\nplugins/claude-retrospective/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json                       # Plugin manifest\n‚îú‚îÄ‚îÄ skills/\n‚îÇ   ‚îú‚îÄ‚îÄ retrospecting/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SKILL.md                      # Main retrospective skill\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ README.md                     # User documentation\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ session-analytics.md     # Analysis framework (auto-loaded)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ retrospective-templates.md # Report templates (auto-loaded)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reports/                      # Generated reports (YYYY-MM-DD-*.md)\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scripts/\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ analyze-session-logs.sh  # Helper script\n‚îÇ   ‚îú‚îÄ‚îÄ extracting-session-data/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SKILL.md                      # Log extraction skill\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ README.md                     # Extraction documentation\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scripts/\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ locate-logs.sh           # Find log directories\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ list-sessions.sh         # List all sessions\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ extract-data.sh          # Extract specific data types\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ filter-sessions.sh       # Filter by criteria\n‚îÇ   ‚îî‚îÄ‚îÄ analyzing-git-sessions/\n‚îÇ       ‚îú‚îÄ‚îÄ SKILL.md                      # Git analysis skill\n‚îÇ       ‚îú‚îÄ‚îÄ README.md                     # Git analysis documentation\n‚îÇ       ‚îî‚îÄ‚îÄ contexts/\n‚îÇ           ‚îî‚îÄ‚îÄ example-outputs.md       # Example git summaries\n‚îî‚îÄ‚îÄ README.md                             # This file\n```\n\n## Tips for Best Results\n\n### Provide Clear Session Goals\n\nWhen asked \"What were you trying to accomplish?\", be specific:\n\n- ‚úÖ **Good**: \"Refactor authentication to use biometric providers and add unit tests\"\n- ‚ùå **Less helpful**: \"Work on authentication\"\n\n### Be Honest About Pain Points\n\nCandid feedback leads to better insights:\n\n- Where did you get confused?\n- What took longer than expected?\n- What would you change about the workflow?\n\n### Use Retrospectives Regularly\n\n- **After major features**: Capture complex implementation insights\n- **Weekly/sprint boundaries**: Track progress and improvement trends\n- **After challenging sessions**: Learn from difficulties\n- **After smooth sessions**: Identify what made them effective\n\n### Follow Up on Recommendations\n\nRetrospectives are most valuable when acted upon:\n\n- Implement high-priority improvements in next session\n- Update configuration files with better practices\n- Share learnings with team (if applicable)\n\n## Dependencies\n\n**Required**:\n\n- `bash` (v4.0+)\n- `jq` (JSON parser for log extraction)\n\nScripts check for `jq` and provide installation instructions if missing:\n\n```bash\nbrew install jq  # macOS\napt-get install jq  # Linux\n```\n\n## Privacy & Security\n\n### What Data is Analyzed\n\n- Git commits and diffs visible in your repository\n- Claude Code native session logs from `~/.claude/projects/{project-dir}/`\n- File contents of changed files\n- Your explicit feedback responses\n\n### Data Storage\n\n- All analysis happens locally in your session\n- Reports stored in your repository (`.claude/skills/retrospecting/reports/`)\n- No data sent to external services\n- Session logs managed by Claude Code (can be deleted after retrospective if desired)\n\n### Sensitive Information\n\nIf your session involved sensitive data:\n\n- Review generated reports before committing them\n- Retrospectives can be run without committing reports\n- You can request specific sections be excluded from the report\n\n## Troubleshooting\n\n### \"Session logs not found\"\n\n- Session logs are automatically generated by Claude Code in `~/.claude/projects/{project-dir}/`\n- Project directory is derived from your working directory (slashes replaced with dashes)\n- Example: `/Users/user/project` ‚Üí `~/.claude/projects/-Users-user-project/`\n- You can still do a retrospective using git history + your feedback if logs are unavailable\n\n### \"Report seems generic\"\n\n- Provide more specific session goals upfront\n- Add detailed feedback when prompted\n- Request a comprehensive retrospective for deeper analysis\n\n### \"Analysis doesn't match my experience\"\n\n- The validation step is designed for this feedback\n- Tell the skill what's missing or incorrect\n- It will refine the analysis based on your input\n\n### \"Context window exceeded\"\n\n- Request a \"quick\" retrospective for large sessions\n- The skill will summarize logs instead of reading them fully\n- Focus on specific areas rather than comprehensive analysis\n\n## Contributing\n\nContributions welcome! Please follow:\n\n- [Bitwarden Contributing Guidelines](https://contributing.bitwarden.com)\n- Repository standards in root `README.md`\n- Code quality requirements in `.editorconfig`\n\n## Support\n\n- **Issues**: [GitHub Issues](https://github.com/bitwarden/ai-plugins/issues)\n- **Documentation**: [Claude Code Docs](https://docs.claude.com/en/docs/claude-code/)\n- **Marketplace**: [Bitwarden AI Marketplace](https://github.com/bitwarden/ai-plugins)\n",
        "plugins/claude-retrospective/skills/analyzing-git-sessions/README.md": "# Analyzing Git Sessions\n\nAnalyzes git commits and changes within a timeframe or commit range, providing structured summaries for various use cases.\n\n## What It Does\n\nThis skill analyzes git repository activity and produces structured summaries including:\n\n- Commit history with messages and authors\n- File change statistics (additions, deletions, modifications)\n- Identification of key files by change magnitude\n- Optional code diffs for review\n- Multiple output formats for different use cases\n\n## When to Use\n\nUse this skill when you need to:\n\n- **Review your work**: \"What did I accomplish in the last 2 hours?\"\n- **Prepare code reviews**: Generate PR descriptions and identify review focus areas\n- **Write standups**: \"What did I work on yesterday?\"\n- **Document sessions**: Capture work done during a coding session\n- **Analyze branches**: \"What changes are in my feature branch?\"\n- **Track activity**: Weekly or monthly contribution summaries\n\n## How to Use\n\n### Natural Language Invocations\n\n**Time-based analysis**:\n\n- \"Analyze my git changes from the last 2 hours\"\n- \"Show me what I committed today\"\n- \"Summarize my work since 10am\"\n- \"What changed in the last hour?\"\n\n**Commit range analysis**:\n\n- \"Show me changes between abc123 and def456\"\n- \"Analyze commits from HEAD~5 to HEAD\"\n- \"Compare feature-branch to main\"\n\n**With specific focus**:\n\n- \"Show me authentication module changes from today\"\n- \"What test files did I modify this week?\"\n- \"Analyze changes in the app directory since yesterday\"\n\n**Output format requests**:\n\n- \"Generate a code review summary for my last 3 commits\"\n- \"Give me a concise summary of today's work\"\n- \"Show detailed diffs for my morning commits\"\n\n### Direct Skill Invocation\n\n```\n/skill analyzing-git-sessions\n```\n\nThe skill will prompt you for:\n\n1. Time range or commit range\n2. Optional path filters\n3. Desired output depth (concise/detailed/code review)\n\n## Output Formats\n\n### 1. Concise Summary (Default)\n\nBest for: Quick overview, standup reports, work logs\n\nIncludes:\n\n- Commit count and authors\n- Files changed summary (added/modified/deleted)\n- Net line changes\n- Top 5-10 files by change size\n- Commit messages\n\n**Example**:\n\n```\nGit Session Summary\nRange: 2 hours ago to now\nCommits: 8\nFiles Changed: 12 modified, 2 added\nNet Changes: +340 -120 lines\n\nTop Files:\n1. AuthViewModel.kt (+85 -30)\n2. LoginScreen.kt (+60 -15)\n...\n```\n\n### 2. Detailed Summary\n\nBest for: Session documentation, deeper review\n\nIncludes everything from Concise, plus:\n\n- Full file list with statistics\n- Author breakdown\n- Diffs for top 3-5 files\n- File categorization (source, test, config)\n\n### 3. Code Review Format\n\nBest for: PR preparation, team reviews\n\nIncludes:\n\n- Suggested PR title (from commits)\n- Changes grouped by module/directory\n- Scope summary\n- Test coverage assessment\n- Formatted commits suitable for PR description\n- Key diffs organized by module\n\n## Configuration Options\n\n### Output Depth\n\nControl level of detail:\n\n- **Concise**: Stats and commit list only (~500-1000 tokens)\n- **Detailed**: Stats + top file diffs (~2000-5000 tokens)\n- **Code Review**: Comprehensive with module grouping (~3000-8000 tokens)\n\nThe skill automatically suggests appropriate depth based on session size.\n\n### Path Filters\n\nNarrow analysis to specific paths:\n\n- \"Analyze changes in app/src/main/kotlin/auth/\"\n- \"Show only test file changes\"\n- \"Focus on gradle files\"\n\n### Author Filters\n\nFor multi-contributor analysis:\n\n- \"Show only my commits from today\"\n- \"What did the team change this week?\"\n\n## Use Cases\n\n### 1. Daily Standup Preparation\n\n**Request**: \"Summarize my git changes from yesterday\"\n\n**Result**: Concise list of commits and key files for standup discussion\n\n### 2. Code Review Preparation\n\n**Request**: \"Generate code review summary for feature-auth-biometrics branch\"\n\n**Result**: PR-ready description with:\n\n- What changed and why\n- Files organized by module\n- Test coverage notes\n- Suggested review focus areas\n\n### 3. Session Documentation\n\n**Request**: \"Detailed analysis of my work in the last 3 hours\"\n\n**Result**: Comprehensive summary for retrospective or work log:\n\n- What was accomplished\n- Which files were touched\n- Magnitude of changes\n- Key code diffs\n\n### 4. Weekly Activity Summary\n\n**Request**: \"Show me all my commits from the last 7 days\"\n\n**Result**: Week-at-a-glance view of your contributions\n\n### 5. Branch Comparison\n\n**Request**: \"Compare feature-branch to main\"\n\n**Result**: What's in the feature branch that's not in main\n\n- Commits to be merged\n- Files that will change\n- Potential conflicts\n\n### 6. Retrospective Git Data\n\n**Request**: (Called by retrospecting skill during analysis)\n\n**Result**: Git metrics for retrospective:\n\n- Session scope (commit count, file count)\n- Change velocity\n- Areas of focus (which modules touched)\n\n## Tips for Best Results\n\n### Be Specific About Timeframe\n\n**Good**:\n\n- \"Last 2 hours\"\n- \"Since 2025-10-23 14:00\"\n- \"Today from 9am to 5pm\"\n\n**Less specific** (still works, but may need clarification):\n\n- \"Recent changes\" ‚Üí skill will ask \"how recent?\"\n- \"My work\" ‚Üí skill will ask \"from when?\"\n\n### Request Appropriate Depth\n\nFor quick checks: \"Give me a concise summary\"\nFor thorough review: \"Detailed analysis with diffs\"\nFor PR prep: \"Code review format\"\n\nThe skill will recommend depth based on session size, but you can override.\n\n### Use Filters for Large Sessions\n\nIf you worked on multiple areas:\n\n- \"Show only authentication changes from today\"\n- \"Analyze ViewModel changes in the last week\"\n\nThis keeps output focused and context-efficient.\n\n## Output Examples\n\n### Example 1: Quick Work Log\n\n**Input**: \"What did I work on this morning?\"\n\n**Output**:\n\n```markdown\nGit Session Summary (9:00am - 12:00pm)\n\nCommits: 6\nFiles: 9 modified, 1 added\nChanges: +220 -65 lines\n\nCommits:\n\n- Add biometric authentication support\n- Refactor LoginViewModel state handling\n- Update authentication tests\n- Fix credential manager integration\n- Add error handling for biometric failures\n- Update documentation\n\nKey Files:\n\n1. BiometricAuthManager.kt (+85 -15)\n2. LoginViewModel.kt (+60 -25)\n3. AuthenticationTests.kt (+45 -20)\n```\n\n### Example 2: Code Review Ready\n\n**Input**: \"Generate PR summary for my feature branch\"\n\n**Output**:\n\n```markdown\nPull Request Summary\n\nTitle: Add Biometric Authentication Support\n\nOverview:\n\n- 12 commits over 3 days\n- 15 files changed across 3 modules\n- Adds biometric authentication flow with fallback\n\nCommits:\n\n1. Implement BiometricAuthManager for authentication\n2. Add biometric prompt UI components\n3. Integrate with CredentialManager API\n   ...\n\nChanges by Module:\n\napp (8 files):\n\n- BiometricAuthManager.kt: Core biometric logic\n- LoginScreen.kt: UI integration\n- AuthViewModel.kt: State management\n\ncore (4 files):\n\n- CredentialProvider.kt: Credential management\n- SecurityUtils.kt: Security helpers\n\ntests (3 files):\n\n- BiometricAuthTests.kt: Unit tests\n- LoginFlowTests.kt: Integration tests\n\nTest Coverage:\n‚úì 2 new test files added\n‚úì 45 new test cases\n‚ö† Consider: Error handling edge cases\n\n[Diffs for key files would follow]\n```\n\n## Integration with Other Skills\n\nThis skill integrates with several workflows and can be invoked standalone or as part of other processes:\n\n### Retrospecting Skill\n\n- Invoked during Step 2 (Gather Data - Git Analysis)\n- Provides commit history and change stats for retrospective analysis\n\n### Code Review Preparation\n\n- Generate PR descriptions\n- Identify review focus areas\n- Highlight test coverage changes\n\n### Daily Standup Reports\n\n- \"What did I work on yesterday?\"\n- Quick summary of activity\n\n### Work Log Generation\n\n- Weekly/monthly activity summaries\n- Contribution tracking\n\n## Performance Notes\n\n### Context Efficiency\n\n- **Concise mode**: ~500-1K tokens (very efficient)\n- **Detailed mode**: ~2-5K tokens (moderate)\n- **Code Review mode**: ~3-8K tokens (comprehensive)\n\nFor large sessions (>30 files), the skill automatically uses concise mode to prevent context overflow.\n\n### Speed\n\n- Git commands are fast (typically <1 second)\n- Analysis and formatting: 5-10 seconds\n- Total time: Usually <30 seconds\n\n## Limitations\n\n**Cannot**:\n\n- Analyze uncommitted changes (use `git status` or `git diff` directly)\n- Access remote branches not fetched locally\n- Interpret semantic meaning of changes (shows what changed, not why)\n- Generate commits or modify git history\n\n**Works best with**:\n\n- Clean commit history with meaningful messages\n- Commits pushed regularly (not one giant commit)\n- Reasonable session sizes (<100 files changed)\n\n## Troubleshooting\n\n### \"No commits found in range\"\n\n- Check your time syntax: \"since 2 hours ago\" not \"2 hours\"\n- Verify commits exist: `git log --since=\"your timeframe\"`\n- Try absolute time: \"since 2025-10-23 10:00\"\n\n### \"Too many files changed, showing summary only\"\n\n- This is context protection (>30 files)\n- Request specific paths: \"Show only app/ changes\"\n- Use concise mode explicitly\n- Split analysis into multiple focused queries\n\n### \"Commit range invalid\"\n\n- Check commit hashes exist: `git log abc123`\n- Use correct range syntax: `start..end` (two dots)\n- Ensure branch names are correct\n\n### Output seems incomplete\n\n- Specify \"detailed\" mode explicitly\n- Check if session size triggered automatic concise mode\n- Request specific files: \"Show diffs for MainActivity.kt\"\n\n## Version History\n\n**v1.0** (2025-10-23):\n\n- Initial release\n- Support for time ranges and commit ranges\n- Three output formats (concise, detailed, code review)\n- Context-aware depth selection\n- Integration with retrospecting skill\n\n## Feedback\n\nFound an issue or want a feature?\n\n- Update `.claude/skills/analyzing-git-sessions/SKILL.md`\n- Modify this README for documentation improvements\n- Suggest new output formats or filters\n\n---\n\n**Maintained By**: @team-ai-sme\n**Related Skills**: `retrospecting`, `reviewing-changes`\n",
        "plugins/claude-retrospective/skills/analyzing-git-sessions/SKILL.md": "---\nname: analyzing-git-sessions\ndescription: Analyzes git commits and changes within a timeframe or commit range, providing structured summaries for code review, retrospectives, work logs, or session documentation.\n---\n\n# Analyzing Git Sessions\n\n## Core Responsibility\n\nGenerate structured analysis of git activity for specified timeframe or commit range, including commit history, file changes, statistics, and optional diffs.\n\n## Inputs\n\nAccept from user:\n\n- **Time range**: \"last 2 hours\", \"since 10am\", \"today\", \"since 2025-10-23 14:00\"\n- **Commit range**: \"abc123..def456\", \"HEAD~5..HEAD\", \"feature-branch..main\"\n- **Optional filters**: Specific paths, authors, or file types\n- **Output depth**: Concise (default), Detailed, or Code Review format\n\n## Working Process\n\n### Step 1: Parse and Validate Input\n\n1. **Determine range type**:\n   - Time-based: Parse relative or absolute time\n   - Commit-based: Validate commit references exist\n   - Branch-based: Resolve branch names to commits\n\n2. **Validate git repository**:\n\n   ```bash\n   git rev-parse --git-dir\n   ```\n\n3. **Check range has commits**:\n   ```bash\n   git log <range> --oneline | head -1\n   ```\n   If empty, inform user and exit.\n\n### Step 2: Extract Commit History\n\n```bash\n# Get all commits in range\ngit log <range> --oneline --no-decorate\n\n# Get detailed commit info\ngit log <range> --format=\"%h|%an|%ar|%s\" --no-decorate\n\n# Count commits\ngit log <range> --oneline | wc -l\n```\n\nStore commit data for summary.\n\n### Step 3: Generate Statistics\n\n**Overall change statistics**:\n\n```bash\n# Summary stats (insertions/deletions by file)\ngit diff <start>..<end> --stat\n\n# Numeric stats for parsing\ngit diff <start>..<end> --numstat\n\n# Count total changes\ngit diff <start>..<end> --shortstat\n```\n\n**Author breakdown** (if multiple authors):\n\n```bash\ngit shortlog <start>..<end> -sn\n```\n\n**File categorization**:\n\n- Identify new files (show in status \"A\")\n- Identify deleted files (show in status \"D\")\n- Identify renamed files (show in status \"R\")\n- Modified files with change magnitude\n\n### Step 4: Identify Key Files for Detailed Analysis\n\n**Prioritization rules**:\n\n1. **Large changes** (>100 lines modified): Always include\n2. **New files**: Include (especially if >50 lines)\n3. **Deleted files**: Note but don't diff\n4. **Architecture files**: `build.gradle.kts`, `AndroidManifest.xml`, module configs\n5. **Test files**: Flag separately for test coverage assessment\n\n**Extract key file list**:\n\n```bash\n# Files changed with line counts\ngit diff <start>..<end> --numstat | sort -rn -k1 -k2\n```\n\nLimit to top 10 files by default to avoid context overflow.\n\n### Step 5: Generate Selective Diffs (Based on Depth)\n\n**Concise mode**: No diffs, stats only\n\n**Detailed mode**: Diffs for top 3-5 key files\n\n```bash\ngit diff <start>..<end> -- path/to/key/file.kt\n```\n\n**Code Review mode**: Diffs for all modified files, grouped by module\n\n```bash\n# Group by directory\ngit diff <start>..<end> --name-only | cut -d'/' -f1-2 | sort -u\n\n# Generate diffs per module\nfor module in modules; do\n  git diff <start>..<end> -- $module/\ndone\n```\n\n**Context overflow protection**:\n\n- If >10 files changed significantly, limit to top 5 diffs\n- Warn user: \"Showing top 5 files by change size. Request specific files for full diffs.\"\n\n### Step 6: Present Structured Summary\n\n**Format based on depth**:\n\n#### Concise Summary\n\n```markdown\n## Git Session Summary\n\n**Range**: <start-commit> to <end-commit> (<timeframe>)\n**Commits**: X commits by Y author(s)\n**Files Changed**: A modified, B added, C deleted\n**Net Changes**: +X -Y lines\n\n### Commits\n\n- abc123 Commit message 1\n- def456 Commit message 2\n  ...\n\n### Top Files Changed\n\n1. path/to/file1.kt (+50 -20)\n2. path/to/file2.kt (+30 -15)\n   ...\n```\n\n#### Detailed Summary\n\nIncludes:\n\n- Full commit list with authors and timestamps\n- Complete file list with change stats\n- Author breakdown\n- Top 3-5 diffs for review\n\n#### Code Review Format\n\n```markdown\n## Code Review Summary\n\n### Overview\n\n- **PR Title**: [Suggested from commit messages]\n- **Changes**: X files across Y modules\n- **Scope**: [Inferred from changed files]\n\n### Commits\n\n[Formatted commit list suitable for PR description]\n\n### Changes by Module\n\n**Module: app**\n\n- file1.kt: Description of changes\n- file2.kt: Description of changes\n\n**Module: core**\n...\n\n### Key Changes\n\n[Diffs for significant modifications]\n\n### Test Coverage\n\n- Test files modified: X\n- New tests added: ~Y\n```\n\n## Output Guidelines\n\n### Commit Messages\n\n- Show short hash (7 chars)\n- Show first line of commit message only\n- Truncate long messages to 80 chars\n- Group by author if multiple contributors\n\n### File Paths\n\n- Use relative paths from repo root\n- Format as code: `path/to/file.kt`\n- Include line change magnitude: (+X -Y)\n- Highlight file type (source, test, config)\n\n### Statistics\n\nPresent in clear tables:\n\n```markdown\n| Metric        | Count |\n| ------------- | ----- |\n| Commits       | 15    |\n| Files Changed | 23    |\n| Insertions    | +450  |\n| Deletions     | -180  |\n```\n\n### Diffs\n\n- Include file path as header: `### path/to/file.kt`\n- Use code blocks with syntax highlighting\n- Show context lines (git default: 3 lines before/after)\n- Truncate very large diffs (>200 lines) with summary\n\n## Context Budget Management\n\n**Monitor diff sizes**:\n\n- Small session (<10 files, <500 lines): Safe for detailed mode\n- Medium session (10-30 files, 500-2000 lines): Use selective diffs\n- Large session (>30 files, >2000 lines): Concise mode with warnings\n\n**Progressive disclosure**:\n\n1. Always start with concise summary\n2. Ask user: \"Would you like detailed diffs for specific files?\"\n3. Generate diffs on demand rather than upfront\n\n**Fallback for large sessions**:\n\"This session modified 45 files with 5000+ line changes. Showing concise summary. Request specific files or modules for detailed diffs.\"\n\n## Anti-Patterns to Avoid\n\n**Don't**:\n\n- Generate diffs for all files in large sessions (context overflow)\n- Include full diffs without asking (waste context on unneeded details)\n- Ignore file types (treat test changes same as source changes)\n- Lose context on what user wants to know\n- Use generic summaries (\"modified 10 files\") without specifics\n\n**Do**:\n\n- Ask user what level of detail they need\n- Prioritize key files by change magnitude\n- Categorize files (source, test, config, docs)\n- Provide actionable summaries\n- Offer to drill down on specific files\n\n## Success Criteria\n\nA good git session analysis should:\n\n1. **Inform**: User understands scope of changes at a glance\n2. **Focus**: Highlights most significant changes first\n3. **Actionable**: Provides paths and diffs for deeper review\n4. **Efficient**: Doesn't waste context on unnecessary details\n5. **Adaptable**: Adjusts depth based on session size and user needs\n\n## Example Outputs\n\nSee `contexts/example-outputs.md` for detailed examples of concise summaries and code review formats.\n",
        "plugins/claude-retrospective/skills/analyzing-git-sessions/contexts/example-outputs.md": "## Example Outputs\n\n### Example 1: Concise (Small Session)\n\n```markdown\n## Git Session Summary\n\n**Range**: 2025-10-23 14:00 to 16:30 (2.5 hours)\n**Commits**: 5 commits\n**Files Changed**: 7 modified, 2 added\n**Net Changes**: +180 -45 lines\n\n### Commits\n\n- 3be876a Add session logging hooks\n- 60d00cf Format file paths and code references\n- 9a0bd0b Remove line references from SKILL.md\n- dec2ed7 Add CODEOWNERS for Claude files\n- b7fb072 Add reviewing-changes skill\n\n### Top Files Changed\n\n1. `.claude/skills/retrospecting/SKILL.md` (+85 -30)\n2. `.claude/skills/reviewing-changes/SKILL.md` (+120 -0) [NEW]\n3. `.claude/hooks/prompt-submit.sh` (+25 -10)\n```\n\n### Example 2: Code Review Format\n\n```markdown\n## Code Review Summary\n\n### Overview\n\n- **Suggested PR Title**: \"Add retrospective skill with session logging\"\n- **Changes**: 9 files across 2 areas (skills, hooks)\n- **Scope**: New skill creation + infrastructure improvements\n\n### Commits (3)\n\n- Add comprehensive retrospective skill with analysis framework\n- Implement session logging hooks for skill consumption\n- Add code review skill for PR validation\n\n### Changes by Area\n\n**Skills** (6 files):\n\n- `.claude/skills/retrospecting/SKILL.md`: New skill definition\n- `.claude/skills/retrospecting/contexts/session-analytics.md`: Analysis framework\n- `.claude/skills/reviewing-changes/SKILL.md`: New code review skill\n\n**Infrastructure** (3 files):\n\n- `.claude/hooks/prompt-submit.sh`: Add logging on session events\n- `.claude/CODEOWNERS`: Add ownership for Claude config files\n- `docs/ARCHITECTURE.md`: Document skill system\n\n### Test Coverage\n\n- No test files modified\n- Consider: Unit tests for log parsing logic\n\n[Key diffs would follow...]\n```\n",
        "plugins/claude-retrospective/skills/extracting-session-data/README.md": "# Extracting Session Data Skill\n\nLocates, lists, filters, and extracts structured data from Claude Code session logs. Designed for efficient access to single or multiple sessions.\n\n## What It Does\n\nThis skill provides programmatic access to Claude Code's native session logs stored in:\n\n```\n~/.claude/projects/{project-dir}/{session-id}.jsonl\n```\n\nIt can:\n\n- **Locate** session log directories and files\n- **List** available sessions with metadata (size, date, branch)\n- **Extract** specific data (errors, tool usage, messages, statistics)\n- **Filter** sessions by criteria (timeframe, branch, errors, keywords)\n\n## When to Use\n\nYou typically won't invoke this skill directly. Other skills (like `retrospecting`) use it behind the scenes to access session data efficiently.\n\nHowever, you might invoke it directly when you want to:\n\n- See what sessions are available\n- Find sessions from a specific timeframe or branch\n- Extract specific data (like all errors from recent sessions)\n- Check session sizes before analysis\n\n### Example Invocations\n\n```\nCan you list all my Claude sessions from the last week?\nShow me which sessions had errors\nWhat sessions are available for this project?\nExtract tool usage statistics from my last session\n```\n\n## What to Expect\n\n### Process Flow\n\nWhen you request session data, the skill will:\n\n1. **Locate** your project's session logs directory\n2. **Filter or list** sessions based on your criteria\n3. **Extract** the requested data type\n4. **Return** raw data for analysis or presentation\n\n### Output Format\n\nThis skill returns **raw data** rather than analyzed insights:\n\n```\nSession: abc123-def456-ghi789\n  Total Lines: 450\n  User Messages: 12\n  Assistant Messages: 23\n  Tool Calls: 45\n  Errors: 2\n```\n\nOther skills (like retrospecting) interpret this data to generate insights.\n\n## Available Operations\n\n### 1. List Sessions\n\nSee all available sessions for your project:\n\n**Output formats**: `table` (default), `json`, `csv`\n**Sort options**: `date` (default), `size`, `lines`\n\n```bash\n# List all sessions (table format)\nscripts/list-sessions.sh\n\n# List with JSON output\nscripts/list-sessions.sh --format json\n\n# List sorted by size\nscripts/list-sessions.sh --sort size\n\n# List for specific project\nscripts/list-sessions.sh /path/to/project --sort date\n```\n\n### 2. Filter Sessions\n\nFind sessions matching specific criteria:\n\n**Available filter options**:\n\n- `--since DATE` - Sessions modified since date (e.g., \"2 days ago\", \"2025-10-20\")\n- `--until DATE` - Sessions modified until date\n- `--branch NAME` - Sessions on specific git branch\n- `--min-size SIZE` - Minimum file size (e.g., \"1M\", \"500K\")\n- `--max-size SIZE` - Maximum file size\n- `--min-lines N` - Minimum line count\n- `--max-lines N` - Maximum line count\n- `--has-errors` - Only sessions with failed tool calls\n- `--keyword WORD` - Sessions containing keyword\n\n**Output formats**: `list` (default), `paths`, `json`\n\n```bash\n# Recent sessions\nscripts/filter-sessions.sh --since \"2 days ago\"\n\n# Sessions with errors\nscripts/filter-sessions.sh --has-errors\n\n# Sessions on specific branch\nscripts/filter-sessions.sh --branch main\n\n# Large sessions with errors\nscripts/filter-sessions.sh --min-lines 500 --has-errors\n\n# Sessions on main branch in last week\nscripts/filter-sessions.sh --branch main --since \"7 days ago\"\n\n# Sessions containing specific keyword\nscripts/filter-sessions.sh --keyword \"authentication\"\n\n# Get paths only (for piping to other commands)\nscripts/filter-sessions.sh --since \"1 day ago\" --format paths\n```\n\n### 3. Extract Data\n\nPull specific information from sessions:\n\n**Available extraction types**:\n\n- `metadata` - Session info (ID, timestamps, branch, working dir)\n- `user-prompts` - All user messages\n- `tool-usage` - Tool call statistics (which tools, how many times)\n- `errors` - Failed tool calls with timestamps\n- `thinking` - Thinking blocks (if extended thinking enabled)\n- `text-responses` - Assistant text responses only\n- `statistics` - Session metrics (message counts, tool calls, errors)\n- `all` - Combined extraction of key data\n\n```bash\n# Session metadata\nscripts/extract-data.sh --type metadata --session SESSION_ID\n\n# Statistics (message counts, tool calls, errors)\nscripts/extract-data.sh --type statistics --session SESSION_ID\n\n# All errors\nscripts/extract-data.sh --type errors --session SESSION_ID\n\n# Tool usage statistics\nscripts/extract-data.sh --type tool-usage --session SESSION_ID\n\n# User prompts (with optional limit)\nscripts/extract-data.sh --type user-prompts --session SESSION_ID --limit 10\n\n# Extract from all sessions (omit --session flag)\nscripts/extract-data.sh --type statistics\n\n# Extract from different project\nscripts/extract-data.sh --type metadata --project /path/to/project\n```\n\n## File Organization\n\n```\nplugins/claude-retrospective/skills/extracting-session-data/\n‚îú‚îÄ‚îÄ README.md                  # This file (user documentation)\n‚îú‚îÄ‚îÄ SKILL.md                   # Instructions for Claude\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ locate-logs.sh         # Find log directories and files\n    ‚îú‚îÄ‚îÄ list-sessions.sh       # Enumerate sessions with metadata\n    ‚îú‚îÄ‚îÄ extract-data.sh        # Extract structured data from logs\n    ‚îî‚îÄ‚îÄ filter-sessions.sh     # Filter sessions by criteria\n```\n\nSession logs themselves are stored by Claude Code in:\n\n```\n~/.claude/projects/{project-dir}/{session-id}.jsonl\n```\n\n## How Session Paths Work\n\nClaude Code calculates the log directory from your working directory:\n\n1. Take the absolute working directory path\n2. Replace all `/` with `-`\n3. Store logs in `~/.claude/projects/{transformed-path}/`\n\n**Example**:\n\n```\nWorking Directory: /Users/you/projects/myapp\nProject Identifier: -Users-you-projects-myapp\nLogs Directory: ~/.claude/projects/-Users-you-projects-myapp/\n```\n\nAll scripts in this skill handle this transformation automatically.\n\n## Use Cases\n\n### For Users\n\n**\"What sessions are available?\"**\n\n```\nList all sessions: scripts/list-sessions.sh\n```\n\n**\"Show me recent sessions with errors\"**\n\n```\nscripts/filter-sessions.sh --since \"7 days ago\" --has-errors\n```\n\n**\"How much data is in my last session?\"**\n\n```\nscripts/extract-data.sh --type statistics --session SESSION_ID\n```\n\n### For Skills Integration\n\n**Retrospective Skill** uses this skill to:\n\n- List available sessions for user selection\n- Check session sizes before processing\n- Extract errors, tool usage, and statistics\n- Filter sessions by timeframe or branch\n\n**Future Skills** could use it to:\n\n- Compare sessions across time\n- Generate usage reports\n- Debug specific session issues\n- Archive or export session data\n\n## Requirements\n\n### Dependencies\n\n- **bash** (v4.0+)\n- **jq** (JSON parser) - Install with `brew install jq`\n\nIf `jq` is not installed, scripts will display installation instructions.\n\n### Session Logs\n\nThis skill requires Claude Code's native session logs. These are automatically created by Claude Code when you use it. No manual setup needed.\n\n## Privacy & Security\n\n### What Data is Accessed\n\n- Session log files in `~/.claude/projects/`\n- Contains all messages, tool calls, and responses from sessions\n- Stored locally on your machine\n\n### Data Storage\n\n- No data is sent to external services\n- All processing happens locally\n- Scripts only read logs, never modify them\n- Extracted data stays in your terminal session unless you save it\n\n### Sensitive Information\n\nIf your sessions contained sensitive data:\n\n- Session logs are stored locally only\n- You control access to `~/.claude/projects/` directory\n- Be cautious when sharing extracted data\n- Consider project-specific access controls\n\n## Error Handling\n\nAll scripts exit with non-zero status on errors and output messages to stderr. You can check exit status in bash:\n\n```bash\n# Check if logs exist before processing\nif ! scripts/locate-logs.sh /path/to/project &>/dev/null; then\n    echo \"Project has no session logs\"\nfi\n```\n\n**Common errors**:\n\n```bash\n# Logs directory doesn't exist\nscripts/locate-logs.sh /nonexistent/project\n# Error: Logs directory not found: ~/.claude/projects/-nonexistent-project\n\n# Session file not found\nscripts/extract-data.sh --type metadata --session invalid-id\n# Error: Session file not found: ~/.claude/projects/-path/invalid-id.jsonl\n\n# Missing required argument\nscripts/extract-data.sh --session abc123\n# Error: --type is required\n\n# jq not installed\nscripts/extract-data.sh --type metadata --session abc123\n# Error: jq is required but not installed. Install with: brew install jq\n```\n\n## Troubleshooting\n\n### \"Logs directory not found\"\n\n**Cause**: No sessions exist for the current project yet, or you're in a different directory.\n\n**Solution**:\n\n- Check you're in the correct project directory\n- Verify Claude Code has been used in this project\n- Manually check: `ls ~/.claude/projects/`\n\n### \"Session file not found\"\n\n**Cause**: Session ID doesn't exist or is incorrect.\n\n**Solution**:\n\n- List available sessions: `scripts/list-sessions.sh`\n- Copy exact session ID from the list\n- Ensure you're in the correct project directory\n\n### \"jq is required but not installed\"\n\n**Cause**: The `jq` JSON parser is not installed.\n\n**Solution**:\n\n```bash\n# macOS\nbrew install jq\n\n# Linux (Ubuntu/Debian)\nsudo apt-get install jq\n\n# Linux (Fedora/RHEL)\nsudo dnf install jq\n```\n\n### \"No sessions match the specified criteria\"\n\n**Cause**: Filter criteria are too restrictive.\n\n**Solution**:\n\n- Broaden criteria (e.g., longer timeframe)\n- List all sessions first: `scripts/list-sessions.sh`\n- Check filter syntax in help: `scripts/filter-sessions.sh --help`\n\n## Examples\n\n### Example 1: Finding Recent Work\n\n**Goal**: See what you've worked on in the last 3 days\n\n```bash\nscripts/filter-sessions.sh --since \"3 days ago\"\n```\n\n**Output**:\n\n```\nFound 5 matching session(s):\n\nSession: abc123...\n  Size: 2.5M\n  Lines: 1250\n  Modified: 2025-10-24 14:30:00\n  Branch: feature/auth\n\nSession: def456...\n  Size: 1.2M\n  Lines: 600\n  Modified: 2025-10-23 09:15:00\n  Branch: main\n...\n```\n\n### Example 2: Investigating Errors\n\n**Goal**: Find all sessions with errors and see what failed\n\n```bash\n# Find sessions with errors\nscripts/filter-sessions.sh --has-errors --since \"7 days ago\"\n\n# Extract errors from specific session\nscripts/extract-data.sh --type errors --session abc123\n```\n\n### Example 3: Comparing Tool Usage\n\n**Goal**: See which tools you use most often\n\n```bash\n# Get tool usage from multiple recent sessions\nfor session in $(scripts/filter-sessions.sh --since \"7 days ago\" --format paths | xargs -n1 basename -s .jsonl); do\n    echo \"Session: $session\"\n    scripts/extract-data.sh --type tool-usage --session $session\n    echo \"\"\ndone\n```\n\n## Integration with Other Skills\n\nThis skill is designed as a **utility skill** for other skills to use:\n\n### Retrospecting Skill\n\nUses extracting-session-data to:\n\n1. List available sessions for user selection\n2. Check session complexity (size, line count)\n3. Extract errors, tool calls, and statistics\n4. Avoid loading large logs into context unnecessarily\n\n### Future Session Analysis Skills\n\nCould use extracting-session-data to:\n\n- Compare productivity across sessions\n- Track tool usage trends over time\n- Identify recurring error patterns\n- Generate session summaries\n\n## Tips for Best Results\n\n### Efficient Filtering\n\n**Be specific** with filters to reduce processing:\n\n```bash\n# Good: Narrow scope\nscripts/filter-sessions.sh --branch main --since \"2 days ago\" --has-errors\n\n# Less efficient: Processes all sessions\nscripts/filter-sessions.sh\n```\n\n### Check Size First\n\n**Before extracting** from multiple sessions, check sizes:\n\n```bash\nscripts/list-sessions.sh --sort size\n```\n\nThis helps you understand how much data you're working with.\n\n### Use Appropriate Extraction Types\n\n**Don't extract everything** if you only need specific data:\n\n```bash\n# Good: Targeted extraction\nscripts/extract-data.sh --type statistics\n\n# Less efficient: Extract all data\nscripts/extract-data.sh --type all\n```\n\n## Future Enhancements\n\nPlanned improvements:\n\n- Parallel processing for multi-session extraction\n- Compressed session log support\n- Export to standardized formats (CSV, JSON)\n- Session comparison utilities\n- Trend analysis across sessions\n\n## Feedback\n\nFound an issue or have a suggestion?\n\n- Modify scripts in `scripts/` directory\n- Update SKILL.md for Claude's instructions\n- Update this README.md for user documentation\n",
        "plugins/claude-retrospective/skills/extracting-session-data/SKILL.md": "---\nname: extracting-session-data\ndescription: Locates, lists, filters, and extracts structured data from Claude Code native session logs. Supports both single and multiple session analysis.\n---\n\n# Extracting Session Data Skill\n\n## Core Responsibility\n\nProvide raw access to Claude Code session logs stored in `~/.claude/projects/{project-dir}/{session-id}.jsonl`.\n\n**Key Principle**: This skill extracts data only - return raw data to calling skills for analysis. Do not analyze or interpret within this skill.\n\n## Available Scripts\n\nAll scripts located in `scripts/` subdirectory relative to this skill.\n\n### 1. locate-logs.sh\n\nFind log directory or specific session file path.\n\n```bash\n# Get logs directory for current working directory\nscripts/locate-logs.sh\n\n# Get logs directory for specific project\nscripts/locate-logs.sh /path/to/project\n\n# Get specific session log file path\nscripts/locate-logs.sh /path/to/project abc123-session-id\n```\n\n**Use when**: Building dynamic paths, verifying logs exist before processing.\n\n### 2. list-sessions.sh\n\nEnumerate all sessions with metadata (ID, size, lines, date, branch).\n\n```bash\n# List all sessions (table format)\nscripts/list-sessions.sh\n\n# JSON output\nscripts/list-sessions.sh --format json\n\n# Sort by size or lines\nscripts/list-sessions.sh --sort size\nscripts/list-sessions.sh --sort lines\n\n# Specific project\nscripts/list-sessions.sh /path/to/project\n```\n\n**Output formats**: `table`, `json`, `csv`\n**Sort options**: `date`, `size`, `lines`\n\n**Use when**: Starting retrospective, showing available sessions to user, checking for recent sessions.\n\n### 3. extract-data.sh\n\nParse JSONL logs and extract specific data types.\n\n**Available extraction types**:\n\n- `metadata` - Session info (ID, timestamps, branch, working dir)\n- `user-prompts` - All user messages\n- `tool-usage` - Tool call statistics\n- `errors` - Failed tool calls with timestamps\n- `thinking` - Thinking blocks (if extended thinking enabled)\n- `text-responses` - Assistant text responses only\n- `statistics` - Session metrics (message counts, tool calls, errors)\n- `all` - Combined extraction\n\n```bash\n# Extract from specific session\nscripts/extract-data.sh --type statistics --session SESSION_ID\nscripts/extract-data.sh --type errors --session SESSION_ID\nscripts/extract-data.sh --type tool-usage --session SESSION_ID\n\n# Extract from all sessions (omit --session)\nscripts/extract-data.sh --type statistics\n\n# Limit output\nscripts/extract-data.sh --type user-prompts --limit 10\n\n# Different project\nscripts/extract-data.sh --type metadata --project /path/to/project\n```\n\n**Use when**: Need specific data without loading entire log, generating metrics, identifying errors.\n\n### 4. filter-sessions.sh\n\nFind sessions matching criteria.\n\n**Filter options**:\n\n- `--since DATE` - Sessions modified since date (\"2 days ago\", \"2025-10-20\")\n- `--until DATE` - Sessions modified until date\n- `--branch NAME` - Sessions on specific git branch\n- `--min-size SIZE` - Minimum file size (\"1M\", \"500K\")\n- `--max-size SIZE` - Maximum file size\n- `--min-lines N` - Minimum line count\n- `--max-lines N` - Maximum line count\n- `--has-errors` - Only sessions with failed tool calls\n- `--keyword WORD` - Sessions containing keyword\n\n**Output formats**: `list`, `paths`, `json`\n\n```bash\n# Recent sessions\nscripts/filter-sessions.sh --since \"2 days ago\"\n\n# Large sessions with errors\nscripts/filter-sessions.sh --min-lines 500 --has-errors\n\n# Sessions on main branch in last week\nscripts/filter-sessions.sh --branch main --since \"7 days ago\"\n\n# Sessions containing keyword\nscripts/filter-sessions.sh --keyword \"authentication\"\n\n# Get paths only (for piping)\nscripts/filter-sessions.sh --since \"1 day ago\" --format paths\n```\n\n**Use when**: User requests analysis of recent sessions, finding sessions for specific feature/branch, identifying problematic sessions.\n\n## Working Process\n\n### Single Session Analysis\n\n```bash\n# 1. Verify session exists and get metadata\nscripts/extract-data.sh --type metadata --session SESSION_ID\n\n# 2. Get session statistics (to determine size)\nscripts/extract-data.sh --type statistics --session SESSION_ID\n\n# 3. Extract specific data as needed\nscripts/extract-data.sh --type errors --session SESSION_ID\nscripts/extract-data.sh --type tool-usage --session SESSION_ID\n```\n\n### Multiple Session Analysis\n\n```bash\n# 1. Filter to find relevant sessions\nscripts/filter-sessions.sh --since \"7 days ago\" --branch main\n\n# 2. Extract data from all filtered sessions\nscripts/extract-data.sh --type statistics\n\n# 3. Or iterate through filtered subset\nSESSIONS=$(scripts/filter-sessions.sh --has-errors --format paths)\nfor session in $SESSIONS; do\n    SESSION_ID=$(basename \"$session\" .jsonl)\n    scripts/extract-data.sh --type errors --session $SESSION_ID\ndone\n```\n\n### Integration Pattern for Calling Skills\n\nWhen another skill (like retrospecting) needs session data:\n\n1. **Discovery**: Use `list-sessions.sh` or `filter-sessions.sh` to find relevant sessions\n2. **Size Check**: Use `extract-data.sh --type statistics` to determine session complexity\n3. **Targeted Extraction**: Use `extract-data.sh` with specific types for needed data\n4. **Return Raw Data**: Return extracted data to caller for analysis\n\n**Example**:\n\n```bash\n# Get latest session ID\nLATEST=$(scripts/list-sessions.sh --format json --sort date | jq -r '.[0].sessionId')\n\n# Check size before processing\nSTATS=$(scripts/extract-data.sh --type statistics --session $LATEST)\nLINE_COUNT=$(echo \"$STATS\" | grep \"Total Lines:\" | awk '{print $3}')\n\n# Extract based on size\nif [ \"$LINE_COUNT\" -lt 500 ]; then\n    # Small session: extract detail\n    scripts/extract-data.sh --type errors --session $LATEST\n    scripts/extract-data.sh --type tool-usage --session $LATEST\nelse\n    # Large session: summary only\n    scripts/extract-data.sh --type statistics --session $LATEST\nfi\n```\n\n## Context Budget Management\n\n**CRITICAL: This skill is designed for context efficiency**\n\n### Use Bash Processing, Not Read Tool\n\n```bash\n# GOOD: Extract via bash, stays in bash context\nSTATS=$(scripts/extract-data.sh --type statistics)\n# Process $STATS in bash\n\n# BAD: Reading full log files\nRead ~/.claude/projects/-path/session.jsonl\n# Loads entire file into context unnecessarily\n```\n\n### Check Session Size Before Loading\n\n**Never load full session logs into context without checking size first.**\n\n```bash\n# Always check statistics first\nscripts/extract-data.sh --type statistics --session SESSION_ID\n# Shows total lines, message counts, etc.\n\n# Decision rules:\n# - Small (<500 lines): Can extract detail safely\n# - Medium (500-2000 lines): Use selective extraction\n# - Large (>2000 lines): Statistics only, offer targeted deep-dives\n```\n\n### Return Raw Data to Caller\n\nThis skill should:\n\n- Execute bash scripts to extract data\n- Return raw text output to calling skill\n- Let calling skill manage context for analysis\n- Avoid interpretation or analysis within this skill\n\n## Output Format\n\nReturn **raw extracted data** with minimal formatting:\n\n```\n# Statistics output\nSession: abc123-def456-ghi789\n  Total Lines: 450\n  User Messages: 12\n  Assistant Messages: 23\n  Tool Calls: 45\n  Errors: 2\n\n# Tool usage output\n=== Tool Usage: abc123-def456-ghi789 ===\nRead                          15\nBash                          12\nEdit                          8\nGrep                          5\nWrite                         3\n```\n\nNo analysis, no interpretation - just data extraction.\n\n## Error Handling\n\nAll scripts exit with non-zero status on errors and output to stderr.\n\nCheck exit status before processing:\n\n```bash\nif ! scripts/locate-logs.sh /path/to/project &>/dev/null; then\n    # Handle: logs directory doesn't exist\n    echo \"Project has no session logs yet\"\nfi\n\nif ! scripts/extract-data.sh --type metadata --session abc123 &>/dev/null; then\n    # Handle: session doesn't exist\n    echo \"Session not found\"\nfi\n```\n\nCommon error messages:\n\n- `Error: Logs directory not found: ~/.claude/projects/-path`\n- `Error: Session file not found: ~/.claude/projects/-path/session-id.jsonl`\n- `Error: --type is required`\n- `Error: jq is required but not installed. Install with: brew install jq`\n\n## Path Calculation\n\nClaude Code stores sessions using this pattern:\n\n```\n~/.claude/projects/{project-identifier}/{session-id}.jsonl\n```\n\nWhere `{project-identifier}` is calculated by replacing all `/` with `-` in the absolute working directory path:\n\n```bash\n# Example: /Users/user/project ‚Üí -Users-user-project\nPROJECT_ID=$(echo \"${PWD}\" | sed 's/\\//\\-/g')\nLOGS_DIR=\"${HOME}/.claude/projects/${PROJECT_ID}\"\n```\n\nAll scripts use `locate-logs.sh` internally for consistent path calculation.\n\n## Anti-Patterns to Avoid\n\n**Don't**:\n\n- Load full session logs into context without checking size\n- Parse JSONL manually - use `extract-data.sh`\n- Hardcode log paths - use `locate-logs.sh`\n- Analyze or interpret data - return raw data to caller\n- Process large logs synchronously without user awareness\n\n**Do**:\n\n- Check session size with `--type statistics` before processing\n- Use appropriate extraction type for specific needs\n- Filter sessions before extraction for efficiency\n- Stream/pipe data when processing multiple sessions\n- Return raw data for caller to analyze\n\n## Success Criteria\n\nEffective use of this skill means:\n\n1. **Efficient Discovery**: Quickly find relevant sessions without manual searching\n2. **Targeted Extraction**: Get exactly the data needed, nothing more\n3. **Context Preservation**: Avoid loading unnecessary data into context\n4. **Raw Data Focus**: Return unprocessed data for caller to analyze\n5. **Multi-Session Support**: Handle analysis across timeframes or branches efficiently\n\n## Dependencies\n\n**Required**:\n\n- `bash` (v4.0+)\n- `jq` (JSON parser)\n\nScripts check for `jq` and provide installation instructions if missing:\n\n```\nError: jq is required but not installed. Install with: brew install jq\n```\n",
        "plugins/claude-retrospective/skills/retrospecting/README.md": "# Session Retrospective Skill\n\nComprehensive analysis of Claude Code sessions to identify successful patterns, problematic areas, and opportunities for improvement.\n\n## What It Does\n\nThis skill analyzes completed Claude Code sessions by examining:\n\n- Git history (commits, diffs, file changes)\n- Claude Code native session logs from `~/.claude/projects/{project-dir}/{session-id}.jsonl`\n- Code quality metrics (tests, compilation, standards)\n- Your direct feedback about the session\n\nIt produces a structured retrospective report with:\n\n- Quantitative metrics (files changed, test coverage, tool usage)\n- Qualitative insights (what worked, what didn't, why)\n- Actionable recommendations for future sessions\n- Reusable patterns and anti-patterns\n\n## When to Use\n\nInvoke this skill when you want to:\n\n- Review what was accomplished in a session\n- Understand what went well and what could improve\n- Get feedback on workflow effectiveness\n- Document lessons learned for future reference\n- Analyze a particularly successful or challenging session\n\n### Example Invocations\n\n**Natural language:**\n\n- \"Can you do a retrospective on what we just accomplished?\"\n- \"How did that session go?\"\n- \"Analyze the last 2 hours of work\"\n- \"What could we improve about how we worked together?\"\n\n**Direct skill invocation:**\n\n```\n/skill retrospecting\n```\n\n## What to Expect\n\n### Process Flow\n\n1. **Scope Definition** - You'll be asked:\n   - Time range or commit range for the session\n   - What you were trying to accomplish\n   - How detailed of an analysis you need (quick/standard/comprehensive)\n\n2. **Data Collection** - The skill will:\n   - Analyze git history for the session timeframe\n   - Parse Claude Code native session logs from `~/.claude/projects/{project-dir}/{session-id}.jsonl`\n   - Examine changed files and code quality\n   - Gather your feedback through targeted questions\n\n3. **Analysis & Report** - You'll receive:\n   - Structured retrospective report (markdown format)\n   - Evidence-based findings with specific examples\n   - Prioritized recommendations\n   - Patterns worth replicating or avoiding\n\n4. **Validation & Refinement** - You can:\n   - Confirm the analysis matches your experience\n   - Add pain points that were missed\n   - Prioritize which improvements matter most\n   - Request configuration updates based on findings\n\n5. **Cleanup** (Optional) - You can:\n   - Delete the session log files after analysis\n   - Keep them for future reference\n\n### Time Investment\n\n- **Quick retrospective**: 5-10 minutes (brief summary)\n- **Standard retrospective**: 15-20 minutes (balanced analysis)\n- **Comprehensive retrospective**: 30+ minutes (detailed deep-dive)\n\nThe skill will recommend a depth based on your session size (commits, log volume, complexity).\n\n## Output Format\n\n### Report Types\n\n**Quick Retrospective** - Concise summary with:\n\n- Highlights (top successes)\n- Challenges (main issues)\n- Key learnings\n- 2-3 action items\n\n**Comprehensive Retrospective** - Detailed analysis with:\n\n- Executive summary with metrics\n- Success patterns with evidence\n- Pain points with root causes\n- Workflow optimization analysis\n- Prioritized recommendations\n- Patterns for future reference\n\n### Report Storage\n\nAll reports are saved to:\n\n```\n${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/YYYY-MM-DD-description-SESSION_ID.md\n```\n\nExample:\n\n```\n${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/2025-10-23-authentication-refactor-3be2bbaf.md\n```\n\nThe session ID links the report to the original conversation logs for traceability.\n\n## File Organization\n\n```\n${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/\n‚îú‚îÄ‚îÄ README.md                    # This file (user documentation)\n‚îú‚îÄ‚îÄ SKILL.md                     # Skill instructions (for Claude)\n‚îú‚îÄ‚îÄ contexts/\n‚îÇ   ‚îî‚îÄ‚îÄ session-analytics.md    # Analysis framework (auto-loaded)\n‚îú‚îÄ‚îÄ templates/\n‚îÇ   ‚îî‚îÄ‚îÄ retrospective-templates.md  # Report templates (auto-loaded)\n‚îú‚îÄ‚îÄ reports/\n‚îÇ   ‚îî‚îÄ‚îÄ YYYY-MM-DD-*.md         # Generated retrospective reports\n‚îî‚îÄ‚îÄ scripts/\n    ‚îî‚îÄ‚îÄ analyze-session-logs.sh # Session log analysis helper\n\nSession logs are stored by Claude Code in:\n~/.claude/projects/{project-dir}/{session-id}.jsonl\n(where {project-dir} is your working directory path with slashes replaced by dashes)\n```\n\n## Configuration\n\n### Retrospective Depth\n\nYou can request a specific depth level:\n\n- **Quick**: Fast summary for simple sessions\n- **Standard**: Balanced analysis for typical sessions\n- **Comprehensive**: Deep dive for complex or significant sessions\n- **Custom**: Focus on specific areas you define\n\nThe skill will suggest an appropriate depth based on session metrics, but you can override.\n\n### Focus Areas\n\nYou can request focus on specific aspects:\n\n- \"Focus on code quality and testing\"\n- \"Analyze communication effectiveness\"\n- \"Look for security considerations we might have missed\"\n- \"Compare this session to previous similar work\"\n\n## Integration with Other Features\n\n### Configuration Improvements\n\nIf the retrospective identifies patterns that should become standard practice, the skill will:\n\n1. Suggest updates to `.claude/CLAUDE.md`, `SKILL.md` files, or agent definitions\n2. Show you the proposed changes\n3. Apply them with your approval\n\nThis creates a continuous improvement loop.\n\n### Pattern Libraries\n\nSuccessful patterns and anti-patterns are extracted into reusable libraries (future feature):\n\n```\n${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/patterns/\n‚îú‚îÄ‚îÄ successful-patterns.md\n‚îî‚îÄ‚îÄ anti-patterns-to-avoid.md\n```\n\n### Log Cleanup\n\nAfter generating a report, you can optionally delete the session logs to reduce repository size. The retrospective report preserves key insights, so logs are often not needed afterward.\n\n## Tips for Best Results\n\n### Provide Clear Session Goals\n\nWhen asked \"What were you trying to accomplish?\", be specific:\n\n- **Good**: \"Refactor authentication to use biometric providers and add unit tests\"\n- **Less helpful**: \"Work on authentication\"\n\n### Be Honest About Pain Points\n\nThe skill asks for feedback about friction areas. Candid input leads to better insights:\n\n- Where did you get confused?\n- What took longer than expected?\n- What would you change about the workflow?\n\n### Use Retrospectives Regularly\n\n- **After major features**: Capture complex implementation insights\n- **Weekly/sprint boundaries**: Track progress and improvement trends\n- **After challenging sessions**: Learn from difficulties\n- **After smooth sessions**: Identify what made them effective\n\n### Follow Up on Recommendations\n\nRetrospectives are most valuable when recommendations are acted upon:\n\n- Implement high-priority improvements in next session\n- Update configuration files with better practices\n- Share learnings with team (if applicable)\n\n## Troubleshooting\n\n### \"Session logs not found\"\n\n- Session logs are automatically generated by Claude Code in `~/.claude/projects/{project-dir}/`\n- Project directory is derived from your working directory (slashes replaced with dashes)\n- Example: `/Users/user/project` ‚Üí `~/.claude/projects/-Users-user-project/`\n- You can still do a retrospective using git history + your feedback if logs are unavailable\n\n### \"Report seems generic\"\n\n- Provide more specific session goals upfront\n- Add detailed feedback when prompted\n- Request a comprehensive retrospective for deeper analysis\n\n### \"Analysis doesn't match my experience\"\n\n- The validation step (Step 6) is exactly for this\n- Tell the skill what's missing or incorrect\n- It will refine the analysis based on your input\n\n### \"Context window exceeded\"\n\n- Request a \"quick\" retrospective for large sessions\n- The skill will summarize logs instead of reading them fully\n- Focus on specific areas rather than comprehensive analysis\n\n## Privacy & Security\n\n### What Data is Analyzed\n\n- Git commits and diffs visible in your repository\n- Claude Code native session logs from `~/.claude/projects/{project-dir}/{session-id}.jsonl`\n- File contents of changed files\n- Your explicit feedback responses\n\n### Data Storage\n\n- All analysis happens locally in your session\n- Reports stored in your repository (`${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/`)\n- No data sent to external services\n- Logs can be deleted after retrospective if desired\n\n### Sensitive Information\n\nIf your session involved sensitive data:\n\n- Review generated reports before committing them\n- Retrospective can be run without committing reports\n- You can request specific sections be excluded from the report\n\n## Examples\n\n### Example 1: Quick Post-Session Review\n\n**User**: \"Can you do a quick retrospective on what we just did?\"\n\n**Process**:\n\n1. Skill checks: 8 commits, 3 log files, ~45 minutes of work\n2. Suggests: Quick retrospective (5-10 min)\n3. Analyzes git changes, skims logs, asks 2-3 questions\n4. Generates quick report with highlights, challenges, learnings\n5. Takes ~7 minutes total\n\n### Example 2: Comprehensive Feature Analysis\n\n**User**: \"I want a detailed retrospective on the entire authentication refactor we did today\"\n\n**Process**:\n\n1. Skill checks: 34 commits, 12 log files, ~4 hours of work\n2. Recommends: Comprehensive retrospective (30 min)\n3. Deep analysis of git history, detailed log parsing, code quality metrics\n4. Extensive user feedback gathering (7-10 questions)\n5. Generates full report with metrics, patterns, recommendations\n6. Suggests 3 configuration improvements for `.claude/CLAUDE.md`\n7. Offers to delete logs after report validated\n\n### Example 3: Focus on Specific Issues\n\n**User**: \"Analyze why testing took so long this session\"\n\n**Process**:\n\n1. Skill identifies custom focus: testing workflow\n2. Examines test-related commits and file changes\n3. Searches logs for test failures, retry patterns\n4. Asks targeted questions about testing pain points\n5. Generates focused report on testing efficiency with specific recommendations\n\n## Future Enhancements\n\nPlanned improvements to this skill:\n\n- Automated CI integration (run retrospectives on PR merge)\n- Trend analysis across multiple sessions\n- Pattern library with searchable best practices\n- Comparative analysis (this session vs similar past sessions)\n- Team retrospectives (multi-user session analysis)\n\n## Feedback\n\nFound an issue or have a suggestion? Update the skill:\n\n- Modify `${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/SKILL.md` (Claude's instructions)\n- Modify this README.md (user documentation)\n- Add context files in `contexts/` for additional analysis frameworks\n- Update templates in `templates/` for different report formats\n",
        "plugins/claude-retrospective/skills/retrospecting/SKILL.md": "---\nname: retrospecting\ndescription: Performs comprehensive analysis of Claude Code sessions, examining git history, conversation logs, code changes, and gathering user feedback to generate actionable retrospective reports with insights for continuous improvement.\n---\n\n# Session Retrospective Skill\n\n## Auto-Loaded Context\n\n**Session Analytics**: [`contexts/session-analytics.md`](contexts/session-analytics.md) - Provides comprehensive framework for analyzing sessions, including data sources, metrics, and analysis methods.\n\n**Retrospective Templates**: [`templates/retrospective-templates.md`](templates/retrospective-templates.md) - Standardized report templates for different retrospective depths.\n\n## Core Responsibilities\n\n### 1. Multi-Source Data Collection\n\nSystematically gather data from all available sources:\n\n- **Git History**: Commits, diffs, file changes during session timeframe\n- **Claude Logs**: Conversation transcripts, tool usage, decision patterns\n- **Project Files**: Test coverage, code quality, compilation status\n- **User Feedback**: Direct input about goals, satisfaction, pain points\n- **Sub-agent Interactions**: When sub-agents were used, gather their feedback\n\n### 2. Quantitative Analysis\n\nCalculate measurable metrics:\n\n- Session scope (duration, tasks completed, files changed)\n- Quality indicators (compilation rate, test coverage, standard compliance)\n- Efficiency metrics (tool success rate, rework rate, completion rate)\n- User experience data (satisfaction, friction points)\n\n### 3. Qualitative Assessment\n\nIdentify patterns and insights:\n\n- Successful approaches that led to good outcomes\n- Problematic patterns that caused issues or delays\n- Reusable solutions worth extracting for future use\n- Context-specific learnings applicable to this project type\n\n### 4. Report Generation\n\nCreate structured retrospective report using appropriate template:\n\n- **Quick Retrospective**: Brief session wrap-ups (5-10 minutes)\n- **Comprehensive Retrospective**: Detailed analysis for significant sessions\n- Choose template based on session complexity and user needs\n\n## Working Process\n\n### Step 0: Quick Session Assessment\n\nBefore gathering data, determine the appropriate analysis depth:\n\n1. **Check session size**:\n\n   ```bash\n   # Count recent commits\n   git log --oneline --since=\"1 hour ago\" | wc -l\n\n   # List session log files with metadata\n   ${CLAUDE_PROJECT_DIR}/.claude/skills/extracting-session-data/scripts/list-sessions.sh --sort date | head -5\n   ```\n\n2. **Suggest depth to user** based on metrics:\n   - **Quick** (<10 commits, <5MB logs): \"5-10 min lightweight analysis\"\n   - **Standard** (10-25 commits, 5-20MB logs): \"15-20 min balanced analysis\"\n   - **Comprehensive** (>25 commits, >20MB logs): \"30+ min deep-dive analysis\"\n\n3. **Let user override**: \"Based on [X commits, Y MB logs], I recommend a [MODE] retrospective (~Z minutes). Does this work for you, or would you prefer a different depth?\"\n\n4. **Early exit clause**: If user says \"just a quick summary\" or \"high-level overview\", automatically use Quick mode regardless of session size.\n\n### Step 1: Establish Session Scope\n\n1. Ask user to define session boundaries (time range or commit range)\n2. Clarify session goals: \"What were you trying to accomplish?\"\n3. Confirm retrospective depth from Step 0\n\n### Step 2: Gather Data\n\nExecute data collection based on confirmed depth mode:\n\n#### Depth-Specific Data Collection\n\n**Quick Mode**:\n\n- Git: `git diff <start>..<end> --stat` only (no full diffs)\n- Logs: Extract statistics and errors only via `extracting-session-data` skill\n- Files: Check compilation status only\n- User: 2-3 targeted questions\n- Skip: Sub-agent feedback, detailed file analysis\n\n**Standard Mode**:\n\n- Git: Full commit history + stats, selective diffs for key files\n- Logs: Extract metadata, statistics, tool-usage, and errors via `extracting-session-data` skill\n- Files: Quality metrics for changed files\n- User: 5-7 questions covering main areas\n- Include: Sub-agent feedback if applicable\n\n**Comprehensive Mode**:\n\n- Git: Everything (full logs, diffs, file analysis)\n- Logs: Extract all data types via `extracting-session-data` skill, may read full logs if <500 lines\n- Files: Deep analysis including tests, architecture compliance\n- User: Extensive feedback (8-10 questions)\n- Include: All sub-agent feedback, pattern extraction\n\n#### Git Analysis\n\nUse the `analyzing-git-sessions` skill to collect git data:\n\n**Quick Mode**: Request \"concise\" output (stats only, no diffs)\n**Standard Mode**: Request \"detailed\" output for key files\n**Comprehensive Mode**: Request \"code review\" format for full analysis\n\nInvoke skill with session timeframe:\n\n```\nSkill: analyzing-git-sessions\nInput: \"<start-time> to <end-time>\" or \"<start-commit>..<end-commit>\"\nDepth: [concise|detailed|code-review] based on retrospective mode\n```\n\nThe skill will return structured git metrics needed for retrospective analysis.\n\n#### Log Processing (Size-Aware)\n\nUse the `extracting-session-data` skill to access Claude Code native session logs efficiently.\n\n1. **List Available Sessions**:\n\n   ```bash\n   # List all sessions with metadata (size, lines, date, branch)\n   ${CLAUDE_PROJECT_DIR}/.claude/skills/extracting-session-data/scripts/list-sessions.sh\n   ```\n\n2. **Check Session Size**:\n\n   ```bash\n   # Get statistics for specific session\n   ${CLAUDE_PROJECT_DIR}/.claude/skills/extracting-session-data/scripts/extract-data.sh \\\n       --type statistics --session SESSION_ID\n   ```\n\n3. **Extract Data Based on Session Size and Mode**:\n\n   **Quick Mode** (or any session >2000 lines):\n\n   ```bash\n   # Extract only statistics and errors\n   extract-data.sh --type statistics --session SESSION_ID\n   extract-data.sh --type errors --session SESSION_ID --limit 10\n   ```\n\n   **Standard Mode** (sessions 500-2000 lines):\n\n   ```bash\n   # Extract metadata, statistics, tool usage, and errors\n   extract-data.sh --type metadata --session SESSION_ID\n   extract-data.sh --type statistics --session SESSION_ID\n   extract-data.sh --type tool-usage --session SESSION_ID\n   extract-data.sh --type errors --session SESSION_ID\n   ```\n\n   **Comprehensive Mode** (sessions <500 lines):\n\n   ```bash\n   # Extract all available data\n   extract-data.sh --type all --session SESSION_ID\n\n   # Or read full log file if needed for detailed analysis\n   # (Only for small sessions - check line count first!)\n   ```\n\n4. **Multi-Session Analysis**:\n\n   ```bash\n   # Filter sessions by criteria\n   filter-sessions.sh --since \"7 days ago\" --branch main\n\n   # Extract data from all filtered sessions (omit --session flag)\n   extract-data.sh --type statistics  # Runs on all sessions\n   ```\n\n5. **Synthesize Extracted Data**:\n   After extraction, synthesize data into compact summary (max 200 lines) before continuing to analysis.\n\n**Path Calculation**: The `extracting-session-data` skill handles all path calculations automatically. Session logs are stored in `~/.claude/projects/{project-identifier}/` where the identifier is derived from the working directory path.\n\n#### Project Analysis\n\nExamine changed files, tests, documentation (depth-appropriate)\n\n#### User Feedback\n\nPrompt for direct feedback on session experience (question count based on depth mode)\n\n#### Sub-agent Feedback\n\nIf sub-agents were used, invoke them to gather their perspective (Standard/Comprehensive modes only)\n\n### Step 3: Analyze Data\n\nApply session-analytics.md framework:\n\n- Calculate quantitative metrics\n- Identify success and problem indicators\n- Extract patterns (successful approaches and anti-patterns)\n- Assess communication effectiveness and technical quality\n\n### Step 4: Generate Insights\n\nSynthesize analysis into actionable insights:\n\n- What went well and why (specific evidence)\n- What caused problems and their root causes\n- Opportunities for improvement (prioritized by impact)\n- Patterns to replicate or avoid in future sessions\n\n### Step 5: Create Report\n\nUse appropriate template from retrospective-templates.md:\n\n- Structure findings clearly with evidence\n- Include specific file:line references where relevant\n- Prioritize recommendations by impact and feasibility\n- Make all suggestions actionable and specific\n\n### Step 6: Gather User Validation\n\nPresent report and ask:\n\n- Does this match your experience?\n- Are there other pain points we missed?\n- Which improvements would be most valuable to you?\n\n### Step 7: Suggest Configuration Improvements\n\nIf the retrospective identifies areas for improvement in Claude or Agent interactions:\n\n1. Analyze whether improvements could be codified in configuration files:\n   - **CLAUDE.md**: Core directives, workflow practices, communication patterns\n   - **SKILL.md files**: Skill-specific instructions, working processes, anti-patterns\n   - **Agent definition files**: Agent prompts, tool usage, coordination patterns\n2. Draft specific, actionable suggestions for configuration updates:\n   - Quote the current text that should be modified (if updating existing content)\n   - Provide the proposed new or additional text\n   - Explain the rationale based on retrospective findings\n3. Present suggestions to the user:\n   - \"Based on this retrospective, I've identified potential improvements to [file]. Would you like me to implement these changes?\"\n   - Show the specific changes that would be made\n4. If the user approves:\n   - Apply the changes using the Edit tool\n   - Confirm what was updated\n5. If the user declines:\n   - Document the suggestions in the retrospective report for future consideration\n\n### Step 8: Session Archive Information\n\nAfter the retrospective report is created and validated:\n\n1. Inform the user where session logs are stored:\n   - \"Session logs are permanently stored in `~/.claude/projects/{project-dir}/{session-id}.jsonl`\"\n   - \"These logs are managed by Claude Code and should not be deleted manually\"\n2. Explain that retrospective reports are saved separately in:\n   - `${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/`\n3. Note that Claude Code manages session log retention automatically\n\n## Output Standards\n\n### Report Quality Requirements\n\n- **Evidence-Based**: Every claim backed by specific examples\n- **Actionable**: All recommendations include implementation guidance\n- **Specific**: Avoid vague statements; use concrete examples\n- **Prioritized**: Clear indication of high vs low impact items\n- **Balanced**: Acknowledge successes while identifying improvements\n\n### File References\n\nUse `file:line_number` format when referencing specific code locations.\n\n### Metrics Presentation\n\nPresent metrics in clear tables or lists with context for interpretation.\n\n### Recommendations Format\n\nEach recommendation should include:\n\n- **What**: Specific action to take\n- **Why**: Root cause or rationale\n- **How**: Implementation approach\n- **Impact**: Expected benefit\n\n## Integration with Sub-agents\n\nWhen sub-agents were used during the session:\n\n### Feedback Collection\n\nInvoke each sub-agent that participated with prompts like:\n\n- \"What aspects of this session worked well for you?\"\n- \"What instructions or context were unclear?\"\n- \"What tools or capabilities did you need but lack?\"\n- \"How could coordination with Claude be improved?\"\n\n### Synthesis\n\nIncorporate sub-agent feedback into retrospective:\n\n- Identify coordination issues or handoff problems\n- Note gaps in instruction clarity or context\n- Recognize successful collaboration patterns\n- Recommend improvements to sub-agent usage\n\n## Context Budget Management\n\nMonitor context usage throughout retrospective to prevent overflow:\n\n### Budget Thresholds\n\n- **Skill instructions**: ~6-8K tokens (this file + auto-loaded contexts)\n- **Small log file**: 2-5K tokens per file\n- **Large log file**: 10-50K+ tokens if read fully\n- **Git diffs**: 5-20K tokens for large changes\n- **User conversation**: Variable (2-10K tokens)\n\n### Adaptive Strategy Based on Remaining Budget\n\n**High Budget (>100K tokens remaining)**:\n\n- Safe to use Comprehensive mode\n- Read full logs if <2000 lines\n- Include full git diffs\n- Load detailed metrics from session-analytics.md if needed\n\n**Medium Budget (50-100K tokens remaining)**:\n\n- Use Standard mode by default\n- Summarize logs before reading (use bash extraction)\n- Selective git diffs for key files only\n- Skip extended context loading\n\n**Low Budget (<50K tokens remaining)**:\n\n- Force Quick mode regardless of session size\n- Bash-only log summarization (no full reads)\n- Git stats only, no diffs\n- Warn user: \"Limited context available - providing focused analysis on key areas only\"\n\n### Context Preservation Tactics\n\n1. **Extract and discard**: Pull key metrics from large files, discard verbose source immediately\n2. **Synthesize early**: Create compact summaries (max 200 lines) before continuing\n3. **Progressive refinement**: Start high-level, drill down only where user indicates interest\n4. **Spot sampling**: Read representative sections rather than entire files\n\n### Emergency Fallback\n\nIf approaching context limit during analysis:\n\n1. Stop data collection immediately\n2. Generate report from data gathered so far\n3. Note in report: \"Analysis limited by context constraints - [specific areas not covered]\"\n4. Offer to do targeted follow-up on specific aspects in new conversation\n\n## Anti-Patterns to Avoid\n\n**Don't**:\n\n- Generate retrospectives without gathering actual data\n- Make vague, non-actionable recommendations\n- Focus only on negatives; acknowledge what worked well\n- Ignore user's stated priorities and goals\n- Create overly long reports that bury key insights\n- Analyze sessions without understanding the context and goals\n\n**Do**:\n\n- Ground analysis in concrete evidence from session data\n- Provide specific, actionable recommendations with implementation guidance\n- Balance positive recognition with improvement opportunities\n- Align recommendations with user's priorities\n- Create concise reports that highlight key insights prominently\n- Understand session context before analyzing effectiveness\n\n## Success Criteria\n\nA good retrospective should:\n\n1. **Inform**: User learns something new about their workflow\n2. **Guide**: Clear next steps for improvement\n3. **Motivate**: Recognition of successes encourages continued good practices\n4. **Focus**: Prioritization helps user know where to invest effort\n5. **Enable**: Provides frameworks/patterns user can apply to future sessions\n\n## Report Storage\n\n**Directory**: `${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/`\n\n**Filename format**: `YYYY-MM-DD-session-description-SESSION_ID.md`\n\n- Use ISO date format (YYYY-MM-DD) for chronological sorting\n- Keep description brief (3-5 words, hyphen-separated)\n- Include session ID from log files for traceability\n\n**Example path**: `${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/2025-10-23-authentication-refactor-3be2bbaf.md`\n",
        "plugins/claude-retrospective/skills/retrospecting/contexts/session-analytics.md": "# Session Analytics Context\n\n---\n\n## Data Sources for Session Analysis\n\n### 1. Git History Analysis\n\n**What to Examine**:\n\n- Commits made during the session (timestamps, messages, changed files)\n- Diffs showing actual code changes and their scope\n- Branch activity and merge patterns\n- File modification frequency and complexity\n\n**Key Metrics**:\n\n- Number of files modified/created/deleted\n- Lines of code added/removed\n- Commit frequency and granularity\n- Commit message quality and clarity\n\n**Commands for Analysis**:\n\n```bash\n# Get commits from session time range\ngit log --since=\"YYYY-MM-DD HH:MM\" --until=\"YYYY-MM-DD HH:MM\" --oneline\n\n# Detailed diff for session\ngit diff <start-commit>...<end-commit> --stat\n\n# Files changed during session\ngit diff <start-commit>...<end-commit> --name-only\n```\n\n### 2. Claude Logs Analysis\n\n**What to Examine**:\n\n- `~/.claude/projects/{project-dir}/{session-id}.jsonl` - Claude Code native session logs (JSONL format)\n  - Project directory is calculated by transforming absolute working directory: `$(echo \"${PWD}\" | sed 's/\\//\\-/g')`\n  - Example: `/Users/user/project` becomes `~/.claude/projects/-Users-user-project/`\n- Tool usage patterns (which tools were called, frequency, success rates)\n- Error messages and retry patterns\n- Decision-making rationale in responses\n\n**Key Indicators**:\n\n- Repeated tool calls suggesting exploration or confusion\n- Error recovery patterns\n- Context switches and task transitions\n- Clarification requests and user interactions\n\n### 3. Project Files Analysis\n\n**What to Examine**:\n\n- Test coverage changes (new tests added, coverage percentages)\n- Code quality indicators (complexity, duplication, adherence to standards)\n- Documentation updates (README, inline comments, API docs)\n- Build and compilation status\n\n**Key Metrics**:\n\n- Test-to-production code ratio\n- Compilation success/failure\n- Adherence to project coding standards\n- Documentation completeness\n\n### 4. User Feedback\n\n**What to Gather**:\n\n- Session goals and whether they were achieved\n- User satisfaction with outcomes\n- Pain points or friction during the session\n- Specific examples of what worked well or poorly\n\n**Gathering Methods**:\n\n- Direct prompting: \"What were your goals for this session?\"\n- Targeted questions: \"Which parts of this session were most/least effective?\"\n- Outcome validation: \"Did the implementation meet your expectations?\"\n\n### 5. Sub-agent Interaction Analysis\n\n**What to Examine** (when applicable):\n\n- Which sub-agents were invoked during the session\n- Task handoffs between Claude and sub-agents\n- Sub-agent success rates and output quality\n- Communication clarity in agent instructions\n\n**Feedback Collection**:\n\n- Invoke sub-agents with retrospective prompts\n- Ask about instruction clarity, tool availability, context sufficiency\n- Gather suggestions for improved coordination\n\n---\n\n## Analysis Framework\n\n### Success Indicators\n\n**Code Quality**:\n\n- Compilation succeeds without errors\n- Tests pass with appropriate coverage\n- Code follows project standards and patterns\n- Security considerations properly addressed\n\n**Workflow Efficiency**:\n\n- Minimal rework or backtracking\n- Efficient tool usage (right tool for the task)\n- Clear progression toward stated goals\n- Effective user-Claude communication\n\n**Learning & Adaptation**:\n\n- Applying lessons from earlier in session\n- Recognizing and correcting mistakes\n- Adapting approach based on feedback\n- Discovering and using existing patterns\n\n### Problem Indicators\n\n**Code Quality Issues**:\n\n- Compilation failures or test failures\n- Deviations from project architecture/style\n- Security vulnerabilities introduced\n- Missing or inadequate documentation\n\n**Workflow Inefficiencies**:\n\n- Repeated failed attempts at same task\n- Excessive tool calls without progress\n- Misunderstanding requirements (multiple clarifications)\n- Creating new patterns when existing ones should be used\n\n**Communication Gaps**:\n\n- Ambiguous instructions leading to wrong implementations\n- User frustration or confusion\n- Missing context causing incorrect assumptions\n- Inadequate status updates or progress visibility\n\n---\n\n## Quantitative Metrics to Track\n\n### Session Scope Metrics\n\n- **Duration**: Total time from session start to completion\n- **Task Count**: Number of distinct tasks/subtasks completed\n- **File Impact**: Files created, modified, deleted\n- **Code Volume**: Lines added, removed, net change\n\n### Quality Metrics\n\n- **Compilation Rate**: % of time code compiled successfully\n- **Test Coverage**: Coverage percentage change during session\n- **Rework Rate**: % of changes that required revision\n- **Standard Compliance**: Adherence to project coding standards\n\n### Efficiency Metrics\n\n- **Tool Success Rate**: % of tool calls that succeeded on first attempt\n- **Context Switches**: Number of major topic/task transitions\n- **Clarification Rate**: User questions per task completed\n- **Completion Rate**: % of stated goals fully achieved\n\n### User Experience Metrics\n\n- **Satisfaction**: User-reported satisfaction (if gathered)\n- **Friction Points**: Number of reported pain points\n- **Value Delivered**: User assessment of outcome usefulness\n- **Would Repeat**: User willingness to use approach again\n\n---\n\n## Qualitative Analysis Areas\n\n### Pattern Recognition\n\n- **Successful Approaches**: What techniques led to good outcomes?\n- **Problematic Patterns**: What approaches caused issues?\n- **Reusable Solutions**: What can be extracted for future use?\n- **Context-Specific Learnings**: What only applies to this project/task type?\n\n### Communication Effectiveness\n\n- **Instruction Clarity**: Were instructions clear and actionable?\n- **Context Sufficiency**: Was enough context provided upfront?\n- **Feedback Loops**: How well did iterative feedback work?\n- **User Engagement**: Appropriate level of user involvement?\n\n### Technical Excellence\n\n- **Architecture Alignment**: Proper use of established patterns?\n- **Code Quality**: Maintainable, readable, well-structured code?\n- **Testing Rigor**: Appropriate test coverage and quality?\n- **Security Awareness**: Proper handling of security considerations?\n\n---\n\n## Retrospective Output Guidelines\n\n### Structure Recommendations\n\n1. **Executive Summary**: High-level overview of session outcomes\n2. **Quantitative Metrics**: Data-driven assessment of performance\n3. **Qualitative Insights**: Pattern analysis and learnings\n4. **Action Items**: Specific, prioritized improvements for future sessions\n\n### Actionability Standards\n\n- Every recommendation should be **specific** (not vague)\n- Include **evidence** from session data to support claims\n- Provide **implementation guidance** for improvements\n- **Prioritize** based on impact and feasibility\n\n### Audience Considerations\n\n- **Users**: Want to know if goals were met, what to improve\n- **Future Claude sessions**: Need actionable patterns to replicate or avoid\n- **Marketplace consumers**: Need to understand value and use cases\n- **Plugin developers**: May extend or integrate with other tools\n\n---\n\nThis context provides a comprehensive framework for analyzing Claude Code sessions systematically and generating valuable retrospective insights.\n",
        "plugins/claude-retrospective/skills/retrospecting/templates/retrospective-templates.md": "# Retrospective Report Templates\n\n**Purpose**: Standardized templates for comprehensive session retrospectives\n**Owner**: Retrospective Skill\n**Storage**: All reports generated in `${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/reports/` directory\n**Session Logs**: Claude Code native logs stored in `~/.claude/projects/{project-dir}/{session-id}.jsonl`\n\n---\n\n## Template 1: Comprehensive Session Retrospective\n\n```markdown\n# Session Retrospective - [Project Name] [Session Date]\n\n**Session ID**: [Unique identifier]\n**Duration**: [Start time] - [End time] ([Total duration])\n**Scope**: [Brief description of session goals]\n**Outcome**: [SUCCESS/PARTIAL/NEEDS_FOLLOW_UP]\n\n---\n\n## Executive Summary\n\n### Key Achievements\n\n- [Major accomplishments from the session]\n- [Quantitative metrics: lines of code, files created, tests added]\n- [Quality outcomes: test coverage %, standard compliance]\n\n### Success Metrics\n\n| Metric               | Target | Achieved | Status   |\n| -------------------- | ------ | -------- | -------- |\n| Task Completion Rate | 90%    | X%       | ‚úÖ/‚ö†Ô∏è/‚ùå |\n| Compilation Success  | 100%   | X%       | ‚úÖ/‚ö†Ô∏è/‚ùå |\n| Test Coverage        | 80%    | X%       | ‚úÖ/‚ö†Ô∏è/‚ùå |\n| Code Quality Score   | 8/10   | X/10     | ‚úÖ/‚ö†Ô∏è/‚ùå |\n\n---\n\n## What Went Well\n\n### Successful Workflow Patterns\n\n1. **[Pattern Name]**: [Description]\n   - **Evidence**: [Specific examples from session with file:line references]\n   - **Impact**: [Quantified benefit - time saved, quality improved, etc.]\n   - **Replicability**: [How to repeat this success in future sessions]\n\n2. **[Pattern Name]**: [Description]\n   - **Evidence**: [Specific examples from session]\n   - **Impact**: [Quantified benefit]\n   - **Replicability**: [How to repeat success]\n\n### Quality Achievements\n\n- **Architecture Compliance**: [Specific examples of well-implemented patterns]\n- **Test Coverage**: [Coverage metrics and thoroughness of tests]\n- **Security Standards**: [Security best practices followed]\n- **Performance**: [Performance optimizations or considerations]\n\n### Communication & Collaboration\n\n- **Effective Interactions**: [What communication patterns worked well]\n- **Clear Requirements**: [Examples of well-defined tasks]\n- **Useful Feedback**: [Valuable user input that improved outcomes]\n\n---\n\n## Pain Points & Challenges\n\n### Workflow Friction Areas\n\n1. **[Issue Category]**: [Description]\n   - **Root Cause**: [Analysis of underlying cause]\n   - **Impact**: [Quantified impact - time lost, quality affected, etc.]\n   - **Frequency**: [How often this occurred]\n   - **Prevention Strategy**: [How to avoid in future sessions]\n\n2. **[Issue Category]**: [Description]\n   - **Root Cause**: [Analysis of underlying cause]\n   - **Impact**: [Quantified impact on workflow]\n   - **Prevention Strategy**: [How to avoid in future]\n\n### Technical Challenges\n\n- **Compilation Issues**: [Number of failures, causes, resolution]\n- **Test Failures**: [Test-related problems and how they were resolved]\n- **Tool Limitations**: [Constraints or issues with available tools]\n- **Integration Problems**: [Difficulties combining components or changes]\n\n### Communication Gaps\n\n- **Unclear Requirements**: [Cases where instructions were ambiguous]\n- **Missing Context**: [Information that should have been provided upfront]\n- **Assumption Mismatches**: [Differences between expected and actual outcomes]\n\n---\n\n## Improvement Recommendations\n\n### Immediate Actions (Next Session)\n\n1. **[High Priority Item]**: [Specific action with expected impact]\n2. **[High Priority Item]**: [Specific action with expected impact]\n3. **[High Priority Item]**: [Specific action with expected impact]\n\n### Short-term Enhancements (1-2 weeks)\n\n1. **[Enhancement Area]**: [Description and implementation approach]\n2. **[Enhancement Area]**: [Description and implementation approach]\n\n### Long-term Vision (1-3 months)\n\n1. **[Strategic Improvement]**: [Long-term enhancement with roadmap]\n2. **[Strategic Improvement]**: [Long-term enhancement with roadmap]\n\n---\n\n## Workflow Optimization Analysis\n\n### Cycle Time Analysis\n\n- **Average Task Duration**: [Time from start to completion]\n- **Rework Frequency**: [% of tasks requiring significant revision]\n- **Bottlenecks**: [Where workflow got stuck or slowed]\n- **Efficiency Wins**: [What made progress faster]\n\n### Quality Progression\n\n- **Code Quality Trend**: [Quality improvement over session duration]\n- **Test Coverage Trend**: [Coverage changes over time]\n- **Standard Compliance**: [Adherence to project guidelines]\n- **Learning Evidence**: [Signs of improving effectiveness during session]\n\n### Tool & Resource Usage\n\n- **Tool Effectiveness**: [Which tools were most/least effective]\n- **Context Sufficiency**: [Was enough context available]\n- **Documentation Quality**: [Usefulness of available documentation]\n\n---\n\n## Patterns for Future Reference\n\n### Successful Patterns to Replicate\n\n1. **[Pattern Name]**: [Description and replication instructions]\n2. **[Pattern Name]**: [Description and replication instructions]\n\n### Anti-Patterns to Avoid\n\n1. **[Anti-Pattern Name]**: [Description and prevention strategy]\n2. **[Anti-Pattern Name]**: [Description and prevention strategy]\n\n### Context-Specific Learnings\n\n- **Project Type**: [Insights specific to this type of project]\n- **Task Complexity**: [Approaches that worked for this complexity level]\n- **Tech Stack**: [Technology-specific patterns discovered]\n\n---\n\n## Sub-agent Feedback (if applicable)\n\n### [Sub-agent Name] Feedback\n\n- **Strengths**: [What worked well in this sub-agent's tasks]\n- **Challenges**: [What caused difficulty or confusion]\n- **Suggestions**: [Recommendations for improved coordination]\n\n### [Sub-agent Name] Feedback\n\n- **Strengths**: [What worked well]\n- **Challenges**: [What caused difficulty]\n- **Suggestions**: [Recommendations for improvement]\n\n---\n\n## User Experience Summary\n\n### Most Valuable Aspects\n\n- [What the user found most helpful about this session]\n- [Specific features or approaches that delivered value]\n\n### Friction Points\n\n- [What caused user frustration or confusion]\n- [Process inefficiencies from user perspective]\n\n### Desired Improvements\n\n- [User suggestions for enhancement]\n- [Features or capabilities user wishes were available]\n\n---\n\n## Next Session Preparation\n\n### Workflow Optimizations to Implement\n\n- [ ] [Specific workflow change based on learnings]\n- [ ] [Process improvement to apply next session]\n- [ ] [Tool usage optimization to implement]\n\n### Context Enhancements\n\n- [ ] [Additional context to provide upfront]\n- [ ] [Documentation updates needed]\n- [ ] [Reference materials to prepare]\n\n### Success Criteria\n\n- [ ] [Define clear goals for next session]\n- [ ] [Establish metrics to track]\n- [ ] [Identify resources needed]\n\n---\n\n**Report Generated**: [Date/Time]\n**Generated By**: Retrospective Skill\n**Next Review**: [Scheduled follow-up date]\n```\n\n---\n\n## Template 2: Quick Retrospective\n\n```markdown\n# Quick Retrospective - [Session Topic]\n\n**Date**: [Date]\n**Duration**: [Duration]\n**Scope**: [One-line description of what was accomplished]\n\n## Highlights ‚úÖ\n\n- [Top success with specific example]\n- [Key achievement with measurable outcome]\n- [Quality win or best practice followed]\n\n## Challenges ‚ö†Ô∏è\n\n- [Main technical challenge and resolution]\n- [Process friction point]\n- [Communication or clarity issue]\n\n## Key Learnings üí°\n\n- [Important pattern discovered]\n- [Approach to replicate in future]\n- [Anti-pattern to avoid next time]\n\n## Action Items üöÄ\n\n- [ ] [Immediate improvement to implement]\n- [ ] [Follow-up task for next session]\n- [ ] [Documentation or context update needed]\n\n**Quick Assessment**: [1-2 sentence overall evaluation of session effectiveness]\n```\n\n---\n\n## Template Usage Guidelines\n\n### When to Use Each Template\n\n**Comprehensive Template**:\n\n- End of major feature implementations\n- Completion of multi-day or multi-task sessions\n- When significant learnings emerged\n- User requests detailed analysis\n- Sessions with noteworthy successes or challenges\n\n**Quick Template**:\n\n- Regular session wrap-ups\n- Single-task completions\n- Brief work sessions (< 1 hour)\n- Routine maintenance or updates\n- User requests lightweight summary\n\n### Storage and Organization\n\n```\n${CLAUDE_PROJECT_DIR}/.claude/skills/retrospecting/\n‚îú‚îÄ‚îÄ SKILL.md\n‚îú‚îÄ‚îÄ contexts/\n‚îÇ   ‚îî‚îÄ‚îÄ session-analytics.md\n‚îú‚îÄ‚îÄ templates/\n‚îÇ   ‚îî‚îÄ‚îÄ retrospective-templates.md\n‚îú‚îÄ‚îÄ reports/\n‚îÇ   ‚îú‚îÄ‚îÄ YYYY-MM-DD-brief-description-SESSION_ID.md\n‚îÇ   ‚îî‚îÄ‚îÄ YYYY-MM-DD-another-session-SESSION_ID.md\n‚îú‚îÄ‚îÄ patterns/\n‚îÇ   ‚îú‚îÄ‚îÄ successful-patterns.md\n‚îÇ   ‚îî‚îÄ‚îÄ anti-patterns-to-avoid.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îî‚îÄ‚îÄ analyze-session-logs.sh\n\nSession logs (managed by Claude Code):\n~/.claude/projects/{project-dir}/{session-id}.jsonl\n(where {project-dir} = working directory path with slashes replaced by dashes)\n```\n\n**Naming Convention**: `YYYY-MM-DD-brief-description-SESSION_ID.md`\n\n- Use ISO date format for chronological sorting\n- Keep description concise (3-5 words)\n- Use hyphens for readability\n- Include session ID from log files for traceability\n\n**Pattern Library Maintenance**:\n\n- Extract reusable patterns from retrospectives in `patterns/` directory\n- Update patterns as new evidence emerges\n- Organize by project type, technology, or problem domain\n- Reference specific retrospectives as evidence\n\n---\n\nThese templates provide structured frameworks for capturing session insights and generating actionable recommendations for continuous improvement.\n"
      },
      "plugins": [
        {
          "name": "claude-retrospective",
          "source": "./plugins/claude-retrospective",
          "version": "1.0.0",
          "description": "Comprehensive analysis of Claude Code sessions to identify successful patterns, problematic areas, and opportunities for improvement.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add bitwarden/ai-plugins",
            "/plugin install claude-retrospective@bitwarden-marketplace"
          ]
        },
        {
          "name": "claude-config-validator",
          "source": "./plugins/claude-config-validator",
          "version": "1.0.0",
          "description": "Validates Claude Code configuration files for security, structure, and quality. Reviews CLAUDE.md, skills, agents, prompts, commands, and settings.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add bitwarden/ai-plugins",
            "/plugin install claude-config-validator@bitwarden-marketplace"
          ]
        },
        {
          "name": "bitwarden-code-review",
          "source": "./plugins/bitwarden-code-review",
          "version": "1.7.1",
          "description": "Comprehensive code review system with organization-wide standards.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add bitwarden/ai-plugins",
            "/plugin install bitwarden-code-review@bitwarden-marketplace"
          ]
        },
        {
          "name": "bitwarden-init",
          "source": "./plugins/bitwarden-init",
          "version": "1.0.0",
          "description": "Initialize Claude Code configuration with Bitwarden's standardized template format",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add bitwarden/ai-plugins",
            "/plugin install bitwarden-init@bitwarden-marketplace"
          ]
        }
      ]
    }
  ]
}