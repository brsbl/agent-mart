{
  "author": {
    "id": "superfly",
    "display_name": "fly.io",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/22525303?v=4",
    "url": "https://github.com/superfly",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 6,
      "total_skills": 1,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "superfly-plugins",
      "version": null,
      "description": "Assorted Claude Code plugins for Fly.io and Sprites",
      "owner_info": {
        "name": "Fly.io",
        "email": "support@fly.io"
      },
      "keywords": [],
      "repo_full_name": "superfly/claude-plugins",
      "repo_url": "https://github.com/superfly/claude-plugins",
      "repo_description": "An unofficial Claude Code plugin marketplace from Fly.io",
      "homepage": "",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-21T14:12:32Z",
        "created_at": "2026-01-21T09:37:51Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 584
        },
        {
          "path": "sprite-handoff",
          "type": "tree",
          "size": null
        },
        {
          "path": "sprite-handoff/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "sprite-handoff/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 382
        },
        {
          "path": "sprite-handoff/README.md",
          "type": "blob",
          "size": 7633
        },
        {
          "path": "sprite-handoff/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "sprite-handoff/agents/sprite-orchestrator.md",
          "type": "blob",
          "size": 6629
        },
        {
          "path": "sprite-handoff/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "sprite-handoff/commands/create.md",
          "type": "blob",
          "size": 1242
        },
        {
          "path": "sprite-handoff/commands/exec.md",
          "type": "blob",
          "size": 1556
        },
        {
          "path": "sprite-handoff/commands/handoff.md",
          "type": "blob",
          "size": 4266
        },
        {
          "path": "sprite-handoff/commands/sessions.md",
          "type": "blob",
          "size": 1290
        },
        {
          "path": "sprite-handoff/commands/status.md",
          "type": "blob",
          "size": 1450
        },
        {
          "path": "sprite-handoff/commands/sync.md",
          "type": "blob",
          "size": 1360
        },
        {
          "path": "sprite-handoff/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "sprite-handoff/skills/sprites-api",
          "type": "tree",
          "size": null
        },
        {
          "path": "sprite-handoff/skills/sprites-api/SKILL.md",
          "type": "blob",
          "size": 3775
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"superfly-plugins\",\n  \"owner\": {\n    \"name\": \"Fly.io\",\n    \"email\": \"support@fly.io\"\n  },\n  \"metadata\": {\n    \"description\": \"Assorted Claude Code plugins for Fly.io and Sprites\",\n    \"version\": \"0.1.0\",\n    \"pluginRoot\": \"./\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"sprite-handoff\",\n      \"source\": \"./sprite-handoff\",\n      \"description\": \"Offload Claude Code sessions to Sprites.dev sandboxes - run code remotely, sync files, manage background tasks\",\n      \"category\": \"cloud\",\n      \"tags\": [\"sprites\", \"cloud\", \"sandbox\", \"remote-execution\", \"handoff\"]\n    }\n  ]\n}\n",
        "sprite-handoff/.claude-plugin/plugin.json": "{\n  \"name\": \"sprite-handoff\",\n  \"version\": \"0.1.1\",\n  \"description\": \"Offload Claude Code sessions to Sprites.dev cloud sandboxes - run code remotely, sync files, manage background tasks\",\n  \"author\": {\n    \"name\": \"Kyle\",\n    \"url\": \"https://sprites.dev\"\n  },\n  \"homepage\": \"https://docs.sprites.dev\",\n  \"keywords\": [\"sprites\", \"cloud\", \"sandbox\", \"remote-execution\", \"handoff\"]\n}\n",
        "sprite-handoff/README.md": "# sprite-handoff\n\nA Claude Code plugin for offloading sessions to [Sprites.dev](https://sprites.dev) cloud sandboxes.\n\n## Features\n\n- **One-Command Handoff**: Sync files and launch Claude Code on a sprite with a single command\n- **Git Worktree Isolation**: Each session gets its own git worktree for clean state management\n- **Session Persistence**: Resume sessions by ID - no need to re-sync files\n- **Pull Changes Back**: Fetch modified files from remote sessions to your local machine\n- **Background Tasks**: Run long-running builds/tests in the cloud while you work locally\n\n## Prerequisites\n\n1. **Sprites CLI installed and authenticated**:\n   ```bash\n   # Install (if not already)\n   curl -sSL https://sprites.dev/install.sh | bash\n\n   # Authenticate\n   sprite org auth\n   ```\n\n2. **Git repository**: The sync command uses git to determine which files to transfer\n\n3. **Go 1.21+** (for building the CLI tool)\n\n## Installation\n\nInstall via the Superfly Plugins marketplace:\n\n```\n/plugin marketplace add superfly/claude-plugins\n/plugin install sprite-handoff@superfly-plugins\n```\n\nTo manually check for updates:\n\n```\n/plugin marketplace update superfly-plugins\n```\n\n## Quick Start\n\n```bash\n# Hand off a task to a sprite (syncs files + launches Claude)\n./bin/sprite-handoff run my-sprite \"Run the test suite and fix any failures\"\n\n# Resume a previous session\n./bin/sprite-handoff run my-sprite \"Continue fixing the tests\" --resume <session-id>\n\n# Pull changed files back to local machine\n./bin/sprite-handoff pull <session-id>\n\n# List all sessions\n./bin/sprite-handoff sessions list\n```\n\n## CLI Commands\n\n### Core Commands\n\n| Command | Description |\n|---------|-------------|\n| `run <sprite> <prompt>` | Sync files and run Claude Code on a sprite |\n| `pull <session-id>` | Pull changed files from a session back to local |\n| `sessions list` | List all handoff sessions |\n| `sessions info <id>` | Show details about a session |\n| `sessions clean` | Remove old sessions |\n\n### File Operations\n\n| Command | Description |\n|---------|-------------|\n| `sync <sprite> [dir]` | Sync git-tracked files to a sprite |\n| `read <sprite> <path>` | Read a file from sprite filesystem |\n| `write <sprite> <remote> <local>` | Write a local file to sprite |\n| `list <sprite> [path]` | List directory contents |\n| `delete <sprite> <path>` | Delete a file or directory |\n\n### Authentication\n\n| Command | Description |\n|---------|-------------|\n| `token` | Print sprite auth token |\n| `claude-token` | Print Claude Code OAuth token |\n\n## The `run` Command\n\nThe main command for handing off work to a sprite:\n\n```bash\nsprite-handoff run <sprite-name> <prompt> [flags]\n\nFlags:\n  --resume, -r <id>     Resume an existing session\n  --model <model>       Claude model (sonnet, opus, haiku)\n  --max-budget <amt>    Maximum budget in USD\n  --source <dir>        Source directory (default: .)\n  -v, --verbose         Verbose output\n```\n\n### New Session Flow\n\n1. Creates a bare git repo on the sprite (if first time for this project)\n2. Creates a new git worktree for session isolation\n3. Syncs all git-tracked files to the worktree\n4. Creates an initial commit\n5. Saves session metadata (locally and remotely)\n6. Launches Claude Code with your prompt\n\n### Resume Flow\n\n1. Looks up session by ID from local cache\n2. Verifies worktree still exists\n3. Launches Claude Code with `--resume` flag\n4. No re-sync needed - worktree preserves state\n\n## Architecture\n\n### Directory Structure on Sprite\n\n```\n/handoffs/\n├── my-project/                    # Bare git repo (one per project)\n├── my-project.worktrees/\n│   ├── <session-uuid-1>/          # Working directory for session 1\n│   └── <session-uuid-2>/          # Working directory for session 2\n└── .sessions/\n    ├── <session-uuid-1>.json      # Session metadata\n    └── <session-uuid-2>.json\n```\n\n### Local Session Cache\n\nSessions are cached locally at `~/.sprite-handoff/sessions.json` for quick lookups.\n\n## Using as a Claude Code Plugin\n\nWhen installed as a Claude Code plugin, there are three ways to interact with sprite-handoff:\n\n### 1. Slash Commands (Primary Entry Point)\n\n| Command | Description |\n|---------|-------------|\n| `/sprite:handoff \"prompt\"` | **Main entry** - hand off current task to a remote sprite |\n| `/sprite:create` | Create a new sprite or select an existing one |\n| `/sprite:sync` | Sync git-tracked files to the active sprite |\n| `/sprite:exec` | Execute commands in the active sprite |\n| `/sprite:sessions` | List, attach, or kill running sessions |\n| `/sprite:status` | Show current sprite status, disk usage, and sessions |\n\n### 2. Natural Language via Agent\n\nThe `sprite-orchestrator` agent triggers automatically on phrases like:\n- \"Hand this off to a sprite\"\n- \"Run this in a sprite\"\n- \"Let the sprite handle this\"\n- \"Offload this work to the cloud\"\n\nThe agent coordinates the full workflow: sprite selection/creation, context generation, file sync, and remote Claude launch.\n\n### 3. Direct CLI\n\nThe Go binary can also be invoked directly from your terminal:\n\n```bash\n./bin/sprite-handoff run my-sprite \"Run tests\"\n./bin/sprite-handoff pull <session-id>\n./bin/sprite-handoff sessions list\n```\n\n### Recommended Workflow\n\n1. **Invoke**: Use `/sprite:handoff \"Run tests and fix failures\"` or natural language\n2. **Automatic**: Plugin syncs files, creates isolated git worktree, launches remote Claude\n3. **Continue**: You receive a session ID and can continue local work\n4. **Retrieve**: Pull changes back with `/sprite:sessions` or `sprite-handoff pull <session-id>`\n\n## Development\n\n### Building\n\n```bash\nmake build          # Build for current platform\nmake build-all      # Build for all platforms\n```\n\n### Testing\n\n```bash\nmake test           # Run unit tests\nmake test-unit      # Run unit tests only\nmake test-coverage  # Run with coverage report\n```\n\n### Integration & E2E Tests\n\nIntegration and E2E tests require a real sprite:\n\n```bash\n# Set environment variables\nexport SPRITE_NAME=my-test-sprite\n\n# Run integration tests\nmake test-integration\n\n# Run E2E tests\nmake test-e2e\n\n# Run all tests\nmake test-all\n```\n\n### Code Quality\n\n```bash\nmake fmt            # Format code\nmake lint           # Run linter\nmake vet            # Run go vet\n```\n\n## Project Structure\n\n```\nsprite-handoff/\n├── .claude-plugin/\n│   └── plugin.json         # Plugin manifest\n├── cmd/\n│   └── sprite-handoff/\n│       └── main.go         # CLI entry point\n├── internal/\n│   ├── api/                # Sprites Filesystem API client\n│   ├── config/             # Token and config management\n│   ├── session/            # Session metadata management\n│   ├── sync/               # Git file sync logic\n│   └── worktree/           # Git worktree operations\n├── tests/\n│   ├── integration/        # Integration tests\n│   └── e2e/                # End-to-end tests\n├── commands/               # Plugin commands\n├── agents/                 # Plugin agents\n├── bin/                    # Built binaries\n├── Makefile\n└── README.md\n```\n\n## Authentication\n\n### Sprite Token\n\nUsed for Sprites.dev API calls. Read from:\n1. `SPRITE_TOKEN` environment variable\n2. macOS keychain (sprites CLI stores it there)\n3. `~/.sprites/sprites.json` config file\n\n### Claude Token\n\nUsed to authenticate Claude Code on remote sprites. Read from:\n1. `ANTHROPIC_API_KEY` environment variable\n2. macOS keychain (\"Claude Code-credentials\" entry)\n\nThe token is passed to remote Claude via `CLAUDE_CODE_OAUTH_TOKEN` environment variable.\n\n## License\n\nMIT\n",
        "sprite-handoff/agents/sprite-orchestrator.md": "---\nname: sprite-orchestrator\ndescription: |\n  Use this agent when the user explicitly requests to \"hand off\" a session to a sprite,\n  \"offload\" work to the cloud, \"run this in a sprite\", \"let the sprite handle this\",\n  or wants Claude Code to continue working on a task remotely in a cloud sandbox.\n  This agent coordinates the full handoff: sync files, transfer context, and start\n  Claude Code on the sprite to continue processing.\n\n  <example>\n  Context: User is working on a project and wants to run long-running tests remotely\n  user: \"Can you hand this off to a sprite and run the full test suite?\"\n  assistant: \"I'll hand off to the sprite - syncing files, then starting Claude Code remotely to run the tests.\"\n  <commentary>\n  User explicitly requested \"hand this off to a sprite\" - orchestrator syncs and launches remote Claude.\n  </commentary>\n  </example>\n\n  <example>\n  Context: User wants to offload a refactoring task\n  user: \"Offload the database refactoring to a sprite so I can keep working locally\"\n  assistant: \"I'll set up the handoff - syncing the project, then launching Claude Code on the sprite to handle the database refactoring while you continue here.\"\n  <commentary>\n  User wants parallel work - local and remote Claude Code working simultaneously.\n  </commentary>\n  </example>\n\n  <example>\n  Context: User has a complex task they want to run in the background\n  user: \"Have the sprite work on implementing the REST API while I review the frontend\"\n  assistant: \"I'll hand off the API implementation to Claude Code on the sprite. You'll get a session ID to monitor progress.\"\n  <commentary>\n  User wants to delegate a task to remote Claude Code for autonomous completion.\n  </commentary>\n  </example>\n\nmodel: inherit\ncolor: cyan\ntools: [\"Bash\", \"Read\", \"Write\", \"Grep\", \"Glob\"]\n---\n\nYou are a cloud orchestration specialist for Sprites.dev. Your primary role is to **hand off tasks to Claude Code running on remote sprites** - enabling background processing, parallel work, and offloading long-running tasks.\n\n## Core Responsibilities\n\n1. Determine the target sprite\n2. Generate context summary for the remote Claude\n3. Execute the handoff using the `run` command\n4. Provide session management information to the user\n\n## Handoff Workflow\n\n### Phase 1: Prepare Sprite\n\n1. Check for active sprite: `sprite use`\n2. If none exists, create one: `sprite create <project-name>`\n3. Set as active: `sprite use <name>`\n\n### Phase 2: Generate Handoff Context\n\nCreate a prompt for the remote Claude that includes:\n\n```\n## Handoff Context\n\nYou are continuing work that was started in another Claude Code session.\n\n### Project Summary\n[Brief description of the project based on README, package.json, etc.]\n\n### Recent Context\n[Summary of what was being discussed/worked on]\n\n### Task\n[The specific task the user wants completed]\n\n### CRITICAL: Commit All Changes\n\nYou MUST commit your changes before finishing. The user will pull your work back\nusing git, so any uncommitted changes will be LOST.\n\nBefore you finish, always run:\n  git add -A && git commit -m \"Description of what was done\"\n\n### Instructions\n- Work autonomously on this task\n- Commit your changes frequently as you make progress\n- When finished, write a summary to HANDOFF_RESULT.md\n- Make a final commit that includes HANDOFF_RESULT.md\n- Include in the summary: what was done, files changed, any issues encountered\n```\n\n### Phase 3: Execute Handoff\n\nUse the `run` command which handles everything automatically:\n\n```bash\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff run <sprite-name> \"<prompt>\" [flags]\n```\n\n**Available flags:**\n- `--model <model>` - Specify model (sonnet, opus, haiku)\n- `--max-budget <amount>` - Set spending limit in USD\n- `--source <dir>` - Source directory (default: current dir)\n- `-v` - Verbose output\n\nThe `run` command:\n1. Creates a bare git repo on the sprite (if first time for this project)\n2. Creates a new git worktree for session isolation\n3. Syncs all git-tracked files via filesystem API\n4. Creates an initial commit\n5. Saves session metadata (locally and remotely)\n6. Retrieves Claude OAuth token from local keychain\n7. Launches Claude Code on the sprite with the prompt\n\n### Phase 4: Report to User\n\nAfter handoff completes, report:\n\n```\n=== Handoff Complete ===\nSprite: <sprite-name>\nSession ID: <uuid>\nWorktree: /handoffs/<project>.worktrees/<uuid>\n\nClaude Code is now working on:\n  \"<task summary>\"\n\nTo resume this session:\n  sprite-handoff run <sprite> \"<prompt>\" --resume <session-id>\n\nTo pull changes when complete:\n  sprite-handoff pull <session-id>\n\nTo list all sessions:\n  sprite-handoff sessions list\n```\n\n## Commands Reference\n\n```bash\n# Main handoff command\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff run <sprite> \"<prompt>\"\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff run <sprite> \"<prompt>\" --model opus\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff run <sprite> \"<prompt>\" --max-budget 5\n\n# Resume a previous session\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff run <sprite> \"<prompt>\" --resume <session-id>\n\n# Pull changed files back\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff pull <session-id>\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff pull <session-id> --dry-run\n\n# Session management\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions list\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions list <sprite-name>\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions info <session-id>\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions clean --session <id>\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions clean --remote\n\n# File operations (for manual inspection)\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff read <sprite> <path>\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff list <sprite> <path>\n\n# Sprite CLI\nsprite create <name>              # Create sprite\nsprite use <name>                 # Set active\nsprite sessions list              # List running sprite sessions\nsprite sessions attach <id>       # Attach to session\n```\n\n## Error Handling\n\n- **No sprite**: Ask user to specify or create one\n- **Run command fails**: Check error output, may need to verify sprite is running\n- **Session not found**: List available sessions with `sessions list`\n- **Worktree missing**: Session may have been cleaned up - start a new handoff\n\n## Tips for Users\n\n- Each session gets its own git worktree - no interference between sessions\n- Resume sessions by ID - worktree preserves all state, no re-sync needed\n- Pull changes back when the remote work is complete\n- Sprites hibernate when idle (no cost) and wake instantly\n- You can hand off multiple tasks to different sprites for parallel work\n- Session IDs are stored locally at `~/.sprite-handoff/sessions.json`\n",
        "sprite-handoff/commands/create.md": "---\nname: create\ndescription: Create a new sprite or select an existing one for remote execution\nargument-hint: \"[sprite-name]\"\nallowed-tools:\n  - Bash\n---\n\n# Create or Select a Sprite\n\nCreate a new Sprites.dev cloud sandbox or select an existing one as the active sprite for this project.\n\n## Behavior\n\n**If a sprite name is provided:**\n1. Check if sprite exists with `sprite list`\n2. If it exists, set it as active with `sprite use <name>`\n3. If it doesn't exist, create it with `sprite create <name>` then set as active\n\n**If no sprite name is provided:**\n1. List existing sprites with `sprite list`\n2. Show the list to the user\n3. Ask if they want to use an existing sprite or create a new one\n\n## Commands to Use\n\n```bash\n# List sprites\nsprite list\n\n# Create new sprite\nsprite create <name>\n\n# Set active sprite for current directory\nsprite use <name>\n\n# Check current active sprite\nsprite use\n```\n\n## Output\n\nAfter completing, report:\n- Sprite name\n- Whether it was created or already existed\n- Confirm it's set as active\n\n## Tips\n\n- Sprite names should be lowercase, alphanumeric with hyphens\n- Sprites auto-hibernate after 30 seconds of inactivity (no cost when idle)\n- Sprites have persistent filesystems - data survives hibernation\n",
        "sprite-handoff/commands/exec.md": "---\nname: exec\ndescription: Execute commands in the active sprite cloud sandbox\nargument-hint: \"<command> [--detach] [--env KEY=VAL]\"\nallowed-tools:\n  - Bash\n---\n\n# Execute Commands in Sprite\n\nRun commands in the active sprite cloud sandbox. Supports one-off execution, detachable sessions for background tasks, and environment variables.\n\n## Execution Modes\n\n### One-off (default)\nRun a command and return the output:\n```bash\nsprite exec \"npm run build\"\n```\n\n### Detachable Session\nRun in background, can detach and reattach later:\n```bash\nsprite exec -detachable \"npm run dev\"\n# Press Ctrl+\\ to detach\n```\n\n### With Environment Variables\n```bash\nsprite exec -env NODE_ENV=production,DEBUG=true \"npm start\"\n```\n\n### With Working Directory\n```bash\nsprite exec -dir /home/sprite/myproject \"npm test\"\n```\n\n## Argument Parsing\n\nParse the user's input to determine:\n- **Command**: The shell command to run (required)\n- **--detach or -d**: Use detachable mode for long-running tasks\n- **--env or -e**: Environment variables (KEY=VAL,KEY2=VAL2)\n- **--dir**: Working directory in the sprite\n\n## Behavior\n\n1. Get the active sprite name with `sprite use`\n2. If no active sprite, tell user to run `/sprite:create` first\n3. Build the appropriate `sprite exec` command with flags\n4. Run the command and show output\n5. For detachable mode, explain how to detach (Ctrl+\\) and reattach\n\n## Tips\n\n- Use detachable mode for dev servers, builds, or anything long-running\n- Sessions persist even if you close your terminal\n- Use `/sprite:sessions` to manage running sessions\n",
        "sprite-handoff/commands/handoff.md": "---\nname: handoff\ndescription: Hand off the current task to Claude Code running on a sprite\nargument-hint: \"<task-description>\"\nallowed-tools:\n  - Bash\n  - Read\n  - Glob\n---\n\n# Hand Off to Remote Claude Code\n\nTransfer the current work to a Claude Code instance running on a sprite in the cloud. This enables background processing, parallel work, or offloading long-running tasks.\n\n## Workflow\n\n1. **Ensure sprite is ready**\n   - Check for active sprite with `sprite use`\n   - If none, create one or ask user to run `/sprite:create`\n\n2. **Generate handoff context**\n   - Create a summary of the current conversation/task\n   - Combine with user's task description\n   - Format as a prompt for the remote Claude\n\n3. **Run the handoff using the CLI tool**\n   ```bash\n   $CLAUDE_PLUGIN_ROOT/bin/sprite-handoff run <sprite-name> \"<prompt>\" [flags]\n   ```\n\n   The `run` command handles everything:\n   - Creates git worktree for session isolation\n   - Syncs all git-tracked files\n   - Creates initial commit\n   - Retrieves Claude OAuth token\n   - Launches Claude Code on the sprite\n\n   **Available flags:**\n   - `--model <model>` - Specify model (sonnet, opus, haiku)\n   - `--max-budget <amount>` - Set spending limit in USD\n   - `--source <dir>` - Source directory (default: current dir)\n   - `-v` - Verbose output\n\n4. **Return session info**\n   - The command outputs the session ID\n   - Explain how to resume: `sprite-handoff run <sprite> \"<prompt>\" --resume <session-id>`\n   - Explain how to pull changes: `sprite-handoff pull <session-id>`\n\n## Handoff Prompt Format\n\nThe prompt passed to the `run` command should include context:\n\n```\n## Context\n[Summary of conversation and what was being worked on]\n\n## Project State\n[Key files, recent changes, current status]\n\n## Task\n[User's task description - what to continue working on]\n\n## IMPORTANT: Commit Your Changes\nYou MUST commit all changes before finishing. The user will pull your work\nusing `git diff`, so uncommitted changes will be lost.\n\nWhen done, run:\n  git add -A && git commit -m \"Description of changes\"\n\n## Instructions\n- Work autonomously on this task\n- Commit all changes with a descriptive message when complete\n- Write a summary of what was done to HANDOFF_RESULT.md\n```\n\n**Why commits matter:** The `sprite-handoff pull` command uses `git diff` to find changed files. If changes aren't committed, they won't be pulled back to the user's machine.\n\n## Arguments\n\nThe user should provide a task description explaining what the remote Claude should work on:\n- \"Run the full test suite and fix any failures\"\n- \"Implement the remaining API endpoints\"\n- \"Refactor the database layer for better performance\"\n\n## Output\n\nAfter handoff, report:\n```\n=== Handoff Complete ===\nSprite: my-sprite\nSession ID: <uuid>\nWorktree: /handoffs/my-project.worktrees/<uuid>\n\nRemote Claude is now working on:\n  \"<task description>\"\n\nTo resume this session:\n  sprite-handoff run my-sprite \"<prompt>\" --resume <session-id>\n\nTo pull changes when complete:\n  sprite-handoff pull <session-id>\n\nTo list all sessions:\n  sprite-handoff sessions list\n```\n\n## Session Management\n\nAfter handoff, the user can:\n\n```bash\n# Resume the session with a new prompt\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff run <sprite> \"Continue\" --resume <session-id>\n\n# Pull changed files back to local machine\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff pull <session-id>\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff pull <session-id> --dry-run  # Preview only\n\n# List all sessions\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions list\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions list <sprite-name>\n\n# Get session details\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions info <session-id>\n\n# Clean up old sessions\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions clean --session <id>\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sessions clean --remote  # Also remove worktrees\n```\n\n## Tips\n\n- Each session gets its own git worktree - no interference between sessions\n- Resume sessions by ID - no need to re-sync files\n- The remote Claude runs independently - you can close your terminal\n- Pull changes back when the remote work is complete\n- Sprites hibernate when idle (no cost) and wake instantly\n- The Claude token is passed via `CLAUDE_CODE_OAUTH_TOKEN` environment variable\n",
        "sprite-handoff/commands/sessions.md": "---\nname: sessions\ndescription: List, attach to, or kill running sprite sessions\nargument-hint: \"[list|attach|kill] [session-id]\"\nallowed-tools:\n  - Bash\n---\n\n# Manage Sprite Sessions\n\nManage running sessions in the active sprite. Sessions are persistent command executions that can be detached and reattached.\n\n## Actions\n\n### List Sessions (default)\nShow all running sessions:\n```bash\nsprite sessions list\n```\n\n### Attach to Session\nReconnect to a detached session:\n```bash\nsprite sessions attach <session-id>\n```\n\n### Kill Session\nTerminate a running session:\n```bash\nsprite sessions kill <session-id>\n```\n\n## Behavior\n\n1. Get the active sprite with `sprite use`\n2. If no active sprite, inform user to run `/sprite:create` first\n3. Parse the action from arguments (default: list)\n4. Run the appropriate `sprite sessions` command\n5. Display results\n\n## Session Lifecycle\n\n1. Start with `sprite exec -detachable \"command\"`\n2. Detach with Ctrl+\\ (keeps running in background)\n3. Reattach with `sprite sessions attach <id>`\n4. Kill with `sprite sessions kill <id>` when done\n\n## Output\n\nFor list:\n- Session ID\n- Command being run\n- Status (running, stopped)\n- Duration\n\nFor attach:\n- Reconnect to session output stream\n- Note: Ctrl+\\ to detach again\n\nFor kill:\n- Confirmation of termination\n",
        "sprite-handoff/commands/status.md": "---\nname: status\ndescription: Show current sprite status, disk usage, and running sessions\nallowed-tools:\n  - Bash\n---\n\n# Sprite Status\n\nDisplay comprehensive status information for the active sprite including disk usage, running sessions, and general health.\n\n## Information Gathered\n\n1. **Active Sprite**: Current sprite name for this directory\n2. **Sprite List**: All available sprites\n3. **Running Sessions**: Active sessions in the sprite\n4. **Disk Usage**: Filesystem usage in the sprite\n5. **Running Processes**: What's currently executing\n\n## Commands to Run\n\n```bash\n# Get active sprite\nsprite use\n\n# List all sprites (shows status)\nsprite list\n\n# List sessions\nsprite sessions list\n\n# Check disk usage (run in sprite)\nsprite exec \"df -h /home/sprite\"\n\n# Check running processes\nsprite exec \"ps aux\"\n```\n\n## Behavior\n\n1. Get the active sprite name\n2. If no active sprite, just list available sprites\n3. If there is an active sprite, gather all status info\n4. Present a summary to the user\n\n## Output Format\n\n```\n=== Sprite Status ===\nActive Sprite: my-dev-env\nStatus: Running / Hibernated\n\n=== Disk Usage ===\nUsed: 2.1G / 10G (21%)\n\n=== Running Sessions ===\nID      Command              Duration\nabc123  npm run dev          2h 15m\ndef456  pytest --watch       45m\n\n=== Processes ===\n(output of ps aux)\n```\n\n## Tips\n\n- Sprites auto-hibernate after 30s of inactivity\n- They wake instantly on any command\n- No compute charges while hibernated\n",
        "sprite-handoff/commands/sync.md": "---\nname: sync\ndescription: Sync git-tracked project files to the active sprite\nargument-hint: \"[--force]\"\nallowed-tools:\n  - Bash\n  - Read\n---\n\n# Sync Files to Sprite\n\nSync all git-tracked files from the current project to the active sprite's filesystem using the Sprites.dev Filesystem API.\n\n## What Gets Synced\n\n- All files tracked by git (output of `git ls-files`)\n- Respects .gitignore automatically\n- Skips files larger than 10MB\n- Creates necessary directories on the sprite\n\n## Behavior\n\n1. Verify there's an active sprite with `sprite use`\n2. Verify current directory is a git repository\n3. Run the sync command: `$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sync <sprite-name> .`\n4. Use `-v` flag for verbose output showing each file\n5. Report results: files synced, any failures\n\n## Command\n\n```bash\n# Basic sync\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sync <sprite-name> [source-dir]\n\n# Verbose sync (shows each file)\n$CLAUDE_PLUGIN_ROOT/bin/sprite-handoff sync -v <sprite-name> .\n```\n\n## Flags\n\n- **--force**: Re-sync all files even if they may already exist\n\n## Output\n\nReport:\n- Total files found\n- Files successfully synced\n- Files skipped (too large, binary)\n- Any errors\n\n## Tips\n\n- First sync may take time for large projects\n- Subsequent syncs can be faster with incremental approaches\n- The sprite filesystem persists - files survive hibernation\n",
        "sprite-handoff/skills/sprites-api/SKILL.md": "---\nname: Sprites.dev API\ndescription: |\n  This skill should be used when the user asks about \"sprites\", \"sprite API\",\n  \"Sprites.dev\", \"cloud sandbox\", \"remote execution with sprites\", \"sprite CLI\",\n  \"sprite filesystem API\", \"sprite sessions\", or needs guidance on working with\n  Sprites.dev cloud development environments.\nversion: 1.0.0\n---\n\n# Sprites.dev API Knowledge\n\n## Overview\n\nSprites.dev provides persistent cloud sandboxes (called \"sprites\") for running code remotely. Key features:\n- Persistent ext4 filesystems that survive hibernation\n- Auto-hibernation after 30 seconds of inactivity (no compute cost when idle)\n- Instant wake on any request\n- Session management for long-running processes\n- Filesystem API for direct file operations\n\n## CLI Reference\n\n### Sprite Management\n```bash\nsprite create <name>          # Create new sprite\nsprite list                   # List all sprites\nsprite use <name>             # Set active sprite for directory\nsprite use                    # Show current active sprite\nsprite destroy <name>         # Delete sprite (permanent)\n```\n\n### Command Execution\n```bash\nsprite exec \"command\"                    # One-off execution\nsprite exec -detachable \"command\"        # Detachable session\nsprite exec -env KEY=VAL \"command\"       # With environment variables\nsprite exec -dir /path \"command\"         # With working directory\nsprite exec -file local:/remote \"cmd\"    # Upload file before exec\n```\n\n### Session Management\n```bash\nsprite sessions list          # List running sessions\nsprite sessions attach <id>   # Reattach to session\nsprite sessions kill <id>     # Terminate session\n```\n**Detach from session**: Press `Ctrl+\\` (keeps running in background)\n\n### Port Forwarding\n```bash\nsprite proxy <port>           # Forward sprite port to localhost\n```\n\n## Filesystem API\n\nBase URL: `https://api.sprites.dev/v1`\nAuth: `Authorization: Bearer <token>`\n\n### Write File\n```bash\ncurl -X PUT \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/octet-stream\" \\\n  --data-binary \"@localfile.txt\" \\\n  \"https://api.sprites.dev/v1/sprites/NAME/fs/write?path=remote.txt&workingDir=/home/sprite&mkdir=true\"\n```\n\n### Read File\n```bash\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"https://api.sprites.dev/v1/sprites/NAME/fs/read?path=file.txt&workingDir=/home/sprite\"\n```\n\n### List Directory\n```bash\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"https://api.sprites.dev/v1/sprites/NAME/fs/list?path=.&workingDir=/home/sprite\"\n```\n\n### Delete\n```bash\ncurl -X DELETE \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"path\":\"file.txt\",\"workingDir\":\"/home/sprite\",\"recursive\":false,\"asRoot\":false}' \\\n  \"https://api.sprites.dev/v1/sprites/NAME/fs/delete\"\n```\n\n## Authentication\n\nToken stored in `~/.sprites/sprites.json` after running `sprite org auth`.\n\nExtract token:\n```bash\njq -r '.token' ~/.sprites/sprites.json\n```\n\n## Best Practices\n\n1. **Use detachable sessions** for long-running processes (dev servers, builds, tests)\n2. **Sync git-tracked files** rather than entire directories to avoid bloat\n3. **Port forward** for accessing web UIs running in sprites\n4. **Check sessions** before creating new ones to avoid orphaned processes\n5. **Sprites hibernate automatically** - no need to manually stop them\n6. **Use checkpoints** for creating clean restore points (filesystem snapshots)\n\n## Common Patterns\n\n### Development Server\n```bash\nsprite create my-dev\nsprite use my-dev\n# sync files\nsprite exec -detachable \"npm run dev\"\nsprite proxy 3000\n# Access at localhost:3000\n```\n\n### CI-style Execution\n```bash\nsprite exec \"npm install && npm test && npm run build\"\n```\n\n### Background Build\n```bash\nsprite exec -detachable \"npm run build:watch\"\nsprite sessions list  # to monitor\n```\n"
      },
      "plugins": [
        {
          "name": "sprite-handoff",
          "source": "./sprite-handoff",
          "description": "Offload Claude Code sessions to Sprites.dev sandboxes - run code remotely, sync files, manage background tasks",
          "category": "cloud",
          "tags": [
            "sprites",
            "cloud",
            "sandbox",
            "remote-execution",
            "handoff"
          ],
          "categories": [
            "cloud",
            "handoff",
            "remote-execution",
            "sandbox",
            "sprites"
          ],
          "install_commands": [
            "/plugin marketplace add superfly/claude-plugins",
            "/plugin install sprite-handoff@superfly-plugins"
          ]
        }
      ]
    }
  ]
}