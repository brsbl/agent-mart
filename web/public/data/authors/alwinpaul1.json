{
  "author": {
    "id": "alwinpaul1",
    "display_name": "Alwin Paul",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/39454405?u=331e4661fa68a08a5c4e8153ae79c7b72448c42a&v=4",
    "url": "https://github.com/alwinpaul1",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 2,
      "total_skills": 0,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "claude-hud",
      "version": null,
      "description": "Real-time statusline HUD for Claude Code - context health, tool activity, agent tracking, and todo progress",
      "owner_info": {
        "name": "Jarrod Watts",
        "email": "jarrodwattsyt@gmail.com"
      },
      "keywords": [],
      "repo_full_name": "alwinpaul1/claude-hud-enhanced",
      "repo_url": "https://github.com/alwinpaul1/claude-hud-enhanced",
      "repo_description": "Enhanced Claude Code HUD plugin with color themes, accurate token display, and more features",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-27T05:23:41Z",
        "created_at": "2026-01-13T11:46:46Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 661
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 513
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 11143
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/configure.md",
          "type": "blob",
          "size": 6933
        },
        {
          "path": "commands/setup.md",
          "type": "blob",
          "size": 6906
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-hud\",\n  \"owner\": {\n    \"name\": \"Jarrod Watts\",\n    \"email\": \"jarrodwattsyt@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Real-time statusline HUD for Claude Code - context health, tool activity, agent tracking, and todo progress\",\n    \"version\": \"0.0.2\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-hud\",\n      \"source\": \"./\",\n      \"description\": \"Real-time statusline showing context usage, active tools, running agents, and todo progress. Always visible below your input, zero config required.\",\n      \"category\": \"monitoring\",\n      \"tags\": [\"hud\", \"statusline\", \"monitoring\", \"context\", \"tools\", \"agents\", \"todos\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"claude-hud\",\n  \"description\": \"Real-time statusline HUD for Claude Code - context health, tool activity, agent tracking, and todo progress\",\n  \"version\": \"0.0.4\",\n  \"author\": {\n    \"name\": \"Jarrod Watts\",\n    \"url\": \"https://github.com/jarrodwatts\"\n  },\n  \"homepage\": \"https://github.com/jarrodwatts/claude-hud\",\n  \"repository\": \"https://github.com/jarrodwatts/claude-hud\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"hud\", \"monitoring\", \"statusline\", \"context\", \"tools\", \"agents\", \"todos\", \"claude-code\"]\n}\n",
        "README.md": "# Claude HUD Enhanced\n\nAn enhanced Claude Code plugin that shows what's happening — context usage, active tools, running agents, todo progress, **and detailed usage limits with time-to-reset countdowns**. Always visible below your input.\n\n[![License](https://img.shields.io/github/license/alwinpaul1/claude-hud-enhanced?v=2)](LICENSE)\n[![Stars](https://img.shields.io/github/stars/alwinpaul1/claude-hud-enhanced)](https://github.com/alwinpaul1/claude-hud-enhanced/stargazers)\n\n![Claude HUD in action](claude-hud-preview-5-2.png)\n\n## Install\n\nInside a Claude Code instance, run the following commands:\n\n**Step 1: Add the enhanced marketplace**\n```\n/plugin marketplace add alwinpaul1/claude-hud-enhanced\n```\n\n**Step 2: Install the plugin**\n```\n/plugin install claude-hud-enhanced\n```\n\n**Step 3: Configure the statusline**\n```\n/claude-hud:setup\n```\n\nDone! The HUD appears immediately — no restart needed.\n\n---\n\n## What is Claude HUD Enhanced?\n\nClaude HUD Enhanced gives you better insights into what's happening in your Claude Code session, with **additional features** for tracking usage limits.\n\n| What You See | Why It Matters |\n|--------------|----------------|\n| **Project path** | Know which project you're in (configurable 1-3 directory levels) |\n| **Context health** | Know exactly how full your context window is before it's too late |\n| **Tool activity** | Watch Claude read, edit, and search files as it happens |\n| **Agent tracking** | See which subagents are running and what they're doing |\n| **Todo progress** | Track task completion in real-time |\n| **5h & 7d usage** | Always see both rate limits with reset times |\n| **Model quotas** | Track Opus 4.5 and other compute-intensive model limits |\n| **Max tier info** | See Max5/Max20 tier with tokens-per-window |\n\n### Enhanced Features (vs Original)\n\n| Feature | Original | Enhanced |\n|---------|----------|----------|\n| 7-day usage | Only shown when ≥80% | **Always visible** |\n| 5h limit reached | Basic countdown | **Reset time** (e.g., \"Resets 8:32 PM\") |\n| 7d reset | Not shown | **Date/time** (e.g., \"Resets Fri 12:30 PM\") |\n| Credential source | File only | **File + macOS Keychain** |\n| Model quotas | ❌ | ✅ Shows Opus 4.5 limits |\n| Max tier detection | ❌ | ✅ Max5/Max20 with tokens/window |\n\n## What Each Line Shows\n\n### Session Info\n```\n[Opus 4.5 | Pro] █████░░░░░ 45% 90k/200k | my-project git:(main) | 5h: 25% (3h 28m) | 7d: 51% (Resets Fri 12:30 PM) | ⏱️ 5m\n```\n- **Model** — Current model in use (shown first)\n- **Plan name** — Your subscription tier (Pro, Max, Team) when usage enabled\n- **Context bar** — Visual meter with color coding (green → yellow → red as it fills)\n- **Token count** — Current/total tokens (e.g., `90k/200k`)\n- **Project path** — Configurable 1-3 directory levels (default: 1)\n- **Git branch** — Current branch name (configurable on/off)\n- **5h usage** — 5-hour rate limit with **countdown** (e.g., \"3h 28m\"), or reset time when limit reached\n- **7d usage** — 7-day rate limit with **reset date/time** (e.g., \"Resets Fri 12:30 PM\")\n- **Duration** — How long the session has been running\n\n### When Limit is Reached\n```\n[Opus 4.5 | Pro] ░░░░░░░░░░ 0% 0/200k | my-project git:(main) | ⚠ 5h limit Resets 8:32 PM | 7d: 51% (Resets Fri 12:30 PM) | ⏱️ 1h 48m\n```\n- Shows warning with reset time for 5h limit\n- 7-day usage with reset date/time always visible alongside\n\n### Tool Activity\n```\n✓ TaskOutput ×2 | ✓ mcp_context7 ×1 | ✓ Glob ×1 | ✓ Skill ×1\n```\n- **Running tools** show a spinner with the target file\n- **Completed tools** aggregate by type with counts\n\n### Agent Status\n```\n✓ Explore: Explore home directory structure (5s)\n✓ open-source-librarian: Research React hooks patterns (2s)\n```\n- **Agent type** and what it's working on\n- **Elapsed time** for each agent\n\n### Todo Progress\n```\n✓ All todos complete (5/5)\n```\n- **Current task** or completion status\n- **Progress counter** (completed/total)\n\n---\n\n## How It Works\n\nClaude HUD uses Claude Code's native **statusline API** — no separate window, no tmux required, works in any terminal.\n\n```\nClaude Code → stdin JSON → claude-hud → stdout → displayed in your terminal\n           ↘ transcript JSONL (tools, agents, todos)\n```\n\n**Key features:**\n- Native token data from Claude Code (not estimated)\n- Parses the transcript for tool/agent activity\n- Updates every ~300ms\n\n---\n\n## Configuration\n\nCustomize your HUD anytime:\n\n```\n/claude-hud:configure\n```\n\nThe guided flow walks you through customization — no manual editing needed:\n\n- **First time setup**: Choose a preset (Full/Essential/Minimal), then fine-tune individual elements\n- **Customize anytime**: Toggle items on/off, adjust git display style, switch layouts\n- **Preview before saving**: See exactly how your HUD will look before committing changes\n\n### Presets\n\n| Preset | What's Shown |\n|--------|--------------|\n| **Full** | Everything enabled — tools, agents, todos, git, usage, duration |\n| **Essential** | Activity lines + git status, minimal info clutter |\n| **Minimal** | Core only — just model name and context bar |\n\nAfter choosing a preset, you can turn individual elements on or off.\n\n### Manual Configuration\n\nYou can also edit the config file directly at `~/.claude/plugins/claude-hud/config.json`.\n\n### Options\n\n| Option | Type | Default | Description |\n|--------|------|---------|-------------|\n| `layout` | string | `default` | Layout style: `default` or `separators` |\n| `pathLevels` | 1-3 | 1 | Directory levels to show in project path |\n| `gitStatus.enabled` | boolean | true | Show git branch in HUD |\n| `gitStatus.showDirty` | boolean | true | Show `*` for uncommitted changes |\n| `gitStatus.showAheadBehind` | boolean | false | Show `↑N ↓N` for ahead/behind remote |\n| `display.showModel` | boolean | true | Show model name `[Opus]` |\n| `display.showContextBar` | boolean | true | Show visual context bar `████░░░░░░` |\n| `display.showConfigCounts` | boolean | true | Show CLAUDE.md, rules, MCPs, hooks counts |\n| `display.showDuration` | boolean | true | Show session duration `⏱️ 5m` |\n| `display.showUsage` | boolean | true | Show usage limits (Pro/Max/Team only) |\n| `display.showTokenBreakdown` | boolean | true | Show token details at high context (85%+) |\n| `display.showTools` | boolean | true | Show tools activity line |\n| `display.showAgents` | boolean | true | Show agents activity line |\n| `display.showTodos` | boolean | true | Show todos progress line |\n\n### Usage Limits (Pro/Max/Team)\n\nUsage display is **enabled by default** for Claude Pro, Max, and Team subscribers. It shows your rate limit consumption directly in the HUD.\n\n**Enhanced behavior:** Both 5-hour AND 7-day usage are **always visible**:\n- **5h** — Shows countdown (e.g., \"3h 28m\") or reset time when limit reached\n- **7d** — Shows date/time (e.g., \"Resets Fri 12:30 PM\")\n\n```\n[Opus 4.5 | Pro] █████░░░░░ 45% 90k/200k | my-project | 5h: 25% (3h 28m) | 7d: 51% (Resets Fri 12:30 PM) | ⏱️ 5m\n```\n\n**When limit is reached:**\n```\n[Opus 4.5 | Pro] ░░░░░░░░░░ 0% | my-project | ⚠ 5h limit Resets 8:32 PM | 7d: 51% (Resets Fri 12:30 PM)\n```\n\n**Max tier detection** (Max5 = 88k tokens/window, Max20 = 220k tokens/window):\n```\n[Opus 4.5 | Max] █████░░░░░ 45% | my-project | 5h: 25% | 7d: 51% (Resets Fri 12:30 PM) | Max20 220k/win\n```\n\nTo disable usage display, set `display.showUsage` to `false` in your config.\n\n**Requirements:**\n- Claude Pro, Max, or Team subscription (not available for API users)\n- OAuth credentials from Claude Code (created automatically when you log in)\n\n**Credential Sources (Enhanced):**\n- `~/.claude/.credentials.json` (file-based)\n- **macOS Keychain** (automatic fallback) — reads from \"Claude Code-credentials\"\n\n**Troubleshooting:** If usage doesn't appear:\n- Ensure you're logged in with a Pro/Max/Team account (not API key)\n- Check `display.showUsage` is not set to `false` in config\n- On macOS, credentials may be in Keychain (this is supported automatically)\n- API users see no usage display (they have pay-per-token, not rate limits)\n\n### Layout Options\n\n**Default layout** — All info on first line:\n```\n[Opus] ████░░░░░░ 42% | my-project git:(main) | 2 rules | ⏱️ 5m\n✓ Read ×3 | ✓ Edit ×1\n```\n\n**Separators layout** — Visual separator below header when activity exists:\n```\n[Opus] ████░░░░░░ 42% | my-project git:(main) | 2 rules | ⏱️ 5m\n──────────────────────────────────────────────────────────────\n✓ Read ×3 | ✓ Edit ×1\n```\n\n### Example Configuration\n\n```json\n{\n  \"layout\": \"default\",\n  \"pathLevels\": 2,\n  \"gitStatus\": {\n    \"enabled\": true,\n    \"showDirty\": true,\n    \"showAheadBehind\": true\n  },\n  \"display\": {\n    \"showModel\": true,\n    \"showContextBar\": true,\n    \"showConfigCounts\": true,\n    \"showDuration\": true,\n    \"showUsage\": true,\n    \"showTokenBreakdown\": true,\n    \"showTools\": true,\n    \"showAgents\": true,\n    \"showTodos\": true\n  }\n}\n```\n\n### Display Examples\n\n**1 level (default):** `[Opus] 45% | my-project git:(main) | ...`\n\n**2 levels:** `[Opus] 45% | apps/my-project git:(main) | ...`\n\n**3 levels:** `[Opus] 45% | dev/apps/my-project git:(main) | ...`\n\n**With dirty indicator:** `[Opus] 45% | my-project git:(main*) | ...`\n\n**With ahead/behind:** `[Opus] 45% | my-project git:(main ↑2 ↓1) | ...`\n\n**Minimal display (only context %):** Configure `showModel`, `showContextBar`, `showConfigCounts`, `showDuration` to `false`\n\n### Troubleshooting\n\n**Config not applying?**\n- Check for JSON syntax errors: invalid JSON silently falls back to defaults\n- Ensure valid values: `pathLevels` must be 1, 2, or 3; `layout` must be `default` or `separators`\n- Delete config and run `/claude-hud:configure` to regenerate\n\n**Git status missing?**\n- Verify you're in a git repository\n- Check `gitStatus.enabled` is not `false` in config\n\n**Tool/agent/todo lines missing?**\n- These only appear when there's activity to show\n- Check `display.showTools`, `display.showAgents`, `display.showTodos` in config\n\n---\n\n## Requirements\n\n- Claude Code v1.0.80+\n- Node.js 18+ or Bun\n\n---\n\n## Development\n\n```bash\ngit clone https://github.com/alwinpaul1/claude-hud-enhanced\ncd claude-hud-enhanced\nnpm ci && npm run build\nnpm test\n```\n\nSee [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.\n\n---\n\n## Credits\n\nThis is an enhanced fork of [jarrodwatts/claude-hud](https://github.com/jarrodwatts/claude-hud). \n\n**Enhancements by [@alwinpaul1](https://github.com/alwinpaul1):**\n- macOS Keychain credential support\n- Always-visible 7-day usage limits\n- Live time-to-reset countdowns\n- Model quota tracking (Opus 4.5, etc.)\n- Max5/Max20 tier detection\n\n---\n\n## License\n\nMIT — see [LICENSE](LICENSE)\n\n---\n\n## Star History\n\n[![Star History Chart](https://api.star-history.com/svg?repos=alwinpaul1/claude-hud-enhanced&type=Date)](https://star-history.com/#alwinpaul1/claude-hud-enhanced&Date)",
        "commands/configure.md": "---\ndescription: Configure HUD display options (layout, presets, display elements)\nallowed-tools: Read, Write, AskUserQuestion\n---\n\n# Configure Claude HUD\n\n**FIRST**: Use the Read tool to load `~/.claude/plugins/claude-hud/config.json` if it exists.\n\nStore current values and note whether config exists (determines which flow to use).\n\n## Always On (Core Features)\n\nThese are always enabled and NOT configurable:\n- Model name `[Opus]`\n- Context bar `████░░░░░░ 45%`\n\n---\n\n## Two Flows Based on Config State\n\n### Flow A: New User (no config)\nQuestions: **Layout → Preset → Turn Off → Turn On**\n\n### Flow B: Update Config (config exists)\nQuestions: **Turn Off → Turn On → Git Style → Layout/Reset**\n\n---\n\n## Flow A: New User (4 Questions)\n\n### Q1: Layout\n- header: \"Layout\"\n- question: \"Choose your HUD layout:\"\n- multiSelect: false\n- options:\n  - \"Default\" - Single line, all info together\n  - \"Separators\" - Line below header separates activity\n\n### Q2: Preset\n- header: \"Preset\"\n- question: \"Choose a starting configuration:\"\n- multiSelect: false\n- options:\n  - \"Full\" - Everything enabled (Recommended)\n  - \"Essential\" - Activity + git, minimal info\n  - \"Minimal\" - Core only (model, context bar)\n\n### Q3: Turn Off (based on chosen preset)\n- header: \"Turn Off\"\n- question: \"Disable any of these? (enabled by your preset)\"\n- multiSelect: true\n- options: **ONLY items that are ON in the chosen preset** (max 4)\n  - \"Tools activity\" - ◐ Edit: file.ts | ✓ Read ×3\n  - \"Agents status\" - ◐ explore [haiku]: Finding code\n  - \"Todo progress\" - ▸ Fix bug (2/5 tasks)\n  - \"Git status\" - git:(main*) branch indicator\n  - \"Config counts\" - 2 CLAUDE.md | 4 rules\n  - \"Token breakdown\" - (in: 45k, cache: 12k)\n  - \"Usage limits\" - 5h: 25% | 7d: 10%\n  - \"Session duration\" - ⏱️ 5m\n\n### Q4: Turn On (based on chosen preset)\n- header: \"Turn On\"\n- question: \"Enable any of these? (disabled by your preset)\"\n- multiSelect: true\n- options: **ONLY items that are OFF in the chosen preset** (max 4)\n  - (same list as above, filtered to OFF items)\n\n**Note:** If preset has all items ON (Full), Q4 shows \"Nothing to enable - Full preset has everything!\"\nIf preset has all items OFF (Minimal), Q3 shows \"Nothing to disable - Minimal preset is already minimal!\"\n\n---\n\n## Flow B: Update Config (4 Questions)\n\n### Q1: Turn Off\n- header: \"Turn Off\"\n- question: \"What do you want to DISABLE? (currently enabled)\"\n- multiSelect: true\n- options: **ONLY items currently ON** (max 4, prioritize Activity first)\n  - \"Tools activity\" - ◐ Edit: file.ts | ✓ Read ×3\n  - \"Agents status\" - ◐ explore [haiku]: Finding code\n  - \"Todo progress\" - ▸ Fix bug (2/5 tasks)\n  - \"Git status\" - git:(main*) branch indicator\n\nIf more than 4 items ON, show Activity items (Tools, Agents, Todos, Git) first.\nInfo items (Counts, Tokens, Usage, Duration) can be turned off via \"Reset to Minimal\" in Q4.\n\n### Q2: Turn On\n- header: \"Turn On\"\n- question: \"What do you want to ENABLE? (currently disabled)\"\n- multiSelect: true\n- options: **ONLY items currently OFF** (max 4)\n  - \"Config counts\" - 2 CLAUDE.md | 4 rules\n  - \"Token breakdown\" - (in: 45k, cache: 12k)\n  - \"Usage limits\" - 5h: 25% | 7d: 10%\n  - \"Session duration\" - ⏱️ 5m\n\n### Q3: Git Style (only if Git is currently enabled)\n- header: \"Git Style\"\n- question: \"How much git info to show?\"\n- multiSelect: false\n- options:\n  - \"Branch only\" - git:(main)\n  - \"Branch + dirty\" - git:(main*) shows uncommitted changes\n  - \"Full details\" - git:(main* ↑2 ↓1) includes ahead/behind\n\n**Skip Q3 if Git is OFF** - show only 3 questions total, or replace with placeholder.\n\n### Q4: Layout/Reset\n- header: \"Layout/Reset\"\n- question: \"Change layout or reset to preset?\"\n- multiSelect: false\n- options:\n  - \"Keep current\" - No layout/preset changes (current: Default/Separators)\n  - \"Switch to Default\" or \"Switch to Separators\" (whichever isn't current)\n  - \"Reset to Full\" - Enable everything\n  - \"Reset to Essential\" - Activity + git only\n\n---\n\n## Preset Definitions\n\n**Full** (everything ON):\n- Activity: Tools ON, Agents ON, Todos ON\n- Info: Counts ON, Tokens ON, Usage ON, Duration ON\n- Git: ON (with dirty indicator, no ahead/behind)\n\n**Essential** (activity + git):\n- Activity: Tools ON, Agents ON, Todos ON\n- Info: Counts OFF, Tokens OFF, Usage OFF, Duration ON\n- Git: ON (with dirty indicator)\n\n**Minimal** (core only):\n- Activity: Tools OFF, Agents OFF, Todos OFF\n- Info: Counts OFF, Tokens OFF, Usage OFF, Duration OFF\n- Git: OFF\n\n---\n\n## Git Style Mapping\n\n| Option | Config |\n|--------|--------|\n| Branch only | `gitStatus: { enabled: true, showDirty: false, showAheadBehind: false }` |\n| Branch + dirty | `gitStatus: { enabled: true, showDirty: true, showAheadBehind: false }` |\n| Full details | `gitStatus: { enabled: true, showDirty: true, showAheadBehind: true }` |\n\n---\n\n## Element Mapping\n\n| Element | Config Key |\n|---------|------------|\n| Tools activity | `display.showTools` |\n| Agents status | `display.showAgents` |\n| Todo progress | `display.showTodos` |\n| Git status | `gitStatus.enabled` |\n| Config counts | `display.showConfigCounts` |\n| Token breakdown | `display.showTokenBreakdown` |\n| Usage limits | `display.showUsage` |\n| Session duration | `display.showDuration` |\n\n**Always true (not configurable):**\n- `display.showModel: true`\n- `display.showContextBar: true`\n\n---\n\n## Processing Logic\n\n### For New Users (Flow A):\n1. Apply chosen preset as base\n2. Apply Turn Off selections (set those items to OFF)\n3. Apply Turn On selections (set those items to ON)\n4. Apply chosen layout\n\n### For Returning Users (Flow B):\n1. Start from current config\n2. Apply Turn Off selections (set to OFF)\n3. Apply Turn On selections (set to ON)\n4. Apply Git Style selection (if shown)\n5. If \"Reset to [preset]\" selected, override with preset values\n6. If layout change selected, apply it\n\n---\n\n## Before Writing - Validate & Preview\n\n**GUARDS - Do NOT write config if:**\n- User cancels (Esc) → say \"Configuration cancelled.\"\n- No changes from current config → say \"No changes needed - config unchanged.\"\n\n**Show preview before saving:**\n\n1. **Summary of changes:**\n```\nLayout: Default → Separators\nGit style: Branch + dirty\nChanges:\n  - Usage limits: OFF → ON\n  - Config counts: ON → OFF\n```\n\n2. **Preview of HUD:**\n```\n[Opus] ████░░░░░ 45% | my-project git:(main*) | 5h: 25% | ⏱️ 5m\n──────────────────────────────────────────────────────────────\n◐ Edit: file.ts | ✓ Read ×3\n▸ Fix auth bug (2/5)\n```\n\n3. **Confirm**: \"Save these changes?\"\n\n---\n\n## Write Configuration\n\nWrite to `~/.claude/plugins/claude-hud/config.json`.\n\nMerge with existing config, preserving:\n- `pathLevels` (not in configure flow)\n\n---\n\n## After Writing\n\nSay: \"Configuration saved! The HUD will reflect your changes immediately.\"\n",
        "commands/setup.md": "---\ndescription: Configure claude-hud as your statusline\nallowed-tools: Bash, Read, Edit, AskUserQuestion\n---\n\n**Note**: Placeholders like `{RUNTIME_PATH}`, `{SOURCE}`, and `{GENERATED_COMMAND}` should be substituted with actual detected values.\n\n## Step 1: Detect Platform & Runtime\n\n**macOS/Linux** (if `uname -s` returns \"Darwin\", \"Linux\", or a MINGW*/MSYS*/CYGWIN* variant):\n\n> **Git Bash/MSYS2/Cygwin users on Windows**: Follow these macOS/Linux instructions, not the Windows section below. Your environment provides bash and Unix-like tools.\n\n1. Get plugin path:\n   ```bash\n   ls -td ~/.claude/plugins/cache/claude-hud/claude-hud/*/ 2>/dev/null | head -1\n   ```\n   If empty, the plugin is not installed. **On Linux only** (if `uname -s` returns \"Linux\"), check for cross-device filesystem issue:\n   ```bash\n   [ \"$(df --output=source ~/.claude /tmp 2>/dev/null | tail -2 | uniq | wc -l)\" = \"2\" ] && echo \"CROSS_DEVICE\"\n   ```\n   If this outputs `CROSS_DEVICE`, explain that `/tmp` and `~/.claude` are on different filesystems, which causes `EXDEV: cross-device link not permitted` during installation. Provide the fix:\n   ```bash\n   mkdir -p ~/.cache/tmp && TMPDIR=~/.cache/tmp /plugin install claude-hud\n   ```\n   After they run this, re-check the plugin path and continue setup. For non-Linux systems (macOS, etc.), simply tell user to install via marketplace first.\n\n2. Get runtime absolute path (prefer bun for performance, fallback to node):\n   ```bash\n   command -v bun 2>/dev/null || command -v node 2>/dev/null\n   ```\n\n   If empty, stop and tell user to install Node.js or Bun.\n\n3. Verify the runtime exists:\n   ```bash\n   ls -la {RUNTIME_PATH}\n   ```\n   If it doesn't exist, re-detect or ask user to verify their installation.\n\n4. Determine source file based on runtime:\n   ```bash\n   basename {RUNTIME_PATH}\n   ```\n   If result is \"bun\", use `src/index.ts` (bun has native TypeScript support). Otherwise use `dist/index.js` (pre-compiled).\n\n5. Generate command (quotes around runtime path handle spaces):\n   ```\n   bash -c '\"{RUNTIME_PATH}\" \"$(ls -td ~/.claude/plugins/cache/claude-hud/claude-hud/*/ 2>/dev/null | head -1){SOURCE}\"'\n   ```\n\n**Windows** (native PowerShell/cmd.exe - if `uname` command is not available):\n\n1. Get plugin path:\n   ```powershell\n   (Get-ChildItem \"$env:USERPROFILE\\.claude\\plugins\\cache\\claude-hud\\claude-hud\" | Sort-Object LastWriteTime -Descending | Select-Object -First 1).FullName\n   ```\n   If empty or errors, the plugin is not installed. Tell user to install via marketplace first.\n\n2. Get runtime absolute path (prefer bun, fallback to node):\n   ```powershell\n   if (Get-Command bun -ErrorAction SilentlyContinue) { (Get-Command bun).Source } elseif (Get-Command node -ErrorAction SilentlyContinue) { (Get-Command node).Source } else { Write-Error \"Neither bun nor node found\" }\n   ```\n\n   If neither found, stop and tell user to install Node.js or Bun.\n\n3. Check if runtime is bun (by filename). If bun, use `src\\index.ts`. Otherwise use `dist\\index.js`.\n\n4. Generate command (note: quotes around runtime path handle spaces in paths):\n   ```\n   powershell -Command \"& {$p=(Get-ChildItem $env:USERPROFILE\\.claude\\plugins\\cache\\claude-hud\\claude-hud | Sort-Object LastWriteTime -Descending | Select-Object -First 1).FullName; & '{RUNTIME_PATH}' (Join-Path $p '{SOURCE}')}\"\n   ```\n\n**WSL (Windows Subsystem for Linux)**: If running in WSL, use the macOS/Linux instructions. Ensure the plugin is installed in the Linux environment (`~/.claude/plugins/...`), not the Windows side.\n\n## Step 2: Test Command\n\nRun the generated command. It should produce output (the HUD lines) within a few seconds.\n\n- If it errors, do not proceed to Step 3.\n- If it hangs for more than a few seconds, cancel and debug.\n- This test catches issues like broken runtime binaries, missing plugins, or path problems.\n\n## Step 3: Apply Configuration\n\nRead the settings file and merge in the statusLine config, preserving all existing settings:\n- **macOS/Linux/Git Bash**: `~/.claude/settings.json`\n- **Windows (native PowerShell)**: `$env:USERPROFILE\\.claude\\settings.json`\n\nIf the file doesn't exist, create it. If it contains invalid JSON, report the error and do not overwrite.\nIf a write fails with `File has been unexpectedly modified`, re-read the file and retry the merge once.\n\n```json\n{\n  \"statusLine\": {\n    \"type\": \"command\",\n    \"command\": \"{GENERATED_COMMAND}\"\n  }\n}\n```\n\n**Note**: The generated command dynamically finds and runs the latest installed plugin version. Updates are automatic - no need to re-run setup after plugin updates. If the HUD suddenly stops working, re-run `/claude-hud:setup` to verify the plugin is still installed.\n\n## Step 4: Verify With User\n\nUse AskUserQuestion:\n- Question: \"The HUD should now appear below your input field. Is it working?\"\n- Options: \"Yes, I see it\" / \"No, something's wrong\"\n\n**If yes**: Ask the user if they'd like to ⭐ star the claude-hud repository on GitHub to support the project. If they agree and `gh` CLI is available, run: `gh api -X PUT /user/starred/jarrodwatts/claude-hud`. Only run the star command if they explicitly say yes.\n\n**If no**: Debug systematically:\n\n1. **Verify config was applied**:\n   - Read settings file (`~/.claude/settings.json` or `$env:USERPROFILE\\.claude\\settings.json` on Windows)\n   - Check statusLine.command exists and looks correct\n   - If command contains a hardcoded version path (not using dynamic `ls -td` lookup), it may be a stale config from a previous setup\n\n2. **Test the command manually** and capture error output:\n   ```bash\n   {GENERATED_COMMAND} 2>&1\n   ```\n\n3. **Common issues to check**:\n\n   **\"command not found\" or empty output**:\n   - Runtime path might be wrong: `ls -la {RUNTIME_PATH}`\n   - On macOS with mise/nvm/asdf: the absolute path may have changed after a runtime update\n   - Symlinks may be stale: `command -v node` often returns a symlink that can break after version updates\n   - Solution: re-detect with `command -v bun` or `command -v node`, and verify with `realpath {RUNTIME_PATH}` (or `readlink -f {RUNTIME_PATH}`) to get the true absolute path\n\n   **\"No such file or directory\" for plugin**:\n   - Plugin might not be installed: `ls ~/.claude/plugins/cache/claude-hud/`\n   - Solution: reinstall plugin via marketplace\n\n   **Windows: \"bash not recognized\"**:\n   - Wrong command type for Windows\n   - Solution: use the PowerShell command variant\n\n   **Windows: PowerShell execution policy error**:\n   - Run: `Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned`\n\n   **Permission denied**:\n   - Runtime not executable: `chmod +x {RUNTIME_PATH}`\n\n   **WSL confusion**:\n   - If using WSL, ensure plugin is installed in Linux environment, not Windows\n   - Check: `ls ~/.claude/plugins/cache/claude-hud/`\n\n4. **If still stuck**: Show the user the exact command that was generated and the error, so they can report it or debug further\n"
      },
      "plugins": [
        {
          "name": "claude-hud",
          "source": "./",
          "description": "Real-time statusline showing context usage, active tools, running agents, and todo progress. Always visible below your input, zero config required.",
          "category": "monitoring",
          "tags": [
            "hud",
            "statusline",
            "monitoring",
            "context",
            "tools",
            "agents",
            "todos"
          ],
          "categories": [
            "agents",
            "context",
            "hud",
            "monitoring",
            "statusline",
            "todos",
            "tools"
          ],
          "install_commands": [
            "/plugin marketplace add alwinpaul1/claude-hud-enhanced",
            "/plugin install claude-hud@claude-hud"
          ]
        }
      ]
    }
  ]
}