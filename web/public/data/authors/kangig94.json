{
  "author": {
    "id": "kangig94",
    "display_name": "Ingu Kang",
    "avatar_url": "https://avatars.githubusercontent.com/u/41245985?v=4"
  },
  "marketplaces": [
    {
      "name": "coral",
      "version": "0.2.3",
      "description": "Claude Code plugin — structured agents with Codex CLI bridge",
      "repo_full_name": "kangig94/coral",
      "repo_url": "https://github.com/kangig94/coral",
      "repo_description": "Claude Code plugin providing structured agents with Codex CLI bridge and moderated multi-agent discussions.",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-21T12:52:31Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"coral\",\n  \"description\": \"Claude Code plugin — structured agents with Codex CLI bridge\",\n  \"owner\": {\n    \"name\": \"kangig94\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"coral\",\n      \"description\": \"Claude Code plugin — structured agents with Codex CLI bridge\",\n      \"version\": \"0.2.3\",\n      \"author\": {\n        \"name\": \"kangig94\"\n      },\n      \"source\": \"./\",\n      \"category\": \"productivity\",\n      \"homepage\": \"https://github.com/kangig94/coral\",\n      \"tags\": [\n        \"agents\",\n        \"codex\",\n        \"bridge\",\n        \"orchestration\"\n      ]\n    }\n  ],\n  \"version\": \"0.2.3\"\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"coral\",\n  \"version\": \"0.2.3\",\n  \"description\": \"Claude Code plugin — structured agents with Codex CLI bridge\",\n  \"author\": {\n    \"name\": \"kangig94\"\n  },\n  \"repository\": \"https://github.com/kangig94/coral\",\n  \"homepage\": \"https://github.com/kangig94/coral\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"claude-code\",\n    \"plugin\",\n    \"agents\",\n    \"codex\",\n    \"bridge\"\n  ],\n  \"skills\": \"./skills/\",\n  \"mcpServers\": \"./.mcp.json\"\n}\n",
        "README.md": "# Coral\n\nA Claude Code plugin providing structured agents with Codex CLI bridge and moderated multi-agent discussions.\n\n## Installation\n\n```bash\n# Codex CLI\nnpm install -g @openai/codex\n\n# in Claude Code\n/plugin marketplace add https://github.com/kangig94/coral\n/plugin install coral\n```\n\n### Statusline (Optional)\n\nSet up the coral HUD statusline for real-time session info:\n\n```\n/coral:statusline install\n```\n\nDisplays: `opus 4.6 │ 5m │ 5h:56% (3:12) wk:38% (5.2d) │ ctx:45%`\n\nTo remove: `/coral:statusline uninstall`\n\n## Quick Start\n\nAfter installing, set up your project for AI-assisted development:\n\n```\n/coral:init-project\n```\n\nCoral scans your stack, plans with reviewer verification, and generates:\n\n```\nmy-project/\n  src/\n  package.json\n+ .claude/\n+   CLAUDE.md                  ← project hub: build commands, workflow, critical rules\n+   agents/\n+     review-orchestrator.md   ← final validation gate\n+     frontend-validator.md    ← activates on *.tsx (React projects)\n+     ...\n+   rules/\n+     conventions.md           ← naming, git, style\n+     frontend-validation.md   ← hook rules, key props, a11y\n+     ...\n+ docs/\n+   architecture.md            ← module map, dependency graph\n```\n\nWithout this, Claude works generically. With this, it validates hooks, catches injection, and follows your conventions.\n\n**How to describe your project:**\n\n```bash\n# existing project — just run it, Coral scans automatically\n/coral:init-project\n\n# tech stack hint — helps when source files are sparse\n/coral:init-project \"React + FastAPI\"\n\n# full description — best for new or complex projects\n/coral:init-project \"multi-tenant SaaS REST API with Go, must be serverless\"\n\n# with reference material — Coral reads these before planning\n/coral:init-project \"CLI tool like ref/existing-cli, see docs/spec.md\"\n```\n\nThe more context you give, the more tailored the output. But for most existing projects, a bare `/coral:init-project` is enough.\n\n## Usage\n\nConsecutive `/coral:codex` calls continue the same session. Say \"new\" to start fresh.\n\n```\n/coral:codex review auth.ts for security issues\n\n# auto-continues session\n/coral:codex what about the token refresh logic?\n```\n\n### Discuss\n\nCoral's moderated multi-agent discussion system. Multiple AI agents with distinct personas debate a topic through structured turn-taking — all coordinated by a dedicated MCP server that enforces fair participation, prevents deadlocks, and ensures clean termination.\n\n```\n/coral:discuss AI ethics in healthcare\n/coral:discuss pros and cons of microservices vs monolith\n/coral:discuss should AI-generated art be copyrightable\n```\n\n**How it works:**\n\n1. **Persona generation** — Coral analyzes the topic and spawns 3-8 unique personas in parallel (e.g., bioethicist, patient advocate, AI researcher, hospital administrator). Each has distinct expertise, communication style, and perspective biases.\n\n2. **Bidding for the floor** — Each round, agents bid 0-100 on how strongly they want to speak. The highest bidder above the threshold wins. This prevents any single agent from monopolizing and surfaces the most urgent arguments first.\n\n3. **Evidence-backed speeches** — Winners research via web search before speaking. The server enforces that all agents read the latest transcript before bidding — no uninformed participation allowed.\n\n4. **Multi-epoch continuation** — When all speaking quotas and fallback turns are exhausted, the server automatically transitions to a new epoch with fresh quotas (up to `CORAL_DISCUSS_MAX_EPOCHS`, default: 2). No termination vote — continuation is structural, not negotiated.\n\n5. **Structured synthesis** — When the discussion concludes, the moderator generates a structured summary: key arguments, turning points, points of consensus, and unresolved questions.\n\n**Debate mode** — Topics with adversarial framing (pro/con, vs, should/should not) automatically activate debate mode. Agents declare stances, and if the sides are imbalanced (e.g., 5 pro vs 1 con), Coral assigns a devil's advocate from the majority to argue the opposing position.\n\n**Architecture:**\n\n```\ndiscuss-lead (moderator)\n  ├── persona-generator ×N (parallel)\n  ├── discuss MCP server (state, enforcement, transcript)\n  └── dc-{agent} ×N (discussant teammates)\n        └── discuss_wait → bid/speak loop\n```\n\nThe MCP server owns all state transitions. Agents cannot speak out of turn or bid without reading context. Bid scores are sealed — never returned in any API response. Transcripts are saved to `.claude/coral/discuss/` as both structured JSON and readable Markdown.\n\n### Skills\n\n| Skill | Description | Example |\n|---|---|---|\n| `/coral:architect` | Architecture review (Claude) | `review the architecture of this module` |\n| `/coral:critic` | Plan/code critique (Claude) | `review this plan` |\n| `/coral:analyze` | Deep analysis (Claude) | `investigate the root cause of this error` |\n| `/coral:codex-analyze` | Deep analysis (Codex + Claude synthesis) | `investigate why the session lookup is slow` |\n| `/coral:plan` | Planning with architect/critic review | `add retry logic to the API client` |\n| `/coral:coplan` | Cross-model planning (Codex reviews) | `redesign the session management system` |\n| `/coral:ralph` | Persistent execution loop (sonnet) | `implement the caching layer` |\n| `/coral:codex-ralph` | Persistent execution via Codex (sonnet) | `implement the caching layer` |\n| `/coral:init-project` | Project initialization orchestrator | `\"React + FastAPI project\"` |\n| `/coral:discuss` | Moderated multi-agent discussion | `AI ethics in healthcare` |\n| `/coral:statusline` | HUD statusline setup | `install` |\n\nPlans are saved to `.claude/coral/plans/`. Ralph skills are best for implementing an existing plan.\n\n## Knowledge Base\n\nCoral automatically manages a project-local KB (`.claude/coral/kb/`) to prevent repeating mistakes across sessions. Non-obvious discoveries are buffered as memos during work, checked on errors before debugging from scratch, and promoted to permanent entries on task completion. Git-tracked for multi-device sync.\n\n## Configuration\n\n| Variable | Default | Description |\n|---|---|---|\n| `CORAL_CODEX_MODEL` | `gpt-5.3-codex` | Default Codex CLI model |\n| `CORAL_DISCUSS_BID_THRESHOLD` | `50` | Minimum bid score (1-100) for floor eligibility in discussions |\n| `CORAL_DISCUSS_MAX_EPOCHS` | `2` | Max epochs before discussion auto-ends (1-10) |\n| `CORAL_DISCUSS_TTL_DAYS` | `30` | Days before completed discuss sessions are auto-pruned |\n| `CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS` | _(unset)_ | **Required** for `/coral:discuss`. Set to `1` to enable Agent Teams. |\n| `ENABLE_TOOL_SEARCH` | `auto` | Lazy-load MCP tool definitions instead of injecting all into system prompt. `auto` (≥10%), `auto:5` (≥5%), `true` (always on). |\n\nSet in `.claude/settings.json` (persists across sessions):\n\n```json\n{\n  \"env\": {\n    \"CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS\": \"1\",\n    \"CORAL_DISCUSS_BID_THRESHOLD\": \"50\",\n    \"CORAL_DISCUSS_MAX_EPOCHS\": \"2\",\n    \"CORAL_DISCUSS_TTL_DAYS\": \"30\",\n    \"ENABLE_TOOL_SEARCH\": \"auto:5\"\n  }\n}\n```\n\nOr via shell: `export CORAL_CODEX_MODEL=gpt-5.3-codex`\n\n## Development\n\n```bash\nnpm install\nnpm run build     # TypeScript compile + esbuild bundle\nnpm test          # Run tests with vitest\n```\n\n### Git Workflow\n\n- **`main`**: Release branch. Always deployable.\n- **`dev`**: Integration branch. Direct commits allowed for small changes.\n- **Feature branches**: Branch from `dev`, rebase merge back via PR.\n- **Release**: Squash merge `dev` → `main` via PR.\n\nMerge policy:\n- **feature → dev**: rebase (preserve individual commits)\n- **dev → main**: squash (one commit per release, traceable via `(#N)`)\n\n## Adding New Agents\n\n### Codex-bound Agent\n\nCreate `agents/codex-<name>.md` — it automatically becomes a Codex delegation agent:\n\n```yaml\n---\nname: codex-<name>\ndescription: <description>\ntools: mcp__plugin_coral_cx__codex_session_create, mcp__plugin_coral_cx__codex_session_send\n---\n```\n\n### Claude-native Agent\n\nCreate `agents/<name>.md` (without `codex-` prefix):\n\n```yaml\n---\nname: <name>\ndescription: \"<description>. Use PROACTIVELY when [trigger]. NOT for [exclusion].\"\nmodel: opus\ndisallowedTools: Write, Edit\n---\n```\n\n## Documentation\n\nDetailed technical documentation is available in the `docs/` directory:\n\n- [Architecture](docs/architecture.md) — Architecture and data flow\n- [MCP Tools](docs/mcp-tools.md) — Input/output specs for all MCP tools (Codex + Discuss)\n- [Core Modules](docs/core-modules.md) — TypeScript module details\n- [Agents](docs/agents.md) — Agent definitions and routing guarantees\n- [Hooks](docs/hooks.md) — SubagentStart hook behavior\n- [Skills](docs/skills.md) — Slash command usage\n- [Build System](docs/build-system.md) — Build pipeline\n- [Configuration](docs/configuration.md) — Environment variables and config files\n\n## Requirements\n\n- Node.js 18+\n- Codex CLI v0.101+ (`npm install -g @openai/codex`)\n"
      },
      "plugins": [
        {
          "name": "coral",
          "description": "Claude Code plugin — structured agents with Codex CLI bridge",
          "version": "0.2.3",
          "author": {
            "name": "kangig94"
          },
          "source": "./",
          "category": "productivity",
          "homepage": "https://github.com/kangig94/coral",
          "tags": [
            "agents",
            "codex",
            "bridge",
            "orchestration"
          ],
          "categories": [
            "agents",
            "bridge",
            "codex",
            "orchestration",
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add kangig94/coral",
            "/plugin install coral@coral"
          ]
        }
      ]
    }
  ]
}