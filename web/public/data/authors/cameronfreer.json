{
  "author": {
    "id": "cameronfreer",
    "display_name": "Cameron Freer",
    "avatar_url": "https://avatars.githubusercontent.com/u/2009342?u=93bc1a12128cf48ba1222ebe6ebc1b74620ad6ad&v=4"
  },
  "marketplaces": [
    {
      "name": "lean4-skills",
      "version": null,
      "description": "Claude Skills and agents for systematic Lean 4 proof development",
      "repo_full_name": "cameronfreer/lean4-skills",
      "repo_url": "https://github.com/cameronfreer/lean4-skills",
      "repo_description": "Claude skills for Lean 4 theorem proving",
      "signals": {
        "stars": 105,
        "forks": 10,
        "pushed_at": "2026-01-24T22:49:30Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"lean4-skills\",\n  \"owner\": {\n    \"name\": \"Cameron Freer\",\n    \"email\": \"cameronfreer@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Claude Skills and agents for systematic Lean 4 proof development\",\n    \"version\": \"3.4.2\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"lean4-theorem-proving\",\n      \"description\": \"Lean 4 workflows (skills + commands)\",\n      \"source\": \"./plugins/lean4-theorem-proving\"\n    },\n    {\n      \"name\": \"lean4-memories\",\n      \"description\": \"Persistent memory integration for Lean 4 formalization\",\n      \"source\": \"./plugins/lean4-memories\"\n    },\n    {\n      \"name\": \"lean4-subagents\",\n      \"description\": \"Specialized subagents for Lean 4 development\",\n      \"source\": \"./plugins/lean4-subagents\"\n    }\n  ]\n}\n",
        "README.md": "# Lean 4 Skills for Claude\n\n[![Run in Smithery](https://smithery.ai/badge/skills/cameronfreer)](https://smithery.ai/skills?ns=cameronfreer&utm_source=github&utm_medium=badge)\n\nClaude Skills, commands, and agents for systematic development of formal proofs in Lean 4.\n\n## Plugins\n\n| Plugin | Provides | Description |\n|--------|----------|-------------|\n| **[lean4-theorem-proving](plugins/lean4-theorem-proving/)** | Skill + 8 Commands | Core workflows, LSP integration, automation tools |\n| **[lean4-memories](plugins/lean4-memories/)** | Skill | Persistent learning across sessions (requires MCP memory server) |\n| **[lean4-subagents](plugins/lean4-subagents/)** | 5 Agents | Proof repair, sorry filling, axiom elimination, proof golfing |\n\n## Quick Start\n\n```bash\n# Via Marketplace (Recommended)\n/plugin marketplace add cameronfreer/lean4-skills\n/plugin install lean4-theorem-proving    # Core (required)\n/plugin install lean4-subagents          # Optional: specialized agents\n/plugin install lean4-memories           # Optional: persistent memory\n```\n\nSkills activate automatically when you work on Lean 4 files. Commands appear in autocomplete with `/lean4-theorem-proving:` prefix.\n\n## What You Get\n\n- **Lean LSP integration** - Sub-second feedback vs 30s builds\n- **8 commands** - `/build-lean`, `/fill-sorry`, `/repair-file`, `/golf-proofs`, `/check-axioms`, `/analyze-sorries`, `/refactor-have`, `/search-mathlib`\n- **5 specialized agents** - Proof repair, sorry filling (fast + deep), axiom elimination, proof golfing\n- **Automation scripts** - 16 tools for search, analysis, verification\n- **mathlib patterns** - Type class management, domain-specific tactics\n\n## Highly recommended add-on: install the Lean LSP MCP Server alongside these plugins\n\nThe [lean-lsp-mcp](https://github.com/oOo0oOo/lean-lsp-mcp) server provides **12+ tools** for rapid feedback, goal inspection, parallel tactic testing, and integrated lemma search. This dramatic speedup turns frustrating trial-and-error into smooth, interactive problem-solving. Our Lean 4 skill adds comprehensive workflow guides that teach the LLM to use the LSP tools effectively.\n\n**Setup:** [INSTALLATION.md](INSTALLATION.md#lean-lsp-server) (<1 minute)\n\n## Documentation\n\n- [lean4-theorem-proving/README.md](plugins/lean4-theorem-proving/README.md) - Core skill guide\n- [lean4-subagents/README.md](plugins/lean4-subagents/README.md) - Specialized agents\n- [lean4-memories/README.md](plugins/lean4-memories/README.md) - Memory integration\n- [INSTALLATION.md](INSTALLATION.md) - Platform-specific setup, LSP server\n\n## Changelog\n\n**v3.4.2** (January 2026)\n- Updated lean-lsp-mcp documentation for v0.16-v0.19 features:\n  - New `lean_profile_proof` tool for identifying slow tactics\n  - Structured diagnostics output with `success` and `failed_dependencies`\n  - Expanded local Loogle setup instructions\n- Added `lake build | tee` tip to avoid redundant builds\n\n**v3.4.1** (January 2026)\n- Expanded `/refactor-have` to support both inlining and extraction\n- Added mathlib style guidance for idiomatic proofs\n\n**v3.4.0** (January 2026)\n- Added `/refactor-have` command for extracting long have-blocks\n- Added `/repair-interactive` command for interactive proof repair\n- Added `lean4-sorry-filler-deep` agent for complex sorries\n- Improved LSP integration and error handling\n\n**v3.3.0** (December 2025)\n- Added `/repair-file` command for full-file compiler-guided repair\n- Streamlined agent descriptions per Anthropic best practices\n\n**v3.2.0** (November 2025)\n- Enhanced mathlib search capabilities\n- Improved type class instance resolution patterns\n\n**v3.1.0** (October 2025)\n- Restructured as Claude Code marketplace with 3 plugins\n\n## Contributing\n\nContributions welcome! Open an issue or PR at https://github.com/cameronfreer/lean4-skills\n\n## License\n\nMIT License - see [LICENSE](LICENSE)\n",
        "plugins/lean4-theorem-proving/README.md": "# lean4-theorem-proving\n\nSystematic workflows for Lean 4 proof development.\n\n## What You Get\n\n- **Lean LSP integration** - Sub-second feedback vs 30s builds\n- **8 slash commands** - Build, fill sorries, repair proofs, golf, check axioms, refactor\n- **16 automation scripts** - Search, analysis, verification, refactoring\n- **Reference guides** - Tactics, mathlib patterns, domain-specific workflows\n\n## Installation\n\n```bash\n/plugin marketplace add cameronfreer/lean4-skills\n/plugin install lean4-theorem-proving\n```\n\nSee [INSTALLATION.md](../../INSTALLATION.md) for manual installation and LSP setup.\n\n## Commands\n\n| Command | Purpose |\n|---------|---------|\n| `/build-lean` | Build with formatted error analysis |\n| `/fill-sorry [file:line]` | Fill a sorry interactively |\n| `/repair-file [file]` | Compiler-guided repair of entire file |\n| `/repair-interactive` | Interactive step-by-step proof repair |\n| `/golf-proofs [file]` | Optimize proofs (30-40% reduction) |\n| `/check-axioms [file]` | Verify axiom hygiene |\n| `/analyze-sorries` | Scan project for incomplete proofs |\n| `/search-mathlib [query]` | Find mathlib lemmas |\n| `/refactor-have [file]` | Inline or extract have-blocks |\n| `/clean-warnings` | Clean linter warnings by category |\n\n## Automation Scripts\n\n**Search:** `search_mathlib.sh`, `smart_search.sh`, `find_instances.sh`, `find_usages.sh`\n\n**Analysis:** `proof_complexity.sh`, `dependency_graph.sh`, `build_profile.sh`, `suggest_tactics.sh`\n\n**Verification:** `sorry_analyzer.py`, `check_axioms.sh`, `check_axioms_inline.sh`, `simp_lemma_tester.sh`\n\n**Quality:** `pre_commit_hook.sh`, `unused_declarations.sh`, `minimize_imports.py`, `proof_templates.sh`\n\nSee [scripts/README.md](scripts/README.md) for documentation.\n\n## Reference Guides\n\n| Guide | Content |\n|-------|---------|\n| [lean-phrasebook.md](skills/lean4-theorem-proving/references/lean-phrasebook.md) | Math English to Lean |\n| [mathlib-guide.md](skills/lean4-theorem-proving/references/mathlib-guide.md) | Search, imports, naming |\n| [tactics-reference.md](skills/lean4-theorem-proving/references/tactics-reference.md) | Comprehensive tactics |\n| [domain-patterns.md](skills/lean4-theorem-proving/references/domain-patterns.md) | Analysis, algebra, topology |\n| [measure-theory.md](skills/lean4-theorem-proving/references/measure-theory.md) | Conditional expectation |\n| [compiler-guided-repair.md](skills/lean4-theorem-proving/references/compiler-guided-repair.md) | APOLLO-inspired repair |\n| [proof-golfing.md](skills/lean4-theorem-proving/references/proof-golfing.md) | Proof optimization |\n| [proof-refactoring.md](skills/lean4-theorem-proving/references/proof-refactoring.md) | Extract helpers |\n\n## Key Principles\n\n- **Always compile before commit** - `lake build` is your test suite\n- **Document every sorry** with strategy and dependencies\n- **Search mathlib first** before reproving standard results\n- **One change at a time** - fill one sorry, compile, commit\n\n## Optional Add-ons\n\n- **[lean4-subagents](../lean4-subagents/)** - Specialized agents for batch proof optimization\n- **[lean4-memories](../lean4-memories/)** - Persistent learning across sessions (requires MCP)\n\n## Bootstrap Hook\n\nOn startup, the plugin copies tool scripts to `.claude/tools/lean4/` in your workspace. This is read-only and sandboxed.\n\n## License\n\nMIT License - see [LICENSE](../../LICENSE)\n\n---\n\nPart of [lean4-skills](../../README.md)\n",
        "plugins/lean4-memories/README.md": "# lean4-memories (EXPERIMENTAL)\n\nPersistent learning across Lean 4 formalization sessions.\n\n## What You Get\n\nMemory types that persist across sessions:\n- **ProofPattern** - Successful proof strategies with tactics and confidence\n- **FailedApproach** - Known dead-ends to avoid (infinite loops, timeouts)\n- **ProjectConvention** - Naming conventions, proof structure preferences\n- **TheoremDependency** - Helper lemmas for specific goals\n\nAll memories are automatically scoped by project path.\n\n## Requirements\n\n- **MCP memory server** (see setup below)\n- **lean4-theorem-proving plugin** (core dependency)\n\n## Setup\n\n**Option A: Claude Code CLI (simplest)**\n```bash\nclaude mcp add --transport stdio --scope user memory -- npx -y @modelcontextprotocol/server-memory\n```\n\n**Option B: Config file**\n\nAdd to `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS):\n```json\n{\n  \"mcpServers\": {\n    \"memory\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@modelcontextprotocol/server-memory\"]\n    }\n  }\n}\n```\n\nRestart Claude after configuration.\n\n## How It Works\n\n**Before proofs:** Queries for similar goal patterns and surfaces successful tactics\n\n**During proofs:** Checks for known failures before major tactics\n\n**After proofs:** Stores successful patterns (if non-trivial)\n\n### Example\n\n**Session 1:** Prove `measure_eq_of_fin_marginals_eq` using pi-system uniqueness (30 min exploration)\n- Stores: \"pi_system_uniqueness pattern works for measure equality\" (confidence: 0.9)\n\n**Session 2:** Similar goal weeks later\n- Retrieves: \"Try isPiSystem approach (confidence: 0.9)\"\n- Success in 5 minutes using remembered pattern\n\n## Memory Helper CLI\n\n```bash\n# List all memories for current project\n./scripts/memory_helper.py list\n\n# Store a successful pattern\n./scripts/memory_helper.py store-pattern \\\n  --goal \"measure equality via finite marginals\" \\\n  --tactics \"isPiSystem,generateFrom_eq\" \\\n  --confidence 0.9\n\n# Store a failed approach\n./scripts/memory_helper.py store-failure \\\n  --tactic \"simp only [condExp_indicator, mul_comm]\" \\\n  --error \"infinite loop\"\n```\n\n## When to Use\n\n- Multi-session projects spanning days/weeks/months\n- Repeated proof patterns requiring similar approaches\n- Team projects sharing knowledge\n- Avoiding previously failed approaches\n\n## Integration\n\nThis skill complements lean4-theorem-proving:\n- lean4-theorem-proving provides general workflows\n- lean4-memories adds project-specific learned patterns\n\n## License\n\nMIT License - see [LICENSE](../../LICENSE)\n\n---\n\nPart of [lean4-skills](../../README.md)\n",
        "plugins/lean4-subagents/README.md": "# lean4-subagents (EXPERIMENTAL)\n\nSpecialized agents for batch Lean 4 proof development tasks.\n\n## Agents\n\n| Agent | Purpose | When to Use |\n|-------|---------|-------------|\n| **lean4-proof-repair** | Compiler-guided iterative proof repair | Error-driven fixing with model escalation (Haiku â†’ Opus) |\n| **lean4-sorry-filler** | Fast local sorry filling using mathlib patterns | Quick first pass on incomplete proofs |\n| **lean4-sorry-filler-deep** | Strategic sorry resolution with refactoring | Complex proofs where fast pass fails |\n| **lean4-axiom-eliminator** | Remove nonconstructive axioms | After checking axiom hygiene |\n| **lean4-proof-golfer** | Optimize proof length/runtime | After proofs compile (30-40% reduction) |\n\n## Requirements\n\n- **lean4-theorem-proving plugin** (provides core workflows)\n- **Optional:** lean-lsp-mcp server for parallel testing\n\n## Usage\n\nAgents are available via the Task tool when lean4-subagents is installed.\n\n**Example dispatches:**\n```\nDispatch lean4-proof-repair to fix errors in Probability/CondExp.lean\nDispatch lean4-sorry-filler to fill sorries in ViaL2.lean\nDispatch lean4-proof-golfer to optimize all proofs in src/\n```\n\n## Interactive vs Autonomous\n\n**Interactive (slash commands):** Use for 1-2 proofs. Guided workflow with user decisions.\n\n**Autonomous (agents):** Use for 10+ items. Background execution with final report.\n\n## License\n\nMIT License - see [LICENSE](../../LICENSE)\n\n---\n\nPart of [lean4-skills](../../README.md)\n"
      },
      "plugins": [
        {
          "name": "lean4-theorem-proving",
          "description": "Lean 4 workflows (skills + commands)",
          "source": "./plugins/lean4-theorem-proving",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add cameronfreer/lean4-skills",
            "/plugin install lean4-theorem-proving@lean4-skills"
          ]
        },
        {
          "name": "lean4-memories",
          "description": "Persistent memory integration for Lean 4 formalization",
          "source": "./plugins/lean4-memories",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add cameronfreer/lean4-skills",
            "/plugin install lean4-memories@lean4-skills"
          ]
        },
        {
          "name": "lean4-subagents",
          "description": "Specialized subagents for Lean 4 development",
          "source": "./plugins/lean4-subagents",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add cameronfreer/lean4-skills",
            "/plugin install lean4-subagents@lean4-skills"
          ]
        }
      ]
    }
  ]
}