{
  "author": {
    "id": "yagevlevi",
    "display_name": "yagevlevi",
    "avatar_url": "https://avatars.githubusercontent.com/u/56408687?v=4"
  },
  "marketplaces": [
    {
      "name": "sweb-local",
      "version": null,
      "description": "Plugins for sweb multi-agent orchestrator",
      "repo_full_name": "yagevlevi/spiderweb",
      "repo_url": "https://github.com/yagevlevi/spiderweb",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-12T17:52:36Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"sweb-local\",\n  \"description\": \"Plugins for sweb multi-agent orchestrator\",\n  \"owner\": {\n    \"name\": \"yagevlevi\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"sweb\",\n      \"source\": \"./plugin\",\n      \"description\": \"Claude Code plugin for sweb — create, validate, and preview sweb.json configs\",\n      \"version\": \"0.4.0\"\n    },\n    {\n      \"name\": \"hatch\",\n      \"source\": \"./plugin-hatch\",\n      \"description\": \"Go from idea to tech spec to beads task graph\",\n      \"version\": \"0.4.0\"\n    }\n  ]\n}\n",
        "README.md": "# sweb\n\nMulti-agent orchestrator for parallel feature implementation with gated code review.\n\n**Platforms:** macOS, Linux\n\n[![License](https://img.shields.io/github/license/yagevlevi/spiderweb)](https://github.com/yagevlevi/spiderweb/blob/main/LICENSE)\n[![Release](https://img.shields.io/github/v/release/yagevlevi/spiderweb)](https://github.com/yagevlevi/spiderweb/releases)\n[![Go](https://img.shields.io/badge/Go-1.25+-00ADD8?logo=go&logoColor=white)](https://go.dev)\n\n---\n\nsweb is designed for **existing codebases**, you already have an app, and you want to add multiple features to it at once. Point sweb at your repo, describe the features you want, and it spins up a fleet of agents to build them in parallel. It is not a scaffolding tool or a project generator.\n\nEach feature gets a dedicated [Claude Code](https://docs.anthropic.com/en/docs/claude-code) agent running as an independent CLI process with its own git worktree and full context window. A gated review process ensures no bugs propagate downstream — agents cannot proceed until their work passes both automated build/test checks and an AI code review.\n\n## How It Works\n\n```\nsweb run --config sweb.json\n```\n\n1. **Decompose:** Claude breaks your features into granular tasks with dependencies.\n2. **Approve:** You review the plan before anything is executed.\n3. **Execute:** One agent per feature works in parallel, each in an isolated git worktree.\n4. **Gate:** After each task, the code is built, tested, and reviewed by a review agent.\n5. **Integrate:** All branches are merged, conflicts are resolved, and a final cross-feature review runs.\n6. **Report:** A detailed markdown report is generated with per-agent stats.\n\n```\n┌──────────────────────────────────────────────────────┐\n│                    TUI Dashboard                     │\n│  (agent status, task queues, cost, logs, reviews)    │\n└──────────────────────────┬───────────────────────────┘\n                           │\n                           ▼\n┌──────────────────────────────────────────────────────┐\n│                 Orchestrator (Go)                    │\n│  Spawns agents · Runs gates · Routes bugs · Merges   │\n└──┬──────────┬──────────┬──────────┬──────────────────┘\n   │          │          │          │\n   ▼          ▼          ▼          ▼\n┌──────┐  ┌──────┐  ┌──────┐  ┌──────────────┐\n│Agent │  │Agent │  │Agent │  │ Review Agent │\n│  A   │  │  B   │  │  C   │  │              │\n│(CLI) │  │(CLI) │  │(CLI) │  │  + Merge     │\n└──┬───┘  └──┬───┘  └──┬───┘  │    Agent     │\n   │         │         │      └──────────────┘\n   ▼         ▼         ▼\n┌──────┐  ┌──────┐  ┌──────┐\n│ WT:A │  │ WT:B │  │ WT:C │\n└──────┘  └──────┘  └──────┘\n```\n\n## Installation\n\n### Quick install\n\nRequires [Go 1.25+](https://go.dev/dl/).\n\n```bash\ncurl -sSL https://raw.githubusercontent.com/yagevlevi/spiderweb/main/install.sh | bash\n```\n\n### From source\n\n```bash\ngo install github.com/yagevlevi/spiderweb/cmd/sweb@latest\n```\n\n### Build locally\n\n```bash\ngit clone https://github.com/yagevlevi/spiderweb.git\ncd spiderweb\nmake build       # outputs to bin/sweb\nmake install     # installs to $GOPATH/bin\n```\n\n## Prerequisites\n\n- **Go 1.25+**\n- **Claude Code CLI** (`claude`) installed and authenticated\n- **Git** 2.20+ (for worktree support)\n- **[beads](https://github.com/beads-project/beads)** — git-backed issue tracker (used as the single source of truth for task state)\n\n## Quick Start\n\n1. Initialize beads in your project:\n\n```bash\ncd your-project\nbd init\n```\n\n2. Create a `sweb.json` config file — either use the [Claude Code plugin](#claude-code-plugin) (`/sweb:init`) to generate one interactively, or write it by hand:\n\n```json\n{\n  \"features\": [\n    {\n      \"name\": \"User Authentication\",\n      \"description\": \"Add JWT-based auth with login, signup, and token refresh.\",\n      \"priority\": 1\n    },\n    {\n      \"name\": \"Payment Processing\",\n      \"description\": \"Integrate Stripe for subscription billing with webhooks.\",\n      \"priority\": 2\n    }\n  ],\n  \"build\": {\n    \"command\": \"npm run build\",\n    \"test_command\": \"npm test\"\n  }\n}\n```\n\n3. Run:\n\n```bash\nsweb run\n```\n\n4. Review the decomposition plan and type `y` to approve.\n\n## Configuration\n\nAll configuration lives in `sweb.json` at the project root.\n\n### Full Example\n\n```json\n{\n  \"features\": [\n    {\n      \"name\": \"User Authentication\",\n      \"description\": \"Add JWT-based authentication with login, signup, and token refresh endpoints.\",\n      \"priority\": 1\n    },\n    {\n      \"name\": \"Payment Processing\",\n      \"description\": \"Integrate Stripe for subscription billing with webhook handling.\",\n      \"priority\": 2\n    }\n  ],\n\n  \"build\": {\n    \"command\": \"npm run build\",\n    \"test_command\": \"npm test\"\n  },\n\n  \"models\": {\n    \"feature_agent\": \"claude-opus-4-6\",\n    \"review_agent\": \"claude-sonnet-4-5-20250929\",\n    \"merge_agent\": \"claude-opus-4-6\"\n  },\n\n  \"review\": {\n    \"rules\": [\n      \"No TODO or FIXME comments allowed\",\n      \"All new functions must have error handling\",\n      \"All new endpoints must have corresponding tests\",\n      \"No hardcoded secrets or credentials\"\n    ],\n    \"circuit_breaker_limit\": 3\n  },\n\n  \"safety\": {\n    \"allowed_dependencies\": [\n      \"stripe\",\n      \"jsonwebtoken\",\n      \"bcrypt\"\n    ],\n    \"allowed_commands\": [\n      \"npm install\",\n      \"npm run build\",\n      \"npm test\",\n      \"npx prisma migrate dev\",\n      \"git add\",\n      \"git commit\"\n    ]\n  }\n}\n```\n\n### Reference\n\n| Field | Type | Required | Default | Description |\n|---|---|---|---|---|\n| `features` | array | yes | — | List of features to implement. Each needs `name` and `description`. |\n| `features[].priority` | int | no | `0` | Lower values execute first. |\n| `build.command` | string | yes | — | Build command run in each worktree after task completion. |\n| `build.test_command` | string | yes | — | Test command run after a successful build. |\n| `models.feature_agent` | string | no | `claude-sonnet-4-5-20250929` | Model for feature implementation agents. |\n| `models.review_agent` | string | no | `claude-sonnet-4-5-20250929` | Model for the review agent. |\n| `models.merge_agent` | string | no | `claude-sonnet-4-5-20250929` | Model for merge conflict resolution. |\n| `review.rules` | string[] | no | `[]` | Custom review rules appended to the review prompt. |\n| `review.circuit_breaker_limit` | int | no | `3` | Max review cycles before escalating to the user. |\n| `safety.allowed_dependencies` | string[] | no | `[]` (all allowed) | Packages agents are allowed to install. Empty = unrestricted. |\n| `safety.allowed_commands` | string[] | no | `[]` (all allowed) | Shell commands agents are allowed to run. Empty = unrestricted. |\n\n### Writing Good Feature Descriptions\n\nThe `features` array is the most important part of your config — it's what the decomposition agent uses to plan the entire run. Better descriptions lead to better task breakdowns.\n\n**Each feature becomes one agent.** The agent gets the feature name and description as its entire mission brief, so include everything it needs to know.\n\n#### What to include\n\n- **What** the feature does (behavior, not implementation)\n- **Where** it integrates with the existing codebase (endpoints, pages, services)\n- **Constraints** that matter (auth required, rate limits, specific libraries to use)\n- **Acceptance criteria** — how do you know it's done?\n\n#### Good vs bad\n\nBad — too vague, the agent will make assumptions:\n```json\n{\n  \"name\": \"Notifications\",\n  \"description\": \"Add notifications to the app.\"\n}\n```\n\nGood — specific enough to decompose into concrete tasks:\n```json\n{\n  \"name\": \"Email Notifications\",\n  \"description\": \"Add transactional email notifications using SendGrid. Send emails on: user signup (welcome), password reset (with token link), and order confirmation (with order summary). Add a notification_preferences table so users can opt out per notification type. Emails should be sent async via a background job queue. Include HTML templates for each email type.\"\n}\n```\n\n#### Sizing guidelines\n\n| Size | Example | Recommendation |\n|---|---|---|\n| Too small | \"Add a logout button\" | Combine with related work into a larger feature |\n| Good | \"Add JWT auth with login, signup, token refresh, and middleware\" | Self-contained, 3-8 tasks when decomposed |\n| Too large | \"Rebuild the entire backend\" | Split into independent features |\n\nA good rule of thumb: each feature should represent **a few hours to a day** of focused development work. If you'd describe it as \"a project\" rather than \"a feature,\" split it up.\n\n#### Features should be independent\n\nEach agent works in its own worktree. Features that heavily overlap in the same files will cause merge conflicts during integration. When possible:\n\n- Split by **domain** (auth, billing, notifications) rather than by layer (frontend, backend, database)\n- If two features touch the same files, consider making one depend on the other via priority ordering\n\n#### Generating features from a PDR or tech plan\n\nIf you have an existing design doc, PRD, or tech plan, you can use Claude to extract features from it. See [`docs/generating-features.md`](docs/generating-features.md) for a prompt template.\n\n## Commands\n\n### `sweb run`\n\nStart a new run. Decomposes features, presents a plan for approval, then executes.\n\n```\nsweb run [config-file] [flags]\n\nArguments:\n  config-file    Path to the config file (default: sweb.json)\n\nFlags:\n  --dry-run      Preview the task graph and agent assignments without executing\n```\n\n**Refuses to start on a dirty working tree.** Commit or stash your changes first.\n\n### `sweb resume`\n\nResume a previously interrupted run. Reads state from `.sweb/` and beads, rolls back any in-progress tasks to a clean state, and re-spawns agents.\n\n```\nsweb resume\n```\n\n### `sweb status`\n\nDisplay a snapshot of the current run. Can be run from a separate terminal.\n\n```\nsweb status\n```\n\n```\nPhase:   executing\nElapsed: 12m34s\nConfig:  sweb.json\n\nAgents:\n  auth                  status=working          task=sweb-a1b2\n  payments              status=waiting_review   task=sweb-c3d4\n  notifications         status=idle             task=-\n```\n\n## Agent Execution Model\n\nEach feature agent runs as an independent Claude CLI process (`claude --print`) with its own git worktree. Agents follow this loop:\n\n```\nwhile stack is not empty:\n    pop task from stack\n    implement task\n    commit changes\n    wait for gate (build + test + review)\n\n    if gate passes  → pick up next task\n    if bugs found   → bug tickets pushed to top of stack, fix first\n    if circuit breaker triggers → escalate to user\n```\n\n### Review Gate\n\nEvery task goes through a two-stage gate before the agent can proceed:\n\n1. **Build + Test** — The build and test commands from the config are run in the agent's worktree. Failures create a bug ticket pushed to the agent's stack.\n2. **Code Review** — A review agent examines the cumulative diff for bugs, applying the rules from the config. Found bugs become beads issues blocking the original task.\n\nAfter a bug fix, the **full cumulative diff** is re-reviewed to catch regressions.\n\n### Circuit Breaker\n\nIf a task fails review `circuit_breaker_limit` times (default: 3), it is escalated to the user via the TUI. The agent pauses on that task until the user intervenes.\n\n## Git Strategy\n\n```\nmain (untouched)\n├── sweb/integration (final merge target)\n├── sweb/agent-auth\n├── sweb/agent-payments\n└── sweb/agent-notifications\n```\n\n- Each agent commits to its own branch in its own worktree\n- No cross-worktree writes\n- Final integration merges all agent branches into `sweb/integration`\n- Merge conflicts are resolved by a dedicated merge agent\n- **You** merge `sweb/integration` into `main` when satisfied\n\n### Worktree Layout\n\n```\nyour-project/\n├── .sweb/\n│   ├── config.lock.json\n│   ├── state.json\n│   ├── logs/\n│   │   ├── orchestrator.log\n│   │   ├── agent-auth.log\n│   │   └── review.log\n│   ├── worktrees/\n│   │   ├── agent-auth/\n│   │   └── agent-payments/\n│   └── reports/\n│       └── run-2026-02-05T14-30-00.md\n└── ...\n```\n\n## TUI Dashboard\n\nThe terminal dashboard provides real-time monitoring and control.\n\n### Panels\n\n| Panel | Content |\n|---|---|\n| **Agent Status** | Per-agent: current task, status, branch |\n| **Task Queues** | Per-agent stack with bug tickets highlighted |\n| **Review Feed** | Live review results, cycle counts |\n| **Cost Tracker** | Token usage per agent and cumulative total |\n| **Logs** | Scrollable log output from selected agent |\n\n### Controls\n\n| Key | Action |\n|---|---|\n| `p` | Pause agent (finishes current task first) |\n| `r` | Resume paused agent |\n| `Tab` | Switch between panels |\n| `q` | Graceful shutdown (all agents finish current tasks, state saved) |\n\nAdditional controls: reprioritize tasks, inject new tasks mid-run, manually approve/reject reviews.\n\n## Crash Recovery\n\nsweb is designed to be resumable from any interruption point:\n\n- All task state lives in **beads** (git-backed, persistent)\n- Runtime state is written to `.sweb/state.json`\n- On `sweb resume`:\n  - Tasks marked `in_progress` at crash time are **rolled back** (`git reset` + `git clean` in the worktree) and re-queued\n  - Worktrees are validated\n  - Agents are re-spawned for features with remaining tasks\n- `ctrl+C` triggers a graceful shutdown: agents finish current tasks, state is saved\n\n## Post-Run Report\n\nAfter completion, a markdown report is saved to `.sweb/reports/`:\n\n```\n# sweb Run Report — 2026-02-05 14:30:00\n\n## Summary\n- Features implemented: 3/3\n- Total tasks completed: 14\n- Bug tickets created: 5, resolved: 5\n- Review cycles: 22\n- Escalations: 1\n\n## Per-Agent Breakdown\n### auth\n- Tasks: 5 | Bugs: 2 | Review cycles: 8\n- Tokens: 1,245,000 in / 312,000 out\n\n## Final Integration\n- Merge conflicts: 1 (resolved by merge agent)\n- Cross-feature review: PASS\n- Final tests: 42/42 passing\n\n## Files Changed\n- 34 files changed, 2,847 insertions(+), 156 deletions(-)\n```\n\n## Project Structure\n\n```\ncmd/sweb/             CLI entry point (cobra commands)\ninternal/\n├── agent/            Agent spawning, monitoring, prompt building\n├── beads/            Beads CLI wrapper (interface + executor + mock)\n├── circuit/          Circuit breaker (counter, check, escalation)\n├── config/           Config loading, validation, lock snapshots\n├── cost/             Token usage extraction and cost tracking\n├── gate/             Build/test gate runner\n├── integration/      Branch merging, conflict resolution, cross-feature review\n├── logging/          Structured logging and log streaming\n├── orchestrator/     Core orchestration loop and phase state machine\n├── recovery/         Graceful shutdown and agent respawning\n├── report/           Post-run report collection and rendering\n├── review/           Review agent spawning, diff extraction, bug creation\n├── safety/           Command/dependency allowlist enforcement\n├── state/            Runtime state types and persistence\n├── tui/              Dashboard panels, layout, event bus, controls\n└── worktree/         Git worktree creation, listing, validation, cleanup\n```\n\n## Claude Code Plugins\n\nsweb ships with two [Claude Code](https://docs.anthropic.com/en/docs/claude-code) plugins that cover the full pipeline from idea to parallel implementation.\n\n### `/hatch` — Idea to Task Graph\n\nThe gap between \"I have an idea\" and \"I have an executable task graph\" is where most projects stall. `/hatch` bridges this gap through a structured conversation: codebase analysis, adaptive interview, requirements checkpoint, tech spec, and task decomposition.\n\n```\n/hatch \"Add user authentication with JWT tokens\"\n```\n\nHatch produces:\n- A structured requirements doc (`tasks/hatch-requirements.md`)\n- A comprehensive tech spec (`docs/specs/<slug>.md`)\n- A beads task graph: feature epic → milestone epics → task issues, all with dependencies and TDD-first descriptions\n\nEvery task is sized as a single logical commit and includes specific test cases to write first. The output plugs directly into `sweb run` for parallel execution.\n\nFlags: `--dry-run` (no beads creation), `--project` (multi-feature mode), `--resume` (pick up interrupted session). Hatch always generates `sweb.json` with `graph.epic` pointing at the created feature epic.\n\nSee the [hatch README](plugin-hatch/README.md) for full details.\n\n### `/sweb:*` — Config Management\n\nThe sweb plugin has four commands for creating, validating, and previewing your `sweb.json` config:\n\n| Command | Purpose |\n|---|---|\n| `/sweb:init` | Create `sweb.json` from scratch — detects your project, asks what you want to build, explores the codebase, and generates well-sized features with detailed descriptions. |\n| `/sweb:generate` | Create `sweb.json` from an existing beads task graph — reads feature epics and milestones, derives priorities from the dependency graph. Use after `/hatch`. |\n| `/sweb:validate` | Check `sweb.json` for issues — schema validation, description quality, feature sizing, and actually runs build/test commands to verify they work. |\n| `/sweb:plan` | Preview what `sweb run` would do — execution phases, agent concurrency, branch layout, estimated task counts, and risk analysis. Nothing is executed. |\n\nSee the [sweb plugin README](plugin/README.md) for usage examples.\n\n### Install\n\nBoth plugins are installed and registered automatically by the [install script](#installation). After running it, just launch `claude` — the plugins are available immediately.\n\n## Development\n\n```bash\nmake build      # Build binary to bin/sweb\nmake test       # Run all tests\nmake lint       # Run golangci-lint\nmake install    # Install to $GOPATH/bin\nmake clean      # Remove build artifacts\n```\n\n## License\n\nMIT\n",
        "plugin/README.md": "# sweb Claude Code Plugin\n\nClaude Code plugin for creating, validating, and previewing `sweb.json` config files.\n\n## Installation\n\nThe sweb install script registers this plugin automatically:\n\n```bash\ncurl -sSL https://raw.githubusercontent.com/yagevlevi/spiderweb/main/install.sh | bash\n```\n\nThen just run `claude` — the plugin loads automatically.\n\n## Commands\n\n### `/sweb:init` — Create sweb.json from scratch\n\nStart from nothing. The command detects your project, asks what you want to build, explores the codebase, and generates a complete `sweb.json` with well-sized features.\n\nUse this when you don't have a beads task graph yet and want to describe features from scratch.\n\n```\n/sweb:init                                    # interactive\n/sweb:init path/to/design-doc.md              # extract features from a doc\n/sweb:init \"Add auth and payment processing\"  # from a description\n```\n\n### `/sweb:generate` — Create sweb.json from a beads task graph\n\nAlready ran `/hatch` or built a beads task graph manually? This command reads the existing feature epics and milestones from beads and converts them into a `sweb.json`. Each milestone becomes a sweb feature, and priorities are derived from the dependency graph.\n\nUse this when you have an existing beads graph and want to generate or regenerate the sweb config from it.\n\n```\n/sweb:generate                  # discover all feature epics automatically\n/sweb:generate spark-6fw        # generate from a specific feature epic\n```\n\n### `/sweb:validate` — Check sweb.json for issues\n\nValidates your config before you commit to a run. Checks schema correctness, feature description quality, sizing, priority ordering, and actually runs your build/test commands to make sure they work. Also checks that beads is initialized and git is clean.\n\nUse this before running `sweb run` to catch problems early.\n\n```\n/sweb:validate                  # validate ./sweb.json\n/sweb:validate path/to/sweb.json\n```\n\n### `/sweb:plan` — Preview what sweb run would do\n\nRead-only dry run. Shows the execution phases, how many agents run in parallel at each phase, the branch layout, estimated task counts, and risk analysis. Nothing is created or executed.\n\nUse this to understand the execution plan and spot issues before starting a potentially long run.\n\n```\n/sweb:plan                      # preview ./sweb.json\n/sweb:plan path/to/sweb.json\n```\n",
        "plugin-hatch/README.md": "# hatch Claude Code Plugin\n\nClaude Code plugin that turns ideas into tech specs and beads task graphs.\n\n## Installation\n\nThe sweb install script registers this plugin automatically:\n\n```bash\ncurl -sSL https://raw.githubusercontent.com/yagevlevi/spiderweb/main/install.sh | bash\n```\n\nThen just run `claude` — the plugin loads automatically.\n\n## Usage\n\nIn any project directory:\n\n```\n/hatch \"Add user authentication with JWT tokens\"\n```\n\nThe command will:\n1. Analyze your codebase (language, framework, patterns, tests)\n2. Run an adaptive interview to nail down requirements\n3. Write a structured requirements doc for your approval\n4. Generate a comprehensive tech spec\n5. Decompose the spec into a beads task graph (feature → milestones → tasks)\n6. Create all beads issues with dependencies\n\n### With a design doc\n\n```\n/hatch path/to/design-doc.md\n```\n\n### With flags\n\n```\n/hatch --dry-run \"Add health check endpoint\"     # Full flow, no beads creation\n/hatch --project \"Build a SaaS billing platform\"  # Multi-feature project mode\n/hatch --resume                                   # Resume interrupted session\n```\n\n## Flags\n\n| Flag | Description |\n|------|-------------|\n| `--project` | Multi-feature mode: interview covers full project, generates multiple feature epics |\n| `--dry-run` | Run full flow but stop before creating beads issues |\n| `--resume` | Resume an interrupted hatch session from `.hatch/<slug>/state.json` |\n\n## Flow\n\n```\nidea → codebase analysis → adaptive interview → requirements checkpoint\n    → tech spec → spec review → task graph → graph review → beads issues\n```\n\nEach transition is gated by user approval. You stay in control.\n\n## Output\n\n- `tasks/hatch-requirements.md` — structured requirements document\n- `docs/specs/<slug>.md` — comprehensive tech spec with task graph appendix\n- Beads issues — feature epic → milestone epics → task issues, all with dependencies\n\n## More\n\nSee [docs/hatch.md](../docs/hatch.md) for the vision and motivation behind hatch.\n"
      },
      "plugins": [
        {
          "name": "sweb",
          "source": "./plugin",
          "description": "Claude Code plugin for sweb — create, validate, and preview sweb.json configs",
          "version": "0.4.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add yagevlevi/spiderweb",
            "/plugin install sweb@sweb-local"
          ]
        },
        {
          "name": "hatch",
          "source": "./plugin-hatch",
          "description": "Go from idea to tech spec to beads task graph",
          "version": "0.4.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add yagevlevi/spiderweb",
            "/plugin install hatch@sweb-local"
          ]
        }
      ]
    }
  ]
}