{
  "author": {
    "id": "Z-M-Huang",
    "display_name": "Mark.Huang",
    "avatar_url": "https://avatars.githubusercontent.com/u/25124355?u=875a3ca825f2f30dab9e1a87d9c8f78ada4ef926&v=4"
  },
  "marketplaces": [
    {
      "name": "cc-obsidian-mem",
      "version": null,
      "description": "Obsidian-based persistent memory system for Claude Code",
      "repo_full_name": "Z-M-Huang/cc-obsidian-mem",
      "repo_url": "https://github.com/Z-M-Huang/cc-obsidian-mem",
      "repo_description": "Claude code knowledge base using obsidian",
      "signals": {
        "stars": 9,
        "forks": 3,
        "pushed_at": "2026-01-24T14:55:22Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"cc-obsidian-mem\",\n  \"owner\": {\n    \"name\": \"Mark Huang\"\n  },\n  \"metadata\": {\n    \"description\": \"Obsidian-based persistent memory system for Claude Code\",\n    \"homepage\": \"https://github.com/Z-M-Huang/cc-obsidian-mem\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"cc-obsidian-mem\",\n      \"version\": \"1.0.5\",\n      \"source\": \"./plugin\",\n      \"description\": \"Automatically captures session activity, errors, decisions, and patterns into a browsable, visualizable knowledge base.\"\n    }\n  ]\n}\n",
        "README.md": "# cc-obsidian-mem\n\nObsidian-based persistent memory system for Claude Code. Automatically captures session activity, errors, decisions, and patterns into a browsable, visualizable knowledge base.\n\n## Documentation\n\n**New to cc-obsidian-mem?** Check out the **[Wiki](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki)** for comprehensive guides:\n\n| Guide | Description |\n|-------|-------------|\n| [Getting Started](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Getting-Started) | Step-by-step setup for beginners |\n| [Installation](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Installation) | Detailed installation instructions |\n| [Configuration](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Configuration) | All configuration options explained |\n| [MCP Tools](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/MCP-Tools) | Tools Claude uses to access memory |\n| [Skills](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Skills) | Slash commands (`/mem-search`, `/mem-save`, etc.) |\n| [Vault Structure](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Vault-Structure) | How knowledge is organized |\n| [Troubleshooting](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Troubleshooting) | Common issues and solutions |\n| [FAQ](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/FAQ) | Frequently asked questions |\n\n## Features\n\n- **Automatic Capture**: Hooks automatically track file edits, commands, and errors\n- **Exploration Tracking**: Captures codebase exploration (files read, search patterns used)\n- **AI Summaries**: Claude-powered knowledge extraction from conversations with Zod validation\n- **Obsidian Integration**: Full Obsidian syntax support with Dataview queries for visualization\n- **Canvas Visualizations**: Auto-generated dashboard, timeline, and graph canvases\n- **File-Based Indexing**: JSON index files for faster search operations\n- **Session Summaries**: Creates session summary notes with exploration history\n- **Project Organization**: Memories organized by project with cross-project patterns\n- **MCP Tools**: Search, read, and write memories directly from Claude Code\n- **Skills**: User-invokable commands (`/mem-search`, `/mem-save`, `/mem-status`)\n\n## Quick Start\n\n### Prerequisites\n\n- [Bun](https://bun.sh/) runtime installed\n- [Obsidian](https://obsidian.md/) with an existing vault\n- [Dataview plugin](https://github.com/blacksmithgu/obsidian-dataview) (recommended for dashboards)\n- Claude Code CLI **v1.0.49 or later** (required for `--no-session-persistence` flag)\n  - Check your version: `claude --version`\n  - Upgrade if needed: `npm install -g @anthropic-ai/claude-code`\n\n### Step 1: Install the Plugin\n\n**Option A: From GitHub Marketplace (Recommended)**\n\n```bash\n# In Claude Code, run:\n/plugin marketplace add z-m-huang/cc-obsidian-mem\n/plugin install cc-obsidian-mem\n```\n\n**Option B: From Local Clone**\n\n```bash\n# Clone the repository\ngit clone https://github.com/Z-M-Huang/cc-obsidian-mem.git\ncd cc-obsidian-mem/plugin\nbun install\n\n# In Claude Code, run:\n/plugin marketplace add /path/to/cc-obsidian-mem\n/plugin install cc-obsidian-mem\n```\n\n### Step 2: Configure Your Vault\n\nRun the setup wizard:\n\n```bash\n# Navigate to the plugin directory and run setup\ncd ~/.claude/plugins/cc-obsidian-mem  # or your clone location\ncd plugin && bun run setup\n```\n\nThe wizard will prompt you for your Obsidian vault path and create the config file.\n\n**Or manually create** `~/.cc-obsidian-mem/config.json`:\n\n```json\n{\n  \"vault\": {\n    \"path\": \"/path/to/your/obsidian/vault\",\n    \"memFolder\": \"_claude-mem\"\n  },\n  \"logging\": {\n    \"verbose\": false\n  },\n  \"capture\": {\n    \"fileEdits\": true,\n    \"bashCommands\": true,\n    \"bashOutput\": { \"enabled\": true, \"maxLength\": 5000 },\n    \"errors\": true,\n    \"decisions\": true\n  },\n  \"summarization\": {\n    \"enabled\": true,\n    \"model\": \"sonnet\",\n    \"sessionSummary\": true,\n    \"errorSummary\": true,\n    \"timeout\": 180000\n  },\n  \"contextInjection\": {\n    \"enabled\": true,\n    \"maxTokens\": 4000,\n    \"includeRelatedErrors\": true,\n    \"includeProjectPatterns\": true\n  },\n  \"canvas\": {\n    \"enabled\": true,\n    \"autoGenerate\": true,\n    \"updateStrategy\": \"always\"\n  },\n  \"processing\": {\n    \"frequency\": \"compact-only\",\n    \"periodicInterval\": 10\n  },\n  \"deduplication\": {\n    \"enabled\": true,\n    \"threshold\": 0.6\n  }\n}\n```\n\n> **Note**: AI summarization uses the Claude Code CLI (`claude -p`), so no separate API key is required. Valid model values: `sonnet`, `opus`, `haiku`.\n\n### Step 3: Restart Claude Code\n\nRestart Claude Code to load the plugin and hooks.\n\n### Step 4: Enable Proactive Memory Use (Important!)\n\nThe plugin provides MCP tools, but Claude won't automatically use them unless instructed. Add the following to your project's `CLAUDE.md` file:\n\n```markdown\n## Memory System (cc-obsidian-mem)\n\nYou have access to a persistent memory system via MCP tools. Use it proactively.\n\n### Available Tools\n\n| Tool                  | Use When                                                 |\n| --------------------- | -------------------------------------------------------- |\n| `mem_search`          | Looking for past decisions, errors, patterns, or context |\n| `mem_read`            | Need full content of a specific note                     |\n| `mem_write`           | Saving important decisions, patterns, or learnings       |\n| `mem_write_knowledge` | Saving Q&A, explanations, research from conversations    |\n| `mem_supersede`       | Updating/replacing outdated information                  |\n| `mem_project_context` | Starting work on a project (get recent context)          |\n| `mem_list_projects`   | Need to see all tracked projects                         |\n| `mem_generate_canvas` | Generate Obsidian canvas visualizations                  |\n| `mem_file_ops`        | Delete, move, or create directories in the vault         |\n\n### When to Search Memory\n\n**Proactively search memory (`mem_search`) when:**\n\n- Starting work on a codebase - check for project context and recent decisions\n- Encountering an error - search for similar errors and their solutions\n- Making architectural decisions - look for related past decisions\n- User asks \"how did we...\" or \"why did we...\" or \"what was...\"\n- Implementing a feature similar to past work\n\n**Example searches:**\n\n- `mem_search query=\"authentication\" type=\"decision\"` - Find auth-related decisions\n- `mem_search query=\"TypeError\" type=\"error\"` - Find past TypeScript errors\n- `mem_search query=\"database schema\"` - Find DB-related knowledge\n- `mem_project_context project=\"my-project\"` - Get full project context\n\n### When to Save to Memory\n\n**Save to memory (`mem_write`) when:**\n\n- Making significant architectural or technical decisions\n- Discovering important patterns or gotchas\n- Solving tricky bugs (save the solution)\n- Learning something project-specific that will be useful later\n\n**Use `mem_supersede` when:**\n\n- A previous decision is being replaced\n- Updating outdated documentation or patterns\n```\n\nYou can also add this to your global `~/.claude/CLAUDE.md` to apply it to all projects.\n\n### Updating the Plugin\n\nWhen updating to a new version, we recommend a clean reinstall:\n\n```bash\n# 1. Uninstall the current version\n/plugin uninstall cc-obsidian-mem\n\n# 2. Reinstall from marketplace\n/plugin install cc-obsidian-mem\n\n# 3. Restart Claude Code session\n# Exit and start a new Claude session to load the updated hooks\n```\n\n> **Note**: Your configuration file (`~/.cc-obsidian-mem/config.json`) and all knowledge in your Obsidian vault are preserved during reinstall. Only the plugin code is updated.\n\n---\n\n## Usage\n\n### Automatic Capture\n\nOnce installed, the plugin automatically:\n\n- Tracks file edits, bash commands, and errors during sessions\n- Extracts knowledge from web searches and documentation lookups\n- Generates AI-powered knowledge extraction when you run `/compact` or end a session\n- Persists decisions, errors, patterns, and learnings to your Obsidian vault\n\n### Skills (User Commands)\n\n#### `/mem-search` - Search your knowledge base\n\n```\n/mem-search authentication error fix\n/mem-search database schema decisions\n/mem-search API rate limiting patterns\n```\n\n#### `/mem-save` - Save knowledge explicitly\n\n```\n/mem-save decision: We chose PostgreSQL for better JSON support\n/mem-save pattern: This regex validates email addresses\n/mem-save learning: API rate limits at 100 req/min\n```\n\n#### `/mem-status` - Check system status\n\n```\n/mem-status\n```\n\n### MCP Tools\n\nThese tools are available to Claude during conversations:\n\n| Tool                  | Description                                                             |\n| --------------------- | ----------------------------------------------------------------------- |\n| `mem_search`          | Search notes by query, project, type, or tags                           |\n| `mem_read`            | Read a specific note's content                                          |\n| `mem_write`           | Create or update notes (error, decision, pattern, file, learning)       |\n| `mem_write_knowledge` | Write knowledge notes (qa, explanation, decision, research, learning)   |\n| `mem_supersede`       | Create a new note that supersedes an existing one (bidirectional links) |\n| `mem_project_context` | Get context for a project                                               |\n| `mem_list_projects`   | List all tracked projects                                               |\n| `mem_generate_canvas` | Generate canvas visualizations (dashboard, timeline, graph)             |\n| `mem_file_ops`        | Cross-platform file operations (delete, move, mkdir) for vault cleanup  |\n\n---\n\n## Architecture\n\n```\n┌──────────────┐     ┌─────────────┐     ┌────────────────┐\n│ Claude Code  │◄───►│ MCP Server  │◄───►│ Obsidian Vault │\n└──────┬───────┘     └─────────────┘     └────────────────┘\n       │\n       ▼\n┌──────────────┐     ┌─────────────┐\n│    Hooks     │────►│Session Store│\n│ (Lifecycle)  │     │ (Ephemeral) │\n└──────────────┘     └─────────────┘\n```\n\n### Hooks\n\n| Hook               | Purpose                                                                    |\n| ------------------ | -------------------------------------------------------------------------- |\n| `SessionStart`     | Initialize session tracking, inject project context, migrate pending files |\n| `UserPromptSubmit` | Track user prompts                                                         |\n| `PostToolUse`      | Capture observations, extract knowledge from web tools                     |\n| `PreCompact`       | Trigger background AI summarization before `/compact`                      |\n| `SessionEnd`       | Generate canvas visualizations, cleanup session files                      |\n\n---\n\n## Vault Structure\n\n```\nvault/\n├── _claude-mem/\n│   ├── index.md                     # Dashboard with Dataview queries\n│   ├── projects/\n│   │   └── {project-name}/\n│   │       ├── {project-name}.md    # Project overview\n│   │       ├── _index.json          # Project index (auto-generated for fast search)\n│   │       ├── errors/\n│   │       │   ├── errors.md        # Category index\n│   │       │   └── *.md             # Error patterns\n│   │       ├── decisions/\n│   │       │   ├── decisions.md     # Category index\n│   │       │   └── *.md             # Architectural decisions\n│   │       ├── knowledge/\n│   │       │   ├── knowledge.md     # Category index\n│   │       │   └── *.md             # Q&A, explanations, learnings\n│   │       ├── research/\n│   │       │   ├── research.md      # Category index\n│   │       │   └── *.md             # External research notes\n│   │       ├── patterns/\n│   │       │   ├── patterns.md      # Category index\n│   │       │   └── *.md             # Project-specific patterns\n│   │       ├── files/\n│   │       │   ├── files.md         # Category index\n│   │       │   └── *.md             # File-specific knowledge\n│   │       ├── sessions/            # Session summary notes\n│   │       │   └── *.md             # {date}_{session_id}.md\n│   │       └── canvases/\n│   │           ├── dashboard.canvas # Grid layout by folder type\n│   │           ├── timeline.canvas  # Decisions chronologically\n│   │           └── graph.canvas     # Radial knowledge graph\n│   ├── global/\n│   │   ├── patterns/                # Reusable cross-project patterns\n│   │   └── knowledge/               # General learnings\n│   └── templates/                   # Note templates\n```\n\n> **Note**: Session data is stored ephemerally in `~/.cc-obsidian-mem/sessions/` during active sessions (including `{session_id}.json` for state and `{session_id}.exploration.jsonl` for exploration tracking) and cleaned up when sessions end. Only persistent knowledge is stored in the vault.\n\n### Note Linking\n\nNotes follow a hierarchical linking structure for Obsidian graph navigation:\n\n- Individual notes link to their category index via `parent` frontmatter\n- Category indexes link to the project base\n- Superseded notes have bidirectional links (`superseded_by` ↔ `supersedes`)\n\n---\n\n## Obsidian Features Used\n\n- **Frontmatter/Properties**: YAML metadata for filtering and Dataview\n- **Wikilinks**: `[[Note]]`, `[[Note#heading]]` for navigation\n- **Callouts**: `> [!warning]`, `> [!success]` for visual highlighting\n- **Dataview queries**: Dynamic dashboards and indexes\n- **Graph view**: Visualize connections between notes\n- **Tags**: `#error`, `#decision`, `#learning`, `#project/name` for organization\n\n---\n\n## Troubleshooting\n\nFor detailed troubleshooting, see the [Troubleshooting Wiki](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki/Troubleshooting).\n\n**Quick fixes:**\n\n| Problem | Solution |\n|---------|----------|\n| Plugin not loading | Run `/plugin list` to verify, restart Claude Code |\n| No data captured | Check config exists at `~/.cc-obsidian-mem/config.json` |\n| AI summaries not working | Verify `summarization.enabled: true` in config |\n| Claude not using memory | Add memory instructions to your `CLAUDE.md` (see Step 4) |\n\n**Enable debug logging:**\n\n```json\n\"logging\": { \"verbose\": true }\n```\n\nThen view: `tail -f /tmp/cc-obsidian-mem-*.log`\n\n### `--continue` picks up wrong session\n\nIf Claude's `--continue` command picks up an agent session instead of your actual conversation, this is caused by polluted session files from cc-obsidian-mem's background processes.\n\n**This was fixed in v1.0.4+** by using the `--no-session-persistence` flag. The cleanup below is only needed for sessions created with older versions.\n\n**Option 1: Delete all session history (simplest)**\n\nThis removes all Claude Code session history. You won't be able to `--continue` any previous sessions.\n\n- **Windows:** Delete all contents in `%USERPROFILE%\\.claude\\projects`\n- **macOS/Linux:** `rm -rf ~/.claude/projects/*`\n\n**Option 2: Targeted cleanup (preserves other sessions)**\n\nOnly removes sessions polluted by cc-obsidian-mem:\n\n**Windows (PowerShell):**\n\n```powershell\nGet-ChildItem \"$env:USERPROFILE\\.claude\\projects\" -Recurse -Filter \"*.jsonl\" |\n  Where-Object { (Get-Content $_.FullName -Raw) -match \"cc-mem-agent|cc-obsidian-mem-\" } |\n  Remove-Item -Force\nGet-ChildItem \"$env:USERPROFILE\\.claude\\projects\" -Recurse -Filter \"sessions-index.json\" |\n  Remove-Item -Force\n```\n\n**macOS/Linux:**\n\n```bash\ngrep -rl \"cc-mem-agent\\|cc-obsidian-mem-\" ~/.claude/projects --include=\"*.jsonl\" | xargs rm -f\nfind ~/.claude/projects -name \"sessions-index.json\" -delete\n```\n\n---\n\n## Development\n\n### Project Structure\n\n```\ncc-obsidian-mem/\n├── .claude-plugin/\n│   └── marketplace.json     # Marketplace manifest\n├── plugin/\n│   ├── .claude-plugin/\n│   │   └── plugin.json      # Plugin manifest\n│   ├── .mcp.json            # MCP server config\n│   ├── hooks/\n│   │   ├── hooks.json       # Hook definitions\n│   │   └── scripts/         # Hook scripts\n│   ├── scripts/             # Utility scripts\n│   ├── skills/              # Skill definitions\n│   ├── tests/               # Test files\n│   └── src/\n│       ├── vault/           # Vault management (read/write/search), canvas generation\n│       ├── summarizer/      # AI-powered knowledge extraction\n│       ├── mcp-server/      # MCP tools (mem_search, mem_write, etc.)\n│       ├── session-end/     # Background session processing\n│       ├── sqlite/          # SQLite database operations\n│       ├── context/         # Context injection for prompts\n│       ├── sdk/             # SDK agent integration\n│       ├── shared/          # Types, config, validation, logging\n│       ├── cli/             # Setup CLI\n│       ├── fallback/        # JSON fallback storage\n│       └── worker/          # Background worker service\n```\n\n### Topic-Based Filenames (Deduplication)\n\nKnowledge notes use **topic-based filenames** instead of date-prefixed filenames. This prevents duplicate notes on the same topic:\n\n- Notes are named `authentication-bug.md` instead of `2026-01-15_authentication-bug.md`\n- When new knowledge matches an existing topic, it's **appended** to the existing note\n- Each entry within a note has a timestamp header (`## Entry: YYYY-MM-DD HH:MM`)\n\n**Deduplication Algorithm** (v1.0.4+):\n\n- Uses **Jaccard word similarity** to match topics with similar (not just identical) titles\n- Searches **across all categories** to find similar topics, but only appends to **same-category** matches\n- Default threshold: 60% similarity (configurable)\n- Stopwords (common words like \"the\", \"for\", \"in\") are filtered before comparison\n- Falls back to exact slug matching for single-word titles\n\n**Configuration** (add to `~/.cc-obsidian-mem/config.json`):\n\n```json\n\"deduplication\": {\n  \"enabled\": true,\n  \"threshold\": 0.6\n}\n```\n\n| Option      | Values        | Description                                    |\n| ----------- | ------------- | ---------------------------------------------- |\n| `enabled`   | `true`/`false`| Enable cross-category deduplication (default: `true`) |\n| `threshold` | 0.0 - 1.0     | Similarity threshold (default: `0.6` = 60%)    |\n\n**Migration for existing vaults**: Existing date-prefixed notes continue to work. New knowledge will use topic-based filenames. You can manually merge duplicate notes if desired.\n\n### Running Tests\n\n```bash\ncd plugin && bun test\n```\n\n### Building\n\n```bash\ncd plugin && bun run build\n```\n\n---\n\n## Support\n\n- **Documentation:** [Wiki](https://github.com/Z-M-Huang/cc-obsidian-mem/wiki)\n- **Bug Reports:** [GitHub Issues](https://github.com/Z-M-Huang/cc-obsidian-mem/issues)\n- **Questions:** [GitHub Discussions](https://github.com/Z-M-Huang/cc-obsidian-mem/discussions)\n\n## License\n\nMIT\n\n## Credits\n\nInspired by [claude-mem](https://github.com/thedotmack/claude-mem) by thedotmack.\n"
      },
      "plugins": [
        {
          "name": "cc-obsidian-mem",
          "version": "1.0.5",
          "source": "./plugin",
          "description": "Automatically captures session activity, errors, decisions, and patterns into a browsable, visualizable knowledge base.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add Z-M-Huang/cc-obsidian-mem",
            "/plugin install cc-obsidian-mem@cc-obsidian-mem"
          ]
        }
      ]
    }
  ]
}