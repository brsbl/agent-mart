{
  "author": {
    "id": "dimfeld",
    "display_name": "Daniel Imfeld",
    "avatar_url": "https://avatars.githubusercontent.com/u/1369558?u=d67aca404b0e0de7b0060c37cc27c0b78d474647&v=4"
  },
  "marketplaces": [
    {
      "name": "rmplan",
      "version": null,
      "description": null,
      "repo_full_name": "dimfeld/llmutils",
      "repo_url": "https://github.com/dimfeld/llmutils",
      "repo_description": "Planning tools for managing coding agents",
      "signals": {
        "stars": 8,
        "forks": 2,
        "pushed_at": "2026-01-29T00:18:44Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"rmplan\",\n  \"owner\": {\n    \"name\": \"dimfeld\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"rmplan\",\n      \"source\": \"./claude-plugin\"\n    }\n  ]\n}\n",
        "README.md": "# rmplan\n\nAI-powered project planning and execution system for software development. Generate detailed plans from GitHub/Linear issues, execute them with automated agents, and track progress through complex multi-phase projects.\n\n**Core capabilities:**\n\n- **Smart Planning**: Generate detailed implementation plans using LLMs with automatic research phases\n- **Issue Tracking**: Track issues and their dependencies\n- **Automated Execution**: Run plans step-by-step with workspace isolation and automatic progress tracking\n- **MCP Integration**: Full Model Context Protocol server for AI agent access\n- **Workspace Management**: Execute plans in isolated git clones with automatic dependency handling\n- **Multi-Workspace Coordination**: Claim and track plans across multiple repository checkouts\n\n**Older tools:**\n\nThese tools are deprecated as coding agents have largely replaced them, but sill exist in this codebase.\n\n- `rmfilter`: Context gathering wrapper around repomix for LLM prompts\n- `apply-llm-edits`: Apply LLM-generated code changes to your repository\n- `rmfind`: AI-powered file search with interactive selection\n\n---\n\n# Table of Contents\n\n- [Installation](#installation)\n- [Quick Start](#quick-start)\n- [Plan Structure](#plan-structure)\n- [Core Commands](#core-commands)\n  - [generate - Create Plans](#generate---create-plans)\n  - [agent/run - Execute Plans](#agentrun---execute-plans)\n  - [add - Create Plan Stubs](#add---create-plan-stubs)\n  - [show - View Plan Details](#show---view-plan-details)\n  - [ready - List Ready Plans](#ready---list-ready-plans)\n- [MCP Server](#mcp-server)\n  - [Prompts](#prompts)\n  - [Tools](#tools)\n  - [Starting the Server](#starting-the-server)\n- [Workspace Management](#workspace-management)\n  - [Why Workspaces](#why-workspaces)\n  - [Configuration](#workspace-configuration)\n  - [Commands](#workspace-commands)\n- [Configuration](#configuration)\n  - [Workspace Auto-Creation](#workspace-auto-creation)\n  - [Executors](#executors)\n  - [Post-Apply Commands](#post-apply-commands)\n  - [Documentation Search Paths](#documentation-search-paths)\n  - [Model API Keys](#model-api-keys)\n- [Advanced Features](#advanced-features)\n  - [Multi-Workspace Assignments](#multi-workspace-assignments)\n  - [Plan Validation](#plan-validation)\n  - [Progress Tracking](#progress-tracking)\n  - [Plan Compaction](#plan-compaction)\n- [Supporting Tools](#supporting-tools)\n  - [rmfilter](#rmfilter)\n  - [apply-llm-edits](#apply-llm-edits)\n  - [rmfind](#rmfind)\n- [Complete Command Reference](#complete-command-reference)\n\n---\n\n## Installation\n\n**Prerequisites:**\n\n- [Bun](https://bun.sh/)\n- [ripgrep](https://github.com/BurntSushi/ripgrep)\n- [repomix](https://github.com/yamadashy/repomix)\n- [fzf](https://github.com/junegunn/fzf) (for rmfind)\n- [bat](https://github.com/sharkdp/bat) (for rmfind)\n- [Claude Code](https://github.com/anthropics/claude-code)\n- [OpenAI Codex](https://github.com/openai/codex) (optional)\n\n**Install:**\n\n```bash\ngit clone https://github.com/dimfeld/llmutils.git\ncd llmutils\nbun install\npnpm add -g file://$(pwd)\n```\n\n---\n\n## Quick Start\n\nHere's a complete workflow from issue to implementation:\n\n```bash\n# 0. Initialize rmplan in your repository (first time only)\nrmplan init\n# Interactive setup: creates .rmfilter/config/rmplan.yml\n# Choose tasks directory, executor, and other preferences\n# Use --yes for defaults or --minimal for minimal config\n\n# 1. Generate a plan from a GitHub issue\nrmplan generate --issue 123 -- src/api/**/*.ts\n# Claude Code analyzes the issue, researches the codebase, and creates a detailed plan\n# Research findings are saved to the plan's ## Research section\n# Plan saved to tasks/123-feature-name.yml\n\n# 2. Review the generated plan\nrmplan show 123\n# Shows: title, goal, status, tasks, and a progress summary\n\n# 3. Execute the plan automatically\nrmplan agent 123 --executor claude-code\n# Creates isolated workspace\n# Executes each task with LLM\n# Runs tests and formatting\n# Commits changes\n# Updates the plan's Progress section\n\n# 4. Track progress\nrmplan show 123 --short\n# Quick view of status and latest activity\n\n# 5. List all ready plans\nrmplan ready\n# Shows plans with all dependencies satisfied\n```\n\n**Alternative workflow with MCP:**\n\nIf you're using Claude Code or another MCP-compatible client:\n\n```bash\n# Start the MCP server\nrmplan mcp-server --mode generate\n\n# In your MCP client (e.g., Claude Code):\n# 1. Use \"generate-plan\" prompt with plan ID 123\n# 2. Claude researches, generates tasks interactively, and updates the plan\n```\n\n---\n\n## Plan Structure\n\nPlans are stored as YAML files with Markdown content (`.plan.md` or `.yml`):\n\n```yaml\n---\n# Core Metadata\ntitle: Implement user authentication\ngoal: Add secure user login and session management\nid: 123                          # Numeric ID for easy reference\nuuid: abc-def-123                # Stable unique identifier\nstatus: in_progress              # pending|in_progress|done|cancelled|deferred\npriority: high                   # low|medium|high|urgent|maybe\nsimple: false                    # If true, skip research phase\n\n# Relationships\nparent: 100                      # Parent plan ID\ndependencies: [101, 102]         # Must complete these first\ndiscoveredFrom: 99               # Plan that discovered the need for this one\n\n# Tasks\ntasks:\n  - title: Set up authentication middleware\n    description: |\n      Create Express middleware for JWT validation\n      Include token refresh logic\n    done: false\n\n  - title: Add login endpoint\n    description: |\n      POST /api/login endpoint\n      Return JWT token on successful auth\n    done: false\n\n# Metadata\nissue:\n  - https://github.com/user/repo/issues/123\nassignedTo: alice\ndocs:\n  - docs/security-policy.md\n\n# Timestamps\ncreatedAt: 2025-01-15T10:00:00Z\nupdatedAt: 2025-01-15T14:30:00Z\nplanGeneratedAt: 2025-01-15T10:15:00Z\n\n---\n\n<!-- Optional manual content -->\n\n<!-- rmplan-generated-start -->\n# Implementation Plan\n\n## Overview\nThis plan implements user authentication using JWT tokens...\n\n## Research\n- Reviewed existing session management in src/sessions/\n- Found passport.js already configured\n- Need to integrate with existing user model\n\n<!-- rmplan-generated-end -->\n\n## Progress\n### Current State\n- Implementation in progress; auth middleware scaffolded and tests started.\n### Completed (So Far)\n- Drafted auth middleware wiring\n### Remaining\n- Finish login endpoint and integrate token refresh\n### Next Iteration Guidance\n- Start with src/auth/middleware.ts and related tests\n### Decisions / Changes\n- None\n### Risks / Blockers\n- None\n```\n\n**Key Concepts:**\n\n- **Delimiters**: `<!-- rmplan-generated-start/end -->` preserve AI-generated content while allowing manual edits outside\n- **UUID References**: Plans can reference each other by UUID for stable cross-references\n- **Progress Tracking**: A structured `## Progress` section in the plan body, updated in place with a living summary (no timestamps)\n- **Status Flow**: `pending` → `in_progress` → `done` (or `cancelled`/`deferred`)\n\n---\n\n## Core Commands\n\n### generate - Create Plans\n\nGenerate detailed implementation plans from various sources.\n\n**Basic usage:**\n\n```bash\n# From a GitHub issue (automatically fetches issue details)\nrmplan generate --issue 123 -- src/**/*.ts\n\n# From a text file describing the feature\nrmplan generate --plan tasks/feature-description.md -- src/api/**/*.ts\n\n# Using your editor to write the description\nrmplan generate --plan-editor -- src/**/*.ts\n\n# From a Linear issue (requires issueTracker: 'linear' in config)\nrmplan generate --issue TEAM-456 -- src/**/*.ts\n\n# Generate for existing stub plan\nrmplan generate 123 -- src/**/*.ts\n```\n\n**Generation modes:**\n\n```bash\n# Claude Code mode (default - best results)\nrmplan generate --issue 123 --claude -- src/**/*.ts\n# Three-phase process:\n# 1. Planning: Claude analyzes and drafts approach\n# 2. Research: Captures findings to ## Research section\n# 3. Generation: Produces structured tasks\n\n# Simple mode (skip research for quick fixes)\nrmplan generate --issue 123 --simple -- src/**/*.ts\n\n# Direct API mode (uses configured LLM directly)\nrmplan generate --issue 123 --direct -- src/**/*.ts\n```\n\n**Advanced features:**\n\n```bash\n# Discover and create blocking subissues first\nrmplan generate 42 --claude --with-blocking-subissues\n# Creates prerequisite plans automatically\n# Sets up proper parent/dependency relationships\n# Example output:\n# ✓ Created 2 blocking plans: #143 Auth infrastructure, #144 Rate limiting\n\n# Generate for next ready dependency\nrmplan generate --next-ready 100 -- src/**/*.ts\n# Finds next actionable child plan of plan 100\n\n# Auto-commit the generated plan\nrmplan generate --issue 123 --commit -- src/**/*.ts\n```\n\n**How it works:**\n\n1. Loads issue/description and any existing plan stub\n2. If needed, runs `rmfilter` with provided arguments to gather code context. Claude Code and Codex modes skip this\n   step.\n3. Calls LLM (via executor: Claude Code, Codex, direct API, or clipboard)\n4. Extracts YAML plan from response\n5. Writes plan file to configured tasks directory\n6. Optionally commits changes\n\n**Research Phase:**\n\nIn Claude Code mode (default), the research phase:\n\n- Investigates the codebase structure\n- Identifies relevant patterns and dependencies\n- Documents findings in the plan's `## Research` section\n- Provides context for task generation\n\nSkip research with `--simple` when:\n\n- Making trivial changes\n- Plan already has extensive research\n- Time is critical\n\n---\n\n### agent/run - Execute Plans\n\nAutomated execution of plans with LLM integration.\n\n**Basic usage:**\n\n```bash\n# Execute a specific plan\nrmplan agent 123\n\n# Execute using 'run' alias\nrmplan run 123\n\n# Execute next ready plan (all dependencies done)\nrmplan agent --next\n\n# Execute with specific executor\nrmplan agent 123 --executor claude-code\n```\n\n**Execution modes:**\n\n```bash\n# Batch mode (default) - all tasks in parallel\nrmplan agent 123\n\n# Serial mode - one task at a time\nrmplan agent 123 --serial-tasks\n\n# Simple mode - skip full review cycle\nrmplan agent 123 --simple\n# Flow: implement → verify (type check, lint, test)\n# Instead of: implement → test → review\n\n# Limit execution to N steps\nrmplan agent 123 --steps 3\n```\n\n**Workspace integration:**\n\n```bash\n# Auto workspace (finds or creates)\nrmplan agent 123 --auto-workspace\n\n# Manual workspace selection\nrmplan agent 123 --workspace feature-xyz\n\n# Agent command handles:\n# - Creating isolated git clone\n# - Checking out appropriate branch\n# - Running post-clone commands (npm install, etc.)\n# - Locking workspace during execution\n# - Releasing lock on completion\n```\n\n**Execution flow:**\n\nFor each task/step:\n\n1. **Build prompt**: Runs `rmfilter` with configured context\n2. **Execute**: Sends to LLM via executor (Claude Code, Codex CLI, etc.)\n3. **Post-apply**: Runs formatting, linting, tests\n4. **Mark done**: Updates task status\n5. **Commit**: Commits changes with descriptive message\n6. **Progress note**: Records completion with timestamp\n\nStops on:\n\n- Executor failure\n- Post-apply command failure (unless `allowFailure: true`)\n- All tasks complete\n\n**Execution summaries:**\n\nEnabled by default, shows:\n\n- Steps executed and status\n- File changes\n- Timing information\n- Error details\n\n```bash\n# Disable summary\nrmplan agent 123 --no-summary\n\n# Write summary to file\nrmplan agent 123 --summary-file report.txt\n```\n\n**Example output:**\n\n```\nExecution Summary: Implement authentication (3/3 • 100%)\n┌───────────────┬────────────────┐\n│ Plan ID       │ 123            │\n│ Mode          │ serial         │\n│ Steps Executed│ 3              │\n│ Failed Steps  │ 0              │\n│ Files Changed │ 5              │\n│ Duration      │ 1m 12s         │\n└───────────────┴────────────────┘\n\nStep Results\n✔ Set up middleware (claude-code) [#1] 24s\n✔ Add login endpoint (claude-code) [#2] 31s\n✔ Add tests (claude-code) [#3] 17s\n\nFile Changes\n• tasks/123-implement-auth.plan.md\n• src/middleware/auth.ts\n• src/routes/auth.ts\n• tests/auth.test.ts\n```\n\n---\n\n### add - Create Plan Stubs\n\nQuickly create plan stub files for future work.\n\n**Basic usage:**\n\n```bash\n# Create basic stub\nrmplan add \"Implement OAuth authentication\"\n# Creates tasks/<id>-implement-oauth-authentication.yml\n\n# Specify output location\nrmplan add \"Add logging system\" --output tasks/logging.yml\n\n# With priority\nrmplan add \"Fix security issue\" --priority high\n\n# Simple plan (skip research phase)\nrmplan add \"Quick refactor\" --simple\n```\n\n**With relationships:**\n\n```bash\n# Set parent plan\nrmplan add \"Add user roles\" --parent 100\n\n# Set dependencies\nrmplan add \"Integration tests\" --depends-on 101,102\n\n# Mark as discovered from another plan\nrmplan add \"Refactor auth\" --discovered-from 99\n```\n\n**Tag plans:**\n\n```bash\n# Add tags during creation (tags are normalized to lowercase)\nrmplan add \"UI refresh\" --tag frontend --tag urgent\n\n# Update tags later\nrmplan set 123 --tag backend --no-tag frontend\n```\n\nConfigure an allowlist via `tags.allowed` in `rmplan.yml` to restrict tags to a shared vocabulary across the team.\n\nFilter tagged plans in listings:\n\n```bash\nrmplan list --tag frontend --tag urgent\nrmplan list --epic 100\nrmplan ready --tag backend\nrmplan ready --epic 100\n```\n\n**Open in editor:**\n\n```bash\n# Create and immediately edit\nrmplan add \"Complex feature\" --edit\n```\n\n**Use cases:**\n\n- Capture ideas during review/planning\n- Create placeholders for blocking issues\n- Set up plan hierarchy before generating details\n- Quick task creation for known work\n\n**Next step:**\n\nAfter creating stubs, use `rmplan generate <id>` to add detailed tasks.\n\n---\n\n### show - View Plan Details\n\nDisplay plan information, status, and tasks.\n\n**Basic usage:**\n\n```bash\n# Show specific plan\nrmplan show 123\n\n# Show by file path\nrmplan show tasks/feature.yml\n\n# Short summary (status + task titles)\nrmplan show 123 --short\n```\n\n**Plan discovery:**\n\n```bash\n# Show next ready plan (status pending, all deps done)\nrmplan show --next\n\n# Show next ready dependency of parent plan\nrmplan show --next-ready 100\n```\n\n**Full details:**\n\n```bash\n# Show full details\nrmplan show 123 --full\n```\n\n**Example output:**\n\n```\nPlan #123: Implement user authentication\n═══════════════════════════════════════\n\nStatus: in_progress  Priority: high  Simple: false\nParent: #100 (User management system)\nDependencies: #101 (Database schema) ✓ done\n              #102 (Session storage) ✓ done\n\nGoal:\nAdd secure user login and session management\n\nTasks (2/3 done):\n✓ 1. Set up authentication middleware\n✓ 2. Add login endpoint\n  3. Add integration tests\n\nFiles: src/middleware/auth.ts, src/routes/auth.ts\nDocs: docs/security-policy.md\n\nCreated: 2025-01-15 10:00\nUpdated: 2025-01-15 14:30\n```\n\n---\n\n### ready - List Ready Plans\n\nShow all plans ready to execute (dependencies satisfied).\n\n**Basic usage:**\n\n```bash\n# List all ready plans\nrmplan ready\n\n# Pending only (exclude in_progress)\nrmplan ready --pending-only\n\n# Filter by priority\nrmplan ready --priority high\nrmplan ready --priority urgent\n```\n\n**Output formats:**\n\n```bash\n# List format (default, colorful and detailed)\nrmplan ready\n\n# Table format (compact)\nrmplan ready --format table\n\n# JSON (for scripting)\nrmplan ready --format json\n```\n\n**Sorting:**\n\n```bash\n# Sort by priority (default)\nrmplan ready\n\n# Sort by ID\nrmplan ready --sort id\n\n# Sort by title\nrmplan ready --sort title\n\n# Reverse order\nrmplan ready --reverse\n```\n\n**Readiness criteria:**\n\nA plan is ready when:\n\n1. Status is `pending` or `in_progress`\n2. All dependencies have status `done`\n3. Priority is not `maybe`\n\nNote: Includes stub plans without tasks (ready for `rmplan generate`)\n\n**Example output:**\n\n```\nReady Plans (4)\n══════════════\n\n[HIGH] #123 Implement authentication\n  Status: pending • Tasks: 0/3 • Dependencies: 2 done\n  Created: 2025-01-15\n\n[HIGH] #125 Add authorization middleware\n  Status: in_progress • Tasks: 1/2 • Dependencies: 1 done\n  Created: 2025-01-16\n\n[MEDIUM] #130 User profile endpoint\n  Status: pending • Tasks: 0/0 • Dependencies: none\n  Created: 2025-01-17\n\n[LOW] #145 Improve error messages\n  Status: pending • Tasks: 2/5 • Dependencies: 3 done\n  Created: 2025-01-18\n```\n\n**Workflow integration:**\n\n```bash\n# See what's ready\nrmplan ready\n\n# Execute next ready plan\nrmplan agent --next\n\n# Or execute specific ready plan\nrmplan agent 123\n```\n\n---\n\n### renumber - Manage Plan IDs\n\nAutomatically resolve ID conflicts and fix hierarchical ordering, or swap/renumber individual plans.\n\n**Basic usage:**\n\n```bash\n# Auto-resolve conflicts and fix hierarchy\nrmplan renumber\n\n# Preview changes without applying\nrmplan renumber --dry-run\n\n# Only fix ID conflicts, skip hierarchy fixes\nrmplan renumber --conflicts-only\n\n# Preserve specific plans during conflict resolution\nrmplan renumber --keep tasks/5-important.yml\n```\n\n**Swap or renumber individual plans:**\n\n```bash\n# Renumber plan 5 to ID 7 (if 7 doesn't exist)\nrmplan renumber --from 5 --to 7\n\n# Swap two plans (5 becomes 10, 10 becomes 5)\nrmplan renumber --from 5 --to 10\n\n# Preview swap operation\nrmplan renumber --from 5 --to 10 --dry-run\n```\n\n**How it works:**\n\n1. **Conflict resolution**: Identifies plans with duplicate or missing IDs and assigns new unique IDs\n2. **Hierarchy ordering**: Ensures parent plans always have lower IDs than their children\n3. **Reference updates**: Automatically updates all parent, dependency, and discoveredFrom references using UUID tracking\n4. **File renaming**: Renames files matching `{id}-{name}.yml` pattern to reflect new IDs\n\n**When to use:**\n\n- After manually editing plan files and creating ID conflicts\n- When parent plans have higher IDs than children (violates hierarchy convention)\n- To organize plan IDs numerically\n- To swap plan IDs for better organization\n\n**UUID tracking:**\n\nThe `references` field maintains UUID-to-ID mappings for referential integrity:\n\n```yaml\nid: 123\nparent: 100\nreferences:\n  100: 'uuid-of-plan-100' # Survives renumbering\n```\n\n---\n\n## MCP Server\n\nThe MCP (Model Context Protocol) server exposes rmplan functionality for AI agents like Claude Code, enabling interactive research, planning, and task management.\n\n### Prompts\n\nThe server provides structured prompts that guide AI agents through rmplan workflows:\n\n**1. `generate-plan`** - Full planning workflow with research\n\nLoads a plan and guides through:\n\n- Planning phase: Analyze task and draft approach\n- Research phase: Investigate codebase and capture findings\n- Generation phase: Create structured tasks\n\nResearch findings are automatically appended to the plan's `## Research` section.\n\nFor a plan with \"simple: true\", the research phase is skipped. Agents will still do some research on their own.\n\n**4. `plan-questions`** - Collaborative refinement\n\nAsk focused questions to improve plan quality before generation.\n\n**5. `load-plan`** - Display plan and wait for guidance\n\nShows plan details and waits for human instructions.\n\n**6. `compact-plan`** - Summarize completed plans\n\nFor plans with status `done`, `cancelled`, or `deferred`:\n\n- Condenses generated sections\n- Summarizes research\n- Creates archival progress summary\n\n### Tools\n\n**Plan Management:**\n\n**`create-plan`** - Create new plan with metadata\n\n```typescript\n{\n  title: \"Implement OAuth\",\n  priority: \"high\",\n  parent: 100,\n  dependsOn: [101, 102],\n  simple: false\n}\n```\n\n**`get-plan`** - Retrieve plan by ID or path\n\n```typescript\n{\n  plan: '123';\n} // or \"tasks/feature.yml\"\n```\n\n**`update-plan-tasks`** - Merge generated tasks into plan\n\n```typescript\n{\n  plan: \"123\",\n  title: \"Updated title\",\n  goal: \"Refined goal\",\n  details: \"## Implementation notes\\n...\",\n  tasks: [\n    {\n      title: \"Task 1\",\n      description: \"Details...\",\n      done: false,\n    }\n  ]\n}\n```\n\n**`update-plan-details`** - Update generated section content\n\n```typescript\n{\n  plan: \"123\",\n  details: \"## New analysis\\n...\",\n  append: false  // true to append, false to replace\n}\n```\n\n**Task Management:**\n\n**`manage-plan-task`** - Add, update, or remove tasks\n\nAdd task:\n\n```typescript\n{\n  plan: \"123\",\n  action: \"add\",\n  title: \"Add validation\",\n  description: \"Validate user input...\",\n}\n```\n\nUpdate task (by title - recommended):\n\n```typescript\n{\n  plan: \"123\",\n  action: \"update\",\n  taskTitle: \"Add validation\",  // partial match, case-insensitive\n  description: \"Updated description...\",\n  done: true\n}\n```\n\nRemove task:\n\n```typescript\n{\n  plan: \"123\",\n  action: \"remove\",\n  taskTitle: \"Add validation\"  // prefer title over index\n}\n```\n\n**Research:**\n\n**`append-plan-research`** - Add findings to ## Research section\n\n```typescript\n{\n  plan: \"123\",\n  research: \"## Authentication Flow\\n\\nFound existing passport.js setup...\",\n  timestamp: true  // optional, adds timestamp heading\n}\n```\n\n**Discovery:**\n\n**`list-ready-plans`** - Find executable plans\n\n```typescript\n{\n  pendingOnly: false,  // exclude in_progress\n  priority: \"high\",    // filter by priority\n  sortBy: \"priority\",  // or \"id\", \"title\", \"created\", \"updated\"\n  limit: 10\n}\n```\n\nReturns:\n\n```json\n{\n  \"count\": 3,\n  \"plans\": [\n    {\n      \"id\": 123,\n      \"title\": \"Implement auth\",\n      \"priority\": \"high\",\n      \"status\": \"pending\",\n      \"taskCount\": 3,\n      \"completedTasks\": 0,\n      \"dependencies\": [101, 102],\n      \"filePath\": \"tasks/123-implement-auth.yml\"\n    }\n  ]\n}\n```\n\n### Starting the Server\n\n**stdio transport (default):**\n\n```bash\nrmplan mcp-server --mode generate\n```\n\n**HTTP transport:**\n\n```bash\nrmplan mcp-server --mode generate --transport http --port 3000\n```\n\n**With custom config:**\n\n```bash\nrmplan mcp-server --mode generate --config path/to/rmplan.yml\n```\n\n**Prompts/resources only (no tools):**\n\n```bash\nrmplan mcp-server --no-tools\n```\n\n**MCP Client Configuration:**\n\nAdd to your MCP client settings (e.g., Claude Code):\n\n```json\n{\n  \"mcpServers\": {\n    \"rmplan\": {\n      \"command\": \"rmplan\",\n      \"args\": [\"mcp-server\", \"--mode\", \"generate\"]\n    }\n  }\n}\n```\n\n**Example Workflow:**\n\n1. Start server: `rmplan mcp-server --mode generate`\n2. In Claude Code or other MCP client:\n   - \"Use the generate-plan prompt for plan 123\"\n   - Claude researches codebase\n   - \"Can you add a task for input validation?\"\n   - Use `manage-plan-task` tool to add\n   - Review with `get-plan`\n3. Execute: `rmplan agent 123`\n\nIf MCP tools are unavailable, you can call the equivalent CLI commands via `rmplan tools <tool-name>` and pipe JSON input on stdin (use `--json` for structured output).\n\n**Claude Code Plugin:**\n\nThis repository includes a Claude Code plugin that automatically configures the rmplan MCP server and provides a usage skill. To use it, add this repository to your Claude Code plugins:\n\n```bash\n# Run Claude Code with the plugin\nclaude --plugin-dir /path/to/llmutils\n\n# Or add to ~/.claude/settings.json\n{\n  \"plugins\": [\"/path/to/llmutils\"]\n}\n```\n\nThe plugin provides:\n\n- Automatic MCP server configuration (no manual `.mcp.json` needed)\n- A skill that loads when you mention \"rmplan\" or \"generate plan\"\n- Documentation for MCP tools and CLI commands\n\n**Sandbox mode note:**\n\nIf using Claude Code with sandbox mode enabled, you should add `rmplan:*`, or at least `rmplan review:*` to the sandbox `excludedCommands` list in your settings to allow the review command to run without permission prompts.\n\n---\n\n## Workspace Management\n\n### Why Workspaces\n\nWorkspaces isolate plan execution in dedicated git clones to avoid conflicts with your main development environment.\n\n**Benefits:**\n\n- **Safety**: No risk of breaking your working code\n- **Parallelization**: Execute multiple plans simultaneously\n- **Clean state**: Each plan starts with a fresh environment\n- **Experimentation**: Try approaches without affecting main branch\n- **Automatic setup**: Post-clone commands ensure dependencies are installed\n\n**Without workspaces:**\n\n```\nmain-repo/        ← You're editing files here\n├── src/\n│   └── auth.ts   ← Agent might conflict with your changes\n└── tasks/\n```\n\n**With workspaces:**\n\n```\nmain-repo/        ← You keep working here safely\n└── tasks/\n\nworkspaces/\n├── task-123/     ← Agent works here\n│   ├── src/\n│   └── tasks/\n└── task-124/     ← Another agent works here\n    ├── src/\n    └── tasks/\n```\n\n### Workspace Configuration\n\nConfigure in `.rmfilter/config/rmplan.yml`:\n\n```yaml\n# yaml-language-server: $schema=https://raw.githubusercontent.com/dimfeld/llmutils/main/schema/rmplan-config-schema.json\n\nworkspaceCreation:\n  # How to create workspace copies\n  cloneMethod: cp # cp | git | mac-cow\n\n  # Source directory (required for cp/mac-cow)\n  sourceDirectory: /home/user/projects/myapp\n\n  # Repository URL (auto-detected if omitted)\n  repositoryUrl: https://github.com/user/myapp.git\n\n  # Where to create workspaces (REQUIRED)\n  cloneLocation: /home/user/workspaces\n\n  # Extra files to copy (beyond git-tracked files)\n  copyAdditionalGlobs:\n    - .env.local\n    - .env.development\n    - config/local.json\n\n  # Commands to run after creating workspace\n  postCloneCommands:\n    - npm install\n    - npm run build\n    - cp ../.env.local .\n```\n\n**Clone methods:**\n\n- **`cp`**: Fast copy of git-tracked files only\n  - Pros: Very fast, uses minimal disk space\n  - Cons: Requires source directory\n\n- **`git`**: Git worktree (shares .git directory)\n  - Pros: Efficient disk usage, shares git history\n  - Cons: Some operations affect all worktrees\n\n- **`mac-cow`**: macOS copy-on-write (APFS clones)\n  - Pros: Faster, shares unchanged files\n  - Cons: macOS only\n\n### Workspace Commands\n\n**Create workspace:**\n\n```bash\n# Create with plan association\nrmplan workspace add 123\n\n# Create with custom ID\nrmplan workspace add 123 --id feature-oauth\n\n# Create without plan (manual workspace)\nrmplan workspace add --id scratch-work\n\n# Reuse an existing clean, unlocked workspace (fails if none available)\nrmplan workspace add 123 --reuse\n\n# Try reuse first, otherwise create a new workspace\nrmplan workspace add 123 --try-reuse\n\n# Create (or reuse) using a specific base branch\nrmplan workspace add 123 --from-branch develop\n```\n\n**Reuse flags:**\n\n- `--reuse`: Reuse an existing clean, unlocked workspace for the current repo. Fails if no reusable workspace is found.\n- `--try-reuse`: Attempt reuse first; if none are available, create a new workspace instead.\n- `--from-branch`: Base branch to check out before creating or reusing a workspace branch.\n- `--reuse` and `--try-reuse` are mutually exclusive.\n\n**List workspaces:**\n\n```bash\n# All workspaces for current repository (default table format)\nrmplan workspace list\n\n# Specific repository\nrmplan workspace list --repo https://github.com/user/repo.git\n\n# List all workspaces across all repositories\nrmplan workspace list --all\n\n# Different output formats\nrmplan workspace list --format table  # Default, human-readable\nrmplan workspace list --format tsv    # Tab-separated for scripts\nrmplan workspace list --format json   # JSON for programmatic use\n\n# Machine-consumable TSV without header\nrmplan workspace list --format tsv --no-header\n```\n\nExample table output:\n\n```\n+---------------------------+------------+---------------------+-------------+-----------+\n| Path                      | Name       | Description         | Branch      | Status    |\n+---------------------------+------------+---------------------+-------------+-----------+\n| ~/workspaces/task-123     | Auth Work  | #123 Add OAuth      | task-123    | Locked    |\n| ~/workspaces/task-124     | -          | API refactoring     | task-124    | Available |\n+---------------------------+------------+---------------------+-------------+-----------+\n```\n\n**Update workspace metadata:**\n\n```bash\n# Set name and description\nrmplan workspace update --name \"My Workspace\" --description \"Working on feature X\"\n\n# Update by workspace path or task ID\nrmplan workspace update task-123 --description \"Updated description\"\n\n# Seed description from a plan (extracts issue number and title)\nrmplan workspace update --from-plan 456\n# Sets description to \"#456 Plan Title\"\n```\n\n**Interactive workspace switching:**\n\nSet up a shell function for fast workspace navigation with `fzf`:\n\n```bash\n# Generate shell integration function (add to your .zshrc or .bashrc)\nrmplan shell-integration --shell zsh >> ~/.zshrc\n# or for bash:\nrmplan shell-integration --shell bash >> ~/.bashrc\n\n# After sourcing, use the rmplan_ws function:\nrmplan_ws          # Interactive selection with fzf\nrmplan_ws auth     # Pre-filter workspaces matching \"auth\"\n```\n\nThe shell function:\n\n- Uses `fzf` for fuzzy selection\n- Shows workspace name, description, and branch\n- Provides a preview window with full path and details\n- Handles cancellation gracefully\n\n**Using workspaces with agent:**\n\n```bash\n# Auto workspace (finds unlocked or creates new)\nrmplan agent 123 --auto-workspace\n\n# Manual workspace\nrmplan agent 123 --workspace task-123\n\n# Auto workspace handles:\n# 1. Search for existing workspaces\n# 2. Check lock status\n# 3. Detect and clear stale locks (prompts for confirmation)\n# 4. Create new workspace if all are locked\n# 5. Acquire lock\n# 6. Copy plan file to workspace\n# 7. Execute\n# 8. Release lock on completion\n```\n\n**Workspace tracking:**\n\nWorkspaces are tracked in `~/.config/rmplan/workspaces.json`:\n\n```json\n{\n  \"workspaces\": [\n    {\n      \"id\": \"task-123\",\n      \"path\": \"/home/user/workspaces/task-123\",\n      \"taskId\": \"123\",\n      \"repositoryUrl\": \"https://github.com/user/repo.git\",\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"branch\": \"task-123\",\n      \"lock\": {\n        \"pid\": 12345,\n        \"hostname\": \"dev-machine\",\n        \"startedAt\": \"2025-01-15T14:00:00Z\"\n      }\n    }\n  ]\n}\n```\n\n**Lock management:**\n\nLocks prevent concurrent execution in the same workspace:\n\n- **Acquired**: When agent starts\n- **Released**: When agent completes or is interrupted\n- **Stale detection**: Checks if PID still exists\n- **Auto cleanup**: Prompts to clear stale locks\n\n---\n\n## Configuration\n\n### Initializing Configuration\n\nThe easiest way to set up rmplan is with the `init` command:\n\n```bash\n# Interactive setup (recommended for first-time users)\nrmplan init\n\n# Use defaults without prompting\nrmplan init --yes\n\n# Create minimal configuration\nrmplan init --minimal\n\n# Overwrite existing configuration\nrmplan init --force\n```\n\nThe `init` command will:\n\n- Create `.rmfilter/config/rmplan.yml` with sample configuration\n- Set up the tasks directory (default: `tasks/`)\n- Guide you through choosing an executor and other preferences\n- Configure common settings like code formatting commands\n\n### Manual Configuration\n\nYou can also manually configure rmplan via `.rmfilter/config/rmplan.yml`:\n\n```yaml\n# yaml-language-server: $schema=https://raw.githubusercontent.com/dimfeld/llmutils/main/schema/rmplan-config-schema.json\n\n# Paths\npaths:\n  tasks: ./tasks # Where plan files are stored\n  docs: # Extra documentation search paths\n    - ./docs\n    - ./project-docs\n\n# Default executor for agent command\ndefaultExecutor: claude-code # or codex-cli, direct-call, copy-paste\n\n# Default executor for review command\nreview:\n  defaultExecutor: claude-code # or codex-cli, both\n\n# Workspace auto-creation (see Workspace Management section)\nworkspaceCreation:\n  cloneMethod: cp\n  cloneLocation: /path/to/workspaces\n  sourceDirectory: /path/to/source\n  # ... (see workspace section for full config)\n\n# Planning configuration\nplanning:\n  direct_mode: false # Use LLM API directly instead of clipboard\n  claude_mode: true # Use Claude Code for generation (default)\n\n# Post-apply commands (run after each step)\npostApplyCommands:\n  - title: Format Code\n    command: bun run format\n    allowFailure: true\n    hideOutputOnSuccess: true\n\n# Model API keys (custom env vars)\nmodelApiKeys:\n  'anthropic/': 'MY_ANTHROPIC_KEY'\n  'openai/': 'MY_OPENAI_KEY'\n\n# Auto-examples (find patterns in prompts)\nautoexamples:\n  - PostgresTestEnvironment\n  - find: Select\n    example: <Select\n\n# Issue tracker\nissueTracker: github # or 'linear'\n```\n\n### Configuration Files and Precedence\n\nrmplan merges configuration from multiple sources. Later entries override earlier ones:\n\n1. Default configuration (built-in)\n2. Global config: `~/.config/rmplan/config.yml`\n3. Repository config: `.rmfilter/config/rmplan.yml` (or the path provided with `--config`)\n4. Local override: `rmplan.local.yml` (in the same directory as the main config)\n\nUse the global config for machine-wide defaults, and the local override for per-repo tweaks that\nshould not be committed. The global config uses the same schema and fields as the repository\nconfig, so you can copy settings between them.\n\n### Notifications\n\nConfigure an optional notification hook to run a command when agent/review completes or when review\nneeds input:\n\n```yaml\nnotifications:\n  command: /path/to/notify-script\n  workingDirectory: . # Optional, defaults to repo root\n  env:\n    NOTIFY_LEVEL: info\n  enabled: true\n```\n\nFields:\n\n- `command`: Shell command to execute. The notification payload is sent as JSON on stdin.\n- `workingDirectory`: Optional working directory for the command (defaults to repository root).\n- `env`: Optional environment variables to set for the command.\n- `enabled`: Set to `false` to disable notifications.\n\nNotification payload (JSON on stdin):\n\n- `source`: Always `\"rmplan\"`.\n- `command`: `\"agent\"` or `\"review\"`.\n- `event`: `\"agent_done\"`, `\"review_done\"`, or `\"review_input\"`.\n- `status`: `\"success\"`, `\"error\"`, or `\"input\"` to indicate outcome or prompt state.\n- `cwd`: Working directory.\n- `planId`: Plan ID (string).\n- `planFile`: Path to the plan file.\n- `planSummary`: Brief plan summary.\n- `planDescription`: Plan description.\n- `message`: Human-readable message describing the event.\n- `errorMessage`: Error detail for `\"error\"` statuses (when available).\n\nTo suppress notifications for a single run, set `RMPLAN_NOTIFY_SUPPRESS=1` in the environment.\n`rmplan review --dry-run` prints the prompt and skips notifications, while `rmplan agent --dry-run`\nstill sends the completion notification.\n\n### Workspace Auto-Creation\n\nSee [Workspace Management](#workspace-management) section for details.\n\n### Executors\n\nExecutors handle LLM interaction and code application:\n\n**Available executors:**\n\n- **`claude-code`** (recommended): Anthropic's Claude Code CLI\n  - Agent-based workflow\n  - Reads files, applies edits, runs commands\n  - Supports implement/test/review cycle\n\n- **`codex-cli`**: OpenAI Codex CLI\n  - Implement/test/review loop\n  - Auto-retry for planning-only responses\n\n- **`direct-call`**: Direct API calls\n  - Calls any LLM via API\n  - Applies edits automatically\n  - No agent capabilities\n\n- **`copy-paste`** (default): Manual workflow\n  - Copies prompt to clipboard\n  - Waits for you to paste LLM response\n  - Good for web UIs\n\n**Configure executor:**\n\n```yaml\n# In rmplan.yml\ndefaultExecutor: claude-code\n\nexecutors:\n  claude-code:\n    model: anthropic/claude-3.5-sonnet\n    simpleMode: false # Use --simple mode by default\n    permissionsMcp:\n      enabled: false # Interactive permission system\n      autoApproveCreatedFileDeletion: false\n\n  codex-cli:\n    model: openai/gpt-4o\n    simpleMode: false\n\n  direct-call:\n    model: google/gemini-2.5-flash\n```\n\n**Override via CLI:**\n\n```bash\nrmplan agent 123 --executor claude-code --model anthropic/claude-opus\n```\n\n### Post-Apply Commands\n\nRun commands after each step execution (before marking done):\n\n```yaml\npostApplyCommands:\n  - title: Type Check\n    command: bun run check\n    allowFailure: false # Stop execution if this fails\n\n  - title: Format Code\n    command: bun run format\n    allowFailure: true # Continue even if formatting fails\n    hideOutputOnSuccess: true # Only show output on error\n\n  - title: Run Tests\n    command: bun test\n    workingDirectory: apps/api # Run in subdirectory\n    env: # Custom environment variables\n      NODE_ENV: test\n      CI: true\n```\n\n**Use cases:**\n\n- Code formatting (prettier, biome)\n- Linting (eslint, ruff)\n- Type checking (tsc, mypy)\n- Testing (jest, pytest, bun test)\n- Custom validation scripts\n\n### Automatic Documentation Updates\n\nAutomatically update documentation when completing work using the `update-docs` integration:\n\n```yaml\nupdateDocs:\n  mode: never # Options: never (default), after-iteration, after-completion\n  executor: claude-code # Executor to use for doc updates (optional)\n  model: anthropic/claude-3.5-sonnet # Model to use (optional)\n```\n\n**Modes:**\n\n- **`never`** (default): Documentation updates are manual only via `rmplan update-docs ID`\n- **`after-iteration`**: Automatically update docs after each agent loop iteration (before commit)\n- **`after-completion`**: Automatically update docs only when the entire plan is complete\n\nThe `update-docs` command reads the plan's metadata and completed tasks, then asks the executor to find and update relevant documentation files (README.md, CLAUDE.md, docs/, etc.). The executor discovers which files need updating - no manual specification required.\n\n**Manual usage:**\n\n```bash\n# Update docs for a completed plan\nrmplan update-docs 123\n\n# Use specific executor/model\nrmplan update-docs 123 --executor claude-code --model anthropic/claude-opus\n```\n\n### Documentation Search Paths\n\nConfigure where rmplan searches for `.md` and `.mdc` documentation files:\n\n```yaml\npaths:\n  docs:\n    - ./docs\n    - ./project-docs\n    - ../shared-docs\n```\n\nDocumentation files must have YAML frontmatter:\n\n```markdown\n---\ndescription: Authentication patterns\ntype: docs # or 'rules'\nglobs: '*.ts, src/auth/**'\ngrep: auth, login # Match in instructions or source\n---\n\nDocumentation content here...\n```\n\nFiles are included in prompts when:\n\n- Globs match source files\n- Grep terms appear in instructions or source files\n- `alwaysApply: true` in frontmatter\n\n### Model API Keys\n\nUse custom environment variables for API keys:\n\n```yaml\nmodelApiKeys:\n  # Provider-level (all models)\n  'anthropic/': 'MY_ANTHROPIC_KEY'\n  'openai/': 'MY_OPENAI_KEY'\n\n  # Model-specific (overrides provider)\n  'anthropic/claude-3.5-sonnet': 'SONNET_KEY'\n  'google/gemini-2.5-flash': 'GEMINI_KEY'\n```\n\nFalls back to default env vars if custom not found:\n\n- `ANTHROPIC_API_KEY`\n- `OPENAI_API_KEY`\n- `GOOGLE_GENERATIVE_AI_API_KEY`\n\n---\n\n## Advanced Features\n\n### Multi-Workspace Assignments\n\nTrack plan ownership across multiple repository checkouts.\n\n**Configuration:**\n\nAssignments stored in: `~/.config/rmplan/shared/<repo-id>/assignments.json`\n\n**Commands:**\n\n```bash\n# Claim a plan for current workspace\nrmplan claim 123\n\n# Release plan (free it for others)\nrmplan release 123\n\n# Release and reset status to pending\nrmplan release 123 --reset-status\n\n# List assignments\nrmplan assignments list\n\n# Show conflicts (same plan claimed multiple times)\nrmplan assignments show-conflicts\n\n# Clean stale assignments (deleted workspaces, old claims)\nrmplan assignments clean-stale\n```\n\n**Auto-claiming:**\n\nThe `agent`, `generate`, and `run` commands automatically claim plans for the current workspace.\n\n**Filtering ready plans:**\n\n```bash\n# Current workspace + unassigned (default)\nrmplan ready\n\n# All assignments\nrmplan ready --all\n\n# Unassigned only\nrmplan ready --unassigned\n\n# Specific user\nrmplan ready --user alice\n\n# Filter by epic\nrmplan ready --epic 100\n```\n\n**Use cases:**\n\n- Team collaboration on same repository\n- Multiple developers working on different plans\n- CI/CD systems claiming plans for execution\n\nSee `docs/multi-workspace-workflow.md` for details.\n\n### Plan Validation\n\nEnsure plan file integrity and relationship consistency.\n\n**Basic validation:**\n\n```bash\n# Validate all plans in tasks directory\nrmplan validate\n\n# Validate specific plans\nrmplan validate 123 124\n\n# Report only (no auto-fix)\nrmplan validate --no-fix\n\n# Verbose output\nrmplan validate --verbose\n```\n\n**What it checks:**\n\n1. **Schema compliance**: YAML structure matches expected format\n2. **Parent-child consistency**: Bidirectional relationships are correct\n3. **Circular dependencies**: Detects and prevents cycles\n4. **File existence**: Plan files exist at expected paths\n\n**Auto-fixing:**\n\nWhen child plan references parent but parent doesn't include child in dependencies:\n\n```\nFound inconsistency:\n  Plan #123 has parent #100\n  But plan #100 dependencies don't include #123\n\nFixing: Adding #123 to plan #100 dependencies\n```\n\nValidation runs automatically during:\n\n- `rmplan add` with `--parent`\n- `rmplan set` with relationship changes\n- Plan file writes\n\n### Progress Tracking\n\nTrack milestones, deviations, and discoveries in the plan file's `## Progress` section (outside the generated delimiters). This section is a living summary that is updated in place.\n\n**Update the Progress section:**\n\n- Create `## Progress` at the end of the file if it doesn't exist\n- Edit or replace outdated text so it reflects the current reality while preserving meaningful history\n- Do not include timestamps anywhere in the section\n- Describe what progress was made, how, and why (not just testing/review status)\n\n**Recommended template:**\n\n```markdown\n## Progress\n\n### Current State\n\n- ...\n\n### Completed (So Far)\n\n- ...\n\n### Remaining\n\n- ...\n\n### Next Iteration Guidance\n\n- ...\n\n### Decisions / Changes\n\n- ...\n\n### Risks / Blockers\n\n- None\n```\n\n**View progress in CLI:**\n\n```bash\nrmplan show 123\nrmplan show 123 --short\nrmplan show 123 --full\n```\n\n### Plan Compaction\n\nReduce completed plan footprint while preserving key decisions.\n\n**Usage:**\n\n```bash\n# Compact a completed plan\nrmplan compact 144\n\n# Preview without writing\nrmplan compact 144 --dry-run\n\n# Skip confirmation\nrmplan compact 144 --yes\n\n# Custom executor and age threshold\nrmplan compact 144 --executor direct-call --age 14\n```\n\n**What it does:**\n\n1. Condenses generated details (between delimiters)\n2. Summarizes research section\n3. Preserves manual content outside delimiters\n\n**Requirements:**\n\n- Status must be `done`, `cancelled`, or `deferred`\n- Plan must be older than `minimumAgeDays` (default: 30)\n\n**Configuration:**\n\n```yaml\ncompaction:\n  minimumAgeDays: 45\n  defaultExecutor: claude-code\n  defaultModel: anthropic/claude-3.5-sonnet\n```\n\n---\n\n## Supporting Tools\n\n### rmfilter\n\nContext gathering wrapper around repomix for creating LLM prompts.\n\n**Basic usage:**\n\n```bash\n# Gather files matching patterns\nrmfilter src/**/*.ts tests/**/*.ts\n\n# With instructions\nrmfilter src/auth/**/*.ts --instructions \"Add JWT validation\" --copy\n\n# Include import trees\nrmfilter src/auth.ts --with-imports\n\n# With grep filters\nrmfilter src/**/*.ts --grep \"auth\" --grep \"login\"\n\n# Add test files\nrmfilter src/feature.ts --with-tests\n```\n\n**Presets:**\n\nCreate reusable configurations in `.rmfilter/`:\n\n```yaml\n# .rmfilter/auth.yml\nedit-format: diff\ncopy: true\ninstructions: Update authentication logic\ncommands:\n  - globs: ['src/auth/**/*.ts']\n    with-imports: true\n    with-tests: true\n```\n\nUse with:\n\n```bash\nrmfilter --preset auth\n```\n\n**MDC file support:**\n\nAutomatically includes `.mdc` documentation files from:\n\n- `.cursor/rules/`\n- `~/.config/rmfilter/rules/`\n- Paths configured in `paths.docs`\n\nBased on glob/grep frontmatter matching.\n\n### apply-llm-edits\n\nApply LLM-generated code changes to your repository.\n\n**Usage:**\n\n```bash\n# From clipboard (OSC52 support for SSH)\napply-llm-edits\n\n# From stdin\ncat changes.txt | apply-llm-edits --stdin\n\n# Dry run (preview changes)\napply-llm-edits --dry-run\n\n# With custom working directory\napply-llm-edits --cwd /path/to/project\n```\n\n**Workflow:**\n\n1. Run `rmfilter` and copy output\n2. Paste to LLM (web UI or API)\n3. Copy LLM response\n4. Run `apply-llm-edits`\n5. Review and commit changes\n\n### rmfind\n\nAI-powered file search with interactive selection.\n\n**Usage:**\n\n```bash\n# Basic glob search with fzf\nrmfind src/**/*.ts\n\n# With content grep\nrmfind src/**/*.ts --grep auth --grep login\n\n# Natural language query (requires LLM)\nrmfind src/**/*.ts --query \"files handling user authentication\"\n\n# Output as YAML array\nrmfind src/**/*.ts --yaml\n\n# Whole-word matching\nrmfind src/**/*.ts --grep getUserData --whole-word\n```\n\n**Requirements:**\n\n- `fzf` for interactive selection\n- `bat` for syntax-highlighted previews\n- `ripgrep` for content filtering\n- LLM API access for `--query`\n\n---\n\n## Complete Command Reference\n\n### Plan Lifecycle\n\n```bash\n# Create stub\nrmplan add \"Feature name\" [--output FILE] [--parent ID] [--priority LEVEL] [--tag TAG...]\n\n# Generate detailed tasks\nrmplan generate [--issue NUM | --plan FILE | --plan-editor] -- [RMFILTER_ARGS]\nrmplan generate ID -- [RMFILTER_ARGS]\n\n# Execute plan\nrmplan agent ID [--executor NAME] [--workspace ID] [--steps N]\nrmplan run ID  # alias for agent\n\n# Track progress\nrmplan show ID [--short | --full]\n\n# Mark complete\nrmplan done ID [--commit]\n\n# Update documentation\nrmplan update-docs ID [--executor NAME] [--model MODEL]\n\n# Compact for archival\nrmplan compact ID [--dry-run] [--yes]\n```\n\n### Plan Discovery\n\n```bash\n# List all plans\nrmplan list [--all] [--status STATUS] [--sort FIELD] [--tag TAG...] [--epic ID]\n\n# List ready plans\nrmplan ready [--pending-only] [--priority LEVEL] [--format FORMAT] [--tag TAG...] [--epic ID]\n\n# Show next ready\nrmplan show --next\nrmplan show --next-ready PARENT_ID\n\n# Execute next ready\nrmplan agent --next\nrmplan agent --next-ready PARENT_ID\n```\n\nUse `--tag` (repeatable) with `rmplan list` or `rmplan ready` to filter for plans that include any of the specified tags. Tag filters are case-insensitive and ignore plans without tags.\nUse `--epic ID` with `rmplan list` or `rmplan ready` to show plans that live under a specific epic (or any parent plan in that hierarchy).\n\n### Plan Management\n\n```bash\n# Set metadata\nrmplan set ID --parent PARENT --priority LEVEL --status STATUS [--tag TAG...] [--no-tag TAG...]\n\n# Add/remove tasks\nrmplan add-task ID --title \"Title\" --description \"Desc\" [--files FILE]\nrmplan remove-task ID --title \"Title\"\n\n# Import from issues\nrmplan import [--issue NUM] [--output FILE]\nrmplan import  # interactive multi-select\n\n# Validate\nrmplan validate [PLANS...] [--no-fix] [--verbose]\n\n# Renumber plans\nrmplan renumber [--dry-run] [--conflicts-only] [--keep FILES...]\nrmplan renumber --from ID --to ID [--dry-run]  # Swap or renumber single plan\n\n# Split into phases\nrmplan split PLAN --output-dir DIR\n```\n\n### Workspace Management\n\n```bash\n# Create workspace\nrmplan workspace add [ID] [--id WORKSPACE_ID]\n\n# List workspaces\nrmplan workspace list [--repo URL] [--format table|tsv|json] [--all] [--no-header]\n\n# Update workspace metadata\nrmplan workspace update [WORKSPACE] --name NAME --description DESC\nrmplan workspace update --from-plan PLAN_ID\n\n# Shell integration (interactive workspace switching with fzf)\nrmplan shell-integration --shell bash|zsh\n\n# Assignments\nrmplan claim ID\nrmplan release ID [--reset-status]\nrmplan assignments list\nrmplan assignments clean-stale\n```\n\n### MCP Server\n\n```bash\n# Start server\nrmplan mcp-server --mode generate [--transport TRANSPORT] [--port PORT]\n\n# Print MCP prompts from the CLI\nrmplan prompts\nrmplan prompts generate-plan 123\nrmplan prompts generate-plan-simple --plan 123\nrmplan prompts plan-questions 123\nrmplan prompts load-plan 123\nrmplan prompts compact-plan 123\n```\n\n### Utilities\n\n```bash\n# Cleanup comments\nrmplan cleanup [FILES...] [--diff-from BRANCH]\n\n# Answer PR comments\nrmplan answer-pr [PR] [--mode MODE] [--commit] [--comment]\n\n# Extract plan from text\nrmplan extract [--input FILE] [--output FILE]\n```\n\n---\n\n## Acknowledgements\n\n- [repomix](https://github.com/yamadashy/repomix) and [ripgrep](https://github.com/BurntSushi/ripgrep) for context gathering\n- [Aider](https://github.com/Aider-AI/aider) for edit application patterns\n- Plan generation approach inspired by [harper.blog](https://harper.blog/2025/02/16/my-llm-codegen-workflow-atm/)\n"
      },
      "plugins": [
        {
          "name": "rmplan",
          "source": "./claude-plugin",
          "description": null,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add dimfeld/llmutils",
            "/plugin install rmplan@rmplan"
          ]
        }
      ]
    }
  ]
}