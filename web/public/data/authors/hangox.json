{
  "author": {
    "id": "hangox",
    "display_name": "hangox",
    "avatar_url": "https://avatars.githubusercontent.com/u/1767826?v=4"
  },
  "marketplaces": [
    {
      "name": "claude-portainer-plugin",
      "version": null,
      "description": "Portainer CE container management plugin for Claude Code. Manage Docker containers, stacks, images, networks, and volumes through Portainer REST API.",
      "repo_full_name": "hangox/claude-portainer-plugin",
      "repo_url": "https://github.com/hangox/claude-portainer-plugin",
      "repo_description": "Claude Code plugin for Portainer CE container management via REST API",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-21T13:27:57Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-portainer-plugin\",\n  \"owner\": {\n    \"name\": \"hangox\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"portainer\",\n      \"source\": \"./\",\n      \"description\": \"Portainer CE container management plugin for Claude Code. Manage Docker containers, stacks, images, networks, and volumes through Portainer REST API.\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"hangox\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [\n        \"portainer\",\n        \"docker\",\n        \"container\",\n        \"devops\",\n        \"infrastructure\"\n      ]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"portainer\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Portainer CE container management plugin for Claude Code. Manage Docker containers, stacks, images, networks, and volumes through Portainer REST API.\",\n  \"author\": {\n    \"name\": \"hangox\",\n    \"url\": \"https://github.com/hangox\"\n  }\n}\n",
        "README.md": "# claude-portainer-plugin\n\nClaude Code 插件，通过 Portainer REST API 管理 Docker 容器和服务。\n\n## 功能\n\n- **环境管理** — 列出、查看 Portainer 环境和连接状态\n- **Stack 全生命周期** — 创建、更新、启停、删除、Webhook 重部署、Git 重部署\n- **容器管理** — 列出、启停重启、查看日志和资源统计\n- **镜像管理** — 列出、拉取、删除、清理未使用镜像\n- **网络和卷** — CRUD 操作和资源清理\n- **Swarm 服务** — 列出、更新、查看日志\n- **系统监控** — Docker 信息、磁盘使用、系统清理\n- **Webhook 管理** — 创建、触发、管理 Webhook\n\n## 前置要求\n\n- [Claude Code](https://claude.ai/code) CLI\n- Portainer CE 2.19+（已验证 2.24.1 和 2.33.7）\n- Portainer API Key 或管理员账号\n\n## 安装\n\n```bash\n# 克隆到 Claude Code 插件目录\ngit clone https://github.com/hangox/claude-portainer-plugin.git ~/.claude/plugins/claude-portainer-plugin\n```\n\n重启 Claude Code 后插件自动生效。\n\n## 配置\n\n插件按以下优先级自动获取 Portainer 连接信息：\n\n### 方式一：环境变量（推荐）\n\n```bash\nexport PORTAINER_URL=\"https://portainer.example.com\"\nexport PORTAINER_API_KEY=\"ptr_your_api_key_here\"\nexport PORTAINER_ENDPOINT_ID=\"1\"  # 可选，默认 1\n```\n\n### 方式二：项目 CLAUDE.md\n\n在项目的 `CLAUDE.md` 中添加 Portainer 配置段落：\n\n```markdown\n## Portainer 信息\n- 管理地址: https://portainer.example.com\n- Portainer ID: 2\n```\n\n### 方式三：交互式引导\n\n首次使用时，插件会自动询问 Portainer URL 和认证信息。\n\n## 使用示例\n\n```\n\"列出所有 stack\"\n\"部署这个 docker-compose.yml 到 Portainer\"\n\"重启 nginx 容器\"\n\"查看 redis 的日志\"\n\"触发 webhook 重新部署 my-stack\"\n\"清理未使用的镜像\"\n\"查看 Docker 磁盘使用情况\"\n```\n\n## 生成 API Key\n\n1. 登录 Portainer Web UI\n2. 点击头像 → **My Account**\n3. 滚动到 **Access tokens** 部分\n4. 点击 **Add access token**，输入描述，点击创建\n5. 复制生成的 `ptr_` 开头的 API Key\n\n## 测试\n\n项目包含自动化测试，使用 Docker 启动独立的 Portainer 测试环境：\n\n```bash\ncd tests\nnpm install\nnpx tsx run-tests.ts    # 一键运行（自动 setup + test + teardown）\n```\n\n测试覆盖：28 个用例（14 P0 + 10 P1 + 3 错误处理 + 1 清理），0 失败。\n\n## 版本兼容性\n\n| Portainer 版本 | 状态 |\n|---------------|------|\n| CE 2.33.7 | 已验证 |\n| CE 2.24.1 | 已验证（自动化测试） |\n| CE 2.19+ | 最低支持 |\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "portainer",
          "source": "./",
          "description": "Portainer CE container management plugin for Claude Code. Manage Docker containers, stacks, images, networks, and volumes through Portainer REST API.",
          "version": "1.0.0",
          "author": {
            "name": "hangox"
          },
          "license": "MIT",
          "keywords": [
            "portainer",
            "docker",
            "container",
            "devops",
            "infrastructure"
          ],
          "categories": [
            "container",
            "devops",
            "docker",
            "infrastructure",
            "portainer"
          ],
          "install_commands": [
            "/plugin marketplace add hangox/claude-portainer-plugin",
            "/plugin install portainer@claude-portainer-plugin"
          ]
        }
      ]
    }
  ]
}