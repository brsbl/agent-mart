{
  "author": {
    "id": "kazuph",
    "display_name": "Kazuhiro Homma",
    "avatar_url": "https://avatars.githubusercontent.com/u/849165?v=4"
  },
  "marketplaces": [
    {
      "name": "reviw-plugins",
      "version": null,
      "description": "reviw - Browser-based file review tool with YAML output",
      "repo_full_name": "kazuph/reviw",
      "repo_url": "https://github.com/kazuph/reviw",
      "repo_description": "Human-in-the-loop review interface for AI coding workflows",
      "signals": {
        "stars": 16,
        "forks": 0,
        "pushed_at": "2026-01-31T23:37:43Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"reviw-plugins\",\n  \"owner\": {\n    \"name\": \"kazuph\",\n    \"url\": \"https://github.com/kazuph\"\n  },\n  \"description\": \"reviw - Browser-based file review tool with YAML output\",\n  \"plugins\": [\n    {\n      \"name\": \"reviw-plugin\",\n      \"source\": \"./plugin\",\n      \"description\": \"reviw CLI integration for Claude Code - task management, review workflow, and report generation\"\n    }\n  ]\n}\n",
        "README.md": "<p align=\"center\">\n  <img src=\"https://raw.githubusercontent.com/kazuph/reviw/main/assets/logo.svg\" alt=\"reviw - Human-in-the-loop Review\" width=\"600\">\n</p>\n\n<p align=\"center\">\n  <strong>Human-in-the-loop review interface for AI coding workflows</strong>\n</p>\n\n<p align=\"center\">\n  <a href=\"https://www.npmjs.com/package/reviw\"><img src=\"https://img.shields.io/npm/v/reviw.svg\" alt=\"npm version\"></a>\n  <a href=\"https://github.com/kazuph/reviw/blob/main/LICENSE\"><img src=\"https://img.shields.io/npm/l/reviw.svg\" alt=\"license\"></a>\n  <a href=\"./README.ja.md\">日本語</a>\n</p>\n\n---\n\n> [!WARNING]\n> **Alpha Software**: This project is in active development. Expect breaking changes, API instability, and incomplete features. Use at your own risk in production environments.\n\n---\n\n# reviw\n\nA lightweight browser-based tool for reviewing and annotating tabular data, text, Markdown, and diff files. Supports CSV, TSV, plain text, Markdown, and unified diff formats. Comments are output as YAML to stdout.\n\n## Features\n\n### File Format Support\n- **CSV/TSV**: View tabular data with sticky headers, column freezing, filtering, and column resizing\n- **Markdown**: Side-by-side preview with synchronized scrolling, click-to-comment from preview\n- **Diff/Patch**: GitHub-style diff view with syntax highlighting, collapsible large files (500+ lines), and binary files sorted to end\n- **Text**: Line-by-line commenting for plain text files\n\n### Mermaid.js Diagrams\n- Auto-detect and render Mermaid diagrams in Markdown files\n- Click any diagram to open fullscreen viewer\n- Zoom with mouse wheel (centered on cursor position, up to 10x)\n- Pan with mouse drag\n- Syntax error display in toast notifications\n\n### Media Fullscreen\n- Click images in Markdown preview to open fullscreen viewer\n- Click videos to open fullscreen playback with native controls\n- Click anywhere (including the image/video itself) to close the fullscreen overlay\n- Clicking media automatically highlights the corresponding source line in the Markdown panel\n\n### UI Features\n- **Theme toggle**: Switch between light and dark modes\n- **Multi-file support**: Open multiple files simultaneously on separate ports\n- **Drag selection**: Select rectangular regions or multiple rows for batch comments\n- **Real-time updates**: Hot reload on file changes via SSE\n- **Comment persistence**: Auto-save comments to localStorage with recovery modal\n- **Keyboard shortcuts**: Cmd/Ctrl+Enter to open submit modal\n- **Multi-tab sync**: Submit from any tab closes all tabs for the same file\n- **Server detection**: Reuse existing server instead of starting a new one (via lock files)\n- **Tab activation (macOS)**: Automatically activates existing browser tab via AppleScript\n\n### Output\n- YAML format with file, mode, row, col, value, and comment text\n- Overall summary field for review notes\n\n## Installation\n\n```bash\nnpm install -g reviw\n```\n\nOr run directly with npx:\n\n```bash\nnpx reviw <file>\n```\n\n## Usage\n\n```bash\n# Single file\nreviw <file> [--port 4989] [--encoding utf8|shift_jis|...]\n\n# Multiple files (each opens on consecutive ports)\nreviw file1.csv file2.md file3.tsv --port 4989\n\n# Diff from stdin\ngit diff HEAD | reviw\n\n# Diff file\nreviw changes.diff\n```\n\n### Options\n- `--port <number>`: Specify starting port (default: 4989)\n- `--encoding <encoding>`: Force specific encoding (auto-detected by default)\n- `--no-open`: Prevent automatic browser opening\n- `--help, -h`: Show help message\n- `--version, -v`: Show version number\n\n### Workflow\n1. Browser opens automatically (macOS: `open` / Linux: `xdg-open` / Windows: `start`)\n2. Click cells/lines to add comments, or drag to select multiple\n3. Use Cmd/Ctrl+Enter or click \"Submit & Exit\" to output comments\n4. Comments are printed as YAML to stdout\n\n## Screenshots\n\n### CSV View\n![CSV View](https://raw.githubusercontent.com/kazuph/reviw/main/assets/screenshot-csv.png)\n\n### Markdown View\n![Markdown View](https://raw.githubusercontent.com/kazuph/reviw/main/assets/screenshot-md.png)\n\n### Diff View\n![Diff View](https://raw.githubusercontent.com/kazuph/reviw/main/assets/screenshot-diff.png)\n\n### Mermaid Fullscreen\n![Mermaid Fullscreen](https://raw.githubusercontent.com/kazuph/reviw/main/assets/screenshot-mermaid.png)\n\n### Submit Review Dialog\n![Submit Review Dialog](https://raw.githubusercontent.com/kazuph/reviw/main/assets/screenshot-submit-dialog.png)\n\n## Output Example\n\n```yaml\nfile: data.csv\nmode: csv\nreason: button\nat: '2025-11-26T12:00:00.000Z'\ncomments:\n  - row: 2\n    col: 3\n    text: This value needs review\n    value: '150'\nsummary: Overall the data looks good, minor issues noted above.\n```\n\n## Claude Code Plugin\n\nThis repository also serves as a Claude Code plugin marketplace. The plugin integrates reviw into Claude Code workflows with task management and review automation.\n\n### Installation\n\n```bash\n# In Claude Code\n/plugin marketplace add kazuph/reviw\n/plugin install reviw-plugin@reviw-marketplace\n```\n\n### Plugin Directory Structure\n\n```\nplugin/\n├── .claude-plugin/\n│   └── plugin.json          # Plugin metadata (name, version, description)\n├── commands/\n│   ├── do.md                 # /reviw:do command definition\n│   └── done.md               # /reviw:done command definition\n├── agents/\n│   ├── report-builder.md     # Report generation agent\n│   ├── e2e-health-reviewer.md    # E2E test health check\n│   ├── review-code-quality.md    # Code quality review\n│   ├── review-security.md        # Security audit\n│   ├── review-a11y-ux.md         # Accessibility & UX\n│   ├── review-figma-fidelity.md  # Design fidelity\n│   ├── review-copy-consistency.md # Text consistency\n│   └── review-e2e-integrity.md   # E2E test integrity\n├── skills/\n│   ├── artifact-proof/\n│   │   └── SKILL.md          # Evidence collection skill\n│   └── webapp-testing/\n│       ├── SKILL.md          # Web testing skill\n│       ├── scripts/          # Helper scripts\n│       └── examples/         # Usage examples\n├── hooks/\n│   └── hooks.json            # Hook definitions\n├── hooks-handlers/\n│   └── completion-checklist.sh  # UserPromptSubmit handler\n└── README.md\n```\n\n### Components Overview\n\n| Type | Name | Description |\n|------|------|-------------|\n| **Command** | `/reviw:do` | Start a task - create worktree with git wt, plan, register todos |\n| **Command** | `/reviw:done` | Complete checklist - run 7 review agents, collect evidence, start review |\n| **Agent** | `report-builder` | Prepare reports and evidence for user review |\n| **Agent** | `review-code-quality` | Code quality: readability, DRY, type safety, error handling |\n| **Agent** | `review-security` | Security: XSS, injection, OWASP Top 10, secrets detection |\n| **Agent** | `review-a11y-ux` | Accessibility: WCAG 2.2 AA, keyboard nav, UX flow |\n| **Agent** | `review-figma-fidelity` | Design: token compliance, visual consistency |\n| **Agent** | `review-copy-consistency` | Copy: text consistency, tone & manner, i18n |\n| **Agent** | `review-e2e-integrity` | E2E: user flow reproduction, mock contamination |\n| **Agent** | `e2e-health-reviewer` | E2E: goto restrictions, record assertions, hardcoding |\n| **Skill** | `artifact-proof` | Collect evidence (screenshots, videos, logs) |\n| **Skill** | `webapp-testing` | Browser automation and verification with Playwright |\n| **Hook** | PreToolUse | Remind to review before git commit/push |\n| **Hook** | UserPromptSubmit | Inject completion checklist into AI context |\n\n---\n\n### Commands\n\n#### `/reviw:do <task description>`\n\nStarts a new task with proper environment setup.\n\n**What it does:**\n1. Creates a git worktree using git wt for isolated development (`feature/<name>`, `fix/<name>`, etc.)\n2. Sets up `.artifacts/<feature>/` directory for evidence\n3. Creates `REPORT.md` with plan and TODO checklist\n4. Registers todos in TodoWrite for progress tracking\n\n**Directory structure created:**\n```\n<worktree>/                   # e.g., .worktree/feature-auth/\n└── .artifacts/\n    └── <feature>/            # e.g., auth (from feature/auth)\n        ├── REPORT.md         # Plan, progress, evidence links\n        ├── images/           # Screenshots\n        └── videos/           # Video recordings\n```\n\n**Task resumption:** When a session starts or after context compaction, the command checks for existing worktrees (via `git wt`) and resumes from `REPORT.md`.\n\n#### `/reviw:done`\n\nValidates completion criteria before allowing task completion.\n\n**Checklist enforced:**\n- [ ] Build succeeded (no type/lint errors)\n- [ ] Development server started and working\n- [ ] Verified with `webapp-testing` skill\n- [ ] Evidence collected in `.artifacts/<feature>/`\n- [ ] Report created with `artifact-proof` skill\n- [ ] Reviewed with reviw (foreground mode)\n- [ ] User approval received\n\n**Prohibited:**\n- Saying \"implementation complete\" without verification\n- Committing/pushing before reviw review\n- Reports without evidence\n\n---\n\n### Agents\n\n#### Review Agents (7 agents run in parallel)\n\nWhen `/reviw:done` is executed, 7 review agents run simultaneously and append their findings to `REPORT.md`:\n\n| Agent | Focus | Output Section |\n|-------|-------|----------------|\n| `review-code-quality` | Readability, DRY, type safety, error handling | Code Quality Review |\n| `review-security` | XSS, injection, OWASP Top 10, secrets | Security Review |\n| `review-a11y-ux` | WCAG 2.2 AA, keyboard nav, focus management | A11y & UX Review |\n| `review-figma-fidelity` | Design tokens, visual consistency | Figma Fidelity Review |\n| `review-copy-consistency` | Text consistency, i18n, tone & manner | Copy Consistency Review |\n| `review-e2e-integrity` | User flow reproduction, mock contamination | E2E Integrity Review |\n| `e2e-health-reviewer` | goto restrictions, record assertions | E2E Health Review |\n\n**Total score:** Each agent scores X/5, combined for X/35 total.\n\n**Invocation (parallel):**\n```\nTask tool with 7 parallel calls:\n  subagent_type: \"review-code-quality\"\n  subagent_type: \"review-security\"\n  subagent_type: \"review-a11y-ux\"\n  subagent_type: \"review-figma-fidelity\"\n  subagent_type: \"review-copy-consistency\"\n  subagent_type: \"review-e2e-integrity\"\n  subagent_type: \"e2e-health-reviewer\"\n```\n\n#### `report-builder`\n\nSpecialized agent for preparing review materials (runs after review agents).\n\n**Role:**\n- Organize implementation into a structured report\n- Calculate total review score (X/35)\n- Collect and arrange evidence (screenshots, videos)\n- Prepare `REPORT.md` for reviw review\n- Parse reviw feedback and register as todos\n\n**Invocation:**\n```\nTask tool with subagent_type: \"report-builder\"\n```\n\n**Skills auto-loaded:** `artifact-proof`\n\n---\n\n### Skills\n\n#### `artifact-proof`\n\nManages evidence collection for visual regression and PR documentation.\n\n**Features:**\n- Screenshots and videos under `.artifacts/<feature>/`\n- Playwright integration for automated capture\n- Git LFS setup for video files\n- PR image URLs with commit hashes (persist after branch deletion)\n\n**reviw integration:**\n```bash\n# Open report in reviw (foreground required)\nnpx reviw .artifacts/<feature>/REPORT.md\n\n# With video preview\nopen .artifacts/<feature>/videos/demo.webm\nnpx reviw .artifacts/<feature>/REPORT.md\n```\n\n#### `webapp-testing`\n\nBrowser automation toolkit using Playwright.\n\n**Features:**\n- TypeScript Playwright Test (`@playwright/test`)\n- Playwright configuration with webServer support\n- Screenshot and video capture\n- Console log and network request monitoring\n- CDP integration for advanced debugging\n\n**Quick verification:**\n```bash\nnode -e \"const { chromium } = require('playwright');\n(async () => {\n  const browser = await chromium.launch();\n  const page = await browser.newPage();\n  await page.goto('http://localhost:3000', { waitUntil: 'networkidle' });\n  await page.screenshot({ path: '/tmp/webapp.png', fullPage: true });\n  await browser.close();\n})();\"\n```\n\n---\n\n### Hooks\n\n#### PreToolUse (Bash matcher)\n\nTriggers when `git commit` or `git push` is detected.\n\n**Message:** Reminds to run `/reviw:done` and review with reviw before committing.\n\n#### UserPromptSubmit\n\nInjects completion checklist into every AI response context.\n\n**Purpose:** Prevents \"implementation complete\" claims without proper verification. The checklist is always visible to the AI, ensuring consistent enforcement of completion criteria.\n\n---\n\n### Workflow\n\n```\n/reviw:do <task description>\n    ↓\nCreate worktree + Plan + TodoWrite\n    ↓\nImplementation (via subagents)\n    ↓\nBuild & Verify (webapp-testing)\n    ↓\n/reviw:done\n    ↓\n┌─────────────────────────────────────────────┐\n│  7 Review Agents (parallel execution)       │\n│                                             │\n│  review-code-quality ──┐                    │\n│  review-security ──────┤                    │\n│  review-a11y-ux ───────┼──→ REPORT.md      │\n│  review-figma-fidelity ┤    (append)        │\n│  review-copy-consistency                    │\n│  review-e2e-integrity ─┤                    │\n│  e2e-health-reviewer ──┘                    │\n└─────────────────────────────────────────────┘\n    ↓\nreport-builder (organize + score)\n    ↓\nCollect evidence (artifact-proof)\n    ↓\nnpx reviw opens report (foreground)\n    ↓\nUser comments → Submit & Exit\n    ↓\nRegister feedback to Todo\n    ↓\nFix → Re-review until approved\n    ↓\nCommit & PR (only after approval)\n```\n\n### Completion Criteria\n\n| Stage | Content | Status |\n|-------|---------|--------|\n| 1/3 | Implementation complete | Do not report yet |\n| 2/3 | Build, start, verification complete | Do not report yet |\n| 3/3 | Review with reviw → User approval | Now complete |\n\n### Design Philosophy\n\nThe plugin enforces **human-in-the-loop** development:\n\n1. **No shortcuts:** Mocks, bypasses, and skipped verifications are prohibited\n2. **Evidence required:** Every completion claim must have screenshots/videos\n3. **User approval:** Only the user can mark a task as complete\n4. **Context preservation:** Heavy operations run in subagents to prevent context exhaustion\n\n### `.artifacts` Directory Policy\n\nThe `.artifacts/` directory stores screenshots, videos, and reports generated during development. **By default, this directory should be added to `.gitignore`** to prevent repository bloat from large media files.\n\n```bash\n# Add to .gitignore (recommended)\necho \".artifacts\" >> .gitignore\n```\n\n**Why ignore by default:**\n- Screenshots and videos can be large (especially screen recordings)\n- Evidence is primarily for the review process, not permanent documentation\n- Keeps repository size manageable\n\n**If you need to commit specific evidence:**\n\nUse `git add --force` to explicitly add files you want to preserve:\n\n```bash\n# Force add specific evidence files\ngit add --force .artifacts/feature/images/final-screenshot.png\ngit add --force .artifacts/feature/REPORT.md\n\n# Or force add an entire feature's evidence\ngit add --force .artifacts/feature/\n```\n\n**For video files**, use Git LFS to avoid bloating the repository:\n\n```bash\ngit lfs track \"*.mp4\" \"*.webm\" \"*.mov\"\ngit add .gitattributes\ngit add --force .artifacts/feature/videos/demo.mp4\n```\n\nThis approach gives you full control: ignore by default, commit only what matters.\n\n## Development\n\n- Main source: `cli.cjs`\n- Tests: `npm test` (vitest + playwright)\n- Plugin: `plugin/` directory\n\n## License\n\nMIT\n",
        "plugin/README.md": "# reviw Plugin for Claude Code\n\nreviw CLI ツールを Claude Code と連携させるプラグインです。タスク管理、レビューワークフロー、報告書作成を効率化します。\n\n## インストール\n\n```bash\n# Claude Code で実行\n/plugin marketplace add kazuph/reviw\n/plugin install reviw-plugin@reviw-plugins\n```\n\n## 更新\n\nプラグインを最新版に更新するには、一度アンインストールしてから再インストールしてください：\n\n```bash\nclaude plugin uninstall reviw-plugin@reviw-plugins\nclaude plugin install reviw-plugin@reviw-plugins\n```\n\n※ 新しいエージェントや機能を反映するには、Claude Code の再起動も必要です。\n\n## 旧マーケットプレイス名からの移行\n\n`reviw-marketplace`（旧名）を使用していた場合は、以下で削除してください：\n\n```bash\n# 旧プラグインのアンインストール\nclaude plugin uninstall reviw-plugin@reviw-marketplace\n\n# 旧マーケットプレイスの削除（どちらか一方を実行）\n/plugin marketplace remove reviw-marketplace          # Claude Code内で実行\nclaude plugin marketplace remove reviw-marketplace    # ターミナルで実行\n```\n\nその後、上記の「インストール」セクションの手順で再インストールしてください。\n\n## 機能一覧\n\n### Commands（スラッシュコマンド）\n\n| コマンド | 説明 |\n|---------|------|\n| `/reviw:do <タスク説明>` | タスク開始 - git wt で worktree 作成、計画策定、Todo 登録 |\n| `/reviw:done` | タスク完了チェック - エビデンス収集、reviw でレビュー開始 |\n\n### Agents（サブエージェント）\n\n| エージェント | 説明 |\n|-------------|------|\n| `report-builder` | レビューしてもらうための報告書・エビデンス整理専門 |\n| `e2e-health-reviewer` | E2Eテストの健全性レビュー（goto制限、レコードアサーション、ハードコード検出） |\n\n使用方法:\n```\nTask ツールで subagent_type: \"report-builder\" を指定\nTask ツールで subagent_type: \"e2e-health-reviewer\" を指定\n（/done時は両方を並列実行）\n```\n\n### Skills（自動参照スキル）\n\n| スキル | 説明 |\n|--------|------|\n| `artifact-proof` | エビデンス収集（スクショ・動画・ログ）+ reviw でのレビューワークフロー |\n\n### Hooks（自動フック）\n\n| イベント | 動作 |\n|---------|------|\n| `PreToolUse` (git commit/push) | reviw でのレビュー完了確認リマインダー |\n| `UserPromptSubmit` | **完了報告前チェックリスト**（AIへのカンペ） |\n\n#### UserPromptSubmit hook の詳細\n\nユーザーがメッセージを送信した直後、AIが応答を生成する**前**に、以下のチェックリストがAIのコンテキストに追加されます（ユーザーには見えません）：\n\n- 実装完了（1/3）: ビルド成功・型エラーなし\n- 動作検証完了（2/3）: 開発サーバー起動・webapp-testing で検証\n- レビュー完了（3/3）: エビデンス収集・/done 実行・reviw でレビュー・ユーザー承認\n\nこれにより、AIが「実装しました！」だけで完了報告することを防ぎ、reviw のワークフローに従うよう促します。\n\n## ワークフロー\n\n```\n/reviw:do <タスク説明>\n    ↓\ngit wt で worktree 作成 + 計画策定\n    ↓\n実装作業\n    ↓\n/reviw:done\n    ↓\nエビデンス収集 + 報告書作成\n    ↓\nnpx reviw で報告書を開く（フォアグラウンド）\n    ↓\nユーザーがコメント → Submit & Exit\n    ↓\nフィードバックを Todo に登録\n    ↓\n修正 → 再レビュー\n    ↓\n承認されたら完了\n```\n\n## 完了基準\n\n| 段階 | 内容 |\n|------|------|\n| 1/3 | 実装完了 |\n| 2/3 | ビルド・起動・動作検証完了 |\n| 3/3 | reviw でレビュー → ユーザー承認 |\n\n**実装完了だけでは 1/3。reviw でレビューを受けて初めて完了。**\n\n## ディレクトリ構成\n\n```\nreviw-plugin/\n├── .claude-plugin/\n│   └── plugin.json          # プラグインマニフェスト\n├── commands/\n│   ├── do.md                # /reviw:do コマンド\n│   └── done.md              # /reviw:done コマンド\n├── agents/\n│   └── report-builder.md    # 報告書作成エージェント\n├── skills/\n│   └── artifact-proof/\n│       └── SKILL.md         # エビデンス収集 + reviw レビュースキル\n├── hooks/\n│   └── hooks.json           # 自動フック設定\n└── README.md\n```\n\n## reviw の基本的な使い方\n\n```bash\n# Markdown を開く\nnpx reviw report.md\n\n# CSV を開く\nnpx reviw data.csv\n\n# git diff を開く\ngit diff HEAD | npx reviw\n\n# 複数ファイル\nnpx reviw file1.md file2.csv\n```\n\n詳細は `reviw-master` スキルを参照してください。\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "reviw-plugin",
          "source": "./plugin",
          "description": "reviw CLI integration for Claude Code - task management, review workflow, and report generation",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add kazuph/reviw",
            "/plugin install reviw-plugin@reviw-plugins"
          ]
        }
      ]
    }
  ]
}