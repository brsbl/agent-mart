{
  "author": {
    "id": "ankitaa186",
    "display_name": "Ankit",
    "avatar_url": "https://avatars.githubusercontent.com/u/7693795?v=4"
  },
  "marketplaces": [
    {
      "name": "host-terminal-marketplace",
      "version": null,
      "description": "Terminal access plugins for Claude Cowork",
      "repo_full_name": "ankitaa186/host-terminal-mcp",
      "repo_url": "https://github.com/ankitaa186/host-terminal-mcp",
      "repo_description": "Terminal App for Claude co-work",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-19T10:32:46Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"host-terminal-marketplace\",\n  \"owner\": {\n    \"name\": \"Ankit\"\n  },\n  \"description\": \"Terminal access plugins for Claude Cowork\",\n  \"plugins\": [\n    {\n      \"name\": \"host-terminal\",\n      \"source\": \".\",\n      \"description\": \"Execute terminal commands on the host machine with configurable permissions. Includes /shell, /git, /explore commands and developer workflow skills.\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"host-terminal\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Execute terminal commands on the host machine with configurable permissions. Provides secure shell access for developers with allowlist-based command filtering, directory restrictions, and multiple permission modes.\",\n  \"author\": {\n    \"name\": \"Ankit\",\n    \"email\": \"ankit.ag.in@gmail.com\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"keywords\": [\n    \"terminal\",\n    \"shell\",\n    \"bash\",\n    \"command-line\",\n    \"developer-tools\",\n    \"git\",\n    \"system\"\n  ],\n  \"categories\": [\n    \"developer-tools\",\n    \"productivity\",\n    \"system\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/ankitaa186/host-terminal-mcp\"\n  },\n  \"engines\": {\n    \"python\": \">=3.10\"\n  },\n  \"capabilities\": {\n    \"terminal\": true,\n    \"fileSystem\": \"read\",\n    \"network\": false\n  }\n}\n",
        "README.md": "# Host Terminal MCP\n\n[![PyPI](https://img.shields.io/pypi/v/host-terminal-mcp)](https://pypi.org/project/host-terminal-mcp/)\n[![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)\n\nAn [MCP](https://modelcontextprotocol.io) server that lets AI assistants run terminal commands on your machine with permission controls. Built for **Claude Desktop / Co-work** and any MCP-compatible client.\n\n## How It Works\n\n```\nYou (in Co-work)                      Your Mac\n─────────────────                     ─────────\n\"run git status\"\n      │\n      ▼\nClaude (cloud)\n      │  MCP tool call:\n      │  execute_command(\"git status\")\n      ▼\nClaude Desktop (local)\n      │  forwards via stdio pipe\n      ▼\nhost-terminal-mcp                     ◄── this project\n      │  1. permission check ✅\n      │  2. /bin/bash -c \"git status\"\n      ▼\nTerminal output flows back up the chain\n```\n\nClaude Desktop spawns `host-terminal-mcp` as a child process and communicates over stdin/stdout using the MCP protocol. There is no network server involved — it's a local pipe.\n\n## Setup for Co-work\n\n### 1. Install\n\n```bash\nuv tool install host-terminal-mcp\n```\n\nOr with pip:\n\n```bash\npip install host-terminal-mcp\n```\n\n### 2. Configure Claude Desktop\n\nAdd the MCP server to your Claude Desktop config file:\n\n**macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`\n**Windows:** `%APPDATA%\\Claude\\claude_desktop_config.json`\n\n> **Important:** Claude Desktop runs with a minimal PATH (`/usr/local/bin`, `/usr/bin`, `/bin`, `/usr/sbin`, `/sbin`, `/opt/homebrew/bin`). If you installed with `uv tool install` or `pip install --user`, the binary is likely in `~/.local/bin/` which is **not** in Claude Desktop's PATH. Use the **full absolute path** to the binary to avoid \"No such file or directory\" errors.\n\nFind your binary path:\n\n```bash\nwhich host-terminal-mcp\n# Example output: /Users/you/.local/bin/host-terminal-mcp\n```\n\nThen use that path in the config:\n\n```json\n{\n  \"mcpServers\": {\n    \"host-terminal\": {\n      \"command\": \"/Users/you/.local/bin/host-terminal-mcp\"\n    }\n  }\n}\n```\n\nTo start in `ask` mode (recommended — prompts you before running unlisted commands):\n\n```json\n{\n  \"mcpServers\": {\n    \"host-terminal\": {\n      \"command\": \"/Users/you/.local/bin/host-terminal-mcp\",\n      \"args\": [\"--mode\", \"ask\"]\n    }\n  }\n}\n```\n\n> **Tip:** If you installed globally to a system path (e.g. `/usr/local/bin/host-terminal-mcp`), you can use just `\"command\": \"host-terminal-mcp\"` without the full path.\n\n### 3. Restart Claude Desktop\n\nQuit and reopen Claude Desktop. It will automatically spawn the `host-terminal-mcp` process. You can verify it's running:\n\n```bash\nps aux | grep host-terminal-mcp\n```\n\n### 4. Use it\n\nOpen a Co-work session in Claude.ai (or use Claude Desktop directly) and ask:\n\n- \"List files in my home directory\"\n- \"Show git status in ~/projects/myapp\"\n- \"What's running on port 3000?\"\n- \"Run the tests for this project\"\n\n## Why This Tool\n\n**Terminal access with guard rails.** Three permission modes let you choose the right level of access — a locked-down allowlist for read-only commands, an `ask` mode that prompts you for real-time approval using [MCP elicitation](https://modelcontextprotocol.io/specification/draft/client/elicitation), or an unrestricted mode for sandboxed environments.\n\n**Skills that teach the AI how to use the terminal.** The plugin ships with [skills](skills/) — structured guides that Claude reads at runtime. A [codebase explorer](skills/codebase-explorer/SKILL.md) skill teaches project navigation patterns (directory structure, manifest detection, dependency tracing). A [terminal workflows](skills/terminal-workflows/SKILL.md) skill teaches safe shell execution (command chaining, error handling, process management). Claude doesn't just get access — it gets expertise.\n\n**Slash commands and connectors.** Built-in [commands](commands/) like `/shell`, `/git`, and `/permissions` give you direct control. A [connector system](CONNECTORS.md) (`~~terminal`) lets other plugins reference terminal access without being tied to a specific MCP implementation — swap in SSH, Docker, or a cloud shell without changing your workflows.\n\n## Permission Modes\n\n| Mode | Behavior | Safety |\n|------|----------|--------|\n| `allowlist` (default) | Only pre-approved read-only commands run | Safest |\n| `ask` | Prompts **you** for approval on unlisted commands | Recommended for power users |\n| `allow_all` | Everything runs except blocked commands | Dangerous |\n\n### How `ask` Mode Works\n\nWhen Claude tries to run a command not in the allow list, the server uses [MCP elicitation](https://modelcontextprotocol.io/specification/draft/client/elicitation) to prompt **you** (the human) directly in the Claude Desktop UI:\n\n```\n┌─────────────────────────────────────────────┐\n│ The AI wants to run a command that is not   │\n│ in the allow list:                          │\n│                                             │\n│   npm install                               │\n│                                             │\n│ Do you approve?                             │\n│                                             │\n│ [✓] Approve this command?                   │\n│ [✓] Add to allowed list permanently?        │\n│                                             │\n│         [ Cancel ]  [ Submit ]              │\n└─────────────────────────────────────────────┘\n```\n\n- **Approve** — runs the command for this session\n- **Add to allowed list permanently** — saves the command to your config file so you're never asked again\n- **Cancel/Decline** — command is blocked\n\nThis is a real human-in-the-loop: Claude cannot approve commands on its own.\n\n> **Note:** Elicitation requires MCP client support. If your client doesn't support it, unlisted commands are rejected with a message telling you to add them to the config file.\n\nPermission check order: **blocked** (always wins) > **allowed** > **session-approved** > **mode decision**\n\n## Default Allowed Commands\n\nThese commands (and their arguments) are allowed out of the box:\n\n**File listing & navigation:**\n`ls`, `ll`, `la`, `pwd`, `tree`, `find`, `locate`, `which`, `whereis`, `file`\n\n**File viewing:**\n`cat`, `head`, `tail`, `less`, `more`, `bat`, `wc`\n\n**Search:**\n`grep`, `rg`, `ag`, `ack`, `fzf`\n\n**Git (read-only):**\n`git status`, `git log`, `git diff`, `git show`, `git branch`, `git remote`, `git tag`, `git stash list`, `git rev-parse`, `git config --get`, `git config --list`, `git blame`, `git shortlog`, `git describe`\n\n**System info:**\n`uname`, `hostname`, `whoami`, `id`, `date`, `uptime`, `df`, `du`, `free`, `top -l 1`, `ps`\n\n**Network (read-only):**\n`ping -c`, `curl -I`, `curl --head`, `dig`, `nslookup`, `host`, `ifconfig`, `ip addr`, `netstat`, `ss`\n\n**Package managers (info only):**\n`npm list`, `npm ls`, `npm view`, `npm show`, `npm outdated`, `pip list`, `pip show`, `pip freeze`, `brew list`, `brew info`, `apt list`, `dpkg -l`\n\n**Dev tool versions:**\n`python --version`, `python3 --version`, `node --version`, `npm --version`, `cargo --version`, `rustc --version`, `go version`, `java --version`, `javac --version`, `ruby --version`, `docker --version`\n\n**Docker (read-only):**\n`docker ps`, `docker images`, `docker logs`\n\n**Data processing:**\n`jq`, `yq`\n\n**Misc:**\n`man`, `help`, `type`, `stat`, `md5sum`, `sha256sum`, `shasum`\n\n## Always Blocked Commands\n\nThese are blocked regardless of permission mode:\n\n| Pattern | Reason |\n|---------|--------|\n| `rm -rf /`, `rm -rf ~`, `rm -rf *` | Recursive delete |\n| `mkfs`, `dd` | Format/overwrite disk |\n| `find ... -exec` | Arbitrary command execution |\n| `:(){` | Fork bomb |\n| `> /dev/sd*` | Overwrite disk device |\n| `chmod -R 777 /`, `chown -R` | Dangerous permission changes |\n| `sudo`, `su`, `doas` | Privilege escalation |\n| `reboot`, `shutdown`, `halt`, `poweroff` | System control |\n| `kill`, `killall`, `pkill` | Process control |\n| `nc -l`, `nmap` | Network attacks |\n| `*/.ssh/`, `*/.aws/`, `*/.gnupg/` | Sensitive credential access |\n| `/etc/shadow`, `/etc/passwd` | System file access |\n| `history -c`, `shred` | History/credential wiping |\n\n## Configuration\n\nConfig file: `~/.config/host-terminal-mcp/config.yaml`\n\n```bash\n# Generate a default config file\nhost-terminal-mcp --init-config\n```\n\n### Add custom allowed commands\n\n```yaml\nallowed_commands:\n  - pattern: \"docker compose logs\"\n    description: \"Docker Compose service logs\"\n  - pattern: \"docker compose ps\"\n    description: \"Docker Compose service status\"\n  - pattern: \"npm install\"\n    description: \"Install npm packages\"\n\n  # Use regex for flexible matching\n  - pattern: \"^kubectl get \"\n    description: \"Kubernetes get resources\"\n    is_regex: true\n```\n\n### Other options\n\n```yaml\npermission_mode: allowlist          # allowlist | ask | allow_all\ntimeout_seconds: 300                # Max command execution time\nmax_output_size: 100000             # Max output chars (truncated beyond this)\nshell: /bin/bash                    # Shell to use\nallowed_directories:                # Commands restricted to these dirs\n  - /Users/me\nenvironment_passthrough:            # Env vars passed to commands\n  - PATH\n  - HOME\n  - USER\n  - LANG\n  - LC_ALL\n```\n\n## HTTP Transport\n\nFor external services (e.g. a chatbot in Docker) that need to call your machine over the network:\n\n```bash\n# Install with HTTP extras\nuv tool install 'host-terminal-mcp[http]'\n\n# Start\nhost-terminal-mcp --http --port 8099\n\n# Or in background\nnohup host-terminal-mcp --http --port 8099 --mode ask > /tmp/host-terminal-mcp.log 2>&1 &\n```\n\n### Endpoints\n\n| Endpoint | Method | Purpose |\n|----------|--------|---------|\n| `/health` | GET | Health check |\n| `/execute` | POST | Run a command |\n| `/cd` | POST | Change working directory |\n| `/cwd` | GET | Get current directory |\n| `/permissions` | GET | Get permission config |\n\n### Example\n\n```bash\ncurl -X POST http://localhost:8099/execute \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"command\": \"docker compose ps\", \"working_directory\": \"/path/to/project\"}'\n```\n\n## Architecture\n\n```\nsrc/host_terminal_mcp/\n├── server.py        ← MCP stdio server, tool handlers, elicitation\n├── http_server.py   ← Alternative HTTP/REST transport (FastAPI)\n├── config.py        ← Permission rules, allowlist/blocklist, YAML config\n└── executor.py      ← Runs commands via asyncio subprocess\n```\n\n**Tools exposed to the AI:**\n\n| Tool | Description |\n|------|-------------|\n| `execute_command` | Run a shell command (main tool) |\n| `change_directory` | Change working directory |\n| `get_current_directory` | Get current working directory |\n| `get_permission_status` | Inspect current permissions |\n| `set_permission_mode` | Change permission mode |\n\n## Development\n\n```bash\ngit clone https://github.com/ankitaa186/host-terminal-mcp.git\ncd host-terminal-mcp\nmake install        # Install all deps (venv auto-created)\nmake test           # Run tests\nmake lint           # Run linters\nmake format         # Format code\nmake run            # Run stdio server (foreground)\nmake run MODE=ask   # Run in ask mode\nmake inspect        # Test with MCP Inspector\nmake help           # Show all targets\n```\n\n### From source with Claude Desktop\n\n```json\n{\n  \"mcpServers\": {\n    \"host-terminal\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"--directory\", \"/path/to/host-terminal-mcp\", \"host-terminal-mcp\"]\n    }\n  }\n}\n```\n\n## Disclaimer\n\nThis software executes shell commands on your computer as directed by an AI model. AI models can behave unpredictably. Although permission controls (allowlist, blocklist, human-in-the-loop approval) are provided, they are offered on a best-effort basis and **cannot guarantee safety**. In particular, AI models may attempt to bypass permission controls — for example, by calling tool APIs to self-approve commands or by crafting inputs that circumvent the allowlist. The `ask` mode depends on the MCP client correctly presenting approval prompts to a human; not all clients do so, and this project has no control over client behavior. By installing or using this software you acknowledge that: **(1)** you are solely responsible for every command that runs on your system, **(2)** the authors and contributors disclaim all liability for any damage, data loss, security breach, or other harm arising from its use, **(3)** permission controls are a best-effort safeguard, not a security boundary, and **(4)** this software is provided \"AS IS\" without warranties of any kind, as stated in the [Apache 2.0 License](LICENSE). Do not run this tool on production systems or systems containing sensitive data without understanding the risks.\n\n## License\n\nApache-2.0 — see [LICENSE](LICENSE) for the full text, including the warranty disclaimer and limitation of liability.\n"
      },
      "plugins": [
        {
          "name": "host-terminal",
          "source": ".",
          "description": "Execute terminal commands on the host machine with configurable permissions. Includes /shell, /git, /explore commands and developer workflow skills.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add ankitaa186/host-terminal-mcp",
            "/plugin install host-terminal@host-terminal-marketplace"
          ]
        }
      ]
    }
  ]
}