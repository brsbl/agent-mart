{
  "author": {
    "id": "pro-vi",
    "display_name": "Provi",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/9211198?u=72441bbf691120cee3bff052fe77a68e3af5fde0&v=4",
    "url": "https://github.com/pro-vi",
    "bio": "renaissancer",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 1,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "cc-provide",
      "version": null,
      "description": "Provi's Claude Code plugins",
      "owner_info": {
        "name": "pro-vi"
      },
      "keywords": [],
      "repo_full_name": "pro-vi/cc-provide",
      "repo_url": "https://github.com/pro-vi/cc-provide",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-26T20:07:47Z",
        "created_at": "2025-12-22T11:38:40Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 440
        },
        {
          "path": "cc-iching",
          "type": "tree",
          "size": null
        },
        {
          "path": "cc-iching/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "cc-iching/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 331
        },
        {
          "path": "cc-iching/README.md",
          "type": "blob",
          "size": 8818
        },
        {
          "path": "cc-iching/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "cc-iching/hooks/hooks.json",
          "type": "blob",
          "size": 249
        },
        {
          "path": "cc-iching/hooks/iching.ts",
          "type": "blob",
          "size": 57077
        },
        {
          "path": "cc-iching/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "cc-iching/skills/iching",
          "type": "tree",
          "size": null
        },
        {
          "path": "cc-iching/skills/iching/SKILL.md",
          "type": "blob",
          "size": 6712
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"cc-provide\",\n  \"description\": \"Provi's Claude Code plugins\",\n  \"owner\": {\n    \"name\": \"pro-vi\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"cc-iching\",\n      \"source\": \"./cc-iching\",\n      \"version\": \"1.0.0\",\n      \"description\": \"Daily I Ching divination with authentic 3-coin casting and true entropy\",\n      \"author\": { \"name\": \"pro-vi\" },\n      \"license\": \"MIT\",\n      \"keywords\": [\"i-ching\", \"divination\", \"hook\"]\n    }\n  ]\n}\n",
        "cc-iching/.claude-plugin/plugin.json": "{\n  \"name\": \"cc-iching\",\n  \"version\": \"1.1.1\",\n  \"description\": \"Daily I Ching divination with authentic 3-coin casting, journal, and pattern tracking\",\n  \"author\": {\n    \"name\": \"pro-vi\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"i-ching\", \"divination\", \"hook\", \"journal\"],\n  \"hooks\": \"./hooks/hooks.json\",\n  \"skills\": \"./skills\"\n}\n",
        "cc-iching/README.md": "# cc-iching 易經\n\n> **Note**: Plugin hooks currently don't pass output to the agent ([#12151](https://github.com/anthropics/claude-code/issues/12151)). Use manual installation below until fixed.\n\nA Claude Code hook for daily I Ching divination using authentic 3-coin casting with true entropy.\n\n## Foreword\n\nI Ching is the oldest binary system in existence, encoding wisdom through broken and unbroken lines (yin and yang) representing 0 and 1 millennia before Leibniz formalized binary mathematics in the 17th century, demonstrating that binary logic has been fundamental to human understanding for over three thousand years.\n\nI built this simple hook as an attempt to demonstrate the I Ching's binary nature in modern code, while embedding this ancient wisdom into a contemporary medium. This aims to help anyone interested in dipping their toes into divination or exploring the philosophical roots of computing without breaking their flow in Claude Code.\n\n## Features\n\n- **Authentic casting**: Uses `crypto.randomBytes()` for OS-level entropy (hardware noise, interrupt timing)\n- **Daily hexagram**: One cast per day, cached locally, with a historic log of past readings\n- **5 commentary styles**: 大象傳, 彖傳, each with English translations, and a Wilhelm-inspired interpretation (experimental)\n- **5 derived hexagrams**: 互卦 (nuclear), 錯卦 (polarity), 綜卦 (mirror), 之卦 (becoming), 對角卦 (diagonal)\n- **Progressive reveal**: ~32.5% chance to show commentary or derived hexagrams on subsequent prompts\n- **Non-spammy**: ~67.5% of prompts are silent after the first reading\n- **Culturally grounded**: Traditional casting method with scholarly translations\n\n## Installation\n\n### Via Plugin Marketplace\n\nRequires [Bun](https://bun.sh/) runtime (`brew install bun`).\n\n```bash\n/plugin marketplace add pro-vi/cc-iching\n/plugin install cc-iching\n```\n\n### Manual Installation\n\n1. **Prerequisite**: Install [Bun](https://bun.sh/) runtime\n\n   ```bash\n   brew install bun\n   ```\n\n2. **Copy hook file**:\n\n   ```bash\n   cp hooks/iching.ts ~/.claude/hooks/iching.ts\n   ```\n\n3. **Add to settings** (`~/.claude/settings.json`):\n\n   ```json\n   {\n     \"hooks\": {\n       \"UserPromptSubmit\": [\n         {\n           \"type\": \"command\",\n           \"command\": \"bun ~/.claude/hooks/iching.ts\",\n           \"timeout\": 5000\n         }\n       ]\n     }\n   }\n   ```\n\n4. **Test**:\n   ```bash\n   echo '{}' | bun ~/.claude/hooks/iching.ts\n   ```\n\n### Hook Details\n\nUses the `UserPromptSubmit` hook (exit 0). Output appears as a system reminder before Claude responds. Claude sees it and may reference it in reasoning.\n\n## Output Example\n\n**First prompt of day (primary reading):**\n\n```\n䷶ 豐 (Fēng) — Thunder and lightning arrive together; the noble one decides cases and applies consequences → ䷣ 明夷 [4]\n```\n\n**Sample subsequent prompts (32.5% chance):**\n\n```\n互卦 (hidden within) ䷼ 中孚 (Zhōng Fú) — Wind above the lake; the noble one deliberates on cases and delays executions\n錯卦 (polarity) ䷺ 渙 (Huàn) — Wind moves over water; the ancient kings made offerings and established temples\n綜卦 (mirror) ䷷ 旅 (Lǚ) — Fire upon the mountain; the noble one applies consequences wisely, resolves matters swiftly\n綜卦 (自綜) ䷀ 乾 (Qián) — Heaven moves with vigor; the noble one strives ceaselessly\n之卦 (becoming) ䷣ 明夷 (Míng Yí) — Brightness enters the earth; the noble one governs by concealing brilliance within\n對角卦 (diagonal) ䷋ 否 (Pǐ) — Heaven and earth do not unite; the noble one withdraws into frugal virtue\n```\n\n## Progressive Reveal\n\n**First prompt each day:** Full reading with 大象傳 (Image commentary)\n\n**Subsequent prompts:** ~32.5% chance of showing one of the following:\n\n| Type        | Description                          | Chance |\n| ----------- | ------------------------------------ | ------ |\n| 大象傳 (dx) | Image commentary (Chinese)           | 4%     |\n| 彖傳 (tu)   | Judgment commentary (Chinese)        | 4%     |\n| 大象傳 (en) | Image commentary (English)           | 4%     |\n| 彖傳 (te)   | Judgment commentary (English)        | 4%     |\n| Wilhelm (w) | Wilhelm/Jung inspired interpretation | 4%     |\n| 互卦        | Nuclear hexagram (hidden within)     | 2.5%   |\n| 錯卦        | Polarity hexagram (all lines inverted) | 2.5%   |\n| 綜卦        | Mirror hexagram (reversed view)      | 2.5%   |\n| 之卦        | Becoming hexagram (transformation)   | 2.5%   |\n| 對角卦      | Diagonal hexagram (錯+綜 combined)   | 2.5%   |\n\n67.5% of prompts remain silent after the initial reading.\n\n## How It Works\n\n### Casting Method (擲錢法)\n\n- 3 coins × 6 lines\n- Each coin: heads = 3, tails = 2\n- Line values:\n  - 6 (old yin, 1/8) — changing to yang\n  - 7 (young yang, 3/8) — stable\n  - 8 (young yin, 3/8) — stable\n  - 9 (old yang, 1/8) — changing to yin\n\n### Cryptographic Randomness\n\nThis hook uses `crypto.randomBytes()` instead of `Math.random()`. The difference matters.\n\n**`Math.random()`** is a fast PRNG (pseudo-random number generator). Implementation-defined, not designed to resist prediction. Fine for games, not for anything where unpredictability matters.\n\n**`crypto.randomBytes()`** is a CSPRNG (cryptographically secure PRNG) seeded by OS-provided entropy. Still deterministic under the hood, but the internal state is computationally infeasible to predict.\n\nWhen you cast coins or yarrow stalks, the outcome emerges from your table's surface, air currents, the tremor in your hand, making the randomness inseparable from your present moment and bodily state, which is why traditional casting feels personally meaningful.\n\nThe CSPRNG's entropy pool works analogously. It draws from your machine: the hardware itself, timing variations in your system, the accumulated state, randomness emerging from the physical context you're already part of, only abstracted through layers of silicon and mathematics.\n\nYou get one cast per day.\n\n### Storage & Cache\n\n- **Daily cache**: `~/.claude/iching.json` — today's reading (delete to force new cast)\n- **History**: `~/.claude/iching.jsonl` — append-only log of past readings (update on new cast)\n- **Timezone**: Local system time determines when midnight resets the daily cast\n\n## How I Use It\n\nWhen a reading pops up that piques my interest, I open a new Claude Code session to investigate deeper. If I'm working in a project, Claude already has visibility into the process, so the reading becomes immediately applicable rather than abstract. Multiple angles are built in to achieve a balanced and nuanced perspective:\n\n- **Primary hexagram** — the situation as it appears\n- **Changing lines** — where the energy is active\n- **互卦 (hidden within)** — what's gestating inside\n- **錯卦 (polarity)** — the complementary opposite\n- **綜卦 (mirror)** — how others might see it\n- **之卦 (becoming)** — where it's heading\n- **對角卦 (diagonal)** — the furthest point, 錯+綜 combined\n\nI particularly appreciated how the complete array of derived hexagrams, when viewed together, synthesized, illuminated both outer conditions and inner experience with remarkable intensity and nuance.\n\nThe hook is non-spammy by design as most prompts are silent. When a reading appears, I see it as an invitation to reflect and dive deeper into the practice. Of course, you may ask Claude to update the mechanism or adjust the frequency to suit your needs.\n\n## Roadmap\n\n- [x] **自綜 self-mirroring detection** — 8 hexagrams are vertically symmetric and therefore self-mirroring. Identify and label accordingly.\n- [x] **错综同象 locked pairs** — 4 hexagram pairs where 綜卦 = 錯卦 (泰/否, 隨/蠱, 漸/歸妹, 既濟/未濟). Detected and labeled.\n- [x] **對角卦 diagonal hexagram** — 錯+綜 combined, the furthest point in the transformation square. Special cases for self-mirroring (diagonal = polarity) and locked pairs (diagonal = self, 自返).\n- [ ] **相綜 pair descriptions** — The 28 hexagram pairs represent opposite perspectives on the same situation. Understanding the pairing adds depth to mirror hexagram readings.\n- [ ] **互卦 trigram breakdown** — Show the inner/outer trigrams that form the nuclear hexagram. The inner trigram reflects the internal landscape, the outer shows the external situation.\n- [ ] **爻辭 line texts** — Specific counsel for each changing line. When lines transform, these texts address exactly where and how the energy is moving.\n- [ ] **Wilhelm/Baynes commentary integration** — Update the classic I Ching interpretations alongside readings, with proper attribution to the 1950 Bollingen Series translation.\n- [ ] **Commentary refinement** — Classical translations shall evolve as I explore each hexagram more deeply through practice.\n\n## License\n\nMIT\n",
        "cc-iching/hooks/hooks.json": "{\n  \"hooks\": {\n    \"UserPromptSubmit\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bun ${CLAUDE_PLUGIN_ROOT}/hooks/iching.ts\",\n            \"timeout\": 5000\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "cc-iching/hooks/iching.ts": "#!/usr/bin/env bun\n/**\n * I Ching Daily Hexagram (UserPromptSubmit)\n *\n * Uses true entropy (crypto.randomBytes) to simulate authentic 3-coin casting.\n * Supports changing lines and transformed hexagrams.\n *\n * First prompt: Full reading with 大象傳\n * Subsequent: 30% chance to show commentary or derived hexagram\n *\n * Coin method probabilities:\n *   6 (old yin ⚋○):  1/8 - changing to yang\n *   7 (young yang ⚊): 3/8 - stable\n *   8 (young yin ⚋):  3/8 - stable\n *   9 (old yang ⚊○): 1/8 - changing to yin\n */\n\nimport { randomBytes } from \"crypto\"\nimport { appendFile } from \"fs/promises\"\nimport { homedir } from \"os\"\nimport { join } from \"path\"\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Configuration\n// ─────────────────────────────────────────────────────────────────────────────\n\nconst CACHE = join(homedir(), \".claude\", \"iching.json\")\nconst HISTORY = join(homedir(), \".claude\", \"iching.jsonl\")\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Types\n// ─────────────────────────────────────────────────────────────────────────────\n\n/** Commentary style keys: dx=大象傳, tu=彖傳, en=English, te=彖英, w=Wilhelm (experimental) */\ntype Style = \"dx\" | \"tu\" | \"en\" | \"te\" | \"w\"\n\n/** Hexagram entry in GUA array */\ninterface Hexagram {\n  u: string // Unicode symbol\n  n: string // Chinese name\n  p: string // Pinyin\n  l: number[] // Lines (6 elements, 0=yin 1=yang, bottom to top)\n  dx: string // 大象傳\n  tu: string // 彖傳\n  en: string // English image\n  te: string // English judgment\n  w: string // Inspired by Wilhelm — experimental, not direct quotes\n}\n\n/** Line value from 3-coin toss: 6=old yin, 7=young yang, 8=young yin, 9=old yang */\ntype LineValue = 6 | 7 | 8 | 9\n\n/** Cast result for a single line */\ninterface Line {\n  value: LineValue\n  isYang: boolean\n  isChanging: boolean\n}\n\n/** Full hexagram cast result */\ninterface Cast {\n  lines: Line[]\n  primary: number\n  becoming: number | null\n  changingPositions: number[]\n  nuclear: number\n  polarity: number\n  mirror: number\n  diagonal: number\n}\n\n/**\n * Derived hexagram types:\n * - nuclear (互卦): hidden within\n * - polarity (錯卦): complementary opposite\n * - mirror (綜卦): opposite vantage\n * - becoming (之卦): where it's heading\n * - diagonal (對角卦): 錯+綜 combined — the furthest point\n */\ntype DerivedType = \"nuclear\" | \"polarity\" | \"mirror\" | \"becoming\" | \"diagonal\"\n\n/** Cache structure for daily reading */\ninterface DailyCache {\n  date: string\n  cast: Cast\n  shown: boolean\n}\n\n/** History entry (one per line in JSONL) */\ninterface HistoryEntry {\n  date: string\n  cast: Cast\n}\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Casting\n// ─────────────────────────────────────────────────────────────────────────────\n\n/**\n * Cast a single line using true entropy.\n * Simulates 3 coin tosses: heads=3, tails=2, sum determines line.\n */\nfunction castLine(): Line {\n  const bytes = randomBytes(3)\n  const coins = [bytes[0] & 1, bytes[1] & 1, bytes[2] & 1]\n  const sum = coins.map(c => c ? 3 : 2).reduce((a, b) => a + b) as LineValue\n\n  return {\n    value: sum,\n    isYang: sum === 7 || sum === 9,\n    isChanging: sum === 6 || sum === 9,\n  }\n}\n\n/**\n * Compute hexagram binary value from lines.\n * Line 1 (bottom) = LSB, yang=1, yin=0.\n */\nfunction linesToBinary(lines: Line[]): number {\n  let binary = 0\n  for (let i = 0; i < 6; i++) {\n    if (lines[i].isYang) {\n      binary |= 1 << i\n    }\n  }\n  return binary\n}\n\n/** Cast a full hexagram (6 lines) and compute all derived hexagrams. */\nfunction castHexagram(): Cast {\n  const lines: Line[] = []\n  for (let i = 0; i < 6; i++) {\n    lines.push(castLine())\n  }\n\n  const primaryBinary = linesToBinary(lines)\n  const primary = BINARY_TO_KW[primaryBinary]\n\n  const changingPositions: number[] = []\n  let becoming: number | null = null\n\n  const hasChanging = lines.some((l) => l.isChanging)\n  if (hasChanging) {\n    const becomingLines = lines.map((l) => ({\n      ...l,\n      isYang: l.isChanging ? !l.isYang : l.isYang,\n    }))\n    const becomingBinary = linesToBinary(becomingLines)\n    becoming = BINARY_TO_KW[becomingBinary]\n\n    lines.forEach((l, i) => {\n      if (l.isChanging) changingPositions.push(i + 1)\n    })\n  }\n\n  return {\n    lines,\n    primary,\n    becoming,\n    changingPositions,\n    nuclear: nuclear(lines),\n    polarity: polarity(lines),\n    mirror: mirror(lines),\n    diagonal: diagonal(lines),\n  }\n}\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Derived Hexagrams\n// ─────────────────────────────────────────────────────────────────────────────\n\n/** 互卦 — Extract lines 2-3-4-5, form overlapping trigrams */\nfunction nuclear(lines: Line[]): number {\n  const nuclearLines: Line[] = [\n    lines[1],\n    lines[2],\n    lines[3],\n    lines[2],\n    lines[3],\n    lines[4],\n  ]\n  return BINARY_TO_KW[linesToBinary(nuclearLines)]\n}\n\n/** 錯卦 — Invert all lines (yang↔yin) — complementary opposite */\nfunction polarity(lines: Line[]): number {\n  const inverted = lines.map((l) => ({ ...l, isYang: !l.isYang }))\n  return BINARY_TO_KW[linesToBinary(inverted)]\n}\n\n/** 綜卦 — Flip line order (1↔6, 2↔5, 3↔4) */\nfunction mirror(lines: Line[]): number {\n  return BINARY_TO_KW[linesToBinary([...lines].reverse())]\n}\n\n/** 對角卦 — Invert all lines then reverse (錯+綜 combined) — the furthest point */\nfunction diagonal(lines: Line[]): number {\n  const inverted = lines.map((l) => ({ ...l, isYang: !l.isYang }))\n  return BINARY_TO_KW[linesToBinary([...inverted].reverse())]\n}\n\n/** 错综同象 — Locked pairs where mirror === polarity (only 4 pairs: 泰/否, 隨/蠱, 漸/歸妹, 既濟/未濟) */\nfunction isLockedPair(cast: Cast): boolean {\n  return cast.mirror === cast.polarity\n}\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Formatting\n// ─────────────────────────────────────────────────────────────────────────────\n\nfunction today(): string {\n  const d = new Date()\n  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(\n    2,\n    \"0\"\n  )}-${String(d.getDate()).padStart(2, \"0\")}`\n}\n\n/** Unbiased random style selection via rejection sampling */\nfunction getRandomStyle(): Style {\n  let byte: number\n  do {\n    byte = randomBytes(1)[0]\n  } while (byte >= 250)\n  return STYLES[byte % 5]\n}\n\n/** Format full reading with optional transformation */\nfunction formatReading(cast: Cast, style: Style): string {\n  const g = GUA[cast.primary - 1]\n  let out = `${g.u} ${g.n} (${g.p}) — ${g[style]}`\n\n  if (cast.becoming !== null) {\n    const t = GUA[cast.becoming - 1]\n    out += ` → ${t.u} ${t.n} [${cast.changingPositions.join(\",\")}]`\n  }\n\n  return out\n}\n\n/** Format a derived hexagram reading with random style */\nfunction formatDerived(cast: Cast, type: DerivedType): string {\n  // 自綜卦: mirror = self (8 vertically symmetric hexagrams)\n  if (type === \"mirror\" && cast.mirror === cast.primary) {\n    const g = GUA[cast.primary - 1]\n    const tag = randomBytes(1)[0] < 128 ? \"自綜\" : \"self-mirroring\"\n    return `綜卦 (${tag}) ${g.u} ${g.n} (${g.p}) — ${g[getRandomStyle()]}`\n  }\n\n  // 错综同象: locked pairs where mirror === polarity\n  if ((type === \"mirror\" || type === \"polarity\") && isLockedPair(cast)) {\n    const g = GUA[cast.mirror - 1]\n    return `错综同象 ${g.u} ${g.n} (${g.p}) — ${g[getRandomStyle()]}`\n  }\n\n  // 對角卦 special cases\n  if (type === \"diagonal\") {\n    // Self-mirroring: diagonal = polarity (no distinct 4th point)\n    if (cast.mirror === cast.primary) {\n      const g = GUA[cast.polarity - 1]\n      return `對角卦 = 錯卦 (自綜) ${g.u} ${g.n} (${g.p}) — ${g[getRandomStyle()]}`\n    }\n    // Locked pairs: diagonal = self (自返)\n    if (isLockedPair(cast)) {\n      const g = GUA[cast.primary - 1]\n      return `對角卦 = ${g.n} (自返) ${g.u} ${g.n} (${g.p}) — ${g[getRandomStyle()]}`\n    }\n  }\n\n  const kwNum = type === \"becoming\" ? cast.becoming : cast[type]\n  if (kwNum === null) return \"\"\n  const g = GUA[kwNum - 1]\n\n  // 50% chance for 来知德 Chinese variant labels\n  const useChinese = randomBytes(1)[0] < 128\n  const label = useChinese ? DERIVED_LABELS_CN[type] : DERIVED_LABELS[type]\n\n  return `${label} ${g.u} ${g.n} (${g.p}) — ${g[getRandomStyle()]}`\n}\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Cache & History\n// ─────────────────────────────────────────────────────────────────────────────\n\n/** Append a reading to the history log (JSONL format). O(1) append. */\nasync function appendToHistory(cache: DailyCache): Promise<void> {\n  const entry: HistoryEntry = { date: cache.date, cast: cache.cast }\n  await appendFile(HISTORY, JSON.stringify(entry) + \"\\n\")\n}\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Main\n// ─────────────────────────────────────────────────────────────────────────────\n\nasync function main() {\n  try {\n    await Bun.stdin.json()\n\n    const file = Bun.file(CACHE)\n    let cache: DailyCache | null = (await file.exists())\n      ? await file.json()\n      : null\n    const date = today()\n\n    // New day = new casting\n    if (!cache || cache.date !== date) {\n      if (cache?.date && cache.date !== date) await appendToHistory(cache)\n      cache = { date, cast: castHexagram(), shown: false }\n    }\n\n    let out: string | null = null\n\n    if (!cache.shown) {\n      out = formatReading(cache.cast, \"dx\")\n      cache.shown = true\n    } else {\n      const r = randomBytes(1)[0] / 256\n\n      if (r < 0.04) out = formatReading(cache.cast, \"dx\")\n      else if (r < 0.08) out = formatReading(cache.cast, \"tu\")\n      else if (r < 0.12) out = formatReading(cache.cast, \"en\")\n      else if (r < 0.16) out = formatReading(cache.cast, \"te\")\n      else if (r < 0.2) out = formatReading(cache.cast, \"w\")\n      else if (r < 0.225) out = formatDerived(cache.cast, \"nuclear\")\n      else if (r < 0.25) out = formatDerived(cache.cast, \"polarity\")\n      else if (r < 0.275) out = formatDerived(cache.cast, \"mirror\")\n      else if (r < 0.3) {\n        const t = formatDerived(cache.cast, \"becoming\")\n        if (t) out = t\n      }\n      else if (r < 0.325) out = formatDerived(cache.cast, \"diagonal\")\n    }\n\n    await Bun.write(CACHE, JSON.stringify(cache))\n    if (out) console.log(out)\n    process.exit(0)\n  } catch {\n    process.exit(0)\n  }\n}\n\nmain()\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Data\n// ─────────────────────────────────────────────────────────────────────────────\n\nconst STYLES: Style[] = [\"dx\", \"tu\", \"en\", \"te\", \"w\"]\n\nconst DERIVED_LABELS: Record<DerivedType, string> = {\n  nuclear: \"互卦 (hidden within)\",\n  polarity: \"錯卦 (polarity)\",\n  mirror: \"綜卦 (mirror)\",\n  becoming: \"之卦 (becoming)\",\n  diagonal: \"對角卦 (diagonal)\",\n}\n\n/** 来知德 framework labels — Chinese variants (50% chance) */\nconst DERIVED_LABELS_CN: Record<DerivedType, string> = {\n  nuclear: \"互卦 (潜藏轨迹)\",\n  polarity: \"錯卦 (矛盾调和)\",\n  mirror: \"綜卦 (表里)\",\n  becoming: \"之卦 (所往)\",\n  diagonal: \"對角卦 (極反)\",\n}\n\n/**\n * Binary-to-King-Wen lookup table.\n * Binary value = lower_trigram + upper_trigram * 8\n * Trigram values: 坤=0, 震=1, 坎=2, 兌=3, 艮=4, 離=5, 巽=6, 乾=7\n *\n * Returns 1-indexed King Wen numbers (1-64) to match traditional I Ching numbering.\n * Access GUA array with: GUA[kwNumber - 1]\n */\nconst BINARY_TO_KW: number[] = [\n  2, 24, 7, 19, 15, 36, 46, 11, 16, 51, 40, 54, 62, 55, 32, 34, 8, 3, 29, 60,\n  39, 63, 48, 5, 45, 17, 47, 58, 31, 49, 28, 43, 23, 27, 4, 41, 52, 22, 18, 26,\n  35, 21, 64, 38, 56, 30, 50, 14, 20, 42, 59, 61, 53, 37, 57, 9, 12, 25, 6, 10,\n  33, 13, 44, 1,\n]\n\n/** 64 hexagrams with commentary in 5 styles */\nconst GUA: Hexagram[] = [\n  {\n    u: \"䷀\",\n    n: \"乾\",\n    p: \"Qián\",\n    l: [1, 1, 1, 1, 1, 1],\n    dx: \"天行健，君子以自強不息\",\n    tu: \"大哉乾元，萬物資始，乃統天。雲行雨施，品物流形。\",\n    en: \"Heaven moves with vigor; the noble one strives ceaselessly\",\n    te: \"Vast is the primal creative — all things owe their beginning to it. Clouds drift and rain falls; the myriad forms take shape.\",\n    w: \"The movement of heaven is full of power. Know when to persist and when to rest — what is full cannot last.\",\n  },\n  {\n    u: \"䷁\",\n    n: \"坤\",\n    p: \"Kūn\",\n    l: [0, 0, 0, 0, 0, 0],\n    dx: \"地勢坤，君子以厚德載物\",\n    tu: \"至哉坤元，萬物資生，乃順承天。坤厚載物，德合無疆。\",\n    en: \"Earth's nature is receptive; the noble one carries all with deep virtue\",\n    te: \"Supreme is the primal receptive — all things owe their birth to it. Earth bears all with thickness; its virtue knows no bounds.\",\n    w: \"In the nature of earth lies the light. Small negative patterns accumulate into major obstacles — let hidden qualities shine forth at the right time.\",\n  },\n  {\n    u: \"䷂\",\n    n: \"屯\",\n    p: \"Zhūn\",\n    l: [1, 0, 0, 0, 1, 0],\n    dx: \"雲雷屯，君子以經綸\",\n    tu: \"屯，剛柔始交而難生，動乎險中，大亨貞。\",\n    en: \"Clouds and thunder gather; the noble one brings order from chaos\",\n    te: \"Difficulty: firm and yielding first meet and hardship arises. Movement amid danger — great success through perseverance.\",\n    w: \"The superior man brings order out of confusion. Avoid premature action — to go only when bidden is clarity.\",\n  },\n  {\n    u: \"䷃\",\n    n: \"蒙\",\n    p: \"Méng\",\n    l: [0, 1, 0, 0, 0, 1],\n    dx: \"山下出泉，蒙；君子以果行育德\",\n    tu: \"蒙，山下有險，險而止，蒙。蒙亨，以亨行時中也。\",\n    en: \"A spring emerges below the mountain; the noble one cultivates virtue through decisive action\",\n    te: \"Youthful folly: danger beneath the mountain, halting before peril. Success comes through acting at the right moment.\",\n    w: \"Discipline and structure are necessary, but must be balanced against rigidity. Genuine learning occurs when receptivity meets principled instruction.\",\n  },\n  {\n    u: \"䷄\",\n    n: \"需\",\n    p: \"Xū\",\n    l: [1, 1, 1, 0, 1, 0],\n    dx: \"雲上於天，需；君子以飲食宴樂\",\n    tu: \"需，須也，險在前也。剛健而不陷，其義不困窮矣。\",\n    en: \"Clouds rise to heaven; the noble one eats, drinks, and enjoys in good time\",\n    te: \"Waiting: necessity, for danger lies ahead. The strong and healthy do not sink — their purpose cannot be exhausted.\",\n    w: \"True strength lies in calm forbearance. Do not seek out difficulties overhastily — maintain equilibrium while external conditions develop.\",\n  },\n  {\n    u: \"䷅\",\n    n: \"訟\",\n    p: \"Sòng\",\n    l: [0, 1, 0, 1, 1, 1],\n    dx: \"天與水違行，訟；君子以作事謀始\",\n    tu: \"訟，上剛下險，險而健，訟。訟有孚窒惕，中吉，剛來而得中也。\",\n    en: \"Heaven and water move apart; the noble one plans carefully before acting\",\n    te: \"Conflict: strength above, danger below — danger meeting vigor breeds contention. Sincerity blocked brings caution; finding center brings fortune.\",\n    w: \"Conflict arises from opposing forces. Carefully consider the beginning — victory through conflict commands no respect.\",\n  },\n  {\n    u: \"䷆\",\n    n: \"師\",\n    p: \"Shī\",\n    l: [0, 1, 0, 0, 0, 0],\n    dx: \"地中有水，師；君子以容民畜眾\",\n    tu: \"師，眾也。貞，正也。能以眾正，可以王矣。\",\n    en: \"Water within the earth; the noble one nurtures the people and gathers the multitude\",\n    te: \"The army is the multitude; perseverance is righteousness. Who can lead the masses toward what is right may become sovereign.\",\n    w: \"Losing order is unfortunate. Legitimate authority derives from moral integrity, not mere position — develop internal cohesion.\",\n  },\n  {\n    u: \"䷇\",\n    n: \"比\",\n    p: \"Bǐ\",\n    l: [0, 0, 0, 0, 1, 0],\n    dx: \"地上有水，比；先王以建萬國，親諸侯\",\n    tu: \"比，吉也，比，輔也，下順從也。原筮元永貞，無咎，以剛中也。\",\n    en: \"Water upon the earth; the ancient kings established nations and befriended lords\",\n    te: \"Holding together is auspicious — it means support, the lower follows willingly. Consult the oracle once more: eternal constancy brings no blame.\",\n    w: \"Do not lose yourself when seeking union. Maintain your convictions — without proper foundation, no successful unity is achievable.\",\n  },\n  {\n    u: \"䷈\",\n    n: \"小畜\",\n    p: \"Xiǎo Xù\",\n    l: [1, 1, 1, 0, 1, 1],\n    dx: \"風行天上，小畜；君子以懿文德\",\n    tu: \"小畜，柔得位而上下應之，曰小畜。健而巽，剛中而志行，乃亨。\",\n    en: \"Wind moves across heaven; the noble one refines cultural virtue\",\n    te: \"Small taming: the yielding gains position as above and below respond. Strong yet gentle, firm in center with will advancing — success.\",\n    w: \"What seems small and insignificant tames chaos through steady refinement. Dense clouds gather, but the time for rain has not yet come.\",\n  },\n  {\n    u: \"䷉\",\n    n: \"履\",\n    p: \"Lǚ\",\n    l: [1, 1, 0, 1, 1, 1],\n    dx: \"上天下澤，履；君子以辨上下，定民志\",\n    tu: \"履，柔履剛也。說而應乎乾，是以履虎尾，不咥人，亨。\",\n    en: \"Heaven above, lake below; the noble one distinguishes high and low, settling people's purpose\",\n    te: \"Treading: the soft steps on the firm. Joyous yet responsive to heaven — thus one treads on the tiger's tail and is not bitten.\",\n    w: \"The superior man discriminates between high and low, and thereby fortifies the minds of the people. Tread carefully; even the tiger does not bite one who knows his place.\",\n  },\n  {\n    u: \"䷊\",\n    n: \"泰\",\n    p: \"Tài\",\n    l: [1, 1, 1, 0, 0, 0],\n    dx: \"天地交泰，后以財成天地之道，輔相天地之宜，以左右民\",\n    tu: \"泰，小往大來，吉亨。則是天地交而萬物通也。\",\n    en: \"Heaven and earth unite in peace; the ruler completes the way of heaven and earth\",\n    te: \"Peace: the small departs, the great arrives; heaven and earth commune and all things flourish\",\n    w: \"Complementary forces naturally align. Act with restraint and attention to natural patterns rather than ego-driven ambition.\",\n  },\n  {\n    u: \"䷋\",\n    n: \"否\",\n    p: \"Pǐ\",\n    l: [0, 0, 0, 1, 1, 1],\n    dx: \"天地不交，否；君子以儉德辟難\",\n    tu: \"否之匪人，不利君子貞。大往小來，則是天地不交而萬物不通也。\",\n    en: \"Heaven and earth do not unite; the noble one withdraws into frugal virtue to avoid danger\",\n    te: \"Standstill does not favor the noble; the great departs, the small arrives; heaven and earth do not commune\",\n    w: \"Heaven and earth do not commune; the inferior advances. The superior man falls back upon his inner worth and does not let himself be honored with revenue.\",\n  },\n  {\n    u: \"䷌\",\n    n: \"同人\",\n    p: \"Tóng Rén\",\n    l: [1, 0, 1, 1, 1, 1],\n    dx: \"天與火，同人；君子以類族辨物\",\n    tu: \"同人，柔得位得中而應乎乾，曰同人。同人于野，亨，利涉大川。\",\n    en: \"Heaven with fire; the noble one organizes clans and distinguishes things\",\n    te: \"Fellowship: the yielding gains its rightful place, centered and responding to heaven. Fellowship in the open succeeds; it furthers crossing the great water.\",\n    w: \"Fellowship requires going beyond self-interest. Authentic community is built on openness — recognize when to yield rather than dominate.\",\n  },\n  {\n    u: \"䷍\",\n    n: \"大有\",\n    p: \"Dà Yǒu\",\n    l: [1, 1, 1, 1, 0, 1],\n    dx: \"火在天上，大有；君子以遏惡揚善\",\n    tu: \"大有，柔得尊位大中，而上下應之，曰大有。其德剛健而文明，應乎天而時行。\",\n    en: \"Fire in heaven; the noble one suppresses evil and promotes good\",\n    te: \"Great possession: the yielding attains the place of honor, greatly centered, as above and below respond. Its virtue is strong yet elegant, aligned with heaven, acting in season.\",\n    w: \"Virtue accumulated at one's center prevents loss. Authentic sincerity inspires compliance — heavenly support rewards sustained virtue.\",\n  },\n  {\n    u: \"䷎\",\n    n: \"謙\",\n    p: \"Qiān\",\n    l: [0, 0, 1, 0, 0, 0],\n    dx: \"地中有山，謙；君子以裒多益寡，稱物平施\",\n    tu: \"謙，亨。天道下濟而光明，地道卑而上行。天道虧盈而益謙，地道變盈而流謙。\",\n    en: \"A mountain within the earth; the noble one reduces excess to increase what is lacking, weighing things to distribute fairly\",\n    te: \"Modesty prevails. Heaven's way descends and shines; earth's way is lowly yet rises. Heaven diminishes the full and blesses the modest; earth transforms the full and flows toward the humble.\",\n    w: \"Heaven's way is to make full things less and to augment modest ones. Modesty carries things to completion — it is the handle by which the Way is grasped.\",\n  },\n  {\n    u: \"䷏\",\n    n: \"豫\",\n    p: \"Yù\",\n    l: [0, 0, 0, 1, 0, 0],\n    dx: \"雷出地奮，豫。先王以作樂崇德，殷薦之上帝，以配祖考\",\n    tu: \"豫，剛應而志行，順以動，豫。豫順以動，故天地如之，而況建侯行師乎。\",\n    en: \"Thunder emerges from earth; the ancient kings made music to honor virtue\",\n    te: \"Enthusiasm: the firm responds and will is carried out, moving in accord. Heaven and earth move in harmony — how much more so establishing leaders and mobilizing armies.\",\n    w: \"Enthusiasm organizes disparate elements through natural attraction, not force. A sober awakening from false enthusiasm is quite possible and favorable.\",\n  },\n  {\n    u: \"䷐\",\n    n: \"隨\",\n    p: \"Suí\",\n    l: [1, 0, 0, 1, 1, 0],\n    dx: \"澤中有雷，隨；君子以嚮晦入宴息\",\n    tu: \"隨，剛來而下柔，動而說，隨。大亨貞，無咎，而天下隨時。\",\n    en: \"Thunder within the lake; the noble one returns home at dusk to rest\",\n    te: \"Following: the firm comes to serve the yielding, moving with joy. Great success through constancy, no blame — all under heaven follows the season.\",\n    w: \"To follow what is correct brings good fortune — one does not lose oneself. Alignment with proper principles transforms both individual and circumstances.\",\n  },\n  {\n    u: \"䷑\",\n    n: \"蠱\",\n    p: \"Gǔ\",\n    l: [0, 1, 1, 0, 0, 1],\n    dx: \"山下有風，蠱；君子以振民育德\",\n    tu: \"蠱，剛上而柔下，巽而止，蠱。蠱元亨，而天下治也。\",\n    en: \"Wind below the mountain; the noble one stirs the people and nurtures virtue\",\n    te: \"Decay: firm above, yielding below; penetrating yet still, this is corruption. Working on what has decayed brings great success — the world is set right.\",\n    w: \"Rectifying inherited errors requires conscious engagement with old patterns. Stir up the people and strengthen their spirit — repair involves motivating others.\",\n  },\n  {\n    u: \"䷒\",\n    n: \"臨\",\n    p: \"Lín\",\n    l: [1, 1, 0, 0, 0, 0],\n    dx: \"澤上有地，臨；君子以教思無窮，容保民無疆\",\n    tu: \"臨，剛浸而長，說而順，剛中而應。大亨以正，天之道也。\",\n    en: \"Earth above the lake; the noble one teaches and reflects without limit, protecting the people without bounds\",\n    te: \"Approach: the firm swells and grows, joyous yet yielding, centered and responsive. Great success through what is right — this is heaven's way.\",\n    w: \"Walk in the middle. The will is directed inward — true progress comes from inner foundation rather than external achievements.\",\n  },\n  {\n    u: \"䷓\",\n    n: \"觀\",\n    p: \"Guān\",\n    l: [0, 0, 0, 0, 1, 1],\n    dx: \"風行地上，觀；先王以省方觀民設教\",\n    tu: \"大觀在上，順而巽，中正以觀天下。觀盥而不薦，有孚顒若。\",\n    en: \"Wind moves over earth; the ancient kings inspected regions and observed the people to guide them\",\n    te: \"Great contemplation above — yielding and penetrating, centered to view all under heaven. The ritual cleansing before the offering: sincerity fills all with reverence.\",\n    w: \"Genuine authority derives from understanding those you serve. Contemplation precedes action — self-examination is prerequisite for meaningful change.\",\n  },\n  {\n    u: \"䷔\",\n    n: \"噬嗑\",\n    p: \"Shì Kè\",\n    l: [1, 0, 0, 1, 0, 1],\n    dx: \"雷電噬嗑；先王以明罰敕法\",\n    tu: \"頤中有物，曰噬嗑。噬嗑而亨，剛柔分，動而明，雷電合而章。\",\n    en: \"Thunder and lightning; the ancient kings clarified penalties and refined laws\",\n    te: \"Something in the jaws must be bitten through. Biting through succeeds: firm and yielding separate, movement brings clarity — thunder and lightning unite in brilliance.\",\n    w: \"Resolving obstacles requires both clarity about what needs addressing and willingness to take firm corrective action. Thunder and lightning work together.\",\n  },\n  {\n    u: \"䷕\",\n    n: \"賁\",\n    p: \"Bì\",\n    l: [1, 0, 1, 0, 0, 1],\n    dx: \"山下有火，賁；君子以明庶政，无敢折獄\",\n    tu: \"賁，亨，柔來而文剛，故亨。分剛上而文柔，故小利有攸往。\",\n    en: \"Fire below the mountain; the noble one brings clarity to governance but dare not rashly decide legal cases\",\n    te: \"Grace and success: the yielding adorns the firm, hence success. The firm rises to pattern the yielding — small advantage in having somewhere to go.\",\n    w: \"The attribute of art consists of discarding nonessential adornments. Highest spirituality connects with complete absence of outward pretense.\",\n  },\n  {\n    u: \"䷖\",\n    n: \"剝\",\n    p: \"Bō\",\n    l: [0, 0, 0, 0, 0, 1],\n    dx: \"山附於地，剝；上以厚下安宅\",\n    tu: \"剝，剝也，柔變剛也。不利有攸往，小人長也。順而止之，觀象也。\",\n    en: \"Mountain rests upon earth; the ruler enriches those below to secure the dwelling\",\n    te: \"Splitting apart: the yielding erodes the firm. Unfavorable to go anywhere — the inferior is growing. Yield and halt; observe the signs.\",\n    w: \"Superior individuals survive by understanding natural rhythms. Decay precedes renewal — endure disintegration through steadfastness.\",\n  },\n  {\n    u: \"䷗\",\n    n: \"復\",\n    p: \"Fù\",\n    l: [1, 0, 0, 0, 0, 0],\n    dx: \"雷在地中，復；先王以至日閉關\",\n    tu: \"復亨，剛反，動而以順行，是以出入無疾，朋來無咎。\",\n    en: \"Thunder within the earth; the ancient kings closed the gates at solstice\",\n    te: \"Return and success: the firm returns, moving in accord with the natural flow. Coming and going without harm; friends arrive without blame.\",\n    w: \"Turn away from the confusion of external things, back to your inner light. In the depths of the soul, one sees the Divine — germinal, a potentiality.\",\n  },\n  {\n    u: \"䷘\",\n    n: \"无妄\",\n    p: \"Wú Wàng\",\n    l: [1, 0, 0, 1, 1, 1],\n    dx: \"天下雷行，物與无妄；先王以茂對時育萬物\",\n    tu: \"无妄，剛自外來而為主於內。動而健，剛中而應，大亨以正，天之命也。\",\n    en: \"Thunder moves beneath heaven; the ancient kings nourished all things in accord with the seasons\",\n    te: \"Innocence: the firm arrives from outside to rule within, moving with strength, centered and responsive. Great success through right action — this is heaven's decree.\",\n    w: \"Act from the heart without ulterior motive. When unexpected misfortune strikes, accept it without seeking remedy — medicine cannot cure what is destined.\",\n  },\n  {\n    u: \"䷙\",\n    n: \"大畜\",\n    p: \"Dà Xù\",\n    l: [1, 1, 1, 0, 0, 1],\n    dx: \"天在山中，大畜；君子以多識前言往行\",\n    tu: \"大畜，剛健篤實輝光，日新其德。剛上而尚賢，能止健，大正也。\",\n    en: \"Heaven within the mountain; the noble one learns much from the words and deeds of the past\",\n    te: \"Great taming: firm and strong, sincere and solid, radiant in light, daily renewing virtue. The firm rises to honor the worthy — able to restrain strength, this is great correctness.\",\n    w: \"Become acquainted with many sayings of antiquity and deeds of the past to strengthen character. Once mastery is achieved, unlimited potential becomes accessible.\",\n  },\n  {\n    u: \"䷚\",\n    n: \"頤\",\n    p: \"Yí\",\n    l: [1, 0, 0, 0, 0, 1],\n    dx: \"山下有雷，頤；君子以慎言語，節飲食\",\n    tu: \"頤，貞吉，養正則吉也。觀頤，觀其所養也。自求口實，觀其自養也。\",\n    en: \"Thunder below the mountain; the noble one is careful with words and moderate in eating\",\n    te: \"Nourishment: correctness brings fortune — nourishing what is right brings fortune. Observe what one nourishes; observe how one seeks to fill the mouth.\",\n    w: \"Those positioned higher illuminate and empower those below through proper nourishment. Nourishment is the transmission of insight and capability.\",\n  },\n  {\n    u: \"䷛\",\n    n: \"大過\",\n    p: \"Dà Guò\",\n    l: [0, 1, 1, 1, 1, 0],\n    dx: \"澤滅木，大過；君子以獨立不懼，遯世无悶\",\n    tu: \"大過，大者過也。棟橈，本末弱也。剛過而中，巽而說行，利有攸往。\",\n    en: \"Lake submerges the trees; the noble one stands alone without fear, withdrawing from the world without regret\",\n    te: \"Great excess: the great exceeds its bounds, the ridgepole sags — beginning and end are weak. Yet the firm exceeds while centered; gentle and joyous in action, advantage in going forward.\",\n    w: \"When standing alone, be unconcerned; if you must renounce the world, be undaunted. Maintain inner equanimity regardless of isolation.\",\n  },\n  {\n    u: \"䷜\",\n    n: \"坎\",\n    p: \"Kǎn\",\n    l: [0, 1, 0, 0, 1, 0],\n    dx: \"水洊至，習坎；君子以常德行，習教事\",\n    tu: \"習坎，重險也。水流而不盈，行險而不失其信。維心亨，乃以剛中也。\",\n    en: \"Water flows continuously; the noble one maintains constant virtue and practices teaching\",\n    te: \"Repeated danger — danger doubled. Water flows on without filling, traversing peril without losing its truth. The heart's persistence prevails through firmness at center.\",\n    w: \"Water flows on uninterruptedly and reaches its goal. Maintain virtue and continue meaningful work even amid peril.\",\n  },\n  {\n    u: \"䷝\",\n    n: \"離\",\n    p: \"Lí\",\n    l: [1, 0, 1, 1, 0, 1],\n    dx: \"明兩作，離；大人以繼明照于四方\",\n    tu: \"離，麗也。日月麗乎天，百穀草木麗乎土。重明以麗乎正，乃化成天下。\",\n    en: \"Brightness doubled; the great one spreads continuous light to all directions\",\n    te: \"Clinging means radiance: sun and moon cling to heaven, grains and plants cling to earth. Doubled brightness cleaving to what is right — thus transforming all under heaven.\",\n    w: \"The beginning holds the seed of all that follows. Clinging to temporary states — joy or sorrow — creates instability. Find the middle way.\",\n  },\n  {\n    u: \"䷞\",\n    n: \"咸\",\n    p: \"Xián\",\n    l: [0, 0, 1, 1, 1, 0],\n    dx: \"山上有澤，咸；君子以虛受人\",\n    tu: \"咸，感也。柔上而剛下，二氣感應以相與。止而說，男下女，是以亨利貞。\",\n    en: \"Lake upon the mountain; the noble one receives others with emptiness\",\n    te: \"Influence means mutual feeling: yielding above, firm below — two energies sensing and responding. Stillness with joy, the man placing himself below the woman — hence success through constancy.\",\n    w: \"The superior person encourages approach through willingness to receive. Authentic influence flows from inner clarity, not calculated manipulation.\",\n  },\n  {\n    u: \"䷟\",\n    n: \"恆\",\n    p: \"Héng\",\n    l: [0, 1, 1, 1, 0, 0],\n    dx: \"雷風恆；君子以立不易方\",\n    tu: \"恆，久也。剛上而柔下，雷風相與，巽而動，剛柔皆應，恆。\",\n    en: \"Thunder and wind endure; the noble one stands firm without changing direction\",\n    te: \"Duration means enduring: firm above, yielding below — thunder and wind together, penetrating yet moving, firm and yielding each responding. This is constancy.\",\n    w: \"Consistency through balance — maintain a central position and fulfill your appropriate role. Persistence must align with proper placement, not blind stubbornness.\",\n  },\n  {\n    u: \"䷠\",\n    n: \"遯\",\n    p: \"Dùn\",\n    l: [0, 0, 1, 1, 1, 1],\n    dx: \"天下有山，遯；君子以遠小人，不惡而嚴\",\n    tu: \"遯亨，遯而亨也。剛當位而應，與時行也。小利貞，浸而長也。\",\n    en: \"Mountain under heaven; the noble one keeps distance from petty people, firm but not hostile\",\n    te: \"Retreat and success: retreating yet prospering. The firm holds its place responsively, moving with the time. Small advantage in constancy — for now the dark gradually grows.\",\n    w: \"Retreat succeeds through proper timing. Hatred binds you to the hated object — dignified disassociation enables successful withdrawal.\",\n  },\n  {\n    u: \"䷡\",\n    n: \"大壯\",\n    p: \"Dà Zhuàng\",\n    l: [1, 1, 1, 1, 0, 0],\n    dx: \"雷在天上，大壯；君子以非禮弗履\",\n    tu: \"大壯，大者壯也。剛以動，故壯。大壯利貞，大者正也。\",\n    en: \"Thunder in heaven; the noble one does not tread where propriety forbids\",\n    te: \"Great power: the great is strong, the firm moves — hence strength. Great power benefits through constancy; the great must be correct.\",\n    w: \"The inferior man uses his power; this the superior man does not do. Great power must be governed by restraint.\",\n  },\n  {\n    u: \"䷢\",\n    n: \"晉\",\n    p: \"Jìn\",\n    l: [0, 0, 0, 1, 0, 1],\n    dx: \"明出地上，晉；君子以自昭明德\",\n    tu: \"晉，進也。明出地上，順而麗乎大明，柔進而上行。\",\n    en: \"Brightness emerges above earth; the noble one illuminates their own virtue\",\n    te: \"Progress means advancing: brightness emerges above earth, yielding yet cleaving to great clarity. The soft advances and moves upward.\",\n    w: \"Progress comes through developing one's own character. In times of advancement, unethical shortcuts become tempting but ultimately expose themselves.\",\n  },\n  {\n    u: \"䷣\",\n    n: \"明夷\",\n    p: \"Míng Yí\",\n    l: [1, 0, 1, 0, 0, 0],\n    dx: \"明入地中，明夷；君子以蒞眾用晦而明\",\n    tu: \"明入地中，明夷。內文明而外柔順，以蒙大難，文王以之。\",\n    en: \"Brightness enters the earth; the noble one governs by concealing brilliance within\",\n    te: \"Brightness enters earth — the light is wounded. Inwardly cultured, outwardly yielding, enduring great hardship. Thus did King Wen survive.\",\n    w: \"The light has sunk into earth. Veil your light yet still shine — adversity tests character, but concealed integrity ultimately prevails.\",\n  },\n  {\n    u: \"䷤\",\n    n: \"家人\",\n    p: \"Jiā Rén\",\n    l: [1, 0, 1, 0, 1, 1],\n    dx: \"風自火出，家人；君子以言有物而行有恆\",\n    tu: \"家人，女正位乎內，男正位乎外。男女正，天地之大義也。家人有嚴君焉，父母之謂也。\",\n    en: \"Wind comes from fire; the noble one speaks with substance and acts with consistency\",\n    te: \"The family: woman correct in her place within, man correct in his place without — this is heaven and earth's great principle. The family has its stern ruler: this means father and mother.\",\n    w: \"Make demands first of all upon oneself. Personal integrity and self-examination form the foundation for familial and social order.\",\n  },\n  {\n    u: \"䷥\",\n    n: \"睽\",\n    p: \"Kuí\",\n    l: [1, 1, 0, 1, 0, 1],\n    dx: \"上火下澤，睽；君子以同而異\",\n    tu: \"睽，火動而上，澤動而下。二女同居，其志不同行。說而麗乎明，柔進而上行。\",\n    en: \"Fire above, lake below; the noble one finds unity within difference\",\n    te: \"Opposition: fire moves up, lake moves down — two daughters dwell together yet their wills diverge. Joyous yet cleaving to clarity; the yielding advances upward.\",\n    w: \"Fire and lake: their natures diverge, yet they can illuminate each other. In times of opposition, attend to small matters; great undertakings breed mistrust.\",\n  },\n  {\n    u: \"䷦\",\n    n: \"蹇\",\n    p: \"Jiǎn\",\n    l: [0, 0, 1, 0, 1, 0],\n    dx: \"山上有水，蹇；君子以反身修德\",\n    tu: \"蹇，難也，險在前也。見險而能止，知矣哉。蹇利西南，往得中也。\",\n    en: \"Water upon the mountain; the noble one turns inward to cultivate virtue\",\n    te: \"Obstruction means difficulty — danger lies ahead. Seeing danger and able to stop: this is wisdom. Obstruction favors the southwest; going there finds the center.\",\n    w: \"Impasse is an opportunity for self-examination. Turn attention inward and submit to higher wisdom rather than forcing external progress.\",\n  },\n  {\n    u: \"䷧\",\n    n: \"解\",\n    p: \"Xiè\",\n    l: [0, 1, 0, 1, 0, 0],\n    dx: \"雷雨作，解；君子以赦過宥罪\",\n    tu: \"解，險以動，動而免乎險，解。解利西南，往得眾也。\",\n    en: \"Thunder and rain arise; the noble one pardons mistakes and forgives faults\",\n    te: \"Deliverance: danger spurs movement; moving to escape peril, this is release. Deliverance favors the southwest — going there wins the multitude.\",\n    w: \"Thunder and rain bring release. The superior man pardons mistakes and forgives misdeeds — when deliverance comes, return swiftly to rest.\",\n  },\n  {\n    u: \"䷨\",\n    n: \"損\",\n    p: \"Sǔn\",\n    l: [1, 1, 0, 0, 0, 1],\n    dx: \"山下有澤，損；君子以懲忿窒欲\",\n    tu: \"損，損下益上，其道上行。損而有孚，元吉無咎，可貞。\",\n    en: \"Lake below the mountain; the noble one controls anger and restrains desire\",\n    te: \"Decrease: lessening below to increase above — its way moves upward. Decrease with sincerity: great fortune, no blame; one may persevere.\",\n    w: \"Control anger and restrain instincts. True compensation occurs through internal regulation — moderate the lower self to allow higher wisdom to manifest.\",\n  },\n  {\n    u: \"䷩\",\n    n: \"益\",\n    p: \"Yì\",\n    l: [1, 0, 0, 0, 1, 1],\n    dx: \"風雷益；君子以見善則遷，有過則改\",\n    tu: \"益，損上益下，民說無疆。自上下下，其道大光。利有攸往，中正有慶。\",\n    en: \"Wind and thunder increase; the noble one moves toward good and corrects faults\",\n    te: \"Increase: lessening above to increase below — the people rejoice without limit. Descending from on high, its way shines greatly. Advantage in having somewhere to go; centered and correct brings blessing.\",\n    w: \"When the superior man sees good, he moves toward it. When he has faults, he corrects them. To rule truly is to serve — decrease oneself to increase the people.\",\n  },\n  {\n    u: \"䷪\",\n    n: \"夬\",\n    p: \"Guài\",\n    l: [1, 1, 1, 1, 1, 0],\n    dx: \"澤上於天，夬；君子以施祿及下，居德則忌\",\n    tu: \"夬，決也，剛決柔也。健而說，決而和。揚于王庭，柔乘五剛也。\",\n    en: \"Lake rises to heaven; the noble one distributes blessings to those below, dwelling in virtue and shunning excess\",\n    te: \"Breakthrough: resolution — the firm displaces the yielding. Strong yet joyous, decisive yet harmonious. Proclaimed in the king's court: the yielding rides upon five strong lines.\",\n    w: \"Resoluteness requires both preparation and balance. Act from the middle way rather than from pride, stubbornness, or insufficient readiness.\",\n  },\n  {\n    u: \"䷫\",\n    n: \"姤\",\n    p: \"Gòu\",\n    l: [0, 1, 1, 1, 1, 1],\n    dx: \"天下有風，姤；后以施命誥四方\",\n    tu: \"姤，遇也，柔遇剛也。勿用取女，不可與長也。天地相遇，品物咸章也。\",\n    en: \"Wind beneath heaven; the ruler proclaims commands to all directions\",\n    te: \"Coming to meet: the yielding encounters the firm. Do not marry such a woman — one cannot grow with her. When heaven and earth meet, all creatures become manifest.\",\n    w: \"Insignificant forces must be tolerated to keep them well disposed. Work through patience and character rather than harsh rejection.\",\n  },\n  {\n    u: \"䷬\",\n    n: \"萃\",\n    p: \"Cuì\",\n    l: [0, 0, 0, 1, 1, 0],\n    dx: \"澤上於地，萃；君子以除戎器，戒不虞\",\n    tu: \"萃，聚也。順以說，剛中而應，故聚也。王假有廟，致孝享也。\",\n    en: \"Lake upon earth; the noble one prepares weapons and guards against the unexpected\",\n    te: \"Gathering: assembly. Yielding with joy, the firm centered and responsive — hence gathering. The king approaches his temple: this expresses devoted reverence.\",\n    w: \"Genuine gathering requires subordinating ego to larger purpose. When individuals sacrifice personal gain for collective harmony, conditions become favorable.\",\n  },\n  {\n    u: \"䷭\",\n    n: \"升\",\n    p: \"Shēng\",\n    l: [0, 1, 1, 0, 0, 0],\n    dx: \"地中生木，升；君子以順德，積小以高大\",\n    tu: \"柔以時升，巽而順，剛中而應，是以大亨。用見大人，勿恤，有慶也。\",\n    en: \"Wood grows within earth; the noble one accumulates small virtues to achieve greatness\",\n    te: \"Pushing upward: the yielding rises with the season — penetrating and compliant, the firm centered and responsive, hence great success. Going to see the great person, do not worry; there will be blessing.\",\n    w: \"Authentic advancement requires sincerity and devotion. Measured progress fulfills aims; unchecked ambition at one's peak leads to loss.\",\n  },\n  {\n    u: \"䷮\",\n    n: \"困\",\n    p: \"Kùn\",\n    l: [0, 1, 0, 1, 1, 0],\n    dx: \"澤無水，困；君子以致命遂志\",\n    tu: \"困，剛揜也。險以說，困而不失其所亨，其唯君子乎。\",\n    en: \"Lake without water; the noble one risks life to fulfill their purpose\",\n    te: \"Oppression: the firm is eclipsed. Danger meets joy; exhausted yet not losing what brings success — only the noble one can do this.\",\n    w: \"Outer circumstances press inward, yet the heart remains free. The superior man perseveres with inner cheerfulness that cannot be exhausted.\",\n  },\n  {\n    u: \"䷯\",\n    n: \"井\",\n    p: \"Jǐng\",\n    l: [0, 1, 1, 0, 1, 0],\n    dx: \"木上有水，井；君子以勞民勸相\",\n    tu: \"巽乎水而上水，井。井養而不窮也。改邑不改井，乃以剛中也。\",\n    en: \"Water above wood; the noble one encourages the people to help one another\",\n    te: \"The well: wood penetrates and draws up water. The well nourishes without exhausting. Towns change but the well does not — this is due to firmness at center.\",\n    w: \"A man must put himself in order. The best water is only potential refreshment until brought up — wisdom only matters when transformed into lived experience.\",\n  },\n  {\n    u: \"䷰\",\n    n: \"革\",\n    p: \"Gé\",\n    l: [1, 0, 1, 1, 1, 0],\n    dx: \"澤中有火，革；君子以治曆明時\",\n    tu: \"革，水火相息，二女同居，其志不相得，曰革。巳日乃孚，革而信之。\",\n    en: \"Fire within the lake; the noble one orders the calendar and clarifies the seasons\",\n    te: \"Revolution: water and fire oppose each other; two daughters dwell together but their wills clash — hence revolution. On the accomplished day comes trust; change and be believed.\",\n    w: \"Genuine transformation cannot be forced prematurely. When talk of revolution has gone three rounds, one may commit.\",\n  },\n  {\n    u: \"䷱\",\n    n: \"鼎\",\n    p: \"Dǐng\",\n    l: [0, 1, 1, 1, 0, 1],\n    dx: \"木上有火，鼎；君子以正位凝命\",\n    tu: \"鼎，象也。以木巽火，亨飪也。聖人亨以享上帝，而大亨以養聖賢。\",\n    en: \"Fire above wood; the noble one rectifies their position and fulfills destiny\",\n    te: \"The cauldron: a symbol. Wood feeds fire for cooking. The sage offers sacrifice to the supreme; great nourishment to cultivate the wise and worthy.\",\n    w: \"The superior man consolidates fate by making position correct. Personal integrity is an active consolidation of life direction.\",\n  },\n  {\n    u: \"䷲\",\n    n: \"震\",\n    p: \"Zhèn\",\n    l: [1, 0, 0, 1, 0, 0],\n    dx: \"洊雷震；君子以恐懼修省\",\n    tu: \"震亨，震來虩虩，恐致福也。笑言啞啞，後有則也。\",\n    en: \"Repeated thunder; the noble one cultivates reverence and self-reflection\",\n    te: \"Thunder and success: the shock arrives with fear and trembling — fear brings blessing. Laughter and talk follow; afterward comes proper measure.\",\n    w: \"Fear brings good fortune; afterward one has a rule. The superior man uses apprehension as a catalyst for establishing proper principles.\",\n  },\n  {\n    u: \"䷳\",\n    n: \"艮\",\n    p: \"Gèn\",\n    l: [0, 0, 1, 0, 0, 1],\n    dx: \"兼山艮；君子以思不出其位\",\n    tu: \"艮，止也。時止則止，時行則行，動靜不失其時，其道光明。\",\n    en: \"Mountains joined together; the noble one keeps thoughts within their place\",\n    te: \"Keeping still means stopping. When it is time to stop, stop; when time to act, act. Movement and rest do not miss their moment — this way shines bright.\",\n    w: \"The superior man does not permit thoughts to go beyond the situation. Noble-hearted keeping still leads to complete inner development.\",\n  },\n  {\n    u: \"䷴\",\n    n: \"漸\",\n    p: \"Jiàn\",\n    l: [0, 0, 1, 0, 1, 1],\n    dx: \"山上有木，漸；君子以居賢德善俗\",\n    tu: \"漸之進也，女歸吉也。進得位，往有功也。進以正，可以正邦也。\",\n    en: \"Wood upon the mountain; the noble one dwells in virtue and improves customs\",\n    te: \"Development: gradual progress. The maiden marrying brings fortune — advancing finds its place, going forward brings achievement. Advancing through rightness, one may set the state in order.\",\n    w: \"The wild goose approaches the shore step by step. The superior man abides in dignity and virtue, and thereby improves the customs of the people.\",\n  },\n  {\n    u: \"䷵\",\n    n: \"歸妹\",\n    p: \"Guī Mèi\",\n    l: [1, 1, 0, 1, 0, 0],\n    dx: \"澤上有雷，歸妹；君子以永終知敝\",\n    tu: \"歸妹，天地之大義也。天地不交而萬物不興。歸妹，人之終始也。\",\n    en: \"Thunder above the lake; the noble one understands flaws by considering the end\",\n    te: \"The marrying maiden: heaven and earth's great meaning. Without their union, nothing flourishes. The maiden's marriage marks the end and beginning of human life.\",\n    w: \"The superior man understands the transitory in light of eternity. Recognize emerging tendencies early; guide them before they become unmanageable.\",\n  },\n  {\n    u: \"䷶\",\n    n: \"豐\",\n    p: \"Fēng\",\n    l: [1, 0, 1, 1, 0, 0],\n    dx: \"雷電皆至，豐；君子以折獄致刑\",\n    tu: \"豐，大也。明以動，故豐。王假之，尚大也。勿憂宜日中。\",\n    en: \"Thunder and lightning arrive together; the noble one decides cases and applies consequences\",\n    te: \"Abundance means greatness: clarity with movement, hence fullness. The king reaches this — exalting what is great. Do not worry; be like the sun at noon.\",\n    w: \"Abundance requires maintaining clarity. The superior man rouses will through trustworthiness — sincerity is the foundation for influence.\",\n  },\n  {\n    u: \"䷷\",\n    n: \"旅\",\n    p: \"Lǚ\",\n    l: [0, 0, 1, 1, 0, 1],\n    dx: \"山上有火，旅；君子以明慎用刑而不留獄\",\n    tu: \"旅，小亨，柔得中乎外而順乎剛。止而麗乎明，是以小亨，旅貞吉也。\",\n    en: \"Fire upon the mountain; the noble one applies consequences wisely, resolves matters swiftly\",\n    te: \"The wanderer: small success. The yielding finds center outside, complying with the firm; resting yet cleaving to clarity — hence small success. The wanderer's constancy brings fortune.\",\n    w: \"The wanderer's resolve and respectful conduct determine outcomes. If one deals like a stranger with subordinates, one rightly loses them.\",\n  },\n  {\n    u: \"䷸\",\n    n: \"巽\",\n    p: \"Xùn\",\n    l: [0, 1, 1, 0, 1, 1],\n    dx: \"隨風巽；君子以申命行事\",\n    tu: \"重巽以申命，剛巽乎中正而志行，柔皆順乎剛。是以小亨，利有攸往。\",\n    en: \"Winds following; the noble one reiterates commands and carries out affairs\",\n    te: \"The gentle doubled to spread commands: the firm penetrates to what is centered and correct, and will is carried out. The yielding all follow the firm — hence small success, advantage in having somewhere to go.\",\n    w: \"Wind follows upon wind. The gentle penetrates as water wears away stone — not through force, but through quiet persistence in a single direction.\",\n  },\n  {\n    u: \"䷹\",\n    n: \"兌\",\n    p: \"Duì\",\n    l: [1, 1, 0, 1, 1, 0],\n    dx: \"麗澤兌；君子以朋友講習\",\n    tu: \"兌，說也。剛中而柔外，說以利貞，是以順乎天而應乎人。\",\n    en: \"Lakes joined together; the noble one discusses and learns with friends\",\n    te: \"The joyous means joy: firm within, yielding without; joy with beneficial constancy. Thus one accords with heaven and responds to humanity.\",\n    w: \"Genuine joy arises from unwavering confidence in one's authentic purpose. It rests with the individual whether to let oneself be seduced.\",\n  },\n  {\n    u: \"䷺\",\n    n: \"渙\",\n    p: \"Huàn\",\n    l: [0, 1, 0, 0, 1, 1],\n    dx: \"風行水上，渙；先王以享于帝立廟\",\n    tu: \"渙亨，剛來而不窮，柔得位乎外而上同。王假有廟，王乃在中也。\",\n    en: \"Wind moves over water; the ancient kings made offerings and established temples\",\n    te: \"Dispersion and success: the firm comes without exhausting, the yielding finds place outside and unites above. The king approaches his temple — the king takes his place at center.\",\n    w: \"In times of general disunity, a great idea provides a focal point for recovery. Spiritual clarity enables reorganization of fractured elements.\",\n  },\n  {\n    u: \"䷻\",\n    n: \"節\",\n    p: \"Jié\",\n    l: [1, 1, 0, 0, 1, 0],\n    dx: \"澤上有水，節；君子以制數度，議德行\",\n    tu: \"節亨，剛柔分而剛得中。苦節不可貞，其道窮也。\",\n    en: \"Water above the lake; the noble one establishes measures and deliberates on virtuous conduct\",\n    te: \"Limitation and success: firm and yielding separate, yet the firm finds center. Bitter limitation cannot be held to — its way leads to exhaustion.\",\n    w: \"Proper boundaries create internal strength. By holding back, one accumulates energy to act with force when the time comes.\",\n  },\n  {\n    u: \"䷼\",\n    n: \"中孚\",\n    p: \"Zhōng Fú\",\n    l: [1, 1, 0, 0, 1, 1],\n    dx: \"澤上有風，中孚；君子以議獄緩死\",\n    tu: \"中孚，柔在內而剛得中，說而巽，孚乃化邦也。豚魚吉，信及豚魚也。\",\n    en: \"Wind above the lake; the noble one deliberates on cases and delays executions\",\n    te: \"Inner truth: yielding within, firm at center; joyous yet penetrating — sincerity transforms the state. Fortune with pigs and fish: sincerity reaches even pigs and fish.\",\n    w: \"True power emerges from internal character. Without central transformative force from within, external unity becomes deception.\",\n  },\n  {\n    u: \"䷽\",\n    n: \"小過\",\n    p: \"Xiǎo Guò\",\n    l: [0, 0, 1, 1, 0, 0],\n    dx: \"山上有雷，小過；君子以行過乎恭\",\n    tu: \"小過，小者過而亨也。過以利貞，與時行也。柔得中，是以小事吉也。\",\n    en: \"Thunder above the mountain; the noble one exceeds in reverence\",\n    te: \"Small exceeding: the small exceeds and succeeds. Exceeding benefits through constancy, moving with the season. The yielding finds center — hence fortune in small matters.\",\n    w: \"The superior man fixes eyes more closely on duty than the ordinary person. Genuine strength lies in meticulous attention to conduct.\",\n  },\n  {\n    u: \"䷾\",\n    n: \"既濟\",\n    p: \"Jì Jì\",\n    l: [1, 0, 1, 0, 1, 0],\n    dx: \"水在火上，既濟；君子以思患而預防之\",\n    tu: \"既濟亨小，利貞。剛柔正而位當也。初吉，柔得中也。終止則亂，其道窮也。\",\n    en: \"Water above fire; the noble one anticipates trouble and prepares against it\",\n    te: \"After completion: small success, beneficial constancy. Firm and yielding correct in their proper places. Good at the beginning — the yielding finds center. Stopping at the end brings disorder, for the way exhausts itself.\",\n    w: \"Small sincere efforts aligned with circumstances succeed better than grandiose displays. Know when to stop; restraint prevents disorder.\",\n  },\n  {\n    u: \"䷿\",\n    n: \"未濟\",\n    p: \"Wèi Jì\",\n    l: [0, 1, 0, 1, 0, 1],\n    dx: \"火在水上，未濟；君子以慎辨物居方\",\n    tu: \"未濟亨，柔得中也。小狐汔濟，未出中也。濡其尾，無攸利，不續終也。\",\n    en: \"Fire above water; the noble one carefully discerns things and places them properly\",\n    te: \"Before completion and success: the yielding finds center. The little fox nearly crosses — not yet out of the middle. Wetting its tail, no advantage; the end is not yet continued.\",\n    w: \"Proper positioning combined with unwavering correctness produces meaningful change. Internal alignment precedes external transformation.\",\n  },\n]\n\n// ─────────────────────────────────────────────────────────────────────────────\n// Verification (development only)\n// ─────────────────────────────────────────────────────────────────────────────\n\n/** Verify BINARY_TO_KW matches GUA.l fields. Run: bun iching-daily.ts --verify */\nfunction verifyBinaryTable(): void {\n  const errors: string[] = []\n  for (let kw = 1; kw <= 64; kw++) {\n    const g = GUA[kw - 1]\n    const lower = g.l[0] + g.l[1] * 2 + g.l[2] * 4\n    const upper = g.l[3] + g.l[4] * 2 + g.l[5] * 4\n    const index = lower + upper * 8\n    if (BINARY_TO_KW[index] !== kw) {\n      errors.push(`#${kw} ${g.n}: index ${index} → ${BINARY_TO_KW[index]} (expected ${kw})`)\n    }\n  }\n  if (errors.length === 0) {\n    console.log(\"✅ All 64 BINARY_TO_KW mappings verified against GUA.l\")\n  } else {\n    console.log(\"❌ Errors found:\")\n    errors.forEach((e) => console.log(\"  \" + e))\n  }\n}\n\nif (process.argv.includes(\"--verify\")) {\n  verifyBinaryTable()\n  process.exit(0)\n}\n",
        "cc-iching/skills/iching/SKILL.md": "---\nname: iching\ndescription: \"This skill should be used when: (1) user discusses their daily I Ching reading/cast/hexagram and wants deeper exploration, (2) user wants to capture an insight about today's reading to their journal, (3) user asks about derived hexagrams (mirror/綜卦, polarity/錯卦, nuclear/互卦), (4) user wants to review I Ching history or patterns. Triggers: mentions of hexagram names, 'my cast', 'today's reading', 'note this', or requests for iching journal/history.\"\n---\n\n# I Ching Companion\n\n## Premise\n\nThe cast is true. Trust this.\n\nIf true, the hexagram is already everywhere in the day — the project, the conversation, the code, the decisions. It isn't a message to decode. It's a lens already present.\n\nObserve. Don't interpret. Notice where the pattern is already manifesting. Let the user see it themselves.\n\n## Files\n\n| File | Purpose |\n|------|---------|\n| `~/.claude/iching.json` | Today's cast |\n| `~/.claude/iching.jsonl` | History archive |\n| `~/.claude/iching-journal.md` | Narrative journal |\n\nHexagram data lives in the hook file (GUA array with 64 entries, 5 commentary styles each).\n\n## Cross-Context\n\nThe reading lives in `~/.claude/` — accessible from any project. The current working directory IS context.\n\nProject sheds light on reading. Reading sheds light on project. Don't force — notice.\n\n## Journal Format\n\n```markdown\n## YYYY-MM-DD ䷲ 震 → ䷈ 小畜 [2,3,4,5,6]\n**Context:** What was on mind when cast\n**Project:** What was being worked on\n\n[Insight that emerged — user's words, not elaboration]\n\n**Outcome:** (added later) What happened after\n\n---\n```\n\n## Arc-Tracking\n\nHexagrams connect across days. The I Ching doesn't give isolated messages — it unfolds a narrative.\n\n### What to Track\n\n**1. Returning Hexagrams**\nWhen a hexagram appears as primary that was previously derived (互卦/錯卦/綜卦/之卦), note the connection:\n- \"師 returns (was 綜卦 three days ago)\"\n- \"无妄 returns (was becoming last week)\"\n\nWhat was latent is now manifest. The pattern is moving.\n\n**2. Persistent 互卦 (Nuclear)**\nWhen the same nuclear hexagram appears on consecutive days:\n- \"蹇 stays as 互卦 (2nd day)\" → unresolved root obstruction\n- The 互卦 reveals what's hidden within. Repetition means the core issue persists.\n\n**3. Named Arcs**\nTrack hexagrams associated with ongoing projects or relationships:\n- \"[Project] arc: 豐→震→隨→師→豫→比\"\n- Name the arc when it begins. Note when it completes.\n\n**4. Mirror Patterns (綜卦)**\nWhen the 綜卦 describes a current behavior pattern:\n- \"賁 (mirror): adorning before acting — mirroring backwards\"\n- The mirror shows what you might be doing unconsciously.\n\n### Journal Arc Notation\n\nUse the **Arc:** field in journal entries:\n\n```markdown\n**Arc:** 隨 returns (was primary earlier). 小畜 as 錯卦. Circle completing.\n```\n\nOr for persistent patterns:\n\n```markdown\n**Arc:** 蹇 stays as 互卦 (2nd day). Root obstruction persists.\n```\n\n### Querying History for Arcs\n\nWhen analyzing patterns:\n\n```bash\n# Find all appearances of a hexagram as nuclear\ncat ~/.claude/iching.jsonl | jq 'select(.cast.nuclear == 39) | .date'\n\n# Find when hexagram appeared as primary vs derived\ncat ~/.claude/iching.jsonl | jq -r '[.date, .cast.primary, .cast.becoming // \"-\", .cast.nuclear] | @tsv'\n```\n\n### Arc Insight Pattern\n\nWhen an arc completes or a pattern is recognized, document the insight:\n\n> \"[Root pattern identified]: [What the arc revealed]\"\n\nThis transforms hexagram observation into self-knowledge.\n\n## Glossary\n\nBuild over time. Track recurring figures, projects, themes by hexagram association.\n\nExamples:\n- `ming yi lord`: emerged from 明夷, business contact\n- `cc-iching`: project born under 震\n\nWhen user references someone/something that appeared in a previous reading, note the hexagram association.\n\n## Hexagram-Project Birth\n\nWhen a project starts and a reading appears that day — note it. The project carries that hexagram's character.\n\n## Patterns\n\nWhen user asks about patterns, read `~/.claude/iching.jsonl` and analyze. You know how.\n\n## Derived Hexagrams\n\n| Type | Chinese | Meaning |\n|------|---------|---------|\n| 綜卦 | mirror | Opposite vantage — flip upside down |\n| 錯卦 | polarity | Complementary opposite — invert all lines |\n| 互卦 | nuclear | Hidden within — core driver from inner lines |\n| 之卦 | becoming | Where it's heading — result of changing lines |\n| 對角卦 | diagonal | 錯+綜 combined — the furthest point in the square |\n\n### 對角卦 (Diagonal)\n\nThe diagonal hexagram applies both transformations: invert all lines, then flip. It represents the maximum distance from the primary hexagram.\n\n**Special cases:**\n- Self-mirroring hexagrams (8 total): diagonal = polarity (no distinct 4th corner)\n- Locked pairs (错综同象): diagonal = self (自返) — the square collapses\n\n## 来知德 Framework (《周易集注》)\n\n| Type | Function | Chinese |\n|------|----------|---------|\n| 綜卦 | Surface/interior relation | 表里关系 |\n| 錯卦 | Contradiction harmonized | 矛盾调和 |\n| 互卦 | Hidden trajectory | 潜藏轨迹 |\n| 對角卦 | Extreme reversal | 極反 |\n\nHook shows Chinese variants (50% chance): 表里, 矛盾调和, 潜藏轨迹, 所往, 極反.\n\n## Locked Pairs (错综同象)\n\n4 hexagram pairs where 綜卦 = 錯卦:\n- 泰/否 (11/12)\n- 隨/蠱 (17/18)\n- 漸/歸妹 (53/54)\n- 既濟/未濟 (63/64)\n\n来知德: \"送迎相因，进退一体\" (sending and receiving are interdependent). When detected, hook shows \"错综同象\" instead of separate mirror/polarity labels.\n\n## Second Opinion: DeepSeek R1\n\nFor deeper readings, use DeepSeek R1 (`deepseek/deepseek-r1`) via the `mcp__pal__chat` tool with a Chinese prompt. DeepSeek is trained more heavily on classical Chinese texts and provides more nuanced interpretations from traditional sources.\n\n**Critical: Role-Priming Required**\n\nDeepSeek defaults to technical-assistant mode and will hedge on \"metaphysical\" topics without explicit role-priming. Start with a scholar persona to unlock traditional interpretation:\n\nExample prompt:\n```\n你是一位精通《周易》的学者，擅长解读卦象、爻辞与卦变。\n\n我今天的易经卦是 [hexagram] → [becoming]，变爻 [lines]。\n\n情况：[context]\n\n请从易经角度分析：\n1. [primary]变[becoming]的含义\n2. 变爻的综合解读\n3. 互卦、错卦、综卦如何补充理解\n4. 针对这个情况，卦象建议怎么做？\n```\n\n**Alternative role-primes:**\n- `你是一位研究《易经》多年的道家学者`\n- `请以传统易学的角度来分析`\n- `作为周易研究者，请提供深入解读`\n\nUse `thinking_mode: \"high\"` for thorough analysis.\n"
      },
      "plugins": [
        {
          "name": "cc-iching",
          "source": "./cc-iching",
          "version": "1.0.0",
          "description": "Daily I Ching divination with authentic 3-coin casting and true entropy",
          "author": {
            "name": "pro-vi"
          },
          "license": "MIT",
          "keywords": [
            "i-ching",
            "divination",
            "hook"
          ],
          "categories": [
            "divination",
            "hook",
            "i-ching"
          ],
          "install_commands": [
            "/plugin marketplace add pro-vi/cc-provide",
            "/plugin install cc-iching@cc-provide"
          ]
        }
      ]
    }
  ]
}