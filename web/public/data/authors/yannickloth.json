{
  "author": {
    "id": "yannickloth",
    "display_name": "Yannick Loth",
    "avatar_url": "https://avatars.githubusercontent.com/u/727881?u=5695ae7ef945df90ca36f5792d07a6bbe6b2016f&v=4"
  },
  "marketplaces": [
    {
      "name": "yannickloth-claude-router-system",
      "version": null,
      "description": "Intelligent routing system for Claude Code with IVP-compliant architecture",
      "repo_full_name": "yannickloth/claude-router-system",
      "repo_url": "https://github.com/yannickloth/claude-router-system",
      "repo_description": "Reusable router system for Claude Code with IVP architecture, supporting intelligent agent delegation and cost optimization",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-01T18:34:37Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"yannickloth-claude-router-system\",\n  \"owner\": {\n    \"name\": \"Yannick Loth\"\n  },\n  \"metadata\": {\n    \"description\": \"Intelligent routing system for Claude Code with IVP-compliant architecture\",\n    \"homepage\": \"https://github.com/yannickloth/claude-router-system\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-router-system\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"Yannick Loth\"\n      },\n      \"source\": \"./\",\n      \"category\": \"development\",\n      \"description\": \"Intelligent routing system for Claude Code with IVP-compliant architecture. Routes all requests through a central router that delegates to specialized or general agents based on task complexity, risk assessment, and cost optimization.\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"claude-router-system\",\n  \"version\": \"1.1.0\",\n  \"description\": \"Intelligent routing system for Claude Code with IVP-compliant architecture. Routes all requests through a central router that delegates to specialized or general agents based on task complexity, risk assessment, and cost optimization.\",\n  \"author\": {\n    \"name\": \"Yannick Loth\"\n  },\n  \"license\": \"MIT\",\n  \"homepage\": \"https://github.com/yannickloth/claude-router-system\",\n  \"repository\": \"https://github.com/yannickloth/claude-router-system\",\n  \"keywords\": [\n    \"router\",\n    \"agents\",\n    \"delegation\",\n    \"cost-optimization\",\n    \"ivp\",\n    \"architecture\"\n  ],\n  \"hooks\": \"./hooks/hooks.json\"\n}",
        "README.md": "# Claude Router System\n\n**Intelligent routing architecture for Claude Code with IVP-compliant design, cost optimization, and specialized agent delegation.**\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![Claude Code](https://img.shields.io/badge/Claude-Code-blue.svg)](https://github.com/anthropics/claude-code)\n\n---\n\n## What This Plugin Provides\n\n### ğŸ¯ Core Routing System (Phase 1 & 2)\n- **Central router**: All requests flow through a single routing decision point\n- **Risk assessment**: Automatic evaluation of destructive operations and high-stakes changes\n- **Agent matching**: Routes to appropriate agent based on task complexity and domain\n- **Cost optimization**: Strategy advisor analyzes execution patterns for cost efficiency\n- **Semantic caching**: Deduplication of similar requests with 40-50% hit rate\n- **Work coordination**: Parallel work tracking with completion guarantees\n\n### ğŸ¯ Domain Integration (Phase 3)\n- **Domain detection**: Automatic detection of project type (LaTeX, software-dev, knowledge-mgmt)\n- **Workflow management**: Domain-specific workflows with quality gates and parallelism settings\n- **Lazy context loading**: LRU-cached section-level file loading to minimize context overhead\n- **Context optimization**: 50k token budget for context, 150k for conversation\n\n### ğŸ“Š Monitoring & Metrics (Phase 4)\n- **Metrics collection**: Track performance across all 8 optimization solutions\n- **Daily/weekly reports**: Automated performance summaries with target assessment\n- **Monitoring hooks**: Routing audit, session state capture, morning briefing\n- **Usage tracking**: Agent invocation logging with duration, model tier, and cost estimates\n- **Integration testing**: Comprehensive test suite for all components\n\n### ğŸ¤– Agent Hierarchy\n- **Router agents**: `router`, `router-escalation`, `strategy-advisor`, `planner`\n- **General agents**: `haiku-general`, `sonnet-general`, `opus-general`\n- **Project agents**: Add your own specialized agents to `.claude/agents/`\n\n### ğŸ’° Cost Optimization\n- **Haiku pre-routing**: 30-40% escalation rate saves 60-70% quota\n- **Propose-review pattern**: Haiku proposes, Sonnet reviews for bulk mechanical edits\n- **Draft-then-evaluate pattern**: Haiku batch-drafts, Sonnet batch-evaluates for content generation (40-60% savings at batch 10+)\n- **Semantic deduplication**: 40-50% cache hit rate eliminates redundant work\n- **Break-even analysis**: Only use expensive models when justified\n\n### ğŸ“ IVP Architecture\nBuilt on the **Independent Variation Principle** (IVP): separate concerns with different change drivers into independent units.\n\n- **Router** changes when: task understanding evolves\n- **Strategy-advisor** changes when: API pricing or optimization strategies change\n- **Agents** change when: their specific domain capabilities change\n\n**Reference:** [Independent Variation Principle (DOI 10.5281/zenodo.17677315)](https://doi.org/10.5281/zenodo.17677315)\n\n---\n\n## Quick Start\n\n### Test the Implementation\n\n```bash\n# 1. List available domains\ncd /home/nicky/code/claude-router-system\npython3 implementation/domain_adapter.py list\n\n# 2. Detect domain in your project\npython3 implementation/domain_adapter.py detect\n\n# 3. View a workflow\npython3 implementation/domain_adapter.py workflow latex-research formalization\n\n# 4. Record test metrics\npython3 implementation/metrics_collector.py record haiku_routing escalation --value 35\n\n# 5. Generate daily report\npython3 implementation/metrics_collector.py report daily\n\n# 6. Run integration tests\npytest tests/test_integration.py -v\n```\n\n### Phase 3 & 4 Features\n\nSee [PHASE_3_4_IMPLEMENTATION.md](PHASE_3_4_IMPLEMENTATION.md) for complete details on:\n- Domain configurations (LaTeX, software-dev, knowledge-mgmt)\n- Lazy context loading with LRU caching\n- Metrics collection and reporting\n- Monitoring hooks and integration tests\n\n---\n\n## Installation\n\n### Option 1: Via Claude Code Plugin System (Recommended)\n\n```bash\n# Add marketplace\n/plugin marketplace add yannickloth/claude-router-system\n\n# Install plugin\n/plugin install claude-router-system@yannickloth\n```\n\n### Option 2: Manual Installation\n\n```bash\n# Clone to your global Claude directory\ncd ~/.claude\ngit clone https://github.com/yannickloth/claude-router-system.git plugins/claude-router-system\n\n# Symlink agents to global agents directory\nln -s ~/.claude/plugins/claude-router-system/agents/* ~/.claude/agents/\n```\n\n---\n\n## Configuration\n\n### 1. Copy Routing Rules to Your Project\n\nCopy the routing configuration template:\n\n```bash\n# From your project root\ncp ~/.claude/plugins/claude-router-system/EXAMPLE.claude.md .claude/CLAUDE.md\n```\n\nOr add to your **global** `~/.claude/CLAUDE.md` to enable routing for all projects.\n\n### 2. (Optional) Add Project-Specific Agents\n\nCreate `.claude/agents/` in your project and add specialized agents:\n\n```bash\nmkdir -p .claude/agents\ntouch .claude/agents/my-domain-agent.md\n```\n\nThe router will check project-specific agents first before falling back to general agents.\n\n---\n\n## How It Works\n\n### Routing Flow\n\n```\nUser request\n    â†“\nrouter (parse intent, assess risk, match agent)\n    â†“\nstrategy-advisor (cost/benefit analysis)\n    â†“\nselected agent (execute task)\n    â†“\nresults returned to user\n```\n\n### Agent Selection Priority\n\n1. **Project-specific agents** (`.claude/agents/`) - exact domain match\n2. **General agents** - based on reasoning complexity:\n   - `haiku-general`: Mechanical, no judgment, explicit paths\n   - `sonnet-general`: Default for reasoning/analysis\n   - `opus-general`: Complex reasoning, proofs, high-stakes\n\n### Cost Optimization Patterns\n\n**Direct execution:**\n```\nrouter â†’ agent â†’ results\n```\n\n**Propose-review pattern** (for bulk mechanical file edits):\n```\nrouter â†’ strategy-advisor\n       â†“\nhaiku-general (propose changes)\n       â†“\nsonnet-general (review + apply)\n       â†“\nresults\n```\n\n**Break-even:** Haikuâ†’Sonnet saves money when success rate > 60%\n\n**Draft-then-evaluate pattern** (for bulk content generation):\n```\nrouter â†’ strategy-advisor\n       â†“\nhaiku-general (batch draft N items, 0 Sonnet quota)\n       â†“\nsonnet-general (batch evaluate all N in 1 message)\n       â†“\nsonnet-general (fix rejects only)\n       â†“\nresults\n```\n\n**Break-even:** Profitable when acceptance rate > 1/N (batch 10: >10%, batch 50: >2%)\n\n**When to use which:**\n- **Propose-review**: Modifying existing files (patches, syntax fixes, refactors)\n- **Draft-then-evaluate**: Generating new content (docstrings, comments, descriptions)\n\n---\n\n## Architecture Principles\n\n### Independent Variation Principle (IVP)\n\n**Change drivers are the reasons units change.** Units with different change drivers should be separated.\n\n#### Router Agent\n\n**Change Driver Set:** Task understanding evolution, risk categorization, agent capabilities\n\n- Changes when: New types of requests need routing, risk categories evolve, understanding of task patterns improves\n- **Does NOT change when:** API pricing changes, optimization strategies evolve\n\n#### Strategy-Advisor Agent\n\n**Change Driver Set:** API pricing models, cost optimization strategies, performance characteristics\n\n- Changes when: Anthropic updates pricing, new optimization patterns discovered, model performance shifts\n- **Does NOT change when:** New agent types added, task understanding improves, risk rules change\n\n#### General Agents (haiku/sonnet/opus)\n\n**Change Driver Set:** Model capabilities, safety protocols, output requirements\n\n- Changes when: Model capabilities change, safety best practices evolve, output format standards update\n- **Does NOT change when:** Routing logic changes, pricing changes, new domains added\n\n#### Project-Specific Agents\n\n**Change Driver Set:** Domain knowledge, domain-specific tooling, domain best practices\n\n- Changes when: Domain understanding deepens, domain tools evolve, best practices in that domain change\n- **Does NOT change when:** Global routing changes, pricing changes, other domains change\n\n**Why this matters:** When API pricing changes, you only update `strategy-advisor`. When task understanding improves, you only update `router`. Changes are isolated and predictable.\n\n---\n\n## Usage Examples\n\n### Basic Request Routing\n\n```\nUser: \"Fix all LaTeX syntax errors in chapter files\"\n\nrouter: Assesses â†’ mechanical task, multiple files, compiler verification\n       â†“\nstrategy-advisor: Recommends propose-review pattern\n       â†“\nhaiku-general: Proposes fixes across 30 files\n       â†“\nsonnet-general: Reviews, runs nix build, applies changes\n       â†“\nResults: \"Fixed 47 LaTeX errors across 30 files, build passes\"\n```\n\n### High-Stakes Request\n\n```\nUser: \"Delete all unused files\"\n\nrouter: Assesses â†’ destructive, ambiguous scope, high risk\n       â†“\nsonnet-general: Analyzes patterns, asks for confirmation\n       â†“\nUser confirms\n       â†“\nResults: \"Found 12 candidates, deleted 8 confirmed unused files\"\n```\n\n### Complex Reasoning Request\n\n```\nUser: \"Verify this mathematical proof is correct\"\n\nrouter: Assesses â†’ requires deep analysis, high error cost\n       â†“\nstrategy-advisor: Recommends direct-opus (no cheaper path)\n       â†“\nopus-general: Analyzes proof step-by-step\n       â†“\nResults: \"Proof verified. Found 1 subtle flaw in step 7: [detailed explanation]\"\n```\n\n### Bulk Content Generation (Draft-Then-Evaluate)\n\n```\nUser: \"Generate docstrings for all 50 functions in src/utils/\"\n\nrouter: Assesses â†’ content generation, high volume, mechanical\n       â†“\nstrategy-advisor: Recommends draft-then-evaluate (batch 50, ~60% acceptance expected)\n       â†“\nhaiku-general: Generates 50 docstring drafts (0 Sonnet quota)\n       â†“\nsonnet-general: Batch evaluates all 50 in 1 message (1 Sonnet quota)\n       â†“\nsonnet-general: Fixes 20 rejected drafts (20 Sonnet quota)\n       â†“\nResults: \"Generated 50 docstrings. 30 accepted, 15 refined, 5 replaced.\"\n         \"Total: 21 Sonnet messages (58% savings vs 50 direct)\"\n```\n\n---\n\n## Routing Rules Reference\n\n### Absolute Routing Enforcement\n\n**EVERY user request goes through router. No exceptions.**\n\n```\nâœ… User request â†’ router â†’ agent\nâŒ User request â†’ agent (bypasses router)\nâŒ User request â†’ Claude answers directly\n```\n\nEven simple questions route through the system:\n- \"What's the status?\" â†’ router â†’ haiku-general\n- \"Explain this code\" â†’ router â†’ sonnet-general\n- \"Is this proof valid?\" â†’ router â†’ opus-general\n\n**Why:** Consistency, cost optimization, risk assessment\n\n### Risk Assessment\n\nBefore routing destructive operations:\n\n1. **Identify scope**: Which files affected?\n2. **Assess value**: Is content important?\n3. **Check specificity**: Explicit paths or patterns?\n4. **Evaluate reversibility**: Can we undo?\n5. **Route defensively**:\n   - High risk â†’ `sonnet-general` or `opus-general`\n   - Low risk + explicit paths â†’ `haiku-general`\n   - ANY uncertainty â†’ `sonnet-general`\n\n### Protected Files\n\n**Never route to haiku-general:**\n- `.claude/agents/*.md` (agent definitions)\n- High-value content (proofs, papers, critical code)\n- Ambiguous patterns (user didn't specify exact files)\n\n---\n\n## Extending the System\n\n### Adding Project-Specific Agents\n\nCreate `.claude/agents/my-agent.md`:\n\n```markdown\n---\nname: my-domain-agent\ndescription: Handles X domain tasks with Y capabilities. Use when user requests Z.\nmodel: sonnet\ntools: Read, Edit, Write, Bash\n---\n\nYou are a specialized agent for [domain].\n\n## Capabilities\n- [What this agent does]\n\n## Change Driver Set\n**This agent changes when:** [list change drivers specific to this domain]\n**This agent does NOT change when:** [list unrelated change drivers]\n\n[Rest of agent specification]\n```\n\n**Change Driver Set:** Domain knowledge for X, tooling for Y, best practices in Z\n\nThe router will automatically discover and use your agent when requests match the description.\n\n### Creating Domain-Specific Plugins\n\nYou can create your own plugin that extends this router system:\n\n```\nmy-domain-plugin/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json\nâ”œâ”€â”€ agents/\nâ”‚   â”œâ”€â”€ domain-agent-1.md\nâ”‚   â””â”€â”€ domain-agent-2.md\nâ””â”€â”€ README.md\n```\n\nThe router will check both the core general agents and your domain agents.\n\n---\n\n## Cost Optimization Details\n\n### Model Pricing (as of 2026-01)\n\n| Model | Input | Output | Relative Cost |\n|-------|--------|--------|---------------|\n| Haiku | $0.25/MTok | $1.25/MTok | 1x |\n| Sonnet | $3.00/MTok | $15.00/MTok | 12x |\n| Opus | $15.00/MTok | $75.00/MTok | 60x |\n\n### Strategy Selection Criteria\n\n**Mechanical Score:** 0.0 (pure judgment) to 1.0 (fully mechanical)\n\n| Task Type | Score | Agent Choice |\n|-----------|-------|--------------|\n| Exact pattern replacement | 1.0 | haiku-general |\n| Syntax fixes (verified) | 0.9 | haikuâ†’sonnet (propose-review) |\n| Reference updates | 0.8 | haikuâ†’sonnet (propose-review) |\n| Formatting | 0.5 | sonnet-general |\n| Style improvements | 0.3 | sonnet-general |\n| Pure judgment | 0.1 | sonnet-general or opus-general |\n\n### Propose-Review Break-Even\n\n**Haikuâ†’Sonnet review:**\n- Saves money when haiku success rate > 60%\n- Typical use cases: 80-90% success rate\n- Estimated savings: 60-70% vs direct-sonnet\n\n**Sonnetâ†’Opus review:**\n- Saves money when sonnet success rate > 67%\n- Typical use cases: 75-85% success rate\n- Estimated savings: 40-50% vs direct-opus\n\n---\n\n## Usage Tracking & Cost Analysis\n\n### Viewing Usage Metrics\n\nThe plugin tracks all agent invocations and estimates costs:\n\n```bash\n# View today's usage dashboard\n./scripts/usage-dashboard.sh\n\n# View last 7 days\n./scripts/usage-dashboard.sh --week\n\n# View last 30 days\n./scripts/usage-dashboard.sh --month\n\n# JSON output for integration\n./scripts/usage-dashboard.sh --json\n```\n\n### Dashboard Output\n\n```\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n                 Claude Router Usage Dashboard\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nPeriod: today\nTotal Agent Invocations: 42\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                      Model Distribution\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  haiku      28  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n  sonnet     12  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n  opus        2  â–ˆâ–ˆ\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                      Estimated Costs\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  Haiku:   $0.0280  (28 invocations @ $0.0010/msg)\n  Sonnet:  $0.1440  (12 invocations @ $0.0120/msg)\n  Opus:    $0.1200  (2 invocations @ $0.0600/msg)\n  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  TOTAL:   $0.2920\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                     Cost Optimization\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  If all 42 tasks used Sonnet:  $0.5040\n  Actual cost with routing:      $0.2920\n  Estimated savings:             $0.2120\n  Savings percentage:            42.1%\n```\n\n### Metrics Storage\n\n- **Project logs**: `.claude/logs/routing.log` - Per-project routing decisions\n- **Global metrics**: `~/.claude/infolead-router/metrics/YYYY-MM-DD.jsonl` - Daily aggregated metrics\n\n### Hooks\n\nThe plugin uses Claude Code hooks for tracking:\n\n- **SubagentStart**: Logs when agents spawn (timestamp, agent type, ID)\n- **SubagentStop**: Logs when agents complete (duration, exit status, model tier)\n\n---\n\n## Troubleshooting\n\n### \"Router not being used\"\n\nCheck your `.claude/CLAUDE.md`:\n- Routing rules copied from `EXAMPLE.claude.md`?\n- Absolute routing enforcement section present?\n- Global `~/.claude/CLAUDE.md` configured?\n\n### \"Agent completed silently\"\n\nAll agents have **mandatory output requirements**. If an agent produces no output:\n- Router will detect and re-route\n- Check agent definition for output requirements section\n- Verify agent is using correct output patterns\n\n### \"Wrong agent selected\"\n\nRouter logs reasoning before delegating:\n```\nRouting: sonnet-general\nReason: Requires judgment for ambiguous file patterns\n```\n\nCheck the routing explanation to understand the decision.\n\n### \"Agent doesn't know its tools\"\n\nGeneral agents now include explicit tool lists in their prompts. If you encounter this:\n\n- Ensure you have the latest agent definitions\n- Check that the agent file includes the \"Available Tools\" section\n\n### \"Agent can't spawn subagents\"\n\n**This is by design.** General agents (`haiku-general`, `sonnet-general`, `opus-general`) are execution endpointsâ€”they execute tasks themselves and do not further delegate.\n\n**Workaround for multi-step workflows:** The main session coordinates:\n\n```text\n1. Main session spawns agent for Phase 1\n2. Collect results\n3. Main session spawns agent for Phase 2\n4. Repeat as needed\n```\n\nSee \"Multi-Step Workflow Coordination\" in `EXAMPLE.claude.md` for detailed patterns.\n\n---\n\n## Known Limitations\n\n### General Agents Are Endpoints\n\nGeneral agents execute tasks directly. They cannot spawn other agents for sub-delegation. This prevents routing chains but means the main session must coordinate multi-phase workflows.\n\n### Model Parameter Behavior\n\nWhen using the Task tool:\n\n- Agent definitions specify a default `model:` in frontmatter\n- The Task tool's `model:` parameter can override this\n- Best practice: let agent definitions control their model\n\n### Namespace Resolution\n\nBoth short names (`haiku-general`) and fully qualified names (`claude-router-system:haiku-general`) work. Use short names unless you need to disambiguate between plugins with identical agent names.\n\n---\n\n## Contributing\n\nContributions welcome! Please:\n\n1. **Follow IVP**: Separate concerns by change driver\n2. **Document change drivers**: Every new agent must list its change driver set\n3. **Test routing**: Verify router correctly identifies when to use new agents\n4. **Update examples**: Add usage examples for new capabilities\n\n### Change Driver Documentation Template\n\nWhen adding new agents or modules:\n\n```markdown\n## Change Driver Set\n\n**This [unit] changes when:**\n- [Change driver 1]\n- [Change driver 2]\n\n**This [unit] does NOT change when:**\n- [Unrelated change driver 1]\n- [Unrelated change driver 2]\n\n**IVP Compliance:** [Explain how this unit maintains separation of concerns]\n```\n\n---\n\n## License\n\nMIT License - see [LICENSE](LICENSE) file for details.\n\n---\n\n## Acknowledgments\n\n- Built for [Claude Code](https://github.com/anthropics/claude-code)\n- Architecture based on [Independent Variation Principle](https://doi.org/10.5281/zenodo.17677315)\n- Inspired by cost-conscious LLM orchestration patterns\n\n---\n\n## Support\n\n- **Issues**: [GitHub Issues](https://github.com/yannickloth/claude-router-system/issues)\n- **Discussions**: [GitHub Discussions](https://github.com/yannickloth/claude-router-system/discussions)\n- **Claude Code**: [Official Docs](https://github.com/anthropics/claude-code)"
      },
      "plugins": [
        {
          "name": "claude-router-system",
          "version": "1.0.0",
          "author": {
            "name": "Yannick Loth"
          },
          "source": "./",
          "category": "development",
          "description": "Intelligent routing system for Claude Code with IVP-compliant architecture. Routes all requests through a central router that delegates to specialized or general agents based on task complexity, risk assessment, and cost optimization.",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add yannickloth/claude-router-system",
            "/plugin install claude-router-system@yannickloth-claude-router-system"
          ]
        }
      ]
    }
  ]
}