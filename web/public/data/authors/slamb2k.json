{
  "author": {
    "id": "slamb2k",
    "display_name": "Simon Lamb",
    "avatar_url": "https://avatars.githubusercontent.com/u/11493111?u=326e55216c481328f0b2666d037c6794e53ad11a&v=4"
  },
  "marketplaces": [
    {
      "name": "free-agents",
      "version": "1.0.8",
      "description": "Intelligent financial management skill for Claude Code with PocketSmith API integration",
      "repo_full_name": "slamb2k/agent-smith",
      "repo_url": "https://github.com/slamb2k/agent-smith",
      "repo_description": "Intelligent financial management skill for Claude Code with PocketSmith API integration",
      "signals": {
        "stars": 1,
        "forks": 1,
        "pushed_at": "2025-12-09T11:47:26Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"free-agents\",\n  \"owner\": {\n    \"name\": \"Agents - Free to good home\",\n    \"email\": \"slamb2k@users.noreply.github.com\"\n  },\n  \"version\": \"1.0.8\",\n  \"plugins\": [\n    {\n      \"name\": \"agent-smith-plugin\",\n      \"description\": \"Intelligent financial management skill for Claude Code with PocketSmith API integration\",\n      \"source\": \"./agent-smith-plugin\",\n      \"category\": \"finance\"\n    }\n  ]\n}\n",
        "README.md": "# Agent Smith\n\n**An intelligent financial management skill for Claude Code**\n\nAgent Smith provides comprehensive PocketSmith API integration with advanced AI-powered analysis, rule management, tax intelligence, and scenario planning.\n\n## Project Status\n\nâœ… **Implementation Complete** - All 8 phases implemented and tested\n\nðŸ“¦ **Version:** 1.3.8\n\nðŸ“‹ **Design Document:** [docs/design/2025-11-20-agent-smith-design.md](docs/design/2025-11-20-agent-smith-design.md)\n\nðŸ‘¥ **Contributing:** [CONTRIBUTING.md](CONTRIBUTING.md)\n\n## Distribution\n\nAgent Smith is distributed as a **Claude Code plugin/skill** via the marketplace system:\n\n- **Plugin Configuration**: `.claude-plugin/marketplace.json` and `.claude-plugin/plugin.json`\n- **Skill Source**: `agent-smith-plugin/skills/agent-smith/` - Complete skill definition\n- **Installation**: Users install via Claude Code marketplace or plugin commands\n\nThe skill includes all Python scripts, documentation, rule templates, and configuration files needed to run Agent Smith within Claude Code.\n\n### For Contributors\n\n**Development Setup**: See [CONTRIBUTING.md](CONTRIBUTING.md) for complete development setup instructions.\n\n**Key Points**:\n- Main source code is in `scripts/` directory\n- Skill source is in `agent-smith-plugin/skills/agent-smith/`\n- Scripts are synced from `scripts/` to skill location (gitignored copy)\n- Use marketplace.json/plugin.json for distribution (not packaged .skill files)\n\n## What is Agent Smith?\n\nAgent Smith transforms PocketSmith from a passive tracking tool into an active financial intelligence system. Named after the Matrix AI agent, it serves as your intelligent assistant for managing your financial matrix.\n\n### Key Features\n\n- **Hybrid Rule Engine** - Platform-native + enhanced local rules with performance tracking\n- **3-Tier Tax Intelligence** - Reference, Smart, and Full compliance modes (Australian ATO)\n- **Scenario Analysis** - Historical analysis, projections, optimization, tax planning\n- **Multi-Format Reports** - Markdown, CSV/JSON, HTML dashboards, Excel\n- **Smart Orchestration** - Context-preserving subagent architecture\n- **Proactive Insights** - Automated alerts, optimization recommendations\n- **Health Checks** - Comprehensive PocketSmith setup evaluation\n\n## Repository Structure\n\n```\nagent-smith/\nâ”œâ”€â”€ README.md                    # This file\nâ”œâ”€â”€ CONTRIBUTING.md              # Development setup and contribution guide\nâ”œâ”€â”€ CHANGELOG.md                 # Version history\nâ”œâ”€â”€ .gitignore                   # Git ignore rules\nâ”œâ”€â”€ .env                         # API configuration (not committed)\nâ”œâ”€â”€ pyproject.toml               # Python dependencies (uv)\nâ”œâ”€â”€ uv.lock                      # Dependency lock file\nâ”œâ”€â”€ pytest.ini                   # Test configuration\nâ”‚\nâ”œâ”€â”€ .claude-plugin/              # Claude Code plugin configuration\nâ”‚   â”œâ”€â”€ marketplace.json         # Marketplace metadata\nâ”‚   â””â”€â”€ plugin.json              # Plugin definition\nâ”‚\nâ”œâ”€â”€ agent-smith-plugin/          # Marketplace distribution\nâ”‚   â”œâ”€â”€ .claude-plugin/          # Plugin configuration\nâ”‚   â”‚   â””â”€â”€ plugin.json          # Plugin definition\nâ”‚   â”œâ”€â”€ commands/                # Slash command definitions\nâ”‚   â””â”€â”€ skills/agent-smith/      # Skill source\nâ”‚       â”œâ”€â”€ SKILL.md             # Skill definition\nâ”‚       â”œâ”€â”€ README.md            # Skill documentation\nâ”‚       â”œâ”€â”€ scripts/             # Python code (synced from ../../../scripts/)\nâ”‚       â”œâ”€â”€ references/          # Documentation (loaded on-demand)\nâ”‚       â”œâ”€â”€ assets/              # Templates and seed data\nâ”‚       â””â”€â”€ .env.sample          # Configuration template\nâ”‚\nâ”œâ”€â”€ backups/                     # Timestamped backups (30-day retention)\nâ”‚   â””â”€â”€ INDEX.md\nâ”‚\nâ”œâ”€â”€ data/                        # Working data and state\nâ”‚   â”œâ”€â”€ INDEX.md\nâ”‚   â”œâ”€â”€ config.json              # User preferences\nâ”‚   â””â”€â”€ templates/               # Rule templates\nâ”‚\nâ”œâ”€â”€ docs/                        # Documentation\nâ”‚   â”œâ”€â”€ INDEX.md\nâ”‚   â”œâ”€â”€ design/                  # Design specifications\nâ”‚   â”œâ”€â”€ guides/                  # User guides\nâ”‚   â””â”€â”€ operations/              # Operation logs\nâ”‚\nâ”œâ”€â”€ ai_docs/                     # AI agent documentation\nâ”‚   â”œâ”€â”€ INDEX.md\nâ”‚   â””â”€â”€ pocketsmith-api-documentation.md\nâ”‚\nâ”œâ”€â”€ logs/                        # Execution logs (14-day retention)\nâ”‚   â””â”€â”€ INDEX.md\nâ”‚\nâ”œâ”€â”€ reports/                     # Generated reports (90-day retention)\nâ”‚   â””â”€â”€ INDEX.md\nâ”‚\nâ”œâ”€â”€ scripts/                     # Python code (source)\nâ”‚   â”œâ”€â”€ INDEX.md\nâ”‚   â”œâ”€â”€ core/                    # Core libraries\nâ”‚   â”‚   â”œâ”€â”€ api_client.py        # PocketSmith API wrapper âœ“\nâ”‚   â”‚   â”œâ”€â”€ rule_engine.py       # Hybrid rule engine âœ“\nâ”‚   â”‚   â””â”€â”€ index_updater.py     # INDEX.md manager âœ“\nâ”‚   â”œâ”€â”€ analysis/                # Analysis modules\nâ”‚   â”‚   â”œâ”€â”€ spending.py          # Spending analysis âœ“\nâ”‚   â”‚   â””â”€â”€ trends.py            # Trend detection âœ“\nâ”‚   â”œâ”€â”€ reporting/               # Reporting modules\nâ”‚   â”‚   â””â”€â”€ formatters.py        # Multi-format reports âœ“\nâ”‚   â”œâ”€â”€ tax/                     # Tax intelligence (3-tier system)\nâ”‚   â”‚   â”œâ”€â”€ ato_categories.py    # ATO category mappings (Level 1) âœ“\nâ”‚   â”‚   â”œâ”€â”€ reporting.py         # Tax reports & GST tracking (Level 1) âœ“\nâ”‚   â”‚   â”œâ”€â”€ deduction_detector.py # Deduction detection (Level 2) âœ“\nâ”‚   â”‚   â”œâ”€â”€ cgt_tracker.py       # Capital gains tracking (Level 2) âœ“\nâ”‚   â”‚   â””â”€â”€ bas_preparation.py   # BAS worksheet generation (Level 3) âœ“\nâ”‚   â”œâ”€â”€ scenarios/               # Scenario analysis\nâ”‚   â”‚   â”œâ”€â”€ historical.py        # What-if modeling âœ“\nâ”‚   â”‚   â”œâ”€â”€ projections.py       # Spending forecasts âœ“\nâ”‚   â”‚   â”œâ”€â”€ optimization.py      # Savings optimization âœ“\nâ”‚   â”‚   â”œâ”€â”€ tax_scenarios.py     # Tax planning scenarios âœ“\nâ”‚   â”‚   â”œâ”€â”€ cash_flow.py         # Cash flow forecasting âœ“\nâ”‚   â”‚   â””â”€â”€ goals.py             # Goal tracking âœ“\nâ”‚   â”œâ”€â”€ orchestration/           # Subagent orchestration âœ“\nâ”‚   â”‚   â””â”€â”€ conductor.py         # Smart delegation & context mgmt âœ“\nâ”‚   â”œâ”€â”€ workflows/               # Interactive workflows âœ“\nâ”‚   â”‚   â””â”€â”€ categorization.py    # Categorization workflow âœ“\nâ”‚   â”œâ”€â”€ operations/              # Operations\nâ”‚   â”‚   â””â”€â”€ categorize.py        # Transaction categorization âœ“\nâ”‚   â””â”€â”€ utils/                   # Utilities\nâ”‚       â”œâ”€â”€ backup.py            # Backup/restore âœ“\nâ”‚       â”œâ”€â”€ validation.py        # Data validation âœ“\nâ”‚       â”œâ”€â”€ logging_config.py    # Logging setup âœ“\nâ”‚       â””â”€â”€ merchant_normalizer.py  # Merchant normalization âœ“\nâ”‚\nâ”œâ”€â”€ tests/                       # Test suite\nâ”‚   â”œâ”€â”€ unit/                    # Unit tests\nâ”‚   â””â”€â”€ integration/             # Integration tests\nâ”‚\nâ””â”€â”€ .claude/                     # Claude Code configuration\n    â””â”€â”€ commands/                # Slash commands (8 commands) âœ“\n```\n\n## Quick Start\n\n### Prerequisites\n\n- Python 3.9+\n- PocketSmith account with API access\n- Developer API key from PocketSmith (Settings > Security)\n\n### Installation\n\nFor development setup and contribution guidelines, see [CONTRIBUTING.md](CONTRIBUTING.md).\n\n### First-Time Setup\n\n**Launch Agent Smith with integrated onboarding:**\n\n```bash\n/smith:install\n```\n\n**First-time users:** This guided 8-stage onboarding process will:\n1. Discover your PocketSmith account structure\n2. Recommend and apply a rule template\n3. Help you customize rules for your needs\n4. Configure intelligence modes\n5. Incrementally categorize your transactions\n6. Show measurable improvement with health scores\n7. Provide ongoing usage guidance\n8. Generate intelligent suggestions based on your setup\n\n**Returning users:** Skip directly to intelligent suggestions with:\n- Priority actions based on current state\n- Optimization opportunities\n- Spending insights and trends\n- Maintenance recommendations\n\n**Time required (first time):** 30-60 minutes\n\n**Reset option:** Use `/smith:install --reset` to delete all data and start over (requires confirmation)\n\n**For detailed walkthrough:** See [Onboarding Guide](docs/guides/onboarding-guide.md)\n\n### Running Tests\n\n```bash\n# Run all unit tests\npytest tests/unit -v\n\n# Run integration tests (requires API key)\npytest tests/integration -v -m integration\n\n# Run all tests with coverage\npytest --cov=scripts tests/\n```\n\n### Usage\n\nPhase 8 (Health Check & Polish) is complete. All 8 phases implemented.\n\n## Unified Rule System\n\nAgent Smith uses a YAML-based unified rule system for transaction categorization and labeling.\n\n### Quick Start\n\n```bash\n# 1. Choose a template for your household type\nuv run python scripts/setup/template_selector.py\n\n# 2. Customize rules in data/rules.yaml\n# 3. Test with dry run\nuv run python scripts/operations/batch_categorize.py --mode=dry_run --period=2025-11\n\n# 4. Apply to transactions\nuv run python scripts/operations/batch_categorize.py --mode=apply --period=2025-11\n```\n\n### Example Rules\n\n```yaml\nrules:\n  # Category rule - categorize transactions\n  - type: category\n    name: WOOLWORTHS â†’ Groceries\n    patterns: [WOOLWORTHS, COLES, ALDI]\n    category: Food & Dining > Groceries\n    confidence: 95\n\n  # Label rule - apply labels based on context\n  - type: label\n    name: Shared Groceries\n    when:\n      categories: [Groceries]\n      accounts: [Shared Bills]\n    labels: [Shared Expense, Essential]\n```\n\n### Key Features\n\n- **Two-phase execution** - Categories first, then labels\n- **Pattern matching** - Regex patterns with exclusions\n- **Confidence scoring** - 0-100% for auto-apply logic\n- **LLM fallback** - AI categorization when rules don't match\n- **Intelligence modes** - Conservative/Smart/Aggressive\n- **Template system** - Pre-built rules for common household types\n- **Operational modes** - DRY_RUN/VALIDATE/APPLY for safe testing\n\n### Documentation\n\n- **[Unified Rules Guide](docs/guides/unified-rules-guide.md)** - Complete reference\n- **[Example YAML Files](docs/examples/)** - Basic, advanced, household, and tax examples\n- **[Templates](data/templates/)** - Pre-built rule sets (simple, shared-household, separated-families, advanced)\n\n### Python Usage\n\n```python\nfrom scripts.core.unified_rules import UnifiedRuleEngine\nfrom scripts.workflows.categorization import CategorizationWorkflow\n\n# Load rules from YAML\nengine = UnifiedRuleEngine()  # Loads data/rules.yaml by default\n\n# Categorize a transaction\ntransaction = {\n    \"id\": 12345,\n    \"payee\": \"WOOLWORTHS\",\n    \"amount\": -127.50,\n    \"_account_name\": \"Shared Bills\"\n}\n\nresult = engine.categorize_and_label(transaction)\nprint(f\"Category: {result['category']}\")\nprint(f\"Labels: {result['labels']}\")\nprint(f\"Confidence: {result['confidence']}%\")\n\n# Or use the workflow for LLM integration\nworkflow = CategorizationWorkflow(client=client, mode=\"smart\")\nresult = workflow.categorize_transaction(\n    transaction=transaction,\n    available_categories=categories\n)\n```\n\n## Contributing Workflow\n\nThis repository uses branch protection and requires all changes to go through pull requests.\n\n### Development Workflow\n\n1. **Create a feature branch**\n   ```bash\n   git checkout -b feature/your-feature-name\n   ```\n\n2. **Make your changes and commit**\n   - Git hooks will automatically run format, lint, and type checks on commit\n   - Unit tests run on push\n   ```bash\n   git add .\n   git commit -m \"feat: add your feature\"\n   git push -u origin feature/your-feature-name\n   ```\n\n3. **Create a pull request**\n   ```bash\n   gh pr create --fill\n   ```\n\n4. **Wait for CI validation**\n   - PR validation runs format, lint, type-check, tests, and build checks\n   - All checks must pass across Python 3.9, 3.10, 3.11, and 3.12\n\n5. **Squash and merge**\n   - PRs are squash-merged to maintain clean history\n   - Feature branches are automatically deleted after merge\n\n### Pre-commit Checks\n\nGit hooks (via lefthook) run automatically:\n- **Pre-commit**: Black formatting, flake8 linting, mypy type checking\n- **Pre-push**: Unit tests, build verification\n\n## Documentation\n\n- **[Design Specification](docs/design/2025-11-20-agent-smith-design.md)** - Complete Agent Smith design\n- **[Repository Index](INDEX.md)** - Detailed directory structure\n- **[PocketSmith API Docs](ai_docs/pocketsmith-api-documentation.md)** - API reference\n\n## Development Status\n\n**Current Phase:** Phase 1 - Foundation âœ… **COMPLETE**\n\n### Phase 1 Completion Checklist\n\n#### Core Infrastructure\n- âœ… Directory structure created (backups, data, logs, reports, scripts, tests)\n- âœ… .env.sample configuration template\n- âœ… INDEX.md templates for all directories\n- âœ… pytest configuration and test structure\n\n#### Core Libraries\n- âœ… **api_client.py** - PocketSmith API wrapper with rate limiting\n- âœ… **index_updater.py** - INDEX.md automation\n- âœ… **backup.py** - Backup/restore utilities\n- âœ… **validation.py** - Data validation\n- âœ… **logging_config.py** - Logging infrastructure\n\n#### Basic Functionality\n- âœ… API authentication and basic queries\n- âœ… Backup/restore system\n- âœ… Logging infrastructure (operations, errors, API calls)\n- âœ… Configuration management (data/config.json)\n\n#### Testing\n- âœ… Unit tests for all core utilities (100% coverage)\n- âœ… Integration tests for API client\n- âœ… Test framework configured (pytest)\n\n### Phase 2: Rule Engine âœ… **COMPLETE**\n\n#### Hybrid Rule System\n- âœ… Rule class with pattern matching (regex, amount ranges, exclusions)\n- âœ… Local rule engine with JSON persistence\n- âœ… Platform rule creation for simple patterns\n- âœ… Intelligence modes (Conservative/Smart/Aggressive)\n- âœ… Performance tracking (matches, accuracy, overrides)\n- âœ… Rule finding with priority sorting\n\n#### Categorization Workflow\n- âœ… Single transaction categorization\n- âœ… Batch categorization operations\n- âœ… Dry-run mode for testing\n- âœ… Auto-apply based on confidence thresholds\n- âœ… API integration for updates\n\n#### Merchant Intelligence\n- âœ… Merchant name normalization\n- âœ… Location code and suffix removal\n- âœ… Canonical name mapping\n- âœ… Learning from transaction history\n- âœ… Variation grouping\n\n**Test Coverage:** 75 unit tests + 12 integration tests = 87 tests, all passing\n\n### Implementation Roadmap\n\n- âœ… **Phase 1:** Foundation (Weeks 1-2) - API client, utilities, backups\n- âœ… **Phase 2:** Rule Engine (Weeks 3-4) - Hybrid platform + local rules\n- âœ… **Phase 3:** Analysis & Reporting (Weeks 5-6) - Spending analysis, tax reports\n- âœ… **Phase 4:** Tax Intelligence (Weeks 7-8) - 3-tier tax system, deductions, BAS\n- âœ… **Phase 5:** Scenario Analysis (Weeks 9-10) - What-if, projections, optimization\n- âœ… **Phase 6:** Orchestration & UX (Weeks 11-12) - Subagent conductor, slash commands\n- âœ… **Phase 7:** Advanced Features (Weeks 13-14) - Alerts, merchant intelligence, audit trail\n- âœ… **Phase 8:** Health Check & Polish (Weeks 15-16) - Health scores, monitoring, optimization\n\n**Progress:** 8/8 phases complete (100%)\n\n### Phase 3: Analysis & Reporting âœ…\n\n**Spending Analysis:**\n- Analyze spending by category, merchant, time period\n- Period filtering (year, month)\n- Summary statistics (income, expenses, net)\n- Trend detection (increasing, decreasing, stable)\n\n**Report Formats:**\n- Markdown reports with tables and summaries\n- CSV export for data analysis\n- JSON output for programmatic access\n- Multi-format generation support\n\n**Test Coverage:** 101 tests (87 existing + 14 new), all passing\n\n### Phase 4: Tax Intelligence âœ…\n\n**3-Tier Tax Intelligence System:**\n- Level 1 (Reference): ATO category mappings, basic tax reports, GST tracking\n- Level 2 (Smart): Deduction detection, CGT tracking, confidence scoring\n- Level 3 (Full): BAS preparation with GST calculations and compliance checks\n\n**Deduction Detection:**\n- 14 pattern-based detection rules\n- Confidence scoring (high/medium/low)\n- Substantiation threshold checking ($300 default, $75 taxi/Uber)\n- Time-based commuting detection (weekday 6-9:30am, 4:30-7pm)\n- Instant asset write-off tracking ($20,000 threshold)\n\n**Capital Gains Tax (CGT):**\n- Asset tracking (shares, crypto, property)\n- FIFO matching for sales\n- Cost base calculation (price + fees)\n- Holding period calculation with 50% discount eligibility (>365 days)\n- Financial year reporting (July 1 - June 30)\n\n**BAS Preparation (Level 3):**\n- Quarterly BAS worksheet generation\n- GST calculations (G1, G10, G11, 1A, 1B, 1C)\n- Capital vs non-capital purchase classification\n- GST-free category exclusions\n- Professional advice disclaimers\n\n**Code Examples:**\n\n```python\n# ATO Category Mapping (Level 1)\nfrom scripts.tax.ato_categories import ATOCategoryMapper\n\nmapper = ATOCategoryMapper()\nato_info = mapper.get_ato_category(\"Office Supplies\")\n# Returns: {\"ato_code\": \"D5\", \"ato_category\": \"Work-related other expenses\", ...}\n\n# Deduction Detection (Level 2)\nfrom scripts.tax.deduction_detector import DeductionDetector\n\ndetector = DeductionDetector()\nresult = detector.detect_deduction(transaction)\n# Returns: {\"is_deductible\": True, \"confidence\": \"high\",\n#           \"reason\": \"Office supplies\", \"substantiation_required\": True}\n\n# CGT Tracking (Level 2)\nfrom scripts.tax.cgt_tracker import CGTTracker, AssetType\nfrom decimal import Decimal\nfrom datetime import date\n\ntracker = CGTTracker()\ntracker.track_purchase(\n    asset_type=AssetType.SHARES,\n    name=\"BHP Group\",\n    quantity=Decimal(\"100\"),\n    purchase_date=date(2023, 1, 1),\n    purchase_price=Decimal(\"45.50\"),\n    fees=Decimal(\"19.95\")\n)\n\nevent = tracker.track_sale(\n    asset_type=AssetType.SHARES,\n    name=\"BHP Group\",\n    quantity=Decimal(\"100\"),\n    sale_date=date(2024, 6, 1),\n    sale_price=Decimal(\"52.00\"),\n    fees=Decimal(\"19.95\")\n)\n# Returns CGTEvent with capital_gain, discount_eligible, holding_period_days\n\n# BAS Preparation (Level 3)\nfrom scripts.tax.bas_preparation import generate_bas_worksheet\n\nworksheet = generate_bas_worksheet(\n    transactions=transactions,\n    start_date=\"2024-07-01\",\n    end_date=\"2024-09-30\"\n)\n# Returns: {\"G1_total_sales\": 33000.00, \"1A_gst_on_sales\": 3000.00,\n#           \"1B_gst_on_purchases\": 1500.00, \"1C_net_gst\": 1500.00, ...}\n```\n\n**Test Coverage:** 163 tests (141 unit + 22 integration), all passing\n- Phase 4 specific: 62 tests (54 unit + 8 integration)\n\n### Phase 5: Scenario Analysis âœ…\n\n**Scenario Analysis:**\n- Historical \"what-if\" modeling for spending changes\n- Future spending projections with inflation\n- Optimization engine (subscriptions, trends, recurring expenses)\n- Tax scenario planning and optimization\n- Cash flow forecasting with emergency fund tracking\n- Goal tracking and progress monitoring\n\n**Example Usage:**\n\n```python\nfrom scripts.scenarios.historical import calculate_what_if_spending\nfrom scripts.scenarios.projections import forecast_spending\nfrom scripts.scenarios.optimization import suggest_optimizations\n\n# What-if analysis\nscenario = calculate_what_if_spending(\n    transactions=transactions,\n    category_name=\"Dining\",\n    adjustment_percent=-30.0,  # 30% reduction\n    start_date=\"2025-01-01\",\n    end_date=\"2025-12-31\"\n)\nprint(f\"Savings: ${scenario['savings']:.2f}\")\n\n# Spending forecast\nforecast = forecast_spending(\n    transactions=transactions,\n    category_name=\"Groceries\",\n    months_forward=6,\n    inflation_rate=3.0\n)\n\n# Optimization suggestions\noptimizations = suggest_optimizations(transactions=transactions)\nprint(f\"Potential savings: ${optimizations['potential_annual_savings']:.2f}\")\n```\n\n**Test Coverage:** 194 tests (167 unit + 27 integration), all passing\n- Phase 5 specific: 30 tests (23 unit + 7 integration)\n\n### Phase 6: Orchestration & UX âœ…\n\n**Intelligent Orchestration:**\n```python\nfrom scripts.orchestration.conductor import SubagentConductor, OperationType\n\n# Smart delegation based on complexity\nconductor = SubagentConductor()\nshould_delegate = conductor.should_delegate_operation(\n    operation_type=OperationType.CATEGORIZATION,\n    transaction_count=150  # > 100 triggers delegation\n)\n\n# Context preservation\nfrom scripts.orchestration.conductor import ContextManager\ncontext = ContextManager(user_id=\"12345\")\ncontext.set_preference(\"intelligence_mode\", \"smart\")\ncontext.set_preference(\"tax_level\", \"full\")\n```\n\n**Slash Commands (8 commands):**\n```bash\n# Installation and onboarding\n/smith:install [--reset]\n\n# Quick operations\n/smith:categorize --mode=smart --period=2025-11\n/smith:analyze spending --period=2025\n/smith:scenario historical \"What if I cut dining by 25%?\"\n/smith:report tax --period=2024-25 --tax-level=full\n/smith:optimize subscriptions\n/smith:tax deductions --period=2024-25\n/smith:health --full\n```\n\n**Main conversational interface:** Use the Agent Smith skill directly for natural language\nfinancial conversations, questions, and ad-hoc analysis.\n\n**Interactive Workflows:**\n- Guided categorization with AI assistance\n- Multi-step scenario planning\n- Smart recommendations with context\n- Progress tracking and feedback\n\n**Features:**\n- Smart subagent delegation (>100 transactions, >5000 tokens)\n- Context preservation across operations\n- Parallel processing for multi-period analysis\n- Result aggregation from distributed subagents\n- 8 specialized slash commands\n- Interactive workflows with user approval\n- Natural language scenario descriptions\n\n**Test Coverage:** 227 tests (189 unit + 38 integration), all passing\n- Phase 6 specific: 31 tests (25 unit + 6 integration)\n\n### Phase 7: Advanced Features âœ…\n\n**Smart Alerts & Notifications:**\n```python\nfrom scripts.features.alerts import AlertEngine, AlertScheduler, ScheduleType\n\n# Create alert engine\nengine = AlertEngine(user_id=\"user_123\")\nscheduler = AlertScheduler(alert_engine=engine)\n\n# Schedule weekly budget review\nschedule = scheduler.add_schedule(\n    schedule_type=ScheduleType.WEEKLY,\n    alert_type=AlertType.BUDGET,\n    title=\"Weekly Budget Review\",\n    next_run=datetime(2025, 11, 28, 9, 0),\n)\n\n# Process due schedules\nalerts = scheduler.process_due_schedules()\n```\n\n**Merchant Intelligence:**\n```python\nfrom scripts.features.merchant_intelligence import MerchantMatcher\n\nmatcher = MerchantMatcher()\n\n# Learn merchant variations\nmatcher.add_variation(\"Woolworths\", \"WOOLWORTHS PTY LTD\")\nmatcher.add_variation(\"Woolworths\", \"woolworth\")\n\n# Find canonical name\ncanonical = matcher.find_canonical(\"woolies\")  # Returns \"Woolworths\"\n\n# Suggest matches for unknown payee\nsuggestions = matcher.suggest_matches(\"woollies\", threshold=0.8)\n```\n\n**Document Management:**\n```python\nfrom scripts.features.documents import DocumentManager\n\nmanager = DocumentManager()\n\n# Track transaction requiring receipt (> $300)\ndoc = manager.track_transaction(\n    transaction_id=12345,\n    amount=450.00,\n    category=\"Work Expenses\",\n    date=datetime(2025, 11, 15),\n)  # Automatically marked as REQUIRED\n\n# Get missing required documents\nmissing = manager.get_missing_documents(required_only=True)\n```\n\n**Multi-User Shared Expenses:**\n```python\nfrom scripts.features.multi_user import SharedExpenseTracker\n\ntracker = SharedExpenseTracker(users=[\"alice\", \"bob\", \"charlie\"])\n\n# Add shared expense\ntracker.add_expense(\n    transaction_id=1,\n    amount=150.00,\n    description=\"Dinner\",\n    paid_by=\"alice\",\n    date=datetime.now(),\n    split_equally=True,\n)\n\n# Generate settlement recommendations\nsettlements = tracker.generate_settlements()\n# Returns: [Settlement(from_user=\"bob\", to_user=\"alice\", amount=50.00), ...]\n```\n\n**Comparative Benchmarking:**\n```python\nfrom scripts.features.benchmarking import BenchmarkEngine, PeerCriteria\n\nengine = BenchmarkEngine()\ncriteria = PeerCriteria(household_size=2, income_bracket=\"50k-75k\")\n\n# Compare spending to peers\nresult = engine.compare(\n    category=\"Groceries\",\n    user_amount=500.00,\n    criteria=criteria,\n)\n# Returns: BenchmarkResult with peer_average, peer_median, percentile\n```\n\n**Audit Trail:**\n```python\nfrom scripts.features.audit import AuditLogger, AuditAction\n\nlogger = AuditLogger(user_id=\"user_123\")\n\n# Log transaction modification\nentry = logger.log_action(\n    action=AuditAction.TRANSACTION_MODIFY,\n    description=\"Changed category\",\n    before_state={\"category\": \"Food\"},\n    after_state={\"category\": \"Groceries\"},\n    affected_ids=[123],\n)\n\n# Query audit trail\nentries = logger.get_entries(affected_id=123)\n\n# Check if action can be undone\ncan_undo = logger.can_undo(entry.entry_id)\n```\n\n**Features:**\n- Smart alerts with scheduling (weekly, monthly, quarterly, annual, one-time)\n- Merchant intelligence with variation detection and grouping\n- Document tracking with ATO compliance ($300 threshold)\n- Multi-user shared expenses with settlement optimization\n- Privacy-first benchmarking (SHA-256 anonymization, min 3 peers)\n- Comprehensive audit trail with undo capability\n\n**Test Coverage:** 287 tests (243 unit + 44 integration), all passing\n- Phase 7 specific: 60 tests (54 unit + 6 integration)\n\n### Phase 8: Health Check & Polish âœ…\n\n**Health Check System:**\n```python\nfrom scripts.health.engine import HealthCheckEngine\nfrom scripts.health.recommendations import RecommendationEngine\nfrom scripts.health.monitoring import HealthMonitor\n\n# Run comprehensive health check\nengine = HealthCheckEngine()\nresult = engine.run_health_check(user_id=\"user_123\")\nprint(f\"Overall Score: {result.overall_score}/100 ({result.overall_status.value})\")\n\n# Get prioritized recommendations\nrec_engine = RecommendationEngine()\nrecommendations = rec_engine.generate_recommendations(result)\nfor rec in recommendations[:5]:\n    print(f\"- [{rec.priority.value}] {rec.title}: {rec.description}\")\n\n# Set up automated monitoring\nmonitor = HealthMonitor(user_id=\"user_123\")\nmonitor.schedule_weekly_check()\nalerts = monitor.check_thresholds(result)\n```\n\n**6 Health Dimensions:**\n- Data Quality (25%) - Uncategorized rate, duplicates, gaps\n- Category Structure (20%) - Depth, unused categories, distribution\n- Rule Engine (15%) - Coverage, efficiency, conflicts\n- Tax Readiness (15%) - Tax categorization, compliance\n- Automation (10%) - Savings automation, bill scheduling\n- Budget Alignment (15%) - Variance, overspending\n\n**Features:**\n- HealthCheckEngine for orchestrated scoring across all dimensions\n- RecommendationEngine for prioritized improvement suggestions\n- HealthMonitor for automated weekly checks and alerts\n- HealthCheckCache for performance optimization\n- User guide at docs/guides/health-check-guide.md\n\n**Test Coverage:** 350 tests (all passing)\n- Phase 8 specific: 63 tests across 6 test files\n\nSee [design document](docs/design/2025-11-20-agent-smith-design.md) for complete roadmap.\n\n## License\n\n[To be determined]\n\n## Support\n\nFor questions or issues, please refer to the design documentation or create an issue in the repository.\n\n---\n\n**Note:** For insights from previous PocketSmith migration work that informed this project, see [Lessons Learned](docs/design/LESSONS_LEARNED.md).\n"
      },
      "plugins": [
        {
          "name": "agent-smith-plugin",
          "description": "Intelligent financial management skill for Claude Code with PocketSmith API integration",
          "source": "./agent-smith-plugin",
          "category": "finance",
          "categories": [
            "finance"
          ],
          "install_commands": [
            "/plugin marketplace add slamb2k/agent-smith",
            "/plugin install agent-smith-plugin@free-agents"
          ]
        }
      ]
    }
  ]
}