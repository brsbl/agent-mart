{
  "author": {
    "id": "densom",
    "display_name": "Dennis Somerville",
    "avatar_url": "https://avatars.githubusercontent.com/u/1593598?v=4"
  },
  "marketplaces": [
    {
      "name": "claude-1password",
      "version": null,
      "description": "A collection of plugins to help manage local .env files using 1password secrets.",
      "repo_full_name": "densom/claude-1password",
      "repo_url": "https://github.com/densom/claude-1password",
      "repo_description": null,
      "signals": {
        "stars": 4,
        "forks": 0,
        "pushed_at": "2025-10-29T17:35:11Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-1password\",\n  \"owner\": {\n    \"name\": \"Dennis Somerville\",\n    \"email\": \"densom@users.noreply.github.com\",\n    \"url\": \"https://github.com/densom/claude-1password\"\n  },\n  \"metadata\": {\n    \"description\": \"A collection of plugins to help manage local .env files using 1password secrets.\",\n    \"version\": \"0.0.1\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"local-env-file-management\",\n      \"description\": \"Tools to populate local .env files from 1password secrets.\",\n      \"source\": \"./plugins/1password\",\n      \"keywords\": [\n        \"1password\",\n        \"env\",\n        \"dotenv\",\n        \"secrets\",\n        \"local-development\"\n      ],\n      \"license\": \"MIT\",\n      \"category\": \"development\",\n      \"author\": {\n        \"name\": \"Dennis Somerville\",\n        \"email\": \"densom@users.noreply.github.com\"\n      }\n    }\n  ]\n}\n",
        "README.md": "# Claude 1Password Plugin\n\nA Claude Code plugin that manages local `.env` files using secrets stored in 1Password. Keep your secrets secure in 1Password while maintaining a smooth local development workflow.\n\n## Overview\n\nThis plugin provides a template-based approach to managing environment variables:\n\n1. Create a `.env.1password` template file with 1Password references\n2. Generate your local `.env` file by resolving the references using the 1Password CLI\n3. Add a new environment variable to the template, and optionally creates or updates the secret in 1Password\n\nThis approach ensures that:\n- Secrets are never committed to version control\n- Team members can generate their own `.env` files from the shared template\n- All secrets are centrally managed in 1Password\n- Local development remains simple and seamless\n\n## Prerequisites\n\n- [1Password CLI](https://developer.1password.com/docs/cli/get-started/) installed and configured\n- 1Password account with appropriate vault access\n- Enable \"Integrate with 1Password CLI\" in the Developer section of your 1Password Settings\n- Authenticated 1Password CLI session (`op signin`)\n\n### Enabling 1Password CLI in Settings\n\n![CLI Integration](./images/1password-developer-settings.png)\n\n### Getting a 1Password secret URI\n\n![CLI Integration](./images/1password-get-reference-uri.png)\n\n## Installation\n\nInstall this plugin in Claude Code through the plugin marketplace or by adding it to your `.claude-plugin/marketplace.json` file.\n\n## Commands\n\nThis plugin provides three slash commands:\n\n### `/claude-1password:env-init [path-to-env-file]`\n\nInitialize a `.env.1password` template from an (optional) existing `.env` file.\n\n**What it does:**\n- Reads your existing `.env` file if it exists\n- Converts each variable to use 1Password reference format (`op://vault/item/field`)\n- Creates a `.env.1password` template file\n- Preserves comments and structure\n\n**How to get 1Password references**\n\n\n**Example:**\n```bash\n/claude-1password:env-init\n```\n\n**Before** (`.env`):\n```env\nDATABASE_URL=postgresql://localhost:5432/mydb\nAPI_KEY=abc123secret\n```\n\n**After** (`.env.1password`):\n```env\n# This file was auto-generated from .env.1password\n# DO NOT commit this file to version control\n# Generated on: 2025-10-28\n\nDATABASE_URL=op://Private/project-secrets/database_url\nAPI_KEY=op://Private/project-secrets/api_key\n```\n\n### `/claude-1password:env-sync [path-to-template]`\n\nGenerate a `.env` file by resolving 1Password references from your `.env.1password` template.\n\n**What it does:**\n- Reads the `.env.1password` template\n- Uses `op inject` to resolve all `op://` references\n- Fetches actual secret values from 1Password\n- Generates your local `.env` file\n\n**Example:**\n```bash\n/claude-1password:env-sync\n```\n\nThis command will:\n- Check if 1Password CLI is installed and authenticated\n- Backup existing `.env` if it exists\n- Resolve all secrets from 1Password\n- Generate a working `.env` file\n\n### `/claude-1password:env-add <VAR_NAME> [op-reference-or-value]`\n\nAdd a new environment variable to your `.env.1password` template.\n\n**What it does:**\n- Adds a new variable to the template\n- Optionally creates or updates the secret in 1Password\n- Maintains the template structure\n\n**Examples:**\n\nAdd with an existing 1Password reference:\n```bash\n/claude-1password:env-add NEW_API_KEY op://Private/myapp/new_api_key\n```\n\nAdd with a new value (will create in 1Password):\n```bash\n/claude-1password:env-add STRIPE_KEY sk_test_abc123\n```\n\nAdd a placeholder for manual editing:\n```bash\n/claude-1password:env-add DATABASE_PASSWORD\n```\n\n## Typical Workflow\n\n### Initial Setup\n\n1. If you have an existing `.env` file:\n   ```bash\n   /claude-1password:env-init\n   ```\n\n2. Edit `.env.1password` to update the `op://` references to match your 1Password vault structure\n\n3. Store your actual secrets in 1Password (manually or using the CLI)\n\n4. Generate your `.env` file:\n   ```bash\n   /claude-1password:env-sync\n   ```\n\n5. Add `.env` to your `.gitignore` (the template will be committed, but not the actual `.env` file)\n\n### Adding New Secrets\n\nWhen you need a new environment variable:\n\n```bash\n/claude-1password:env-add NEW_SECRET_KEY my-secret-value\n```\n\nThis will:\n1. Store the secret in 1Password\n2. Update `.env.1password` with the reference\n3. Optionally sync to regenerate your `.env` file\n\n### Team Collaboration\n\nCommit the `.env.1password` template to version control:\n\n```bash\ngit add .env.1password\ngit commit -m \"Add environment variable template\"\n```\n\nTeam members can then generate their own `.env` files:\n\n```bash\n/claude-1password:env-sync\n```\n\n## How It Works\n\nThe plugin uses the [1Password CLI](https://developer.1password.com/docs/cli/) `op inject` command, which:\n\n- Scans files for 1Password secret references in the format `op://vault/item/field`\n- Authenticates with your 1Password account\n- Fetches the actual secret values\n- Replaces references with the decrypted values\n\nReference format: `op://vault-name/item-name/field-name`\n\nExample:\n- `op://Private/myapp/api_key` ï¿½ resolves to the `api_key` field in the `myapp` item in your Private vault\n\n## Security Best Practices\n\n1. **Never commit** `.env` files to version control\n2. **Always commit** `.env.1password` templates (they contain no secrets)\n3. **Add to `.gitignore`**:\n   ```gitignore\n   .env\n   .env.local\n   .env.*.local\n   ```\n4. **Use vault permissions** in 1Password to control team access\n5. **Rotate secrets regularly** through 1Password\n6. **Delete** local `.env` files when not actively developing\n\n## Troubleshooting\n\n### \"not signed in\" error\nRun `op signin` to authenticate with 1Password.\n\n### \"item not found\" or \"vault not found\"\nVerify that the `op://` references in `.env.1password` match actual items in your 1Password vaults.\n\n### \"field not found\"\nCheck that the field name exists in the 1Password item. Field names are case-sensitive.\n\n### CLI not installed\nInstall the 1Password CLI from: https://developer.1password.com/docs/cli/get-started/\n\n## License\n\nMIT\n\n## Author\n\nDennis Somerville\ndensom@users.noreply.github.com\n"
      },
      "plugins": [
        {
          "name": "local-env-file-management",
          "description": "Tools to populate local .env files from 1password secrets.",
          "source": "./plugins/1password",
          "keywords": [
            "1password",
            "env",
            "dotenv",
            "secrets",
            "local-development"
          ],
          "license": "MIT",
          "category": "development",
          "author": {
            "name": "Dennis Somerville",
            "email": "densom@users.noreply.github.com"
          },
          "categories": [
            "1password",
            "development",
            "dotenv",
            "env",
            "local-development",
            "secrets"
          ],
          "install_commands": [
            "/plugin marketplace add densom/claude-1password",
            "/plugin install local-env-file-management@claude-1password"
          ]
        }
      ]
    }
  ]
}