{
  "author": {
    "id": "pm7y",
    "display_name": "Paul Mcilreavy",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/3075792?u=4ce9a5d43ee45b34ef374769104c653a4b3b1f1a&v=4",
    "url": "https://github.com/pm7y",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 11,
      "total_skills": 10,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "pm7y-marketplace",
      "version": null,
      "description": "pm7y skills and plugins marketplace",
      "owner_info": {
        "name": "pm7y",
        "email": "3075792+pm7y@users.noreply.github.com"
      },
      "keywords": [],
      "repo_full_name": "pm7y/pm7y-marketplace",
      "repo_url": "https://github.com/pm7y/pm7y-marketplace",
      "repo_description": "A claude code marketplace of my custom plugins and whatnot.",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-22T21:56:20Z",
        "created_at": "2026-01-17T01:56:36Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 657
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 273
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 4105
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/pm7y-ralph-planner.md",
          "type": "blob",
          "size": 11387
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/pm7y-api-migration.md",
          "type": "blob",
          "size": 800
        },
        {
          "path": "commands/pm7y-component-patterns.md",
          "type": "blob",
          "size": 303
        },
        {
          "path": "commands/pm7y-css-review.md",
          "type": "blob",
          "size": 434
        },
        {
          "path": "commands/pm7y-dotnet-upgrade.md",
          "type": "blob",
          "size": 444
        },
        {
          "path": "commands/pm7y-mermaid.md",
          "type": "blob",
          "size": 232
        },
        {
          "path": "commands/pm7y-ralph-loop.md",
          "type": "blob",
          "size": 263
        },
        {
          "path": "commands/pm7y-ralph-planner.md",
          "type": "blob",
          "size": 1373
        },
        {
          "path": "commands/pm7y-random-movie.md",
          "type": "blob",
          "size": 225
        },
        {
          "path": "commands/pm7y-review-codebase.md",
          "type": "blob",
          "size": 740
        },
        {
          "path": "commands/pm7y-scss-patterns.md",
          "type": "blob",
          "size": 252
        },
        {
          "path": "commands/pm7y-simplify.md",
          "type": "blob",
          "size": 215
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-api-migration-analyzer",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-api-migration-analyzer/SKILL.md",
          "type": "blob",
          "size": 6569
        },
        {
          "path": "skills/pm7y-codebase-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-codebase-review/SKILL.md",
          "type": "blob",
          "size": 13475
        },
        {
          "path": "skills/pm7y-codebase-review/principles-reference.md",
          "type": "blob",
          "size": 10544
        },
        {
          "path": "skills/pm7y-component-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-component-patterns/SKILL.md",
          "type": "blob",
          "size": 13505
        },
        {
          "path": "skills/pm7y-css-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-css-review/SKILL.md",
          "type": "blob",
          "size": 13956
        },
        {
          "path": "skills/pm7y-dotnet-upgrade",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-dotnet-upgrade/SKILL.md",
          "type": "blob",
          "size": 8981
        },
        {
          "path": "skills/pm7y-mermaid-diagram",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-mermaid-diagram/SKILL.md",
          "type": "blob",
          "size": 8684
        },
        {
          "path": "skills/pm7y-mermaid-diagram/class-reference.md",
          "type": "blob",
          "size": 5554
        },
        {
          "path": "skills/pm7y-mermaid-diagram/common-errors.md",
          "type": "blob",
          "size": 4802
        },
        {
          "path": "skills/pm7y-mermaid-diagram/flowchart-reference.md",
          "type": "blob",
          "size": 6139
        },
        {
          "path": "skills/pm7y-mermaid-diagram/sequence-reference.md",
          "type": "blob",
          "size": 4623
        },
        {
          "path": "skills/pm7y-ralph-loop",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-ralph-loop/SKILL.md",
          "type": "blob",
          "size": 4873
        },
        {
          "path": "skills/pm7y-scss-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-scss-patterns/SKILL.md",
          "type": "blob",
          "size": 9796
        },
        {
          "path": "skills/pm7y-simplify",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-simplify/SKILL.md",
          "type": "blob",
          "size": 9852
        },
        {
          "path": "skills/pm7y-youtube-transcript",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pm7y-youtube-transcript/SKILL.md",
          "type": "blob",
          "size": 10488
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"pm7y-marketplace\",\n  \"owner\": {\n    \"name\": \"pm7y\",\n    \"email\": \"3075792+pm7y@users.noreply.github.com\"\n  },\n  \"metadata\": {\n    \"description\": \"pm7y skills and plugins marketplace\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"pm7y-claude-code\",\n      \"source\": \"./\",\n      \"description\": \"Personal Claude Code setup with commands, skills, agents, and MCP servers\",\n      \"version\": \"1.8.2\",\n      \"author\": {\n        \"name\": \"pm7y\",\n        \"email\": \"3075792+pm7y@users.noreply.github.com\"\n      },\n      \"repository\": \"https://github.com/pm7y/pm7y-marketplace\",\n      \"keywords\": [\"dotnet\", \"mermaid\", \"productivity\", \"development\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"pm7y-claude-code\",\n  \"version\": \"1.25.3\",\n  \"description\": \"Personal Claude Code setup with commands, skills, agents, and MCP servers\",\n  \"author\": {\n    \"name\": \"pm7y\",\n    \"email\": \"3075792+pm7y@users.noreply.github.com\"\n  },\n  \"mcpServers\": \"./.mcp.json\"\n}\n",
        "README.md": "# pm7y Marketplace\n\nA private Claude Code marketplace containing reusable agents, skills, and commands.\n\n## Installation\n\nAdd this marketplace to Claude Code:\n\n```bash\n/plugin marketplace add pm7y/pm7y-marketplace\n```\n\nThen install the plugin:\n\n```bash\n/plugin install pm7y-claude-code@pm7y-marketplace\n```\n\n### Other Marketplace Commands\n\n```bash\n/plugin marketplace update    # Refresh marketplace with latest changes\n/plugin marketplace list      # List all added marketplaces\n/plugin marketplace remove pm7y-marketplace  # Remove this marketplace\n```\n\n## Repository Structure\n\n```\npm7y-marketplace/\n├── .claude-plugin/\n│   ├── marketplace.json       # Marketplace catalog\n│   └── plugin.json            # Plugin manifest (name, version, etc.)\n├── .mcp.json                  # MCP server configurations\n├── agents/                    # Agent definitions (auto-discovered)\n│   └── <agent-name>.md\n├── commands/                  # Command definitions (auto-discovered)\n│   └── <command-name>.md\n├── skills/                    # Skill definitions (auto-discovered)\n│   └── <skill-name>/\n│       ├── SKILL.md           # Skill definition with YAML frontmatter\n│       └── [resources]        # Optional supporting files\n├── scratch/                   # Work in progress\n├── CLAUDE.md                  # Claude Code instructions\n└── README.md                  # This file\n```\n\n## Available Skills\n\n| Name | Description |\n|------|-------------|\n| [pm7y-api-migration-analyzer](skills/pm7y-api-migration-analyzer/) | Analyzes API codebases for Azure subscription migration, producing dependency and risk assessments |\n| [pm7y-codebase-review](skills/pm7y-codebase-review/) | Reviews codebase for style consistency, patterns, and KISS/DRY/POLA/YAGNI adherence |\n| [pm7y-css-review](skills/pm7y-css-review/) | Reviews CSS/SCSS for over-specificity, missed reuse, and over-engineered abstractions |\n| [pm7y-dotnet-upgrade](skills/pm7y-dotnet-upgrade/) | Analyzes .NET 8 codebases for upgrading to .NET 10 |\n| [pm7y-mermaid-diagram](skills/pm7y-mermaid-diagram/) | Creates syntactically correct mermaid diagrams with validation and error prevention |\n| [pm7y-ralph-loop](skills/pm7y-ralph-loop/) | Sets up cross-platform Ralph Wiggum scripts for autonomous Claude execution |\n| [pm7y-youtube-transcript](skills/pm7y-youtube-transcript/) | Downloads YouTube video transcripts and creates structured summaries |\n\n## Available Commands\n\n| Command | Description |\n|---------|-------------|\n| `/pm7y-api-migration` | Invoke the API migration analyzer skill |\n| `/pm7y-css-review` | Review CSS/SCSS changes in the current branch |\n| `/pm7y-dotnet-upgrade` | Analyze a .NET 8 codebase for .NET 10 upgrade |\n| `/pm7y-mermaid` | Create a mermaid diagram |\n| `/pm7y-ralph-loop` | Set up Ralph loop scripts for autonomous execution |\n| `/pm7y-ralph-planner` | Create a TASKS.md file for ralph loop execution |\n| `/pm7y-random-movie` | Get a random movie suggestion |\n| `/pm7y-review-codebase` | Review codebase for patterns and principles |\n\n## Available Agents\n\n| Agent | Description |\n|-------|-------------|\n| [pm7y-ralph-planner](agents/pm7y-ralph-planner.md) | Interactive planner that creates TASKS.md files for autonomous ralph loop execution |\n\n## Component Reference\n\n### Skills\n\nSkills are specialized capabilities that extend Claude's abilities. Each skill lives in `skills/<name>/SKILL.md` with YAML frontmatter:\n\n```yaml\n---\nname: pm7y-skill-name\ndescription: |\n  Brief description and trigger examples\nallowed-tools: Tool1, Tool2\n---\n```\n\n### Commands\n\nCommands are slash commands that invoke skills or perform actions. Each command lives in `commands/<name>.md` with YAML frontmatter:\n\n```yaml\n---\nname: pm7y-command-name\ndescription: Brief description\nskill: pm7y-skill-name\n---\n```\n\n### Agents\n\nAgents are task-focused AI workers. Each agent lives in `agents/<name>.md` with YAML frontmatter:\n\n```yaml\n---\nname: pm7y-agent-name\ndescription: When to use this agent\nmodel: opus\ntools: Tool1, Tool2\n---\n```\n",
        "agents/pm7y-ralph-planner.md": "---\nname: pm7y-ralph-planner\ndescription: Interactive planner that creates TASKS.md files for autonomous ralph loop execution. Explores the codebase, asks clarifying questions, and generates a detailed task list with validation requirements and learnings tracking. Use when the user wants to create a tasks file, plan work for ralph loop, or mentions \"create TASKS.md\", \"I need a tasks file\", or \"plan tasks for...\".\nmodel: opus\ntools: Read, Write, Edit, Glob, Grep, Task, AskUserQuestion, mcp__plugin_context7_context7__resolve-library-id, mcp__plugin_context7_context7__query-docs\n---\n\nYou are an interactive planning agent that helps users create well-structured TASKS.md files suitable for autonomous execution via the ralph loop technique.\n\n## Your Mission\n\nGuide the user through a planning process:\n1. **Explore** the codebase to understand the project\n2. **Ask** clarifying questions (adaptive based on complexity)\n3. **Generate** a TASKS.md draft with validation requirements\n4. **Review** with the user and iterate until approved\n5. **Write** the final TASKS.md file\n\n## Back Pressure: Validation-Driven Iterations\n\n**Critical Concept:** Each iteration must validate that changes are valuable before being considered complete. Claude validates its own work through tool calls—the loop scripts just orchestrate sessions.\n\n### Why Back Pressure Matters\n\nWithout validation, autonomous loops can:\n- Accumulate broken code across iterations\n- Introduce regressions that compound\n- Make changes that look correct but fail at runtime\n- Drift from the actual goal without feedback\n\n### Preserving Learnings Across Iterations\n\n**Critical:** Each iteration is a fresh Claude session with no memory of previous attempts. When validation fails, the TASKS.md file must capture insights so the next iteration benefits.\n\n**What gets documented:**\n- The exact error message(s) encountered\n- What approach was tried and why it failed\n- Hypotheses about root cause\n- Files/areas investigated\n- Partial solutions that showed promise\n- Dead ends to avoid\n\nThe TASKS.md file includes a \"Learnings Log\" section that serves as memory across iterations.\n\n## Phase 1: Check for Initial Prompt\n\nIf the user provided an initial prompt/description with their request, use it as context. A good initial prompt may let you skip some basic questions.\n\n**If initial prompt provided:**\n- Extract the goal, scope, and any constraints mentioned\n- Still explore the codebase\n- Skip questions already answered by the prompt\n- Confirm your understanding before generating\n\n**If no initial prompt:**\n- Proceed with the full questioning flow\n\n## Phase 2: Codebase Exploration\n\nBefore asking questions, explore the project to gather context. Use the Task tool with `subagent_type: Explore` for efficient analysis.\n\n**What to discover:**\n\n1. **Project structure** - Directory layout, key folders (src, tests, docs, lib)\n2. **Languages/frameworks** - Check for:\n   - `package.json` → Node.js/JavaScript/TypeScript\n   - `*.csproj` or `*.sln` → .NET/C#\n   - `Cargo.toml` → Rust\n   - `go.mod` → Go\n   - `pyproject.toml` or `requirements.txt` → Python\n   - `pom.xml` or `build.gradle` → Java\n3. **Build/test commands** - Detect from config files\n4. **Existing documentation** - README.md, CLAUDE.md, CONTRIBUTING.md\n5. **Existing TASKS.md** - If present, note it for later\n\n**Build a context summary:**\n\n```\nProject type: [detected]\nBuild command: [detected or \"unknown\"]\nTest command: [detected or \"unknown\"]\nKey directories: [list]\nFrameworks: [list]\nDocumentation found: [list]\nExisting TASKS.md: [yes/no]\n```\n\nAnnounce what you found: \"I've explored the codebase. This is a [project type] project with [key details].\"\n\n## Phase 3: Adaptive Questioning\n\nAsk clarifying questions one at a time. Use `AskUserQuestion` for multiple-choice when options are clear.\n\n### Essential Questions (always ask unless answered by initial prompt)\n\n1. **Goal**: \"What are you trying to build or achieve?\"\n   - Open-ended, this is the core input\n\n2. **Scope**: \"What type of work is this?\"\n   - Options: New feature / Bug fix / Refactor / Migration / Documentation / Other\n\n3. **Success criteria**: \"How will you know when this is done?\"\n   - Open-ended, helps define completion\n\n### Conditional Questions (ask based on context)\n\n| Condition | Question |\n|-----------|----------|\n| Goal is vague | \"Can you give a specific example of how this would work?\" |\n| Multiple components involved | \"Which parts are highest priority?\" |\n| Unfamiliar framework detected | \"Should I look up best practices for [framework]?\" |\n| Test framework detected | \"Should tasks include writing/updating tests?\" |\n| Large scope detected | \"Should we break this into phases?\" |\n| Existing TASKS.md found | \"I found an existing TASKS.md. Replace it or append new tasks?\" |\n\n### Stopping Condition\n\nStop asking when you have:\n- Clear understanding of the goal\n- Defined scope boundaries\n- Enough detail to break into 5-15 concrete tasks\n\nAnnounce: \"I have enough information to draft the tasks. Generating TASKS.md...\"\n\n## Phase 4: Task Generation\n\nGenerate a TASKS.md file with this structure:\n\n```markdown\n# Task Instructions\n\nYou are running in autonomous loop mode. Each iteration completes exactly ONE task, then exits. The loop script handles spawning fresh sessions.\n\n## Context\n\n- **Project**: [detected project type]\n- **Build**: `[build command]`\n- **Test**: `[test command]`\n- **Goal**: [user's stated goal]\n\n## Validation Requirements (MANDATORY)\n\nBefore completing ANY iteration, you MUST:\n\n1. **Read learnings first** - Check the Learnings Log before starting work\n2. **Run the build** after any code change - iteration fails if build fails\n3. **Run tests** - iteration fails if tests fail (only add tests if the current task requires them)\n4. **Check for warnings** - address compiler/linter warnings, don't ignore them\n5. **Roll back on failure** - if validation fails after 2-3 attempts, `git checkout .` and document learnings\n6. **Document before exiting** - always update Learnings Log with insights from failed attempts\n\n## Rules\n\n1. **ONE task per iteration, then STOP** - Complete exactly one task, then exit\n2. Run validation after every code change\n3. Mark tasks complete with `[x]` when done\n4. If blocked after 2-3 attempts, rollback, document in Learnings Log, then EXIT (next iteration will try another task)\n5. Do NOT commit - the loop script handles commits via -AutoCommit flag\n6. **EXIT after ONE task** - Do not continue to additional tasks in the same iteration\n\n## Iteration Workflow\n\n```\n1. Read the Learnings Log for context from previous attempts\n2. Pick the FIRST incomplete task (Critical → High → Medium → Low, then document order within each level)\n3. Make the change\n4. Run build → if fails, fix and retry (max 2-3 attempts)\n5. Run tests → if fails, fix and retry (max 2-3 attempts)\n6. If validation passes → mark task complete → EXIT\n7. If validation fails repeatedly → rollback, document learnings → EXIT\n8. STOP - Do NOT proceed to another task. The loop will start a fresh iteration.\n```\n\n## Tasks\n\n### Critical\n- [ ] [Task description] (verify: [specific command if applicable])\n\n### High Priority\n- [ ] [Task description]\n\n### Medium Priority\n- [ ] [Task description]\n\n### Low Priority\n- [ ] [Task description]\n\n## Learnings Log\n\nDocument insights from failed attempts so the next iteration can benefit. Include: error messages, what was tried, hypotheses, files investigated, and suggested next steps.\n\n### Template\n```\n### [DATE] - [Brief description]\n- **Error:** [Exact error message and location]\n- **Tried:** [Approaches attempted]\n- **Found:** [What was discovered]\n- **Suspect:** [Hypothesis about root cause]\n- **Next step:** [Recommended action for next iteration]\n```\n\n[No entries yet]\n```\n\n### Task Quality Guidelines\n\n**Each task must be:**\n\n- **Atomic** - Completable in one iteration (not too big)\n- **Specific** - Clear action (\"Add login button to header\" not \"Improve auth\")\n- **Ordered** - Dependencies respected (create file before importing it)\n- **Verifiable** - Include `(verify: command)` when possible\n- **Scoped** - Include file/directory hints when known\n\n**Priority assignment:**\n\n- **Critical**: Blocking other work, core functionality\n- **High**: Important for the goal, should be done early\n- **Medium**: Standard tasks, bulk of the work\n- **Low**: Nice to have, cleanup, polish\n\n**Task count:** Aim for 5-15 tasks. Too few = too vague. Too many = overwhelming.\n\n### Using Context7\n\nIf you need framework-specific guidance for task breakdown, use Context7:\n\n1. `mcp__plugin_context7_context7__resolve-library-id` - Find the library ID\n2. `mcp__plugin_context7_context7__query-docs` - Query for best practices\n\nThis helps create tasks that follow framework conventions.\n\n## Phase 5: Review Cycle\n\nPresent the draft and ask for feedback.\n\n**Present the full TASKS.md content**, then use AskUserQuestion:\n\n\"Here's the draft TASKS.md. What would you like to do?\"\n\nOptions:\n1. **Looks good, save it** - Proceed to finalization\n2. **Add more tasks** - Ask what's missing\n3. **Remove or modify tasks** - Ask which ones\n4. **Break tasks down further** - Split large tasks\n5. **Change priorities** - Reorder/recategorize\n6. **Other** - Free-form feedback\n\n**Refinement loop:**\n\nIncorporate feedback, regenerate affected sections, present again. Continue until user selects \"Looks good, save it\".\n\n## Phase 6: Finalization\n\nOnce approved:\n\n1. **Backup existing** - If TASKS.md exists, copy to TASKS.md.bak\n2. **Write file** - Save TASKS.md to project root\n3. **Confirm** - \"TASKS.md created with X tasks.\"\n4. **Next steps** - Explain the two execution options:\n   - **`/pm7y-ralph-loop`** (recommended): Sets up scripts for fresh Claude sessions per task - best for long-running work\n\n## Example Session\n\n```\nUser: /pm7y-ralph-planner Add dark mode to the React app\n\nAgent: I've explored the codebase. This is a TypeScript React project using Vite, with Jest for testing.\n\nYour initial prompt mentions adding dark mode. Let me ask a few clarifying questions.\n\n[AskUserQuestion: What type of work is this?]\n- New feature (Recommended)\n- Enhancement to existing feature\n- Other\n\nUser: New feature\n\nAgent: How will you know when dark mode is complete? What should it include?\n\nUser: Toggle in the header, persists to localStorage, applies to all components\n\nAgent: Should tasks include writing tests for the dark mode functionality?\n\nUser: Yes\n\nAgent: I have enough information. Generating TASKS.md...\n\n[Shows draft with ~8 tasks: create theme context, add toggle component, update header, create CSS variables, update components, add localStorage persistence, write tests, add to README]\n\n[AskUserQuestion: What would you like to do?]\n\nUser: Looks good, save it\n\nAgent: TASKS.md created with 8 tasks. Run `/pm7y-ralph-loop` to set up autonomous execution.\n```\n\n## Important Rules\n\n1. **One question at a time** - Don't overwhelm the user\n2. **Prefer multiple choice** - Easier than open-ended when options are clear\n3. **Explore before asking** - Codebase context makes questions smarter\n4. **Tasks must be checkbox format** - `- [ ]` is required for ralph compatibility\n5. **Atomic tasks** - Each task completable in one iteration\n6. **Always review** - Never write TASKS.md without user approval\n7. **Backup existing** - Don't lose previous TASKS.md content\n",
        "commands/pm7y-api-migration.md": "---\ndescription: Analyze an API codebase for Azure subscription migration. Produces API_Summary.md with dependencies, endpoints, messaging, and risks assessment.\nallowed-tools: Read, Write, Edit, Grep, Glob, Bash, Task\nskill: pm7y-api-migration-analyzer\n---\n\n**Prerequisites:**\n- Working directory must be the API repository root\n- Must be a .NET codebase (contains .csproj/.sln files)\n\n**Execution:**\n1. Discovery phase identifies codebase structure\n2. Parallel agents analyze: Core Identity, Integration Surface, API Contract, Messaging & Jobs, Infrastructure & Security\n3. Consolidation validates findings and generates API_Summary.md\n\n**Output:** `API_Summary.md` with migration blockers, dependencies, risks, and C4 context diagram\n\nAnalyze this API for Azure subscription migration: $ARGUMENTS\n",
        "commands/pm7y-component-patterns.md": "---\nname: pm7y-component-patterns\ndescription: Discover existing React component patterns (file structure, state management, naming, props, TypeScript conventions) before writing new components.\nskill: pm7y-component-patterns\n---\n\nDiscover existing React component patterns in this codebase: $ARGUMENTS\n",
        "commands/pm7y-css-review.md": "---\ndescription: Review CSS/SCSS changes for complexity and reuse opportunities. Passes findings to pm7y-ralph-planner for TASKS.md generation.\nallowed-tools: Read, Write, Grep, Glob, Bash, Task\nskill: pm7y-css-review\n---\n\nReview CSS/SCSS changes. Pass your findings to the `pm7y-ralph-planner` agent (via Task tool) to generate a TASKS.md file with validation requirements and learnings tracking for autonomous execution: $ARGUMENTS\n",
        "commands/pm7y-dotnet-upgrade.md": "---\ndescription: Analyze a .NET 8 codebase for upgrading to .NET 10. Passes findings to pm7y-ralph-planner for TASKS.md generation.\nallowed-tools: Read, Write, Grep, Glob, Bash, Task\nskill: pm7y-dotnet-upgrade\n---\n\nAnalyze this codebase for .NET 10 upgrade. Pass your findings to the `pm7y-ralph-planner` agent (via Task tool) to generate a TASKS.md file with validation requirements and learnings tracking for autonomous execution: $ARGUMENTS\n",
        "commands/pm7y-mermaid.md": "---\ndescription: Create a syntactically correct mermaid diagram (flowchart, sequence, class, state, ER, gantt, mindmap)\nallowed-tools: Write, Edit, Read\nskill: pm7y-mermaid-diagram\n---\n\nCreate a mermaid diagram based on: $ARGUMENTS\n",
        "commands/pm7y-ralph-loop.md": "---\ndescription: Set up cross-platform Ralph Wiggum scripts for autonomous Claude execution (loop and single-run)\nallowed-tools: Write, Read, Bash\nskill: pm7y-ralph-loop\n---\n\nSet up Ralph Wiggum scripts for autonomous Claude execution in this project: $ARGUMENTS\n",
        "commands/pm7y-ralph-planner.md": "---\ndescription: Create a TASKS.md file for autonomous ralph loop execution through interactive planning\nallowed-tools: Task\n---\n\nCreate a detailed TASKS.md file suitable for autonomous execution via the ralph loop technique.\n\n## What to do\n\nInvoke the `pm7y-ralph-planner` agent to run the interactive planning process.\n\n**If the user provided an initial prompt/description**, pass it to the agent so it can use that context to streamline the questioning process.\n\n```\nTask tool:\n  subagent_type: pm7y-claude-code:pm7y-ralph-planner\n  description: \"Plan tasks for ralph loop\"\n  prompt: |\n    [Include any initial prompt/description the user provided]\n    [If no initial prompt, just say \"The user wants to create a TASKS.md file.\"]\n```\n\nThe agent will:\n1. Explore the codebase to understand the project\n2. Ask clarifying questions (adaptive based on complexity)\n3. Generate a TASKS.md draft\n4. Present for review and iterate until approved\n5. Write the final TASKS.md file\n\n## Examples\n\n```bash\n# No initial prompt - agent will ask what you want to build\n/pm7y-ralph-planner\n\n# With initial prompt - seeds the planning process\n/pm7y-ralph-planner Add user authentication with JWT tokens\n\n# With detailed prompt - may skip some questions\n/pm7y-ralph-planner Refactor the API layer to use repository pattern, need to update UserService, OrderService, and ProductService\n```\n",
        "commands/pm7y-random-movie.md": "---\ndescription: Suggest a random movie to watch.\nmodel: opus\n---\n\nSuggest a random movie to watch after the user is done with their work.\nProvide the title, year and a brief description and why you recommend it.\n\n$ARGUMENTS\n",
        "commands/pm7y-review-codebase.md": "---\ndescription: Review the codebase for style consistency, patterns, idioms, and KISS/DRY/POLA/YAGNI adherence. Passes findings to pm7y-ralph-planner for TASKS.md generation.\nallowed-tools: Read, Write, Edit, Grep, Glob, Task, WebFetch, mcp__context7__resolve-library-id, mcp__context7__query-docs\nskill: pm7y-codebase-review\n---\n\n**Depth options:**\n- `--quick` - Sample key files, high-level patterns only\n- `--standard` - Representative files from each area (default)\n- `--comprehensive` - Full codebase scan, detailed analysis\n\nReview this codebase. Pass your findings to the `pm7y-ralph-planner` agent (via Task tool) to generate a TASKS.md file with validation requirements and learnings tracking for autonomous execution: $ARGUMENTS\n",
        "commands/pm7y-scss-patterns.md": "---\nname: pm7y-scss-patterns\ndescription: Discover existing SCSS/CSS patterns (mixins, variables, utilities, component patterns) before writing new styles.\nskill: pm7y-scss-patterns\n---\n\nDiscover existing SCSS/CSS patterns in this codebase: $ARGUMENTS\n",
        "commands/pm7y-simplify.md": "---\nname: pm7y-simplify\ndescription: Simplify code by removing unnecessary abstractions, inlining single-use functions, reducing nesting, and applying YAGNI.\nskill: pm7y-simplify\n---\n\nSimplify this code: $ARGUMENTS\n",
        "skills/pm7y-api-migration-analyzer/SKILL.md": "# SKILL: API Migration Analyser\n\n## Overview\nAnalyses an API codebase for Azure subscription migration, producing a structured \nsummary document. Designed for parallel execution across analysis domains.\n\n## Trigger\nWhen user asks to analyse an API for migration, or references this skill.\n\n## Prerequisites\n- Working directory is the API repository root\n- User has provided any context about the target environment\n\n## Execution Strategy\n\n### Phase 1: Discovery (Sequential - Required First)\nSingle agent establishes codebase structure before parallel analysis.\n\n**Tasks:**\n1. Identify solution/project structure (`find . -name \"*.csproj\" -o -name \"*.sln\"`)\n2. Locate entry points (Program.cs, Startup.cs, Function triggers)\n3. Identify configuration files (appsettings*.json, *.bicep, *.tf)\n4. Check for /readiness or /health endpoints\n5. Identify dependency injection registrations\n6. Detect job schedulers (Hangfire, HostedService, Timer triggers)\n\n**Output:** `_discovery.json` with file paths and initial classification\n\n---\n\n### Phase 2: Parallel Analysis (5 Concurrent Agents)\n\n#### Agent A: Core Identity\n**Focus:** What is this API and what does it own?\n**Analyse:**\n- Purpose and business context (README, XML docs, namespace structure)\n- Azure resources required (from bicep/terraform/ARM templates)\n- Data persistence (DbContext, repositories, storage clients)\n- PII/PHI classification\n\n**Output sections:** 1 (Overview), 6 (Data Persistence), 10 (PII/PHI)\n\n---\n\n#### Agent B: Integration Surface\n**Focus:** How does this API connect to the outside world?\n**Analyse:**\n- HTTP clients and their base URLs\n- Service bus/queue connections\n- Database connection strings\n- Third-party SDKs (SendGrid, Twilio, AWS, etc.)\n- gRPC/REST client registrations\n\n**Output sections:** 2 (Dependencies)\n\n---\n\n#### Agent C: API Contract\n**Focus:** What does this API expose?\n**Analyse:**\n- Controller routes and HTTP methods\n- Authentication attributes ([Authorize], API key middleware)\n- Request/response models\n- OpenAPI/Swagger definitions if present\n- Deprecation markers\n\n**Output sections:** 3 (Endpoints) - summarised, not exhaustive code paths\n\n---\n\n#### Agent D: Messaging & Jobs\n**Focus:** Asynchronous behaviour\n**Analyse:**\n- Message handlers (IHandleMessages, Functions with triggers)\n- Event publishers (IPublishEndpoint, ITopicClient)\n- Background jobs and schedules\n- Hosted services\n\n**Output sections:** 4 (Messages Consumed), 5 (Messages Published), 7 (Background Jobs)\n\n---\n\n#### Agent E: Infrastructure & Security\n**Focus:** Deployment and access requirements\n**Analyse:**\n- Configuration settings and their sources\n- Key Vault references\n- Managed identity usage\n- Required Azure roles/permissions\n- CI/CD workflows\n- Outbound network requirements (URLs, ports)\n\n**Output sections:** 8 (Configuration), 9 (Permissions), 11 (Workflows), 12 (Packages)\n\n---\n\n### Phase 3: Consolidation (Sequential)\n\n#### Consolidation Tasks:\n1. **Cross-validate:** Compare declared dependencies (Agent B) against actual usage (Agents C, D)\n2. **Risk synthesis:** Identify migration risks from all agent outputs\n3. **Diagram generation:** Create C4 context diagram using **pm7y-mermaid-diagram skill** (see below)\n4. **Gap detection:** Flag sections marked \"Not determinable\" for dev team questions\n5. **Priority ranking:** Order risks by migration impact\n\n**Output sections:** 13 (Diagram), 14 (Risks), 15 (Appendix), 16 (Questions)\n\n#### Diagram Generation (using pm7y-mermaid-diagram skill)\n\nWhen creating the C4 context diagram for Section 13, **invoke the pm7y-mermaid-diagram skill** to ensure syntactically correct output. Use `flowchart TD` for the C4 context diagram with:\n\n- **External systems** as nodes outside subgraphs\n- **The API** in a central subgraph\n- **Dependencies** (databases, queues, external APIs) as connected nodes\n- **Labels** showing the relationship (e.g., \"reads from\", \"publishes to\")\n\n**Example structure:**\n```mermaid\nflowchart TD\n    subgraph System[\"API Name\"]\n        API[API Service]\n    end\n\n    DB[(Database)]\n    Queue[Service Bus]\n    ExtAPI[External API]\n\n    API -->|reads/writes| DB\n    API -->|publishes| Queue\n    API -->|calls| ExtAPI\n```\n\nFollow all pm7y-mermaid-diagram rules:\n- Use double quotes for labels with special characters\n- Use `subgraph ID[\"Title\"]` syntax\n- Avoid lowercase \"end\" as node names\n- No `Note` keyword in flowcharts\n\n---\n\n## Output Format\n\n### File: `API_Summary.md`\n```markdown\n# {API Name} Migration Summary\n\n> Generated: {date}\n> Repository: {repo path}\n> Confidence: {High|Medium|Low} - based on code coverage of analysis\n\n## Quick Reference\n| Attribute | Value |\n|-----------|-------|\n| Critical Dependencies | {count} |\n| PII/PHI Present | Y/N |\n| Background Jobs | {count} |\n| Migration Risk Level | {High|Medium|Low} |\n\n## Migration Blockers (Review First)\n{Top 3 critical risks that could prevent migration}\n\n---\n\n{Sections 1-16 as per original spec, but with validated cross-references}\n```\n\n---\n\n## Section Specifications\n\n### Tables - Standard Columns\n\nAll tables include a **Confidence** column:\n- ✅ Verified in code\n- ⚠️ Inferred from patterns\n- ❓ Not determinable\n\n### Section Modifications from Original\n\n| Section | Change | Rationale |\n|---------|--------|-----------|\n| 3 (Endpoints) | Summarise by controller, not exhaustive code paths | Performance; full paths rarely needed for migration |\n| 10 (PII/PHI) | Add \"Encryption at Rest\" column | Critical for HIPAA compliance verification |\n| 13 (Diagram) | Remove \"Microsoft Loop compatible\" requirement | Too vague; standard Mermaid is sufficient |\n| 14 (Risks) | Move to top of document as \"Migration Blockers\" | Visibility for decision-makers |\n| 15 (Appendix) | Replace with structured \"Migration Notes\" checklist | Prevents rambling |\n\n---\n\n## Validation Rules\n\nBefore finalising output, verify:\n- [ ] Every dependency in Section 2 appears in at least one endpoint/job/handler\n- [ ] Every external URL has a corresponding firewall rule suggestion\n- [ ] PII/PHI classification aligns with data persistence entries\n- [ ] Background jobs that \"Send Communications\" have corresponding dependencies\n- [ ] Questions for dev team are specific and actionable (not generic)\n\n---\n\n## Error Handling\n\n| Condition | Action |\n|-----------|--------|\n| No .csproj found | Abort with \"Not a .NET repository\" message |\n| No configuration files | Warn and continue; note in Appendix |\n| Circular dependencies detected | Flag as Critical risk |\n| Analysis timeout on large codebase | Complete available sections; note incomplete areas |",
        "skills/pm7y-codebase-review/SKILL.md": "---\nname: pm7y-codebase-review\ndescription: Reviews a codebase for style consistency, patterns, idioms, and adherence to KISS, DRY, POLA, YAGNI principles. Automatically detects languages/frameworks present and applies appropriate analysis. Produces analysis findings and uses pm7y-ralph-planner to generate TASKS.md for autonomous execution.\nallowed-tools: Read, Write, Edit, Grep, Glob, Task, WebFetch, mcp__context7__resolve-library-id, mcp__context7__query-docs\n---\n\n# Codebase Review Skill\n\nReviews codebases for consistency, patterns, and adherence to software engineering principles. Produces analysis findings that are passed to `pm7y-ralph-planner` for TASKS.md generation.\n\n---\n\n## Overview\n\nThis skill performs comprehensive codebase analysis focusing on:\n\n- **Style & pattern consistency** - Implicit and explicit conventions\n- **Language idioms** - Following best practices for each language\n- **Principle adherence** - KISS, DRY, POLA, YAGNI\n- **Complexity reduction** - Identifying unnecessary complexity\n- **Duplication detection** - Finding repeated code patterns\n\n**Output:** Analysis findings passed to `pm7y-ralph-planner`, which generates a `TASKS.md` file with validation requirements and learnings tracking for autonomous execution via `pm7y-ralph-loop`.\n\n**When to use:**\n\n- Periodic codebase health checks with automated fixes\n- Before major refactoring efforts\n- Autonomous code quality improvement sessions\n- After rapid feature development to address technical debt\n\n---\n\n## Review Depth Options\n\nThe review supports different depth levels via command arguments:\n\n| Depth | Scope | Use When |\n|-------|-------|----------|\n| `--quick` | Sample key files, high-level patterns | Quick health check |\n| `--standard` | Representative files from each area | Regular reviews (default) |\n| `--comprehensive` | Full codebase scan, detailed analysis | Before major refactoring |\n\n---\n\n## Review Process\n\n### Step 1: Study Documentation\n\nBefore analyzing code, read and understand:\n\n1. **README.md** - Project overview, architecture decisions\n2. **CLAUDE.md** - Codebase conventions (if exists)\n3. **CONTRIBUTING.md** - Contribution guidelines\n4. **Architecture docs** - Any docs in `/docs` or similar\n5. **.editorconfig** - Formatting preferences\n6. **Linter configs** - ESLint, Prettier, StyleCop, .pylintrc, .rubocop.yml, etc.\n\nUse these to understand the project's stated conventions before comparing to actual code.\n\n### Step 2: Detect Languages and Frameworks\n\nScan the codebase to identify all languages and frameworks present. Look for:\n\n| Language/Framework | Indicators |\n|-------------------|------------|\n| **JavaScript/TypeScript** | `package.json`, `.js`, `.ts`, `.jsx`, `.tsx` files |\n| **React** | React in package.json dependencies, JSX/TSX files, hooks |\n| **Node.js** | `package.json` with node dependencies, no browser frameworks |\n| **C#/.NET** | `.sln`, `.csproj`, `.cs` files, `Program.cs` |\n| **Python** | `requirements.txt`, `pyproject.toml`, `setup.py`, `.py` files |\n| **Go** | `go.mod`, `go.sum`, `.go` files |\n| **Rust** | `Cargo.toml`, `Cargo.lock`, `.rs` files |\n| **Java** | `pom.xml`, `build.gradle`, `.java` files |\n| **Ruby** | `Gemfile`, `.rb` files, `Rakefile` |\n| **PHP** | `composer.json`, `.php` files |\n| **Kotlin** | `build.gradle.kts`, `.kt` files |\n| **Swift** | `Package.swift`, `.swift` files, `.xcodeproj` |\n\n**Record detected languages** for use in task grouping and analysis focus.\n\n### Step 3: Analyze Code by Language\n\nFor each detected language, apply language-specific analysis. Use Context7 to look up current best practices for the detected languages/frameworks.\n\n---\n\n#### React/TypeScript Analysis\n\n*Apply when React/TypeScript detected.*\n\n**Component Patterns:**\n- Functional vs class components (prefer functional)\n- Hook usage patterns (custom hooks, composition)\n- State management approach (local, context, external)\n- Component file structure (co-location, barrel exports)\n\n**TypeScript Idioms:**\n- Type inference vs explicit types\n- Interface vs type aliases\n- Utility types usage\n- Strict mode adherence\n\n**Style Consistency:**\n- Naming conventions (PascalCase components, camelCase functions)\n- Import ordering and grouping\n- Export patterns (default vs named)\n- File naming conventions\n\n**React Best Practices:**\n- Prop drilling vs composition\n- useEffect dependencies and cleanup\n- Memoization (useMemo, useCallback, React.memo)\n- Error boundaries\n- Accessibility patterns\n\n---\n\n#### C#/.NET Analysis\n\n*Apply when C#/.NET detected.*\n\n**Architecture Patterns:**\n- Layer separation (Controllers, Services, Repositories)\n- Dependency injection usage\n- Interface abstractions\n- CQRS or traditional patterns\n\n**C# Idioms:**\n- Nullable reference types\n- Async/await patterns\n- LINQ usage (query vs method syntax)\n- Record types vs classes\n- Pattern matching\n\n**Style Consistency:**\n- Naming conventions (PascalCase, _camelCase for fields)\n- File organization (one class per file)\n- Namespace structure\n- XML documentation\n\n**.NET Best Practices:**\n- Exception handling patterns\n- Configuration management\n- Logging patterns\n- Validation approaches\n\n---\n\n#### Other Languages (Dynamic Analysis)\n\n*Apply when languages other than React/TypeScript or C#/.NET are detected.*\n\nFor languages not covered above, use Context7 to look up current best practices:\n\n1. **Identify the language** - Use the detection table from Step 2\n2. **Query Context7** - Look up idioms, style guides, and best practices for that language\n3. **Apply universal checks** - See \"Generic Analysis\" below\n4. **Focus on consistency** - Even without deep language knowledge, inconsistencies are identifiable\n\n**Common analysis patterns for any language:**\n- Code organization and module structure\n- Naming convention consistency\n- Error/exception handling patterns\n- Testing patterns and coverage\n- Dependency management\n- Documentation quality\n\n---\n\n#### Generic Analysis (Any Language)\n\n*Always apply these checks regardless of language.*\n\n**Universal Patterns:**\n- Consistent naming within the codebase\n- File/directory organization patterns\n- Comment quality and accuracy\n- Test organization and coverage\n- Configuration management\n- Environment handling\n- Logging patterns\n- Error handling consistency\n\n### Step 4: Apply Engineering Principles\n\nEvaluate code against each principle:\n\n**KISS (Keep It Simple, Stupid):**\n- Overly complex solutions for simple problems\n- Unnecessary abstraction layers\n- Convoluted control flow\n- Over-engineered patterns\n\n**DRY (Don't Repeat Yourself):**\n- Duplicated code blocks\n- Similar functions that could be generalized\n- Repeated configuration\n- Copy-pasted logic with minor variations\n\n**POLA (Principle of Least Astonishment):**\n- Surprising function behaviors\n- Misleading names\n- Unexpected side effects\n- Non-obvious API designs\n\n**YAGNI (You Aren't Gonna Need It):**\n- Unused code or features\n- Premature abstractions\n- Over-configurable systems\n- Speculative generality\n\nSee [principles-reference.md](principles-reference.md) for detailed examples.\n\n### Step 5: Use Context7 for Documentation\n\nWhen evaluating idioms or best practices, use Context7 MCP tools to look up:\n\n- Current React patterns and hooks documentation\n- C# language feature documentation\n- .NET framework best practices\n- Package-specific usage patterns\n\nThis ensures recommendations align with current (not outdated) best practices.\n\n### Step 6: Pass Findings to pm7y-ralph-planner\n\nAfter completing the analysis, invoke the `pm7y-ralph-planner` agent using the Task tool. Pass your findings as structured input so the planner can generate a proper TASKS.md with validation requirements and learnings tracking.\n\n**Invoke pm7y-ralph-planner with this prompt:**\n\n```\nGenerate a TASKS.md for codebase review remediation.\n\n## Goal\nFix code quality issues identified during codebase review.\n\n## Project Context\n- **Technologies:** [Languages, frameworks, build tools detected]\n- **Build command:** [detected build command]\n- **Test command:** [detected test command]\n- **Review scope:** [quick/standard/comprehensive]\n\n## Key Conventions (from documentation)\n- [Convention 1]\n- [Convention 2]\n\n## Findings\n\n### High Priority (Critical issues affecting correctness or maintainability)\n\n- **[PRINCIPLE]**: [Brief description]\n  - Files: `file1.ext:line`, `file2.ext:line`\n  - Action: [Specific action to take]\n  - Verify: [How to verify the fix]\n\n[Repeat for each high priority finding]\n\n### Medium Priority (Consistency and pattern improvements)\n\n- **[CATEGORY]**: [Brief description]\n  - Files: `file1.ext`, `file2.ext`\n  - Action: [Specific action to take]\n  - Verify: [How to verify the fix]\n\n[Repeat for each medium priority finding]\n\n### Low Priority (Minor improvements and cleanup)\n\n- **[CATEGORY]**: [Brief description]\n  - Files: `file1.ext`\n  - Action: [Specific action to take]\n  - Verify: [How to verify the fix]\n\n[Repeat for each low priority finding]\n\n## Positive Observations (patterns to maintain)\n- [Observation 1]\n- [Observation 2]\n\n## Notes\n- [Any blockers or dependencies between tasks]\n```\n\n**Why use pm7y-ralph-planner:**\n\nThe planner will:\n1. Add proper validation requirements (build, test, lint checks)\n2. Include the Learnings Log section for preserving insights across iterations\n3. Add the iteration workflow guidance\n4. Format tasks for optimal autonomous execution\n\n---\n\n## Critical Rules\n\n### Rule 1: Documentation First\n\nALWAYS read available documentation before analyzing code. Understanding stated conventions prevents false positives.\n\n### Rule 2: Autonomous-Friendly Findings\n\nEvery finding MUST be:\n- **Self-contained** - Can be completed in isolation\n- **Specific** - Exact files and line numbers\n- **Verifiable** - Clear success criteria\n- **Safe** - Include test verification step\n\n### Rule 3: Context Over Rules\n\nApply principles pragmatically. Small amounts of duplication may be acceptable. Simple code may look \"boring\" but is often correct. Consider the context before flagging violations.\n\n### Rule 4: Prioritize Correctly\n\n- **High**: Bugs, security issues, principle violations causing real problems\n- **Medium**: Inconsistencies, pattern violations, maintainability issues\n- **Low**: Style nitpicks, minor cleanup, optional improvements\n\n### Rule 5: Use pm7y-ralph-planner\n\nALWAYS pass findings to `pm7y-ralph-planner` for TASKS.md generation. This ensures proper validation requirements, learnings tracking, and iteration workflow are included.\n\n---\n\n## Output Format\n\nThe analysis produces structured findings that are passed to `pm7y-ralph-planner`. The planner handles TASKS.md generation.\n\n**Finding Format Requirements:**\n\nEach finding must include:\n1. **Category tag** in bold (e.g., `**DRY**`, `**KISS**`, `**Naming**`)\n2. **Brief description** of the issue\n3. **Files** with specific paths and line numbers where possible\n4. **Action** describing exactly what to do\n5. **Verify** explaining how to confirm the fix worked\n\n**Example Finding:**\n\n```markdown\n- **DRY**: Duplicate email validation logic\n  - Files: `src/controllers/UserController.cs:45-60`, `src/controllers/AdminController.cs:32-47`\n  - Action: Extract shared validation to `src/helpers/ValidationHelpers.cs` as `ValidateEmail()` method. Update both controllers to use the shared helper.\n  - Verify: Run `dotnet test` - all tests pass. Grep for email regex - only one occurrence.\n```\n\n---\n\n## Validation Checklist\n\nBefore passing findings to pm7y-ralph-planner:\n\n- [ ] Read all available documentation (README, CLAUDE.md, etc.)\n- [ ] Detected and documented all languages/frameworks\n- [ ] Analyzed patterns and idioms for each detected language\n- [ ] Applied KISS, DRY, POLA, YAGNI principle evaluations\n- [ ] Used Context7 for current best practice verification (if needed)\n- [ ] All findings have specific file references\n- [ ] All findings have clear Action and Verify steps\n- [ ] Findings are correctly prioritized (High/Medium/Low)\n- [ ] Positive observations documented\n- [ ] Invoked pm7y-ralph-planner with structured findings\n\n---\n\n## Examples\n\n### Example: High Priority DRY Task\n\n```markdown\n- [ ] **DRY**: Duplicate validation logic\n  - Files: `src/controllers/UserController.cs:45-60`, `src/controllers/AdminController.cs:32-47`\n  - Action: Extract email validation regex and error handling to `src/helpers/ValidationHelpers.ValidateEmail()`. Update both controllers to use shared helper.\n  - Verify: `dotnet test` passes. Only one email regex in codebase.\n```\n\n### Example: Medium Priority KISS Task\n\n```markdown\n- [ ] **KISS**: Over-abstracted service layer\n  - Files: `src/Services/UserService.cs`, `src/Services/IUserService.cs`, `src/Services/UserServiceBase.cs`, `src/Services/UserServiceExtensions.cs`\n  - Action: Consolidate to single `UserService.cs` with interface `IUserService.cs`. Remove unnecessary base class and extensions.\n  - Verify: `dotnet build` succeeds. `dotnet test` passes. Service still injectable via DI.\n```\n\n### Example: Low Priority Naming Task\n\n```markdown\n- [ ] **Naming**: Inconsistent hook file naming\n  - Files: `src/hooks/useAuth.ts`, `src/hooks/useFetchData.ts`, `src/hooks/UseCart.tsx`\n  - Action: Rename `UseCart.tsx` to `useCart.ts` (camelCase, .ts extension for non-component hooks).\n  - Verify: `npm run build` succeeds. `npm test` passes. No import errors.\n```\n\n---\n\n## Reference Documents\n\nFor detailed guidance on principles and patterns:\n\n- [principles-reference.md](principles-reference.md) - Detailed KISS, DRY, POLA, YAGNI examples\n",
        "skills/pm7y-codebase-review/principles-reference.md": "# Engineering Principles Reference\n\nDetailed guidance for evaluating code against KISS, DRY, POLA, and YAGNI principles.\n\n---\n\n## KISS (Keep It Simple, Stupid)\n\n**Core idea:** The simplest solution that works is usually the best.\n\n### Signs of KISS Violations\n\n**Over-abstraction:**\n```csharp\n// VIOLATION: Factory for a single implementation\npublic interface IUserFactory { User Create(UserDto dto); }\npublic class UserFactory : IUserFactory { ... }\npublic class UserFactoryProvider { IUserFactory GetFactory() => new UserFactory(); }\n\n// BETTER: Direct instantiation\npublic User CreateUser(UserDto dto) => new User(dto.Name, dto.Email);\n```\n\n**Unnecessary design patterns:**\n```typescript\n// VIOLATION: Strategy pattern for two fixed options\ninterface SortStrategy { sort(items: Item[]): Item[] }\nclass AscendingSort implements SortStrategy { ... }\nclass DescendingSort implements SortStrategy { ... }\nclass SortContext { constructor(private strategy: SortStrategy) {} ... }\n\n// BETTER: Simple function\nconst sortItems = (items: Item[], ascending = true) =>\n  [...items].sort((a, b) => ascending ? a.value - b.value : b.value - a.value);\n```\n\n**Convoluted control flow:**\n```csharp\n// VIOLATION: Nested conditions\nif (user != null) {\n    if (user.IsActive) {\n        if (user.HasPermission(\"read\")) {\n            return data;\n        }\n    }\n}\nreturn null;\n\n// BETTER: Early returns\nif (user == null) return null;\nif (!user.IsActive) return null;\nif (!user.HasPermission(\"read\")) return null;\nreturn data;\n```\n\n### When Complexity Is Justified\n\n- Performance-critical paths with measured bottlenecks\n- Genuinely complex domain requirements\n- Regulatory or security requirements\n- Supporting multiple genuinely different use cases\n\n---\n\n## DRY (Don't Repeat Yourself)\n\n**Core idea:** Every piece of knowledge should have a single, authoritative representation.\n\n### Signs of DRY Violations\n\n**Duplicated logic:**\n```typescript\n// VIOLATION: Same validation in multiple places\n// In UserForm.tsx\nconst isValidEmail = (email: string) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n\n// In AdminForm.tsx (copy-pasted)\nconst isValidEmail = (email: string) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n\n// BETTER: Shared utility\n// In utils/validation.ts\nexport const isValidEmail = (email: string) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n```\n\n**Repeated configuration:**\n```csharp\n// VIOLATION: Same connection string in multiple files\n// In UserRepository.cs\nvar connectionString = \"Server=localhost;Database=MyDb;...\";\n\n// In OrderRepository.cs\nvar connectionString = \"Server=localhost;Database=MyDb;...\";\n\n// BETTER: Centralized configuration\n// In appsettings.json + DI\nservices.AddDbContext<AppDbContext>(options =>\n    options.UseSqlServer(configuration.GetConnectionString(\"Default\")));\n```\n\n**Similar functions with minor variations:**\n```typescript\n// VIOLATION: Nearly identical fetch functions\nasync function fetchUsers() {\n  const response = await fetch('/api/users');\n  if (!response.ok) throw new Error('Failed to fetch');\n  return response.json();\n}\n\nasync function fetchOrders() {\n  const response = await fetch('/api/orders');\n  if (!response.ok) throw new Error('Failed to fetch');\n  return response.json();\n}\n\n// BETTER: Generalized function\nasync function fetchData<T>(endpoint: string): Promise<T> {\n  const response = await fetch(`/api/${endpoint}`);\n  if (!response.ok) throw new Error(`Failed to fetch ${endpoint}`);\n  return response.json();\n}\n```\n\n### When Duplication Is Acceptable\n\n- **Rule of Three:** Wait until you see the same pattern three times before abstracting\n- **Different contexts:** Code that looks similar but serves different purposes\n- **Coupling concerns:** When sharing code would create unwanted coupling\n- **Clarity:** When abstraction would make code harder to understand\n\n---\n\n## POLA (Principle of Least Astonishment)\n\n**Core idea:** Code should behave as users/developers expect.\n\n### Signs of POLA Violations\n\n**Misleading names:**\n```csharp\n// VIOLATION: Method does more than name suggests\npublic User GetUser(int id)\n{\n    var user = _repository.Find(id);\n    user.LastAccessedAt = DateTime.UtcNow; // Unexpected mutation!\n    _repository.Save(user);\n    return user;\n}\n\n// BETTER: Name reflects behavior\npublic User GetAndUpdateLastAccess(int id) { ... }\n// Or: Separate concerns\npublic User GetUser(int id) => _repository.Find(id);\npublic void RecordAccess(int userId) { ... }\n```\n\n**Unexpected side effects:**\n```typescript\n// VIOLATION: Getter with side effects\nclass ShoppingCart {\n  get total() {\n    this.lastCalculated = new Date(); // Unexpected!\n    return this.items.reduce((sum, item) => sum + item.price, 0);\n  }\n}\n\n// BETTER: Pure getter\nclass ShoppingCart {\n  get total() {\n    return this.items.reduce((sum, item) => sum + item.price, 0);\n  }\n\n  calculateTotal() {\n    this.lastCalculated = new Date();\n    return this.total;\n  }\n}\n```\n\n**Non-obvious API design:**\n```csharp\n// VIOLATION: Boolean parameters with unclear meaning\npublic void CreateUser(string name, bool flag1, bool flag2, bool flag3) { ... }\nCreateUser(\"John\", true, false, true); // What do these mean?\n\n// BETTER: Named parameters or builder\npublic void CreateUser(UserOptions options) { ... }\nCreateUser(new UserOptions {\n    Name = \"John\",\n    IsAdmin = true,\n    SendWelcomeEmail = false,\n    RequireMfa = true\n});\n```\n\n**Inconsistent return values:**\n```typescript\n// VIOLATION: Sometimes returns null, sometimes throws\nfunction findUser(id: number): User | null {\n  if (id < 0) throw new Error('Invalid ID'); // Throws for invalid input\n  return users.find(u => u.id === id) ?? null; // Returns null for not found\n}\n\n// BETTER: Consistent behavior\nfunction findUser(id: number): User | null {\n  if (id < 0) return null; // Consistent: all \"not found\" cases return null\n  return users.find(u => u.id === id) ?? null;\n}\n\n// Or: Always throw for any failure\nfunction getUser(id: number): User {\n  if (id < 0) throw new Error('Invalid ID');\n  const user = users.find(u => u.id === id);\n  if (!user) throw new Error('User not found');\n  return user;\n}\n```\n\n### POLA Guidelines\n\n- Methods named `Get*` should not modify state\n- Methods named `Set*` or `Update*` should not return data as primary purpose\n- Properties should be cheap and side-effect free\n- Boolean parameters should be replaced with enums or option objects\n- Error handling should be consistent within a module\n\n---\n\n## YAGNI (You Aren't Gonna Need It)\n\n**Core idea:** Don't implement features until they're actually needed.\n\n### Signs of YAGNI Violations\n\n**Unused code:**\n```typescript\n// VIOLATION: Implemented \"just in case\"\nexport function formatDate(date: Date, format: string): string { ... }\nexport function formatDateLocalized(date: Date, locale: string): string { ... } // Never used\nexport function formatDateRange(start: Date, end: Date): string { ... } // Never used\nexport function formatRelativeDate(date: Date): string { ... } // Never used\n\n// BETTER: Only what's needed\nexport function formatDate(date: Date, format: string): string { ... }\n// Add others when actually needed\n```\n\n**Premature abstraction:**\n```csharp\n// VIOLATION: Interface for single implementation with no plans for more\npublic interface IEmailService { Task SendAsync(Email email); }\npublic class SmtpEmailService : IEmailService { ... }\n// Plus: IEmailServiceFactory, EmailServiceOptions, EmailServiceBuilder...\n\n// BETTER: Concrete class until abstraction is needed\npublic class EmailService { public Task SendAsync(Email email) { ... } }\n// Add interface when second implementation or testing requires it\n```\n\n**Over-configurable systems:**\n```typescript\n// VIOLATION: Configuration nobody asked for\ninterface ButtonConfig {\n  label: string;\n  onClick: () => void;\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n  variant?: 'primary' | 'secondary' | 'tertiary' | 'ghost' | 'link';\n  loading?: boolean;\n  disabled?: boolean;\n  fullWidth?: boolean;\n  iconLeft?: ReactNode;\n  iconRight?: ReactNode;\n  tooltip?: string;\n  analyticsId?: string;\n  testId?: string;\n  // ... 20 more options\n}\n\n// BETTER: What's actually used\ninterface ButtonProps {\n  label: string;\n  onClick: () => void;\n  variant?: 'primary' | 'secondary';\n  disabled?: boolean;\n}\n// Extend when new requirements arise\n```\n\n**Speculative generality:**\n```csharp\n// VIOLATION: Generic repository for one entity type\npublic interface IRepository<T> where T : class\n{\n    Task<T?> GetByIdAsync(int id);\n    Task<IEnumerable<T>> GetAllAsync();\n    Task<T> AddAsync(T entity);\n    Task UpdateAsync(T entity);\n    Task DeleteAsync(T entity);\n    Task<IEnumerable<T>> FindAsync(Expression<Func<T, bool>> predicate);\n    Task<int> CountAsync();\n    Task<bool> ExistsAsync(int id);\n    // ... more methods never used\n}\n\n// Only used as:\npublic class UserRepository : IRepository<User> { ... }\n\n// BETTER: Start specific\npublic class UserRepository\n{\n    public Task<User?> GetByIdAsync(int id) { ... }\n    public Task<User> CreateAsync(User user) { ... }\n}\n// Generalize when second entity type needs same pattern\n```\n\n### YAGNI Guidelines\n\n- Write code for today's requirements, not tomorrow's possibilities\n- Delete unused code rather than commenting it out\n- Add configuration options only when requested\n- Prefer concrete implementations; abstract when you have 2+ variants\n- Question \"just in case\" additions in code review\n\n---\n\n## Balancing Principles\n\nThese principles can conflict. Use judgment:\n\n| Situation | Priority |\n|-----------|----------|\n| Performance-critical code | KISS may yield to optimization |\n| Security code | Explicit may be better than DRY |\n| API design | POLA is paramount |\n| New features | YAGNI first, refactor to DRY later |\n| Complex domain | Accept some complexity (KISS doesn't mean trivial) |\n\n**General rule:** Apply the principle that reduces overall cognitive load and maintenance burden.\n\n---\n\n## Detection Checklist\n\nWhen reviewing code, ask:\n\n**KISS:**\n- [ ] Is there a simpler way to achieve this?\n- [ ] Would a junior developer understand this?\n- [ ] Are there design patterns used where simple code would work?\n\n**DRY:**\n- [ ] Have I seen this logic elsewhere?\n- [ ] Is this configuration repeated?\n- [ ] Could this be a shared utility?\n\n**POLA:**\n- [ ] Does the function name describe what it actually does?\n- [ ] Are there hidden side effects?\n- [ ] Would a new team member be surprised by this behavior?\n\n**YAGNI:**\n- [ ] Is this feature currently used?\n- [ ] Was this added \"just in case\"?\n- [ ] Is this abstraction earning its complexity cost?\n",
        "skills/pm7y-component-patterns/SKILL.md": "---\nname: pm7y-component-patterns\ndescription: |\n  Discovers existing React component patterns (file structure, state management, naming conventions, prop patterns, TypeScript conventions) in a codebase before writing new components. Produces a \"use these patterns\" summary to ensure consistency.\n\n  Use this skill when:\n  - About to write a new React component\n  - Before creating a new feature with multiple components\n  - When unsure what patterns or conventions exist in a codebase\n  - Before a code review to understand existing patterns\nallowed-tools: Read, Glob, Grep\n---\n\n# React Component Pattern Discovery Skill\n\nDiscovers existing React component patterns in a codebase to ensure new components follow established conventions.\n\n---\n\n## Overview\n\nThis skill scans a codebase to build a comprehensive inventory of:\n\n- **File structure** - How components are organized and named\n- **Component patterns** - Functional vs class, hooks usage, composition patterns\n- **State management** - Local state, context, Redux, Zustand, etc.\n- **Prop patterns** - TypeScript interfaces, default props, destructuring\n- **Naming conventions** - Files, components, props, handlers, types\n\n**Output:** A \"Use These Patterns\" summary that provides actionable guidance for writing new components.\n\n**When to use:**\n\n- Before writing a new React component\n- Before creating a feature with multiple components\n- When onboarding to an unfamiliar React codebase\n- Before reviewing component code to understand expectations\n\n---\n\n## Discovery Process\n\n### Step 1: Find All Component Files\n\nLocate React component files in the project:\n\n```\n# Search patterns\n**/components/**/*.tsx\n**/components/**/*.jsx\n**/*.component.tsx\n**/pages/**/*.tsx\n**/views/**/*.tsx\n**/features/**/*.tsx\n\n# Exclude patterns\nnode_modules/\ndist/\nbuild/\n.next/\ncoverage/\n**/*.test.tsx\n**/*.spec.tsx\n**/*.stories.tsx\n```\n\nRecord the file structure - note organizational patterns like:\n- Feature-based: `features/[Feature]/components/`\n- Flat: `components/[Component].tsx`\n- Nested: `components/[Component]/[Component].tsx`\n- Atomic design: `atoms/`, `molecules/`, `organisms/`\n\n### Step 2: Analyze File Structure Patterns\n\nFor each component directory, identify:\n\n**Colocated files:**\n- `Component.tsx` - Main component\n- `Component.styles.ts` or `Component.scss` - Styles\n- `Component.test.tsx` - Tests\n- `Component.types.ts` - TypeScript types\n- `index.ts` - Barrel export\n- `hooks/` - Component-specific hooks\n- `utils/` - Component-specific utilities\n\n**Naming patterns:**\n| Pattern | Example |\n|---------|---------|\n| PascalCase files | `UserProfile.tsx` |\n| kebab-case files | `user-profile.tsx` |\n| Index exports | `components/Button/index.tsx` |\n| Suffixed files | `UserProfile.component.tsx` |\n\n### Step 3: Analyze Component Patterns\n\nSearch for component definition patterns:\n\n**Functional components:**\n```\nPattern: (export const|export default function|const) \\w+ = \\(|: (React\\.)?FC\n```\n\n**Class components:**\n```\nPattern: class \\w+ extends (React\\.)?(Component|PureComponent)\n```\n\n**Component patterns to identify:**\n\n| Pattern | Indicator |\n|---------|-----------|\n| Arrow function | `const Component = () =>` |\n| Function declaration | `function Component()` |\n| Typed FC | `const Component: FC<Props>` or `React.FC<Props>` |\n| forwardRef | `forwardRef<Ref, Props>` |\n| memo | `React.memo(Component)` |\n\n### Step 4: Analyze Props and TypeScript Patterns\n\nSearch for prop type definitions:\n\n**Interface patterns:**\n```\nPattern: interface \\w+Props\nPattern: type \\w+Props =\n```\n\nIdentify TypeScript conventions:\n\n| Convention | Example |\n|------------|---------|\n| Props interface | `interface ButtonProps { ... }` |\n| Props type | `type ButtonProps = { ... }` |\n| Inline props | `({ label, onClick }: { label: string; onClick: () => void })` |\n| Generic props | `interface ListProps<T> { items: T[] }` |\n\n**Common prop patterns:**\n- Children handling: `children: React.ReactNode` vs `children: ReactNode`\n- Event handlers: `onClick`, `onSubmit`, `onChange` naming\n- Render props: `render*` or `*Renderer` props\n- Ref forwarding: `forwardRef` usage\n\n### Step 5: Analyze State Management\n\n**Local state:**\n```\nPattern: useState<\nPattern: useReducer<\n```\n\n**Context usage:**\n```\nPattern: createContext\nPattern: useContext\nPattern: \\.Provider\n```\n\n**External state libraries:**\n\n| Library | Indicators |\n|---------|------------|\n| Redux | `useSelector`, `useDispatch`, `connect` |\n| Redux Toolkit | `createSlice`, `configureStore` |\n| Zustand | `create()`, `useStore` |\n| Jotai | `atom(`, `useAtom` |\n| Recoil | `atom({`, `useRecoilState` |\n| MobX | `observer(`, `makeObservable` |\n| TanStack Query | `useQuery`, `useMutation`, `QueryClient` |\n\n### Step 6: Analyze Hooks Patterns\n\nSearch for custom hooks:\n\n```\nPattern: (export )?(const|function) use[A-Z]\n```\n\nIdentify hook patterns:\n- Location: `hooks/` directory vs colocated\n- Naming: `use[Feature]` convention\n- Return type: tuple, object, or single value\n\n**Common hook patterns:**\n- Data fetching hooks: `useFetch*`, `useGet*`, `useLoad*`\n- Form hooks: `useForm`, `useField`, `useValidation`\n- UI state hooks: `useToggle`, `useModal`, `useDisclosure`\n- Side effect hooks: `useDebounce`, `useInterval`, `useEventListener`\n\n### Step 7: Analyze Import/Export Patterns\n\n**Import organization:**\n```\n# Check first 20-30 lines of component files for patterns\n```\n\nIdentify ordering conventions:\n1. React imports\n2. Third-party imports\n3. Internal imports (absolute paths)\n4. Relative imports\n5. Type imports\n6. Style imports\n\n**Export patterns:**\n- Default exports: `export default Component`\n- Named exports: `export { Component }`\n- Barrel exports: `index.ts` files\n\n### Step 8: Analyze Composition Patterns\n\n**Children patterns:**\n```\nPattern: {children}\nPattern: React\\.Children\nPattern: cloneElement\n```\n\n**Render prop patterns:**\n```\nPattern: render[A-Z]\\w*=\n```\n\n**Compound components:**\n```\nPattern: \\w+\\.\\w+ =\nExample: Menu.Item, Dialog.Title\n```\n\n---\n\n## Output Format\n\nAfter completing discovery, produce a summary in this format:\n\n```markdown\n## Use These Patterns\n\n### File Structure\n\n**Component organization:**\n- Location: `src/components/[Category]/[Component]/`\n- Files per component: `Component.tsx`, `Component.styles.ts`, `index.ts`\n\n**Naming conventions:**\n- Files: PascalCase (`UserProfile.tsx`)\n- Components: PascalCase (`UserProfile`)\n- Props interfaces: `[Component]Props`\n- Hooks: `use[Feature]`\n\n### Component Definition\n\n**Preferred pattern:**\n```tsx\ninterface ComponentProps {\n  // props\n}\n\nexport const Component = ({ prop1, prop2 }: ComponentProps) => {\n  return (...)\n}\n```\n\n**Common patterns used:**\n- [ ] Arrow functions with explicit return\n- [ ] Arrow functions with implicit return\n- [ ] Function declarations\n- [ ] React.FC type annotation\n- [ ] forwardRef for ref forwarding\n- [ ] memo for optimization\n\n### Props Patterns\n\n**TypeScript conventions:**\n- Props defined as: `interface [Component]Props`\n- Optional props: `prop?: type`\n- Children type: `React.ReactNode`\n- Event handlers: `on[Event]: () => void`\n\n**Common prop patterns:**\n- Destructuring in function signature\n- Default values via destructuring: `{ prop = defaultValue }`\n- Spread props for flexibility: `...rest`\n\n### State Management\n\n**Local state:**\n- `useState` for simple state\n- `useReducer` for complex state\n\n**Global state:**\n- [Library name] for [use case]\n- Context for [use case]\n\n### Hooks\n\n**Custom hooks location:** `src/hooks/` or colocated\n\n**Existing hooks:**\n| Hook | Purpose |\n|------|---------|\n| `useAuth` | Authentication state |\n| `useFetch` | Data fetching |\n| [list discovered hooks] |\n\n### Import Organization\n\n```tsx\n// 1. React\nimport { useState, useEffect } from 'react'\n\n// 2. Third-party\nimport { motion } from 'framer-motion'\n\n// 3. Internal (absolute)\nimport { Button } from '@/components/Button'\n\n// 4. Relative\nimport { useLocalHook } from './hooks'\n\n// 5. Types\nimport type { ComponentProps } from './types'\n\n// 6. Styles\nimport styles from './Component.module.css'\n```\n\n### Export Patterns\n\n**Preferred export style:** [named/default]\n\n**Barrel exports:** [yes/no, pattern if yes]\n```\n```\n\n---\n\n## Discovery Checklist\n\nBefore producing the summary:\n\n- [ ] Found all component files (excluding tests, stories, node_modules)\n- [ ] Identified file structure pattern (flat, nested, feature-based)\n- [ ] Identified file naming convention\n- [ ] Identified component definition pattern (arrow, function, FC)\n- [ ] Found TypeScript props patterns (interface, type, inline)\n- [ ] Identified state management approach (local, context, library)\n- [ ] Found custom hooks and their patterns\n- [ ] Identified import organization convention\n- [ ] Identified export pattern (named, default, barrel)\n- [ ] Noted composition patterns (children, render props, compound)\n- [ ] Summary uses consistent formatting\n- [ ] Summary includes code examples matching codebase style\n\n---\n\n## Constraints\n\n### DO:\n- Focus on discovery only - do not modify any files\n- Include actual code examples from the codebase\n- Group related patterns together\n- Note the most common pattern when multiple exist\n- Identify any inconsistencies (but don't judge or try to fix them)\n\n### DO NOT:\n- Create new components or patterns\n- Modify existing files\n- Make recommendations for changes\n- Judge the quality of existing patterns\n- Spend time on files in node_modules, dist, or build directories\n- Include test files, stories, or mocks in pattern analysis\n\n---\n\n## Example Output\n\nFor a typical React TypeScript project:\n\n```markdown\n## Use These Patterns\n\n### File Structure\n\n**Component organization:**\n- Location: `src/components/[Component]/`\n- Files: `[Component].tsx`, `[Component].styles.ts`, `[Component].test.tsx`, `index.ts`\n\n**Naming conventions:**\n- Files: PascalCase (`Button.tsx`)\n- Components: PascalCase (`Button`)\n- Props interfaces: `[Component]Props` (`ButtonProps`)\n- Event handlers: `on[Event]` (`onClick`, `onSubmit`)\n- Boolean props: `is[State]` or `has[Thing]` (`isDisabled`, `hasError`)\n\n### Component Definition\n\n**Preferred pattern:**\n```tsx\nimport { forwardRef } from 'react'\nimport type { ButtonProps } from './Button.types'\nimport styles from './Button.styles'\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ children, variant = 'primary', isDisabled = false, onClick, ...rest }, ref) => {\n    return (\n      <button\n        ref={ref}\n        className={styles.button}\n        data-variant={variant}\n        disabled={isDisabled}\n        onClick={onClick}\n        {...rest}\n      >\n        {children}\n      </button>\n    )\n  }\n)\n\nButton.displayName = 'Button'\n```\n\n**Patterns observed:**\n- forwardRef for all interactive elements\n- Destructuring props with defaults in signature\n- Spread rest props to underlying element\n- displayName set for debugging\n\n### Props Patterns\n\n**TypeScript conventions:**\n```tsx\n// Props interface in separate .types.ts file\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'ghost'\n  size?: 'sm' | 'md' | 'lg'\n  isLoading?: boolean\n}\n```\n\n- Extends native HTML element props\n- Optional props have defaults in component\n- Union types for variants\n- Boolean props prefixed with `is` or `has`\n\n### State Management\n\n**Local state:** `useState` for UI state, `useReducer` for complex forms\n\n**Global state:**\n- Zustand for client state (`src/store/`)\n- TanStack Query for server state\n\n**Context:**\n- `ThemeContext` for theming\n- `AuthContext` for authentication\n\n### Hooks\n\n**Location:** `src/hooks/` for shared, colocated for component-specific\n\n**Existing shared hooks:**\n| Hook | Purpose | Returns |\n|------|---------|---------|\n| `useAuth` | Auth state & methods | `{ user, login, logout, isLoading }` |\n| `useMediaQuery` | Responsive breakpoints | `boolean` |\n| `useLocalStorage` | Persistent state | `[value, setValue]` |\n| `useDebounce` | Debounced values | `debouncedValue` |\n\n### Import Organization\n\n```tsx\n// React (no 'react' package - using automatic JSX transform)\nimport { useState, useCallback } from 'react'\n\n// Third-party\nimport { motion, AnimatePresence } from 'framer-motion'\nimport clsx from 'clsx'\n\n// Internal - absolute (@/ alias)\nimport { Button } from '@/components/Button'\nimport { useAuth } from '@/hooks/useAuth'\nimport { api } from '@/lib/api'\n\n// Internal - relative\nimport { useLocalState } from './hooks'\nimport { formatData } from './utils'\n\n// Types (type-only imports)\nimport type { User } from '@/types'\n\n// Styles\nimport styles from './Component.module.css'\n```\n\n### Export Patterns\n\n**Style:** Named exports preferred\n\n**Barrel pattern:**\n```tsx\n// components/Button/index.ts\nexport { Button } from './Button'\nexport type { ButtonProps } from './Button.types'\n```\n```\n\n---\n\n## When Discovery Finds Minimal Patterns\n\nIf the codebase has few established React patterns:\n\n```markdown\n## Use These Patterns\n\n### Status: Minimal existing patterns\n\nThis codebase has few established component patterns. Consider establishing:\n- Consistent file structure (recommend: colocated files with index barrel)\n- Component definition style (recommend: arrow functions with typed props)\n- Props interface convention (recommend: `[Component]Props` interface)\n- Import organization order\n\n### Files Found\n- [list any component files found]\n\n### Framework: [React version detected]\n\n### TypeScript: [yes/no, strict mode status]\n```\n\nThis allows the user to make informed decisions about establishing new patterns.\n",
        "skills/pm7y-css-review/SKILL.md": "---\nname: pm7y-css-review\ndescription: Reviews CSS/SCSS changes in the current branch for over-specificity, missed reuse opportunities, and over-engineered abstractions. Produces analysis findings and uses pm7y-ralph-planner to generate TASKS.md for autonomous execution. Use when reviewing CSS changes before commit or PR, or to audit existing styles. Supports @file syntax to target specific files.\nallowed-tools: Read, Write, Grep, Glob, Bash, Task\n---\n\n# CSS/SCSS Review Skill\n\nReviews CSS/SCSS changes for unnecessary complexity and missed reuse opportunities. Produces analysis findings that are passed to `pm7y-ralph-planner` for TASKS.md generation.\n\n---\n\n## Overview\n\nThis skill analyzes CSS/SCSS files for three categories of issues:\n\n- **Over-specificity** - Complex selectors that could be simpler\n- **Missing reuse** - New styles that duplicate existing utilities\n- **Over-engineered abstractions** - Unnecessary mixins/variables/extends\n\n**Output:** Analysis findings passed to `pm7y-ralph-planner`, which generates a `TASKS.md` file with validation requirements and learnings tracking for autonomous execution via `pm7y-ralph-loop`.\n\n**When to use:**\n\n- Before committing CSS/SCSS changes\n- During PR review of style changes\n- Auditing existing stylesheets for cleanup\n- After rapid UI development to assess CSS debt\n\n---\n\n## Usage\n\n```\n/pm7y-css-review                      # Review all CSS/SCSS changes in branch\n/pm7y-css-review @path/to/file.scss   # Review specific file only\n```\n\n---\n\n## Review Process\n\n### Step 1: Determine Scope\n\nParse arguments to determine which files to review:\n\n**If @file argument provided:**\n- Extract the file path after the @ symbol\n- Verify the file exists and is CSS/SCSS\n- Review only that file\n\n**If no arguments (default):**\n- Run `git diff main...HEAD --name-only` to find files changed in branch\n- Also check `git diff --name-only` for staged/unstaged changes\n- Filter to only `.css` and `.scss` files\n- If no CSS/SCSS files changed, report \"No CSS/SCSS changes found\" and stop\n\n### Step 2: Build Style Inventory\n\nScan the project to understand existing styles:\n\n**Find all style files:**\n```bash\n# Find all CSS and SCSS files in project (exclude node_modules, dist, build)\nfind . -type f \\( -name \"*.css\" -o -name \"*.scss\" \\) \\\n  -not -path \"*/node_modules/*\" \\\n  -not -path \"*/dist/*\" \\\n  -not -path \"*/build/*\" \\\n  -not -path \"*/.next/*\"\n```\n\n**Extract existing patterns:**\n\nFor each style file, identify and record:\n- **CSS classes** - All `.class-name` selectors\n- **SCSS variables** - All `$variable-name` definitions\n- **SCSS mixins** - All `@mixin mixin-name` definitions\n- **Common property-value pairs** - Frequently used declarations\n\nStore this inventory mentally for comparison during analysis.\n\n### Step 3: Detect Frameworks\n\nCheck for CSS frameworks to understand available utilities:\n\n**Tailwind CSS:**\n- Check for `tailwind.config.js` or `tailwind.config.ts`\n- Look for `@tailwind` directives in CSS files\n- If found, note common utilities: flex, grid, spacing (p-*, m-*), colors, etc.\n\n**Bootstrap:**\n- Check for Bootstrap in `package.json` dependencies\n- Look for Bootstrap imports in SCSS files\n- If found, note utility classes: d-flex, justify-content-*, text-*, etc.\n\n**Custom utility systems:**\n- Look for files named `utilities.css`, `helpers.scss`, `_utils.scss`\n- Identify utility class naming patterns\n\n### Step 4: Analyze Changed Files\n\nFor each file in scope, read the content and check for issues:\n\n#### Over-specificity Detection\n\n| Issue | Pattern | Severity |\n|-------|---------|----------|\n| Deep nesting | Selectors with > 3 levels (e.g., `.a .b .c .d`) | Medium |\n| ID selectors | `#id` in selectors | Medium |\n| `!important` | Any `!important` declaration | Medium |\n| Qualified selectors | Element + class (e.g., `div.button`) | Low |\n| Over-qualified | Multiple classes chained (e.g., `.btn.btn-primary.btn-large`) | Low |\n\n#### Missing Reuse Detection\n\n| Issue | Pattern | Severity |\n|-------|---------|----------|\n| Duplicate utility | Declaration matches existing utility class | High |\n| Framework duplicate | Declaration available as framework utility | High |\n| Repeated values | Magic numbers used instead of variables | Medium |\n| Similar blocks | Near-identical declaration blocks elsewhere | Medium |\n\n#### Over-engineered Abstraction Detection\n\n| Issue | Pattern | Severity |\n|-------|---------|----------|\n| Single-use mixin | `@mixin` with only one `@include` | Medium |\n| Single-use variable | `$variable` used only once (except colors) | Medium |\n| `@extend` usage | Any use of `@extend` | Low |\n| Deep SCSS nesting | > 3 levels of SCSS nesting | Low |\n\n#### Existing Pattern Violation Detection\n\nThis detection leverages the pattern inventory from Step 2 to identify when new/changed code violates or duplicates established patterns. Use the same discovery approach as `pm7y-scss-patterns` skill.\n\n| Issue | Pattern | Severity |\n|-------|---------|----------|\n| Duplicate mixin | New mixin does the same thing as existing mixin with different name | High |\n| Duplicate variable | New variable serves same purpose as existing variable (e.g., two `$primary-color` and `$brand-color` both #3B82F6) | High |\n| Duplicate utility class | New utility class provides same styles as existing utility | High |\n| Naming convention violation | New class doesn't follow established naming pattern (BEM, OOCSS, etc.) | Medium |\n| Variable value mismatch | Using hardcoded value when matching variable exists | Medium |\n| Inconsistent mixin usage | Not using established mixin where it would apply | Low |\n\n**Detection approach:**\n\n1. **Duplicate mixins:** Compare new `@mixin` definitions against existing mixins. Two mixins are duplicates if they produce equivalent CSS output (same properties and values). Flag when a new mixin's body matches an existing mixin's body.\n\n2. **Duplicate variables:** Compare new `$variable` definitions against existing variables. Flag when:\n   - Two variables have the same value (exact match)\n   - Two color variables are visually identical (hex/rgb equivalence)\n   - Two spacing variables resolve to the same pixel value\n\n3. **Duplicate utility classes:** Compare new class definitions against existing utilities. Flag when a new class has the same declarations as an existing utility class.\n\n4. **Naming convention violations:** If the codebase uses BEM (`.block__element--modifier`), flag classes that don't follow this pattern. Similarly for other conventions detected in the inventory phase.\n\n**Example violations:**\n\n```scss\n// DUPLICATE MIXIN - existing @mixin flex-center does the same thing\n@mixin center-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n// DUPLICATE VARIABLE - $color-primary already equals #3B82F6\n$brand-blue: #3B82F6;\n\n// DUPLICATE UTILITY - .flex-center already exists with same styles\n.centered {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n// NAMING CONVENTION VIOLATION - project uses BEM but this doesn't\n.cardHeader { } // Should be .card__header\n```\n\n### Step 5: Pass Findings to pm7y-ralph-planner\n\nAfter completing the analysis, invoke the `pm7y-ralph-planner` agent using the Task tool. Pass your findings as structured input so the planner can generate a proper TASKS.md with validation requirements and learnings tracking.\n\n**Invoke pm7y-ralph-planner with this prompt:**\n\n```\nGenerate a TASKS.md for CSS/SCSS refactoring.\n\n## Goal\nFix CSS/SCSS issues identified during code review.\n\n## Project Context\n- **Branch:** [current branch name]\n- **Files reviewed:** [count]\n- **Issues found:** [X total] ([Y] high, [Z] medium, [W] low)\n- **CSS Framework:** [Tailwind/Bootstrap/Custom/None]\n- **Build command:** [detected build command, e.g., npm run build]\n- **Lint command:** [detected lint command, if any]\n\n## Findings\n\n### HIGH Priority (should be fixed first)\n\n- **[filepath]:[line]** - [Issue type]: [Description]. **Fix:** [Specific action to take].\n\n[Repeat for each high priority finding]\n\n### MEDIUM Priority\n\n- **[filepath]:[line]** - [Issue type]: [Description]. **Fix:** [Specific action to take].\n\n[Repeat for each medium priority finding]\n\n### LOW Priority (fix if time permits)\n\n- **[filepath]:[line]** - [Issue type]: [Description]. **Fix:** [Specific action to take].\n\n[Repeat for each low priority finding]\n\n## Notes\n- Each fix should be verified by running the build/lint commands\n- Verify changes don't break existing styles visually\n```\n\n**Example findings to pass:**\n\n```markdown\n### HIGH Priority\n\n- **src/components/Card.scss:42** - Duplicate utility: `display: flex; justify-content: center; align-items: center;` duplicates existing `.flex-center` class. **Fix:** Remove these properties and add `@extend .flex-center;` or apply `.flex-center` class in HTML.\n- **src/styles/modal.scss:18** - Framework duplicate: `margin-left: auto; margin-right: auto;` available as Tailwind `mx-auto`. **Fix:** Remove CSS properties and add `mx-auto` class to element in JSX/HTML.\n\n### MEDIUM Priority\n\n- **src/components/Header.scss:67** - Deep nesting: Selector `.header .nav .menu .item a` has 5 levels. **Fix:** Flatten to `.header-nav-link` or similar BEM-style class.\n- **src/styles/buttons.scss:23** - Single-use mixin: `@mixin button-shadow` is only used once. **Fix:** Inline the mixin content directly into `.primary-button`.\n- **src/styles/utils.scss:45** - Duplicate mixin: `@mixin center-content` produces same CSS as existing `@mixin flex-center` in `_mixins.scss:12`. **Fix:** Remove `@mixin center-content` and use `@include flex-center` instead.\n- **src/components/Card.scss:8** - Duplicate variable: `$brand-blue: #3B82F6` duplicates existing `$color-primary` in `_variables.scss:5`. **Fix:** Remove `$brand-blue` and use `$color-primary`.\n\n### LOW Priority\n\n- **src/styles/layout.scss:89** - Over-qualified selector: `div.container` can be simplified. **Fix:** Remove element qualifier, use `.container` only.\n- **src/components/Modal.scss:15** - Naming convention violation: `.modalHeader` doesn't follow BEM pattern used in codebase. **Fix:** Rename to `.modal__header`.\n```\n\n**Why use pm7y-ralph-planner:**\n\nThe planner will:\n1. Add proper validation requirements (build, lint checks)\n2. Include the Learnings Log section for preserving insights across iterations\n3. Add the iteration workflow guidance\n4. Format tasks for optimal autonomous execution\n\n### Step 6: Report Summary and Stop\n\nAfter invoking pm7y-ralph-planner, output a brief summary:\n\n```\nCSS Review Complete\n\nFiles reviewed: N\nIssues found: X (Y high, Z medium, W low)\n\nTASKS.md generated via pm7y-ralph-planner - ready for ralph-loop execution:\n  pwsh ./ralph-loop.ps1 -PromptFile TASKS.md\n```\n\nThen STOP. Do not attempt to fix any issues.\n\n---\n\n## Issue Examples\n\n### Over-specificity Examples\n\n**Deep nesting:**\n```scss\n// Bad - 4 levels\n.header .nav .menu .item a { color: blue; }\n\n// Recommendation: Simplify to\n.header-nav-link { color: blue; }\n```\n\n**ID selector:**\n```scss\n// Bad\n#main-content .sidebar { width: 300px; }\n\n// Recommendation: Use class instead\n.main-content .sidebar { width: 300px; }\n```\n\n**!important:**\n```scss\n// Bad\n.modal { z-index: 1000 !important; }\n\n// Recommendation: Fix specificity issue at source\n```\n\n### Missing Reuse Examples\n\n**Duplicate utility:**\n```scss\n// Bad - if .flex-center exists\n.card { display: flex; justify-content: center; align-items: center; }\n\n// Recommendation: Use existing .flex-center class\n```\n\n**Framework duplicate (Tailwind):**\n```scss\n// Bad - when using Tailwind\n.button { margin-left: auto; margin-right: auto; }\n\n// Recommendation: Use Tailwind's mx-auto class\n```\n\n### Over-engineered Examples\n\n**Single-use mixin:**\n```scss\n// Bad\n@mixin card-shadow {\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n.card { @include card-shadow; }\n\n// Recommendation: Inline the styles\n.card { box-shadow: 0 2px 4px rgba(0,0,0,0.1); }\n```\n\n**Single-use variable:**\n```scss\n// Bad\n$card-padding: 16px;\n.card { padding: $card-padding; }\n\n// Recommendation: Use value directly or existing spacing variable\n```\n\n---\n\n## Critical Rules\n\n### Rule 1: Inventory Before Analysis\n\nALWAYS build the style inventory before analyzing changed files. Without knowing what exists, you cannot identify reuse opportunities.\n\n### Rule 2: Framework Awareness\n\nALWAYS check for CSS frameworks. Tailwind and Bootstrap provide extensive utilities that should be preferred over custom CSS.\n\n### Rule 3: Line Numbers Required\n\nEVERY finding MUST include specific line number(s). Vague references like \"in this file\" are not acceptable.\n\n### Rule 4: Actionable Fix Instructions\n\nEVERY finding MUST include a concrete **Fix:** instruction. Name specific existing classes, variables, or utility names when suggesting reuse. The fix must be specific enough for autonomous execution.\n\n### Rule 5: Use pm7y-ralph-planner\n\nALWAYS pass findings to `pm7y-ralph-planner` for TASKS.md generation. This ensures proper validation requirements, learnings tracking, and iteration workflow are included.\n\n### Rule 6: Stop After Output\n\nAfter invoking pm7y-ralph-planner, STOP. Do not modify any CSS files. Do not attempt to fix issues. The user will run ralph-loop to fix them.\n\n---\n\n## Validation Checklist\n\nBefore passing findings to pm7y-ralph-planner:\n\n- [ ] Parsed arguments correctly (@file or branch diff)\n- [ ] Built style inventory from all project CSS/SCSS files\n- [ ] Checked for Tailwind, Bootstrap, or custom utility systems\n- [ ] Analyzed all files in scope\n- [ ] Every finding has exact file path and line number\n- [ ] Every finding has clear issue description\n- [ ] Every finding has specific **Fix:** instruction\n- [ ] Findings grouped by priority (HIGH → MEDIUM → LOW)\n- [ ] Findings ordered by file path within each priority section\n- [ ] Empty priority sections omitted\n- [ ] Invoked pm7y-ralph-planner with structured findings\n- [ ] Summary output provided\n- [ ] DID NOT attempt to fix any issues\n",
        "skills/pm7y-dotnet-upgrade/SKILL.md": "---\nname: pm7y-dotnet-upgrade\ndescription: Analyzes a .NET 8 codebase and produces analysis findings for upgrading to .NET 10. Uses pm7y-ralph-planner to generate TASKS.md with validation requirements and learnings tracking for autonomous execution. Use when planning a .NET 10 upgrade.\nallowed-tools: Read, Write, Grep, Glob, Bash, Task\n---\n\n# .NET 10 Upgrade Planner\n\nAnalyzes your codebase and produces findings for upgrading from .NET 8 to .NET 10. Passes findings to `pm7y-ralph-planner` for TASKS.md generation.\n\n---\n\n## Overview\n\nThis skill performs codebase analysis and passes findings to `pm7y-ralph-planner`, which generates a `TASKS.md` file with validation requirements and learnings tracking for autonomous execution via `pm7y-ralph-loop`.\n\n**You do NOT perform the upgrade.** You create the plan.\n\n**Workflow:**\n1. Run `/pm7y-dotnet-upgrade` to analyze the codebase\n2. Analysis findings are passed to `pm7y-ralph-planner` to generate TASKS.md\n3. Review and adjust `TASKS.md` as needed\n4. Run `pwsh ./ralph-loop.ps1` to execute the upgrade\n\n---\n\n## Analysis Phase\n\nBefore generating tasks, analyze the codebase to discover:\n\n### 1. Project Structure\n\nFind and document:\n- All `.sln` and `.csproj` files\n- `Directory.Build.props` (centralized build properties)\n- `Directory.Packages.props` (central package management)\n- `global.json` (SDK version pinning)\n\n### 2. Current Configuration\n\nDetermine:\n- Current target framework(s) in use\n- Current SDK version (if pinned)\n- Whether central package management is already in use\n\n### 3. Infrastructure Files\n\nLocate:\n- Dockerfiles (check for .NET base images)\n- CI/CD pipelines (`.github/workflows/*.yml`, `azure-pipelines.yml`, etc.)\n- Any scripts that reference .NET versions\n\n### 4. NuGet Packages\n\nCategorize all packages from `.csproj` files and/or `Directory.Packages.props`:\n- Microsoft.Extensions.* packages\n- Azure.* packages\n- Testing packages (xunit, NSubstitute, FluentAssertions, etc.)\n- Other third-party packages\n\n### 5. Breaking Change Patterns\n\nSearch for:\n- Patterns known to have breaking changes in .NET 9/10\n- Deprecated API usage\n\n---\n\n## Analysis Commands\n\nUse these to gather information:\n\n```bash\n# Find all solution and project files\nfind . -name \"*.sln\" -o -name \"*.csproj\" 2>/dev/null\n\n# Check current target frameworks\ngrep -r \"TargetFramework\" --include=\"*.csproj\" --include=\"Directory.Build.props\" .\n\n# Find Dockerfiles\nfind . -name \"Dockerfile*\" 2>/dev/null\n\n# Find CI/CD files\nfind . \\( -path \"*/.github/workflows/*.yml\" -o -name \"azure-pipelines.yml\" \\) 2>/dev/null\n\n# Check for global.json\ncat global.json 2>/dev/null || echo \"No global.json found\"\n\n# Check for Directory.Build.props\ncat Directory.Build.props 2>/dev/null || echo \"No Directory.Build.props found\"\n\n# Check for Directory.Packages.props\ncat Directory.Packages.props 2>/dev/null || echo \"No Directory.Packages.props found\"\n\n# List all NuGet packages\ngrep -rh \"PackageReference\\|PackageVersion\" --include=\"*.csproj\" --include=\"Directory.Packages.props\" . 2>/dev/null | sort -u\n```\n\n---\n\n## Output: Pass Findings to pm7y-ralph-planner\n\nAfter completing the analysis, invoke the `pm7y-ralph-planner` agent using the Task tool. Pass your findings as structured input so the planner can generate a proper TASKS.md with validation requirements and learnings tracking.\n\n**CRITICAL**: Each finding must be:\n- **Specific to this codebase** - reference actual file paths discovered during analysis\n- **Self-contained** - include all context needed for a worker to complete it\n- **Verifiable** - include `(verify: ...)` where build/test verification is needed\n- **Atomic** - one logical change per task\n\n**Invoke pm7y-ralph-planner with this prompt:**\n\n```\nGenerate a TASKS.md for .NET 10 upgrade.\n\n## Goal\nUpgrade codebase from .NET {CURRENT_VERSION} to .NET 10.\n\n## Project Context\n- **Source Framework:** .NET {CURRENT_VERSION}\n- **Target Framework:** .NET 10\n- **Build command:** dotnet build\n- **Test command:** dotnet test\n- **Solution files:** [list of .sln files]\n- **Project files:** [list of .csproj files]\n\n## Findings\n\n### Critical [P0] - Framework Version Changes\n\nThese tasks update the target framework. Must complete before any package updates.\n\n- Update global.json to pin .NET 10 SDK version 10.0.100 with rollForward: latestFeature (verify: dotnet --version)\n- Update TargetFramework from net8.0 to net10.0 in {FILE_PATH} (verify: dotnet build)\n[REPEAT FOR EACH CSPROJ OR DIRECTORY.BUILD.PROPS]\n\n### Critical [P0] - Infrastructure Updates\n\n- Update Dockerfile at {PATH} to use mcr.microsoft.com/dotnet/sdk:10.0 and runtime:10.0 base images (verify: docker build .)\n[REPEAT FOR EACH DOCKERFILE]\n- Update GitHub Actions workflow at {PATH} to use dotnet-version: '10.0.x' (verify: cat {PATH} | grep dotnet)\n[REPEAT FOR EACH CI/CD FILE]\n\n### High [P1] - Build Verification\n\n- Run full solution build and fix any compilation errors caused by framework upgrade (verify: dotnet build)\n- Run all tests and fix any failures caused by framework upgrade (verify: dotnet test)\n\n### High [P1] - Microsoft Package Updates\n\nUpdate Microsoft packages first as other packages may depend on them.\n\n- Update {PACKAGE_NAME} from {CURRENT_VERSION} to latest .NET 10 compatible version in {FILE_PATH} (verify: dotnet build)\n[REPEAT FOR EACH MICROSOFT.EXTENSIONS.* PACKAGE]\n\n### High [P1] - Azure SDK Updates\n\n- Update {PACKAGE_NAME} from {CURRENT_VERSION} to latest version in {FILE_PATH} (verify: dotnet build)\n[REPEAT FOR EACH AZURE.* PACKAGE]\n\n### Medium [P2] - Testing Package Updates\n\n- Update {PACKAGE_NAME} from {CURRENT_VERSION} to latest version in {FILE_PATH} (verify: dotnet test)\n[REPEAT FOR EACH TESTING PACKAGE]\n\n### Medium [P2] - Third-Party Package Updates\n\n- Update {PACKAGE_NAME} from {CURRENT_VERSION} to latest .NET 10 compatible version in {FILE_PATH} (verify: dotnet build)\n[REPEAT FOR EACH THIRD-PARTY PACKAGE]\n\n### Medium [P2] - Breaking Change Fixes\n\n[ONLY INCLUDE IF BREAKING CHANGES DETECTED]\n- Update usage of {DEPRECATED_API} to {NEW_API} in {FILE_PATH}:{LINE_RANGE} (verify: dotnet build)\n\n### Low [P3] - Centralized Build Configuration\n\n[INCLUDE APPROPRIATE TASKS BASED ON CURRENT STATE]\n\nIf Directory.Build.props does NOT exist:\n- Create Directory.Build.props with centralized TargetFramework, LangVersion, Nullable, and analyzer settings\n- Remove TargetFramework property from {CSPROJ_PATH} (now centralized) (verify: dotnet build)\n\nIf Directory.Packages.props does NOT exist:\n- Create Directory.Packages.props with ManagePackageVersionsCentrally enabled and all current package versions\n- Remove Version attribute from PackageReference elements in {CSPROJ_PATH} (verify: dotnet restore)\n\nIf global.json does NOT exist:\n- Create global.json to pin SDK version to 10.0.100 with rollForward: latestFeature\n\n### Low [P3] - Documentation\n\n- Create UPGRADE_NET10.md documenting all changes made during this upgrade\n\n### Low [P3] - Final Verification\n\n- Run full build to confirm upgrade is complete (verify: dotnet build --no-incremental)\n- Run all tests to confirm everything passes (verify: dotnet test)\n- Verify no warnings are treated as errors or resolve any that are (verify: dotnet build -warnaserror)\n```\n\n**Why use pm7y-ralph-planner:**\n\nThe planner will:\n1. Add proper validation requirements (build, test verification)\n2. Include the Learnings Log section for preserving insights across iterations\n3. Add the iteration workflow guidance\n4. Format tasks with checkbox format for optimal autonomous execution\n\n---\n\n## Finding Generation Guidelines\n\n1. **Be specific** - Use actual file paths from the codebase, not placeholders\n2. **Include versions** - Show current versions when listing package updates\n3. **Order matters** - Framework updates before packages, Microsoft packages before others\n4. **Verification commands** - Every finding that changes build should have `(verify: dotnet build)` or `(verify: dotnet test)`\n5. **Skip what's not needed** - If central package management already exists, don't include tasks to create it\n6. **One finding per file** - For target framework changes, create separate findings for each file that needs updating\n\n---\n\n## Process Checklist\n\n- [ ] Find all .sln and .csproj files\n- [ ] Check for Directory.Build.props\n- [ ] Check for Directory.Packages.props\n- [ ] Check for global.json\n- [ ] Find all Dockerfiles\n- [ ] Find all CI/CD pipeline files\n- [ ] Extract all NuGet packages with versions\n- [ ] Categorize packages (Microsoft, Azure, Testing, Third-party)\n- [ ] Pass findings to pm7y-ralph-planner for TASKS.md generation\n- [ ] Report summary of findings\n\n---\n\n## Completion\n\nAfter invoking `pm7y-ralph-planner`:\n\n1. **Report summary** - Number of projects, packages, infrastructure files found\n2. **Show finding counts** - How many findings in each priority level\n3. **Confirm TASKS.md created** - Via pm7y-ralph-planner\n4. **Suggest next step** - \"Run `pwsh ./ralph-loop.ps1` to execute the upgrade (set up scripts with `/pm7y-ralph-loop` if needed)\"\n",
        "skills/pm7y-mermaid-diagram/SKILL.md": "---\nname: pm7y-mermaid-diagram\ndescription: Creates syntactically correct mermaid diagrams (flowchart, sequenceDiagram, classDiagram, stateDiagram, erDiagram, gantt, mindmap) following official specifications. Prevents common errors like special characters in labels, subgraph syntax, note misuse, and reserved words. Use when creating or editing mermaid diagrams in documentation or design files.\nallowed-tools: Write, Edit, Read\n---\n\n# Mermaid Diagram Skill\n\nCreates syntactically correct mermaid diagrams following official specifications and preventing common errors.\n\n---\n\n## Overview\n\nThis skill helps you create error-free mermaid diagrams by:\n\n- Following official mermaid syntax specifications\n- Avoiding common pitfalls (special characters, reserved words, wrong note syntax)\n- Providing correct structure for each diagram type\n- Based on real experience: 76 diagrams fixed, 20+ iterations avoided\n\n**When to use:**\n\n- Creating flowcharts, sequence diagrams, class diagrams, etc.\n- Editing existing mermaid diagrams\n- Converting design ideas into visual diagrams\n\n---\n\n## Quick Start\n\n### Flowchart Basic Syntax\n\n```mermaid\nflowchart TD\n    Start[Start Process]\n    Process[Process Data]\n    Decision{Is Valid?}\n    End[End]\n\n    Start --> Process\n    Process --> Decision\n    Decision -->|Yes| End\n    Decision -->|No| Process\n```\n\n### Sequence Diagram Basic Syntax\n\n```mermaid\nsequenceDiagram\n    participant A as Alice\n    participant B as Bob\n\n    A->>B: Hello Bob\n    B->>A: Hi Alice\n\n    Note right of B: Bob thinks\n```\n\n### Class Diagram Basic Syntax\n\n```mermaid\nclassDiagram\n    class Animal {\n        +String name\n        +int age\n        +makeSound()\n    }\n\n    class Dog {\n        +bark()\n    }\n\n    Animal <|-- Dog\n```\n\n---\n\n## Critical Rules (MUST FOLLOW)\n\n### Rule 1: Special Characters in Labels\n\n**Problem characters:** `:`, `()`, `[]`, `{}`, `@`, `;`, `,`\n\n**Solutions:**\n\n**Option A: Use double quotes**\n\n```mermaid\nflowchart LR\n    A[\"Function: process()\"]\n    B[\"Array [1, 2, 3]\"]\n```\n\n**Option B: Use HTML entities**\n\n- `:` → `&#58;`\n- `(` → `&#40;`\n- `)` → `&#41;`\n- `[` → `&#91;`\n- `]` → `&#93;`\n- `;` → `&#59;`\n\n**WRONG:**\n\n```mermaid\nflowchart LR\n    A[Function: process()]  ❌ Colon breaks syntax\n```\n\n---\n\n### Rule 2: Reserved Words\n\n**\"end\" (lowercase):**\n\n```mermaid\nflowchart TD\n    Start --> End   ✅ Capitalized OK\n    Start --> end   ❌ Breaks diagram\n    Start --> END   ✅ All caps OK\n```\n\n**\"o\" and \"x\" at edge start:**\n\n```mermaid\nflowchart LR\n    A --- oB  ❌ Creates circle edge\n    A --- xB  ❌ Creates cross edge\n    A --- oC  ✅ Add space: o B\n```\n\n---\n\n### Rule 3: Subgraph Syntax\n\n**CORRECT:**\n\n```mermaid\nflowchart TD\n    subgraph ID[\"Subgraph Title\"]\n        A[Node A]\n        B[Node B]\n    end\n```\n\n**WRONG:**\n\n```mermaid\nflowchart TD\n    subgraph \"Subgraph Title\"  ❌ Missing ID\n        A[Node A]\n    end\n```\n\n---\n\n### Rule 4: Note Syntax (Diagram-Specific)\n\n**sequenceDiagram ONLY:**\n\n```mermaid\nsequenceDiagram\n    A->>B: Message\n    Note right of B: This is valid ✅\n```\n\n**flowchart/graph: NO note keyword**\n\n```mermaid\nflowchart TD\n    Note[Use regular node instead]  ✅\n```\n\n---\n\n### Rule 5: classDiagram Rules\n\n**Define before linking:**\n\n```mermaid\nclassDiagram\n    class Animal {\n        +name\n    }\n    class Dog\n\n    Animal <|-- Dog  ✅ Both defined\n```\n\n**Method syntax:**\n\n```mermaid\nclassDiagram\n    class MyClass {\n        +method(param) ReturnType  ✅\n        +field: Type  ✅\n    }\n```\n\n---\n\n## Diagram Types\n\n### Flowchart / Graph\n\n**Declaration:**\n\n- `flowchart TD` (Top-Down)\n- `flowchart LR` (Left-Right)\n- `graph TD` (alias)\n\n**Node shapes:**\n\n- `A[Rectangle]`\n- `B(Rounded)`\n- `C{Diamond}`\n- `D([Stadium)])\n- `E[[Subroutine]]`\n\n**Edges:**\n\n- `A --> B` (arrow)\n- `A --- B` (line)\n- `A -.-> B` (dotted arrow)\n- `A ==> B` (thick arrow)\n- `A -->|label| B` (labeled edge)\n\n**Subgraph:**\n\n```mermaid\nflowchart TD\n    subgraph SG1[\"Group 1\"]\n        A[Node A]\n        B[Node B]\n    end\n\n    subgraph SG2[\"Group 2\"]\n        C[Node C]\n    end\n\n    A --> C\n```\n\n---\n\n### sequenceDiagram\n\n**Participants:**\n\n```mermaid\nsequenceDiagram\n    participant A as Alice\n    participant B as Bob\n```\n\n**Messages:**\n\n- `A->>B: Solid arrow`\n- `A-->>B: Dotted arrow`\n- `A-)B: Async`\n\n**Notes:**\n\n- `Note right of A: Text`\n- `Note left of B: Text`\n- `Note over A,B: Text`\n\n**Blocks:**\n\n- `alt`, `opt`, `par`, `loop`, `rect`\n\n---\n\n### classDiagram\n\n**Class definition:**\n\n```mermaid\nclassDiagram\n    class ClassName {\n        +publicField: Type\n        -privateField: Type\n        +method(param) ReturnType\n    }\n```\n\n**Relationships:**\n\n- `A <|-- B` (inheritance)\n- `A *-- B` (composition)\n- `A o-- B` (aggregation)\n- `A --> B` (association)\n- `A ..> B` (dependency)\n- `A ..|> B` (realization)\n\n**Edge labels:**\n\n```mermaid\nclassDiagram\n    A --> B : label\n    A ..> C : another label\n```\n\n---\n\n### stateDiagram-v2\n\n```mermaid\nstateDiagram-v2\n    [*] --> State1\n    State1 --> State2\n    State2 --> [*]\n\n    state State1 {\n        [*] --> Nested1\n        Nested1 --> [*]\n    }\n```\n\n---\n\n### erDiagram\n\n```mermaid\nerDiagram\n    CUSTOMER ||--o{ ORDER : places\n    ORDER ||--|{ LINE-ITEM : contains\n\n    CUSTOMER {\n        string name\n        int id\n    }\n```\n\n---\n\n### gantt\n\n```mermaid\ngantt\n    title Project Schedule\n    dateFormat YYYY-MM-DD\n    section Phase 1\n    Task 1 :a1, 2025-01-01, 30d\n    Task 2 :after a1, 20d\n```\n\n---\n\n### mindmap\n\n```mermaid\nmindmap\n  root((Central Idea))\n    Topic1\n      Subtopic1\n      Subtopic2\n    Topic2\n```\n\n---\n\n## Common Errors and Solutions\n\n### Error 1: \"Parse error on line X\"\n\n**Cause:** Special characters in labels\n\n**Solution:** Use double quotes or HTML entities\n\n```mermaid\nflowchart LR\n    A[\"Method: process()\"]  ✅\n```\n\n---\n\n### Error 2: \"Subgraph X not found\"\n\n**Cause:** Missing ID in subgraph declaration\n\n**Solution:**\n\n```mermaid\nflowchart TD\n    subgraph ID[\"Title\"]  ✅\n        A[Node]\n    end\n```\n\n---\n\n### Error 3: \"Syntax error in graph\"\n\n**Cause:** Reserved word \"end\" in lowercase\n\n**Solution:** Capitalize: `End`, `END`\n\n---\n\n### Error 4: \"Note is not defined\"\n\n**Cause:** Using `Note` keyword in flowchart\n\n**Solution:** Use regular node or switch to sequenceDiagram\n\n---\n\n### Error 5: Unexpected edge type\n\n**Cause:** \"o\" or \"x\" at edge start\n\n**Solution:**\n\n```mermaid\nflowchart LR\n    A --- B  ✅\n    A --- oC  ❌ (creates circle edge)\n    A --- \" oC\"  ✅ (add space)\n```\n\n---\n\n## Advanced Topics\n\nFor detailed specifications on specific diagram types, see:\n\n- [flowchart-reference.md](flowchart-reference.md) - Complete flowchart syntax\n- [sequence-reference.md](sequence-reference.md) - Complete sequence diagram syntax\n- [class-reference.md](class-reference.md) - Complete class diagram syntax\n- [common-errors.md](common-errors.md) - Error patterns from 76 diagram corrections\n\n---\n\n## Validation Checklist\n\nBefore finalizing a mermaid diagram:\n\n- [ ] No special characters without quotes/escaping\n- [ ] No lowercase \"end\" as node name\n- [ ] Subgraphs have ID: `subgraph ID[\"Title\"]`\n- [ ] Note only in sequenceDiagram\n- [ ] All referenced nodes are defined (classDiagram)\n- [ ] No \"o\" or \"x\" at edge start in flowchart\n- [ ] Proper diagram type declaration\n\n---\n\n## Best Practices\n\n1. **Keep it simple:** Start with basic syntax, add complexity only if needed\n2. **Use double quotes:** For any label with special characters\n3. **Test incrementally:** Add nodes/edges one at a time if diagram is complex\n4. **Consistent naming:** Use clear, descriptive IDs\n5. **Avoid nesting:** Deep nesting often causes issues\n\n---\n\n## Examples from Swift-Selena Project\n\n### System Architecture (flowchart)\n\n```mermaid\ngraph TB\n    subgraph Server[\"MCP Server\"]\n        Main[SwiftMCPServer]\n        LSP[LSPState]\n    end\n\n    subgraph Tools[\"Tools\"]\n        T1[Tool 1]\n        T2[Tool 2]\n    end\n\n    Main --> LSP\n    Main --> Tools\n\n    style Server fill:#e3f2fd\n```\n\n### LSP Protocol Flow (sequenceDiagram)\n\n```mermaid\nsequenceDiagram\n    participant C as Client\n    participant L as LSP\n\n    C->>L: initialize\n    L->>C: response\n    C->>L: initialized\n\n    Note over L: Ready for requests\n\n    C->>L: textDocument/references\n    L->>C: result\n```\n\n### Data Model (erDiagram)\n\n```mermaid\nerDiagram\n    ProjectMemory ||--o{ FileInfo : contains\n    ProjectMemory ||--o{ Note : contains\n\n    FileInfo {\n        string path\n        date lastModified\n    }\n```\n\n---\n\n## Quick Reference\n\n**Escape special chars:** Use `\"` or `&#XX;`\n**Subgraph:** `subgraph ID[\"Title\"]`\n**Note:** sequenceDiagram only\n**Reserved:** Avoid lowercase \"end\"\n**classDiagram:** Define before link\n\nFor complete syntax details, refer to supporting reference files.\n",
        "skills/pm7y-mermaid-diagram/class-reference.md": "# Class Diagram Complete Reference\n\nComplete syntax for mermaid class diagrams.\n\n---\n\n## Declaration\n\n```mermaid\nclassDiagram\n```\n\n---\n\n## Class Definition\n\n### Basic Class\n\n```mermaid\nclassDiagram\n    class Animal {\n        +String name\n        +int age\n        +makeSound()\n    }\n```\n\n### Visibility Modifiers\n\n```mermaid\nclassDiagram\n    class Example {\n        +public field\n        -private field\n        #protected field\n        ~package field\n    }\n```\n\n### Static Members\n\n```mermaid\nclassDiagram\n    class MathUtils {\n        +double PI$\n        +calculateArea()$\n    }\n```\n\n**Note:** `$` suffix indicates static\n\n---\n\n## Member Syntax\n\n### Fields\n\n```mermaid\nclassDiagram\n    class MyClass {\n        +String name\n        +int count\n        +List~String~ items\n    }\n```\n\n**Generic types:** Use `~` for generics: `List~String~`\n\n### Methods\n\n```mermaid\nclassDiagram\n    class Service {\n        +connect() bool\n        +send(data) void\n        +receive() Message\n    }\n```\n\n**Format:** `methodName(params) ReturnType`\n\n**Important:** No colon before return type!\n\n---\n\n## Relationships\n\n### Inheritance\n\n```mermaid\nclassDiagram\n    Animal <|-- Dog\n    Animal <|-- Cat\n```\n\n**Syntax:** `Parent <|-- Child`\n\n---\n\n### Composition\n\n```mermaid\nclassDiagram\n    Car *-- Engine\n```\n\n**Meaning:** Car has Engine (strong ownership)\n\n---\n\n### Aggregation\n\n```mermaid\nclassDiagram\n    Department o-- Employee\n```\n\n**Meaning:** Department has Employees (weak ownership)\n\n---\n\n### Association\n\n```mermaid\nclassDiagram\n    Teacher --> Student\n```\n\n---\n\n### Dependency\n\n```mermaid\nclassDiagram\n    Service ..> Repository\n```\n\n---\n\n### Realization (Interface)\n\n```mermaid\nclassDiagram\n    class Interface {\n        <<interface>>\n        +method()\n    }\n\n    Interface <|.. Implementation\n```\n\n---\n\n## Multiplicity\n\n```mermaid\nclassDiagram\n    Customer \"1\" --> \"*\" Order\n    Order \"1\" --> \"1..*\" LineItem\n```\n\n---\n\n## Labels on Relationships\n\n```mermaid\nclassDiagram\n    Driver --> Car : drives\n    Teacher --> Student : teaches\n```\n\n**Format:** `Class1 --> Class2 : label`\n\n**Important:** Space before and after `:`\n\n---\n\n## Annotations\n\n### Stereotypes\n\n```mermaid\nclassDiagram\n    class AbstractClass {\n        <<abstract>>\n        +method()\n    }\n\n    class Interface {\n        <<interface>>\n        +method()\n    }\n\n    class Service {\n        <<service>>\n        +process()\n    }\n```\n\n---\n\n## Namespaces\n\n```mermaid\nclassDiagram\n    namespace Domain {\n        class Entity\n        class Repository\n    }\n\n    namespace Infrastructure {\n        class RepositoryImpl\n    }\n\n    Repository <|.. RepositoryImpl\n```\n\n---\n\n## Complete Example\n\n```mermaid\nclassDiagram\n    class Animal {\n        <<abstract>>\n        +String name\n        +int age\n        +makeSound()*\n    }\n\n    class Dog {\n        +String breed\n        +bark()\n        +makeSound()\n    }\n\n    class Cat {\n        +String color\n        +meow()\n        +makeSound()\n    }\n\n    class Owner {\n        +String name\n        +List~Animal~ pets\n        +adoptPet(Animal)\n    }\n\n    Animal <|-- Dog\n    Animal <|-- Cat\n    Owner \"1\" --> \"*\" Animal : owns\n```\n\n---\n\n## Common Errors\n\n### Error 1: Colon in method syntax\n\n**Broken:**\n```mermaid\nclassDiagram\n    class MyClass {\n        method(): ReturnType\n    }\n```\n\n**Fixed:**\n```mermaid\nclassDiagram\n    class MyClass {\n        method() ReturnType\n    }\n```\n\n---\n\n### Error 2: Undefined node in relationship\n\n**Broken:**\n```mermaid\nclassDiagram\n    Animal <|-- Dog\n    class Animal\n```\n\n**Fixed:**\n```mermaid\nclassDiagram\n    class Animal\n    class Dog\n    Animal <|-- Dog\n```\n\n**Rule:** Define all classes before relationships\n\n---\n\n### Error 3: Special characters in class name\n\n**Broken:**\n```mermaid\nclassDiagram\n    class My:Class\n```\n\n**Fixed:**\n```mermaid\nclassDiagram\n    class MyClass\n```\n\n---\n\n### Error 4: Generic syntax\n\n**Broken:**\n```mermaid\nclassDiagram\n    class List<String>\n```\n\n**Fixed:**\n```mermaid\nclassDiagram\n    class List~String~\n```\n\n**Use:** `~` instead of `<>`\n\n---\n\n## Method Parameter Syntax\n\n### Simple\n\n```mermaid\nclassDiagram\n    class Service {\n        +send(data)\n        +receive() Message\n    }\n```\n\n### Multiple Parameters\n\n```mermaid\nclassDiagram\n    class Math {\n        +add(a, b) int\n        +multiply(x, y, z) int\n    }\n```\n\n**Note:** Parameter types usually omitted for clarity\n\n---\n\n## Styling\n\n```mermaid\nclassDiagram\n    class Important {\n        +criticalMethod()\n    }\n\n    class Normal {\n        +regularMethod()\n    }\n\n    style Important fill:#ffcccc,stroke:#ff0000,stroke-width:4px\n```\n\n---\n\n## Class Diagram vs Object Diagram\n\n**Class diagram:** Shows classes and relationships (design time)\n\n```mermaid\nclassDiagram\n    Customer --> Order\n```\n\n**Object diagram:** Shows instances (runtime) - not standard mermaid\n\nUse class diagram with stereotypes for object-like diagrams.\n\n---\n\n## Best Practices\n\n1. **Define first:** All classes before relationships\n2. **Keep methods simple:** Avoid complex parameter types\n3. **Use stereotypes:** `<<interface>>`, `<<abstract>>` for clarity\n4. **Consistent visibility:** Use `+`, `-`, `#` consistently\n5. **Group related:** Use namespaces for large diagrams\n\n---\n\n## Quick Reference\n\n| Relationship | Syntax | Meaning |\n|-------------|--------|---------|\n| Inheritance | `A <\\|-- B` | B extends A |\n| Composition | `A *-- B` | A owns B (strong) |\n| Aggregation | `A o-- B` | A has B (weak) |\n| Association | `A --> B` | A uses B |\n| Dependency | `A ..> B` | A depends on B |\n| Realization | `A <\\|.. B` | B implements A |\n\n---\n\nReturn to [SKILL.md](SKILL.md)\n",
        "skills/pm7y-mermaid-diagram/common-errors.md": "# Common Mermaid Errors and Solutions\n\nBased on 76 diagram corrections in Swift-Selena project (2025-10-24〜26).\n\n---\n\n## Error Category 1: Special Characters\n\n### Error: \"Parse error\" with colons\n\n**Broken:**\n```mermaid\nflowchart LR\n    A[Function: process()]\n```\n\n**Fixed:**\n```mermaid\nflowchart LR\n    A[\"Function process\"]\n```\n\n**Lesson:** Remove `:` or use `\"Function&#58; process()\"`\n\n---\n\n### Error: Brackets in labels\n\n**Broken:**\n```mermaid\nflowchart LR\n    A[Array [1,2,3]]\n```\n\n**Fixed:**\n```mermaid\nflowchart LR\n    A[\"Array 1 2 3\"]\n```\n\n**Lesson:** Remove `[]` or use `&#91;` `&#93;`\n\n---\n\n### Error: Parentheses in method names\n\n**Broken:**\n```mermaid\nflowchart LR\n    A[method(param)]\n```\n\n**Fixed:**\n```mermaid\nflowchart LR\n    A[\"method with param\"]\n    B[method]\n```\n\n**Lesson:** Remove `()` from flowchart labels or use HTML entities\n\n---\n\n## Error Category 2: Reserved Words\n\n### Error: Lowercase \"end\"\n\n**Broken:**\n```mermaid\nflowchart TD\n    Start --> end\n```\n\n**Fixed:**\n```mermaid\nflowchart TD\n    Start --> End\n```\n\n**Lesson:** Always capitalize: `End`, `END`, or `E_N_D`\n\n---\n\n### Error: \"o\" at edge start creates circle\n\n**Broken:**\n```mermaid\nflowchart LR\n    A---oB\n```\n\n**Result:** Circle edge `o` appears\n\n**Fixed:**\n```mermaid\nflowchart LR\n    A--- oB\n```\n\n**Lesson:** Add space before \"o\"\n\n---\n\n## Error Category 3: Subgraph Syntax\n\n### Error: Subgraph without ID\n\n**Broken:**\n```mermaid\nflowchart TD\n    subgraph \"My Group\"\n        A[Node]\n    end\n```\n\n**Fixed:**\n```mermaid\nflowchart TD\n    subgraph GRP[\"My Group\"]\n        A[Node]\n    end\n```\n\n**Lesson:** Always provide ID: `subgraph ID[\"Title\"]`\n\n---\n\n## Error Category 4: Note Misuse\n\n### Error: Note in flowchart\n\n**Broken:**\n```mermaid\nflowchart TD\n    A[Node]\n    Note: This is important\n```\n\n**Fixed (Option A):**\n```mermaid\nflowchart TD\n    A[Node]\n    N[Note: This is important]\n```\n\n**Fixed (Option B):**\n```mermaid\nsequenceDiagram\n    participant A\n    Note right of A: This is important\n```\n\n**Lesson:** `Note` keyword only exists in sequenceDiagram\n\n---\n\n## Error Category 5: classDiagram\n\n### Error: Undefined node reference\n\n**Broken:**\n```mermaid\nclassDiagram\n    Animal <|-- Dog\n\n    class Animal {\n        +name\n    }\n```\n\n**Fixed:**\n```mermaid\nclassDiagram\n    class Animal {\n        +name\n    }\n    class Dog\n\n    Animal <|-- Dog\n```\n\n**Lesson:** Define all classes before creating relationships\n\n---\n\n### Error: Method syntax\n\n**Broken:**\n```mermaid\nclassDiagram\n    class MyClass {\n        method(param): ReturnType\n    }\n```\n\n**Fixed:**\n```mermaid\nclassDiagram\n    class MyClass {\n        method(param) ReturnType\n    }\n```\n\n**Lesson:** No colon before return type\n\n---\n\n## Error Category 6: Edge Labels\n\n### Error: Edge label with special chars\n\n**Broken:**\n```mermaid\nflowchart LR\n    A -->|process()| B\n```\n\n**Fixed:**\n```mermaid\nflowchart LR\n    A -->|process| B\n```\n\n**Lesson:** Avoid `()`, `:`, `[]` in edge labels\n\n---\n\n## Top 10 Most Common Errors (From Experience)\n\n1. `:` in labels (30+ occurrences)\n2. `()` in flowchart labels (20+ occurrences)\n3. Subgraph without ID (15+ occurrences)\n4. Note in flowchart (8 occurrences)\n5. Lowercase \"end\" (5 occurrences)\n6. `[]` in labels (12 occurrences)\n7. `@` in labels (6 occurrences)\n8. Undefined classDiagram nodes (4 occurrences)\n9. Method colon syntax (3 occurrences)\n10. Edge label brackets (2 occurrences)\n\n---\n\n## Prevention Strategy\n\n**Before creating:**\n1. Check for special chars in content\n2. Check for reserved words\n3. Plan subgraph structure with IDs\n\n**While creating:**\n1. Use double quotes liberally\n2. Test with simple version first\n3. Add complexity incrementally\n\n**After creating:**\n1. Validate syntax (paste in mermaid live editor)\n2. Check rendering\n3. Fix any errors immediately\n\n---\n\n## Real Error Examples from Swift-Selena\n\n### Example 1: DES-101\n\n**Broken (line 158):**\n```mermaid\nflowchart TD\n    SMCP[SwiftMCPServer: ListTools/CallTool]\n```\n\n**Fixed:**\n```mermaid\nflowchart TD\n    SMCP[\"SwiftMCPServer<br/>- ListTools<br/>- CallTool\"]\n```\n\n---\n\n### Example 2: DES-102\n\n**Broken (line 689):**\n```mermaid\nsequenceDiagram\n    Client->>LSP: textDocument/documentSymbol\n```\n\n**Fixed:**\n```mermaid\nsequenceDiagram\n    Client->>LSP: textDocument documentSymbol\n```\n\n---\n\n### Example 3: DES-103\n\n**Broken (line 485):**\n```mermaid\nclassDiagram\n    class ToolHelpers {\n        requireProjectMemory(ProjectMemory?) ProjectMemory$\n    }\n```\n\n**Fixed:**\n```mermaid\nclassDiagram\n    class ToolHelpers {\n        <<Enum>>\n        +requireProjectMemory(args) ProjectMemory$\n    }\n```\n\n---\n\n## Reference\n\nFor complete syntax details:\n- [Mermaid Official Docs](https://mermaid.js.org/)\n- [flowchart-reference.md](flowchart-reference.md)\n- [sequence-reference.md](sequence-reference.md)\n- [class-reference.md](class-reference.md)\n",
        "skills/pm7y-mermaid-diagram/flowchart-reference.md": "# Flowchart Complete Reference\n\nComplete syntax specification for mermaid flowcharts.\n\n---\n\n## Declaration\n\n```mermaid\nflowchart DIRECTION\n```\n\n**Direction options:**\n- `TD` / `TB` - Top to bottom\n- `BT` - Bottom to top\n- `LR` - Left to right\n- `RL` - Right to left\n\n**Alias:** `graph TD` (same as `flowchart TD`)\n\n---\n\n## Node Shapes\n\n### Rectangle\n```mermaid\nflowchart LR\n    A[Rectangle]\n```\n\n### Rounded Rectangle\n```mermaid\nflowchart LR\n    B(Rounded)\n```\n\n### Stadium\n```mermaid\nflowchart LR\n    C([Stadium])\n```\n\n### Subroutine\n```mermaid\nflowchart LR\n    D[[Subroutine]]\n```\n\n### Cylindrical\n```mermaid\nflowchart LR\n    E[(Database)]\n```\n\n### Circle\n```mermaid\nflowchart LR\n    F((Circle))\n```\n\n### Asymmetric\n```mermaid\nflowchart LR\n    G>Flag]\n```\n\n### Rhombus (Decision)\n```mermaid\nflowchart LR\n    H{Decision}\n```\n\n### Hexagon\n```mermaid\nflowchart LR\n    I{{Hexagon}}\n```\n\n### Parallelogram\n```mermaid\nflowchart LR\n    J[/Input/]\n    K[\\Output\\]\n```\n\n### Trapezoid\n```mermaid\nflowchart LR\n    L[/Trapezoid\\]\n    M[\\Alt Trapezoid/]\n```\n\n---\n\n## Edges (Arrows)\n\n### Basic Arrows\n\n```mermaid\nflowchart LR\n    A --> B   %% Solid arrow\n    C --- D   %% Line (no arrow)\n    E -.-> F  %% Dotted arrow\n    G ==> H   %% Thick arrow\n```\n\n### Arrow Variations\n\n```mermaid\nflowchart LR\n    A --o B   %% Circle end\n    C --x D   %% Cross end\n    E <--> F  %% Bidirectional\n    G o--o H  %% Circle both ends\n    I x--x J  %% Cross both ends\n```\n\n### Edge Labels\n\n```mermaid\nflowchart LR\n    A -->|Label| B\n    C -.->|Dotted Label| D\n    E ==>|Thick Label| F\n```\n\n**Important:** Avoid special characters in labels!\n\n---\n\n## Subgraphs\n\n### Basic Subgraph\n\n```mermaid\nflowchart TD\n    subgraph ID1[\"Group Title\"]\n        A[Node A]\n        B[Node B]\n    end\n\n    A --> B\n```\n\n### Nested Subgraphs\n\n```mermaid\nflowchart TD\n    subgraph OUT[\"Outer\"]\n        subgraph IN[\"Inner\"]\n            A[Node]\n        end\n    end\n```\n\n### Subgraph Direction\n\n```mermaid\nflowchart TD\n    subgraph SG[\"Subgraph\"]\n        direction LR\n        A --> B\n    end\n```\n\n### Edges to/from Subgraphs\n\n```mermaid\nflowchart TD\n    subgraph S1[\"Group 1\"]\n        A[Node A]\n    end\n\n    subgraph S2[\"Group 2\"]\n        B[Node B]\n    end\n\n    S1 --> S2\n    A --> B\n```\n\n---\n\n## Styling\n\n### Inline Style\n\n```mermaid\nflowchart LR\n    A[Node]:::className\n\n    classDef className fill:#f9f,stroke:#333\n```\n\n### Style Command\n\n```mermaid\nflowchart LR\n    A[Node A]\n    B[Node B]\n\n    style A fill:#bbf,stroke:#333,stroke-width:4px\n    style B fill:#f9f\n```\n\n### Class Definition\n\n```mermaid\nflowchart LR\n    A[Success]:::success\n    B[Error]:::error\n\n    classDef success fill:#c8e6c9,stroke:#4caf50\n    classDef error fill:#ffcdd2,stroke:#f44336\n```\n\n---\n\n## Special Characters Handling\n\n### Double Quote Method\n\n```mermaid\nflowchart LR\n    A[\"Method: process()\"]\n    B[\"Array [1, 2, 3]\"]\n    C[\"Email: user@example.com\"]\n```\n\n### HTML Entity Method\n\n```mermaid\nflowchart LR\n    A[Method&#58; process&#40;&#41;]\n    B[Array &#91;1&#93;]\n```\n\n**Common entities:**\n- `:` → `&#58;`\n- `(` → `&#40;`\n- `)` → `&#41;`\n- `[` → `&#91;`\n- `]` → `&#93;`\n- `{` → `&#123;`\n- `}` → `&#125;`\n- `@` → `&#64;`\n- `;` → `&#59;`\n\n---\n\n## Line Breaks in Labels\n\nUse `<br/>` for multiline labels:\n\n```mermaid\nflowchart TD\n    A[\"Line 1<br/>Line 2<br/>Line 3\"]\n```\n\n---\n\n## Comments\n\n```mermaid\nflowchart TD\n    %% This is a comment\n    A[Node]  %% Inline comment\n```\n\n**Important:** Don't use `{}` in comments\n\n---\n\n## Reserved Words to Avoid\n\n**Avoid as node IDs (or capitalize):**\n- `end` → `End` or `END`\n- `class` (in some contexts)\n\n**Safe alternatives:**\n- Use descriptive names: `EndProcess`, `FinalState`\n- Add prefix/suffix: `end_node`, `node_end`\n\n---\n\n## Common Pitfalls\n\n### Pitfall 1: Missing semicolons when needed\n\nIf using semicolons as line separators:\n```mermaid\nflowchart LR\n    A-->B; B-->C; C-->D\n```\n\n### Pitfall 2: Quotes inside quotes\n\n**Broken:**\n```mermaid\nflowchart LR\n    A[\"Say \"Hello\"\"]\n```\n\n**Fixed:**\n```mermaid\nflowchart LR\n    A[\"Say Hello\"]\n    B[Say &#34;Hello&#34;]\n```\n\n### Pitfall 3: Too many special chars\n\n**Best practice:** Keep labels simple\n- Good: `Process Data`\n- OK: `Process: Data`\n- Bad: `Process: [Data] (type: @string)`\n\n---\n\n## Debugging Strategy\n\n### Step 1: Isolate the error\n\nComment out sections to find which node/edge causes the error:\n\n```mermaid\nflowchart TD\n    A[Works]\n    %% B[Might be broken]\n    %% C{Also suspicious}\n```\n\n### Step 2: Simplify\n\nRemove all special characters and test:\n\n```mermaid\nflowchart TD\n    A[Simple]\n    B[Also Simple]\n    A --> B\n```\n\n### Step 3: Add back incrementally\n\nOnce basic version works, add complexity one element at a time.\n\n---\n\n## Real-World Error Fixes\n\n### Fix 1: DES-101 System Architecture\n\n**Before (broken):**\n```\nSwiftMCPServer: ListTools/CallTool\n```\n\n**After (fixed):**\n```\nSwiftMCPServer<br/>- ListTools<br/>- CallTool\n```\n\n---\n\n### Fix 2: DES-102 LSP Protocol\n\n**Before (broken):**\n```\ntextDocument/references\n```\n\n**After (fixed):**\n```\ntextDocument references\n```\n\n---\n\n### Fix 3: DES-103 Class Structure\n\n**Before (broken):**\n```\nrequireProjectMemory(ProjectMemory?) ProjectMemory$\n```\n\n**After (fixed):**\n```\nrequireProjectMemory(args) ProjectMemory$\n```\n\n---\n\n## Quick Fix Reference\n\n| Error Message | Likely Cause | Quick Fix |\n|--------------|--------------|-----------|\n| Parse error on line X | Special char in label | Add double quotes |\n| Subgraph X not found | Missing ID | Add `subgraph ID[\"Title\"]` |\n| Syntax error in graph | Reserved word \"end\" | Capitalize to `End` |\n| Unexpected token | Bracket/colon/parens | Remove or use `&#XX;` |\n| Note is not defined | Note in flowchart | Use sequenceDiagram or regular node |\n\n---\n\n## Validation Checklist\n\nBefore considering diagram complete:\n\n- [ ] No `:` without quotes\n- [ ] No `()` in flowchart labels\n- [ ] No `[]` in labels\n- [ ] No `@` without quotes/entities\n- [ ] All subgraphs have ID\n- [ ] No lowercase \"end\"\n- [ ] Note only in sequenceDiagram\n- [ ] All classDiagram nodes defined\n- [ ] Tested in live editor or render\n\n---\n\n## Reference\n\nReturn to [SKILL.md](SKILL.md) for main documentation.\n",
        "skills/pm7y-mermaid-diagram/sequence-reference.md": "# Sequence Diagram Complete Reference\n\nComplete syntax for mermaid sequence diagrams.\n\n---\n\n## Declaration\n\n```mermaid\nsequenceDiagram\n```\n\n---\n\n## Participants\n\n### Basic Definition\n\n```mermaid\nsequenceDiagram\n    participant A\n    participant B\n```\n\n### With Aliases\n\n```mermaid\nsequenceDiagram\n    participant A as Alice\n    participant B as Bob\n    participant S as Server\n```\n\n### Actor (Stick Figure)\n\n```mermaid\nsequenceDiagram\n    actor User\n    participant System\n\n    User->>System: Request\n```\n\n---\n\n## Messages\n\n### Arrow Types\n\n```mermaid\nsequenceDiagram\n    A->>B: Solid arrow\n    A-->>B: Dotted arrow\n    A-)B: Async message\n    A--)B: Async dotted\n```\n\n### Arrow Directions\n\n```mermaid\nsequenceDiagram\n    A->>+B: Activate\n    B-->>-A: Deactivate\n    A<<->>B: Bidirectional\n```\n\n### Without Arrows\n\n```mermaid\nsequenceDiagram\n    A-B: Solid line\n    A--B: Dotted line\n```\n\n---\n\n## Activation/Deactivation\n\n```mermaid\nsequenceDiagram\n    A->>+B: activate B\n    B->>+C: activate C\n    C-->>-B: deactivate C\n    B-->>-A: deactivate B\n```\n\n---\n\n## Notes\n\n### Position\n\n```mermaid\nsequenceDiagram\n    participant A\n    participant B\n\n    Note right of A: Right note\n    Note left of B: Left note\n    Note over A: Over A\n    Note over A,B: Spanning note\n```\n\n### Multiline Notes\n\n```mermaid\nsequenceDiagram\n    Note over A,B: Line 1<br/>Line 2<br/>Line 3\n```\n\n---\n\n## Loops and Alternatives\n\n### Loop\n\n```mermaid\nsequenceDiagram\n    loop Every minute\n        A->>B: Ping\n        B->>A: Pong\n    end\n```\n\n### Alt (If-else)\n\n```mermaid\nsequenceDiagram\n    alt Success\n        A->>B: OK\n    else Failure\n        A->>B: Error\n    end\n```\n\n### Opt (Optional)\n\n```mermaid\nsequenceDiagram\n    opt Extra step\n        A->>B: Optional message\n    end\n```\n\n### Par (Parallel)\n\n```mermaid\nsequenceDiagram\n    par Alice to Bob\n        A->>B: Message 1\n    and Alice to Charlie\n        A->>C: Message 2\n    end\n```\n\n---\n\n## Background Highlighting\n\n### Rect\n\n```mermaid\nsequenceDiagram\n    rect rgb(200, 220, 250)\n        A->>B: In blue box\n        B->>C: Also in blue\n    end\n\n    rect rgba(200, 250, 200, 0.5)\n        C->>A: In green box\n    end\n```\n\n---\n\n## Autonumbering\n\n```mermaid\nsequenceDiagram\n    autonumber\n\n    A->>B: First (1)\n    B->>C: Second (2)\n    C->>A: Third (3)\n```\n\n---\n\n## Special Features\n\n### Critical Section\n\n```mermaid\nsequenceDiagram\n    critical Establish connection\n        A->>B: Connect\n    option Timeout\n        A->>A: Reconnect\n    end\n```\n\n### Break\n\n```mermaid\nsequenceDiagram\n    A->>B: Request\n    break Error occurred\n        B->>A: Error response\n    end\n```\n\n---\n\n## Sequence Numbers\n\n```mermaid\nsequenceDiagram\n    autonumber 1 1  %% Start at 1, increment by 1\n    A->>B: Message 1\n    B->>C: Message 2\n```\n\n---\n\n## Links and Styling\n\n### Participant Links\n\n```mermaid\nsequenceDiagram\n    participant A\n    link A: Dashboard @ https://example.com\n    link A: Details @ https://example.com/details\n```\n\n### Styling\n\n```mermaid\nsequenceDiagram\n    participant A\n    participant B\n\n    A->>B: Message\n\n    style A fill:#bbf\n```\n\n---\n\n## Common Patterns\n\n### Request-Response\n\n```mermaid\nsequenceDiagram\n    Client->>Server: Request\n    Server-->>Client: Response\n```\n\n### Error Handling\n\n```mermaid\nsequenceDiagram\n    A->>B: Request\n    alt Success\n        B->>A: Data\n    else Error\n        B->>A: Error message\n    end\n```\n\n### Async Operations\n\n```mermaid\nsequenceDiagram\n    A-)B: Async call\n    Note over B: Processing...\n    B--)A: Callback\n```\n\n---\n\n## Best Practices\n\n1. **Use aliases:** `participant A as Alice` for readability\n2. **Activation:** Use `+`/`-` for clear lifelines\n3. **Notes:** Add context for complex flows\n4. **Grouping:** Use rect for related operations\n5. **Autonumber:** For step-by-step flows\n\n---\n\n## Errors to Avoid\n\n1. **Don't use flowchart syntax:**\n   - ❌ `A[Rectangle]` (flowchart syntax)\n   - ✅ `participant A` (sequence syntax)\n\n2. **Special chars in messages:**\n   - ❌ `A->>B: method()`\n   - ✅ `A->>B: method call`\n\n3. **Missing participant:**\n   - Define all participants before using\n\n---\n\n## Complete Example\n\n```mermaid\nsequenceDiagram\n    autonumber\n    actor User\n    participant App\n    participant Server\n    participant DB\n\n    User->>+App: Login request\n    App->>+Server: Authenticate\n\n    alt Valid credentials\n        Server->>+DB: Query user\n        DB-->>-Server: User data\n        Server-->>App: Token\n        App-->>-User: Success\n    else Invalid credentials\n        Server-->>App: Error\n        App-->>-User: Login failed\n    end\n\n    Note over User,DB: Authentication complete\n```\n\n---\n\nReturn to [SKILL.md](SKILL.md)\n",
        "skills/pm7y-ralph-loop/SKILL.md": "---\nname: pm7y-ralph-loop\ndescription: Set up a cross-platform Ralph Wiggum loop for continuous autonomous Claude execution. Use when the user wants to run Claude in a loop, implement the Ralph technique, or needs continuous autonomous operation. This skill only sets up the PS1 scripts - use pm7y-ralph-planner to create TASKS.md files.\nallowed-tools: Write, Read, Bash\n---\n\n# Ralph Wiggum Loop Setup\n\nThe Ralph Wiggum technique involves running Claude in a continuous loop, spawning fresh sessions to maintain context quality over long-running autonomous operations. This skill sets up cross-platform PowerShell Core scripts for this purpose.\n\n**Note:** This skill only creates the execution scripts. Use the `pm7y-ralph-planner` agent to create or update TASKS.md files with validation requirements and learnings tracking.\n\n## Script Locations\n\nThe PowerShell scripts are located at:\n\n```\n${CLAUDE_PLUGIN_ROOT}/skills/pm7y-ralph-loop/ralph-loop.ps1      # Continuous loop\n${CLAUDE_PLUGIN_ROOT}/skills/pm7y-ralph-loop/ralph-once.ps1      # Single execution\n${CLAUDE_PLUGIN_ROOT}/skills/pm7y-ralph-loop/ralph-visualize.ps1 # Output visualizer\n```\n\n## What You Do\n\nWhen this skill is invoked:\n\n1. **Check for PowerShell Core** - Verify `pwsh` is available\n2. **Copy the scripts** - Copy all three scripts (`ralph-loop.ps1`, `ralph-once.ps1`, `ralph-visualize.ps1`) to the current directory\n3. **Explain usage** - Show the user how to run and customize\n4. **Suggest task planning** - Recommend using `pm7y-ralph-planner` if no TASKS.md exists\n\n## Setup Steps\n\n### Step 1: Check Prerequisites\n\n```bash\n# Check if pwsh is available\npwsh --version\n```\n\nIf not installed, advise:\n- **macOS:** `brew install powershell`\n- **Windows:** Already included or install from Microsoft Store\n- **Linux:** `sudo snap install powershell --classic`\n\n### Step 2: Copy the Scripts\n\nCopy all three scripts from the plugin to the user's current directory:\n\n- `${CLAUDE_PLUGIN_ROOT}/skills/pm7y-ralph-loop/ralph-loop.ps1` → `./ralph-loop.ps1`\n- `${CLAUDE_PLUGIN_ROOT}/skills/pm7y-ralph-loop/ralph-once.ps1` → `./ralph-once.ps1`\n- `${CLAUDE_PLUGIN_ROOT}/skills/pm7y-ralph-loop/ralph-visualize.ps1` → `./ralph-visualize.ps1`\n\n### Step 3: Check for TASKS.md\n\nCheck if TASKS.md exists in the current directory:\n\n- **If exists:** Inform the user they're ready to run the loop\n- **If missing:** Suggest running `/pm7y-ralph-planner` to create a properly structured TASKS.md with validation requirements and learnings tracking\n\n## Usage Instructions\n\nAfter setup, tell the user:\n\n### ralph-once.ps1 (Single Execution)\n\nRun Claude once - useful for testing prompts or one-off tasks:\n\n```bash\n# Default (uses TASKS.md, opus model)\npwsh ./ralph-once.ps1\n\n# Custom configuration\npwsh ./ralph-once.ps1 -PromptFile \"task.md\" -Model \"sonnet\"\n\n# Quiet mode (only show Claude output)\npwsh ./ralph-once.ps1 -Quiet\n\n# Without visualization\npwsh ./ralph-once.ps1 -NoVisualize\n```\n\n| Parameter | Default | Description |\n|-----------|---------|-------------|\n| `-PromptFile` | TASKS.md | Path to the prompt/task file |\n| `-Model` | opus | Claude model (sonnet, opus, haiku) |\n| `-NoVisualize` | false | Skip piping output through the visualizer |\n| `-Quiet` | false | Suppress status messages |\n| `-AutoCommit` | false | Auto-commit changes with Claude-generated message |\n\n### ralph-loop.ps1 (Continuous Loop)\n\nRun Claude in a continuous loop:\n\n```bash\n# Default (uses TASKS.md, opus model, 25 iterations max, 10s sleep)\npwsh ./ralph-loop.ps1\n\n# Custom configuration\npwsh ./ralph-loop.ps1 -PromptFile \"tasks.md\" -Model \"sonnet\" -SleepSeconds 30\n\n# Limited iterations (for testing)\npwsh ./ralph-loop.ps1 -MaxIterations 5\n\n# Without visualization\npwsh ./ralph-loop.ps1 -NoVisualize\n```\n\n| Parameter | Default | Description |\n|-----------|---------|-------------|\n| `-PromptFile` | TASKS.md | Path to the prompt/task file |\n| `-Model` | opus | Claude model (sonnet, opus, haiku) |\n| `-SleepSeconds` | 10 | Seconds between iterations |\n| `-MaxIterations` | 25 | Max iterations (0 = unlimited) |\n| `-NoVisualize` | false | Skip piping output through the visualizer |\n| `-AutoCommit` | false | Auto-commit changes with Claude-generated message |\n\n**Prerequisites:**\n\n- PowerShell Core (`pwsh`) - Install via `brew install powershell` (macOS) or from Microsoft\n- Claude CLI (`claude`) - Install from <https://claude.ai/code>\n\n**Stop the loop:** Press `Ctrl+C`\n\n## Checklist\n\n- [ ] Check if `pwsh` is available, suggest installation if not\n- [ ] Copy `ralph-loop.ps1` from plugin to current directory (DO NOT modify it)\n- [ ] Copy `ralph-once.ps1` from plugin to current directory (DO NOT modify it)\n- [ ] Copy `ralph-visualize.ps1` from plugin to current directory (DO NOT modify it)\n- [ ] Check if `TASKS.md` exists\n- [ ] If no TASKS.md, suggest using `pm7y-ralph-planner` to create one\n- [ ] Explain usage to user\n",
        "skills/pm7y-scss-patterns/SKILL.md": "---\nname: pm7y-scss-patterns\ndescription: |\n  Discovers existing SCSS/CSS patterns (mixins, variables, utility classes, component patterns) in a codebase before writing new styles. Produces a \"use these patterns\" summary to ensure consistency and reuse.\n\n  Use this skill when:\n  - About to write new CSS/SCSS styles\n  - Before creating a new component's styles\n  - When unsure what design tokens or utilities exist\n  - Before a CSS review to understand existing patterns\nallowed-tools: Read, Glob, Grep\n---\n\n# SCSS/CSS Pattern Discovery Skill\n\nDiscovers existing styling patterns in a codebase to ensure new styles follow established conventions and reuse existing utilities.\n\n---\n\n## Overview\n\nThis skill scans a codebase to build a comprehensive inventory of:\n\n- **Variables** - Colors, spacing, typography, breakpoints\n- **Mixins** - Reusable style blocks\n- **Utility classes** - Single-purpose helper classes\n- **Component patterns** - Naming conventions, file structure, common approaches\n\n**Output:** A \"Use These Patterns\" summary that provides actionable guidance for writing new styles.\n\n**When to use:**\n\n- Before writing CSS/SCSS for a new component\n- Before creating new utility classes or mixins\n- When onboarding to an unfamiliar codebase's styles\n- Before running pm7y-css-review to understand what patterns exist\n\n---\n\n## Discovery Process\n\n### Step 1: Find All Style Files\n\nLocate CSS/SCSS files in the project:\n\n```\n# Search patterns\n**/*.scss\n**/*.css\n**/styles/**/*\n**/css/**/*\n\n# Exclude patterns\nnode_modules/\ndist/\nbuild/\n.next/\ncoverage/\n```\n\nRecord the file structure - note any organizational patterns like:\n- `styles/` or `css/` directories\n- `_variables.scss`, `_mixins.scss` partial naming\n- Component-colocated styles vs centralized stylesheets\n\n### Step 2: Extract Variables\n\nSearch for SCSS/CSS variable definitions:\n\n**SCSS variables:**\n```\nPattern: $[a-zA-Z][a-zA-Z0-9-_]*:\n```\n\n**CSS custom properties:**\n```\nPattern: --[a-zA-Z][a-zA-Z0-9-]*:\n```\n\nCategorize discovered variables:\n\n| Category | Common Patterns |\n|----------|-----------------|\n| Colors | `$color-*`, `$primary`, `$secondary`, `--color-*` |\n| Spacing | `$spacing-*`, `$gap-*`, `$margin-*`, `$padding-*` |\n| Typography | `$font-*`, `$text-*`, `$heading-*`, `--font-*` |\n| Breakpoints | `$breakpoint-*`, `$screen-*`, `$bp-*` |\n| Sizing | `$width-*`, `$height-*`, `$size-*` |\n| Z-index | `$z-*`, `$zindex-*` |\n| Shadows | `$shadow-*`, `$box-shadow-*` |\n| Borders | `$border-*`, `$radius-*` |\n\n### Step 3: Extract Mixins\n\nSearch for SCSS mixin definitions:\n\n```\nPattern: @mixin [name]\n```\n\nFor each mixin, note:\n- Name and purpose (infer from name/comments)\n- Parameters (if any)\n- Where it's used (`@include [name]`)\n\nCommon mixin categories:\n\n| Category | Examples |\n|----------|----------|\n| Responsive | `@mixin mobile`, `@mixin tablet`, `@mixin desktop` |\n| Flexbox | `@mixin flex-center`, `@mixin flex-between` |\n| Typography | `@mixin heading`, `@mixin body-text` |\n| Positioning | `@mixin absolute-center`, `@mixin fixed-bottom` |\n| Animations | `@mixin fade-in`, `@mixin slide-up` |\n\n### Step 4: Extract Utility Classes\n\nLook for utility/helper class patterns:\n\n**Common utility file locations:**\n- `utilities.scss`, `helpers.scss`, `utils.scss`\n- `_utilities.scss`, `_helpers.scss`\n- Files in `utilities/` or `helpers/` directories\n\n**Utility class patterns to identify:**\n- Display: `.hidden`, `.visible`, `.block`, `.inline-*`\n- Flexbox: `.flex`, `.flex-center`, `.flex-between`, `.flex-column`\n- Grid: `.grid`, `.grid-*`\n- Spacing: `.m-*`, `.p-*`, `.mt-*`, `.mb-*`, `.mx-*`, `.my-*`\n- Text: `.text-center`, `.text-left`, `.text-bold`, `.truncate`\n- Colors: `.text-primary`, `.bg-primary`, `.border-primary`\n\n### Step 5: Detect CSS Framework\n\nCheck for framework usage that provides built-in utilities:\n\n**Tailwind CSS:**\n- `tailwind.config.js` or `tailwind.config.ts` exists\n- `@tailwind` directives in CSS files\n- Class usage patterns like `flex`, `p-4`, `text-gray-500`\n\n**Bootstrap:**\n- Bootstrap in `package.json` dependencies\n- Bootstrap imports in SCSS\n- Class patterns like `d-flex`, `justify-content-center`, `text-muted`\n\n**Other frameworks:**\n- Check `package.json` for: styled-components, emotion, CSS modules\n- Look for framework-specific file extensions or patterns\n\n### Step 6: Identify Component Patterns\n\nAnalyze how component styles are organized:\n\n**Naming conventions:**\n- BEM: `.block__element--modifier`\n- OOCSS: Separation of structure and skin\n- Utility-first: Composing utilities\n- CSS Modules: Locally scoped class names\n\n**File organization:**\n- Colocated: `Component.tsx` + `Component.scss`\n- Centralized: All styles in `styles/` directory\n- Feature-based: Styles grouped by feature\n\n**Common patterns to note:**\n- How colors are applied (direct values vs variables)\n- Responsive approach (mobile-first vs desktop-first)\n- Animation patterns\n- Icon handling\n\n---\n\n## Output Format\n\nAfter completing discovery, produce a summary in this format:\n\n```markdown\n## Use These Patterns\n\n### Design Tokens\n\n**Colors:**\n- Primary: `$color-primary` (#3B82F6)\n- Secondary: `$color-secondary` (#10B981)\n- Error: `$color-error` (#EF4444)\n- [list all color variables]\n\n**Spacing:**\n- `$spacing-xs` (4px), `$spacing-sm` (8px), `$spacing-md` (16px), `$spacing-lg` (24px)\n- [list all spacing variables]\n\n**Typography:**\n- `$font-family-sans`, `$font-family-mono`\n- `$font-size-sm`, `$font-size-base`, `$font-size-lg`\n- [list all typography variables]\n\n### Available Mixins\n\n| Mixin | Purpose | Usage |\n|-------|---------|-------|\n| `@mixin flex-center` | Center with flexbox | `@include flex-center;` |\n| `@mixin mobile` | Mobile breakpoint | `@include mobile { ... }` |\n| [list all mixins] |\n\n### Utility Classes\n\n**Layout:**\n- `.flex`, `.flex-center`, `.flex-between`\n- `.grid`, `.grid-2`, `.grid-3`\n\n**Spacing:**\n- `.m-{0-4}`, `.p-{0-4}`, `.mx-auto`\n\n**Text:**\n- `.text-center`, `.text-bold`, `.truncate`\n\n[list all utility classes by category]\n\n### CSS Framework: [Name or None]\n\n[If framework detected, list key utilities to prefer]\n\n### Naming Convention: [BEM/OOCSS/Utility-first/CSS Modules]\n\nNew classes should follow: `[example of the convention]`\n\n### File Organization\n\nComponent styles go in: `[path pattern]`\nGlobal styles go in: `[path pattern]`\n```\n\n---\n\n## Discovery Checklist\n\nBefore producing the summary:\n\n- [ ] Found all SCSS/CSS files (excluding node_modules, dist, build)\n- [ ] Extracted SCSS variables ($name)\n- [ ] Extracted CSS custom properties (--name)\n- [ ] Categorized variables by type (colors, spacing, typography, etc.)\n- [ ] Found all mixin definitions (@mixin)\n- [ ] Identified mixin purposes and parameters\n- [ ] Found utility/helper class files\n- [ ] Cataloged utility classes by category\n- [ ] Checked for Tailwind, Bootstrap, or other frameworks\n- [ ] Identified naming convention (BEM, OOCSS, etc.)\n- [ ] Noted file organization pattern\n- [ ] Summary uses consistent formatting\n- [ ] Summary includes example usage for each pattern\n\n---\n\n## Constraints\n\n### DO:\n- Focus on discovery only - do not modify any files\n- Include actual values where helpful (e.g., color hex codes)\n- Group related patterns together\n- Provide usage examples for mixins\n- Note any inconsistencies in existing patterns (but don't try to fix them)\n\n### DO NOT:\n- Create new variables, mixins, or utilities\n- Modify existing files\n- Make recommendations for changes\n- Judge the quality of existing patterns\n- Spend time on files in node_modules, dist, or build directories\n\n---\n\n## Example Output\n\nFor a typical React project with SCSS:\n\n```markdown\n## Use These Patterns\n\n### Design Tokens\n\n**Colors:**\n- `$color-primary` (#2563EB) - Main brand color\n- `$color-primary-dark` (#1D4ED8) - Hover states\n- `$color-gray-100` through `$color-gray-900` - Neutral scale\n- `$color-success` (#22C55E), `$color-error` (#EF4444), `$color-warning` (#F59E0B)\n\n**Spacing:**\n- Scale: `$spacing-1` (4px) through `$spacing-8` (64px)\n- Use `$spacing-4` (16px) as the base unit\n\n**Typography:**\n- Font: `$font-sans` (Inter, system-ui)\n- Sizes: `$text-sm` (14px), `$text-base` (16px), `$text-lg` (18px), `$text-xl` (20px)\n- Weights: `$font-normal` (400), `$font-medium` (500), `$font-bold` (700)\n\n### Available Mixins\n\n| Mixin | Purpose | Usage |\n|-------|---------|-------|\n| `@mixin flex-center` | Center content with flexbox | `@include flex-center;` |\n| `@mixin responsive($bp)` | Media query wrapper | `@include responsive(tablet) { ... }` |\n| `@mixin truncate` | Single-line text truncation | `@include truncate;` |\n| `@mixin visually-hidden` | Accessible hiding | `@include visually-hidden;` |\n\n### Utility Classes\n\n**Layout:** `.flex`, `.flex-center`, `.flex-between`, `.flex-col`, `.grid`, `.hidden`, `.block`\n\n**Spacing:** `.m-0` through `.m-4`, `.p-0` through `.p-4`, `.mx-auto`, `.gap-1` through `.gap-4`\n\n**Text:** `.text-center`, `.text-left`, `.text-right`, `.font-bold`, `.truncate`\n\n### CSS Framework: None (custom utilities)\n\n### Naming Convention: BEM\n\nExample: `.card`, `.card__header`, `.card__body`, `.card--highlighted`\n\n### File Organization\n\n- Component styles: `src/components/[Component]/[Component].scss`\n- Global styles: `src/styles/`\n- Variables: `src/styles/_variables.scss`\n- Mixins: `src/styles/_mixins.scss`\n```\n\n---\n\n## When Discovery Finds Nothing\n\nIf the codebase has minimal or no existing CSS patterns:\n\n```markdown\n## Use These Patterns\n\n### Status: Minimal existing patterns\n\nThis codebase has few established CSS patterns. Consider:\n- Defining color variables before using colors\n- Creating spacing scale variables\n- Establishing a naming convention (BEM recommended)\n\n### Files Found\n- [list any CSS/SCSS files found]\n\n### Framework: [detected or None]\n```\n\nThis allows the user to make informed decisions about establishing new patterns.\n",
        "skills/pm7y-simplify/SKILL.md": "---\nname: pm7y-simplify\ndescription: |\n  Explicitly simplifies code by removing unnecessary abstractions, inlining single-use functions, reducing nesting, and applying YAGNI. Produces cleaner, more maintainable code.\n\n  Use this skill when:\n  - Code feels over-engineered or hard to follow\n  - There are unnecessary abstractions or indirection\n  - Functions are used only once and could be inlined\n  - Nesting is deep and could be flattened\n  - Code has speculative features that aren't needed\nallowed-tools: Read, Edit, Glob, Grep\n---\n\n# Code Simplification Skill\n\nExplicitly simplifies code by removing unnecessary complexity while preserving all existing behavior.\n\n---\n\n## Overview\n\nThis skill identifies and removes unnecessary complexity including:\n\n- **Unnecessary abstractions** - Wrapper functions, unnecessary classes, over-generalized utilities\n- **Single-use functions** - Functions called exactly once that could be inlined\n- **Deep nesting** - Nested conditionals and loops that could be flattened\n- **YAGNI violations** - Speculative features, unused parameters, premature configurability\n- **Indirection** - Unnecessary delegation, pass-through functions, redundant layers\n\n**Output:** Simpler code that does the same thing with less complexity.\n\n**When to use:**\n\n- After implementing a feature that feels over-engineered\n- When inheriting code that's hard to understand\n- Before a code review to catch unnecessary complexity\n- When refactoring legacy code\n- When code has grown organically and accumulated cruft\n\n---\n\n## Simplification Process\n\n### Step 1: Identify the Target Code\n\nIf specific files/functions are provided, focus there. Otherwise:\n\n```\n# Find recently modified files\ngit diff --name-only HEAD~5\n\n# Or find files with high complexity indicators\n# (deep nesting, many small functions, lots of indirection)\n```\n\nRead the target code thoroughly before making changes.\n\n### Step 2: Find Unnecessary Abstractions\n\n**Wrapper functions that add no value:**\n```\nPattern: Functions that just call another function with same/similar args\n```\n\nBefore:\n```typescript\nfunction getUserById(id: string) {\n  return fetchUser(id)\n}\n\nfunction fetchUser(id: string) {\n  return api.get(`/users/${id}`)\n}\n```\n\nAfter:\n```typescript\nfunction getUserById(id: string) {\n  return api.get(`/users/${id}`)\n}\n```\n\n**Over-generalized utilities:**\n\nBefore:\n```typescript\nfunction processItems<T>(items: T[], processor: (item: T) => T): T[] {\n  return items.map(processor)\n}\n\n// Usage (only place it's called)\nconst processed = processItems(users, normalizeUser)\n```\n\nAfter:\n```typescript\nconst processed = users.map(normalizeUser)\n```\n\n### Step 3: Inline Single-Use Functions\n\nSearch for function definitions and their usages:\n\n```\n# Find function definitions\nPattern: (function \\w+|const \\w+ = (\\([^)]*\\)|[^=]+) =>)\n\n# Count usages of each function name\n```\n\n**Candidates for inlining:**\n- Functions called exactly once\n- Functions with 1-3 lines of code\n- Functions that don't improve readability by having a name\n\nBefore:\n```typescript\nfunction formatDisplayName(user: User): string {\n  return `${user.firstName} ${user.lastName}`\n}\n\n// Only usage\nconst displayName = formatDisplayName(currentUser)\n```\n\nAfter:\n```typescript\nconst displayName = `${currentUser.firstName} ${currentUser.lastName}`\n```\n\n**Do NOT inline:**\n- Functions with meaningful names that document intent\n- Functions called in multiple places\n- Functions that encapsulate complex logic\n- Test helpers or mocks\n\n### Step 4: Reduce Nesting\n\n**Early returns instead of nested conditionals:**\n\nBefore:\n```typescript\nfunction processUser(user: User | null) {\n  if (user) {\n    if (user.isActive) {\n      if (user.hasPermission) {\n        return doSomething(user)\n      } else {\n        return null\n      }\n    } else {\n      return null\n    }\n  } else {\n    return null\n  }\n}\n```\n\nAfter:\n```typescript\nfunction processUser(user: User | null) {\n  if (!user) return null\n  if (!user.isActive) return null\n  if (!user.hasPermission) return null\n  return doSomething(user)\n}\n```\n\n**Flatten nested loops where possible:**\n\nBefore:\n```typescript\nconst results = []\nfor (const group of groups) {\n  for (const item of group.items) {\n    if (item.isValid) {\n      results.push(item)\n    }\n  }\n}\n```\n\nAfter:\n```typescript\nconst results = groups.flatMap(g => g.items).filter(item => item.isValid)\n```\n\n### Step 5: Apply YAGNI (You Aren't Gonna Need It)\n\n**Remove unused parameters:**\n\nBefore:\n```typescript\nfunction createUser(name: string, email: string, options?: { sendEmail?: boolean }) {\n  // options is never used\n  return { name, email }\n}\n```\n\nAfter:\n```typescript\nfunction createUser(name: string, email: string) {\n  return { name, email }\n}\n```\n\n**Remove speculative features:**\n\nBefore:\n```typescript\ninterface Config {\n  apiUrl: string\n  timeout?: number        // never set\n  retryCount?: number     // never set\n  customHeaders?: Record<string, string>  // never set\n}\n```\n\nAfter:\n```typescript\ninterface Config {\n  apiUrl: string\n}\n```\n\n**Remove premature configurability:**\n\nBefore:\n```typescript\nfunction fetchData(url: string, method: 'GET' | 'POST' = 'GET') {\n  // Always called with GET, POST never used\n  return fetch(url, { method })\n}\n```\n\nAfter:\n```typescript\nfunction fetchData(url: string) {\n  return fetch(url)\n}\n```\n\n### Step 6: Remove Indirection\n\n**Pass-through functions:**\n\nBefore:\n```typescript\nclass UserService {\n  private repository: UserRepository\n\n  getUser(id: string) {\n    return this.repository.getUser(id)\n  }\n\n  saveUser(user: User) {\n    return this.repository.saveUser(user)\n  }\n}\n```\n\nIf `UserService` adds no logic, consider using `UserRepository` directly.\n\n**Unnecessary delegation:**\n\nBefore:\n```typescript\nconst handleClick = () => {\n  onClick()\n}\n\n<button onClick={handleClick}>\n```\n\nAfter:\n```typescript\n<button onClick={onClick}>\n```\n\n### Step 7: Simplify Type Definitions\n\n**Inline simple types:**\n\nBefore:\n```typescript\ntype UserId = string\ntype UserName = string\n\ninterface User {\n  id: UserId\n  name: UserName\n}\n```\n\nAfter (if aliases add no meaning):\n```typescript\ninterface User {\n  id: string\n  name: string\n}\n```\n\n**Remove redundant interfaces:**\n\nBefore:\n```typescript\ninterface UserResponse {\n  user: User\n}\n\n// Only used once, returned directly\nfunction getUser(): UserResponse {\n  return { user: fetchedUser }\n}\n```\n\nAfter:\n```typescript\nfunction getUser(): { user: User } {\n  return { user: fetchedUser }\n}\n```\n\n---\n\n## Output Format\n\nAfter simplification, report changes:\n\n```markdown\n## Simplification Summary\n\n### Changes Made\n\n1. **Inlined `formatDisplayName`** (line 45)\n   - Called only once, 1-line function\n   - Before: `const name = formatDisplayName(user)`\n   - After: `const name = \\`${user.firstName} ${user.lastName}\\``\n\n2. **Flattened nested conditionals** (lines 78-95)\n   - 4 levels of nesting reduced to sequential early returns\n\n3. **Removed unused `options` parameter** from `createUser` (line 112)\n   - Parameter was never used in function body\n\n4. **Inlined `handleSubmit` wrapper** (line 156)\n   - Just called `onSubmit()` with no additional logic\n\n### Behavior Preserved\n\nAll existing functionality remains unchanged. Tests should pass without modification.\n\n### Files Modified\n\n- `src/components/UserForm.tsx`\n- `src/utils/formatters.ts`\n```\n\n---\n\n## Simplification Checklist\n\nBefore making changes:\n\n- [ ] Read and understand the target code completely\n- [ ] Identified functions called only once\n- [ ] Identified unnecessary wrapper/delegation functions\n- [ ] Found deeply nested code (3+ levels)\n- [ ] Found unused parameters or options\n- [ ] Found speculative features that aren't used\n- [ ] Verified changes preserve behavior\n\nAfter making changes:\n\n- [ ] Each simplification maintains identical behavior\n- [ ] No business logic was accidentally removed\n- [ ] Code is more readable, not just shorter\n- [ ] Changes are documented in summary\n\n---\n\n## Constraints\n\n### DO:\n- Preserve all existing behavior exactly\n- Make one simplification at a time\n- Verify each change before moving to the next\n- Keep meaningful abstractions that aid understanding\n- Inline only when it improves or maintains readability\n\n### DO NOT:\n- Change behavior in any way\n- Remove code that's actually used (check thoroughly)\n- Expand scope beyond simplification\n- Add new features or functionality\n- Refactor unrelated code\n- Remove error handling or validation\n- Remove meaningful type aliases that document intent\n- Inline functions that will be called from multiple places in future (check git history for patterns)\n\n---\n\n## When NOT to Simplify\n\nSome apparent complexity is justified:\n\n**Keep abstractions when:**\n- They provide meaningful names for concepts\n- They're used in multiple places\n- They encapsulate genuinely complex logic\n- They provide extension points that are actually used\n- They improve testability in a meaningful way\n\n**Keep separate functions when:**\n- The name documents important intent\n- The logic might need to change independently\n- They're used in tests as boundaries\n\n**Keep indirection when:**\n- It provides dependency injection for testing\n- It's part of an established pattern in the codebase\n- Removing it would require changes in many places\n\n---\n\n## Example Session\n\nUser: \"Simplify this React component\"\n\nDiscovery phase:\n1. Read the component file\n2. Identify: 3 single-use helper functions, 2 levels of unnecessary nesting, unused `className` prop\n\nSimplification:\n1. Inline `formatDate` (1 line, called once)\n2. Inline `getStatusColor` (simple ternary, called once)\n3. Keep `validateForm` (meaningful name, complex logic)\n4. Flatten nested `if (user) { if (user.isActive) { ... } }`\n5. Remove unused `className` prop from interface and destructuring\n\nResult:\n- 45 lines reduced to 32 lines\n- 2 fewer functions to trace through\n- Behavior unchanged\n- More readable linear flow\n",
        "skills/pm7y-youtube-transcript/SKILL.md": "---\nname: pm7y-youtube-transcript\ndescription: Download YouTube video transcripts and create structured summaries when user provides a YouTube URL or asks to download/get/fetch a transcript from YouTube. Also use when user wants to transcribe or get captions/subtitles from a YouTube video.\nallowed-tools: Bash,Read,Write\n---\n\n# YouTube Transcript Summary Generator\n\nThis skill downloads transcripts from YouTube videos and creates a structured `TRANSCRIPT.md` summary with key points (including time codes) and a detailed description. It does NOT include the full transcript text.\n\n**Cross-platform:** Works on Windows, macOS, and Linux using Python.\n\n## When to Use This Skill\n\nActivate this skill when the user:\n- Provides a YouTube URL and wants the transcript\n- Asks to \"download transcript from YouTube\"\n- Wants to \"get captions\" or \"get subtitles\" from a video\n- Asks to \"transcribe a YouTube video\"\n- Needs text content from a YouTube video\n\n## Output Format\n\nThe skill produces a `TRANSCRIPT.md` file containing:\n1. **Video metadata** - title, URL\n2. **Summary** - brief overview of the video content\n3. **Key Points** - main takeaways with time codes (e.g., `[02:34]`)\n4. **Detailed Description** - expanded explanation of the content\n\n**Note:** The full transcript text is NOT included in the output.\n\n## How It Works\n\n### Priority Order:\n1. **Check if youtube-transcript-api is installed** - install if needed\n2. **Extract video ID** from the YouTube URL\n3. **Fetch transcript with timestamps** using the API\n4. **Get video title** from YouTube\n5. **Save timestamped transcript** to temporary file\n6. **Analyze and summarize** - identify key points and generate summary\n7. **Write TRANSCRIPT.md** - create structured markdown file\n8. **Clean up** temporary files\n\n## Installation Check\n\n**IMPORTANT**: Always check if youtube-transcript-api is installed first:\n\n```bash\npython -c \"import youtube_transcript_api\" 2>/dev/null || python3 -c \"import youtube_transcript_api\" 2>/dev/null\n```\n\n### If Not Installed\n\nInstall the package (works on all platforms):\n\n```bash\npip install youtube-transcript-api\n```\n\nOr with python3:\n```bash\npip3 install youtube-transcript-api\n```\n\n## Extract Video ID\n\nYouTube URLs come in various formats. Extract the video ID:\n\n| URL Format | Video ID |\n|------------|----------|\n| `https://www.youtube.com/watch?v=ABC123` | `ABC123` |\n| `https://youtu.be/ABC123` | `ABC123` |\n| `https://www.youtube.com/embed/ABC123` | `ABC123` |\n\n## Fetch Transcript with Timestamps\n\nUse this Python script to fetch the transcript. It works cross-platform (Windows/macOS/Linux):\n\n```python\nimport sys\nimport json\nimport re\nimport urllib.request\nfrom youtube_transcript_api import YouTubeTranscriptApi\n\ndef get_video_id(url):\n    \"\"\"Extract video ID from various YouTube URL formats.\"\"\"\n    patterns = [\n        r'(?:v=|/v/|youtu\\.be/|/embed/)([a-zA-Z0-9_-]{11})',\n        r'^([a-zA-Z0-9_-]{11})$'  # Just the ID\n    ]\n    for pattern in patterns:\n        match = re.search(pattern, url)\n        if match:\n            return match.group(1)\n    return None\n\ndef get_video_title(video_id):\n    \"\"\"Fetch video title from YouTube page.\"\"\"\n    try:\n        url = f\"https://www.youtube.com/watch?v={video_id}\"\n        req = urllib.request.Request(url, headers={'User-Agent': 'Mozilla/5.0'})\n        with urllib.request.urlopen(req, timeout=10) as response:\n            html = response.read().decode('utf-8')\n            match = re.search(r'<title>([^<]+)</title>', html)\n            if match:\n                title = match.group(1).replace(' - YouTube', '').strip()\n                return title\n    except:\n        pass\n    return f\"YouTube Video {video_id}\"\n\ndef format_timestamp(seconds):\n    \"\"\"Convert seconds to MM:SS or HH:MM:SS format.\"\"\"\n    seconds = int(seconds)\n    if seconds >= 3600:\n        hours = seconds // 3600\n        minutes = (seconds % 3600) // 60\n        secs = seconds % 60\n        return f\"{hours}:{minutes:02d}:{secs:02d}\"\n    else:\n        minutes = seconds // 60\n        secs = seconds % 60\n        return f\"{minutes:02d}:{secs:02d}\"\n\ndef main(url_or_id):\n    video_id = get_video_id(url_or_id)\n    if not video_id:\n        print(f\"Error: Could not extract video ID from: {url_or_id}\", file=sys.stderr)\n        sys.exit(1)\n\n    # Get video title\n    title = get_video_title(video_id)\n    print(f\"TITLE: {title}\")\n    print(f\"URL: https://www.youtube.com/watch?v={video_id}\")\n    print(\"---TRANSCRIPT---\")\n\n    # Fetch transcript (API v1.2+ requires instance)\n    api = YouTubeTranscriptApi()\n    try:\n        transcript = api.fetch(video_id)\n    except Exception as e:\n        # Try with auto-generated\n        try:\n            transcript_list = api.list(video_id)\n            transcript = transcript_list.find_generated_transcript(['en']).fetch()\n        except Exception as e2:\n            print(f\"Error: Could not fetch transcript: {e2}\", file=sys.stderr)\n            sys.exit(1)\n\n    # Output timestamped transcript (entries are objects with .start/.text attributes)\n    for entry in transcript:\n        timestamp = format_timestamp(entry.start)\n        text = entry.text.replace('\\n', ' ').strip()\n        print(f\"[{timestamp}] {text}\")\n\nif __name__ == \"__main__\":\n    if len(sys.argv) < 2:\n        print(\"Usage: python script.py <youtube_url_or_id>\", file=sys.stderr)\n        sys.exit(1)\n    main(sys.argv[1])\n```\n\n## Complete Workflow\n\n### Step 1: Check/Install youtube-transcript-api\n\n**On macOS/Linux:**\n```bash\npython3 -c \"import youtube_transcript_api\" 2>/dev/null || pip3 install youtube-transcript-api\n```\n\n**On Windows (PowerShell):**\n```powershell\npython -c \"import youtube_transcript_api\" 2>$null; if ($LASTEXITCODE -ne 0) { pip install youtube-transcript-api }\n```\n\n### Step 2: Fetch Transcript\n\nSave the Python script above to a temporary file and run it:\n\n**Cross-platform approach** - Write and execute inline Python:\n\n```bash\npython3 << 'PYEOF' > transcript_with_timestamps.txt\nimport sys\nimport re\nimport urllib.request\nfrom youtube_transcript_api import YouTubeTranscriptApi\n\nVIDEO_URL = \"REPLACE_WITH_URL\"\n\ndef get_video_id(url):\n    patterns = [r'(?:v=|/v/|youtu\\.be/|/embed/)([a-zA-Z0-9_-]{11})', r'^([a-zA-Z0-9_-]{11})$']\n    for pattern in patterns:\n        match = re.search(pattern, url)\n        if match:\n            return match.group(1)\n    return None\n\ndef get_video_title(video_id):\n    try:\n        url = f\"https://www.youtube.com/watch?v={video_id}\"\n        req = urllib.request.Request(url, headers={'User-Agent': 'Mozilla/5.0'})\n        with urllib.request.urlopen(req, timeout=10) as response:\n            html = response.read().decode('utf-8')\n            match = re.search(r'<title>([^<]+)</title>', html)\n            if match:\n                return match.group(1).replace(' - YouTube', '').strip()\n    except:\n        pass\n    return f\"YouTube Video {video_id}\"\n\ndef format_timestamp(seconds):\n    seconds = int(seconds)\n    if seconds >= 3600:\n        return f\"{seconds // 3600}:{(seconds % 3600) // 60:02d}:{seconds % 60:02d}\"\n    return f\"{seconds // 60:02d}:{seconds % 60:02d}\"\n\nvideo_id = get_video_id(VIDEO_URL)\ntitle = get_video_title(video_id)\nprint(f\"TITLE: {title}\")\nprint(f\"URL: https://www.youtube.com/watch?v={video_id}\")\nprint(\"---TRANSCRIPT---\")\n\n# API v1.2+ requires instance\napi = YouTubeTranscriptApi()\ntry:\n    transcript = api.fetch(video_id)\nexcept:\n    transcript_list = api.list(video_id)\n    transcript = transcript_list.find_generated_transcript(['en']).fetch()\n\n# Entries are objects with .start/.text attributes\nfor entry in transcript:\n    ts = format_timestamp(entry.start)\n    text = entry.text.replace('\\n', ' ').strip()\n    print(f\"[{ts}] {text}\")\nPYEOF\n```\n\n**On Windows (PowerShell)** - Use a temporary .py file:\n\n```powershell\n$script = @'\nimport sys, re, urllib.request\nfrom youtube_transcript_api import YouTubeTranscriptApi\n\nVIDEO_URL = \"REPLACE_WITH_URL\"\n\n# ... (same Python code as above)\n'@\n$script | Out-File -Encoding utf8 temp_transcript.py\npython temp_transcript.py > transcript_with_timestamps.txt\nRemove-Item temp_transcript.py\n```\n\n### Step 3: Analyze and Create TRANSCRIPT.md\n\nAfter running the above, you MUST:\n\n1. **Read** the `transcript_with_timestamps.txt` file\n2. **Extract** the TITLE and URL from the first lines\n3. **Analyze** the transcript content to identify:\n   - Main topics covered\n   - Key points with their time codes\n   - Overall theme and purpose\n4. **Write** a `TRANSCRIPT.md` file with this structure:\n\n```markdown\n# [Video Title]\n\n**Source:** [YouTube URL]\n\n## Summary\n\n[2-3 paragraph overview of what the video covers]\n\n## Key Points\n\n- **[Key Point 1]** `[MM:SS]` - Brief description of this point\n- **[Key Point 2]** `[MM:SS]` - Brief description of this point\n- **[Key Point 3]** `[MM:SS]` - Brief description of this point\n[... more key points as appropriate]\n\n## Detailed Description\n\n[Expanded explanation of the video content, organized by topic or chronologically. Reference time codes where helpful for specific topics, e.g., \"The speaker discusses X starting at `[05:23]`...\"]\n```\n\n### Step 4: Clean Up\n\nDelete temporary files:\n\n**macOS/Linux:**\n```bash\nrm transcript_with_timestamps.txt\n```\n\n**Windows (PowerShell):**\n```powershell\nRemove-Item transcript_with_timestamps.txt\n```\n\n## Important Guidelines for TRANSCRIPT.md\n\n- Identify 5-15 key points depending on video length\n- Each key point MUST include a time code in `[MM:SS]` format\n- Time codes should link to significant moments (topic changes, important statements, demonstrations)\n- The detailed description should synthesize the content, not just repeat the key points\n- Do NOT include the raw transcript text\n\n## Error Handling\n\n### Common Issues and Solutions:\n\n**1. youtube-transcript-api not installed**\n- Run: `pip install youtube-transcript-api` or `pip3 install youtube-transcript-api`\n- If pip not found, ensure Python is installed and in PATH\n\n**2. No transcript available**\n- Some videos have captions disabled\n- Try listing available transcripts: `YouTubeTranscriptApi.list_transcripts(video_id)`\n- May need to try different language codes\n\n**3. Video is private or age-restricted**\n- The API cannot access private videos\n- Age-restricted videos may require authentication\n\n**4. Invalid URL format**\n- Ensure URL is a valid YouTube URL\n- Supported formats: `youtube.com/watch?v=ID`, `youtu.be/ID`, `youtube.com/embed/ID`\n\n**5. Python not found**\n- On Windows, ensure Python is installed and added to PATH\n- Try both `python` and `python3` commands\n"
      },
      "plugins": [
        {
          "name": "pm7y-claude-code",
          "source": "./",
          "description": "Personal Claude Code setup with commands, skills, agents, and MCP servers",
          "version": "1.8.2",
          "author": {
            "name": "pm7y",
            "email": "3075792+pm7y@users.noreply.github.com"
          },
          "repository": "https://github.com/pm7y/pm7y-marketplace",
          "keywords": [
            "dotnet",
            "mermaid",
            "productivity",
            "development"
          ],
          "categories": [
            "development",
            "dotnet",
            "mermaid",
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add pm7y/pm7y-marketplace",
            "/plugin install pm7y-claude-code@pm7y-marketplace"
          ]
        }
      ]
    }
  ]
}