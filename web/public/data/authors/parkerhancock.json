{
  "author": {
    "id": "parkerhancock",
    "display_name": "Parker Hancock",
    "avatar_url": "https://avatars.githubusercontent.com/u/633163?u=2aa2877d299949c60f8bb530d3fca4c9075ea367&v=4"
  },
  "marketplaces": [
    {
      "name": "wahoolib-marketplace",
      "version": null,
      "description": "Python client library and Claude Code skill for the Wahoo Fitness Cloud API",
      "repo_full_name": "parkerhancock/wahoolib",
      "repo_url": "https://github.com/parkerhancock/wahoolib",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-06T22:47:44Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"wahoolib-marketplace\",\n  \"owner\": {\n    \"name\": \"Parker Hancock\",\n    \"url\": \"https://github.com/parkerhancock/wahoolib\"\n  },\n  \"metadata\": {\n    \"description\": \"Python client library and Claude Code skill for the Wahoo Fitness Cloud API\",\n    \"version\": \"0.1.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"wahoolib\",\n      \"source\": \"./\",\n      \"description\": \"Wahoo Fitness Cloud API client with OAuth2 authentication, typed models, and CLI. Includes skill for API guidance.\",\n      \"skills\": [\n        \"./skills/wahoo-api\"\n      ],\n      \"keywords\": [\"wahoo\", \"fitness\", \"api\", \"oauth\", \"cycling\", \"workout\"]\n    }\n  ]\n}\n",
        "README.md": "# wahoolib\n\n`wahoolib` is a typed Python client and Typer-based CLI for the Wahoo Fitness Cloud API. It streamlines OAuth 2.0 login, token refresh, and the full suite of REST endpoints (users, plans, routes, power zones, workouts, summaries, uploads, and deauthorization).\n\nThis package is also a **Claude Code plugin** that provides AI-assisted guidance for Wahoo API integration.\n\n## Features\n\n- OAuth helpers to build authorization URLs, exchange codes, refresh tokens, and plug in PKCE.\n- Auto-refreshing API client with typed Pydantic v2 models for every major resource.\n- Helpers for encoding and uploading plan JSON, route FIT files, and workout result FIT files.\n- Batteries-included CLI mirroring the library functionality for quick experimentation.\n\n## Installation\n\n```bash\n# PyPI\npip install wahoolib\n\n# Or with uv\nuv pip install wahoolib\n```\n\nThe CLI installs automatically and exposes the `wahoolib` entry point; you can also run it without a global install via `uv run wahoolib ...` or `pipx run wahoolib ...`.\n\n## Usage (Library)\n\n```python\nfrom wahoolib import (\n    EncodedFile,\n    PlanCreateRequest,\n    TokenSet,\n    WahooAPIClient,\n    WahooOAuthClient,\n)\n\noauth = WahooOAuthClient(\n    client_id=\"your-client-id\",\n    client_secret=\"your-client-secret\",\n    redirect_uri=\"https://your-app.example.com/oauth/callback\",\n)\n\nprint(\"Visit:\", oauth.authorization_url([\"user_read\", \"workouts_read\"], state=\"opaque\"))\n# After redirect, exchange the code\ntokens = oauth.exchange_code(\"returned-code\")\n\nwith WahooAPIClient(tokens, oauth_client=oauth) as client:\n    me = client.get_user()\n    plan = client.create_plan(\n        PlanCreateRequest(\n            file=EncodedFile.from_path(\"structured-workout.json\", media_type=\"application/json\"),\n            external_id=\"plan_42\",\n            provider_updated_at=me.updated_at or me.created_at,\n        )\n    )\n    print(\"Uploaded plan\", plan.id)\n```\n\n## CLI Quickstart\n\nThe CLI mirrors the library’s capabilities and is ideal for quick experimentation or scripting:\n\n```bash\n# Generate an authorization URL\nuv run wahoolib auth url --client-id YOUR_ID --redirect-uri https://example.com/callback --scope user_read --scope workouts_read\n\n# Exchange the returned code and write the token payload to disk\nuv run wahoolib auth exchange --client-id YOUR_ID --redirect-uri https://example.com/callback --code AUTH_CODE --output token.json\n\n# Fetch the current user profile with a stored token set\nuv run wahoolib user get --token-file token.json\n\n# List workouts with pagination parameters\nuv run wahoolib workouts list --token-file token.json --page 1 --per-page 10\n```\n\nAll commands also accept `--access-token` / `--refresh-token` pairs if you prefer supplying tokens inline. Add `--auto-refresh`, `--client-id`, and `--redirect-uri` when you want the CLI to refresh access tokens automatically.\n\n### Subcommands at a glance\n\n- `auth`: OAuth helper utilities (`url`, `exchange`, `refresh`).\n- `user`: Fetch and update profile information.\n- `plans`: Upload, list, update, and delete structured workout plans.\n- `routes`: Manage route FIT files pushed to the Wahoo cloud.\n- `power-zones`: Create, update, list, and delete power zone configurations from JSON payloads.\n- `workouts`: List workouts, fetch details, create/update/delete entries, upsert summaries, and upload FIT activity files.\n- `deauthorize`: Revoke your application token set in the Wahoo cloud.\n\n### Environment Variables\n\nThe CLI automatically reads these variables when present:\n\n- `WAHOO_CLIENT_ID` – defaults `--client-id`\n- `WAHOO_CLIENT_SECRET` – defaults `--client-secret`\n- `WAHOO_REDIRECT_URI` – defaults `--redirect-uri`\n\nExport them once and omit the corresponding options on every command.\n\n## Tests\n\n```bash\nuv run pytest\n```\n\nThe test suite uses `pytest-httpx` to stub HTTP calls, so no live API access is required.\n\n## Development\n\n```bash\nuv pip install -e .[dev]\nuv run ruff check .\nuv run mypy src/wahoolib\nuv run pytest --cov=src/wahoolib --cov-report=term-missing\n```\n\n## Claude Code Plugin\n\nThis repository doubles as a [Claude Code](https://claude.com/claude-code) plugin. When installed, it provides the `wahoo-api` skill that guides Claude through Wahoo API integration tasks.\n\n### Install the Plugin\n\n```bash\n# In Claude Code\n/plugin install parkerhancock/wahoolib\n```\n\n### What the Skill Provides\n\n- OAuth 2.0 flow guidance (authorization URLs, token exchange, refresh)\n- Endpoint documentation for users, plans, workouts, routes, power zones\n- Rate limit awareness (sandbox vs production)\n- Troubleshooting for common errors (401, 403, 404, 429)\n- CLI command examples using the bundled `wahoolib` library\n\n### Plugin Structure\n\n```\nwahoolib/\n├── .claude-plugin/\n│   └── marketplace.json    # Plugin manifest\n├── skills/\n│   └── wahoo-api/\n│       ├── SKILL.md        # Main skill documentation\n│       └── references/\n│           └── api_reference.md\n└── src/wahoolib/           # Python library\n```\n\n## License\n\nMIT License © 2025 Parker Hancock\n"
      },
      "plugins": [
        {
          "name": "wahoolib",
          "source": "./",
          "description": "Wahoo Fitness Cloud API client with OAuth2 authentication, typed models, and CLI. Includes skill for API guidance.",
          "skills": [
            "./skills/wahoo-api"
          ],
          "keywords": [
            "wahoo",
            "fitness",
            "api",
            "oauth",
            "cycling",
            "workout"
          ],
          "categories": [
            "api",
            "cycling",
            "fitness",
            "oauth",
            "wahoo",
            "workout"
          ],
          "install_commands": [
            "/plugin marketplace add parkerhancock/wahoolib",
            "/plugin install wahoolib@wahoolib-marketplace"
          ]
        }
      ]
    }
  ]
}