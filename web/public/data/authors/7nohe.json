{
  "author": {
    "id": "7nohe",
    "display_name": "Urata Daiki",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/9207663?u=7ed26d8fc9c3c1eb2834544e66999ea9d1f19265&v=4",
    "url": "https://github.com/7nohe",
    "bio": "Enthusiast of AdonisJS and Expo (React Native), passionate about building scalable and efficient web and mobile applications.\r\n",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 2,
      "total_skills": 6,
      "total_stars": 2,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "figram-skills",
      "version": null,
      "description": "Claude Code skills for Figram - YAML-driven architecture diagrams for FigJam",
      "owner_info": {
        "name": "7nohe",
        "url": "https://github.com/7nohe"
      },
      "keywords": [],
      "repo_full_name": "7nohe/figram",
      "repo_url": "https://github.com/7nohe/figram",
      "repo_description": "YAML-driven architecture diagrams for FigJam.",
      "homepage": "https://figram.7nohe.dev",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-01-17T09:07:05Z",
        "created_at": "2026-01-02T06:12:27Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 346
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 389
        },
        {
          "path": ".claude-plugin/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/skills/figram-diagrams",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/skills/figram-diagrams/SKILL.md",
          "type": "blob",
          "size": 4866
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/agents/aws-icon-finder.md",
          "type": "blob",
          "size": 2154
        },
        {
          "path": ".claude/agents/doc-sync.md",
          "type": "blob",
          "size": 4135
        },
        {
          "path": ".claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands/changelog.md",
          "type": "blob",
          "size": 1771
        },
        {
          "path": ".claude/commands/ci.md",
          "type": "blob",
          "size": 1000
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/core-development",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/core-development/SKILL.md",
          "type": "blob",
          "size": 3952
        },
        {
          "path": ".claude/skills/debug-connection",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/debug-connection/SKILL.md",
          "type": "blob",
          "size": 2791
        },
        {
          "path": ".claude/skills/figjam-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/figjam-plugin/SKILL.md",
          "type": "blob",
          "size": 1315
        },
        {
          "path": ".claude/skills/figram-diagrams",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/figram-diagrams/SKILL.md",
          "type": "blob",
          "size": 4866
        },
        {
          "path": ".claude/skills/vscode-extension",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/vscode-extension/SKILL.md",
          "type": "blob",
          "size": 2284
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 6885
        },
        {
          "path": "examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/custom-icons",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/custom-icons/README.md",
          "type": "blob",
          "size": 2150
        },
        {
          "path": "packages",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/cli",
          "type": "tree",
          "size": null
        },
        {
          "path": "packages/cli/README.md",
          "type": "blob",
          "size": 836
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"figram-skills\",\n  \"owner\": {\n    \"name\": \"7nohe\",\n    \"url\": \"https://github.com/7nohe\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"figram\",\n      \"description\": \"Claude Code skills for Figram - YAML-driven architecture diagrams for FigJam\",\n      \"source\": \"./\",\n      \"skills\": [\"./.claude-plugin/skills/figram-diagrams\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"figram\",\n  \"version\": \"1.1.0\",\n  \"description\": \"Claude Code skills for Figram - YAML-driven architecture diagrams for FigJam\",\n  \"author\": {\n    \"name\": \"7nohe\"\n  },\n  \"license\": \"MIT\",\n  \"homepage\": \"https://figram.7nohe.dev\",\n  \"repository\": \"https://github.com/7nohe/figram\",\n  \"keywords\": [\"figram\", \"figjam\", \"architecture\", \"diagrams\", \"yaml\", \"aws\", \"gcp\", \"azure\"]\n}\n",
        ".claude-plugin/skills/figram-diagrams/SKILL.md": "---\nname: figram-diagrams\ndescription: Create and validate YAML diagram files for Figram (AWS/GCP/Azure architecture diagrams). Use when users want to create new architecture diagrams, add/modify nodes or edges, troubleshoot YAML validation errors, convert text descriptions to Figram YAML, or work with cloud infrastructure visualizations.\n---\n\n# Figram Diagram Authoring\n\n## Structure\n\n```yaml\nversion: 1\ndocId: \"unique-id\"      # WebSocket matching\ntitle: \"Diagram Title\"  # Optional\n\nnodes:\n  - id: node-id         # Unique, descriptive (e.g., user-api)\n    provider: aws       # aws | gcp | azure\n    kind: compute.ec2   # See Icons Reference\n    label: \"Display\"    # Optional, defaults to id\n    layout: {x, y}      # Required for top-level nodes\n    parent: vpc-id      # Optional, for nesting\n\nedges:\n  - id: edge-id\n    from: node-a\n    to: node-b\n    label: \"description\"  # Optional\n    color: \"#3498DB\"      # Optional, default: #666666\n```\n\n## Layout Rules\n\n| Node Type | Layout |\n|-----------|--------|\n| Top-level | `{x, y}` required |\n| Container (VPC, Subnet) | `{x, y, w, h}` required |\n| Child (has parent) | Optional (auto-positioned in 3-column grid) |\n\n## Edge Colors (Convention)\n\n| Color | HEX | Use |\n|-------|-----|-----|\n| Blue | `#3498DB` | HTTP/HTTPS |\n| Green | `#27AE60` | Database |\n| Orange | `#E67E22` | Cache |\n| Purple | `#9B59B6` | Container |\n| Gray | `#666666` | Default |\n\n## Icons Reference\n\nFull lists: [AWS](https://figram.7nohe.dev/en/icons-aws/) | [GCP](https://figram.7nohe.dev/en/icons-gcp/) | [Azure](https://figram.7nohe.dev/en/icons-azure/)\n\n### Common Kinds\n\n**AWS:**\n- Compute: `compute.ec2`, `compute.lambda`, `compute.lb.alb`, `compute.container.ecs`\n- Database: `database.rds`, `database.dynamodb`, `database.aurora`\n- Storage: `storage.s3`, `storage.efs`\n- Network: `network.vpc`, `network.subnet`, `network.apigateway`, `network.cloudfront`\n- Integration: `integration.sqs`, `integration.sns`, `integration.eventbridge`\n\n**GCP:**\n- Compute: `compute.gce`, `compute.functions`, `compute.cloudrun`, `compute.container.gke`\n- Database: `database.cloudsql`, `database.firestore`, `database.spanner`\n- Storage: `storage.gcs`\n- Network: `network.vpc`, `network.cdn`, `network.apigateway`\n- Integration: `integration.pubsub`, `integration.tasks`\n\n**Azure:**\n- Compute: `compute.vm`, `compute.functions`, `compute.appservice`, `compute.container.aks`\n- Database: `database.sql`, `database.cosmosdb`, `database.redis`\n- Storage: `storage.blob`, `storage.storage`\n- Network: `network.vnet`, `network.frontdoor`, `network.apim`\n- Integration: `integration.servicebus`, `integration.eventhubs`\n\n## Examples\n\n### Serverless API (AWS)\n\n```yaml\nversion: 1\ndocId: serverless-api\ntitle: \"Serverless REST API\"\n\nnodes:\n  - id: apigw\n    provider: aws\n    kind: network.apigateway\n    label: \"REST API\"\n    layout: { x: 100, y: 150 }\n\n  - id: lambda\n    provider: aws\n    kind: compute.lambda\n    label: \"Handler\"\n    layout: { x: 300, y: 150 }\n\n  - id: dynamodb\n    provider: aws\n    kind: database.dynamodb\n    label: \"Users Table\"\n    layout: { x: 500, y: 150 }\n\nedges:\n  - id: api-to-lambda\n    from: apigw\n    to: lambda\n    label: \"invoke\"\n    color: \"#3498DB\"\n\n  - id: lambda-to-db\n    from: lambda\n    to: dynamodb\n    label: \"read/write\"\n    color: \"#27AE60\"\n```\n\n### VPC with Auto-Layout\n\n```yaml\nversion: 1\ndocId: vpc-architecture\ntitle: \"VPC Architecture\"\n\nnodes:\n  - id: vpc\n    provider: aws\n    kind: network.vpc\n    label: \"Production VPC\"\n    layout: { x: 0, y: 0, w: 600, h: 400 }\n\n  - id: alb\n    provider: aws\n    kind: compute.lb.alb\n    parent: vpc\n    # Auto-positioned: (60, 60)\n\n  - id: ecs\n    provider: aws\n    kind: compute.container.ecs_service\n    parent: vpc\n    # Auto-positioned: (220, 60)\n\n  - id: rds\n    provider: aws\n    kind: database.rds\n    parent: vpc\n    # Auto-positioned: (380, 60)\n\nedges:\n  - id: alb-to-ecs\n    from: alb\n    to: ecs\n  - id: ecs-to-rds\n    from: ecs\n    to: rds\n```\n\n## Validation Errors\n\n| Error | Fix |\n|-------|-----|\n| Missing required field \"version\" | Add `version: 1` |\n| Missing required field \"docId\" | Add unique `docId` |\n| Duplicate node id | Use unique IDs |\n| layout is required for top-level nodes | Add `layout: {x, y}` |\n| references unknown parent | Fix parent ID |\n| Edge references unknown node | Fix `from`/`to` IDs |\n| Cycle detected in parent hierarchy | Break the cycle |\n\n## Custom Icons\n\n```yaml\n# In diagram.yaml or figram-icons.yaml\nicons:\n  aws:\n    \"compute\": \"./icons/compute-generic.png\"  # Fallback\n    \"compute.ec2\": \"./icons/ec2.png\"          # Specific\n```\n\nSupported: PNG, JPG, JPEG, GIF, WebP (no SVG)\n\n## Commands\n\n```bash\nnpx figram init              # Create template\nnpx figram build diagram.yaml # Validate and build\nnpx figram serve diagram.yaml # Start live server\nnpx figram serve diagram.yaml -p 8080 # Custom port\n```\n",
        ".claude/agents/aws-icon-finder.md": "---\nname: aws-icon-finder\ndescription: Search for AWS service icons and prepare them for addition to the plugin.\n---\n\n# AWS Icon Finder\n\nFind and prepare AWS Architecture Icons for the Figram plugin.\n\n## Task\n\n1. Identify the AWS service from user input\n2. Find the official icon\n3. Provide download/integration instructions\n\n## AWS Architecture Icons\n\nOfficial source: https://aws.amazon.com/architecture/icons/\n\n### Icon Categories\n\n| Category | Services |\n|----------|----------|\n| Compute | Lambda, EC2, ECS, EKS, Fargate, Batch |\n| Storage | S3, EBS, EFS, FSx, Storage Gateway |\n| Database | DynamoDB, RDS, Aurora, ElastiCache, Neptune, Redshift |\n| Networking | VPC, CloudFront, Route 53, API Gateway, ELB, Direct Connect |\n| Integration | SNS, SQS, EventBridge, Step Functions, AppSync |\n| Security | IAM, Cognito, KMS, WAF, Shield, Secrets Manager |\n| Analytics | Kinesis, Athena, EMR, Glue, QuickSight |\n| ML | SageMaker, Rekognition, Comprehend, Lex |\n\n## Icon Specifications\n\n- Format: SVG preferred (scalable)\n- Size: 48x48 or 64x64 recommended\n- Style: Use \"Resource\" icons (colored) not \"Service\" icons\n\n## Output Format\n\n```\n## AWS Icon: <Service Name>\n\n### Service Info\n- Full name: <AWS Full Service Name>\n- Category: <Category>\n- Common use: <Brief description>\n\n### Icon Details\n- Recommended icon: Resource icon (48x48)\n- Download URL: <if available>\n- Asset pack: AWS Architecture Icons (download from AWS)\n\n### Integration Steps\n\n1. Save SVG to: `packages/plugin/src/icons/<service>.svg`\n\n2. Add export to `packages/plugin/src/icons/index.ts`:\n   ```typescript\n   export { default as <serviceName> } from \"./<service>.svg\";\n   ```\n\n3. Add node type to `packages/core/src/types.ts`:\n   ```typescript\n   export type NodeType = ... | \"<serviceName>\";\n   ```\n\n4. Update renderer in `packages/plugin/src/code.ts`\n\n5. Rebuild: `cd packages/plugin && bun run build`\n\n### Naming Convention\n- File: `<service-name>.svg` (kebab-case)\n- Export: `<serviceName>` (camelCase)\n- Type: `\"<serviceName>\"` (camelCase string)\n```\n\n## Usage\n\nProvide an AWS service name (e.g., \"Lambda\", \"DynamoDB\", \"API Gateway\") to get icon integration instructions.\n",
        ".claude/agents/doc-sync.md": "---\nname: doc-sync\ndescription: Synchronize documentation when source code or specs change. Updates .claude/, docs/, and CLAUDE.md to match current implementation.\n---\n\n# Documentation Sync Agent\n\nAutomatically update documentation to reflect code/spec changes.\n\n## Task\n\nWhen triggered, analyze what changed and update all relevant documentation.\n\n## Source → Documentation Mapping\n\n### Core Types & Schema (`packages/core/src/types.ts`)\n\nUpdates needed:\n- `docs/en/yaml-specs.md` - YAML schema documentation\n- `docs/ja/yaml-specs.md` - Japanese translation\n- `docs/en/api-reference.md` - Type definitions\n- `docs/ja/api-reference.md` - Japanese translation\n- `.claude/skills/figram-diagrams/SKILL.md` - Node types table\n- `.claude/skills/core-development/SKILL.md` - Type hierarchy\n\n### Validation Logic (`packages/core/src/validate.ts`)\n\nUpdates needed:\n- `docs/en/yaml-specs.md` - Validation rules section\n- `docs/ja/yaml-specs.md` - Japanese translation\n- `.claude/skills/figram-diagrams/SKILL.md` - Common errors section\n\n### CLI Commands (`packages/cli/src/commands/*.ts`)\n\nUpdates needed:\n- `CLAUDE.md` - Commands section\n- `docs/en/installation.md` - CLI usage\n- `docs/ja/installation.md` - Japanese translation\n\n### Plugin Code (`packages/plugin/src/*.ts`)\n\nUpdates needed:\n- `.claude/skills/figjam-plugin/SKILL.md` - Architecture, key files\n- `CLAUDE.md` - Plugin constraints section\n\n### WebSocket Protocol\n\nUpdates needed:\n- `.claude/skills/debug-connection/SKILL.md` - Protocol section\n- `docs/en/architecture.md` - Communication flow\n- `docs/ja/architecture.md` - Japanese translation\n\n## Sync Process\n\n### 1. Identify Changes\n\nDetermine what source files changed:\n```\npackages/core/src/types.ts      → Schema/types changed\npackages/core/src/validate.ts   → Validation rules changed\npackages/cli/src/commands/*.ts  → CLI commands changed\npackages/plugin/src/*.ts        → Plugin code changed\n```\n\n### 2. Read Current Documentation\n\nRead the relevant documentation files that need updating.\n\n### 3. Compare and Update\n\nFor each affected document:\n1. Identify sections that reference the changed code\n2. Update with new information\n3. Preserve formatting and structure\n4. Keep both EN and JA versions in sync\n\n### 4. Verify Consistency\n\nCheck that:\n- All node types in code appear in docs\n- All CLI commands in code appear in docs\n- All validation rules in code appear in docs\n- EN and JA docs have matching structure\n\n## Documentation Files\n\n```\ndocs/\n├── en/\n│   ├── api-reference.md    # Type definitions, function signatures\n│   ├── architecture.md     # System architecture, data flow\n│   ├── installation.md     # Setup, CLI usage\n│   └── yaml-specs.md       # YAML DSL specification\n└── ja/\n    ├── api-reference.md\n    ├── architecture.md\n    ├── installation.md\n    └── yaml-specs.md\n\n.claude/\n├── skills/\n│   ├── core-development/   # Core package patterns\n│   ├── debug-connection/   # WebSocket debugging\n│   ├── figjam-plugin/      # Plugin development\n│   └── figram-diagrams/    # YAML writing guide\n├── commands/\n│   ├── ci.md\n│   └── new-node-type.md\n└── agents/\n    └── (agent definitions)\n\nCLAUDE.md                    # Main Claude Code instructions\n```\n\n## Output Format\n\n```\n## Documentation Sync Report\n\n### Changes Detected\n- `packages/core/src/types.ts`: Added NodeType \"kinesis\"\n\n### Documents Updated\n\n1. `docs/en/yaml-specs.md`\n   - Added \"kinesis\" to Supported Kinds table\n\n2. `docs/ja/yaml-specs.md`\n   - Added \"kinesis\" to Supported Kinds table (Japanese)\n\n3. `.claude/skills/figram-diagram/SKILL.md`\n   - Added \"kinesis\" to Node Types table\n\n### Verification\n- [ ] All node types documented\n- [ ] EN/JA docs in sync\n- [ ] Skills updated\n```\n\n## Trigger Conditions\n\nThis agent should be invoked when:\n1. `NodeType` union in types.ts is modified\n2. Validation rules in validate.ts are added/changed\n3. CLI commands are added/modified\n4. Plugin architecture changes\n5. WebSocket protocol changes\n6. User explicitly requests documentation sync\n",
        ".claude/commands/changelog.md": "---\nallowed-tools: Bash(git log:*), Bash(git tag:*), Bash(git describe:*), Read, Edit\ndescription: Update CHANGELOG.md with changes since the last release\nargument-hint: [version]\n---\n\nUpdate the CHANGELOG.md file with changes since the last release.\n\n## Instructions\n\n$ARGUMENTS\n\n### If a version argument is provided (e.g., `1.0.3`):\n1. Get commits since the last tag: `git log $(git describe --tags --abbrev=0)..HEAD --oneline`\n2. Analyze commits and categorize them into:\n   - **Added**: New features (`feat:`)\n   - **Changed**: Changes to existing functionality\n   - **Fixed**: Bug fixes (`fix:`)\n   - **Removed**: Removed features\n   - **Deprecated**: Soon-to-be removed features\n   - **Security**: Security fixes\n3. Read the current CHANGELOG.md\n4. Insert a new version section after the `## [Unreleased]` line (or at the top if no Unreleased section)\n5. Use today's date in YYYY-MM-DD format\n6. Update the version comparison links at the bottom\n\n### If no version argument is provided:\n1. Get commits since the last tag\n2. Show a preview of what would be added\n3. Ask the user what version number to use\n\n## Commit Message Conventions\n\n- `feat:` or `feat(scope):` → Added\n- `fix:` or `fix(scope):` → Fixed\n- `chore:` → Usually skip (unless significant)\n- `docs:` → Added (Documentation)\n- `refactor:` → Changed\n- `perf:` → Changed (Performance)\n- `test:` → Usually skip\n- `build:` → Usually skip\n\n## Example Output\n\n```markdown\n## [1.0.3] - 2025-01-05\n\n### Added\n\n- New feature description\n\n### Fixed\n\n- Bug fix description\n```\n\n## Notes\n\n- Skip `chore: bump version` commits\n- Group related changes together\n- Write clear, user-facing descriptions (not just commit messages)\n- Ensure GitHub comparison links are updated at the bottom of the file\n",
        ".claude/commands/ci.md": "---\nallowed-tools: Bash(bun run build), Bash(bun run check), Bash(bun run check:fix), Bash(bun run typecheck), Bash(bun test)\ndescription: Run all CI checks locally (build, lint, typecheck, test)\nargument-hint: [--fix]\n---\n\nRun the full CI pipeline locally to catch issues before pushing.\n\n## CI Steps (matching .github/workflows/ci.yml)\n\n1. Build: `bun run build`\n2. Lint: `bun run check`\n3. Type check: `bun run typecheck`\n4. Test: `bun test`\n\n## Instructions\n\n$ARGUMENTS\n\nIf the argument is `--fix`:\n1. Run `bun run check:fix` to auto-fix lint/format issues\n2. Run `bun run build`\n3. Run `bun run check`\n4. Run `bun run typecheck`\n5. Run `bun test`\n\nOtherwise (no arguments):\n1. Run `bun run build`\n2. Run `bun run check`\n3. Run `bun run typecheck`\n4. Run `bun test`\n\nRun all steps sequentially. If any step fails, continue with remaining steps to show all issues.\n\nAfter completion, provide a summary:\n- List passed checks\n- List failed checks with error details\n- Suggest fixes for any failures\n",
        ".claude/skills/core-development/SKILL.md": "---\nname: core-development\ndescription: Work on the core package (types, validation, normalization, diff). Use when modifying DSL processing logic, adding new node/edge properties, changing validation rules, or updating the diff algorithm.\n---\n\n# Core Package Development\n\nThe core package (`packages/core/`) is dependency-free and handles all DSL processing.\n\n## Data Flow\n\n```\nDSL (YAML input) → validate() → normalize() → IR → diff() → Patch\n```\n\n## Key Files\n\n| File | Purpose | Exports |\n|------|---------|---------|\n| `types.ts` | Type definitions | DSL*, IR*, Patch, WebSocket protocol |\n| `validate.ts` | YAML validation | `validate(dsl): ValidationResult` |\n| `normalize.ts` | DSL → IR conversion | `normalize(dsl): IRDocument` |\n| `diff.ts` | IR diff calculation | `diff(prev, next): Patch` |\n\n## Type Hierarchy\n\n```\nDSL Types (user input)      IR Types (normalized)\n─────────────────────       ────────────────────\nDSLDocument                 IRDocument\n  ├─ version: number          ├─ version: number\n  ├─ docId: string            ├─ docId: string\n  ├─ title?: string           ├─ title: string\n  ├─ nodes: DSLNode[]         ├─ nodes: Record<string, IRNode>\n  └─ edges?: DSLEdge[]        └─ edges: Record<string, IREdge>\n\nDSLNode                     IRNode\n  ├─ id: string               ├─ id: string\n  ├─ provider: string         ├─ provider: string\n  ├─ kind: string             ├─ kind: string\n  ├─ label?: string           ├─ label: string (default: id)\n  ├─ parent?: string          ├─ parent: string | null\n  └─ layout: DSLLayout        └─ layout: { x, y, w, h }\n\nDSLEdge                     IREdge\n  ├─ id: string               ├─ id: string\n  ├─ from: string             ├─ from: string\n  ├─ to: string               ├─ to: string\n  └─ label?: string           └─ label: string (default: \"\")\n```\n\n## Patch Operations\n\n```typescript\ntype PatchOp =\n  | { op: \"upsertNode\"; node: IRNode }\n  | { op: \"removeNode\"; id: string }\n  | { op: \"upsertEdge\"; edge: IREdge }\n  | { op: \"removeEdge\"; id: string };\n\ninterface Patch {\n  baseRev: number;\n  nextRev: number;\n  ops: PatchOp[];\n}\n```\n\n## WebSocket Protocol Types\n\n```typescript\n// Plugin → CLI\ninterface HelloMessage {\n  type: \"hello\";\n  docId: string;\n  secret?: string;\n}\n\ninterface RequestFullMessage {\n  type: \"requestFull\";\n  docId: string;\n}\n\n// CLI → Plugin\ninterface FullMessage {\n  type: \"full\";\n  rev: number;\n  ir: IRDocument;\n}\n\ninterface PatchMessage {\n  type: \"patch\";\n  baseRev: number;\n  nextRev: number;\n  ops: PatchOp[];\n}\n\ninterface ErrorMessage {\n  type: \"error\";\n  message: string;\n}\n```\n\n## Development Workflow\n\n1. **Modify types** → Update `types.ts`\n2. **Update validation** → Ensure `validate.ts` catches invalid input\n3. **Update normalization** → Handle new fields/defaults in `normalize.ts`\n4. **Update diff** → Handle new patch scenarios in `diff.ts`\n5. **Add tests** → Co-located `*.test.ts` files\n6. **Run tests** → `bun test packages/core/`\n\n## Testing\n\n```bash\n# All core tests\nbun test packages/core/\n\n# Specific test file\nbun test packages/core/src/diff.test.ts\nbun test packages/core/src/validate.test.ts\nbun test packages/core/src/normalize.test.ts\n\n# Watch mode\nbun test --watch packages/core/\n```\n\n## Common Patterns\n\n### Adding a new node property\n\n1. Add to `DSLNode` and `IRNode` in `types.ts`\n2. Add validation in `validate.ts`\n3. Add default value handling in `normalize.ts`\n4. Update diff logic if property affects equality\n5. Add test cases for validation, normalization, and diff\n\n### Adding a new edge property\n\n1. Add to `DSLEdge` and `IREdge` in `types.ts`\n2. Add validation in `validate.ts`\n3. Add default value handling in `normalize.ts`\n4. Update diff logic for edge equality check\n5. Add test cases\n",
        ".claude/skills/debug-connection/SKILL.md": "---\nname: debug-connection\ndescription: Debug WebSocket connection issues between CLI and FigJam plugin. Use when diagrams aren't syncing, connection fails, plugin shows \"Connecting...\" indefinitely, or patches aren't being applied to canvas.\n---\n\n# WebSocket Connection Debugging\n\n## Architecture\n\n```\nCLI serve (Bun) ←── WebSocket ──→ Plugin UI (ui.ts) ←── postMessage ──→ Plugin Main (code.ts)\n     │                                  │                                    │\n  File watcher                    Browser APIs                          Figma API\n  YAML parsing                    WebSocket client                      Canvas rendering\n```\n\n## Common Issues\n\n| Issue | Symptom | Solution |\n|-------|---------|----------|\n| CLI not running | \"Connecting...\" indefinitely | Start `bun run packages/cli/src/index.ts serve diagram.yaml` |\n| Port in use | Connection refused | Check `lsof -i :3456`, use different port |\n| Secret mismatch | Connects then immediately closes | Match `--secret` value in CLI and plugin |\n| YAML errors | Connected but no updates | Fix validation errors in CLI output |\n| docId mismatch | No response after hello | Ensure plugin docId matches YAML `docId` |\n| Patches not applied | Connected, canvas unchanged | Check Plugin Main console for render errors |\n\n## Debugging Steps\n\n1. **CLI side**: Check terminal for errors, verify YAML with `bun run packages/cli/src/index.ts build diagram.yaml`\n2. **Plugin UI**: Right-click plugin → Inspect → Console for WebSocket events\n3. **Plugin Main**: Figma Desktop → Plugins → Development → Open console\n\n## Message Flow\n\n```\nPlugin                          CLI\n  │                              │\n  │──── hello ─────────────────►│  {type:\"hello\", docId, secret?}\n  │◄──── full ─────────────────│  {type:\"full\", rev, ir}\n  │                              │\n  │      [YAML changes]          │\n  │◄──── patch ────────────────│  {type:\"patch\", baseRev, nextRev, ops}\n  │                              │\n  │      [Reconnect]             │\n  │──── requestFull ───────────►│  {type:\"requestFull\", docId}\n  │◄──── full ─────────────────│\n```\n\n## JSON Import Errors\n\n- JSON must be an object with `version`, `docId`, `nodes`\n- DSL format: `nodes` as array\n- IR format: `nodes` as object (Record)\n- Validation errors shown in alert with path + message\n\n## Quick Test\n\n```bash\n# Start server\nbun run packages/cli/src/index.ts serve examples/diagram.yaml\n\n# Test with wscat\nwscat -c ws://localhost:3456\n> {\"type\":\"hello\",\"docId\":\"test\"}\n```\n",
        ".claude/skills/figjam-plugin/SKILL.md": "---\nname: figjam-plugin\ndescription: FigJam plugin development workflow. Use when modifying code.ts (canvas rendering), ui.ts (WebSocket/UI), fixing plugin build errors, or adding new rendering features.\n---\n\n# FigJam Plugin Development\n\n## Architecture\n\n| Thread | File | APIs | Role |\n|--------|------|------|------|\n| Main | `code.ts` | `figma.*` only | Canvas rendering |\n| UI | `ui.ts` | Browser APIs | WebSocket client, connection UI |\n\n**Critical**: `code.ts` has NO browser APIs (`window`, `document`, `fetch`, `WebSocket`).\n\n## Communication\n\n```\nCLI ←─ WebSocket ─→ ui.ts ←─ postMessage ─→ code.ts ←─ figma.* ─→ Canvas\n```\n\n## Build & Import\n\n```bash\ncd packages/plugin && bun run build\n```\n\nImport: Figma Desktop → Plugins → Development → Import from manifest → `packages/plugin/manifest.json`\n\n## Debugging\n\n- **UI errors**: Right-click plugin UI → Inspect\n- **Main errors**: Plugins → Development → Open console\n\n## JSON Import\n\n- Accepts DSL (nodes array) or IR (nodes object)\n- Validates with `@figram/core`, normalizes to IR\n- Errors shown in alert with path + message\n\n## Key Files\n\n| File | Purpose |\n|------|---------|\n| `manifest.json` | Plugin config |\n| `src/code.ts` | Canvas rendering |\n| `src/ui.ts` | WebSocket + UI |\n| `src/icons/` | Service icons |\n",
        ".claude/skills/figram-diagrams/SKILL.md": "---\nname: figram-diagrams\ndescription: Create and validate YAML diagram files for Figram (AWS/GCP/Azure architecture diagrams). Use when users want to create new architecture diagrams, add/modify nodes or edges, troubleshoot YAML validation errors, convert text descriptions to Figram YAML, or work with cloud infrastructure visualizations.\n---\n\n# Figram Diagram Authoring\n\n## Structure\n\n```yaml\nversion: 1\ndocId: \"unique-id\"      # WebSocket matching\ntitle: \"Diagram Title\"  # Optional\n\nnodes:\n  - id: node-id         # Unique, descriptive (e.g., user-api)\n    provider: aws       # aws | gcp | azure\n    kind: compute.ec2   # See Icons Reference\n    label: \"Display\"    # Optional, defaults to id\n    layout: {x, y}      # Required for top-level nodes\n    parent: vpc-id      # Optional, for nesting\n\nedges:\n  - id: edge-id\n    from: node-a\n    to: node-b\n    label: \"description\"  # Optional\n    color: \"#3498DB\"      # Optional, default: #666666\n```\n\n## Layout Rules\n\n| Node Type | Layout |\n|-----------|--------|\n| Top-level | `{x, y}` required |\n| Container (VPC, Subnet) | `{x, y, w, h}` required |\n| Child (has parent) | Optional (auto-positioned in 3-column grid) |\n\n## Edge Colors (Convention)\n\n| Color | HEX | Use |\n|-------|-----|-----|\n| Blue | `#3498DB` | HTTP/HTTPS |\n| Green | `#27AE60` | Database |\n| Orange | `#E67E22` | Cache |\n| Purple | `#9B59B6` | Container |\n| Gray | `#666666` | Default |\n\n## Icons Reference\n\nFull lists: [AWS](https://figram.7nohe.dev/en/icons-aws/) | [GCP](https://figram.7nohe.dev/en/icons-gcp/) | [Azure](https://figram.7nohe.dev/en/icons-azure/)\n\n### Common Kinds\n\n**AWS:**\n- Compute: `compute.ec2`, `compute.lambda`, `compute.lb.alb`, `compute.container.ecs`\n- Database: `database.rds`, `database.dynamodb`, `database.aurora`\n- Storage: `storage.s3`, `storage.efs`\n- Network: `network.vpc`, `network.subnet`, `network.apigateway`, `network.cloudfront`\n- Integration: `integration.sqs`, `integration.sns`, `integration.eventbridge`\n\n**GCP:**\n- Compute: `compute.gce`, `compute.functions`, `compute.cloudrun`, `compute.container.gke`\n- Database: `database.cloudsql`, `database.firestore`, `database.spanner`\n- Storage: `storage.gcs`\n- Network: `network.vpc`, `network.cdn`, `network.apigateway`\n- Integration: `integration.pubsub`, `integration.tasks`\n\n**Azure:**\n- Compute: `compute.vm`, `compute.functions`, `compute.appservice`, `compute.container.aks`\n- Database: `database.sql`, `database.cosmosdb`, `database.redis`\n- Storage: `storage.blob`, `storage.storage`\n- Network: `network.vnet`, `network.frontdoor`, `network.apim`\n- Integration: `integration.servicebus`, `integration.eventhubs`\n\n## Examples\n\n### Serverless API (AWS)\n\n```yaml\nversion: 1\ndocId: serverless-api\ntitle: \"Serverless REST API\"\n\nnodes:\n  - id: apigw\n    provider: aws\n    kind: network.apigateway\n    label: \"REST API\"\n    layout: { x: 100, y: 150 }\n\n  - id: lambda\n    provider: aws\n    kind: compute.lambda\n    label: \"Handler\"\n    layout: { x: 300, y: 150 }\n\n  - id: dynamodb\n    provider: aws\n    kind: database.dynamodb\n    label: \"Users Table\"\n    layout: { x: 500, y: 150 }\n\nedges:\n  - id: api-to-lambda\n    from: apigw\n    to: lambda\n    label: \"invoke\"\n    color: \"#3498DB\"\n\n  - id: lambda-to-db\n    from: lambda\n    to: dynamodb\n    label: \"read/write\"\n    color: \"#27AE60\"\n```\n\n### VPC with Auto-Layout\n\n```yaml\nversion: 1\ndocId: vpc-architecture\ntitle: \"VPC Architecture\"\n\nnodes:\n  - id: vpc\n    provider: aws\n    kind: network.vpc\n    label: \"Production VPC\"\n    layout: { x: 0, y: 0, w: 600, h: 400 }\n\n  - id: alb\n    provider: aws\n    kind: compute.lb.alb\n    parent: vpc\n    # Auto-positioned: (60, 60)\n\n  - id: ecs\n    provider: aws\n    kind: compute.container.ecs_service\n    parent: vpc\n    # Auto-positioned: (220, 60)\n\n  - id: rds\n    provider: aws\n    kind: database.rds\n    parent: vpc\n    # Auto-positioned: (380, 60)\n\nedges:\n  - id: alb-to-ecs\n    from: alb\n    to: ecs\n  - id: ecs-to-rds\n    from: ecs\n    to: rds\n```\n\n## Validation Errors\n\n| Error | Fix |\n|-------|-----|\n| Missing required field \"version\" | Add `version: 1` |\n| Missing required field \"docId\" | Add unique `docId` |\n| Duplicate node id | Use unique IDs |\n| layout is required for top-level nodes | Add `layout: {x, y}` |\n| references unknown parent | Fix parent ID |\n| Edge references unknown node | Fix `from`/`to` IDs |\n| Cycle detected in parent hierarchy | Break the cycle |\n\n## Custom Icons\n\n```yaml\n# In diagram.yaml or figram-icons.yaml\nicons:\n  aws:\n    \"compute\": \"./icons/compute-generic.png\"  # Fallback\n    \"compute.ec2\": \"./icons/ec2.png\"          # Specific\n```\n\nSupported: PNG, JPG, JPEG, GIF, WebP (no SVG)\n\n## Commands\n\n```bash\nnpx figram init              # Create template\nnpx figram build diagram.yaml # Validate and build\nnpx figram serve diagram.yaml # Start live server\nnpx figram serve diagram.yaml -p 8080 # Custom port\n```\n",
        ".claude/skills/vscode-extension/SKILL.md": "---\nname: vscode-extension\ndescription: VS Code extension development workflow. Use when adding/modifying completion providers, diagnostics, CLI integration, server management, snippets, or building/packaging the extension.\n---\n\n# VS Code Extension Development\n\n## Architecture\n\n| Directory | Purpose |\n|-----------|---------|\n| `src/extension.ts` | Entry point, command registration |\n| `src/completion/` | Autocomplete for `provider:` and `kind:` |\n| `src/diagnostics/` | YAML validation, error highlighting |\n| `src/ops/` | CLI detection, server management |\n| `snippets/figram.json` | YAML snippets |\n\n## Build\n\n```bash\ncd packages/vscode\nbun run build:dev    # Development with sourcemaps\nbun run dev          # Watch mode\nbun run build        # Production\nbun run package      # Create .vsix\n```\n\nDebug: F5 in VS Code → Extension Development Host\n\n## Commands\n\n| ID | Title |\n|----|-------|\n| `figram.init` | Init diagram.yaml |\n| `figram.build` | Build JSON |\n| `figram.serve.start` | Start Serve |\n| `figram.serve.stop` | Stop Serve |\n| `figram.serve.restart` | Restart Serve |\n| `figram.serve.quickPick` | Serve Actions |\n| `figram.refreshDiagnostics` | Refresh Diagnostics |\n\n## Configuration\n\n| Setting | Default | Description |\n|---------|---------|-------------|\n| `figram.cli.command` | null | Custom CLI command |\n| `figram.serve.host` | 127.0.0.1 | Server host |\n| `figram.serve.port` | 3456 | Server port |\n| `figram.serve.allowRemote` | false | Allow remote |\n| `figram.serve.secret` | \"\" | Auth secret |\n| `figram.diagnostics.enabled` | true | Enable diagnostics |\n| `figram.diagnostics.debounceMs` | 300 | Debounce delay |\n\n## Adding Features\n\n### New Command\n\n1. Add to `package.json` → `contributes.commands`\n2. Register in `extension.ts` with `vscode.commands.registerCommand()`\n3. Add to `context.subscriptions`\n\n### New Configuration\n\n1. Add to `package.json` → `contributes.configuration.properties`\n2. Read with `vscode.workspace.getConfiguration(\"figram.xxx\")`\n\n### New Completion Provider\n\n1. Create class implementing `vscode.CompletionItemProvider`\n2. Register with `vscode.languages.registerCompletionItemProvider()`\n\n### New Snippet\n\n1. Add to `snippets/figram.json`\n2. Update docs (`docs/en/vscode-extension.md`, `docs/ja/vscode-extension.md`)\n",
        "README.md": "<p align=\"center\">\n  <img src=\"https://github.com/7nohe/figram/raw/main/images/logo.svg\" width=\"300\" alt=\"figram\">\n</p>\n\n# figram\n\nYAML-driven architecture diagrams for FigJam. Define your infrastructure as code and sync it live to FigJam.\n\n## Features\n\n- **Diagram as Code**: Define cloud architecture diagrams in YAML\n- **Multi-Provider Support**: AWS, GCP, and Azure icons\n- **Live Sync**: Edit YAML and watch FigJam update in real-time\n- **Incremental Updates**: Only changed elements are updated (preserves manual adjustments)\n- **Containers**: VPC/Subnet/VNet as nested frames\n- **Custom Icons**: Bring your own icon sets\n\n## Quick Start\n\n### 1. Install CLI\n\n```bash\nnpm install -g figram\n```\n\nOr run directly with npx:\n\n```bash\nnpx figram <command>\n```\n\n### 2. Create a diagram\n\n```bash\nnpx figram init\n```\n\nThis creates a `diagram.yaml` template.\n\n### 3. Install FigJam Plugin\n\n1. Install from [Figma Community](https://www.figma.com/community/plugin/figram) (coming soon)\n2. Open a FigJam file\n3. Run the figram plugin from the plugins menu\n\n### 4. Start live sync\n\n```bash\nnpx figram diagram.yaml\n```\n\nIn the FigJam plugin:\n1. Enter the `docId` from your YAML\n2. Connect to `ws://127.0.0.1:3456`\n\nYour diagram will appear and sync automatically when you edit the YAML!\n\n## Example Diagram\n\n```yaml\nversion: 1\ndocId: \"my-architecture\"\ntitle: \"Production Environment\"\n\nnodes:\n  - id: vpc\n    provider: aws\n    kind: network.vpc\n    label: \"VPC 10.0.0.0/16\"\n    layout: { x: 0, y: 0, w: 800, h: 500 }\n\n  - id: alb\n    provider: aws\n    kind: compute.lb.alb\n    label: \"ALB\"\n    parent: vpc\n    layout: { x: 100, y: 100 }\n\n  - id: ecs\n    provider: aws\n    kind: compute.container.ecs_service\n    label: \"ECS Service\"\n    parent: vpc\n    layout: { x: 100, y: 250 }\n\n  - id: rds\n    provider: aws\n    kind: database.rds\n    label: \"RDS PostgreSQL\"\n    parent: vpc\n    layout: { x: 300, y: 250 }\n\nedges:\n  - id: alb_to_ecs\n    from: alb\n    to: ecs\n    label: \"HTTP:80\"\n\n  - id: ecs_to_rds\n    from: ecs\n    to: rds\n    label: \"TCP:5432\"\n```\n\n## CLI Commands\n\n### `figram init`\n\nCreate a `diagram.yaml` template.\n\n```bash\nnpx figram init\n```\n\n### `figram build <file>`\n\nConvert YAML to JSON format.\n\n```bash\nnpx figram build diagram.yaml\n# Output: diagram.json\n```\n\n### `figram serve <file>` (default)\n\nStart WebSocket server with file watching. This is the default command, so you can omit `serve`:\n\n```bash\nnpx figram diagram.yaml\n# or explicitly:\nnpx figram serve diagram.yaml\n```\n\nOptions:\n\n| Option | Description |\n|--------|-------------|\n| `--port, -p` | Port number (default: 3456) |\n| `--host` | Host to bind (default: 127.0.0.1) |\n| `--no-watch` | Disable file watching |\n| `--allow-remote` | Allow remote connections |\n| `--secret` | Require secret for connection |\n| `--icons` | Path to custom icons file |\n\n## Supported Providers\n\n| Provider | Description |\n|----------|-------------|\n| `aws` | Amazon Web Services |\n| `gcp` | Google Cloud Platform |\n| `azure` | Microsoft Azure |\n\n## Supported Kinds\n\n**Containers (with w/h):**\n- AWS: `network.vpc`, `network.subnet`\n- GCP: `network.vpc`\n- Azure: `network.vnet`\n\n**AWS Resources:**\n- `compute.ec2`, `compute.lambda`, `compute.lb.alb`, `compute.lb.nlb`\n- `compute.container.ecs`, `compute.container.ecs_service`, `compute.container.eks`\n- `database.rds`, `database.aurora`, `database.dynamodb`\n- `storage.s3`, `storage.efs`\n- `network.route53`, `network.cloudfront`, `network.api_gateway`\n- and more...\n\n**GCP Resources:**\n- `compute.gce`, `compute.functions`, `compute.cloudrun`\n- `compute.container.gke`\n- `database.cloudsql`, `database.firestore`, `database.spanner`\n- `storage.gcs`\n- and more...\n\n**Azure Resources:**\n- `compute.vm`, `compute.functions`, `compute.appservice`\n- `compute.container.aks`, `compute.container.aci`\n- `database.sql`, `database.cosmosdb`\n- `storage.blob`, `storage.files`\n- and more...\n\nSee [docs/en/yaml-specs.md](docs/en/yaml-specs.md) for the complete list of supported kinds.\n\n## Custom Icons\n\nYou can use your own icons by creating a `figram-icons.yaml`:\n\n```yaml\nversion: 1\nicons:\n  my-service:\n    path: \"./icons/my-service.png\"\n  another-service:\n    path: \"./icons/another.png\"\n```\n\nThen reference them in your diagram:\n\n```yaml\nnodes:\n  - id: custom\n    kind: my-service\n    label: \"My Custom Service\"\n    layout: { x: 0, y: 0 }\n```\n\nStart the server with the icons file:\n\n```bash\nnpx figram serve diagram.yaml --icons figram-icons.yaml\n```\n\n## Development\n\n### VS Code Extension Debugging\n\nTo debug the VS Code extension, follow these steps:\n\n#### 1. Debug Configuration\n\nCreate `.vscode/launch.json` at the project root with the following configuration:\n\n```json\n{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Run Extension\",\n      \"type\": \"extensionHost\",\n      \"request\": \"launch\",\n      \"args\": [\n        \"--extensionDevelopmentPath=${workspaceFolder}/packages/vscode\"\n      ],\n      \"outFiles\": [\n        \"${workspaceFolder}/packages/vscode/dist/**/*.js\"\n      ],\n      \"preLaunchTask\": \"build:dev\"\n    },\n    {\n      \"name\": \"Extension Tests\",\n      \"type\": \"extensionHost\",\n      \"request\": \"launch\",\n      \"args\": [\n        \"--extensionDevelopmentPath=${workspaceFolder}/packages/vscode\",\n        \"--extensionTestsPath=${workspaceFolder}/packages/vscode/dist/test\"\n      ],\n      \"outFiles\": [\n        \"${workspaceFolder}/packages/vscode/dist/**/*.js\"\n      ],\n      \"preLaunchTask\": \"build:dev\"\n    }\n  ]\n}\n```\n\nCreate `.vscode/tasks.json` for the build task:\n\n```json\n{\n  \"version\": \"2.0.0\",\n  \"tasks\": [\n    {\n      \"label\": \"build:dev\",\n      \"type\": \"shell\",\n      \"command\": \"bun\",\n      \"args\": [\"run\", \"build:dev\"],\n      \"options\": {\n        \"cwd\": \"${workspaceFolder}/packages/vscode\"\n      },\n      \"problemMatcher\": [],\n      \"group\": {\n        \"kind\": \"build\",\n        \"isDefault\": true\n      }\n    }\n  ]\n}\n```\n\n#### 2. Start Debugging\n\n1. Press **F5** or select \"Run Extension\" from the debug panel (Cmd+Shift+D)\n2. A new \"Extension Development Host\" window will open\n3. The extension will run in this window\n\n#### 3. Setting Breakpoints\n\n- Set breakpoints in source files like `packages/vscode/src/extension.ts`\n- When you execute extension commands, execution will stop at breakpoints\n\n#### 4. Viewing Logs\n\n- **Debug Console**: Inspect variable values\n- **Output Panel**: View logs in the \"figram\" channel\n- **Command Palette**: Run \"figram: Show Output\" to display output\n\n#### 5. Watch Mode for Development\n\nRun the following in a separate terminal to enable automatic builds on file changes:\n\n```bash\ncd packages/vscode\nbun run dev\n```\n\n#### Available Debug Configurations\n\n- **Run Extension**: Run the extension in debug mode\n- **Extension Tests**: Run tests\n\n## Documentation\n\n- [YAML Specification](docs/en/yaml-specs.md)\n- [API Reference](docs/en/api-reference.md)\n- [Architecture](docs/en/architecture.md)\n\n## License\n\nMIT\n",
        "examples/custom-icons/README.md": "# Custom Icons Example\n\nThis example demonstrates how to use custom icons with figram - ideal for FigJam Free Plan users who don't have access to built-in FigJam component icons.\n\n## Quick Start\n\n```bash\n# Navigate to this directory\ncd examples/custom-icons\n\n# Start the server\nnpx figram serve diagram.yaml --watch\n```\n\nThen open FigJam and connect to the WebSocket server.\n\n## File Structure\n\n```\ncustom-icons/\n├── diagram.yaml         # Main diagram with inline icons\n├── figram-icons.yaml    # External icons file (auto-discovered)\n├── icons/\n│   ├── server.svg       # Custom EC2 icon\n│   ├── database.svg     # Custom RDS icon\n│   └── bucket.svg       # Custom S3 icon\n└── README.md\n```\n\n## Three Ways to Use Custom Icons\n\n### 1. Inline in diagram.yaml\n\n```yaml\nversion: 1\ndocId: \"my-diagram\"\nicons:\n  aws:\n    \"compute.ec2\": \"./icons/server.svg\"\nnodes:\n  - id: web\n    provider: aws\n    kind: compute.ec2\n```\n\n### 2. External figram-icons.yaml (auto-discovered)\n\nPlace a `figram-icons.yaml` file in the same directory as your diagram:\n\n```yaml\n# figram-icons.yaml\nversion: 1\nicons:\n  aws:\n    \"compute.ec2\": \"./icons/server.svg\"\n```\n\n### 3. Explicit --icons flag\n\n```bash\nnpx figram serve diagram.yaml --icons ./path/to/icons.yaml\n```\n\n## Priority Order\n\nWhen multiple icon sources are available, inline icons take priority:\n\n1. **Inline icons** in `diagram.yaml` (highest priority)\n2. **External file** (`figram-icons.yaml` or `--icons` flag)\n\nThis allows you to define shared icons in an external file and override specific ones inline.\n\n## Supported Image Formats\n\n- PNG (recommended)\n- JPG/JPEG\n- GIF\n- WebP\n\n**Note:** SVG is NOT supported by FigJam's image API. Use raster formats only.\n\n## Icon Resolution\n\nIcons are matched hierarchically:\n\n1. `compute.ec2.t3` (exact match)\n2. `compute.ec2` (category match)\n3. `compute` (parent category)\n\nThis allows you to define a single icon for all EC2 instance types.\n\n## Getting Official AWS Icons\n\nDownload official AWS Architecture Icons from:\nhttps://aws.amazon.com/architecture/icons/\n\nExtract and reference them in your icons configuration.\n",
        "packages/cli/README.md": "# figram\n\nYAML-driven architecture diagrams for FigJam.\n\n## Install\n\n```bash\nnpm install -g figram\n# or\nbun add -g figram\n```\n\n## Usage\n\n```bash\nfigram init\nfigram build diagram.yaml\nfigram serve diagram.yaml\n```\n\n## Commands\n\n- `figram init` - Create a `diagram.yaml` template\n- `figram build <file>` - Convert YAML to IR JSON\n- `figram serve <file>` - Start WebSocket server with file watching\n\n## Serve Options\n\n- `--port, -p` Port number (default: 3456)\n- `--host` Host to bind (default: 127.0.0.1)\n- `--no-watch` Disable file watching\n- `--allow-remote` Allow remote connections\n- `--secret` Require secret for connection\n- `--icons` Path to icons configuration file (figram-icons.yaml)\n\n## Notes\n\nThis CLI syncs diagrams to the FigJam plugin over a local WebSocket. See the project\nREADME for plugin setup and the YAML reference.\n"
      },
      "plugins": [
        {
          "name": "figram",
          "description": "Claude Code skills for Figram - YAML-driven architecture diagrams for FigJam",
          "source": "./",
          "skills": [
            "./.claude-plugin/skills/figram-diagrams"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add 7nohe/figram",
            "/plugin install figram@figram-skills"
          ]
        }
      ]
    }
  ]
}