{
  "author": {
    "id": "sethyanow",
    "display_name": "Seth",
    "avatar_url": "https://avatars.githubusercontent.com/u/6886862?u=cd386a9c53b6b32acd963410bef4aac3086dbbe8&v=4"
  },
  "marketplaces": [
    {
      "name": "session-context",
      "version": null,
      "description": "Session continuity and context recovery for Claude Code",
      "repo_full_name": "sethyanow/session-context",
      "repo_url": "https://github.com/sethyanow/session-context",
      "repo_description": "Really Good Context that survives past disposable sessions",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-16T21:45:34Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"session-context\",\n  \"description\": \"Session continuity and context recovery for Claude Code\",\n  \"owner\": {\n    \"name\": \"Samson\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"session-context\",\n      \"source\": \"./\",\n      \"description\": \"Auto-tracks work via hooks, survives autocompact, generates rich continuation prompts\",\n      \"version\": \"1.0.1\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"session-context\",\n  \"description\": \"Session continuity and context recovery for Claude Code. Auto-tracks your work via hooks, survives autocompact, and generates rich continuation prompts.\",\n  \"version\": \"1.0.1\",\n  \"author\": {\n    \"name\": \"Samson\"\n  },\n  \"hooks\": \"./hooks/hooks.json\",\n  \"mcpServers\": {\n    \"session-context\": {\n      \"command\": \"bun\",\n      \"args\": [\"${CLAUDE_PLUGIN_ROOT}/mcp/src/index.ts\"]\n    }\n  }\n}\n",
        "README.md": "# Session Context Plugin\n\nSession continuity and context recovery for Claude Code. Auto-tracks your work via hooks, survives autocompact, and generates rich continuation prompts.\n\n> Note: this is an experimental plugin born from my config. It does work pretty well, but beware of bugs.\n\n## Features\n\n- **Automatic Tracking**: Hooks capture file edits, todos, plans, and user decisions as you work\n- **Session Handoffs**: Create explicit checkpoints with `/handoff` for seamless continuation\n- **Autocompact Survival**: Session markers survive context summarization for automatic recovery\n- **Rich Context Recovery**: `/start` gathers project state and can restore from handoffs\n- **Optional Integrations**: Enhanced context from beads, claude-harness, claude-mem, and agent-mail\n\n## Installation\n\n```shell\n# Add the marketplace (one-time setup)\n/plugin marketplace add sethyanow/session-context\n\n# Install the plugin\n/plugin install session-context@sethyanow\n```\n\n## Commands\n\n### `/start` - Session Startup\n\nGather project context and recover from previous sessions.\n\n```\n/start              # Normal session start\n/start handoff=abc  # Restore specific handoff\n```\n\n### `/handoff` - Create Checkpoint\n\nCreate an explicit checkpoint before ending a session or when context is low.\n\n```\n/handoff\n```\n\nThis generates a continuation prompt you can paste into your next session.\n\n## How It Works\n\n### Pre-loaded Session Context\n\nAt session start, the plugin's `SessionStart` hook automatically gathers and injects session context directly into the conversation. This means:\n\n- **No MCP call needed** - Session data is pre-loaded before `/start` runs\n- **Faster startup** - Context is immediately available\n- **Token efficient** - Eliminates round-trip to MCP server\n\nThe hook gathers:\n- Git status (branch, uncommitted files, recent commits)\n- Beads triage (if `.beads/` exists)\n- Harness state (if `.claude-harness/` exists)\n- Agent Mail status (if configured)\n- Recovery checkpoint info (if available)\n\nWhen you run `/start`, it uses this pre-loaded data directly instead of calling the MCP.\n\n### Automatic Tracking\n\nThe plugin installs hooks that capture your work:\n\n| Hook | Trigger | Captures |\n|------|---------|----------|\n| `dot-start-handler.ts` | SessionStart | Pre-loads session context |\n| `track-edit.ts` | Edit, Write, NotebookEdit | Modified file paths |\n| `track-todos.ts` | TodoWrite | Current todo list |\n| `track-plan.ts` | ExitPlanMode | Full plan content |\n| `track-qa.ts` | AskUserQuestion | User decisions |\n\nData is stored in `~/.claude/session-context/handoffs/`.\n\n### Handoff Flow\n\n1. During work, hooks maintain a **rolling checkpoint** with your current state\n2. When ready to end a session, run `/handoff`\n3. Plugin generates a **continuation prompt** with:\n   - What you were doing\n   - Key decisions made\n   - Next steps to take\n4. Copy the prompt for your next session\n5. New session detects the session marker and auto-recovers\n\n### Autocompact Survival\n\nThe continuation prompt includes a session marker:\n```html\n<!-- session:abc123 -->\n```\n\nThis marker survives Claude's context summarization. When detected after autocompact, the plugin automatically loads full context from storage.\n\n## MCP Tools\n\nThe plugin provides three MCP tools:\n\n### `get_session_status`\n\nGather session startup data with optional handoff recovery.\n\n> **Note:** Session data is typically pre-loaded by the `SessionStart` hook, making this call unnecessary for normal startup. Use this MCP tool as a fallback or when you need to restore a specific handoff.\n\n```typescript\nget_session_status({\n  level: \"full\",      // minimal | standard | full\n  handoff: \"abc123\"   // Optional: restore specific handoff\n})\n```\n\n**Levels:**\n- `minimal`: project, harness, beads counts\n- `standard`: + beads_triage, agentmail\n- `full`: + skill_usage, claude_mem references\n\n### `create_handoff`\n\nCreate explicit checkpoint with continuation prompt.\n\n```typescript\ncreate_handoff({\n  task: \"Implementing user auth\",\n  summary: \"Added login endpoint, working on JWT\",\n  nextSteps: [\"Add token refresh\", \"Write tests\"],\n  decisions: [\"Using JWT over sessions\"],\n  blockers: []\n})\n```\n\n### `update_checkpoint`\n\nUpdate rolling checkpoint (called by hooks).\n\n```typescript\nupdate_checkpoint({\n  files: [\"src/auth.ts\"],\n  todos: [...],\n  plan: { path: \"...\", content: \"...\" }\n})\n```\n\n## Integrations\n\nThe plugin auto-detects and enhances with optional integrations:\n\n| Integration | Detection | Enhancement |\n|-------------|-----------|-------------|\n| **Git** | Always | Branch, uncommitted, recent commits |\n| **Beads** | `.beads/` exists | Issue triage, actionable work |\n| **Claude Harness** | `.claude-harness/` exists | Features, memory, loop state |\n| **Agent Mail** | MCP configured | Inbox status, file reservations |\n| **Claude-Mem** | MCP configured | Observation ID references |\n\n## Configuration\n\nCreate `~/.claude/session-context/config.json`:\n\n```json\n{\n  \"checkpointTTL\": \"24h\",\n  \"maxHandoffs\": 10,\n  \"integrations\": {\n    \"beads\": true,\n    \"harness\": true,\n    \"claudeMem\": true,\n    \"agentMail\": true\n  },\n  \"tracking\": {\n    \"files\": true,\n    \"todos\": true,\n    \"plans\": true,\n    \"decisions\": true\n  }\n}\n```\n\n## Storage\n\nData is stored in `~/.claude/session-context/`:\n\n```\n~/.claude/session-context/\n├── config.json           # Plugin configuration\n└── handoffs/\n    ├── {hash}-current.json  # Rolling checkpoint (per-project)\n    └── {id}.json            # Explicit handoffs\n```\n\n## Development\n\n```bash\n# Run the MCP server directly\ncd mcp\nbun run start\n\n# Type check\nbun run typecheck\n\n# Build for distribution\nbun run build\n```\n\n## Acknowledgments\n\nThis plugin builds on and integrates with several excellent projects:\n\n- **[Beads](https://github.com/steveyegge/beads)** by [@steveyegge](https://github.com/steveyegge) - Dependency-aware issue tracking and task management\n- **[Claude Harness](https://github.com/panayiotism/claude-harness)** by [@panayiotism](https://github.com/panayiotism) - Feature tracking and agentic loop management\n- **[Claude-Mem](https://github.com/thedotmack/claude-mem)** by [@thedotmack](https://github.com/thedotmack) - Persistent memory and observation storage\n- **[MCP Agent Mail](https://github.com/Dicklesworthstone/mcp_agent_mail)** by [@Dicklesworthstone](https://github.com/Dicklesworthstone) - Multi-agent coordination and messaging\n\nThanks to all these maintainers for their work on the Claude Code ecosystem!\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "session-context",
          "source": "./",
          "description": "Auto-tracks work via hooks, survives autocompact, generates rich continuation prompts",
          "version": "1.0.1",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add sethyanow/session-context",
            "/plugin install session-context@session-context"
          ]
        }
      ]
    }
  ]
}