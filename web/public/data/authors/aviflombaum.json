{
  "author": {
    "id": "aviflombaum",
    "display_name": "Avi Flombaum",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/4515?u=ba20036f054606798acf08ca79d018c6da99e31d&v=4",
    "url": "https://github.com/aviflombaum",
    "bio": "Previously built @flatironschool and @learn-co. Wrote @learn-co-curriculum. Taught thousands how to code.",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 10,
      "total_commands": 10,
      "total_skills": 13,
      "total_stars": 28,
      "total_forks": 2
    }
  },
  "marketplaces": [
    {
      "name": "claude-code-in-avinyc",
      "version": null,
      "description": "Claude Code plugins for Ruby and Rails development by AviNYC",
      "owner_info": {
        "name": "Avi Flombaum",
        "email": "im@avi.nyc"
      },
      "keywords": [],
      "repo_full_name": "aviflombaum/claude-code-in-avinyc",
      "repo_url": "https://github.com/aviflombaum/claude-code-in-avinyc",
      "repo_description": "A collection of claude code plugins and skills",
      "homepage": null,
      "signals": {
        "stars": 28,
        "forks": 2,
        "pushed_at": "2026-01-26T15:52:13Z",
        "created_at": "2026-01-22T01:49:06Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 3764
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/compound-analyzer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/compound-analyzer/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/compound-analyzer/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 559
        },
        {
          "path": "plugins/compound-analyzer/README.md",
          "type": "blob",
          "size": 1706
        },
        {
          "path": "plugins/compound-analyzer/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/compound-analyzer/commands/analyze.md",
          "type": "blob",
          "size": 181
        },
        {
          "path": "plugins/compound-analyzer/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/compound-analyzer/skills/analyze",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/compound-analyzer/skills/analyze/SKILL.md",
          "type": "blob",
          "size": 3176
        },
        {
          "path": "plugins/design-system",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-system/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-system/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 547
        },
        {
          "path": "plugins/design-system/README.md",
          "type": "blob",
          "size": 1373
        },
        {
          "path": "plugins/design-system/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-system/commands/web-design.md",
          "type": "blob",
          "size": 183
        },
        {
          "path": "plugins/design-system/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-system/skills/ux-ui",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-system/skills/ux-ui/SKILL.md",
          "type": "blob",
          "size": 1849
        },
        {
          "path": "plugins/design-system/skills/web-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-system/skills/web-design/SKILL.md",
          "type": "blob",
          "size": 3652
        },
        {
          "path": "plugins/monitor-config",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/monitor-config/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/monitor-config/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 267
        },
        {
          "path": "plugins/monitor-config/README.md",
          "type": "blob",
          "size": 2094
        },
        {
          "path": "plugins/monitor-config/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/monitor-config/commands/avinyc:monitor-config.md",
          "type": "blob",
          "size": 214
        },
        {
          "path": "plugins/monitor-config/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/monitor-config/skills/monitor-config",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/monitor-config/skills/monitor-config/SKILL.md",
          "type": "blob",
          "size": 5792
        },
        {
          "path": "plugins/monitor-config/skills/monitor-config/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/monitor-config/skills/monitor-config/references/resolution_guidelines.md",
          "type": "blob",
          "size": 2191
        },
        {
          "path": "plugins/plan-interview",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/plan-interview/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/plan-interview/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 573
        },
        {
          "path": "plugins/plan-interview/README.md",
          "type": "blob",
          "size": 1308
        },
        {
          "path": "plugins/plan-interview/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/plan-interview/commands/interview.md",
          "type": "blob",
          "size": 173
        },
        {
          "path": "plugins/plan-interview/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/plan-interview/skills/interview",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/plan-interview/skills/interview/SKILL.md",
          "type": "blob",
          "size": 1520
        },
        {
          "path": "plugins/rails-expert",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-expert/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-expert/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 570
        },
        {
          "path": "plugins/rails-expert/README.md",
          "type": "blob",
          "size": 1475
        },
        {
          "path": "plugins/rails-expert/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-expert/skills/rails",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-expert/skills/rails/SKILL.md",
          "type": "blob",
          "size": 1693
        },
        {
          "path": "plugins/rails-frontend",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-frontend/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-frontend/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 530
        },
        {
          "path": "plugins/rails-frontend/README.md",
          "type": "blob",
          "size": 1192
        },
        {
          "path": "plugins/rails-frontend/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-frontend/commands/hotwire.md",
          "type": "blob",
          "size": 166
        },
        {
          "path": "plugins/rails-frontend/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-frontend/skills/hotwire",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-frontend/skills/hotwire/SKILL.md",
          "type": "blob",
          "size": 3309
        },
        {
          "path": "plugins/rails-frontend/skills/tailwind",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rails-frontend/skills/tailwind/SKILL.md",
          "type": "blob",
          "size": 3523
        },
        {
          "path": "plugins/rspec-writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rspec-writer/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rspec-writer/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 506
        },
        {
          "path": "plugins/rspec-writer/README.md",
          "type": "blob",
          "size": 1952
        },
        {
          "path": "plugins/rspec-writer/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rspec-writer/agents/model-spec-writer.md",
          "type": "blob",
          "size": 6095
        },
        {
          "path": "plugins/rspec-writer/agents/spec-writer.md",
          "type": "blob",
          "size": 7113
        },
        {
          "path": "plugins/rspec-writer/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rspec-writer/commands/write-test.md",
          "type": "blob",
          "size": 499
        },
        {
          "path": "plugins/rspec-writer/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rspec-writer/skills/write-test",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/SKILL.md",
          "type": "blob",
          "size": 5686
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/channel-specs.md",
          "type": "blob",
          "size": 6948
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/dry-patterns.md",
          "type": "blob",
          "size": 6693
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/fixtures.md",
          "type": "blob",
          "size": 6952
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/isolation.md",
          "type": "blob",
          "size": 6001
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/job-specs.md",
          "type": "blob",
          "size": 6810
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/mailer-specs.md",
          "type": "blob",
          "size": 6681
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/model-specs.md",
          "type": "blob",
          "size": 6131
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/request-specs.md",
          "type": "blob",
          "size": 6664
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/storage-specs.md",
          "type": "blob",
          "size": 6492
        },
        {
          "path": "plugins/rspec-writer/skills/write-test/patterns/system-specs.md",
          "type": "blob",
          "size": 6556
        },
        {
          "path": "plugins/saas-metrics",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/saas-metrics/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/saas-metrics/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 552
        },
        {
          "path": "plugins/saas-metrics/README.md",
          "type": "blob",
          "size": 1321
        },
        {
          "path": "plugins/saas-metrics/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/saas-metrics/commands/business.md",
          "type": "blob",
          "size": 176
        },
        {
          "path": "plugins/saas-metrics/commands/marketing.md",
          "type": "blob",
          "size": 186
        },
        {
          "path": "plugins/saas-metrics/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/saas-metrics/skills/business",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/saas-metrics/skills/business/SKILL.md",
          "type": "blob",
          "size": 3795
        },
        {
          "path": "plugins/saas-metrics/skills/marketing",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/saas-metrics/skills/marketing/SKILL.md",
          "type": "blob",
          "size": 2064
        },
        {
          "path": "plugins/tech-writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tech-writer/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tech-writer/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 554
        },
        {
          "path": "plugins/tech-writer/README.md",
          "type": "blob",
          "size": 1518
        },
        {
          "path": "plugins/tech-writer/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tech-writer/commands/write.md",
          "type": "blob",
          "size": 168
        },
        {
          "path": "plugins/tech-writer/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tech-writer/skills/write",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tech-writer/skills/write/SKILL.md",
          "type": "blob",
          "size": 3913
        },
        {
          "path": "plugins/warp-rails",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/warp-rails/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/warp-rails/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 480
        },
        {
          "path": "plugins/warp-rails/README.md",
          "type": "blob",
          "size": 1147
        },
        {
          "path": "plugins/warp-rails/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/warp-rails/commands/warp-rails.md",
          "type": "blob",
          "size": 168
        },
        {
          "path": "plugins/warp-rails/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/warp-rails/skills/bootstrap",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/warp-rails/skills/bootstrap/SKILL.md",
          "type": "blob",
          "size": 4938
        },
        {
          "path": "plugins/warp-rails/skills/bootstrap/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/warp-rails/skills/bootstrap/references/launch-config-schema.md",
          "type": "blob",
          "size": 3576
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-code-in-avinyc\",\n  \"owner\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"metadata\": {\n    \"description\": \"Claude Code plugins for Ruby and Rails development by AviNYC\",\n    \"version\": \"1.5.1\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"rspec-writer\",\n      \"source\": \"./plugins/rspec-writer\",\n      \"description\": \"AI-powered RSpec test generation for Rails applications\",\n      \"version\": \"1.4.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"rails-frontend\",\n      \"source\": \"./plugins/rails-frontend\",\n      \"description\": \"Modern Rails frontend development with Hotwire (Turbo, Stimulus) and Tailwind CSS\",\n      \"version\": \"1.3.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"design-system\",\n      \"source\": \"./plugins/design-system\",\n      \"description\": \"UI/UX design expertise with usability principles and visual implementation\",\n      \"version\": \"1.3.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"saas-metrics\",\n      \"source\": \"./plugins/saas-metrics\",\n      \"description\": \"SaaS business metrics and marketing analytics for founders\",\n      \"version\": \"1.3.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"compound-analyzer\",\n      \"source\": \"./plugins/compound-analyzer\",\n      \"description\": \"Identify automation and systematization opportunities in development work\",\n      \"version\": \"1.3.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"tech-writer\",\n      \"source\": \"./plugins/tech-writer\",\n      \"description\": \"Technical writing with Flatiron School's engaging teaching style\",\n      \"version\": \"1.3.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"rails-expert\",\n      \"source\": \"./plugins/rails-expert\",\n      \"description\": \"Ruby and Rails best practices following POODR and Refactoring Ruby\",\n      \"version\": \"1.3.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"plan-interview\",\n      \"source\": \"./plugins/plan-interview\",\n      \"description\": \"Refine project plans through Socratic questioning\",\n      \"version\": \"1.3.2\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"warp-rails\",\n      \"source\": \"./plugins/warp-rails\",\n      \"description\": \"Bootstrap Warp terminal configuration for Rails projects\",\n      \"version\": \"1.0.3\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    },\n    {\n      \"name\": \"monitor-config\",\n      \"source\": \"./plugins/monitor-config\",\n      \"description\": \"Configure and optimize multi-monitor setups on macOS using displayplacer\",\n      \"version\": \"1.0.1\",\n      \"author\": { \"name\": \"Avi Flombaum\" },\n      \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n      \"license\": \"MIT\"\n    }\n  ]\n}\n",
        "plugins/compound-analyzer/.claude-plugin/plugin.json": "{\n  \"name\": \"compound-analyzer\",\n  \"description\": \"Analyze completed development work to identify automation, systematization, and delegation opportunities. Build compounding engineering systems.\",\n  \"version\": \"1.3.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"automation\", \"systematization\", \"compound\", \"delegation\", \"workflow\", \"productivity\"]\n}\n",
        "plugins/compound-analyzer/README.md": "# compound-analyzer\n\nIdentify automation, systematization, and delegation opportunities in your development work.\n\n## Installation\n\n```bash\n/plugin install compound-analyzer@claude-code-in-avinyc\n```\n\n## Usage\n\n```bash\n/compound:analyze\n```\n\nRun after completing features, fixing bugs, or finishing code reviews to identify compounding opportunities.\n\n## What It Analyzes\n\n### 1. Delegation Opportunities\nTasks where specialized agents could provide superior efficiency:\n- Repetitive analysis or review tasks\n- Domain-specific operations\n- Parallel workstreams\n\n### 2. Automation Candidates\nRecurring manual processes ripe for automation:\n- Multi-step workflows\n- Manual checks and validations\n- Data transformations\n\n### 3. Systematization Targets\nKnowledge that should be captured:\n- Architectural decisions\n- Problem-solving patterns\n- Configuration standards\n\n### 4. Learning Extraction\nInsights preventing future issues:\n- Root cause analyses\n- Performance optimizations\n- Integration gotchas\n\n### 5. Parallel Processing\nIndependent workstreams for simultaneous execution:\n- Decoupled components\n- Independent testing streams\n- Documentation tasks\n\n## Output Format\n\nEach suggestion includes:\n- **SUGGESTION**: Specific, actionable recommendation\n- **COMPOUND BENEFIT**: Long-term compounding value\n- **IMPLEMENTATION**: Approach and complexity\n- **CONFIDENCE**: High/Medium/Low with reasoning\n\n## Core Principles\n\n- Every bug becomes a prevention system\n- Every manual process becomes an automation candidate\n- Every architectural decision becomes documented knowledge\n- Every repetitive task becomes a delegation opportunity\n- Every solution becomes a template for similar problems\n\n## License\n\nMIT\n",
        "plugins/compound-analyzer/commands/analyze.md": "---\nname: compound:analyze\ndescription: Analyze work for automation opportunities\nargument-hint: \"[work to analyze]\"\n---\n\nInvoke the compound-analyzer:analyze skill for: $ARGUMENTS\n",
        "plugins/compound-analyzer/skills/analyze/SKILL.md": "---\nname: analyze\ndescription: Analyze completed development work to identify automation and systematization opportunities. Use after finishing features, fixing bugs, or completing code reviews. Triggers on \"analyze for automation\", \"what can we automate\", \"compound opportunities\", \"systematize\".\nargument-hint: \"[work to analyze]\"\nuser-invocable: true\nagent: Explore\n---\n\n# Compound Engineering Analyzer\n\nTransform development interactions into permanent learning systems that create exponential value over time. Identify how today's work can become tomorrow's accelerator.\n\n## Core Analysis Framework\n\n### 1. DELEGATION OPPORTUNITIES\nIdentify subtasks where specialized agents could provide superior efficiency:\n- Repetitive analysis or review tasks that follow consistent patterns\n- Domain-specific operations requiring deep expertise\n- Parallel workstreams that could be handled independently\n- Tasks with clear inputs/outputs suitable for agent delegation\n\n### 2. AUTOMATION CANDIDATES\nSpot recurring manual processes ripe for systematic automation:\n- Multi-step workflows that appear repeatedly\n- Manual checks that could become automated validations\n- Data transformations or migrations following patterns\n- Testing or verification sequences that could be scripted\n\n### 3. SYSTEMATIZATION TARGETS\nFind knowledge that must be captured for compound benefits:\n- Architectural decisions and their rationale\n- Problem-solving patterns that emerged during work\n- Configuration standards or conventions discovered\n- Error patterns and their prevention strategies\n\n### 4. LEARNING EXTRACTION\nHighlight insights preventing future issues or accelerating similar work:\n- Root cause analyses that reveal systemic issues\n- Performance optimizations discovered through experimentation\n- Integration gotchas and their workarounds\n- Best practices validated through implementation\n\n### 5. PARALLEL PROCESSING\nSuggest independent workstreams for simultaneous execution:\n- Decoupled components that could be developed in parallel\n- Independent testing or validation streams\n- Documentation tasks that could run alongside development\n- Research activities that don't block primary work\n\n## Output Format\n\n**COMPOUND ENGINEERING OPPORTUNITIES:**\n\n**SUGGESTION:** [Specific, actionable recommendation with clear scope]\n**COMPOUND BENEFIT:** [Long-term compounding value, quantified where possible]\n**IMPLEMENTATION:** [Approach, complexity (Simple/Moderate/Complex), timing]\n**CONFIDENCE:** [High/Medium/Low] - [Reasoning based on observed patterns]\n\n## Evaluation Criteria\n\n- **Frequency**: How often will this benefit be realized?\n- **Impact**: What's the magnitude of improvement each time?\n- **Effort**: Implementation cost versus ongoing benefit?\n- **Risk**: What could prevent successful implementation?\n- **Dependencies**: What prerequisites or resources are needed?\n\n## Core Principles\n\n- Every bug becomes a prevention system through automated checks\n- Every manual process becomes an automation candidate\n- Every architectural decision becomes documented knowledge\n- Every repetitive task becomes a delegation opportunity\n- Every solution becomes a template for similar problems\n",
        "plugins/design-system/.claude-plugin/plugin.json": "{\n  \"name\": \"design-system\",\n  \"description\": \"UI/UX design expertise combining usability principles with visual implementation. Design thinking, information architecture, and aesthetic execution.\",\n  \"version\": \"1.3.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"design\", \"ux\", \"ui\", \"visual\", \"usability\", \"accessibility\", \"frontend\"]\n}\n",
        "plugins/design-system/README.md": "# design-system\n\nUI/UX design expertise combining usability principles with visual implementation.\n\n## Installation\n\n```bash\n/plugin install design-system@claude-code-in-avinyc\n```\n\n## Skills\n\n### ux-ui (auto-triggered)\n\nUX/UI design principles for clean, intuitive interfaces. This skill activates automatically when discussing usability, accessibility, or information architecture.\n\nCovers:\n- Information architecture\n- Interaction design\n- Accessibility (WCAG)\n- Responsive design\n- Performance and efficiency\n\n### web-design\n\nWeb graphic design for interfaces, layouts, and visual systems.\n\n```bash\n/avinyc:web-design landing page\n/avinyc:web-design dashboard\n/avinyc:web-design bauhaus style\n```\n\nCovers:\n- Visual hierarchy\n- Layout and grid systems\n- Typography\n- Color and contrast\n- Style translation (Bauhaus, Pop Art, Retro, Futuristic)\n\n## Natural Language\n\nJust describe your design needs:\n\n- \"Design a clean dashboard layout\"\n- \"Improve the usability of this form\"\n- \"Create a landing page with a futuristic aesthetic\"\n- \"Review this interface for accessibility\"\n\n## When to Use Each Skill\n\n| Need | Skill |\n|------|-------|\n| Usability review | ux-ui |\n| Information architecture | ux-ui |\n| Accessibility audit | ux-ui |\n| Visual design direction | web-design |\n| Landing page design | web-design |\n| Style/aesthetic guidance | web-design |\n\n## License\n\nMIT\n",
        "plugins/design-system/commands/web-design.md": "---\nname: avinyc:web-design\ndescription: Design web interfaces with high visual quality\nargument-hint: \"[design brief]\"\n---\n\nInvoke the design-system:web-design skill for: $ARGUMENTS\n",
        "plugins/design-system/skills/ux-ui/SKILL.md": "---\nname: ux-ui\ndescription: UX/UI design principles for clean, intuitive interfaces. Use when designing layouts, improving usability, planning information architecture, or ensuring accessibility. Triggers on \"user experience\", \"usability\", \"information architecture\", \"accessibility\", \"interaction design\".\nargument-hint: \"[interface or flow]\"\nuser-invocable: true\n---\n\n# UX/UI Design Expert\n\nCreate clean, intuitive interfaces that prioritize usability and efficiency.\n\n## Information Architecture\n\n- Design with clear visual hierarchy\n- Present critical information and primary actions prominently\n- Progressively reveal secondary details\n- Every screen should have one clear purpose\n- Guide users toward their goal with minimal cognitive load\n\n## Interaction Design\n\nBuild dynamic, responsive interactions:\n- **Stimulus controllers** for behavior\n- **Turbo Frames** for partial page updates\n- **Turbo Streams** for real-time changes\n- **AJAX** for seamless data exchanges\n- Favor progressive enhancement over full page refreshes\n\n## Design Standards\n\n- Follow established UI conventions users already understand\n- Use consistent spacing, typography scales, and color systems\n- Implement accessible, WCAG-compliant interfaces:\n  - Proper semantic HTML\n  - ARIA labels where needed\n  - Keyboard navigation support\n\n## Responsive First\n\nDesign mobile-first:\n- Test at common breakpoints: 375px, 768px, 1024px, 1440px\n- Use flexible grids and fluid typography\n- Ensure touch-friendly interaction targets (minimum 44x44px)\n\n## Performance & Efficiency\n\n- Minimize steps to complete tasks\n- Use smart defaults\n- Provide inline validation\n- Offer contextual help\n- Reduce decision fatigue by showing only relevant options\n- Make the happy path obvious\n- Make error recovery simple\n\n## Goal\n\nEvery interface should feel fast, focused, and frictionless.\n",
        "plugins/design-system/skills/web-design/SKILL.md": "---\nname: web-design\ndescription: Web graphic design for interfaces, layouts, and visual systems. Use when designing landing pages, dashboards, hero sections, or applying design aesthetics (Bauhaus, Pop Art, Retro, Futuristic). Triggers on \"design a\", \"visual design\", \"landing page\", \"color palette\", \"typography\".\nargument-hint: \"[page|component|style] description\"\nuser-invocable: true\n---\n\n# Web Graphic Designer\n\nSenior web graphic designer and UI/UX lead creating beautiful, modern, and highly usable web interfaces.\n\n## Core Identity\n\nThink visually first but fluent in layout systems, typography, color theory, motion design, and interaction patterns. Serve both end users (clear, delightful interfaces) and developers (implementable specifications).\n\n**Default aesthetic**: Clean and modern, generous whitespace, strong grids, restrained palettes, disciplined typography. Can push boundaries with bold color and contrast when asked.\n\n## Design Principles\n\n### Visual Hierarchy\n- One primary focal point per screen/section\n- Clear typographic hierarchy (H1 > H2 > Body > Labels)\n- Use size, weight, color, and spacing to guide the eye\n- Group related elements, separate unrelated ones\n- Eliminate decorative noise that doesn't serve meaning\n\n### Layout & Grid\n- Apply consistent spacing scales for rhythm\n- Align to grids, avoid mixed alignments\n- Design mobile-first, scaling to tablet/desktop\n- Use whitespace actively to separate sections\n\n### Typography\n- Choose typefaces matching brand and style\n- Limit to 2 families, 3-4 weights maximum\n- Ensure comfortable line lengths and generous line spacing\n- Maintain consistent rules for case, letter-spacing, emphasis\n\n### Color & Contrast\n- Start with simple palettes: primary, secondary, accent, neutrals\n- Ensure sufficient contrast for readability\n- Use color to signal hierarchy, state, and mood\n- Never rely on color alone for critical information\n\n### Accessibility\n- Maintain good contrast for all essential elements\n- Size touch targets appropriately (minimum 44x44px)\n- Avoid tiny fonts and hover-only content\n- Consider motion sensitivity in animations\n\n## Style Translation\n\n**Bauhaus**: Geometric shapes, primary colors, sans-serif type, asymmetric balance\n**Pop Art**: Bright saturated colors, repetition, flat graphics, bold outlines\n**Mid-Century Modern**: Vintage-timeless type, warm/muted palettes, iconic shapes\n**Retro (80s/90s/Y2K)**: Era-specific palettes balanced with modern usability\n**Futuristic**: High contrast, grid systems, minimalist type, dashboard/HUD elements\n\n## Response Framework\n\n1. **Restate the Brief**: Summarize goal, audience, constraints (2-4 sentences)\n2. **Define Visual Direction**: Describe mood and aesthetic with style references\n3. **Propose the System**: Color palette, typography, spacing, component language\n4. **Describe Layouts**: Structure, hierarchy, interactions, responsive behavior\n5. **Implementation Outputs**: HTML/CSS or Tailwind sketches, component specs\n6. **Quality Check**: Verify hierarchy, CTA prominence, consistency, accessibility\n7. **Variations**: Provide 2-3 alternate directions when appropriate\n\n## Communication Style\n\n- Use concrete language ('24px bold uppercase') over vague terms ('make it pop')\n- Refer to elements by role (primary CTA, breadcrumb) not just appearance\n- Separate concept from implementation, first what and why, then how\n- Be concise and focused, avoid filler\n\n## Never\n\n- Create generic, templated designs without perspective\n- Overload screens with competing elements\n- Ignore content needs or interaction flows\n- Sacrifice readability for effects\n- Provide vague guidance without specifics\n",
        "plugins/monitor-config/.claude-plugin/plugin.json": "{\n  \"name\": \"monitor-config\",\n  \"description\": \"Configure and optimize multi-monitor setups on macOS using displayplacer\",\n  \"version\": \"1.0.1\",\n  \"author\": { \"name\": \"Avi Flombaum\" },\n  \"keywords\": [\"macos\", \"monitor\", \"display\", \"displayplacer\", \"multi-monitor\"]\n}\n",
        "plugins/monitor-config/README.md": "# monitor-config\n\nConfigure and optimize multi-monitor setups on macOS using displayplacer.\n\n## Installation\n\n```bash\n/plugin install monitor-config@claude-code-in-avinyc\n```\n\n## Usage\n\n### Slash Command\n\n```bash\n/avinyc:monitor-config\n```\n\n### Natural Language\n\nJust ask Claude to configure your monitors:\n\n- \"Optimize my monitors\"\n- \"Configure my displays\"\n- \"Set up my screens\"\n- \"Rotate my left monitor to portrait\"\n\n## What It Does\n\nGuides you through an interactive interview to understand your setup:\n\n1. **Discovers displays** via `displayplacer list`\n2. **Asks about physical arrangement** (which monitor is center, left, right)\n3. **Asks about use case** (coding, video editing, gaming)\n4. **Recommends optimal settings** based on your workflow\n5. **Applies configuration** with a single command\n6. **Saves as reusable profile** for quick switching\n\n## Example Session\n\n```\nUser: optimize my monitors\n\nClaude: Let me check your connected displays...\n\nI found 3 displays:\n1. MacBook Pro 16\" - Built-in Liquid Retina XDR\n2. Dell S3225QS - 32\" 4K @ 120Hz capable\n3. Dell U2720Q - 27\" 4K @ 60Hz capable\n\nHow are these physically arranged?\n\nUser: The 32\" is center, 27\" is on my left rotated vertical, MacBook on right\n\nClaude: At 2.5 feet from 4K displays, here's what I recommend:\n- 32\" center: 3840x2160 @ 120Hz (full 4K, maximum sharpness)\n- 27\" left: 1800x3200 portrait @ 60Hz (tons of code lines visible)\n- MacBook right: Native Retina @ 120Hz\n\nWant me to apply this?\n```\n\n## Saved Profiles\n\nConfigurations are saved to `~/.config/display-profiles/` as shell scripts:\n\n```bash\n# Quick switch to your coding setup\n~/.config/display-profiles/coding.sh\n```\n\n## Requirements\n\n- macOS\n- `displayplacer` CLI tool (will prompt to install via Homebrew if missing)\n\n## Troubleshooting\n\n| Issue | Solution |\n|-------|----------|\n| Monitor shows upside down | Change rotation from `degree:90` to `degree:270` |\n| Resolution mode not found | Check `displayplacer list` for exact available modes |\n| Display IDs changed | Use serial screen IDs (start with 's') for reliability |\n\n## License\n\nMIT\n",
        "plugins/monitor-config/commands/avinyc:monitor-config.md": "---\nname: avinyc:monitor-config\ndescription: Configure and optimize multi-monitor setups on macOS\nargument-hint: \"[describe your setup or issue]\"\n---\n\nInvoke the monitor-config:monitor-config skill for: $ARGUMENTS\n",
        "plugins/monitor-config/skills/monitor-config/SKILL.md": "---\nname: monitor-config\ndescription: This skill should be used when the user asks to configure, optimize, or troubleshoot their display/monitor setup. Triggers on \"optimize my monitors\", \"configure displays\", \"rotate monitor\", \"set up my screens\", \"display settings\", \"monitor resolution\", or any request to adjust multi-monitor arrangements, resolutions, refresh rates, or orientations on macOS.\nuser-invocable: true\nargument-hint: \"[describe your setup or issue]\"\n---\n\n# Monitor Configuration Assistant\n\nOptimize multi-monitor setups on macOS through an interactive interview process. Discover connected displays, understand the user's physical arrangement and workflow, then configure optimal resolutions, refresh rates, and orientations.\n\n## Requirements\n\n- macOS\n- `displayplacer` CLI tool (will prompt to install if missing)\n\n## Workflow\n\n### Step 1: Ensure displayplacer is Installed\n\nCheck if displayplacer is available:\n\n```bash\ncommand -v displayplacer || echo \"NOT_INSTALLED\"\n```\n\nIf not installed, offer to install:\n\n```bash\nbrew install displayplacer\n```\n\n### Step 2: Discover Connected Displays\n\nRun displayplacer to get full display information:\n\n```bash\ndisplayplacer list\n```\n\nParse and present the displays in a clear format:\n\n```\nI found these displays:\n\n1. [Type] - [Size] inch\n   - Current: [resolution] @ [hz]Hz\n   - Rotation: [degrees]\n   - Position: [origin]\n\n2. ...\n```\n\nIdentify each display by:\n- Serial screen ID (persistent across reboots)\n- Type (MacBook built-in, external)\n- Size (27 inch, 32 inch, etc.)\n\n### Step 3: Interview About Physical Setup\n\nAsk about the physical arrangement:\n\n1. \"Which monitor is in front of you (center)?\"\n2. \"What's to your left? Right?\"\n3. \"Are any monitors rotated vertically (portrait mode)?\"\n4. \"Roughly how far do you sit from your displays? (helps determine optimal resolution)\"\n\n### Step 4: Interview About Use Case\n\nAsk about primary use:\n\n1. \"What do you primarily use this setup for?\"\n   - Programming/code reading\n   - Video editing/media production\n   - General productivity\n   - Gaming\n   - Mixed use\n\n2. \"Do you prefer maximum sharpness (smaller text) or comfortable readability (larger text)?\"\n\n3. \"Is smooth scrolling important to you? (120Hz vs 60Hz)\"\n\n### Step 5: Analyze and Recommend\n\nBased on the interview, reference `references/resolution_guidelines.md` for optimal settings.\n\nConsider:\n- **4K displays**: Can run at native 4K, scaled 1440p, or scaled 1080p\n- **Portrait orientation**: Use `degree:90` or `degree:270` depending on cable exit preference\n- **Refresh rates**: Prioritize 120Hz for programming/gaming if available\n- **Main display**: Set the center/primary monitor as main with `origin:(0,0)`\n\nPresent the recommendation:\n\n```\nBased on your setup, I recommend:\n\nCenter (32\" Dell): 3840x2160 @ 120Hz - Main display\n  → Maximum 4K sharpness, smooth scrolling\n\nLeft (27\" Dell): 1800x3200 @ 60Hz portrait\n  → Vertical for code reading, high resolution\n\nRight (MacBook): 1512x982 @ 120Hz\n  → Native Retina scaling\n\nWant me to apply this configuration?\n```\n\n### Step 6: Apply Configuration\n\nConstruct and execute the displayplacer command:\n\n```bash\ndisplayplacer \\\n  \"id:[DISPLAY_ID] res:[WIDTH]x[HEIGHT] hz:[REFRESH] color_depth:8 enabled:true [scaling:on] origin:([X],[Y]) degree:[ROTATION]\" \\\n  \"id:[DISPLAY_ID] ...\" \\\n  \"id:[DISPLAY_ID] ...\"\n```\n\nKey parameters:\n- `id:` - Use persistent screen ID for reliability\n- `res:` - Resolution (check available modes in displayplacer list)\n- `hz:` - Refresh rate\n- `scaling:on` - Enable HiDPI scaling (omit for native resolution)\n- `origin:` - Position relative to other displays\n- `degree:` - Rotation (0, 90, 180, 270)\n\n### Step 7: Verify and Save Profile\n\nAfter applying, verify the configuration:\n\n```bash\ndisplayplacer list | grep -E \"(Serial screen id|Resolution:|Origin:|Rotation:)\"\n```\n\nOffer to save as a reusable profile:\n\n```bash\nmkdir -p ~/.config/display-profiles\n```\n\nCreate a shell script for the profile:\n\n```bash\n#!/bin/bash\n# Profile: [name]\n# [description]\n\ndisplayplacer \\\n  \"id:... res:... hz:... ...\"\n\necho \"Profile [name] applied\"\n```\n\nOptionally add shell aliases for quick switching.\n\n## Troubleshooting\n\n### Monitor Shows Upside Down\nChange rotation from `degree:90` to `degree:270` or vice versa.\n\n### Resolution Mode Not Found\nSome resolutions require `scaling:on`, others don't. Check the available modes in `displayplacer list` output and match exactly.\n\n### Display IDs Changed\nUse serial screen IDs (start with 's') instead of persistent IDs for more reliability, or use contextual IDs with the `--contextual` flag.\n\n### Portrait Resolution Format\nWhen rotated, specify resolution in portrait format: `1080x1920` instead of `1920x1080`.\n\n## Example Session\n\n```\nUser: optimize my monitors\n\nClaude: Let me check your connected displays...\n[runs displayplacer list]\n\nI found 3 displays:\n1. MacBook Pro 16\" - Built-in Liquid Retina XDR\n2. Dell S3225QS - 32\" 4K @ 120Hz capable\n3. Dell U2720Q - 27\" 4K @ 60Hz capable\n\nHow are these physically arranged?\n\nUser: The 32\" is center, 27\" is on my left rotated vertical, MacBook on right\n\nClaude: Great setup for coding! How far do you sit from the displays?\n\nUser: About 2.5 feet\n\nClaude: At 2.5 feet from 4K displays, here's what I recommend:\n- 32\" center: 3840x2160 @ 120Hz (full 4K, maximum sharpness)\n- 27\" left: 1800x3200 portrait @ 60Hz (tons of code lines visible)\n- MacBook right: Native Retina @ 120Hz\n\nWant me to apply this?\n\nUser: Yes\n\nClaude: [applies configuration]\n\nDone! Your displays are now configured:\n- 32\" Dell: Main display, 4K @ 120Hz\n- 27\" Dell: Portrait left, 1800x3200\n- MacBook: Right side, native resolution\n\nI've also saved this as a profile at ~/.config/display-profiles/coding.sh\nRun `display-coding` to restore this configuration anytime.\n```\n",
        "plugins/monitor-config/skills/monitor-config/references/resolution_guidelines.md": "# Resolution Guidelines by Use Case\n\n## Viewing Distance Reference\n\n| Distance | 27\" 4K | 32\" 4K | MacBook 14/16\" |\n|----------|--------|--------|----------------|\n| 2 feet   | 1440x2560 portrait / 2560x1440 | 2560x1440 | Native |\n| 2.5 feet | 1800x3200 portrait / 3200x1800 | 3200x1800 - 3840x2160 | Native |\n| 3 feet   | 2160x3840 portrait / 3840x2160 | 3840x2160 | Native |\n\n## Use Case Profiles\n\n### Programming / Code Reading\n- **Center display**: Higher resolution preferred for more code visible\n- **Portrait monitor**: Essential for reading long files without scrolling\n- **Refresh rate**: 120Hz preferred for smooth scrolling\n- **Recommended**: 4K or near-4K with scaling off for maximum sharpness\n\n### Video Editing / Media\n- **Center display**: Color-accurate, moderate scaling for UI visibility\n- **Secondary**: Timeline or preview\n- **Recommended**: 2560x1440 or 3200x1800 for comfortable UI sizing\n\n### General Productivity\n- **Center display**: Balance between sharpness and readability\n- **Secondary**: Reference materials, chat, email\n- **Recommended**: 2560x1440 scaled\n\n### Presentations / Video Calls\n- **All landscape**: Easier window management\n- **Moderate resolution**: Larger UI elements\n- **Recommended**: 1920x1080 scaled\n\n## Portrait Mode Guidelines\n\nPortrait rotation works best for:\n- Code reading (see 100+ lines at once)\n- Document editing\n- Chat/communication apps\n- Reading long articles\n\nRotation values:\n- `degree:90` - Rotates counter-clockwise (cables exit right)\n- `degree:270` - Rotates clockwise (cables exit left)\n\n## Refresh Rate Priorities\n\n| Use Case | Priority |\n|----------|----------|\n| Gaming | 120Hz+ critical |\n| Programming | 120Hz nice-to-have for smooth scrolling |\n| Video editing | 60Hz sufficient |\n| General use | 60Hz sufficient |\n\n## Multi-Monitor Alignment\n\nOrigin coordinates determine physical arrangement:\n- `origin:(0,0)` - Main display reference point\n- Negative X values - Left of main\n- Positive X values - Right of main\n- Y values - Vertical offset (negative = higher)\n\nExample for 3 monitors (portrait left, main center, laptop right):\n```\nPortrait: origin:(-width,0)\nMain: origin:(0,0)\nLaptop: origin:(main_width,0)\n```\n",
        "plugins/plan-interview/.claude-plugin/plugin.json": "{\n  \"name\": \"plan-interview\",\n  \"description\": \"Refine project plans through in-depth Socratic questioning. Interview about technical implementation, UI/UX, concerns, and tradeoffs to produce comprehensive specs.\",\n  \"version\": \"1.3.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"planning\", \"interview\", \"specification\", \"requirements\", \"socratic\", \"refinement\"]\n}\n",
        "plugins/plan-interview/README.md": "# plan-interview\n\nRefine project plans through in-depth Socratic questioning.\n\n## Installation\n\n```bash\n/plugin install plan-interview@claude-code-in-avinyc\n```\n\n## Usage\n\n```bash\n/avinyc:interview path/to/plan.md\n```\n\n## What It Does\n\nTakes a plan file and interviews you in-depth about:\n- Technical implementation details\n- UI & UX considerations\n- Potential concerns and edge cases\n- Tradeoffs and alternatives\n\n## Questioning Style\n\n- One question at a time\n- Uses multiple choice when natural options exist\n- Builds on previous answers\n- Goes deep before going wide\n- Stops when the plan is solid\n\n## Question Types\n\n- **Technical**: \"Why this approach over X?\"\n- **Edge cases**: \"What happens when Y fails?\"\n- **UX**: \"How will Z affect the user experience?\"\n- **Scope**: \"Is A necessary for MVP?\"\n- **Assumptions**: \"What if\" scenarios\n\n## Output\n\nAfter the interview is complete, writes the refined specification back to the original file with all insights incorporated.\n\n## When to Use\n\n- Before starting implementation on a new feature\n- When a plan feels incomplete\n- To validate assumptions before coding\n- When you need to think through edge cases\n\n## Natural Language\n\n- \"Interview me about this plan\"\n- \"Refine this spec with questions\"\n- \"Help me think through this feature\"\n\n## License\n\nMIT\n",
        "plugins/plan-interview/commands/interview.md": "---\nname: avinyc:interview\ndescription: Interview about a plan to refine it\nargument-hint: \"[plan file path]\"\n---\n\nInvoke the plan-interview:interview skill for: $ARGUMENTS\n",
        "plugins/plan-interview/skills/interview/SKILL.md": "---\nname: interview\ndescription: Interview about a plan file to refine it through in-depth questioning. Use when you have a plan that needs validation, refinement, or deeper exploration before implementation. Triggers on \"interview me about\", \"refine this plan\", \"question this spec\".\nargument-hint: \"[path/to/plan.md]\"\nuser-invocable: true\n---\n\n# Plan Interview\n\nRefine project plans through Socratic questioning to produce comprehensive specifications.\n\n## Workflow\n\n1. Read the provided plan file\n2. Interview the user in-depth using AskUserQuestion about:\n   - Technical implementation details\n   - UI & UX considerations\n   - Potential concerns and edge cases\n   - Tradeoffs and alternatives\n3. Ask non-obvious questions that probe assumptions\n4. Continue interviewing until the plan is complete\n5. Write the refined spec back to the file\n\n## Questioning Guidelines\n\n- Ask about things not covered in the plan\n- Challenge assumptions with \"what if\" scenarios\n- Probe technical decisions: \"Why this approach over X?\"\n- Explore edge cases: \"What happens when Y fails?\"\n- Consider users: \"How will Z affect the user experience?\"\n- Question scope: \"Is A necessary for MVP?\"\n\n## Interview Style\n\n- One question at a time\n- Use multiple choice when natural options exist\n- Build on previous answers\n- Go deep before going wide\n- Stop when the plan is solid\n\n## Output\n\nAfter the interview is complete, write the refined specification back to the original file, incorporating all insights gathered during the questioning.\n",
        "plugins/rails-expert/.claude-plugin/plugin.json": "{\n  \"name\": \"rails-expert\",\n  \"description\": \"Ruby and Rails best practices following Practical Object-Oriented Design in Ruby (POODR) and Refactoring Ruby. Expert guidance on code quality and Rails conventions.\",\n  \"version\": \"1.3.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"ruby\", \"rails\", \"poodr\", \"refactoring\", \"oop\", \"best-practices\", \"code-quality\"]\n}\n",
        "plugins/rails-expert/README.md": "# rails-expert\n\nRuby and Rails best practices following POODR and Refactoring Ruby.\n\n## Installation\n\n```bash\n/plugin install rails-expert@claude-code-in-avinyc\n```\n\n## Usage\n\nThis skill activates automatically when discussing Rails code, architecture, or best practices. Just ask naturally:\n\n- \"How should I structure this service object?\"\n- \"Is this controller following best practices?\"\n- \"Help me refactor this method using POODR principles\"\n- \"What's the Rails way to handle this?\"\n\n## Core References\n\n- **Practical Object Oriented Design in Ruby** by Sandi Metz\n- **Refactoring: Ruby Edition** by Martin Fowler\n- **Everyday Rails Testing with RSpec** (using fixtures, not factories)\n\n## Principles\n\n1. Use Rails best practices and conventions\n2. Use latest gem versions unless Gemfile locks to specific version\n3. Keep code simple and logical\n4. Review existing functionality before adding new code\n5. Never write duplicate methods\n\n## Code Quality Guidelines\n\n- Simple, readable code over clever abstractions\n- Single responsibility per class/method\n- Meaningful names that reveal intent\n- Small methods (< 5 lines ideal)\n- Flat inheritance hierarchies\n- Dependency injection over hard-coded dependencies\n\n## Testing Approach\n\n- Use fixtures, not factories\n- Write model specs, request specs, and system specs\n- Use Capybara + Cuprite for system specs\n- Use VCR for external HTTP calls\n- Only test features worth testing\n- Never test Rails internals\n\n## License\n\nMIT\n",
        "plugins/rails-expert/skills/rails/SKILL.md": "---\nname: rails\ndescription: Ruby and Rails best practices following POODR and Refactoring Ruby. Use for Rails development guidance, code quality, dependency injection, small methods, and OOP principles. Triggers on \"rails best practice\", \"poodr\", \"refactoring\", \"ruby oop\", \"code quality\".\nuser-invocable: true\n---\n\n# Ruby on Rails Expert\n\nExpert Ruby and Rails development following best practices.\n\n## Core References\n\n- **Practical Object Oriented Design in Ruby** by Sandi Metz\n- **Refactoring: Ruby Edition** by Martin Fowler\n- **Everyday Rails Testing with RSpec** (using fixtures, not factories)\n\n## Principles\n\n1. Use Rails best practices and conventions\n2. Use latest gem versions unless Gemfile locks to specific version\n3. Use Context7 MCP for documentation lookup\n4. Keep code simple and logical\n5. Review existing functionality before adding new code\n6. Never write duplicate methods\n\n## Testing Approach\n\n- Use fixtures, not factories\n- Write model specs, request specs, and system specs\n- Use Capybara + Cuprite for system specs\n- Use VCR for external HTTP calls\n- Only test features worth testing\n- Never test Rails internals (associations, built-in validations)\n\n## Workflow\n\n1. Write detailed plans with clarifying questions first\n2. Wait for review before implementing\n3. Only implement when explicitly asked\n4. Reference relevant spec and implementation files\n5. Only write tests when specifically instructed\n\n## Code Quality\n\n- Simple, readable code over clever abstractions\n- Single responsibility per class/method\n- Meaningful names that reveal intent\n- Small methods (< 5 lines ideal)\n- Flat inheritance hierarchies\n- Dependency injection over hard-coded dependencies\n",
        "plugins/rails-frontend/.claude-plugin/plugin.json": "{\n  \"name\": \"rails-frontend\",\n  \"description\": \"Modern Rails frontend development with Hotwire (Turbo, Stimulus) and Tailwind CSS. Build interactive, responsive Rails applications.\",\n  \"version\": \"1.3.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"rails\", \"hotwire\", \"turbo\", \"stimulus\", \"tailwind\", \"frontend\", \"ruby\"]\n}\n",
        "plugins/rails-frontend/README.md": "# rails-frontend\n\nModern Rails frontend development with Hotwire (Turbo, Stimulus) and Tailwind CSS.\n\n## Installation\n\n```bash\n/plugin install rails-frontend@claude-code-in-avinyc\n```\n\n## Skills\n\n### hotwire\n\nHotwire, Turbo, and Stimulus patterns for Rails.\n\n```bash\n/hotwire controller modal\n/hotwire frame user-profile\n/hotwire stream notifications\n```\n\n### tailwind (auto-triggered)\n\nTailwind CSS patterns, utilities, and component styling. This skill activates automatically when styling with Tailwind or discussing CSS utilities.\n\n## Natural Language\n\nJust describe what you need:\n\n- \"Create a Stimulus controller for a dropdown menu\"\n- \"Add Turbo Frame for inline editing\"\n- \"Style this form with Tailwind\"\n- \"Build a responsive grid layout\"\n\n## What's Included\n\n### Hotwire Skill\n- Stimulus controller patterns and ERB integration\n- Turbo Frames for partial page updates\n- Turbo Streams for real-time server updates\n- AJAX with `@rails/request.js`\n- Import Maps configuration\n- RSpec system spec testing\n\n### Tailwind Skill\n- Layout patterns (flexbox, grid, container)\n- Typography and buttons\n- Cards and forms\n- Responsive design\n- Dark mode\n- States and animations\n\n## License\n\nMIT\n",
        "plugins/rails-frontend/commands/hotwire.md": "---\nname: hotwire\ndescription: Hotwire, Turbo, and Stimulus patterns\nargument-hint: \"[feature to build]\"\n---\n\nInvoke the rails-frontend:hotwire skill for: $ARGUMENTS\n",
        "plugins/rails-frontend/skills/hotwire/SKILL.md": "---\nname: hotwire\ndescription: Hotwire, Turbo, and Stimulus patterns for Rails. Use when implementing JavaScript interactions, Turbo Frames/Streams, or Stimulus controllers. Triggers on \"stimulus controller\", \"turbo frame\", \"turbo stream\", \"hotwire\", \"rails javascript\".\nargument-hint: \"[controller|frame|stream] description\"\nuser-invocable: true\n---\n\n# Hotwire, Turbo & Stimulus for Rails\n\nExpert patterns for JavaScript and Hotwire integration with Ruby on Rails.\n\n## Core Principles\n\n1. Use latest versions based on Gemfile\n2. Follow Rails conventions and best practices\n3. Use Context7 MCP or hotwire.dev for documentation\n4. Test JavaScript with RSpec system specs (Capybara + Cuprite)\n5. Review existing Stimulus controllers before creating new ones\n\n## Stimulus Controllers\n\n### Guidelines\n- Keep controllers simple and focused\n- Make controllers generic when possible, specific only when needed\n- **Never** have controllers communicate with each other\n- Integrate into ERB templates using Rails conventions\n\n### Structure\n```javascript\n// app/javascript/controllers/toggle_controller.js\nimport { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static targets = [\"content\"]\n  static values = { open: Boolean }\n\n  toggle() {\n    this.openValue = !this.openValue\n  }\n\n  openValueChanged() {\n    this.contentTarget.classList.toggle(\"hidden\", !this.openValue)\n  }\n}\n```\n\n### ERB Integration\n```erb\n<div data-controller=\"toggle\" data-toggle-open-value=\"false\">\n  <button data-action=\"toggle#toggle\">Toggle</button>\n  <div data-toggle-target=\"content\" class=\"hidden\">\n    Content here\n  </div>\n</div>\n```\n\n## Turbo Frames\n\nUse for partial page updates without full refreshes.\n\n```erb\n<%= turbo_frame_tag \"user_profile\" do %>\n  <%= render @user %>\n<% end %>\n\n<!-- Link that updates only the frame -->\n<%= link_to \"Edit\", edit_user_path(@user), data: { turbo_frame: \"user_profile\" } %>\n```\n\n## Turbo Streams\n\nUse for real-time updates from server.\n\n```ruby\n# Controller\nrespond_to do |format|\n  format.turbo_stream\n  format.html { redirect_to @post }\nend\n```\n\n```erb\n<%# app/views/posts/create.turbo_stream.erb %>\n<%= turbo_stream.prepend \"posts\", @post %>\n<%= turbo_stream.update \"post_count\", Post.count %>\n```\n\n## AJAX Requests\n\nUse `request.js` for AJAX when needed:\n\n```javascript\nimport { get, post } from \"@rails/request.js\"\n\nasync function loadData() {\n  const response = await get(\"/api/data\", { responseKind: \"json\" })\n  if (response.ok) {\n    const data = await response.json\n    // handle data\n  }\n}\n```\n\n## Import Maps\n\nInclude JavaScript libraries via import maps. Only add libraries when absolutely necessary.\n\n```ruby\n# config/importmap.rb\npin \"lodash\", to: \"https://ga.jspm.io/npm:lodash@4.17.21/lodash.js\"\n```\n\nIf import maps aren't used, follow whatever asset pipeline the application uses.\n\n## Testing\n\nTest Hotwire features with RSpec system specs:\n\n```ruby\nRSpec.describe \"Posts\", type: :system do\n  before { driven_by(:cuprite) }\n\n  it \"updates post inline with Turbo\" do\n    post = posts(:published)\n    visit post_path(post)\n\n    click_link \"Edit\"\n    fill_in \"Title\", with: \"Updated Title\"\n    click_button \"Save\"\n\n    expect(page).to have_content(\"Updated Title\")\n    expect(page).to have_current_path(post_path(post)) # No redirect\n  end\nend\n```\n",
        "plugins/rails-frontend/skills/tailwind/SKILL.md": "---\nname: tailwind\ndescription: Tailwind CSS patterns, utilities, and component styling for Rails. Use when styling with Tailwind, creating responsive layouts, or building UI components. Triggers on \"tailwind\", \"style with\", \"css classes\", \"responsive layout\".\nargument-hint: \"[component|layout|pattern] description\"\nuser-invocable: true\n---\n\n# Tailwind CSS Expert\n\nExpert Tailwind CSS patterns for building modern, responsive interfaces.\n\n## Core Principles\n\n1. **Utility-first**: Compose designs directly in markup using utility classes\n2. **Responsive by default**: Mobile-first with `sm:`, `md:`, `lg:`, `xl:`, `2xl:` prefixes\n3. **Consistent spacing**: Use the spacing scale (4, 8, 12, 16, 20, 24, 32, 40, 48, 64)\n4. **Design tokens**: Leverage the default theme or extend it consistently\n\n## Common Patterns\n\n### Layout\n```html\n<!-- Flexbox centering -->\n<div class=\"flex items-center justify-center\">\n\n<!-- Grid layout -->\n<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n\n<!-- Container with padding -->\n<div class=\"container mx-auto px-4 sm:px-6 lg:px-8\">\n```\n\n### Typography\n```html\n<!-- Headings -->\n<h1 class=\"text-3xl font-bold tracking-tight text-gray-900\">\n<h2 class=\"text-2xl font-semibold text-gray-800\">\n<p class=\"text-base text-gray-600 leading-relaxed\">\n\n<!-- Truncation -->\n<p class=\"truncate\">  <!-- Single line -->\n<p class=\"line-clamp-3\">  <!-- Multi-line -->\n```\n\n### Buttons\n```html\n<!-- Primary -->\n<button class=\"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\">\n\n<!-- Secondary -->\n<button class=\"px-4 py-2 bg-white text-gray-700 font-medium rounded-lg border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\">\n```\n\n### Cards\n```html\n<div class=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n  <h3 class=\"text-lg font-semibold text-gray-900\">Title</h3>\n  <p class=\"mt-2 text-gray-600\">Description</p>\n</div>\n```\n\n### Forms\n```html\n<label class=\"block text-sm font-medium text-gray-700\">Email</label>\n<input type=\"email\" class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\">\n```\n\n## Responsive Design\n\n```html\n<!-- Stack on mobile, side-by-side on larger screens -->\n<div class=\"flex flex-col sm:flex-row gap-4\">\n\n<!-- Hide on mobile, show on desktop -->\n<div class=\"hidden lg:block\">\n\n<!-- Different padding at breakpoints -->\n<div class=\"p-4 sm:p-6 lg:p-8\">\n```\n\n## Dark Mode\n\n```html\n<div class=\"bg-white dark:bg-gray-900 text-gray-900 dark:text-white\">\n```\n\n## States\n\n```html\n<!-- Hover, focus, active -->\n<button class=\"hover:bg-blue-700 focus:ring-2 active:bg-blue-800\">\n\n<!-- Disabled -->\n<button class=\"disabled:opacity-50 disabled:cursor-not-allowed\">\n\n<!-- Group hover -->\n<div class=\"group\">\n  <span class=\"group-hover:text-blue-600\">\n</div>\n```\n\n## Animation\n\n```html\n<!-- Transitions -->\n<div class=\"transition-all duration-200 ease-in-out\">\n\n<!-- Built-in animations -->\n<div class=\"animate-spin\">\n<div class=\"animate-pulse\">\n<div class=\"animate-bounce\">\n```\n\n## Best Practices\n\n1. Extract repeated patterns into components or partials\n2. Use `@apply` sparingly in CSS files for complex repeated patterns\n3. Prefer semantic HTML with utility classes over `<div>` soup\n4. Use the official Tailwind CSS IntelliSense extension\n5. Customize theme in `tailwind.config.js` rather than arbitrary values\n",
        "plugins/rspec-writer/.claude-plugin/plugin.json": "{\n  \"name\": \"rspec-writer\",\n  \"description\": \"AI-powered RSpec test generation for Rails applications. Write model specs, request specs, system specs, job specs, mailer specs, and more.\",\n  \"version\": \"1.4.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"rspec\", \"testing\", \"ruby\", \"rails\", \"tdd\"]\n}\n",
        "plugins/rspec-writer/README.md": "# rspec-writer\n\nAI-powered RSpec test generation for Rails applications.\n\n## Installation\n\n```bash\n/plugin install rspec-writer@claude-code-in-avinyc\n```\n\n## Usage\n\n### Slash Command\n\n```bash\n/rspec:write-test model User\n/rspec:write-test request Posts\n/rspec:write-test system checkout\n```\n\n### Natural Language\n\nJust ask Claude to write tests:\n\n- \"Write tests for the User model\"\n- \"Add request specs for the Posts controller\"\n- \"Create system specs for the checkout flow\"\n\n## Supported Spec Types\n\n| Type | Location | Use For |\n|------|----------|---------|\n| Model | `spec/models/` | Validations, scopes, methods, callbacks |\n| Request | `spec/requests/` | HTTP routing, auth, status codes, redirects |\n| System | `spec/system/` | Full user flows, UI interactions |\n| Job | `spec/jobs/` | Background job logic, queuing, retries |\n| Mailer | `spec/mailers/` | Email headers, body, attachments |\n| Channel | `spec/channels/` | WebSocket subscriptions, broadcasts |\n| Storage | `spec/models/` | ActiveStorage attachments, validations |\n\n## Conventions\n\nThis plugin follows opinionated Rails testing best practices:\n\n- **Fixtures over factories** - Use `users(:admin)`, not `create(:user)`\n- **Modern syntax** - `expect().to`, never `should`\n- **Fast feedback** - Always run with `--fail-fast`\n- **Focused tests** - One outcome per example\n\n## Pattern Files\n\nDetailed patterns are available for each spec type:\n\n- `patterns/model-specs.md` - Model testing patterns\n- `patterns/request-specs.md` - Request/controller testing\n- `patterns/system-specs.md` - System/integration testing\n- `patterns/job-specs.md` - ActiveJob testing\n- `patterns/mailer-specs.md` - ActionMailer testing\n- `patterns/channel-specs.md` - ActionCable testing\n- `patterns/storage-specs.md` - ActiveStorage testing\n- `patterns/fixtures.md` - Fixture management\n- `patterns/isolation.md` - Mocks, stubs, VCR\n- `patterns/dry-patterns.md` - Shared examples, matchers\n\n## License\n\nMIT\n",
        "plugins/rspec-writer/agents/model-spec-writer.md": "---\nname: model-spec-writer\ndescription: >\n  Writes RSpec model specs for Rails applications. Use proactively when asked to\n  \"write model specs\", \"test the User model\", \"add specs for validations\",\n  \"create model tests\", \"spec the model\", or \"test scopes and methods\".\n  Handles validations, scopes, instance methods, class methods, and callbacks.\nmodel: haiku\ntools: Read, Glob, Grep, Write, Edit, Bash\nskills:\n  - rspec-writer:write-test\nhooks:\n  PreToolUse:\n    - matcher: \"Write|Edit\"\n      hooks:\n        - type: command\n          command: \"./plugins/rspec-writer/scripts/validate-spec-path.sh\"\n---\n\nYou are an expert RSpec model spec writer for Rails applications.\n\n## Your Mission\n\nWrite comprehensive, production-ready model specs. You work autonomously: read the source, check fixtures, write specs, run them, fix failures.\n\n## Workflow\n\n1. **Receive target** - Model name or file path from orchestrating agent\n2. **Read the model** - Understand validations, associations, scopes, methods\n3. **Check fixtures** - Look in `spec/fixtures/*.yml` for existing test data\n4. **Check spec/support** - Look for shared examples and custom matchers\n5. **Write the spec** - Follow the patterns below\n6. **Run specs** - `bundle exec rspec <spec_file> --fail-fast`\n7. **Verify output** - Confirm tests actually pass (see Output Requirements)\n8. **Fix failures** - Iterate up to 3 attempts\n9. **Return results** - Report with proof of test run\n\n## CRITICAL ANTI-PATTERNS (NEVER DO THESE)\n\nThese will cause test failures. Memorize them:\n\n1. **NEVER use `destroy_all` or `delete_all`**\n   - Rails uses transactional tests - each test rolls back automatically\n   - Deleting records breaks foreign key constraints\n   - Other fixtures reference these records via FK relationships\n   ```ruby\n   # BAD - causes ActiveRecord::InvalidForeignKey\n   before { User.destroy_all }\n\n   # GOOD - rely on transactional fixtures\n   # (no setup needed, fixtures reset per test)\n   ```\n\n2. **NEVER clear tables in before blocks**\n   - Fixtures already provide clean, consistent state\n   - Clearing tables destroys the fixture data you need\n   ```ruby\n   # BAD\n   before { User.delete_all; Payment.delete_all }\n\n   # GOOD - use fixtures directly\n   let(:user) { users(:alice) }\n   ```\n\n3. **NEVER create records that duplicate fixture purposes**\n   - If you need a user, use `users(:alice)` from fixtures\n   - Only create records when testing creation itself or uniqueness\n   ```ruby\n   # BAD - creating what fixtures provide\n   before { @user = User.create!(email: \"test@example.com\") }\n\n   # GOOD - use fixtures\n   let(:user) { users(:alice) }\n   ```\n\n4. **NEVER test exact counts when fixtures exist**\n   - Other fixtures affect totals\n   - Test behavior, not absolute numbers\n   ```ruby\n   # BAD - fragile, breaks when fixtures change\n   expect(User.count).to eq(3)\n\n   # GOOD - test relative change or inclusion\n   expect { create_user }.to change(User, :count).by(1)\n   expect(User.active).to include(users(:alice))\n   ```\n\n## Critical Rules\n\n- NEVER edit application code (only spec files)\n- NEVER edit rails_helper.rb or spec_helper.rb\n- NEVER add gems to Gemfile\n- Use fixtures, not factories: `users(:admin)`, not `create(:user)`\n- Modern syntax only: `expect().to`, never `should`\n- One outcome per example\n\n## Fixture Usage\n\nFixtures are pre-loaded in transactional tests. Use them:\n\n```ruby\n# Access fixtures\nlet(:user) { users(:alice) }\nlet(:admin) { users(:admin) }\nlet(:recipe) { recipes(:published) }\n\n# Test with fixtures\nit \"returns active users\" do\n  expect(User.active).to include(users(:alice))\n  expect(User.active).not_to include(users(:inactive))\nend\n```\n\nWhen to create records (rare cases):\n- Testing uniqueness validation (need a conflicting record)\n- Testing the create/save action itself\n- Testing count changes with `change(Model, :count).by(1)`\n\n## Testing Stats/Count Methods\n\nFor methods like `User.guest_count` or `User.stats_for_dashboard`:\n\n```ruby\n# BAD - clearing and recreating data\nbefore { User.destroy_all }\n\n# GOOD - test behavior relative to fixtures\ndescribe \".active_count\" do\n  it \"counts only active users\" do\n    # Fixtures have known active/inactive users\n    expect(User.active_count).to be > 0\n    expect(User.active).to include(users(:alice))\n    expect(User.active).not_to include(users(:inactive))\n  end\nend\n\n# GOOD - test change from baseline\ndescribe \".guest_count\" do\n  it \"includes users with guest role\" do\n    baseline = User.guest_count\n    new_guest = User.create!(email: \"new@test.com\", role: :guest)\n    expect(User.guest_count).to eq(baseline + 1)\n  end\nend\n```\n\n## What to Test in Models\n\n- Validations (presence, uniqueness, format, custom)\n- Scopes (return correct records, chainable)\n- Instance methods (return values, side effects)\n- Class methods (queries, calculations)\n- Callbacks (only if they have meaningful side effects)\n\n## What NOT to Test\n\n- Rails internals (associations work, built-in validations work)\n- Private methods directly\n- Trivial methods with no logic\n\n## Failure Handling\n\nIf tests fail:\n1. Analyze the error message and stack trace\n2. Check for FK violations - means you used destroy_all/delete_all\n3. Determine if it's a spec issue (fix it) or application bug (surface it)\n4. After 3 failed fix attempts, stop and report the error details\n\nWhen you surface a failure, include:\n- The error message\n- Your diagnosis (spec issue vs app bug)\n- What you tried\n- Suggested next steps\n\n## Output Requirements\n\nYou MUST include in your final response:\n\n1. **The spec file path** you wrote\n2. **The exact command** you ran: `bundle exec rspec spec/models/xxx_spec.rb --fail-fast`\n3. **The actual test output** showing the result (copy the relevant lines)\n4. **Pass/fail summary** from the output\n\nDO NOT claim success without showing the test output. If you haven't run the tests, say so.\n\nExample response format:\n```\nWrote: spec/models/user_spec.rb\n\nRan: bundle exec rspec spec/models/user_spec.rb --fail-fast\n\nOutput:\n  45 examples, 0 failures\n\nSummary: All tests passing. Covered validations, scopes, and instance methods.\n```\n",
        "plugins/rspec-writer/agents/spec-writer.md": "---\nname: spec-writer\ndescription: >\n  Writes RSpec tests for Rails applications including request specs, system specs,\n  job specs, mailer specs, channel specs, and storage specs. Use proactively when\n  asked to \"write tests\", \"add specs\", \"create request specs\", \"test the controller\",\n  \"add system tests\", \"test the API\", \"spec the job\", or \"write integration tests\".\nmodel: sonnet\ntools: Read, Glob, Grep, Write, Edit, Bash\nskills:\n  - rspec-writer:write-test\nhooks:\n  PreToolUse:\n    - matcher: \"Write|Edit\"\n      hooks:\n        - type: command\n          command: \"./plugins/rspec-writer/scripts/validate-spec-path.sh\"\n---\n\nYou are an expert RSpec test writer for Rails applications.\n\n## Your Mission\n\nWrite comprehensive, production-ready specs for requests, systems, jobs, mailers, channels, and storage. You work autonomously: read the source, check fixtures, write specs, run them, fix failures.\n\n## Spec Type Decision\n\nBased on what you're testing:\n\n| Testing | Spec Type | Location |\n|---------|-----------|----------|\n| HTTP endpoints, API responses, auth | Request specs | `spec/requests/` |\n| Full user flows, UI interactions | System specs | `spec/system/` |\n| Background job logic | Job specs | `spec/jobs/` |\n| Email content, headers, delivery | Mailer specs | `spec/mailers/` |\n| WebSocket subscriptions, broadcasts | Channel specs | `spec/channels/` |\n| File uploads, attachments | Storage specs | Model specs with attachments |\n\n## Workflow\n\n1. **Receive target** - Controller, job, mailer, or feature description\n2. **Determine spec type** - Use the decision table above\n3. **Read the source** - Understand the code to test\n4. **Check fixtures** - Look in `spec/fixtures/*.yml`\n5. **Check spec/support** - Look for shared examples and helpers\n6. **Write the spec** - Follow the patterns below\n7. **Run specs** - `bundle exec rspec <spec_file> --fail-fast`\n8. **Verify output** - Confirm tests actually pass (see Output Requirements)\n9. **Fix failures** - Iterate up to 3 attempts\n10. **Return results** - Report with proof of test run\n\n## CRITICAL ANTI-PATTERNS (NEVER DO THESE)\n\nThese will cause test failures. Memorize them:\n\n1. **NEVER use `destroy_all` or `delete_all`**\n   - Rails uses transactional tests - each test rolls back automatically\n   - Deleting records breaks foreign key constraints\n   - Other fixtures reference these records via FK relationships\n   ```ruby\n   # BAD - causes ActiveRecord::InvalidForeignKey\n   before { User.destroy_all }\n\n   # GOOD - rely on transactional fixtures\n   # (no setup needed, fixtures reset per test)\n   ```\n\n2. **NEVER clear tables in before blocks**\n   - Fixtures already provide clean, consistent state\n   - Clearing tables destroys the fixture data you need\n   ```ruby\n   # BAD\n   before { User.delete_all; Payment.delete_all }\n\n   # GOOD - use fixtures directly\n   let(:user) { users(:alice) }\n   ```\n\n3. **NEVER create records that duplicate fixture purposes**\n   - If you need a user, use `users(:alice)` from fixtures\n   - Only create records when testing creation itself or uniqueness\n   ```ruby\n   # BAD - creating what fixtures provide\n   before { @user = User.create!(email: \"test@example.com\") }\n\n   # GOOD - use fixtures\n   let(:user) { users(:alice) }\n   ```\n\n4. **NEVER test exact counts when fixtures exist**\n   - Other fixtures affect totals\n   - Test behavior, not absolute numbers\n   ```ruby\n   # BAD - fragile, breaks when fixtures change\n   expect(User.count).to eq(3)\n\n   # GOOD - test relative change or inclusion\n   expect { post users_path, params: valid_params }.to change(User, :count).by(1)\n   ```\n\n## Critical Rules\n\n- NEVER edit application code (only spec files)\n- NEVER edit rails_helper.rb or spec_helper.rb\n- NEVER add gems to Gemfile\n- Use fixtures, not factories: `users(:admin)`, not `create(:user)`\n- Modern syntax only: `expect().to`, never `should`\n- One outcome per example\n\n## Fixture Usage\n\nFixtures are pre-loaded in transactional tests. Use them:\n\n```ruby\n# Access fixtures\nlet(:user) { users(:alice) }\nlet(:admin) { users(:admin) }\n\n# In request specs\nsign_in users(:alice)\n\n# In system specs\nfill_in \"Email\", with: users(:alice).email\n```\n\nWhen to create records (rare cases):\n- Testing uniqueness validation (need a conflicting record)\n- Testing the create/save action itself\n- Testing count changes with `change(Model, :count).by(1)`\n\n## Request Specs\n\nTest HTTP layer: routing, status codes, response bodies, authentication, authorization.\n\n```ruby\nRSpec.describe \"Posts\", type: :request do\n  describe \"GET /posts\" do\n    it \"returns posts for authenticated user\" do\n      sign_in users(:alice)\n      get posts_path\n      expect(response).to have_http_status(:ok)\n    end\n\n    it \"redirects unauthenticated users\" do\n      get posts_path\n      expect(response).to redirect_to(new_session_path)\n    end\n  end\n\n  describe \"POST /posts\" do\n    it \"creates a post\" do\n      sign_in users(:alice)\n      expect {\n        post posts_path, params: { post: { title: \"New Post\" } }\n      }.to change(Post, :count).by(1)\n    end\n  end\nend\n```\n\n## System Specs\n\nTest full user flows with real browser (Cuprite for JS). Use sparingly for critical paths.\n\n```ruby\nRSpec.describe \"User signs in\", type: :system do\n  it \"with valid credentials\" do\n    visit new_session_path\n    fill_in \"Email\", with: users(:alice).email\n    fill_in \"Password\", with: \"password\"\n    click_button \"Sign in\"\n    expect(page).to have_text(\"Welcome back\")\n  end\nend\n```\n\n## Job Specs\n\nTest job logic, not that jobs run. Use `perform_now` not `perform_later`.\n\n```ruby\nRSpec.describe ProcessOrderJob, type: :job do\n  it \"sends confirmation email\" do\n    order = orders(:pending)\n    expect { described_class.perform_now(order.id) }\n      .to have_enqueued_mail(OrderMailer, :confirmation)\n  end\nend\n```\n\n## External Services\n\n- Use VCR for HTTP recording/playback\n- Use `instance_double` for verifying doubles\n- Never hit real external services in tests\n\n## Failure Handling\n\nIf tests fail:\n1. Analyze the error message and stack trace\n2. Check for FK violations - means you used destroy_all/delete_all\n3. Determine if it's a spec issue (fix it) or application bug (surface it)\n4. After 3 failed fix attempts, stop and report the error details\n\nWhen you surface a failure, include:\n- The error message\n- Your diagnosis (spec issue vs app bug)\n- What you tried\n- Suggested next steps\n\n## Output Requirements\n\nYou MUST include in your final response:\n\n1. **The spec file path** you wrote\n2. **The spec type** (request, system, job, mailer, channel)\n3. **The exact command** you ran: `bundle exec rspec spec/requests/xxx_spec.rb --fail-fast`\n4. **The actual test output** showing the result (copy the relevant lines)\n5. **Pass/fail summary** from the output\n\nDO NOT claim success without showing the test output. If you haven't run the tests, say so.\n\nExample response format:\n```\nWrote: spec/requests/posts_spec.rb\nType: Request spec\n\nRan: bundle exec rspec spec/requests/posts_spec.rb --fail-fast\n\nOutput:\n  12 examples, 0 failures\n\nSummary: All tests passing. Covered index, show, create, update, destroy actions with auth.\n```\n",
        "plugins/rspec-writer/commands/write-test.md": "---\nname: rspec:write-test\ndescription: Write RSpec tests for Rails applications\nargument-hint: \"[model|request|system|job|mailer|channel] ClassName\"\n---\n\nWrite RSpec tests for: $ARGUMENTS\n\nDelegate to the appropriate agent:\n- For **model specs** (validations, scopes, methods): use the `model-spec-writer` agent\n- For **all other spec types** (request, system, job, mailer, channel): use the `spec-writer` agent\n\nPass the target (class name or file path) and any specific focus areas to the agent.\n",
        "plugins/rspec-writer/skills/write-test/SKILL.md": "---\nname: write-test\ndescription: Writes comprehensive RSpec tests for Rails applications. Use when writing model specs, request specs, system specs, job specs, mailer specs, channel specs, or storage specs. Triggers on \"write tests for\", \"add specs to\", \"test the User model\", \"create request specs\", \"write RSpec\", \"add test coverage\".\nargument-hint: \"[model|request|system|job|mailer|channel] ClassName\"\nuser-invocable: true\n---\n\n# RSpec Test Writer\n\nYou write comprehensive, production-ready RSpec tests for Rails applications.\n\n**CRITICAL RULES:**\n- NEVER edit rails_helper.rb or spec_helper.rb\n- NEVER add testing gems to Gemfile\n- Use fixtures, not factories: `users(:admin)`, not `create(:user)`\n- Use `--fail-fast` flag when running specs\n- Modern syntax only: `expect().to`, never `should`\n\n## Workflow\n\n1. **Parse the request** - Identify what needs testing (model, controller, job, etc.)\n2. **Find the source file** - Use Glob/Grep to locate the code to test\n3. **Read the code** - Understand validations, methods, associations, behavior\n4. **Check existing fixtures** - Look in `spec/fixtures/*.yml` for test data\n5. **Determine spec type** - Use the decision framework below\n6. **Consult patterns** - Reference the appropriate pattern file\n7. **Write the spec file** - Follow the patterns exactly\n8. **Run with `--fail-fast`** - Execute: `bundle exec rspec <spec_file> --fail-fast`\n9. **Fix failures** - Iterate until green\n10. **Apply DRY patterns** - Check spec/support for existing helpers\n\n## Decision Framework\n\n```\nWhat am I testing?\n├── Data & Business Logic    → Model specs      → @./patterns/model-specs.md\n├── HTTP & Controllers       → Request specs    → @./patterns/request-specs.md\n├── User Interface           → System specs     → @./patterns/system-specs.md\n├── Background Processing    → Job specs        → @./patterns/job-specs.md\n├── Email                    → Mailer specs     → @./patterns/mailer-specs.md\n├── File Uploads             → Storage specs    → @./patterns/storage-specs.md\n├── Real-time Features       → Channel specs    → @./patterns/channel-specs.md\n└── External Services        → Use isolation    → @./patterns/isolation.md\n```\n\n## Spec Type Quick Reference\n\n| Type | Location | Use For |\n|------|----------|---------|\n| Model | `spec/models/` | Validations, scopes, methods, callbacks |\n| Request | `spec/requests/` | HTTP routing, auth, status codes, redirects |\n| System | `spec/system/` | Full user flows, UI interactions |\n| Job | `spec/jobs/` | Background job logic, queuing, retries |\n| Mailer | `spec/mailers/` | Email headers, body, attachments |\n| Channel | `spec/channels/` | WebSocket subscriptions, broadcasts |\n\n## Testing Strategy\n\n### For New Features\n1. Start with **model specs** for data layer\n2. Add **request specs** for API/controllers\n3. Finish with **system specs** for critical UI paths only\n\n### For API Development\n1. **Request specs** for endpoints\n2. **Job specs** for async processing\n3. **Mailer specs** for notifications\n\n### For Real-time Features\n1. **Channel specs** for subscriptions/broadcasts\n2. **Model specs** for message/data logic\n3. **System specs** for UI (with Cuprite for JS)\n\n## Core Testing Principles\n\n### What to Test\n- Validations (presence, uniqueness, format)\n- Business logic in model methods\n- Scopes and query methods\n- HTTP status codes and redirects\n- Authentication and authorization\n- Happy path + one critical edge case\n\n### What NOT to Test\n- Rails internals (associations work, built-in validations work)\n- Private methods directly\n- Implementation details\n- Every possible edge case (unless asked)\n- Performance\n\n### Test Quality Rules\n1. **One outcome per example** - Focused, clear tests\n2. **Test behavior, not implementation** - Assert outcomes\n3. **Local setup** - Keep data close to tests that need it\n4. **Expressive names** - Describe behavior, not method names\n5. **Minimal fixtures** - Use only what you need\n\n## External Dependencies\n\nWhen tests involve external services (APIs, payment gateways, etc.):\n- Use VCR for HTTP recording/playback\n- Use verifying doubles (`instance_double`)\n- See @./patterns/isolation.md for patterns\n\n## Fixtures\n\nAlways check existing fixtures before creating test data:\n- See @./patterns/fixtures.md for patterns\n- Access with `users(:alice)`, `recipes(:published)`\n- Create records only when testing uniqueness or creation\n\n## DRY Patterns\n\nBefore duplicating code, check `spec/support/` for:\n- Shared examples\n- Custom matchers\n- Helper modules\n- See @./patterns/dry-patterns.md for patterns\n\n## Pattern Files Reference\n\nConsult these files for detailed patterns and examples:\n\n### Spec Types\n- Model specs: @./patterns/model-specs.md\n- Request specs: @./patterns/request-specs.md\n- System specs: @./patterns/system-specs.md\n- Job specs: @./patterns/job-specs.md\n- Mailer specs: @./patterns/mailer-specs.md\n- Storage specs: @./patterns/storage-specs.md\n- Channel specs: @./patterns/channel-specs.md\n\n### Testing Strategies\n- Fixtures: @./patterns/fixtures.md\n- Isolation (mocks/stubs/VCR): @./patterns/isolation.md\n- DRY patterns: @./patterns/dry-patterns.md\n\n## Quality Checklist\n\nBefore finishing, verify:\n\n- [ ] Using correct spec type?\n- [ ] One outcome per example?\n- [ ] Fixtures for test data (not factories)?\n- [ ] Authentication tested at appropriate scope?\n- [ ] Happy path AND at least one edge case?\n- [ ] No testing of Rails internals?\n- [ ] External services isolated with VCR/doubles?\n- [ ] Example names describe behavior?\n- [ ] Tests pass with `bundle exec rspec <file> --fail-fast`?\n- [ ] DRY patterns applied where appropriate?\n",
        "plugins/rspec-writer/skills/write-test/patterns/channel-specs.md": "# ActionCable Specs Pattern\n\nLocation: `spec/channels/<channel_name>_spec.rb`\n\n## Purpose\n\nTest WebSocket connections, channel subscriptions, broadcasts, and real-time features. Keep tests fast and deterministic.\n\n## Core Principles\n\n1. **Stub connections** - Use `stub_connection` for identifiers\n2. **Test isolation** - Each test independent\n3. **No real WebSockets** - Test logic, not transport\n4. **Deterministic assertions** - No timing dependencies\n5. **Test both paths** - Success and rejection\n\n## Structure Pattern\n\n```ruby\nRSpec.describe ChatChannel, type: :channel do\n  let(:user) { users(:alice) }\n\n  before { stub_connection current_user: user }\n\n  describe \"#subscribed\" do\n    it \"subscribes to room stream\" do\n      subscribe room_id: 42\n\n      expect(subscription).to be_confirmed\n      expect(subscription).to have_stream_from(\"chat_42\")\n    end\n\n    it \"rejects without room_id\" do\n      subscribe room_id: nil\n\n      expect(subscription).to be_rejected\n    end\n  end\n\n  describe \"#speak\" do\n    it \"broadcasts message\" do\n      subscribe room_id: 42\n\n      expect {\n        perform :speak, message: \"Hello!\"\n      }.to have_broadcasted_to(\"chat_42\")\n        .with(a_hash_including(text: \"Hello!\"))\n    end\n  end\nend\n```\n\n## Connection Testing\n\n```ruby\nRSpec.describe ApplicationCable::Connection, type: :channel do\n  it \"connects with valid cookie\" do\n    connect \"/cable\", cookies: { user_id: \"42\" }\n\n    expect(connection.current_user.id).to eq(42)\n  end\n\n  it \"rejects without authentication\" do\n    expect { connect \"/cable\" }.to have_rejected_connection\n  end\n\n  it \"connects with token header\" do\n    user = users(:alice)\n\n    connect \"/cable\", headers: { \"Authorization\" => \"Bearer #{user.auth_token}\" }\n\n    expect(connection.current_user).to eq(user)\n  end\nend\n```\n\n## Subscription Testing\n\n### Confirmed Subscription\n```ruby\nit \"subscribes successfully\" do\n  subscribe room_id: 42\n\n  expect(subscription).to be_confirmed\nend\n```\n\n### Stream Verification\n```ruby\nit \"streams from room channel\" do\n  subscribe room_id: 42\n\n  expect(subscription).to have_stream_from(\"chat_42\")\nend\n\nit \"streams for model\" do\n  room = rooms(:general)\n  subscribe room_id: room.id\n\n  expect(subscription).to have_stream_for(room)\nend\n```\n\n### Rejected Subscription\n```ruby\nit \"rejects unauthorized user\" do\n  stub_connection current_user: users(:banned)\n  subscribe room_id: 42\n\n  expect(subscription).to be_rejected\nend\n\nit \"rejects invalid room\" do\n  subscribe room_id: 999\n\n  expect(subscription).to be_rejected\nend\n```\n\n## Action Testing\n\n```ruby\ndescribe \"#speak\" do\n  before { subscribe room_id: 42 }\n\n  it \"broadcasts to room\" do\n    expect {\n      perform :speak, message: \"Hello\"\n    }.to have_broadcasted_to(\"chat_42\")\n  end\n\n  it \"includes user info\" do\n    perform :speak, message: \"Hello\"\n\n    expect(transmissions.last).to include(\n      \"user_id\" => user.id,\n      \"text\" => \"Hello\"\n    )\n  end\nend\n\ndescribe \"#typing\" do\n  before { subscribe room_id: 42 }\n\n  it \"broadcasts typing indicator\" do\n    expect {\n      perform :typing\n    }.to have_broadcasted_to(\"chat_42\")\n      .with(hash_including(type: \"typing\", user_id: user.id))\n  end\nend\n```\n\n## Broadcast Matchers\n\n### Basic Broadcasting\n```ruby\nexpect {\n  ActionCable.server.broadcast(\"notifications\", data)\n}.to have_broadcasted_to(\"notifications\")\n  .with(hash_including(text: \"Hello\"))\n  .exactly(:once)\n```\n\n### Channel-Specific Broadcasting\n```ruby\nexpect {\n  ChatChannel.broadcast_to(user, message)\n}.to have_broadcasted_to(user)\n  .from_channel(ChatChannel)\n```\n\n### Count Specifications\n```ruby\n.exactly(3).times\n.at_least(2).times\n.at_most(:twice)\n.exactly(:once)\n```\n\n### No Broadcast\n```ruby\nexpect { some_action }.not_to have_broadcasted_to(\"stream\")\n```\n\n## Integration with Controllers\n\n```ruby\nRSpec.describe MessagesController, type: :request do\n  it \"broadcasts on create\" do\n    room = rooms(:general)\n\n    expect {\n      post room_messages_path(room, as: users(:alice)),\n           params: { message: { body: \"Test\" } }\n    }.to have_broadcasted_to(\"room_#{room.id}\")\n      .with(a_hash_including(body: \"Test\"))\n  end\nend\n```\n\n## Presence Testing\n\n```ruby\ndescribe \"presence\" do\n  it \"broadcasts join on subscribe\" do\n    expect {\n      subscribe room_id: 42\n    }.to have_broadcasted_to(\"chat_42\")\n      .with(hash_including(type: \"presence\", action: \"join\"))\n  end\n\n  it \"broadcasts leave on unsubscribe\" do\n    subscribe room_id: 42\n\n    expect {\n      subscription.unsubscribe_from_channel\n    }.to have_broadcasted_to(\"chat_42\")\n      .with(hash_including(type: \"presence\", action: \"leave\"))\n  end\nend\n```\n\n## Transmission Testing\n\n```ruby\ndescribe \"direct transmissions\" do\n  before { subscribe room_id: 42 }\n\n  it \"transmits to subscriber\" do\n    perform :request_history\n\n    expect(transmissions.size).to eq(1)\n    expect(transmissions.last).to include(\"type\" => \"history\")\n  end\nend\n```\n\n## Rate Limiting Testing\n\n```ruby\ndescribe \"rate limiting\" do\n  before { subscribe room_id: 42 }\n\n  it \"limits message frequency\" do\n    10.times { perform :speak, message: \"Spam\" }\n\n    expect(transmissions.last).to include(\"error\" => \"rate_limited\")\n  end\nend\n```\n\n## Shared Examples\n\n```ruby\nRSpec.shared_examples \"requires authentication\" do\n  it \"rejects unauthenticated\" do\n    stub_connection current_user: nil\n    subscribe\n\n    expect(subscription).to be_rejected\n  end\nend\n\nRSpec.describe ChatChannel, type: :channel do\n  it_behaves_like \"requires authentication\"\nend\n```\n\n## Helper Methods\n\n```ruby\n# spec/support/action_cable_helper.rb\nmodule ActionCableHelper\n  def subscribe_as(user, **params)\n    stub_connection current_user: user\n    subscribe(**params)\n  end\n\n  def perform_as(user, action, **params)\n    subscribe_as(user, room_id: params.delete(:room_id) || 42)\n    perform(action, **params)\n  end\nend\n\nRSpec.configure do |config|\n  config.include ActionCableHelper, type: :channel\n  config.include ActionCable::TestHelper, type: :channel\n  config.include ActionCable::TestHelper, type: :request\nend\n```\n\n## Configuration\n\n```yaml\n# config/cable.yml\ntest:\n  adapter: test\n```\n\n```ruby\n# spec/rails_helper.rb\nRSpec.configure do |config|\n  config.include ActionCable::TestHelper, type: :channel\n  config.include ActionCable::TestHelper, type: :request\nend\n```\n\n## Anti-Patterns to Avoid\n\n- Testing WebSocket transport directly\n- Relying on sleep or arbitrary delays\n- Not stubbing connection identifiers\n- Missing rejection/failure cases\n- Testing Rails internals vs application behavior\n- Forgetting to test broadcast content\n\n## Quality Checklist\n\n- [ ] Connection authentication tested?\n- [ ] All channels have subscription tests?\n- [ ] Channel actions covered with perform tests?\n- [ ] Broadcasts verified with content assertions?\n- [ ] Rejection scenarios tested?\n- [ ] Stream naming consistent?\n- [ ] Integration tests for controller broadcasts?\n- [ ] No timing-dependent assertions?\n- [ ] Helper methods for common patterns?\n",
        "plugins/rspec-writer/skills/write-test/patterns/dry-patterns.md": "# DRY Patterns\n\n## Purpose\n\nOptimize RSpec test suites by reducing duplication while maintaining readability. Balance DRY (Don't Repeat Yourself) with DAMP (Descriptive And Meaningful Phrases).\n\n## Core Principles\n\n1. **Preserve behavior** - Never change assertions\n2. **Localize abstractions** - Keep helpers near usage\n3. **Prefer `before(:each)`** - Never `before(:all)` with ActiveRecord\n4. **Readability over cleverness** - Specs as documentation\n5. **Max 3 nesting levels** - Keep structure flat\n\n## When to Abstract\n\n- Repeatable workflows (login, auth headers)\n- Shared data shapes used in many files\n- Repeated assertions that benefit from naming\n- Setup that truly applies to all examples\n\n## When to Keep Inline\n\n- Test-specific setup that clarifies intent\n- Small amounts of duplication (< 3 lines)\n- One-off edge cases\n\n## let vs let!\n\n### let (Lazy - Default)\n```ruby\nlet(:user) { users(:alice) }  # Created when first accessed\n\nit \"displays name\" do\n  expect(user.name).to eq(\"Alice\")  # user created here\nend\n```\n\n### let! (Eager - Use Sparingly)\n```ruby\nlet!(:notification) { Notification.create!(user: user) }\n\nit \"shows notifications\" do\n  # notification already exists\n  expect(page).to have_content(notification.message)\nend\n```\n\n**Rule**: Default to `let`. Use `let!` only when laziness causes issues.\n\n## Shared Examples\n\n### Definition\n```ruby\n# spec/support/shared_examples/requires_authentication.rb\nRSpec.shared_examples \"requires authentication\" do\n  it \"redirects to login\" do\n    expect(response).to redirect_to(sign_in_path)\n  end\n\n  it \"sets flash message\" do\n    expect(flash[:alert]).to eq(\"Please sign in\")\n  end\nend\n```\n\n### Usage\n```ruby\nRSpec.describe \"Admin::Users\", type: :request do\n  describe \"GET /admin/users\" do\n    context \"as guest\" do\n      before { get admin_users_path }\n\n      it_behaves_like \"requires authentication\"\n    end\n  end\nend\n```\n\n### With Parameters\n```ruby\nRSpec.shared_examples \"paginatable\" do |per_page:|\n  it \"limits results\" do\n    expect(subject.count).to be <= per_page\n  end\n\n  it \"provides pagination metadata\" do\n    expect(response_meta).to include(:total_pages, :current_page)\n  end\nend\n\n# Usage\nit_behaves_like \"paginatable\", per_page: 25\n```\n\n## Shared Contexts\n\n### Definition\n```ruby\n# spec/support/shared_contexts/authenticated_user.rb\nRSpec.shared_context \"authenticated user\" do\n  let(:current_user) { users(:alice) }\n\n  before do\n    sign_in current_user\n  end\nend\n```\n\n### Usage\n```ruby\nRSpec.describe \"Dashboard\", type: :request do\n  include_context \"authenticated user\"\n\n  it \"shows welcome message\" do\n    get dashboard_path\n    expect(response.body).to include(current_user.name)\n  end\nend\n```\n\n## Custom Matchers\n\n### Simple Matcher\n```ruby\n# spec/support/matchers/be_recent.rb\nRSpec::Matchers.define :be_recent do\n  match do |record|\n    record.created_at > 1.hour.ago\n  end\n\n  failure_message do |record|\n    \"expected #{record} to be created within the last hour\"\n  end\nend\n\n# Usage\nexpect(post).to be_recent\n```\n\n### Matcher with Arguments\n```ruby\nRSpec::Matchers.define :have_error_on do |attribute|\n  match do |record|\n    record.valid?\n    record.errors[attribute].any?\n  end\n\n  failure_message do |record|\n    \"expected #{record.class} to have error on #{attribute}\"\n  end\nend\n\n# Usage\nexpect(user).to have_error_on(:email)\n```\n\n### Composable Matcher\n```ruby\nRSpec::Matchers.define :be_valid_json do\n  match do |string|\n    JSON.parse(string)\n    true\n  rescue JSON::ParserError\n    false\n  end\nend\n\n# Usage\nexpect(response.body).to be_valid_json\n```\n\n## Support Modules\n\n### Authentication Helper\n```ruby\n# spec/support/authentication_helper.rb\nmodule AuthenticationHelper\n  def sign_in_as(user)\n    post session_path, params: {\n      email: user.email,\n      password: \"password\"\n    }\n  end\n\n  def current_user\n    @current_user ||= users(:alice)\n  end\nend\n\nRSpec.configure do |config|\n  config.include AuthenticationHelper, type: :request\n  config.include AuthenticationHelper, type: :system\nend\n```\n\n### JSON Helper\n```ruby\n# spec/support/json_helper.rb\nmodule JsonHelper\n  def json_response\n    JSON.parse(response.body, symbolize_names: true)\n  end\n\n  def json_body\n    json_response[:data]\n  end\n\n  def json_errors\n    json_response[:errors]\n  end\nend\n\nRSpec.configure do |config|\n  config.include JsonHelper, type: :request\nend\n```\n\n## aggregate_failures\n\nReduce setup duplication for multi-assertion tests:\n\n```ruby\nit \"creates user with all attributes\" do\n  post users_path, params: { user: valid_attrs }\n\n  aggregate_failures do\n    expect(response).to redirect_to(user_path(User.last))\n    expect(User.last.email).to eq(valid_attrs[:email])\n    expect(User.last.name).to eq(valid_attrs[:name])\n    expect(flash[:notice]).to eq(\"User created\")\n  end\nend\n```\n\n## describe/context Organization\n\n```ruby\nRSpec.describe User, type: :model do\n  # describe for the unit under test\n  describe \"#full_name\" do\n    # context for different states\n    context \"with first and last name\" do\n      it \"combines names\" do\n        user = User.new(first_name: \"John\", last_name: \"Doe\")\n        expect(user.full_name).to eq(\"John Doe\")\n      end\n    end\n\n    context \"with only first name\" do\n      it \"returns first name\" do\n        user = User.new(first_name: \"John\", last_name: nil)\n        expect(user.full_name).to eq(\"John\")\n      end\n    end\n  end\nend\n```\n\n## Setup Scoping\n\nKeep setup at the nearest scope:\n\n```ruby\n# Bad - top-level setup for specific tests\nRSpec.describe Order do\n  let(:user) { users(:alice) }\n  let(:product) { products(:widget) }\n  let(:coupon) { coupons(:discount) }  # Only used in one test!\n\n  it \"calculates total\" do\n    # Uses user and product, not coupon\n  end\n\n  it \"applies coupon\" do\n    # Uses coupon\n  end\nend\n\n# Good - scoped setup\nRSpec.describe Order do\n  let(:user) { users(:alice) }\n  let(:product) { products(:widget) }\n\n  it \"calculates total\" do\n    # Uses user and product\n  end\n\n  describe \"with coupon\" do\n    let(:coupon) { coupons(:discount) }\n\n    it \"applies discount\" do\n      # Uses coupon\n    end\n  end\nend\n```\n\n## Anti-Patterns to Avoid\n\n- Huge top-level `before` blocks with unused data\n- `before(:all)` with ActiveRecord writes\n- Overuse of `let!` hiding state\n- Deeply nested shared contexts\n- One giant helpers module for everything\n- Custom matchers duplicating built-ins\n- Global magic that obscures intent\n\n## Quality Checklist\n\n- [ ] Outline reads clearly with describe/context/it?\n- [ ] Shared setup at nearest scope?\n- [ ] Example names outcome-focused?\n- [ ] No `:all/:suite` DB setup?\n- [ ] Nesting ≤ 3 levels?\n- [ ] Helpers close to usage?\n- [ ] Custom matchers provide better messages?\n- [ ] DRY/DAMP balance appropriate?\n",
        "plugins/rspec-writer/skills/write-test/patterns/fixtures.md": "# Fixtures Pattern\n\nLocation: `spec/fixtures/*.yml`\n\n## Purpose\n\nManage test data with Rails fixtures. Create predictable, reusable data that loads once and supports all specs.\n\n## Core Principles\n\n1. **Fixtures over factories** - Use `users(:admin)`, not `create(:user)`\n2. **Boring defaults** - Valid with minimal attributes\n3. **Minimal set** - Small, well-documented fixtures\n4. **Clear naming** - Purpose obvious from name\n5. **Explicit relationships** - Use fixture labels for associations\n\n## Basic Structure\n\n```yaml\n# spec/fixtures/users.yml\nalice:\n  email: alice@example.com\n  name: Alice Smith\n  role: user\n\nbob:\n  email: bob@example.com\n  name: Bob Jones\n  role: user\n\nadmin:\n  email: admin@example.com\n  name: Admin User\n  role: admin\n\ninactive:\n  email: inactive@example.com\n  name: Inactive User\n  role: user\n  active: false\n```\n\n## Accessing Fixtures\n\n```ruby\n# In specs\nusers(:alice)\nusers(:admin)\nrecipes(:published)\n\n# Multiple fixtures\nlet(:active_users) { [users(:alice), users(:bob)] }\n```\n\n## Association References\n\n```yaml\n# spec/fixtures/recipes.yml\npublished:\n  name: Apple Pie\n  user: alice           # References users(:alice)\n  status: published\n\ndraft:\n  name: Work in Progress\n  user: alice\n  status: draft\n\nbob_recipe:\n  name: Chocolate Cake\n  user: bob\n  status: published\n```\n\n```yaml\n# spec/fixtures/comments.yml\nfirst_comment:\n  body: Great recipe!\n  user: bob\n  recipe: published     # References recipes(:published)\n\nsecond_comment:\n  body: Thanks!\n  user: alice\n  recipe: published\n```\n\n## Naming Conventions\n\n### By State\n```yaml\n# Good - describes the state\npublished:\n  status: published\n\ndraft:\n  status: draft\n\narchived:\n  status: archived\n  archived_at: <%= 1.week.ago %>\n```\n\n### By Role/Purpose\n```yaml\n# Good - describes the purpose\nwith_notifications:\n  email_notifications: true\n\nwithout_notifications:\n  email_notifications: false\n\npremium:\n  plan: premium\n\nfree:\n  plan: free\n```\n\n### Generic Names (Simple Cases)\n```yaml\n# OK for simple cases\none:\n  name: First Item\n\ntwo:\n  name: Second Item\n```\n\n## Self-Referential Associations\n\nUse ordered map (`omap`) for self-references:\n\n```yaml\n# spec/fixtures/categories.yml\n--- !omap\n- root:\n    name: Root Category\n    parent: null\n\n- child:\n    name: Child Category\n    parent: root        # Must come after root\n\n- grandchild:\n    name: Grandchild\n    parent: child       # Must come after child\n```\n\n## Polymorphic Associations\n\n```yaml\n# spec/fixtures/comments.yml\non_recipe:\n  body: Great recipe!\n  commentable_type: Recipe\n  commentable_id: <%= ActiveRecord::FixtureSet.identify(:published) %>\n  user: alice\n\non_article:\n  body: Interesting read\n  commentable_type: Article\n  commentable_id: <%= ActiveRecord::FixtureSet.identify(:featured) %>\n  user: bob\n```\n\n## ERB in Fixtures (Use Sparingly)\n\n```yaml\n# spec/fixtures/users.yml\nrecent:\n  email: recent@example.com\n  created_at: <%= 1.day.ago %>\n\nold:\n  email: old@example.com\n  created_at: <%= 1.year.ago %>\n\n# Dynamic IDs for polymorphic\ncomment:\n  commentable_id: <%= ActiveRecord::FixtureSet.identify(:published) %>\n```\n\n**Note**: Excessive ERB is a code smell. Prefer static values.\n\n## YAML Aliases (DRY)\n\n```yaml\ndefaults: &defaults\n  role: user\n  active: true\n  email_notifications: true\n\nalice:\n  <<: *defaults\n  email: alice@example.com\n  name: Alice\n\nbob:\n  <<: *defaults\n  email: bob@example.com\n  name: Bob\n\n# Override defaults\nadmin:\n  <<: *defaults\n  email: admin@example.com\n  name: Admin\n  role: admin\n```\n\n## Loading Fixtures\n\n### All Fixtures (Recommended)\n```ruby\n# spec/rails_helper.rb\nRSpec.configure do |config|\n  config.fixture_paths = [Rails.root.join(\"spec/fixtures\")]\n  config.use_transactional_fixtures = true\n  config.global_fixtures = :all\nend\n```\n\n### Selective Loading\n```ruby\nRSpec.describe User, type: :model do\n  fixtures :users, :organizations\n\n  it \"belongs to organization\" do\n    expect(users(:alice).organization).to eq(organizations(:acme))\n  end\nend\n```\n\n## File Organization\n\n```\nspec/fixtures/\n├── users.yml\n├── organizations.yml\n├── recipes.yml\n├── comments.yml\n├── tags.yml\n├── files/                    # For ActiveStorage\n│   ├── recipe.jpg\n│   └── document.pdf\n└── action_text/              # For ActionText\n    └── rich_texts.yml\n```\n\n## ActionText Fixtures\n\n```yaml\n# spec/fixtures/action_text/rich_texts.yml\nrecipe_description:\n  record_type: Recipe\n  record_id: <%= ActiveRecord::FixtureSet.identify(:published) %>\n  name: description\n  body: <div>Delicious apple pie recipe</div>\n```\n\n## Fixture Helpers\n\n```ruby\n# spec/support/fixture_helpers.rb\nmodule FixtureHelpers\n  def fixture_file(name)\n    Rails.root.join(\"spec/fixtures/files\", name)\n  end\n\n  def attach_fixture(record, attachment, filename)\n    file = fixture_file_upload(fixture_file(filename))\n    record.send(attachment).attach(file)\n  end\nend\n\nRSpec.configure do |config|\n  config.include FixtureHelpers\nend\n```\n\n## When to Create New Records\n\nFixtures are pre-loaded. Create records dynamically only when:\n\n1. **Testing uniqueness** - Need conflicting records\n2. **Testing creation** - Verifying `create` action\n3. **Dynamic state** - State depends on test conditions\n\n```ruby\n# Uniqueness - need to create second record\nit \"requires unique email\" do\n  existing = users(:alice)\n  new_user = User.new(email: existing.email)\n  expect(new_user).to be_invalid\nend\n\n# Creation - testing the create action\nit \"creates user\" do\n  expect {\n    post users_path, params: { user: { email: \"new@example.com\" } }\n  }.to change(User, :count).by(1)\nend\n```\n\n## Anti-Patterns to Avoid\n\n### CRITICAL: Never Use destroy_all or delete_all\n\n```ruby\n# BAD - causes ActiveRecord::InvalidForeignKey\nbefore { User.destroy_all }\n\n# BAD - same problem\nbefore { User.delete_all }\n```\n\n**Why this fails:**\n1. Rails uses transactional tests - each test runs in a transaction that rolls back\n2. Fixtures are loaded once and shared across tests\n3. Fixtures have foreign key relationships (users → payments, etc.)\n4. `destroy_all` violates FK constraints because other tables reference these records\n\n**The fix:** Don't reset state. Rely on transactional fixtures:\n\n```ruby\n# GOOD - fixtures already provide clean state per test\nlet(:user) { users(:alice) }\n```\n\n### Other Anti-Patterns\n\n- Fixture proliferation (too many fixtures)\n- Excessive ERB making fixtures hard to read\n- Not documenting special-case fixtures\n- Circular dependencies in self-references\n- Using factories when fixtures suffice\n- Duplicating data instead of using references\n- Testing exact counts (fixtures affect totals)\n- Creating records that duplicate what fixtures provide\n\n## Quality Checklist\n\n- [ ] Fixtures minimal and well-named?\n- [ ] Defaults boring and valid?\n- [ ] Associations use fixture labels?\n- [ ] Self-references use omap?\n- [ ] ERB used sparingly?\n- [ ] Special cases documented?\n- [ ] File fixtures organized?\n- [ ] Fixtures load without errors?\n",
        "plugins/rspec-writer/skills/write-test/patterns/isolation.md": "# Isolation Patterns\n\n## Purpose\n\nUse mocks, stubs, doubles, spies, and fakes strategically to:\n- Cover rare/error paths that are hard to provoke\n- Avoid slow or flaky external calls\n- Make nondeterminism deterministic\n- Replace heavy collaborators when performance matters\n\n## Core Principles\n\n1. **Preserve public behavior** - Test via public API only\n2. **Scope narrowly** - Local stubs, never `allow_any_instance_of`\n3. **Use verifying doubles** - `instance_double`, not plain `double`\n4. **VCR for HTTP** - Record once, replay fast\n5. **Assert outcomes** - Not internal call choreography\n\n## When to Isolate\n\n| Scenario | Approach |\n|----------|----------|\n| External APIs | VCR cassettes or WebMock |\n| Randomness/time | Stub to deterministic values |\n| Rare error paths | Stub to trigger them |\n| Slow collaborators | Replace only if truly needed |\n\n## When NOT to Isolate\n\n- ActiveRecord operations (unless truly slow/flaky)\n- Cheap internal collaborations\n- Where integration tests provide clearer coverage\n\n## Verifying Doubles\n\n### instance_double (Recommended)\n```ruby\n# Verifies methods exist on the class\nlet(:gateway) { instance_double(PaymentGateway) }\n\nbefore do\n  allow(gateway).to receive(:charge).and_return(success: true)\nend\n\nit \"processes payment\" do\n  result = PaymentService.new(gateway).process(order)\n  expect(result).to be_success\nend\n```\n\n### class_double\n```ruby\n# For class methods\nlet(:mailer) { class_double(UserMailer) }\n\nbefore do\n  allow(mailer).to receive(:welcome).and_return(double(deliver_later: true))\nend\n```\n\n### Plain double (Avoid)\n```ruby\n# No verification - avoid this\nlet(:gateway) { double(\"Gateway\", charge: true) }\n```\n\n## Stubbing Patterns\n\n### Basic Stub\n```ruby\nallow(user).to receive(:admin?).and_return(true)\n```\n\n### With Arguments\n```ruby\nallow(api).to receive(:fetch).with(id: 123).and_return(data)\n```\n\n### Sequential Returns\n```ruby\n# First call fails, second succeeds\nallow(api).to receive(:call)\n  .and_return(nil, { status: \"success\" })\n\n# Or with raise\nallow(api).to receive(:call)\n  .and_raise(Timeout::Error)\n  .and_return({ status: \"success\" })\n```\n\n### Call Original\n```ruby\nallow(user).to receive(:full_name).and_call_original\n```\n\n### Yield\n```ruby\nallow(file).to receive(:open).and_yield(mock_io)\n```\n\n## Spy Pattern\n\nVerify after the fact:\n\n```ruby\nit \"logs the event\" do\n  logger = instance_spy(Logger)\n  service = EventService.new(logger: logger)\n\n  service.process(event)\n\n  expect(logger).to have_received(:info).with(/processed/)\nend\n```\n\n## VCR for HTTP\n\n### Basic Usage\n```ruby\nit \"fetches user data\", :vcr do\n  result = GitHubApi.fetch_user(\"octocat\")\n  expect(result[:login]).to eq(\"octocat\")\nend\n```\n\n### Named Cassette\n```ruby\nit \"handles rate limiting\" do\n  VCR.use_cassette(\"github/rate_limited\") do\n    expect { GitHubApi.fetch_user(\"octocat\") }\n      .to raise_error(RateLimitError)\n  end\nend\n```\n\n### Configuration\n```ruby\n# spec/support/vcr.rb\nVCR.configure do |config|\n  config.cassette_library_dir = \"spec/cassettes\"\n  config.hook_into :webmock\n  config.configure_rspec_metadata!\n\n  # Filter secrets\n  config.filter_sensitive_data(\"<API_KEY>\") { ENV[\"API_KEY\"] }\n  config.filter_sensitive_data(\"<AUTH_TOKEN>\") { ENV[\"AUTH_TOKEN\"] }\n\n  # Allow localhost for system specs\n  config.ignore_localhost = true\nend\n```\n\n## WebMock (Without Recording)\n\n```ruby\nbefore do\n  stub_request(:get, \"https://api.example.com/users/1\")\n    .to_return(\n      status: 200,\n      body: { id: 1, name: \"John\" }.to_json,\n      headers: { \"Content-Type\" => \"application/json\" }\n    )\nend\n\nit \"fetches user\" do\n  user = Api.fetch_user(1)\n  expect(user.name).to eq(\"John\")\nend\n```\n\n### Error Simulation\n```ruby\nstub_request(:get, /api.example.com/)\n  .to_timeout\n\nstub_request(:post, /api.example.com/)\n  .to_return(status: 500, body: \"Internal Error\")\n```\n\n## Time Stubbing\n\n```ruby\ninclude ActiveSupport::Testing::TimeHelpers\n\nit \"expires after 24 hours\" do\n  token = Token.create!\n\n  travel_to 25.hours.from_now do\n    expect(token).to be_expired\n  end\nend\n\nit \"uses current time\" do\n  freeze_time do\n    record = Record.create!\n    expect(record.created_at).to eq(Time.current)\n  end\nend\n```\n\n## Randomness Stubbing\n\n```ruby\nit \"generates predictable code\" do\n  allow(SecureRandom).to receive(:hex).and_return(\"abc123\")\n\n  code = VerificationCode.generate\n  expect(code).to eq(\"abc123\")\nend\n```\n\n## Stubbing Rails Components\n\n### Current Attributes\n```ruby\nbefore do\n  allow(Current).to receive(:user).and_return(users(:alice))\nend\n```\n\n### Environment\n```ruby\nit \"behaves differently in production\" do\n  allow(Rails).to receive(:env).and_return(ActiveSupport::StringInquirer.new(\"production\"))\n\n  expect(service.debug_mode?).to be false\nend\n```\n\n## Partial Doubles\n\nStub methods on real objects:\n\n```ruby\nit \"handles missing photo\" do\n  recipe = recipes(:without_photo)\n  allow(recipe).to receive(:photo_url).and_return(\"placeholder.png\")\n\n  expect(recipe.display_image).to eq(\"placeholder.png\")\nend\n```\n\n## Dependency Injection\n\nBetter than stubbing globals:\n\n```ruby\n# Production code\nclass PaymentService\n  def initialize(gateway: PaymentGateway.new)\n    @gateway = gateway\n  end\n\n  def process(order)\n    @gateway.charge(order.total)\n  end\nend\n\n# Test\nit \"processes payment\" do\n  gateway = instance_double(PaymentGateway, charge: true)\n  service = PaymentService.new(gateway: gateway)\n\n  expect(service.process(order)).to be true\nend\n```\n\n## Anti-Patterns to Avoid\n\n- `allow_any_instance_of` - Fragile, hard to debug\n- Blanket mocking of ActiveRecord\n- Over-specifying internal call order\n- Testing private methods\n- Global stubs causing test pollution\n- Plain `double` without verification\n\n## Quality Checklist\n\n- [ ] Using verifying doubles?\n- [ ] Stubs scoped to specific examples?\n- [ ] VCR for external HTTP?\n- [ ] Secrets filtered from cassettes?\n- [ ] Time helpers for time-dependent tests?\n- [ ] Testing outcomes, not call choreography?\n- [ ] No `allow_any_instance_of`?\n- [ ] Dependency injection where appropriate?\n",
        "plugins/rspec-writer/skills/write-test/patterns/job-specs.md": "# ActiveJob Specs Pattern\n\nLocation: `spec/jobs/<job_name>_spec.rb`\n\n## Purpose\n\nTest background jobs: execution logic, queuing, scheduling, retries, and error handling. Keep tests fast and deterministic.\n\n## Core Principles\n\n1. **Test logic with `perform_now`** - Synchronous, fast\n2. **Test queuing with `perform_later`** - Verify job gets enqueued\n3. **Stub external services** - No real API calls\n4. **Use time helpers** - Deterministic time-dependent tests\n5. **Test the test adapter** - Configure `queue_adapter = :test`\n\n## Structure Pattern\n\n```ruby\nRSpec.describe ProcessOrderJob, type: :job do\n  describe \"#perform\" do\n    it \"processes the order\" do\n      order = orders(:pending)\n\n      ProcessOrderJob.perform_now(order)\n\n      expect(order.reload.status).to eq(\"processed\")\n      expect(order.processed_at).to be_present\n    end\n\n    it \"sends confirmation email\" do\n      order = orders(:pending)\n\n      expect {\n        ProcessOrderJob.perform_now(order)\n      }.to have_enqueued_mail(OrderMailer, :confirmation)\n    end\n  end\n\n  describe \"queuing\" do\n    it \"enqueues on correct queue\" do\n      expect {\n        ProcessOrderJob.perform_later(orders(:pending))\n      }.to have_enqueued_job.on_queue(\"orders\")\n    end\n  end\nend\n```\n\n## Job Execution Testing\n\n### Basic Execution\n```ruby\nit \"processes the order\" do\n  order = orders(:pending)\n  ProcessOrderJob.perform_now(order)\n  expect(order.reload.status).to eq(\"processed\")\nend\n```\n\n### With Side Effects\n```ruby\nit \"updates inventory\" do\n  order = orders(:pending)\n\n  expect {\n    ProcessOrderJob.perform_now(order)\n  }.to change { order.items.sum(&:inventory_count) }.by(-order.total_items)\nend\n```\n\n### Triggering Other Jobs\n```ruby\nit \"enqueues follow-up jobs\" do\n  order = orders(:pending)\n\n  expect {\n    ProcessOrderJob.perform_now(order)\n  }.to have_enqueued_job(SendReceiptJob).with(order)\n    .and have_enqueued_job(UpdateAnalyticsJob).with(order)\nend\n```\n\n## Queue & Scheduling Matchers\n\n### Basic Queuing\n```ruby\nexpect {\n  ImportJob.perform_later(file)\n}.to have_enqueued_job(ImportJob)\n  .with(file)\n  .on_queue(\"imports\")\n  .exactly(:once)\n```\n\n### Scheduled Jobs\n```ruby\nit \"schedules for specific time\" do\n  expect {\n    ReportJob.set(wait_until: Date.tomorrow.noon).perform_later\n  }.to have_enqueued_job.at(Date.tomorrow.noon)\nend\n\nit \"schedules with delay\" do\n  expect {\n    ReminderJob.set(wait: 1.hour).perform_later(user)\n  }.to have_enqueued_job.at(1.hour.from_now)\nend\n```\n\n### Priority\n```ruby\nit \"sets priority\" do\n  expect {\n    UrgentJob.set(priority: 1).perform_later\n  }.to have_enqueued_job.with(priority: 1)\nend\n```\n\n### Already Enqueued\n```ruby\nImportJob.perform_later(file)\nexpect(ImportJob).to have_been_enqueued.with(file)\n```\n\n## Time-Dependent Testing\n\n```ruby\nRSpec.describe DailyReportJob, type: :job do\n  include ActiveSupport::Testing::TimeHelpers\n\n  it \"generates report for previous day\" do\n    travel_to Time.zone.local(2024, 1, 15, 10, 0, 0) do\n      expect(Report).to receive(:generate).with(\n        start_date: Date.new(2024, 1, 14),\n        end_date: Date.new(2024, 1, 14)\n      )\n\n      DailyReportJob.perform_now\n    end\n  end\n\n  it \"schedules next run\" do\n    freeze_time do\n      expect {\n        DailyReportJob.perform_now\n      }.to have_enqueued_job(DailyReportJob)\n        .at(Date.tomorrow.beginning_of_day)\n    end\n  end\nend\n```\n\n## Coordinator Job Pattern\n\nJobs that spawn other jobs:\n\n```ruby\nRSpec.describe WeeklyDigestJob, type: :job do\n  include ActiveSupport::Testing::TimeHelpers\n\n  it \"sends digest to all active users\" do\n    mail_delivery = instance_double(ActionMailer::MessageDelivery)\n    allow(DigestMailer).to receive(:weekly).and_return(mail_delivery)\n    allow(mail_delivery).to receive(:deliver_later)\n\n    freeze_time do\n      WeeklyDigestJob.perform_now\n\n      [users(:alice), users(:bob)].each do |user|\n        expect(DigestMailer).to have_received(:weekly)\n          .with(user: user, since: 1.week.ago)\n      end\n\n      expect(DigestMailer).not_to have_received(:weekly)\n        .with(user: users(:inactive), since: anything)\n    end\n  end\nend\n```\n\n## Error Handling & Retries\n\n### Testing Retry Logic\n```ruby\nit \"retries on transient failure\" do\n  allow(ExternalAPI).to receive(:call)\n    .and_raise(Net::ReadTimeout)\n\n  expect {\n    perform_enqueued_jobs { RetryableJob.perform_later }\n  }.to raise_error(Net::ReadTimeout)\n\n  expect(ExternalAPI).to have_received(:call).exactly(3).times\nend\n```\n\n### Testing Recovery\n```ruby\nit \"succeeds after retry\" do\n  call_count = 0\n  allow(ExternalAPI).to receive(:call) do\n    call_count += 1\n    raise Net::ReadTimeout if call_count < 3\n    { status: \"success\" }\n  end\n\n  perform_enqueued_jobs do\n    RetryableJob.perform_later\n  end\n\n  expect(call_count).to eq(3)\nend\n```\n\n### Testing Discard\n```ruby\n# Given: discard_on ActiveRecord::RecordNotFound\nit \"discards when record not found\" do\n  expect {\n    ProcessPaymentJob.perform_now(999)  # Non-existent ID\n  }.not_to raise_error\nend\n```\n\n## Batch Processing Pattern\n\n```ruby\nRSpec.describe BatchImportJob, type: :job do\n  let(:csv_file) { fixture_file_upload(\"data.csv\") }\n\n  it \"enqueues job for each record\" do\n    expect {\n      BatchImportJob.perform_now(csv_file)\n    }.to have_enqueued_job(ImportRecordJob).exactly(10).times\n  end\n\n  it \"tracks failures\" do\n    allow(ImportRecordJob).to receive(:perform_later)\n      .and_raise(StandardError)\n\n    expect {\n      BatchImportJob.perform_now(csv_file)\n    }.to change(FailedImport, :count).by(10)\n  end\nend\n```\n\n## Chain of Jobs Pattern\n\n```ruby\nit \"triggers full fulfillment chain\" do\n  order = orders(:pending)\n\n  expect {\n    OrderFulfillmentJob.perform_now(order)\n  }.to have_enqueued_job(ChargePaymentJob).with(order)\n    .and have_enqueued_job(UpdateInventoryJob).with(order)\n    .and have_enqueued_job(SendShippingJob).with(order)\nend\n```\n\n## Test Configuration\n\n```ruby\n# config/environments/test.rb\nconfig.active_job.queue_adapter = :test\n\n# Or in specific specs\nRSpec.describe MyJob, type: :job do\n  before { ActiveJob::Base.queue_adapter = :test }\n\n  after do\n    ActiveJob::Base.queue_adapter.performed_jobs.clear\n    ActiveJob::Base.queue_adapter.enqueued_jobs.clear\n  end\nend\n```\n\n## Anti-Patterns to Avoid\n\n- Testing job implementation only through integration tests\n- Not clearing job queues between tests\n- Using real external services\n- Testing Rails' job infrastructure vs your logic\n- Missing error and retry scenarios\n- Not testing job argument serialization\n\n## Quality Checklist\n\n- [ ] Job logic tested with `perform_now`?\n- [ ] Queuing tested with job matchers?\n- [ ] Queue and priority verified?\n- [ ] Error handling and retries covered?\n- [ ] Time-dependent logic uses time helpers?\n- [ ] External services stubbed?\n- [ ] Chain reactions verified?\n- [ ] Test adapter configured?\n",
        "plugins/rspec-writer/skills/write-test/patterns/mailer-specs.md": "# ActionMailer Specs Pattern\n\nLocation: `spec/mailers/<mailer_name>_spec.rb`\n\n## Purpose\n\nTest email functionality: headers, body content, attachments, delivery, and background processing.\n\n## Core Principles\n\n1. **Test headers** - Subject, to, from, cc, bcc\n2. **Test body content** - Key elements, not exact HTML\n3. **Test both parts** - HTML and plain text for multipart\n4. **Clear deliveries** - Reset between tests\n5. **Configure URL host** - Required for email links\n\n## Structure Pattern\n\n```ruby\nRSpec.describe UserMailer, type: :mailer do\n  describe \"#welcome\" do\n    let(:user) { users(:alice) }\n    let(:mail) { UserMailer.welcome(user) }\n\n    it \"renders the headers\" do\n      expect(mail.subject).to eq(\"Welcome to Our App\")\n      expect(mail.to).to eq([user.email])\n      expect(mail.from).to eq([\"support@example.com\"])\n    end\n\n    it \"renders the body\" do\n      expect(mail.body.encoded).to include(\"Hi #{user.first_name}\")\n      expect(mail.body.encoded).to include(\"Welcome to our application\")\n    end\n\n    it \"includes action link\" do\n      expect(mail.body.encoded).to include(dashboard_url)\n    end\n  end\nend\n```\n\n## Header Testing\n\n```ruby\nit \"renders headers\" do\n  expect(mail.subject).to eq(\"Welcome!\")\n  expect(mail.to).to eq([\"user@example.com\"])\n  expect(mail.from).to eq([\"noreply@example.com\"])\n  expect(mail.cc).to eq([\"admin@example.com\"])\n  expect(mail.bcc).to eq([\"audit@example.com\"])\n  expect(mail.reply_to).to eq([\"support@example.com\"])\nend\n```\n\n## Body Content Testing\n\n```ruby\nit \"includes user name\" do\n  expect(mail.body.encoded).to include(user.name)\nend\n\nit \"includes unsubscribe link\" do\n  expect(mail.body.encoded).to include(unsubscribe_url(user))\nend\n\nit \"excludes sensitive data\" do\n  expect(mail.body.encoded).not_to include(user.password_digest)\nend\n```\n\n## Multipart Email Testing\n\n```ruby\ndescribe \"#notification\" do\n  let(:mail) { UserMailer.notification(user) }\n\n  it \"generates multipart message\" do\n    expect(mail).to be_multipart\n    expect(mail.parts.length).to eq(2)\n  end\n\n  it \"renders HTML version\" do\n    html_part = mail.parts.find { |p| p.content_type.include?(\"html\") }\n\n    expect(html_part.body.encoded).to include(\"<h1>Notification</h1>\")\n    expect(html_part.body.encoded).to include('class=\"button\"')\n  end\n\n  it \"renders text version\" do\n    text_part = mail.parts.find { |p| p.content_type.include?(\"plain\") }\n\n    expect(text_part.body.encoded).to include(\"NOTIFICATION\")\n    expect(text_part.body.encoded).not_to include(\"<h1>\")\n  end\nend\n```\n\n## Parameterized Mailers\n\n```ruby\nRSpec.describe NotificationMailer, type: :mailer do\n  describe \"#digest\" do\n    let(:user) { users(:alice) }\n    let(:date) { 1.week.ago }\n\n    let(:mail) do\n      NotificationMailer.with(user: user, since: date).digest\n    end\n\n    it \"uses parameterized data\" do\n      expect(mail.to).to eq([user.email])\n      expect(mail.body.encoded).to include(\"since #{date.strftime('%B %d')}\")\n    end\n\n    it \"includes recent items only\" do\n      expect(mail.body.encoded).to include(items(:recent).title)\n      expect(mail.body.encoded).not_to include(items(:old).title)\n    end\n  end\nend\n```\n\n## Attachment Testing\n\n```ruby\ndescribe \"#report\" do\n  let(:mail) { ReportMailer.monthly_report(user) }\n\n  it \"attaches PDF report\" do\n    expect(mail.attachments.count).to eq(1)\n\n    attachment = mail.attachments.first\n    expect(attachment.filename).to eq(\"report.pdf\")\n    expect(attachment.content_type).to include(\"application/pdf\")\n  end\nend\n\ndescribe \"#data_export\" do\n  let(:mail) { ReportMailer.data_export(user) }\n\n  it \"attaches CSV data\" do\n    csv = mail.attachments[\"export.csv\"]\n\n    expect(csv).to be_present\n    expect(csv.body.encoded).to include(\"Name,Email\")\n  end\nend\n```\n\n## Delivery Testing\n\n### Synchronous Delivery\n```ruby\nit \"sends immediately\" do\n  expect {\n    UserMailer.welcome(user).deliver_now\n  }.to change { ActionMailer::Base.deliveries.count }.by(1)\n\n  delivered = ActionMailer::Base.deliveries.last\n  expect(delivered.to).to eq([user.email])\nend\n```\n\n### Asynchronous Delivery\n```ruby\nit \"enqueues for later\" do\n  expect {\n    UserMailer.welcome(user).deliver_later\n  }.to have_enqueued_mail(UserMailer, :welcome)\n    .with(user)\n    .on_queue(\"mailers\")\nend\n```\n\n### Scheduled Delivery\n```ruby\nit \"schedules for specific time\" do\n  expect {\n    UserMailer.reminder(user).deliver_later(wait_until: Date.tomorrow.noon)\n  }.to have_enqueued_mail(UserMailer, :reminder)\n    .at(Date.tomorrow.noon)\nend\n```\n\n## Conditional Email Testing\n\n```ruby\ndescribe \"#notification\" do\n  context \"when user has notifications enabled\" do\n    let(:user) { users(:with_notifications) }\n\n    it \"sends the email\" do\n      expect {\n        UserMailer.notification(user).deliver_now\n      }.to change { ActionMailer::Base.deliveries.count }.by(1)\n    end\n  end\n\n  context \"when user has notifications disabled\" do\n    let(:user) { users(:without_notifications) }\n\n    it \"does not send email\" do\n      mail = UserMailer.notification(user)\n      expect(mail.message).to be_a(ActionMailer::Base::NullMail)\n    end\n  end\nend\n```\n\n## Internationalized Emails\n\n```ruby\ndescribe \"localized emails\" do\n  it \"sends in user's locale\" do\n    user = users(:spanish_user)\n    mail = UserMailer.welcome(user)\n\n    expect(mail.subject).to eq(\"Bienvenido\")\n    expect(mail.body.encoded).to include(\"Hola\")\n  end\n\n  it \"falls back to default locale\" do\n    user = users(:unknown_locale_user)\n    mail = UserMailer.welcome(user)\n\n    expect(mail.subject).to eq(\"Welcome\")\n  end\nend\n```\n\n## Configuration\n\n### URL Host Setup\n```ruby\n# spec/support/mailer_url_options.rb\nRSpec.configure do |config|\n  config.before(:each, type: :mailer) do\n    Rails.application.routes.default_url_options[:host] = \"test.example.com\"\n    Rails.application.routes.default_url_options[:protocol] = \"https\"\n  end\nend\n```\n\n### Clear Deliveries\n```ruby\nRSpec.configure do |config|\n  config.before(:each) do\n    ActionMailer::Base.deliveries.clear\n  end\nend\n```\n\n## Anti-Patterns to Avoid\n\n- Testing email delivery in system specs (slow)\n- Not clearing deliveries between tests\n- Forgetting to set default URL options\n- Testing exact HTML instead of key content\n- Not testing both HTML and text parts\n- Missing conditional sending tests\n\n## Quality Checklist\n\n- [ ] Headers verified (subject, to, from)?\n- [ ] Body content tested for key elements?\n- [ ] URL helpers configured with host?\n- [ ] Deliveries cleared between tests?\n- [ ] Both HTML and text parts tested (if multipart)?\n- [ ] Attachments verified (if applicable)?\n- [ ] Parameterized mailers tested with `.with()`?\n- [ ] Async delivery tested with job matchers?\n- [ ] Conditional sending logic covered?\n",
        "plugins/rspec-writer/skills/write-test/patterns/model-specs.md": "# Model Specs Pattern\n\nLocation: `spec/models/<model_name>_spec.rb`\n\n## Purpose\n\nTest ActiveRecord models: validations, scopes, instance/class methods, callbacks, and business logic.\n\n## Core Principles\n\n1. **One outcome per example** - Focused, clear tests\n2. **Test behavior via public API** - Never test private methods directly\n3. **Use fixtures** - `users(:admin)`, not factories\n4. **Modern syntax** - `expect().to`, not `should`\n5. **Local setup** - Keep data setup close to examples that need it\n\n## Workflow\n\n1. **Scan**: Read model, validations, scopes, and public methods\n2. **Outline**: Draft pending examples that define behavior contract\n3. **Author**: Implement minimal, local setup with precise assertions\n4. **Broaden**: Add edge cases (invalid inputs, empty results)\n5. **Tighten**: Ensure clarity, naming, and optimal matcher choice\n6. **Validate**: Confirm examples fail when they should, then finalize\n\n## Structure Pattern\n\n```ruby\nRSpec.describe User, type: :model do\n  # Happy path first\n  it \"is valid with required attributes\" do\n    user = User.new(email: \"test@example.com\", name: \"Test\")\n    expect(user).to be_valid\n  end\n\n  # Validation tests\n  it \"requires an email\" do\n    user = User.new(email: nil)\n    expect(user).to be_invalid\n    expect(user.errors[:email]).to include(\"can't be blank\")\n  end\n\n  # Scopes\n  describe \".active\" do\n    it \"returns only active users\" do\n      expect(User.active).to include(users(:active))\n      expect(User.active).not_to include(users(:inactive))\n    end\n  end\n\n  # Instance methods\n  describe \"#full_name\" do\n    it \"combines first and last name\" do\n      user = User.new(first_name: \"John\", last_name: \"Doe\")\n      expect(user.full_name).to eq(\"John Doe\")\n    end\n  end\n\n  # Predicates use be_* matcher\n  describe \"#new_to_site?\" do\n    it \"indicates a new user\" do\n      user = User.new(created_at: Time.current)\n      expect(user).to be_new_to_site\n    end\n  end\nend\n```\n\n## Validation Testing Patterns\n\n### Presence Validation\n```ruby\nit \"requires a nickname\" do\n  user = User.new(nickname: nil)\n  expect(user).to be_invalid\n  expect(user.errors[:nickname]).to include(\"can't be blank\")\nend\n```\n\n### Uniqueness Validation\n```ruby\nit \"requires unique email\" do\n  existing = users(:alice)\n  user = User.new(email: existing.email)\n  expect(user).to be_invalid\n  expect(user.errors[:email]).to include(\"has already been taken\")\nend\n```\n\n### Scoped Uniqueness\n```ruby\nit \"requires unique name within organization\" do\n  existing = projects(:alpha)\n  project = Project.new(\n    name: existing.name,\n    organization: existing.organization\n  )\n  expect(project).to be_invalid\n  expect(project.errors[:name]).to include(\"has already been taken\")\nend\n\nit \"allows same name in different organization\" do\n  existing = projects(:alpha)\n  project = Project.new(\n    name: existing.name,\n    organization: organizations(:other)\n  )\n  expect(project).to be_valid\nend\n```\n\n### Format Validation\n```ruby\nit \"requires valid email format\" do\n  user = User.new(email: \"invalid\")\n  expect(user).to be_invalid\n  expect(user.errors[:email]).to include(\"is invalid\")\nend\n```\n\n## Scope Testing Patterns\n\n```ruby\ndescribe \".published\" do\n  it \"returns published articles\" do\n    expect(Article.published).to include(articles(:published))\n  end\n\n  it \"excludes draft articles\" do\n    expect(Article.published).not_to include(articles(:draft))\n  end\n\n  it \"returns empty when none published\" do\n    Article.update_all(status: :draft)\n    expect(Article.published).to be_empty\n  end\nend\n\ndescribe \".recent\" do\n  it \"orders by created_at descending\" do\n    results = Article.recent\n    expect(results.first.created_at).to be > results.last.created_at\n  end\nend\n```\n\n## Method Testing Patterns\n\n### Class Methods\n```ruby\ndescribe \".search\" do\n  it \"finds matching records\" do\n    expect(User.search(\"alice\")).to include(users(:alice))\n  end\n\n  it \"excludes non-matching records\" do\n    expect(User.search(\"alice\")).not_to include(users(:bob))\n  end\n\n  it \"returns empty for no matches\" do\n    expect(User.search(\"nonexistent\")).to be_empty\n  end\nend\n```\n\n### Instance Methods with Side Effects\n```ruby\ndescribe \"#publish!\" do\n  it \"sets published_at timestamp\" do\n    article = articles(:draft)\n\n    freeze_time do\n      article.publish!\n      expect(article.published_at).to eq(Time.current)\n    end\n  end\n\n  it \"changes status to published\" do\n    article = articles(:draft)\n    article.publish!\n    expect(article.status).to eq(\"published\")\n  end\nend\n```\n\n### Methods with Calculations\n```ruby\ndescribe \"#total_price\" do\n  it \"sums line item prices\" do\n    order = orders(:with_items)\n    expected = order.line_items.sum(&:price)\n    expect(order.total_price).to eq(expected)\n  end\n\n  it \"returns zero with no items\" do\n    order = Order.new\n    expect(order.total_price).to eq(0)\n  end\nend\n```\n\n## Callback Testing\n\nTest callbacks through their observable effects, not the callback itself:\n\n```ruby\ndescribe \"after_create\" do\n  it \"sends welcome email\" do\n    expect {\n      User.create!(email: \"new@example.com\", password: \"password\")\n    }.to have_enqueued_mail(UserMailer, :welcome)\n  end\nend\n\ndescribe \"before_save\" do\n  it \"normalizes email to lowercase\" do\n    user = User.new(email: \"TEST@EXAMPLE.COM\")\n    user.save!\n    expect(user.email).to eq(\"test@example.com\")\n  end\nend\n```\n\n## Anti-Patterns to Avoid\n\n- Using legacy `should` syntax\n- Testing controller/service behavior in model specs\n- Overusing top-level `before` blocks for unrelated data\n- Large shared fixtures/helpers that obscure state\n- Combining many expectations that hide failing causes\n- Testing Rails internals (associations work, built-in validations work)\n- Testing private methods directly\n\n## Quality Checklist\n\n- [ ] Clear `describe` block for the model?\n- [ ] One clear outcome per example, named with active verb?\n- [ ] Presence, uniqueness validations covered?\n- [ ] Instance methods tested (predicates with `be_...`)?\n- [ ] Scopes/class methods tested for include/exclude and empty cases?\n- [ ] Minimal, local setup with expressive names and modern matchers?\n- [ ] No testing of Rails internals?\n",
        "plugins/rspec-writer/skills/write-test/patterns/request-specs.md": "# Request Specs Pattern\n\nLocation: `spec/requests/<resource_name>_spec.rb`\n\n## Purpose\n\nTest controllers at the HTTP level: routing, authentication, authorization, parameter handling, status codes, and redirects. Keep controllers thin - test business logic in model specs.\n\n## Core Principles\n\n1. **Use `type: :request`** - Preferred over controller specs\n2. **Group by HTTP action** - `describe \"GET /index\"`, `describe \"POST /create\"`\n3. **Context by auth state** - `context \"as a guest\"`, `context \"as the owner\"`\n4. **Max 3 nesting levels** - Keep structure readable\n5. **Test HTTP concerns** - Not business logic\n\n## Structure Pattern\n\n```ruby\nRSpec.describe \"Recipes\", type: :request do\n  describe \"GET /recipes\" do\n    context \"as authenticated user\" do\n      it \"returns success\" do\n        get recipes_path(as: users(:alice))\n        expect(response).to have_http_status(:ok)\n      end\n    end\n\n    context \"as guest\" do\n      it \"redirects to login\" do\n        get recipes_path\n        expect(response).to redirect_to(sign_in_path)\n      end\n    end\n  end\n\n  describe \"POST /recipes\" do\n    context \"with valid params\" do\n      it \"creates recipe and redirects\" do\n        user = users(:alice)\n\n        expect {\n          post recipes_path(as: user), params: { recipe: { name: \"Pie\" } }\n        }.to change(user.recipes, :count).by(1)\n\n        expect(response).to redirect_to(recipe_path(Recipe.last))\n      end\n    end\n\n    context \"with invalid params\" do\n      it \"renders new template\" do\n        post recipes_path(as: users(:alice)), params: { recipe: { name: \"\" } }\n        expect(response).to have_http_status(:unprocessable_entity)\n      end\n    end\n  end\nend\n```\n\n## Authentication Patterns\n\n### Clearance BackDoor\n```ruby\nget recipes_path(as: users(:alice))\npost recipes_path(as: users(:alice)), params: { recipe: attributes }\ndelete recipe_path(recipe, as: users(:alice))\n```\n\n### Devise\n```ruby\nbefore { sign_in users(:alice) }\n\nit \"returns success\" do\n  get recipes_path\n  expect(response).to have_http_status(:ok)\nend\n```\n\n### Custom Token Auth\n```ruby\nit \"authenticates with token\" do\n  get api_recipes_path, headers: { \"Authorization\" => \"Bearer #{token}\" }\n  expect(response).to have_http_status(:ok)\nend\n```\n\n## HTTP Matchers\n\n### Status Codes\n```ruby\nexpect(response).to have_http_status(200)        # numeric\nexpect(response).to have_http_status(:ok)        # symbolic\nexpect(response).to have_http_status(:success)   # generic (:success, :redirect, :error)\nexpect(response).to have_http_status(:not_found)\nexpect(response).to have_http_status(:forbidden)\nexpect(response).to have_http_status(:unprocessable_entity)\n```\n\n### Redirects\n```ruby\nexpect(response).to redirect_to(recipe_url(recipe))\nexpect(response).to redirect_to(action: :show, id: recipe.id)\nexpect(response).to redirect_to(recipe)  # object\nexpect(response).to redirect_to(\"/recipes/#{recipe.id}\")\nexpect(response).to redirect_to(sign_in_path)\n```\n\n### Template Rendering (use sparingly)\n```ruby\nexpect(response).to render_template(:new)  # Useful for failed creates\n```\n\n## Data Verification Patterns\n\n### Create Actions\n```ruby\nit \"creates record\" do\n  expect {\n    post recipes_path(as: user), params: { recipe: valid_attrs }\n  }.to change(Recipe, :count).by(1)\nend\n\nit \"associates with current user\" do\n  post recipes_path(as: user), params: { recipe: valid_attrs }\n  expect(Recipe.last.user).to eq(user)\nend\n```\n\n### Update Actions\n```ruby\nit \"updates the record\" do\n  recipe = recipes(:draft)\n\n  patch recipe_path(recipe, as: recipe.user),\n        params: { recipe: { name: \"New Name\" } }\n\n  expect(recipe.reload.name).to eq(\"New Name\")\nend\n```\n\n### Delete Actions\n```ruby\nit \"destroys the record\" do\n  recipe = recipes(:draft)\n\n  expect {\n    delete recipe_path(recipe, as: recipe.user)\n  }.to change(Recipe, :count).by(-1)\nend\n\nit \"redirects after deletion\" do\n  recipe = recipes(:draft)\n  delete recipe_path(recipe, as: recipe.user)\n  expect(response).to redirect_to(recipes_path)\nend\n```\n\n## Authorization Patterns\n\n### Owner-only Access\n```ruby\ndescribe \"PATCH /recipes/:id\" do\n  let(:recipe) { recipes(:alice_recipe) }\n\n  context \"as owner\" do\n    it \"updates successfully\" do\n      patch recipe_path(recipe, as: users(:alice)),\n            params: { recipe: { name: \"Updated\" } }\n      expect(response).to redirect_to(recipe)\n    end\n  end\n\n  context \"as non-owner\" do\n    it \"returns not found\" do\n      patch recipe_path(recipe, as: users(:bob)),\n            params: { recipe: { name: \"Hacked\" } }\n      expect(response).to have_http_status(:not_found)\n    end\n  end\n\n  context \"as guest\" do\n    it \"redirects to login\" do\n      patch recipe_path(recipe), params: { recipe: { name: \"Hacked\" } }\n      expect(response).to redirect_to(sign_in_path)\n    end\n  end\nend\n```\n\n### Admin-only Access\n```ruby\ndescribe \"GET /admin/users\" do\n  context \"as admin\" do\n    it \"returns success\" do\n      get admin_users_path(as: users(:admin))\n      expect(response).to have_http_status(:ok)\n    end\n  end\n\n  context \"as regular user\" do\n    it \"returns forbidden\" do\n      get admin_users_path(as: users(:alice))\n      expect(response).to have_http_status(:forbidden)\n    end\n  end\nend\n```\n\n## API Response Patterns\n\n```ruby\ndescribe \"GET /api/recipes\" do\n  it \"returns JSON\" do\n    get api_recipes_path(as: users(:alice))\n\n    expect(response).to have_http_status(:ok)\n    expect(response.content_type).to include(\"application/json\")\n  end\n\n  it \"includes recipe data\" do\n    get api_recipes_path(as: users(:alice))\n\n    json = JSON.parse(response.body)\n    expect(json[\"recipes\"]).to be_an(Array)\n    expect(json[\"recipes\"].first).to include(\"name\", \"id\")\n  end\nend\n\ndescribe \"POST /api/recipes\" do\n  context \"with invalid params\" do\n    it \"returns errors\" do\n      post api_recipes_path(as: users(:alice)),\n           params: { recipe: { name: \"\" } }\n\n      json = JSON.parse(response.body)\n      expect(json[\"errors\"]).to include(\"name\")\n    end\n  end\nend\n```\n\n## Anti-Patterns to Avoid\n\n- Testing business logic in controller specs (belongs in models/services)\n- Deep nesting and sprawling top-level setup\n- Using `before(:all)` with ActiveRecord data\n- Global helpers that hide state and increase cognitive load\n- Not verifying persistence with `reload` or `change`\n\n## Quality Checklist\n\n- [ ] Using `type: :request`?\n- [ ] Clear action grouping with state-based contexts?\n- [ ] Authentication handled in appropriate scope?\n- [ ] Proper status/redirect assertions for each state?\n- [ ] Persistence verified with `reload` or `change`?\n- [ ] No unnecessary data or excessive nesting?\n- [ ] Examples named with outcome-focused verbs?\n- [ ] Max 3 nesting levels?\n",
        "plugins/rspec-writer/skills/write-test/patterns/storage-specs.md": "# ActiveStorage Specs Pattern\n\nLocation: `spec/models/<model_name>_spec.rb` (attachment logic) and `spec/system/<feature>_spec.rb` (upload UI)\n\n## Purpose\n\nTest file uploads, attachments, and storage operations. Cover both UI flows and model-level logic.\n\n## Core Principles\n\n1. **Test at multiple levels** - Both UI (system) and logic (model)\n2. **Use appropriate drivers** - `rack_test` for non-JS, `cuprite` for JS\n3. **Clean storage between runs** - Prevent test pollution\n4. **Use small fixture files** - Representative, not production-sized\n5. **Test fallbacks** - Default behavior when no attachment\n\n## Model Spec Pattern\n\n```ruby\nRSpec.describe Recipe, type: :model do\n  describe \"#photo\" do\n    context \"with attached photo\" do\n      it \"returns the attachment\" do\n        recipe = recipes(:draft)\n        file = fixture_file_upload(\"spec/fixtures/recipe.jpg\", \"image/jpeg\")\n        recipe.photo.attach(file)\n\n        expect(recipe.photo).to be_attached\n      end\n    end\n\n    context \"without photo\" do\n      it \"returns placeholder\" do\n        recipe = Recipe.new\n        expect(recipe.photo).not_to be_attached\n        expect(recipe.photo_url).to eq(\"recipe-placeholder.png\")\n      end\n    end\n  end\nend\n```\n\n## System Spec Pattern\n\n```ruby\nRSpec.describe \"Recipe Photos\", type: :system do\n  before { driven_by(:rack_test) }\n\n  it \"uploads a photo\" do\n    visit new_recipe_path(as: users(:alice))\n\n    fill_in \"Name\", with: \"Apple Pie\"\n    attach_file \"Photo\", Rails.root.join(\"spec/fixtures/recipe.jpg\")\n    click_button \"Create Recipe\"\n\n    expect(page).to have_content(\"Recipe was successfully created\")\n    expect(page).to have_css(\"img.recipe-photo\")\n  end\nend\n```\n\n## File Upload Methods\n\n### fixture_file_upload\n```ruby\n# In model/request specs\nfile = fixture_file_upload(\"spec/fixtures/recipe.jpg\", \"image/jpeg\")\nrecipe.photo.attach(file)\n\n# Windows compatibility (binary mode)\nfile = fixture_file_upload(\n  Rails.root.join(\"spec/fixtures/recipe.jpg\"),\n  \"image/jpeg\",\n  :binary\n)\n```\n\n### attach_file (Capybara)\n```ruby\n# Single file\nattach_file \"Photo\", Rails.root.join(\"spec/fixtures/recipe.jpg\")\n\n# Multiple files\nattach_file \"Photos\", [\n  Rails.root.join(\"spec/fixtures/photo1.jpg\"),\n  Rails.root.join(\"spec/fixtures/photo2.jpg\")\n]\n```\n\n## Validation Testing\n\n### File Size Validation\n```ruby\nit \"validates file size\" do\n  large_file = fixture_file_upload(\"spec/fixtures/large.jpg\", \"image/jpeg\")\n  recipe = recipes(:draft)\n  recipe.photo.attach(large_file)\n\n  expect(recipe).not_to be_valid\n  expect(recipe.errors[:photo]).to include(\"is too large\")\nend\n```\n\n### Content Type Validation\n```ruby\nit \"validates content type\" do\n  pdf = fixture_file_upload(\"spec/fixtures/document.pdf\", \"application/pdf\")\n  recipe = recipes(:draft)\n  recipe.photo.attach(pdf)\n\n  expect(recipe).not_to be_valid\n  expect(recipe.errors[:photo]).to include(\"must be an image\")\nend\n```\n\n### Accepted Types\n```ruby\nit \"accepts valid image types\" do\n  %w[jpg png gif webp].each do |ext|\n    file = fixture_file_upload(\"spec/fixtures/image.#{ext}\", \"image/#{ext}\")\n    recipe = Recipe.new(name: \"Test\")\n    recipe.photo.attach(file)\n\n    expect(recipe).to be_valid, \"Expected .#{ext} to be valid\"\n  end\nend\n```\n\n## Image Variants Testing\n\n```ruby\ndescribe \"variants\" do\n  it \"generates thumbnail\" do\n    recipe = recipes(:with_photo)\n    thumbnail = recipe.photo.variant(resize_to_limit: [100, 100])\n\n    expect(thumbnail).to be_processed\n  end\n\n  it \"generates preview for video\" do\n    recipe = recipes(:with_video)\n    preview = recipe.video.preview(resize_to_limit: [300, 300])\n\n    expect(preview.image).to be_attached\n  end\nend\n```\n\n## Direct Upload Testing\n\n```ruby\ndescribe \"direct uploads\" do\n  it \"creates blob for direct upload\" do\n    blob = ActiveStorage::Blob.create_before_direct_upload!(\n      filename: \"test.jpg\",\n      byte_size: 1024,\n      checksum: \"abc123\",\n      content_type: \"image/jpeg\"\n    )\n\n    expect(blob.service_url_for_direct_upload).to be_present\n  end\nend\n```\n\n## Purging Attachments\n\n```ruby\ndescribe \"#purge\" do\n  it \"removes attachment and blob\" do\n    recipe = recipes(:with_photo)\n\n    expect {\n      recipe.photo.purge\n    }.to change { ActiveStorage::Blob.count }.by(-1)\n\n    expect(recipe.photo).not_to be_attached\n  end\nend\n```\n\n## Multiple Attachments\n\n```ruby\nRSpec.describe Gallery, type: :model do\n  describe \"#images\" do\n    it \"supports multiple attachments\" do\n      gallery = galleries(:empty)\n\n      3.times do |i|\n        file = fixture_file_upload(\"spec/fixtures/image#{i}.jpg\", \"image/jpeg\")\n        gallery.images.attach(file)\n      end\n\n      expect(gallery.images.count).to eq(3)\n    end\n\n    it \"orders by attachment date\" do\n      gallery = galleries(:with_images)\n      expect(gallery.images.first.created_at).to be <= gallery.images.last.created_at\n    end\n  end\nend\n```\n\n## Storage Cleanup Configuration\n\n```ruby\n# spec/rails_helper.rb\nRSpec.configure do |config|\n  config.before(:suite) do\n    # Clean storage directory\n    storage_dir = ActiveStorage::Blob.services.fetch(:test).root\n    FileUtils.rm_rf(storage_dir)\n    FileUtils.mkdir_p(storage_dir)\n    FileUtils.touch(File.join(storage_dir, \".keep\"))\n  end\n\n  config.after(:each) do\n    ActiveStorage::Current.reset\n  end\nend\n```\n\n## Test Service Configuration\n\n```yaml\n# config/storage.yml\ntest:\n  service: Disk\n  root: <%= Rails.root.join(\"tmp/storage_test\") %>\n```\n\n```ruby\n# config/environments/test.rb\nconfig.active_storage.service = :test\n```\n\n## Fixture Organization\n\n```\nspec/fixtures/\n├── files/\n│   ├── recipe.jpg          # Standard test image (small)\n│   ├── large.jpg           # For size validation tests\n│   ├── document.pdf        # For content type tests\n│   └── image.png\n└── .keep\n```\n\n## Anti-Patterns to Avoid\n\n- Testing file uploads only through system specs (slow)\n- Not cleaning storage between test runs\n- Using production-sized files in tests\n- Forgetting Windows binary mode compatibility\n- Missing fallback/default behavior tests\n- Not testing file validation rules\n- Hardcoding paths instead of using Rails.root\n\n## Quality Checklist\n\n- [ ] Storage cleaned before test suite?\n- [ ] Both system and model specs for uploads?\n- [ ] Fallback behavior tested?\n- [ ] File validations covered (size, type)?\n- [ ] Windows compatibility handled?\n- [ ] Fixtures organized in spec/fixtures/?\n- [ ] Using fast drivers where possible?\n- [ ] Variants/previews tested if used?\n- [ ] Direct upload tested if used?\n",
        "plugins/rspec-writer/skills/write-test/patterns/system-specs.md": "# System Specs Pattern\n\nLocation: `spec/system/<feature_name>_spec.rb`\n\n## Purpose\n\nTest complete user flows through the browser. Verify real user journeys with Capybara, choosing the fastest reliable driver.\n\n## Core Principles\n\n1. **Fast by default** - Use `rack_test` unless JS required\n2. **Happy-path focus** - Push validation logic to model/request specs\n3. **Progressive assertions** - Verify at key checkpoints, not just the end\n4. **Stable selectors** - IDs/classes/labels over brittle text\n5. **No flakiness** - Use Capybara's built-in waiting, never `sleep`\n\n## Driver Selection\n\n| Driver | Use When | Speed |\n|--------|----------|-------|\n| `rack_test` | HTML-only, no JS | Fast |\n| `cuprite` | JavaScript interactions, dynamic UI | Slower |\n\n```ruby\nRSpec.describe \"User Registration\", type: :system do\n  context \"HTML form\" do\n    before { driven_by(:rack_test) }\n    # Fast tests\n  end\n\n  context \"JavaScript interactions\" do\n    before { driven_by(:cuprite) }\n    # Tests requiring JS\n  end\nend\n```\n\n## Structure Pattern\n\n```ruby\nRSpec.describe \"Recipe Management\", type: :system do\n  before { driven_by(:rack_test) }\n\n  it \"creates a new recipe\" do\n    visit new_session_path\n    fill_in \"Email\", with: users(:alice).email\n    fill_in \"Password\", with: \"password\"\n    click_button \"Sign In\"\n\n    expect(page).to have_content(\"Signed in\")  # Checkpoint\n\n    visit new_recipe_path\n    fill_in \"Name\", with: \"Apple Pie\"\n    fill_in \"Description\", with: \"Delicious dessert\"\n    click_button \"Create Recipe\"\n\n    expect(page).to have_content(\"Recipe was successfully created\")\n    expect(page).to have_content(\"Apple Pie\")\n  end\nend\n```\n\n## Capybara DSL Reference\n\n### Navigation\n```ruby\nvisit root_path\nvisit recipe_path(recipe)\n```\n\n### Clicking\n```ruby\nclick_link \"Edit\"\nclick_button \"Submit\"\nclick_on \"Save\"  # Works for links or buttons\n```\n\n### Forms\n```ruby\nfill_in \"Email\", with: \"test@example.com\"\nfill_in \"recipe[name]\", with: \"Pie\"  # By name attribute\ncheck \"Remember me\"\nuncheck \"Subscribe\"\nchoose \"Priority\", option: \"High\"  # Radio button\nselect \"Category\", from: \"recipe_category_id\"\nselect \"Dessert\", from: \"Category\"\nattach_file \"Photo\", Rails.root.join(\"spec/fixtures/photo.jpg\")\n```\n\n### Assertions\n```ruby\nexpect(page).to have_content(\"Success\")\nexpect(page).to have_css(\".alert-success\")\nexpect(page).to have_selector(\"h1\", text: \"Recipes\")\nexpect(page).to have_current_path(recipes_path)\nexpect(page).to have_link(\"Edit\")\nexpect(page).to have_button(\"Submit\")\nexpect(page).to have_field(\"Email\", with: \"test@example.com\")\nexpect(page).to have_checked_field(\"Remember me\")\nexpect(page).to have_select(\"Category\", selected: \"Dessert\")\n```\n\n### Scoping\n```ruby\nwithin(\".sidebar\") do\n  click_link \"Settings\"\nend\n\nwithin(\"#recipe-form\") do\n  fill_in \"Name\", with: \"Pie\"\n  click_button \"Save\"\nend\n\nwithin_table(\"recipes\") do\n  expect(page).to have_content(\"Apple Pie\")\nend\n```\n\n### Finding Elements\n```ruby\nfind(\"#submit-button\").click\nfind(\".recipe-card\", text: \"Apple Pie\").click\nfirst(\".item\").click\nall(\".item\").each { |item| item.click }\n```\n\n## JavaScript Testing with Cuprite\n\n```ruby\nRSpec.describe \"Dynamic Form\", type: :system do\n  before { driven_by(:cuprite) }\n\n  it \"shows validation errors without page reload\" do\n    visit new_recipe_path(as: users(:alice))\n    click_button \"Save\"\n\n    expect(page).to have_css(\".error\", text: \"Name can't be blank\")\n  end\n\n  it \"auto-saves draft\" do\n    visit new_recipe_path(as: users(:alice))\n    fill_in \"Name\", with: \"Draft Recipe\"\n\n    # Wait for auto-save\n    expect(page).to have_css(\".saved-indicator\", text: \"Saved\")\n  end\n\n  it \"handles modal interactions\" do\n    visit recipes_path(as: users(:alice))\n    click_button \"Delete\"\n\n    within(\".modal\") do\n      click_button \"Confirm\"\n    end\n\n    expect(page).not_to have_content(\"Apple Pie\")\n  end\nend\n```\n\n### Cuprite Advanced Features\n\n```ruby\n# Wait for network idle (useful for AJAX)\npage.driver.wait_for_network_idle\n\n# Debugging (pauses test, opens inspector)\npage.driver.debug\n\n# Screenshots\npage.driver.save_screenshot(\"tmp/screenshot.png\", full: true)\n\n# Clear state\npage.driver.clear_cookies\npage.driver.clear_memory_cache\n\n# Network control\npage.driver.headers = { \"Authorization\" => \"Bearer token\" }\npage.driver.url_blocklist = [\"analytics.com\", \"ads.com\"]\n```\n\n## Authentication in System Specs\n\n### Via UI (Recommended)\n```ruby\ndef sign_in_as(user)\n  visit new_session_path\n  fill_in \"Email\", with: user.email\n  fill_in \"Password\", with: \"password\"\n  click_button \"Sign In\"\nend\n\nit \"shows dashboard after login\" do\n  sign_in_as(users(:alice))\n  expect(page).to have_current_path(dashboard_path)\nend\n```\n\n### Via Backdoor (Faster)\n```ruby\nit \"shows recipes\" do\n  visit recipes_path(as: users(:alice))\n  expect(page).to have_content(\"My Recipes\")\nend\n```\n\n## Multi-Step Workflow Pattern\n\n```ruby\nit \"completes checkout flow\" do\n  user = users(:alice)\n\n  # Step 1: Add to cart\n  visit product_path(products(:widget))\n  click_button \"Add to Cart\"\n  expect(page).to have_content(\"Added to cart\")\n\n  # Step 2: View cart\n  click_link \"Cart\"\n  expect(page).to have_content(\"Widget\")\n  expect(page).to have_content(\"$19.99\")\n\n  # Step 3: Checkout\n  click_button \"Checkout\"\n  fill_in \"Card number\", with: \"4242424242424242\"\n  fill_in \"Expiry\", with: \"12/25\"\n  click_button \"Pay\"\n\n  # Step 4: Confirmation\n  expect(page).to have_content(\"Order confirmed\")\n  expect(page).to have_content(\"Order #\")\nend\n```\n\n## File Upload Pattern\n\n```ruby\nit \"uploads a recipe photo\" do\n  visit new_recipe_path(as: users(:alice))\n\n  fill_in \"Name\", with: \"Apple Pie\"\n  attach_file \"Photo\", Rails.root.join(\"spec/fixtures/recipe.jpg\")\n  click_button \"Create\"\n\n  expect(page).to have_css(\"img.recipe-photo\")\nend\n\n# Multiple files\nattach_file \"Photos\", [\n  Rails.root.join(\"spec/fixtures/photo1.jpg\"),\n  Rails.root.join(\"spec/fixtures/photo2.jpg\")\n]\n```\n\n## Anti-Patterns to Avoid\n\n- Using system specs for everything (slow)\n- Testing validation logic (belongs in model specs)\n- Testing parameter filtering (belongs in request specs)\n- Using `sleep` instead of Capybara's built-in waiting\n- Brittle text matching over stable selectors\n- Committing debug artifacts (save_page, screenshots)\n\n## Quality Checklist\n\n- [ ] Using fastest appropriate driver?\n- [ ] Testing complete user flow, not implementation details?\n- [ ] Progressive assertions at checkpoints?\n- [ ] Stable selectors (IDs, classes, labels)?\n- [ ] No `sleep` calls?\n- [ ] Authentication handled appropriately?\n- [ ] Happy path focus with edge cases in lower-level specs?\n",
        "plugins/saas-metrics/.claude-plugin/plugin.json": "{\n  \"name\": \"saas-metrics\",\n  \"description\": \"SaaS business metrics and marketing analytics. CAC, LTV, MRR/ARR analysis, conversion funnels, ad spend optimization, and unit economics modeling.\",\n  \"version\": \"1.3.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"saas\", \"metrics\", \"analytics\", \"marketing\", \"cac\", \"ltv\", \"mrr\", \"arr\", \"funnel\"]\n}\n",
        "plugins/saas-metrics/README.md": "# saas-metrics\n\nSaaS business metrics and marketing analytics for founders and product teams.\n\n## Installation\n\n```bash\n/plugin install saas-metrics@claude-code-in-avinyc\n```\n\n## Skills\n\n### business\n\nSaaS unit economics and growth strategy.\n\n```bash\n/saas:business\n```\n\nCovers:\n- MRR/ARR tracking\n- LTV calculation (cohort-based)\n- LTV:CAC ratio analysis\n- Payback period\n- Net dollar retention\n- Rule of 40\n\n### marketing\n\nMarketing funnel modeling and conversion metrics.\n\n```bash\n/saas:marketing\n```\n\nCovers:\n- CPM/CPC optimization\n- Conversion funnels\n- Waitlist economics\n- Ad spend analysis\n- Scenario modeling\n\n## Natural Language\n\nJust ask about your metrics:\n\n- \"Calculate my CAC from this ad spend data\"\n- \"Model my LTV using these retention numbers\"\n- \"Analyze my conversion funnel\"\n- \"What's a healthy LTV:CAC ratio for my business?\"\n\n## Key Metrics Covered\n\n| Metric | Skill |\n|--------|-------|\n| MRR/ARR | business |\n| LTV | business |\n| CAC | both |\n| Churn | business |\n| CPM/CPC | marketing |\n| Conversion rate | marketing |\n| Payback period | business |\n| Rule of 40 | business |\n\n## Tools & Platforms\n\nAnalytics: Mixpanel, Amplitude, Segment, Google Analytics\nAds: Facebook Ads Manager, Google Ads, LinkedIn Campaign Manager\nSubscription metrics: Baremetrics, ProfitWell, ChartMogul\n\n## License\n\nMIT\n",
        "plugins/saas-metrics/commands/business.md": "---\nname: saas:business\ndescription: SaaS unit economics and metrics analysis\nargument-hint: \"[metric or question]\"\n---\n\nInvoke the saas-metrics:business skill for: $ARGUMENTS\n",
        "plugins/saas-metrics/commands/marketing.md": "---\nname: saas:marketing\ndescription: Marketing funnel modeling and conversion metrics\nargument-hint: \"[campaign or funnel]\"\n---\n\nInvoke the saas-metrics:marketing skill for: $ARGUMENTS\n",
        "plugins/saas-metrics/skills/business/SKILL.md": "---\nname: business\ndescription: SaaS unit economics and growth strategy. Use for LTV, CAC, MRR/ARR analysis, payback period, churn analysis, Rule of 40, and SaaS financial modeling. Triggers on \"unit economics\", \"ltv\", \"cac\", \"mrr\", \"arr\", \"churn\", \"saas metrics\".\nargument-hint: \"[metric or question]\"\nuser-invocable: true\n---\n\n# Business & Product Strategy Expert\n\nGrowth and metrics expert specializing in SaaS businesses, performance marketing, conversion optimization, and unit economics.\n\n## Scope\n\n**This skill covers:** Strategic metrics, unit economics, investor-ready analysis, and business health assessment. Use for questions like \"Is my business healthy?\", \"What's my LTV:CAC?\", or \"Am I ready to raise?\"\n\n**Use the marketing skill instead for:** Funnel mechanics, campaign optimization, ad spend allocation, and acquisition tactics.\n\n## Core Expertise\n\n### Paid Acquisition Metrics\n- **CPM (Cost Per Mille)**: Calculate effective CPM across channels (Facebook, Google, LinkedIn, Twitter). Understand platform-specific benchmarks by industry.\n- **CPC (Cost Per Click)**: Optimize click costs through ad creative testing, audience refinement, and bid strategy.\n- **CTR (Click-Through Rate)**: Improve CTR through creative iteration, copy testing, and audience-message fit.\n- **CAC (Customer Acquisition Cost)**: Calculate blended and channel-specific CAC, including all touch points.\n\n### Landing Page & Conversion Optimization\n- **Conversion Rate Optimization (CRO)**: Design and analyze A/B tests for headlines, value props, social proof, and CTAs.\n- **Micro-conversions**: Track email captures, content downloads, demo requests, waitlist signups.\n- **Attribution modeling**: Implement multi-touch attribution to understand true channel value.\n- **Landing page metrics**: Time on page, bounce rate, scroll depth, heat mapping analysis.\n\n### Waitlist Economics\n- **Waitlist CAC**: Calculate cost to acquire each waitlist signup across channels.\n- **Waitlist-to-Customer Conversion**: Model expected conversion rates based on engagement signals.\n- **Decay rates**: Understand and model waitlist interest decay over time.\n- **Activation strategies**: Design campaigns to maintain waitlist engagement and improve launch conversion.\n\n### SaaS Unit Economics\n- **MRR/ARR**: Track new, expansion, churned, and reactivation MRR. Calculate ARR with proper treatment of annual contracts.\n- **LTV (Lifetime Value)**: Calculate using cohort-based retention curves, not simple averages.\n- **LTV:CAC Ratio**: Understand healthy ratios by business model (self-serve vs sales-assisted).\n- **Payback Period**: Calculate months to recover CAC by customer segment.\n- **Net Dollar Retention**: Track expansion revenue versus churn by cohort.\n- **Rule of 40**: Balance growth rate and profitability for valuation optimization.\n\n## Analytical Approach\n\n1. **Start with the funnel**: Map entire customer journey from first touch to revenue\n2. **Identify bottlenecks**: Find biggest opportunities using data\n3. **Calculate scenarios**: Model best, expected, and worst-case outcomes\n4. **Benchmark intelligently**: Compare to relevant peer sets, not generic averages\n5. **Focus on actionable insights**: Every analysis ends with specific, testable recommendations\n\n## Red Flags to Watch\n\n- Blended CAC hiding unprofitable channels\n- Vanity metrics replacing actionable ones\n- Ignoring cohort effects in retention analysis\n- Overestimating waitlist conversion rates\n- Underestimating time to product-market fit\n- Not accounting for seasonality in projections\n\n## Tools & Platforms\n\nAnalytics: Mixpanel, Amplitude, Segment, Google Analytics, Heap\nAds: Facebook Ads Manager, Google Ads, LinkedIn Campaign Manager\nCRO: Optimizely, VWO, Google Optimize\nSubscription metrics: Baremetrics, ProfitWell, ChartMogul\n",
        "plugins/saas-metrics/skills/marketing/SKILL.md": "---\nname: marketing\ndescription: Marketing funnel modeling and conversion metrics. Use for ad spend analysis, CPM/CPC optimization, landing page conversions, waitlist economics, and funnel modeling. Triggers on \"ad spend\", \"cpm\", \"cpc\", \"conversion rate\", \"landing page\", \"waitlist\", \"funnel\".\nargument-hint: \"[campaign or funnel]\"\nuser-invocable: true\n---\n\n# Marketing Metrics Expert\n\nSaaS marketing and product metrics specialist. Connects ad spend to conversions to SaaS growth metrics.\n\n## Scope\n\n**This skill covers:** Funnel mechanics, campaign optimization, ad spend allocation, landing page performance, and acquisition tactics. Use for questions like \"How do I optimize my funnel?\", \"What CPM should I target?\", or \"How do I model a waitlist launch?\"\n\n**Use the business skill instead for:** Strategic metrics, investor analysis, unit economics health checks, and Rule of 40 calculations.\n\n## Core Capabilities\n\n### Ad Spend Efficiency\n- **CPM** (cost per thousand impressions)\n- **CPC/CTC** (cost per click)\n- **CAC** (customer acquisition cost)\n\n### Landing Page Conversion Performance\nCalculate and reason through the conversion funnel:\n- Impressions to Clicks to Waitlist signups to Product adoption at launch\n- How different ad spend allocations affect customer acquisition at each stage\n\n### Product Performance Metrics\nTranslate marketing insights into SaaS economics:\n- **MRR** (monthly recurring revenue)\n- **ARR** (annual recurring revenue)\n- **Churn rate**\n- **LTV** (lifetime value)\n- **Payback periods**\n\n### Scenario Modeling\nRun sensitivity analyses:\n- How changes in ad spend affect growth\n- Landing page conversion rate impacts\n- SaaS product metrics impact on profitability and runway\n\n## Approach\n\n1. Explain assumptions step by step\n2. Build funnel models with clear formulas\n3. Provide actionable insights for founders, product teams, and marketers\n4. Always connect: ad spend to conversions to SaaS growth metrics (MRR, ARR, CAC, LTV)\n\nOutput is precise, structured, and business-oriented with both theory and practical application.\n",
        "plugins/tech-writer/.claude-plugin/plugin.json": "{\n  \"name\": \"tech-writer\",\n  \"description\": \"Write technical blog posts, tutorials, and documentation with Flatiron School's engaging teaching style. Turn complex topics into clear narratives.\",\n  \"version\": \"1.3.2\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"writing\", \"technical\", \"blog\", \"tutorial\", \"documentation\", \"teaching\", \"flatiron\"]\n}\n",
        "plugins/tech-writer/README.md": "# tech-writer\n\nWrite technical blog posts, tutorials, and documentation with Flatiron School's engaging teaching style.\n\n## Installation\n\n```bash\n/plugin install tech-writer@claude-code-in-avinyc\n```\n\n## Usage\n\n```bash\n/avinyc:write blog dependency-injection-in-ruby\n/avinyc:write tutorial building-a-rails-api\n/avinyc:write docs authentication-system\n```\n\n## Writing Style\n\n**Voice**: Technically unimpeachable yet refreshingly human. The senior developer who remembers being confused, the teacher who gets excited explaining recursion for the thousandth time.\n\n**Never use dashes or em-dashes.**\n\n## Content Structure\n\nEvery post includes:\n- **The Hook**: A real problem stated plainly\n- **The Setup**: What we're building and why\n- **The Journey**: Step-by-step implementation\n- **The Payoff**: The moment it clicks\n- **The Challenge**: An invitation to explore further\n\n## Teaching Techniques\n\n- **Let's Break It**: Show the happy path, then break it to reveal edge cases\n- **History Lesson**: What came before, and what the tool does for you\n- **Two-Solution Shuffle**: The obvious way, then the elegant way\n- **Production Reality Check**: When to use it, when not to\n\n## Voice Characteristics\n\n- Conversational Authority\n- Pragmatic Passion\n- Intellectual Honesty\n- Strategic Simplicity\n\n## Natural Language\n\nJust describe what you want to write:\n\n- \"Write a blog post about Rails caching\"\n- \"Create a tutorial on building a Stimulus controller\"\n- \"Explain dependency injection in simple terms\"\n\n## License\n\nMIT\n",
        "plugins/tech-writer/commands/write.md": "---\nname: avinyc:write\ndescription: Write technical blog posts and tutorials\nargument-hint: \"[topic or format]\"\n---\n\nInvoke the tech-writer:write skill for: $ARGUMENTS\n",
        "plugins/tech-writer/skills/write/SKILL.md": "---\nname: write\ndescription: Write technical blog posts, tutorials, and documentation in Flatiron School's engaging style. Use for explaining code patterns, debugging stories, or turning complex topics into clear narratives. Triggers on \"write a blog post\", \"tutorial about\", \"explain how\", \"technical writing\".\nargument-hint: \"[blog|tutorial|docs] topic\"\nuser-invocable: true\n---\n\n# Technical Writer (Flatiron Style)\n\nWrite like someone who's been in the trenches, shipped real products, and lived to tell the tale in a way that makes readers want to fire up their editor immediately.\n\n**Voice**: Technically unimpeachable yet refreshingly human. The senior developer who remembers being confused, the teacher who gets excited explaining recursion for the thousandth time.\n\n**Never use dashes or em-dashes.**\n\n## Writing Philosophy\n\n**Strong Opinions, Loosely Held**: Take positions. Don't hedge with \"you might consider\" or \"perhaps one could.\" Say \"Here's the right way to do this\" and show why. But acknowledge tradeoffs when they matter.\n\n**Clarity Through Progression**:\n1. Hook them with the problem they're actually facing\n2. Build understanding piece by piece\n3. Show real code that works\n4. Connect it to the bigger picture\n5. Leave them with something they can use today\n\n**Code as Narrative**: Code examples aren't afterthoughts. They're characters in your story. Each line has purpose. Variable names matter. Comments explain why, not what.\n\n## Voice Characteristics\n\n**Conversational Authority**: \"We're going to build something cool. But first, let me show you why the obvious approach fails.\"\n\n**Pragmatic Passion**: Show excitement about elegant solutions without losing sight of shipping. \"Yes, this recursive solution is beautiful, but here's why we're using a loop in production.\"\n\n**Intellectual Honesty**: \"I spent three hours debugging this because I forgot about timezone conversions. Here's how you'll avoid my mistake.\"\n\n**Strategic Simplicity**: Break down complex ideas without dumbing down. \"Dependency injection sounds fancy, but it's really just passing things in instead of hard-coding them.\"\n\n## Content Structure\n\nEvery post includes:\n- **The Hook**: A real problem stated plainly. No \"In today's fast-paced world...\"\n- **The Setup**: What we're building and why it matters. Short. Direct. Compelling.\n- **The Journey**: Step-by-step implementation with code that actually runs.\n- **The Payoff**: The moment where it clicks. Where the pattern becomes clear.\n- **The Challenge**: Something readers can try. Not homework, an invitation to play.\n\n## Teaching Techniques\n\n**The \"Let's Break It\" Method**: Show the happy path, then systematically break it to reveal edge cases.\n\n**The \"History Lesson\" Pattern**: \"Before Rails gave us has_secure_password, we all wrote this same authentication code badly. Here's what Rails is actually doing for you.\"\n\n**The \"Two-Solution Shuffle\"**: Present the obvious solution, then the elegant one. \"Most developers would write this with a loop. But Ruby has a better way.\"\n\n**The \"Production Reality Check\"**: \"This pattern is perfect for 90% of cases. Here's how to recognize the 10% where you need something else.\"\n\n## Personality\n\n- Open with energy: \"Today we're solving a problem that's been annoying developers since 1970.\"\n- Admit struggles: \"I've written this wrong so many times, I have the error message memorized.\"\n- Celebrate elegance: \"Look at this. Three lines. It's beautiful.\"\n- Respect the reader: \"You already know HTTP. Let's use that knowledge.\"\n- Stay practical: \"Ship it, then optimize it.\"\n\n## Never\n\n- Use unnecessary jargon or complexity\n- Present code without context\n- Ignore the practical realities of shipping software\n- Talk down to beginners or bore experts\n- Write filler content or SEO fluff\n\nGoal: Make every reader feel like they just had coffee with a brilliant colleague who made them better at their craft.\n",
        "plugins/warp-rails/.claude-plugin/plugin.json": "{\n  \"name\": \"warp-rails\",\n  \"description\": \"Bootstrap Warp terminal configuration for Rails projects with colored tabs and workflows\",\n  \"version\": \"1.0.3\",\n  \"author\": {\n    \"name\": \"Avi Flombaum\",\n    \"email\": \"im@avi.nyc\"\n  },\n  \"homepage\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"repository\": \"https://github.com/aviflombaum/claude-code-in-avinyc\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"warp\", \"terminal\", \"rails\", \"bootstrap\", \"configuration\", \"workflow\"]\n}\n",
        "plugins/warp-rails/README.md": "# warp-rails\n\nBootstrap Warp terminal configuration for Rails projects with colored tabs.\n\n## Installation\n\n```bash\n/plugin install warp-rails@claude-code-in-avinyc\n```\n\n## Usage\n\n### Slash Command\n\n```bash\n/warp-rails\n```\n\n### Natural Language\n\nJust ask Claude to set up Warp:\n\n- \"Set up Warp for this project\"\n- \"Configure Warp terminal\"\n- \"Bootstrap Warp for Rails\"\n\n## What It Does\n\nCreates a Warp launch configuration with colored tabs:\n\n| Tab | Color | Command |\n|-----|-------|---------|\n| Server | green | `bin/dev` or `rails server` |\n| Claude | blue | `claude` |\n| Shell | yellow | (empty terminal) |\n| Console | magenta | `bin/rails console` |\n| Logs | cyan | `tail -f log/development.log` |\n| Jobs | red | Background processor (if detected) |\n\nYou choose which tabs to include via interactive prompts.\n\n## After Setup\n\nLaunch your configuration:\n- **Keyboard:** `Ctrl-Cmd-L` then select your project\n- **Direct URL:** `warp://launch/{project-name}.yaml`\n\n## Configuration Location\n\nConfigs are saved to `~/.warp/launch_configurations/`\n\n## Requirements\n\n- Warp terminal (macOS)\n- Rails project with standard structure\n\n## License\n\nMIT\n",
        "plugins/warp-rails/commands/warp-rails.md": "---\nname: warp-rails\ndescription: Bootstrap Warp terminal for Rails projects\nargument-hint: \"[project-path]\"\n---\n\nInvoke the warp-rails:bootstrap skill for: $ARGUMENTS\n",
        "plugins/warp-rails/skills/bootstrap/SKILL.md": "---\nname: bootstrap\ndescription: Bootstrap Warp terminal configuration for Rails projects. Creates launch configurations with colored tabs for dev server, Claude, shell, and more. This skill should be used when setting up Warp for a Rails project. Triggers on \"setup warp\", \"configure warp\", \"warp rails\", \"warp bootstrap\", \"terminal setup for rails\", \"warp-rails\".\nargument-hint: \"[project-path]\"\nuser-invocable: true\n---\n\n# Warp Rails Bootstrap\n\nConfigure Warp terminal for optimal Rails development with colored tabs.\n\n## Critical Rules\n\n**READ THESE FIRST. VIOLATIONS WILL BREAK THE CONFIG.**\n\n1. **MUST use AskUserQuestion** - Do NOT generate the config until user selects their tabs\n2. **MUST use `bin/dev`** - If `bin/dev` exists, use it. Do NOT parse Procfile.dev for individual commands\n3. **MUST use lowercase color names** - Only valid: `red`, `green`, `yellow`, `blue`, `magenta`, `cyan`\n4. **MUST use `exec:` for commands** - Format: `- exec: bin/dev` NOT `- \"bin/dev\"`\n5. **MUST use absolute paths** - Never use `~` or relative paths in `cwd` field\n6. **MUST start YAML with `---`** - The document separator is required\n7. **MUST read reference docs** - Before generating YAML, read @./references/launch-config-schema.md\n\n## Workflow\n\nExecute these steps IN ORDER. Do not skip steps.\n\n### Step 1: Verify Rails Project\n\nRun this command:\n```bash\ntest -f config/application.rb && echo \"RAILS PROJECT\" || echo \"NOT RAILS\"\n```\n\nIf NOT RAILS, stop and tell user to run from a Rails directory.\n\n### Step 2: Gather Project Context\n\nRun these commands and store the results:\n\n```bash\n# Get absolute path (REQUIRED for cwd)\npwd\n\n# Get project name from directory\nbasename \"$(pwd)\"\n\n# Check for bin/dev\ntest -f bin/dev && echo \"HAS_BIN_DEV=true\" || echo \"HAS_BIN_DEV=false\"\n\n# Check for background job processor\ngrep -l \"sidekiq\\|good_job\\|solid_queue\" Gemfile 2>/dev/null && echo \"HAS_JOBS=true\" || echo \"HAS_JOBS=false\"\n```\n\n**IMPORTANT:**\n- If `HAS_BIN_DEV=true`, the dev command is `bin/dev`. Period. Do NOT look inside Procfile.dev.\n- If `HAS_BIN_DEV=false`, the dev command is `bin/rails server`.\n\n### Step 3: STOP - Ask Tab Configuration\n\n**You MUST use AskUserQuestion here. Do NOT proceed until user responds.**\n\nAsk: \"Which tabs do you want in your Warp launch configuration?\"\n\nUse multi-select with these options:\n\n| Label | Description |\n|-------|-------------|\n| Server (green) | Run dev server (bin/dev or rails server) |\n| Claude (blue) | Start Claude Code session |\n| Shell (yellow) | Empty terminal for commands |\n| Console (magenta) | Rails console |\n| Logs (cyan) | Tail log/development.log |\n\nIf HAS_JOBS=true, also include:\n| Jobs (red) | Background job processor |\n\n**WAIT FOR USER RESPONSE BEFORE CONTINUING.**\n\n### Step 4: Read Reference Documentation\n\n**Before writing ANY YAML, read the schema reference:**\n\nRead @./references/launch-config-schema.md\n\nThis ensures you use the correct format.\n\n### Step 5: Generate Launch Configuration\n\nCreate the launch configuration file.\n\n**File location:** `~/.warp/launch_configurations/{project-name}.yaml`\n\n**EXACT FORMAT TO USE:**\n\n```yaml\n---\nname: {project-name}\nwindows:\n  - tabs:\n      - title: Server\n        color: green\n        layout:\n          cwd: {ABSOLUTE_PATH_FROM_PWD}\n          commands:\n            - exec: bin/dev\n      - title: Claude\n        color: blue\n        layout:\n          cwd: {ABSOLUTE_PATH_FROM_PWD}\n          commands:\n            - exec: claude\n      - title: Shell\n        color: yellow\n        layout:\n          cwd: {ABSOLUTE_PATH_FROM_PWD}\n```\n\n**FORMAT RULES:**\n- File MUST start with `---` (YAML document separator)\n- `color` MUST be lowercase: `green`, `blue`, `yellow`, `magenta`, `cyan`, `red`\n- `color` MUST NOT be capitalized or an object with r/g/b values\n- `commands` MUST use `exec:` prefix: `- exec: bin/dev`\n- `commands` MUST NOT be plain strings like `- \"bin/dev\"`\n- `cwd` MUST be the absolute path from `pwd` command (no quotes needed)\n- `cwd` MUST NOT use `~` or relative paths\n\n### Step 6: Display Summary\n\nShow the user what was created:\n\n```\nWarp launch configuration created for {project-name}!\n\nLocation: ~/.warp/launch_configurations/{project-name}.yaml\n\nHow to use:\n  Keyboard:     Ctrl-Cmd-L → select \"{project-name}\"\n  Direct URL:   warp://launch/{project-name}.yaml\n\nTabs configured:\n  {list each tab with color and command}\n```\n\n## Common Mistakes to Avoid\n\n| Wrong | Right |\n|-------|-------|\n| `color: Green` | `color: green` |\n| `color: { r: 34, g: 197, b: 94 }` | `color: green` |\n| `commands: [\"bin/dev\"]` | `commands: [- exec: bin/dev]` |\n| `cwd: ~/project` | `cwd: /Users/avi/project` |\n| `cwd: .` | `cwd: /Users/avi/project` |\n| Missing `---` at start | Start file with `---` |\n| Parsing Procfile.dev for commands | Just use `bin/dev` |\n| Skipping AskUserQuestion | MUST ask and wait for response |\n\n## Reference Files\n\n- @./references/launch-config-schema.md - Launch configuration YAML format\n",
        "plugins/warp-rails/skills/bootstrap/references/launch-config-schema.md": "# Warp Launch Configuration Schema\n\nLaunch configurations are YAML files that define window, tab, and pane layouts with startup commands.\n\n## File Location\n\n- **macOS:** `~/.warp/launch_configurations/`\n- **Windows:** `%APPDATA%\\warp\\Warp\\data\\launch_configurations\\`\n- **Linux:** `${XDG_DATA_HOME:-$HOME/.local/share}/warp-terminal/launch_configurations/`\n\nProject-local configs can also be stored in `.warp/launch_configurations/` within a repository.\n\n## Schema\n\n```yaml\nname: string              # Configuration name (required)\nwindows:                  # Array of window definitions\n  - tabs:                 # Array of tab definitions\n      - title: string     # Tab display name\n        color: string     # Tab color (see colors below)\n        layout:\n          cwd: string     # Working directory (MUST be absolute path)\n          commands:       # Array of startup commands\n            - string\n          split_direction: string  # \"vertical\" or \"horizontal\"\n          panes:          # Nested pane definitions\n            - cwd: string\n              commands:\n                - string\n              is_focused: boolean\nactive_window_index: number  # Which window opens first (0-indexed)\nactive_tab_index: number     # Which tab is active (0-indexed)\n```\n\n## Available Tab Colors\n\nWarp supports ANSI color names in **lowercase**:\n- `red`\n- `green`\n- `yellow`\n- `blue`\n- `magenta`\n- `cyan`\n\n**WRONG:**\n```yaml\ncolor: Green\n```\n\n**WRONG:**\n```yaml\ncolor:\n  r: 34\n  g: 197\n  b: 94\n```\n\n**CORRECT:**\n```yaml\ncolor: green\n```\n\n## Critical Requirements\n\n1. **Absolute paths only:** The `cwd` field MUST be an absolute path. Tilde (`~`) expansion does NOT work and will cause the config to be invisible.\n\n2. **Empty string fallback:** Use `\"\"` for cwd if you want the default directory.\n\n3. **Command chaining:** Multiple commands in the `commands` array are chained with `&&` when executed.\n\n4. **Special characters:** Commands with special characters may require double quotes.\n\n5. **Commands use `exec:` prefix:** Each command in the array must have `exec:` prefix.\n\n**WRONG:**\n```yaml\ncommands:\n  - \"bin/dev\"\n```\n\n**WRONG:**\n```yaml\ncommands:\n  - bin/dev\n```\n\n**CORRECT:**\n```yaml\ncommands:\n  - exec: bin/dev\n```\n\n## Example: Rails Development Setup\n\n```yaml\n---\nname: my-rails-app\nwindows:\n  - tabs:\n      - title: Server\n        color: green\n        layout:\n          cwd: /Users/avi/code/my-rails-app\n          commands:\n            - exec: bin/dev\n      - title: Claude\n        color: blue\n        layout:\n          cwd: /Users/avi/code/my-rails-app\n          commands:\n            - exec: claude\n      - title: Shell\n        color: yellow\n        layout:\n          cwd: /Users/avi/code/my-rails-app\n      - title: Console\n        color: magenta\n        layout:\n          cwd: /Users/avi/code/my-rails-app\n          commands:\n            - exec: bin/rails console\n```\n\n## Example: Split Panes\n\n```yaml\n---\nname: split-example\nwindows:\n  - tabs:\n      - title: Dev\n        layout:\n          cwd: /Users/avi/code/app\n          split_direction: horizontal\n          panes:\n            - cwd: /Users/avi/code/app\n              commands:\n                - exec: bin/dev\n            - cwd: /Users/avi/code/app\n              commands:\n                - exec: tail -f log/development.log\n              is_focused: true\n```\n\n## Launching Configurations\n\n- **Command Palette:** Type \"Launch Configuration\"\n- **Keyboard:** `Ctrl-Cmd-L` (macOS)\n- **Right-click:** Click `+` tab button\n- **URI Scheme:** `warp://launch/config-name.yaml`\n- **Raycast/Alfred:** Use Warp extensions\n"
      },
      "plugins": [
        {
          "name": "rspec-writer",
          "source": "./plugins/rspec-writer",
          "description": "AI-powered RSpec test generation for Rails applications",
          "version": "1.4.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install rspec-writer@claude-code-in-avinyc"
          ]
        },
        {
          "name": "rails-frontend",
          "source": "./plugins/rails-frontend",
          "description": "Modern Rails frontend development with Hotwire (Turbo, Stimulus) and Tailwind CSS",
          "version": "1.3.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install rails-frontend@claude-code-in-avinyc"
          ]
        },
        {
          "name": "design-system",
          "source": "./plugins/design-system",
          "description": "UI/UX design expertise with usability principles and visual implementation",
          "version": "1.3.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install design-system@claude-code-in-avinyc"
          ]
        },
        {
          "name": "saas-metrics",
          "source": "./plugins/saas-metrics",
          "description": "SaaS business metrics and marketing analytics for founders",
          "version": "1.3.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install saas-metrics@claude-code-in-avinyc"
          ]
        },
        {
          "name": "compound-analyzer",
          "source": "./plugins/compound-analyzer",
          "description": "Identify automation and systematization opportunities in development work",
          "version": "1.3.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install compound-analyzer@claude-code-in-avinyc"
          ]
        },
        {
          "name": "tech-writer",
          "source": "./plugins/tech-writer",
          "description": "Technical writing with Flatiron School's engaging teaching style",
          "version": "1.3.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install tech-writer@claude-code-in-avinyc"
          ]
        },
        {
          "name": "rails-expert",
          "source": "./plugins/rails-expert",
          "description": "Ruby and Rails best practices following POODR and Refactoring Ruby",
          "version": "1.3.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install rails-expert@claude-code-in-avinyc"
          ]
        },
        {
          "name": "plan-interview",
          "source": "./plugins/plan-interview",
          "description": "Refine project plans through Socratic questioning",
          "version": "1.3.2",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install plan-interview@claude-code-in-avinyc"
          ]
        },
        {
          "name": "warp-rails",
          "source": "./plugins/warp-rails",
          "description": "Bootstrap Warp terminal configuration for Rails projects",
          "version": "1.0.3",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install warp-rails@claude-code-in-avinyc"
          ]
        },
        {
          "name": "monitor-config",
          "source": "./plugins/monitor-config",
          "description": "Configure and optimize multi-monitor setups on macOS using displayplacer",
          "version": "1.0.1",
          "author": {
            "name": "Avi Flombaum"
          },
          "homepage": "https://github.com/aviflombaum/claude-code-in-avinyc",
          "license": "MIT",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add aviflombaum/claude-code-in-avinyc",
            "/plugin install monitor-config@claude-code-in-avinyc"
          ]
        }
      ]
    }
  ]
}