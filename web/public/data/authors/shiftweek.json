{
  "author": {
    "id": "shiftweek",
    "display_name": "shiftweek",
    "avatar_url": "https://avatars.githubusercontent.com/u/260824616?v=4"
  },
  "marketplaces": [
    {
      "name": "oape-ai-e2e",
      "version": null,
      "description": "AI-driven OpenShift operator development tools",
      "repo_full_name": "shiftweek/oape-ai-e2e",
      "repo_url": "https://github.com/shiftweek/oape-ai-e2e",
      "repo_description": "AI Driven Feature Development",
      "signals": {
        "stars": 0,
        "forks": 2,
        "pushed_at": "2026-02-12T12:39:54Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"oape-ai-e2e\",\n  \"description\": \"AI-driven OpenShift operator development tools\",\n  \"owner\": {\n    \"name\": \"oape\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"oape\",\n      \"source\": \"./plugins/oape\",\n      \"description\": \"AI-driven OpenShift operator development tools\"\n    }\n  ]\n}\n",
        "README.md": "# oape-ai-e2e\n\nAI-driven Feature Development tools.\n\n## Installation\n\nAdd the marketplace:\n```shell\n/plugin marketplace add chiragkyal/oape-ai-e2e\n```\n\nInstall the plugin:\n```shell\n/plugin install oape@oape-ai-e2e\n```\n\nUse the commands:\n```shell\n/oape:api-generate https://github.com/openshift/enhancements/pull/1234\n```\n\n## Updating Plugins\n\nUpdate the marketplace (fetches latest plugin catalog):\n```shell\n/plugin marketplace update oape-ai-e2e\n```\n\nReinstall the plugin (downloads new version):\n```shell\n/plugin install oape@oape-ai-e2e\n```\n\n## Using Cursor\n\nCursor can discover the commands by symlinking this repo into your `~/.cursor/commands` directory:\n\n```bash\nmkdir -p ~/.cursor/commands\ngit clone git@github.com:chiragkyal/oape-ai-e2e.git\nln -s oape-ai-e2e ~/.cursor/commands/oape-ai-e2e\n```\n\n## Available Plugins\n\n| Plugin                    | Description                                    | Commands                                     |\n| ------------------------- | ---------------------------------------------- | -------------------------------------------- |\n| **[oape](plugins/oape/)** | AI-driven OpenShift operator development tools | `/oape:api-generate`, `/oape:api-implement`  |\n\n## Commands\n\n### `/oape:api-generate` -- Generate API Types from Enhancement Proposal\n\nReads an OpenShift enhancement proposal PR, extracts the required API changes, and generates compliant Go type definitions in the correct paths of the current OpenShift operator repository.\n\n```shell\n/oape:api-generate https://github.com/openshift/enhancements/pull/1234\n```\n\n### `/oape:api-implement` -- Generate Controller Implementation from Enhancement Proposal\n\nReads an OpenShift enhancement proposal PR, extracts the required implementation logic, and generates complete controller/reconciler code following controller-runtime and operator-sdk conventions.\n\n```shell\n/oape:api-implement https://github.com/openshift/enhancements/pull/1234\n```\n\n**Typical workflow:**\n```shell\n# Step 1: Generate API types\n/oape:api-generate https://github.com/openshift/enhancements/pull/1234\n\n# Step 2: Generate controller implementation\n/oape:api-implement https://github.com/openshift/enhancements/pull/1234\n```\n\n### Adding a New Command\n\n1. Add a new markdown file under `plugins/oape/commands/`\n2. The command will be available as `/oape:<command-name>`\n3. Update the plugin `README.md` documenting the new command\n\n### Plugin Structure\n\n```text\nplugins/oape/\n├── .claude-plugin/\n│   └── plugin.json           # Required: plugin metadata\n├── commands/\n│   └── <command-name>.md     # Slash commands\n├── skills/\n│   └── <skill-name>/\n│       └── SKILL.md          # Reusable agent skills (optional)\n└── README.md                 # Plugin documentation\n```\n",
        "plugins/oape/README.md": "# oape Plugin\n\nAI-driven OpenShift operator development tools, following OpenShift and Kubernetes API conventions.\n\n## Commands\n\n### `/oape:api-generate`\n\nReads an OpenShift enhancement proposal PR, extracts the required API changes, and generates compliant Go type definitions in the correct paths of the current OpenShift operator repository.\n\n**Usage:**\n```shell\n/oape:api-generate https://github.com/openshift/enhancements/pull/1234\n```\n\n**What it does:**\n1. **Prechecks** -- Validates the PR URL, required tools (`gh`, `go`, `git`), GitHub authentication, repository type (must be an OpenShift operator repo with `openshift/api` dependency), and PR accessibility. Fails immediately if any precheck fails.\n2. **Knowledge Refresh** -- Fetches and internalizes the latest OpenShift and Kubernetes API conventions before generating any code.\n3. **Enhancement Analysis** -- Reads the enhancement proposal to extract API group, version, kinds, fields, validation requirements, feature gate info, and whether it is a configuration or workload API.\n4. **Code Generation** -- Generates or modifies Go type definitions following conventions derived from the authoritative documents and patterns from the existing codebase.\n5. **FeatureGate Registration** -- Adds FeatureGate to `features.go` when applicable.\n\n---\n\n### `/oape:api-implement`\n\nReads an OpenShift enhancement proposal PR, extracts the required implementation logic, and generates complete controller/reconciler code following controller-runtime and operator-sdk conventions.\n\n**Usage:**\n```shell\n/oape:api-implement https://github.com/openshift/enhancements/pull/1234\n```\n\n**What it does:**\n1. **Prechecks** -- Validates the PR URL, required tools (`gh`, `go`, `git`, `make`), GitHub authentication, repository type (controller-runtime or library-go), and PR accessibility.\n2. **Knowledge Refresh** -- Fetches and internalizes the latest controller-runtime patterns and operator best practices.\n3. **Enhancement Analysis** -- Reads the enhancement proposal to extract business logic requirements, reconciliation workflow, conditions, events, and error handling.\n4. **Pattern Detection** -- Identifies the controller layout pattern used in the repository.\n5. **Code Generation** -- Generates complete Reconcile() logic, SetupWithManager, finalizer handling, status updates, and event recording.\n6. **Controller Registration** -- Adds the new controller to the manager.\n\n**Typical Workflow:**\n```shell\n# First, generate the API types\n/oape:api-generate https://github.com/openshift/enhancements/pull/1234\n\n# Then, generate the controller implementation\n/oape:api-implement https://github.com/openshift/enhancements/pull/1234\n```\n\n---\n\n### `/oape:review`\n\nPerforms a \"Principal Engineer\" level code review that verifies code changes against Jira requirements.\n\n**Usage:**\n```shell\n/oape:review OCPBUGS-12345\n/oape:review OCPBUGS-12345 origin/release-4.15\n```\n\n**What it does:**\n1. **Fetches Jira Issue** -- Retrieves the ticket details and acceptance criteria\n2. **Analyzes Git Diff** -- Gets changes between base ref and HEAD\n3. **Reviews Code** -- Applies four review modules:\n   - **Golang Logic & Safety**: Intent matching, execution traces, edge cases, context usage, concurrency, error handling\n   - **Bash Scripts**: Safety patterns, variable quoting, temp file handling\n   - **Operator Metadata (OLM)**: RBAC updates, finalizer handling\n   - **Build Consistency**: Generation drift detection\n4. **Generates Report** -- Returns structured JSON with verdict, issues, and fix prompts\n5. **Applies Fixes Automatically** -- When issues are found, invokes `implement-review-fixes.md` to apply the suggested code changes in severity order (CRITICAL first), then verifies the build still passes\n\n## Prerequisites\n\n- **gh** (GitHub CLI) -- installed and authenticated\n- **go** -- Go toolchain\n- **git** -- Git\n- **make** -- Make (for api-implement)\n- **curl** -- For fetching Jira issues (for review)\n- Must be run from within an OpenShift operator repository\n\n## Conventions Enforced\n\n- [OpenShift API Conventions](https://github.com/openshift/enhancements/blob/master/dev-guide/api-conventions.md)\n- [Kubernetes API Conventions](https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md)\n- [Kubebuilder Controller Patterns](https://book.kubebuilder.io/cronjob-tutorial/controller-implementation)\n- [Controller-Runtime Best Practices](https://pkg.go.dev/sigs.k8s.io/controller-runtime)\n"
      },
      "plugins": [
        {
          "name": "oape",
          "source": "./plugins/oape",
          "description": "AI-driven OpenShift operator development tools",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add shiftweek/oape-ai-e2e",
            "/plugin install oape@oape-ai-e2e"
          ]
        }
      ]
    }
  ]
}