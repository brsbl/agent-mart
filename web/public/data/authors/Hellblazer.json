{
  "author": {
    "id": "Hellblazer",
    "display_name": "Constantine",
    "avatar_url": "https://avatars.githubusercontent.com/u/4781?u=6c1be62ec9b224e389eb450792448cbdcf605c09&v=4"
  },
  "marketplaces": [
    {
      "name": "hal-9000",
      "version": null,
      "description": "hal-9000 - Containerized Claude with MCP servers pre-installed",
      "repo_full_name": "Hellblazer/hal-9000",
      "repo_url": "https://github.com/Hellblazer/hal-9000",
      "repo_description": "HAL-9000 Claude Marketplace",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-01-31T07:45:52Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"_version\": \"2.0.0\",\n  \"_schema_version\": \"1.0\",\n  \"name\": \"hal-9000\",\n  \"description\": \"hal-9000 - Containerized Claude with MCP servers pre-installed\",\n  \"owner\": {\n    \"name\": \"Hal Hildebrand\",\n    \"url\": \"https://github.com/Hellblazer\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"hal-9000\",\n      \"source\": \"./plugins/hal-9000\",\n      \"description\": \"hal-9000 - Containerized Claude with MCP servers pre-installed\",\n      \"version\": \"2.0.0\"\n    }\n  ]\n}\n",
        "README.md": "# hal-9000 - Containerized Claude\n\n[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/Hellblazer/hal-9000/releases)\n[![Build Status](https://github.com/Hellblazer/hal-9000/actions/workflows/integration-test.yml/badge.svg)](https://github.com/Hellblazer/hal-9000/actions/workflows/integration-test.yml)\n[![License](https://img.shields.io/badge/license-Apache%202.0-green.svg)](LICENSE)\n[![Container Registry](https://img.shields.io/badge/ghcr.io-hellblazer%2Fhal--9000-blue?logo=docker)](https://github.com/Hellblazer/hal-9000/pkgs/container/hal-9000)\n\nRun Claude Code in isolated Docker containers with Docker-in-Docker orchestration, persistent session state, and full marketplace support.\n\n## Quick Start\n\n```bash\n# Install hal-9000\ncurl -fsSL https://raw.githubusercontent.com/Hellblazer/hal-9000/main/install-hal-9000.sh | bash\n\n# Login with your Claude subscription (recommended)\nhal-9000 /login\n\n# Or use API key instead\nexport ANTHROPIC_API_KEY=sk-ant-api03-...\n\n# Launch Claude in current directory\nhal-9000\n```\n\nAuth is stored in a shared Docker volume - login once, use everywhere.\n\n## Security\n\nhal-9000 includes comprehensive security hardening:\n- **Code Injection Prevention** - Safe config file parsing (no arbitrary code execution)\n- **Path Traversal Prevention** - Profile name validation blocks `../` attacks\n- **30/30 security tests passing** - Automated validation for all security features\n\n[Read detailed security summary →](SECURITY.md)\n\n## Marketplace Support\n\nhal-9000 supports Claude Code plugins. Install agents, commands, and tools that persist across all sessions:\n\n```bash\n# Add a marketplace (use owner/repo format)\nhal-9000 plugin marketplace add anthropics/skills\n\n# Install a plugin\nhal-9000 plugin install document-skills\n\n# List installed plugins\nhal-9000 plugin list\n```\n\nAll installations are stored in a persistent Docker volume shared by all workers.\n\n> **Note**: Foundation MCP servers (ChromaDB, Memory Bank) require one-time setup via `scripts/setup-foundation-mcp.sh` on your host machine. Sequential Thinking is pre-installed in all workers. See [Foundation MCP Servers Setup](#foundation-mcp-servers-setup) below.\n\n## What's Included\n\nEvery container includes:\n\n- **Claude CLI** - Native binary, auto-updates\n- **Node.js 20 LTS** - For npm-based tools and marketplace plugins\n- **Python + uv** - For Python-based tools and marketplace plugins\n- **Persistent plugins and settings** - Installed via marketplace, survive across sessions\n\n**Foundation MCP Servers** (host-level, one-time setup):\n- **ChromaDB** - Vector database for semantic search and embeddings\n- **Memory Bank** - Cross-session persistent memory shared across all workers\n- **Sequential Thinking** - Step-by-step reasoning (pre-installed in all workers)\n\nMCP server configurations persist across all sessions. Register once, use everywhere.\n\n## Foundation MCP Servers\n\n**What are Foundation MCP Servers?**\nMCP (Model Context Protocol) servers extend Claude's capabilities by providing tools and knowledge access. hal-9000 includes three core Foundation MCP servers:\n\n- **ChromaDB** - Vector database for semantic search\n- **Memory Bank** - Cross-session persistent memory\n- **Sequential Thinking** - Step-by-step reasoning\n\nThese are set up once at the host level via `setup-foundation-mcp.sh` and automatically available to all workers.\n\n## Foundation MCP Servers Setup\n\nFoundation MCP Servers run at the host level, accessible to all workers. One-time setup after installing hal-9000:\n\n```bash\n~/.hal9000/scripts/setup-foundation-mcp.sh\n```\n\nThis deploys:\n- **ChromaDB** (port 8000) - Vector database for semantic search\n- **Memory Bank** - Persistent storage for cross-session context\n- **Sequential Thinking** - Step-by-step reasoning (pre-installed in workers)\n\nCheck status and manage services:\n```bash\n~/.hal9000/scripts/setup-foundation-mcp.sh --status    # Check status\n~/.hal9000/scripts/setup-foundation-mcp.sh --logs      # View logs\n```\n\nSee [Foundation MCP Servers documentation](plugins/hal-9000/docs/dind/CONFIGURATION.md) for advanced configuration and troubleshooting.\n\n## Usage\n\n### Basic\n\n```bash\nhal-9000                     # Launch in current directory\nhal-9000 /path/to/project    # Launch in specific directory\nhal-9000 --shell             # Start bash instead of Claude\n```\n\n### Daemon Management\n\n```bash\nhal-9000 daemon start        # Start orchestrator + ChromaDB\nhal-9000 daemon status       # Check status\nhal-9000 daemon stop         # Stop everything\n```\n\n### Worker Management\n\n**Manage active worker sessions:**\n\n```bash\nshow-workers.sh              # Display all workers with socket status\nshow-workers.sh -w           # Live monitoring (auto-refresh)\nshow-workers.sh -j           # JSON output for automation\n\nattach-worker.sh worker-abc  # Attach to worker's TMUX session\nattach-worker.sh -s          # Interactive worker selection\nattach-worker.sh -l          # List available workers\nattach-worker.sh -d worker   # Docker exec fallback (debugging)\n```\n\n**Status Indicators:**\n- `✓` = TMUX socket healthy (session ready)\n- `⚠` = TMUX socket stale (needs investigation)\n- `○` = TMUX socket missing (session not started yet)\n\n[Worker Management Guide →](plugins/hal-9000/docs/TMUX_ARCHITECTURE.md)\n\n### Worker Pool (Optional)\n\nPre-warm containers for instant startup:\n\n```bash\nhal-9000 pool start          # Start pool manager\nhal-9000 pool status         # View warm/busy workers\nhal-9000 pool scale 3        # Maintain 3 warm workers\n```\n\n## Architecture\n\n### Parent-Worker Orchestration\n\n```mermaid\ngraph LR\n    Parent[\"<b>Parent Container</b><br/>Orchestrator<br/>ChromaDB:8000<br/>Coordinator\"]\n\n    W1[\"Worker 1<br/>Claude<br/>TMUX Socket\"]\n    W2[\"Worker 2<br/>Claude<br/>TMUX Socket\"]\n    W3[\"Worker 3<br/>Claude<br/>TMUX Socket\"]\n\n    Vols[\"<b>Shared Volumes</b><br/>Plugins, Memory,<br/>TMUX Sockets\"]\n\n    Parent ---|monitors| W1\n    Parent ---|monitors| W2\n    Parent ---|monitors| W3\n\n    W1 ---|socket IPC| Vols\n    W2 ---|socket IPC| Vols\n    W3 ---|socket IPC| Vols\n```\n\n**Infrastructure:**\n- **Parent Container**: Orchestrates workers, runs ChromaDB server (port 8000), maintains coordinator\n- **Worker Containers**: Independent TMUX servers with Claude CLI, communicate via socket IPC\n- **TMUX Sockets**: Unix domain sockets in `/data/tmux-sockets` for parent-worker communication\n- **Shared Volumes**:\n  - `hal9000-claude-home` - Marketplace plugins, credentials, MCP settings\n  - `hal9000-tmux-sockets` - Worker TMUX server sockets (socket-based IPC)\n  - `hal9000-coordinator-state` - Worker registry and session health\n  - `hal9000-memory-bank` - Cross-session persistent memory\n\n**Network Isolation:**\n- Workers use bridge networking (not shared namespace)\n- Access parent services (ChromaDB) via parent IP address\n- Each worker has independent network stack\n- Better security and enables future distributed deployment\n\n**Session Management:**\n- Each worker runs independent TMUX session with Claude in window 0, shell in window 1\n- Sessions survive detach/attach cycles (TMUX handles persistence)\n- Coordinator monitors worker lifecycle and socket health\n- Session state lives in TMUX (no file-based race conditions)\n\n## Requirements\n\n- Docker\n- Bash\n- Claude subscription OR `ANTHROPIC_API_KEY`\n\n## Configuration\n\n### Authentication\n\n**Option 1 - Subscription Login (recommended):**\n```bash\nhal-9000 /login    # Login once, persists in shared volume\n```\n\n**Option 2 - API Key:**\n```bash\nexport ANTHROPIC_API_KEY=sk-ant-api03-...\n```\n\n### Session State Persistence\n\nhal-9000 maintains state across container instances using shared volumes:\n\n- **`hal9000-claude-home`** - Marketplace plugins, credentials, MCP configurations\n- **`hal9000-claude-session`** - Authentication tokens, session settings\n- **`hal9000-memory-bank`** - Cross-session persistent memory\n\nSet up MCP servers once—credentials and configurations persist across all sessions automatically.\n\n### Profiles\n\nBuilt-in profiles are automatically selected based on your project structure:\n\n```bash\nhal-9000 --profile base      # Minimal (default)\nhal-9000 --profile python    # + Python tools\nhal-9000 --profile node      # + Node.js tools\nhal-9000 --profile java      # + Java/Maven tools\n```\n\n**Auto-Detection:**\n- Python: Detects `requirements.txt`, `pyproject.toml`, `Pipfile`\n- Node.js: Detects `package.json`\n- Java: Detects `pom.xml`, `build.gradle`, `build.gradle.kts`\n\n**Creating Custom Profiles:**\n\nWant a Ruby profile? Go profile? Anything else? You can create custom profiles for any language/framework.\n\n**Quick Start (easiest):** See [Local Profiles Quick Start](README-LOCAL_PROFILES.md)\n- Create a Dockerfile in `~/.hal9000/profiles/{name}/`\n- hal-9000 auto-detects and builds it\n- Zero setup, no repo cloning needed\n\n**Complete Guide:** See [Custom Profiles Guide](README-CUSTOM_PROFILES.md) for:\n- Complete walkthrough of creating a new profile\n- Examples: Ruby, Go, Rust, PHP, .NET\n- Best practices and troubleshooting\n- How to share profiles with the community\n- Contributing profiles back to the project\n\n## Companion Tools\n\n### hal-9000 Plugin - Tools & Commands\n\nCustom commands, MCP servers, and hooks for enhanced Claude workflows:\n\n```bash\n# Install the plugin\nhal-9000 plugin marketplace add Hellblazer/hal-9000\nhal-9000 plugin install hal-9000\n```\n\n**Includes**:\n- Slash commands (/check, /load, /sessions)\n- MCP servers and integrations\n- Safety hooks\n\n[hal-9000 documentation →](plugins/hal-9000/README.md)\n\n### aod - Multi-Branch Development\n\nParallel development across git branches:\n\n```bash\naod-init                 # Generate config\naod aod.yml              # Launch all branches\naod-list                 # Show sessions\naod-broadcast \"cmd\"      # Send to all\n```\n\n[aod documentation →](plugins/hal-9000/aod/README.md)\n\n## Troubleshooting\n\n### System Diagnostics\n\n```bash\nhal-9000 --diagnose              # Show diagnostic info\nhal-9000 daemon status           # Check daemon health\ndocker logs hal9000-parent       # View parent logs\nshow-workers.sh                  # Display all workers + socket status\nshow-workers.sh -w               # Live monitoring\n```\n\n### Common Issues\n\n**\"Parent container not running\"**\n```bash\nhal-9000 daemon start\n```\n\n**\"Cannot connect to Docker\"**\n```bash\n# Ensure Docker is running\ndocker ps\n```\n\n**\"ChromaDB not responding\"**\n```bash\nhal-9000 daemon restart\n```\n\n**\"Worker socket not found / stale\"**\n```bash\n# Check socket health\nshow-workers.sh          # Shows socket status (✓/⚠/○)\n\n# If socket is stale (⚠), wait for coordinator to clean it up\n# Coordinator validates sockets every 30 seconds\n\n# Or manually check socket\nls -la /data/tmux-sockets/worker-*.sock\n```\n\n**\"Cannot attach to worker\"**\n```bash\n# Verify worker is running and socket is healthy\nshow-workers.sh -v              # Detailed status\ndocker ps | grep worker-abc     # Check container exists\n\n# Try attaching with retry\nattach-worker.sh worker-abc     # Has built-in retry logic\n\n# Or use fallback\nattach-worker.sh -d worker-abc  # Docker exec fallback\n```\n\n**\"TMUX session frozen\"**\n```bash\n# Detach from TMUX (doesn't kill session)\n# Press Ctrl+B, then D\n\n# If completely frozen, kill TMUX socket (coordinator will recreate)\ndocker exec hal9000-parent rm -f /data/tmux-sockets/worker-*.sock\n\n# Restart parent to trigger socket recreation\nhal-9000 daemon restart\n```\n\n### TMUX Architecture Details\n\n[TMUX Architecture Guide →](plugins/hal-9000/docs/TMUX_ARCHITECTURE.md) - Comprehensive reference for:\n- Socket-based IPC architecture\n- TMUX session lifecycle\n- Session persistence model\n- Troubleshooting socket issues\n- Security considerations\n\n## Documentation\n\n- [Architecture Details](plugins/hal-9000/docs/dind/ARCHITECTURE.md)\n- [Configuration Reference](plugins/hal-9000/docs/dind/CONFIGURATION.md)\n- [Troubleshooting Guide](plugins/hal-9000/docs/dind/TROUBLESHOOTING.md)\n- [Development Guide](plugins/hal-9000/docs/dind/DEVELOPMENT.md)\n- [Custom Profiles Guide](README-CUSTOM_PROFILES.md) - Create your own specialized profiles (Ruby, Go, Rust, PHP, etc.)\n\n## License\n\nApache 2.0\n",
        "plugins/hal-9000/README.md": "# HAL-9000 Plugin\n\n[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/Hellblazer/hal-9000/releases)\n[![Container](https://img.shields.io/badge/docker-dind-success?logo=docker)](../../docker/README.md)\n\nContainerized Claude with Docker-in-Docker orchestration, persistent session state, multi-branch development, and safety tools.\n\n## Components\n\n### Session Commands\n\n- `/check` - Save session context\n- `/load` - Resume session\n- `/sessions` - List sessions\n- `/session-delete` - Delete session\n\n### Terminal Tools\n\n**Worker Management (TMUX Socket-Based):**\n- **show-workers.sh** - Display all workers with TMUX socket health (✓/⚠/○)\n- **attach-worker.sh** - Attach to worker's TMUX session (primary interface)\n- **tmux-send.sh** - Send commands to workers programmatically (automation)\n- **tmux-list-sessions.sh** - Discover workers via socket registry\n\n**Other Tools:**\n- **tmux-cli** - Terminal automation for interactive CLIs\n- **ccstatusline** - Pre-configured Claude Code status line with Powerline styling (context %, session time, git info, worktree status) - requires Nerd Font for full appearance\n- **vault** - Encrypted .env backup with SOPS\n- **env-safe** - Safe .env inspection\n- **find-session** - Search across agent sessions\n- **Safety hooks** - Git, file, and environment protection\n\n### Foundation MCP Servers\n\nCore infrastructure MCP servers running at host level (set up via `setup-foundation-mcp.sh`):\n\n- **ChromaDB** - Vector database for semantic search and document storage\n- **Memory Bank** - Persistent cross-session memory with project-based organization\n- **Sequential Thinking** - Step-by-step reasoning for complex problem-solving\n\nThese servers are automatically available in all worker containers and persist across sessions.\n\n### Development Environments\n\n**hal9000** - Containerized Claude sessions\n- `hal9000 run --profile python` - Single containerized session\n- `hal9000 squad --sessions 3` - Multiple parallel sessions\n- Good for: isolated development, parallel tasks on same codebase\n- [hal9000 documentation →](hal9000/README.md)\n\n**aod (Army of Darkness)** - Multi-branch parallel development\n- Uses git worktrees + tmux + hal-9000 containers\n- Good for: working on multiple branches of same repo simultaneously\n- [aod documentation →](aod/README.md)\n\n## Installation\n\nInstall through the hal-9000 marketplace in Claude Code.\n\n## Requirements\n\n- Docker (optional, for containerized sessions)\n- tmux (auto-installed if missing)\n- gh - GitHub CLI (auto-installed if missing)\n\n## Usage\n\n### Worker Management\n\nhal-9000 uses TMUX socket-based orchestration for isolated, scalable worker management:\n\n```bash\n# Monitor all workers\nshow-workers.sh              # Full status display\nshow-workers.sh -w           # Live monitoring (auto-refresh)\nshow-workers.sh -c           # Compact single-line\nshow-workers.sh -j | jq      # JSON for automation\n\n# Attach to specific worker\nattach-worker.sh worker-abc  # Attach to Claude window (primary)\nattach-worker.sh -s          # Interactive selection menu\nattach-worker.sh -l          # List available workers\nattach-worker.sh worker-abc shell  # Attach to shell window instead\n\n# Command execution (automation)\ntmux-send.sh worker-abc \"bd ready\" -c      # Send command with output capture\ntmux-send.sh worker-abc \"pwd\"              # Send command\n\n# Discovery\ntmux-list-sessions.sh        # List all sessions (simple)\ntmux-list-sessions.sh -v     # Verbose with details\ntmux-list-sessions.sh --json # JSON output\n```\n\n**TMUX Socket Architecture:**\n- Each worker runs independent TMUX server via socket in `/data/tmux-sockets`\n- Socket-based IPC (no TTY, no namespace sharing)\n- Better isolation, performance, and scalability\n- Session persistence (survives detach/attach)\n\n[TMUX Architecture Guide →](docs/TMUX_ARCHITECTURE.md)\n\n### Other Terminal Tools\n\n```bash\ntmux-cli launch \"python -m pdb script.py\"\nvault backup .env\nfind-session \"auth implementation\"\n```\n\n### aod (Army of Darkness)\n\nMulti-branch parallel development with optimized container performance.\n\n```bash\n# Create configuration for multiple branches\ncat > aod.conf <<EOF\nfeature/auth:python:Add authentication\nfeature/api:node:Build REST API\nEOF\n\n# Launch all sessions\naod aod.conf\n\n# Manage sessions\naod-list                         # List active sessions\naod-attach aod-feature-auth      # Attach to session\naod-send aod-feature-auth \"cmd\"  # Send command without attaching\naod-broadcast \"cmd\"              # Send to all sessions\naod-cleanup                      # Stop all sessions\n```\n\n**v2.0.0 Architecture:** Docker-in-Docker parent-worker orchestration with Foundation MCP servers (ChromaDB, Memory Bank, Sequential Thinking) running at host level. Workers share persistent volumes for credentials, plugins, and cross-session state.\n\n### hal9000 Sessions\n\nhal9000 provides containerized Claude with persistent plugins and Foundation MCP servers:\n\n```bash\n# Single container\nhal9000 run --profile python\n\n# Multiple sessions\nhal9000 squad --sessions 3\n```\n\nSee [hal9000 documentation](hal9000/README.md) for session management commands.\n\n## Documentation\n\n- **[Cheat Sheet](../../CHEATSHEET.md)** - Quick reference for aod, tmux, tmux-cli, and terminal tools\n- Commands: `commands/*.md`\n- aod (Army of Darkness): `aod/README.md`\n\n## Troubleshooting\n\n### Commands not working\n- Check `~/.claude/commands/` contains .md files\n- Try `/help` to see available commands\n\n### ccstatusline not showing\n\n**Problem:** Status line doesn't appear in Claude Code\n\n**Solutions:**\n- Verify Node.js or Bun installed: `which bunx` or `which npx`\n- Check Claude settings: `cat ~/.claude/settings.json | jq .statusLine`\n- Test command manually: `bunx -y ccstatusline@latest`\n- Verify widget config exists: `cat ~/.config/ccstatusline/settings.json`\n- Restart Claude Code completely (not just refresh)\n\n**Problem:** Status line shows errors or wrong data\n\n**Solutions:**\n- Reconfigure widgets: `bunx ccstatusline@latest`\n- Check settings valid JSON: `jq . ~/.config/ccstatusline/settings.json`\n- Reset to defaults: Re-run `install.sh` to recreate config\n"
      },
      "plugins": [
        {
          "name": "hal-9000",
          "source": "./plugins/hal-9000",
          "description": "hal-9000 - Containerized Claude with MCP servers pre-installed",
          "version": "2.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add Hellblazer/hal-9000",
            "/plugin install hal-9000@hal-9000"
          ]
        }
      ]
    }
  ]
}