{
  "author": {
    "id": "keboola",
    "display_name": "Keboola",
    "avatar_url": "https://avatars.githubusercontent.com/u/1424387?v=4"
  },
  "marketplaces": [
    {
      "name": "keboola-claude-kit",
      "version": "1.6.0",
      "description": "Comprehensive Claude Kit marketplace for Keboola workflows including developer tools, component development, and data app building with specialized agents and best practices",
      "repo_full_name": "keboola/ai-kit",
      "repo_url": "https://github.com/keboola/ai-kit",
      "repo_description": "Keboola prompt repository for sharing, co creating and improving AI agentic workloads. Both customer's and developers",
      "signals": {
        "stars": 7,
        "forks": 2,
        "pushed_at": "2026-02-17T15:05:48Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"keboola-claude-kit\",\n  \"version\": \"1.6.0\",\n  \"metadata\": {\n    \"description\": \"Comprehensive Claude Kit marketplace for Keboola workflows including developer tools, component development, and data app building with specialized agents and best practices\"\n  },\n  \"owner\": {\n    \"name\": \"Keboola :(){:|:&};: s.r.o.\",\n    \"email\": \"support@keboola.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"component-developer\",\n      \"description\": \"Comprehensive toolkit for building Keboola Python components with Agent Skills format\",\n      \"version\": \"3.0.0\",\n      \"source\": \"./plugins/component-developer\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"developer\",\n      \"description\": \"Developer toolkit with specialized agents for code review, security analysis, and GitHub PR review processing\",\n      \"version\": \"1.7.1\",\n      \"source\": \"./plugins/developer\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"dataapp-developer\",\n      \"description\": \"Streamlit data app development with validate â†’ build â†’ verify workflow for Keboola deployment\",\n      \"version\": \"1.0.0\",\n      \"source\": \"./plugins/dataapp-developer\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"incident-commander\",\n      \"description\": \"Incident response toolkit for creating post-mortem documents from Slack incident channels\",\n      \"version\": \"1.0.0\",\n      \"source\": \"./plugins/incident-commander\",\n      \"category\": \"operations\"\n    },\n    {\n      \"name\": \"keboola-cli\",\n      \"description\": \"Keboola project management and 10-agent review team for SQL, security, performance, financial logic, and template readiness analysis\",\n      \"version\": \"1.0.0\",\n      \"source\": \"./plugins/keboola-cli\",\n      \"category\": \"operations\"\n    }\n  ]\n}\n",
        "README.md": "# Welcome to Claude Kit ğŸš€\n\nThis repository is the central library for all AI prompts and agent configurations used across the organization. Its purpose is to foster collaboration, maintain high standards, and accelerate our work by sharing effective and well-tested prompts and specialized agents.\n\n## Installation\n\nInstall skills using [skills tool](https://github.com/vercel-labs/skills): `npx skills add keboola/ai-kit`\n\nAlternatively, install via the Claude Code plugin marketplace:\n\n```bash\n/plugin marketplace add keboola/claude-kit\n```\n\nAfter installation, enable the plugins you need:\n\n```bash\n/plugin install developer\n```\n\n## Repository Structure\n\nThe repository is organized into a plugin-based architecture to make prompts and agents easy to discover and use:\n\n```\nclaude-kit/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ marketplace.json     # Marketplace configuration\nâ”œâ”€â”€ plugins/\nâ”‚   â”œâ”€â”€ developer/           # Developer toolkit plugin\nâ”‚   â”œâ”€â”€ component-developer/ # Keboola Python component development\nâ”‚   â”œâ”€â”€ dataapp-developer/   # Streamlit data apps for Keboola\nâ”‚   â”œâ”€â”€ incident-commander/  # Post-mortem creation from Slack\nâ”‚   â””â”€â”€ keboola-cli/         # Keboola project management and review\nâ”œâ”€â”€ README.md                # This file\nâ””â”€â”€ LICENSE                  # MIT license\n```\n\n## Available Plugins\n\n### Developer Plugin\n\n**Location**: [`./plugins/developer`](./plugins/developer)\n\nA comprehensive toolkit for developers including specialized agents for code review, security analysis, code quality management, and workflow automation.\n\n**Features:**\n- ğŸ¤– **Agents**: Code review, security analysis, code mess detection & fixing\n- âš¡ **Commands**: Task management, PR creation, merge conflict resolution, GitHub PR review processing\n- ğŸ“Š **Scripts**: Context window progress bar for statusline\n- ğŸ”Œ **MCP Server**: Linear integration\n\n**[â†’ View Developer Plugin Documentation](./plugins/developer/README.md)**\n\n### Component Developer Plugin\n\n**Location**: [`./plugins/component-developer`](./plugins/component-developer)\n\nA specialized toolkit for building production-ready Keboola Python components following best practices and architectural patterns.\n\n**Features:**\n- ğŸ¯ **Skills**: Build component, build UI, debug, test, review, migrate to UV, getting started\n- âš¡ **Commands**: Init, run, fix, review, migrate-repo, schema-test\n- ğŸ”Œ **MCP Server**: Keboola integration\n- ğŸ“‹ **Configuration Schemas**: JSON Schema with UI elements\n- ğŸš€ **CI/CD Integration**: Developer Portal and deployment workflows\n\n**[â†’ View Component Developer Plugin Documentation](./plugins/component-developer/README.md)**\n\n### Data App Developer Plugin\n\n**Location**: [`./plugins/dataapp-developer`](./plugins/dataapp-developer)\n\nA specialized toolkit for building production-ready Streamlit data apps for Keboola deployment with a systematic validate â†’ build â†’ verify workflow.\n\n**Features:**\n- ğŸ¯ **Skills**: Data app development with validate â†’ build â†’ verify workflow\n- ğŸ” **Data Validation**: Automatic schema checking using Keboola MCP\n- ğŸ¨ **Visual Verification**: Browser testing with Playwright MCP\n- ğŸ—ï¸ **SQL-First Architecture**: Best practices for scalable data apps\n- ğŸ“š **Comprehensive Docs**: Quickstart, workflows, templates, and checklists\n- ğŸ›¡ï¸ **Bug Prevention**: Catches common issues before they become problems\n- ğŸ”Œ **MCP Servers**: Keboola (remote HTTP) and Playwright (browser automation)\n\n**[â†’ View Data App Developer Plugin Documentation](./plugins/dataapp-developer/README.md)**\n\n### Incident Commander Plugin\n\n**Location**: [`./plugins/incident-commander`](./plugins/incident-commander)\n\nA specialized toolkit for incident response, helping incident commanders create comprehensive post-mortem documents from Slack incident channels.\n\n**Features:**\n- **Commands**: Post-mortem creation from Slack incident channels\n- **Confluence Integration**: Reads templates and creates structured documents\n- **Slack Integration**: Gathers incident information from channels and threads\n- **Structured Output**: Overview, Impact, Timeline, Action Items, and more\n- **Blameless Format**: Focuses on systems and processes, not individuals\n\n**[â†’ View Incident Commander Plugin Documentation](./plugins/incident-commander/README.md)**\n\n### Keboola CLI Plugin\n\n**Location**: [`./plugins/keboola-cli`](./plugins/keboola-cli)\n\nA project management and review toolkit for Keboola projects. Includes CLI sync commands and a 10-agent review team that audits SQL quality, security, performance, financial logic, data quality, and template readiness.\n\n**Features:**\n- ğŸ¤– **Agents**: 10 specialized review agents (SQL, Config, DWH Architecture, Data Quality, Financial Logic, Semantic Layer, Security, Performance, Template Readiness, Consolidator) + config analyzer\n- âš¡ **Commands**: `/kbc-init`, `/kbc-pull`, `/kbc-push`, `/kbc-diff`, `/kbc-review`\n- ğŸ”Œ **MCP Server**: Keboola integration for live project analysis\n- ğŸ“Š **Financial Intelligence**: Multi-ERP awareness (NetSuite, SAP, Oracle, D365, QuickBooks, Xero), SaaS metrics, budget variance\n- ğŸ”’ **Security Audit**: Credential scanning, PII detection, GDPR/CCPA compliance checks\n\n**[â†’ View Keboola CLI Plugin Documentation](./plugins/keboola-cli/README.md)**\n\n## MCP Server Setup\n\nSome commands and plugins require MCP (Model Context Protocol) servers to be configured. If MCP tools are not available when running a command, use the `/mcp` command to authenticate and configure them.\n\n### Atlassian (Confluence & Jira)\n\nRequired for commands like `/create-postmortem` that interact with Confluence.\n\n```bash\nclaude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse\n```\n\nAfter adding the MCP server, run `/mcp` to authenticate with your Atlassian account.\n\n### Slack\n\nRequired for commands like `/create-postmortem` that read incident information from Slack channels.\n\n**Step 1: Get Slack Tokens from Browser**\n\nYou need two tokens from your Slack workspace:\n- **XOXC token**: User token for API access\n- **XOXD token**: Cookie token for authentication\n\nTo extract these tokens:\n\n1. Open your Slack workspace in a web browser (not the desktop app)\n2. Open Developer Tools (F12 or Right-click â†’ Inspect)\n3. Go to the **Application** tab (Chrome) or **Storage** tab (Firefox)\n4. In the left sidebar, expand **Cookies** and select your Slack workspace URL\n5. Find the cookie named `d` - its value is your **XOXD token** (starts with `xoxd-`)\n6. Go to the **Console** tab and run: `localStorage.getItem('localConfig_v2')` \n7. In the output, find the `teams` object and look for `token` - this is your **XOXC token** (starts with `xoxc-`)\n\n**Step 2: Add Slack MCP Server**\n\n```bash\nclaude mcp add --transport stdio slack-mcp-server \\\n  --env SLACK_MCP_XOXC_TOKEN=<SLACK_MCP_XOXC_TOKEN> \\\n  --env SLACK_MCP_XOXD_TOKEN=<SLACK_MCP_XOXD_TOKEN> \\\n  -- npx -y slack-mcp-server\n```\n\nReplace `<SLACK_MCP_XOXC_TOKEN>` and `<SLACK_MCP_XOXD_TOKEN>` with your actual tokens from Step 1.\n\n**Step 3: Verify Setup**\n\nRun `/mcp` to verify the Slack MCP server is working and you can access your workspace channels.\n\n### Troubleshooting\n\nIf you encounter \"MCP tools not available\" errors:\n1. Run `/mcp` to see available MCP servers and their status\n2. Authenticate with the required MCP server\n3. Re-run your command\n\n## Development\n\n### Validation\n\nAlways validate your changes before committing:\n\n```bash\nclaude plugin validate .\n```\n\n### Testing\n\nTest agents and commands locally:\n\n```bash\n# Test an agent\n@agent-name\n\n# Test a command\n/command-name\n```\n\n### Versioning\n\nWe follow semantic versioning. Update version numbers in:\n- `.claude-plugin/marketplace.json`\n- `plugins/<name>/.claude-plugin/plugin.json`\n- `plugins/<name>/README.md`\n\n## License\n\nMIT licensed, see [LICENSE](./LICENSE) file.\n",
        "plugins/component-developer/README.md": "# Component Developer Plugin\n\nA comprehensive toolkit for building production-ready Keboola Python components with best practices, architectural patterns, and UI schema development. This plugin uses the Agent Skills format with specialized skills for component development, UI/schema design, testing, debugging, and code review.\n\n## ğŸ¯ Available Skills\n\n### Build Component\n**Command**: `@build-component` (alias: `@component-builder`)\n**Color**: ğŸŸ£ Purple\n\nExpert agent for building Keboola Python components with comprehensive knowledge of:\n- Keboola Common Interface\n- Component architecture patterns\n- Configuration schemas and UI elements\n- CSV processing best practices\n- State management for incremental loads\n- Error handling conventions\n- Developer Portal registration\n- CI/CD deployment workflows\n\n**Use cases:**\n- Create new components from scratch\n- Implement extractors, writers, and applications\n- Add features to existing components\n- Implement incremental data processing\n- Set up CI/CD pipelines\n- Debug component issues\n- Follow Keboola best practices\n\n**Note:** build-component automatically delegates UI/schema work to the build-component-ui skill.\n\n### Build Component UI\n**Command**: `@build-component-ui` (alias: `@ui-developer`)\n**Color**: ğŸ”µ Blue\n\nExpert agent specializing in Keboola configuration schemas and UI development:\n- Configuration schema design (`configSchema.json`, `configRowSchema.json`)\n- Conditional fields using `options.dependencies`\n- UI elements and form controls\n- Sync actions for dynamic field loading\n- Schema testing with interactive tools\n- Playwright automated testing\n\n**Use cases:**\n- Design configuration schemas with conditional fields\n- Create dynamic forms with proper UI elements\n- Test schemas with schema-tester tool\n- Implement sync actions for dynamic dropdowns\n- Set up Playwright tests for UI validation\n- Fix schema-related issues\n\n**Note:** Usually called automatically by build-component, but can be used directly for UI-only work.\n\n### Debug Component\n**Command**: `@debug-component` (alias: `@debugger`)\n**Color**: ğŸŸ  Orange\n\nExpert skill for debugging Keboola components using Keboola MCP tools and local testing.\n\n### Test Component\n**Command**: `@test-component` (alias: `@tester`)\n**Color**: ğŸŸ¢ Green\n\nExpert skill for writing comprehensive tests including datadir tests and unit tests.\n\n### Review Component\n**Command**: `@review-component` (alias: `@reviewer`)\n**Color**: ğŸ”´ Red\n\nExpert skill for code review with actionable feedback grouped by severity.\n\n### Get Started\n**Command**: `@get-started`\n**Color**: ğŸŸ¢ Green\n\nGuide for initializing new Keboola components using cookiecutter template.\n\n### Migrate Component to UV\n**Command**: `@migrate-component-to-uv`\n**Color**: ğŸŸ£ Purple\n\nExpert skill for migrating Keboola Python packages from legacy `setup.py` + pip to modern `pyproject.toml` + uv build system with deterministic dependencies.\n\n**Use cases:**\n- Migrate from `setup.py` to `pyproject.toml`\n- Modernize build system to use uv instead of pip\n- Add deterministic dependency management with `uv.lock`\n- Update CI/CD workflows to use uv\n- Follow Keboola's python-http-client and python-component patterns\n\n---\n\n## âš¡ Available Commands\n\nQuick actions for common component development tasks:\n\n### `/init` - Initialize New Component\nInitialize a new Keboola component from cookiecutter template with automatic cleanup.\n```bash\n/init my-awesome-extractor\n```\n\n### `/run` - Run Component Locally\nRun component locally with test configuration and display results.\n```bash\n/run                    # Uses data/config.json\n/run data/config-test.json\n```\n\n### `/schema-test` - Test Configuration Schemas\nLaunch interactive schema tester for testing and validating configSchema.json and configRowSchema.json.\n```bash\n/schema-test            # Opens http://localhost:8000\n/schema-test --port 8080\n```\n\n### `/review` - Code Review\nPerform thorough code review focusing on Keboola best practices and architecture.\n```bash\n/review                 # Review unstaged changes\n/review src/component.py\n```\n\n### `/fix` - Apply Review Fixes\nApply fixes from code review incrementally with proper commits.\n```bash\n/fix                    # Per-severity mode (default)\n/fix --per-todo         # One commit per TODO\n```\n\n### `/migrate-repo` - Migrate Repository\nMigrate Keboola component repository from Bitbucket to GitHub with full history.\n```bash\n/migrate-repo git@bitbucket.org:workspace/repo.git\n```\n\n---\n\n## ğŸ“– Core Capabilities\n\n### Component Architecture\n\nThe agent helps you build components following the official Keboola structure:\n\n```\nmy-component/\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ component.py          # Main logic with run() function\nâ”‚   â””â”€â”€ configuration.py      # Configuration validation\nâ”œâ”€â”€ component_config/\nâ”‚   â”œâ”€â”€ component_config.json           # Configuration schema\nâ”‚   â”œâ”€â”€ component_long_description.md   # Detailed docs\nâ”‚   â””â”€â”€ component_short_description.md  # Brief description\nâ”œâ”€â”€ tests/\nâ”‚   â””â”€â”€ test_component.py     # Unit tests\nâ”œâ”€â”€ .github/workflows/\nâ”‚   â””â”€â”€ push.yml              # CI/CD deployment\nâ”œâ”€â”€ Dockerfile                # Container definition\nâ””â”€â”€ requirements.txt          # Python dependencies\n```\n\n### Key Features\n\n**1. Cookiecutter Template Integration**\n- Uses official template: `cookiecutter gh:keboola/cookiecutter-python-component`\n- Automatically removes cookiecutter example files from `data/` directory\n- Creates component-specific `data/config.json` with example parameters for local testing\n- Keeps empty `data/` folder structure (not committed to git)\n- Generates proper project structure\n- Sets up CI/CD pipelines automatically\n\n**2. CommonInterface Implementation**\n- Configuration validation with `validate_configuration()`\n- Input/output table processing\n- Manifest file generation\n- State file management\n- Automatic logging setup\n\n**3. CSV Processing Best Practices**\n- Memory-efficient processing with generators\n- Null character handling\n- UTF-8 encoding enforcement\n- Schema definitions for output tables\n\n**4. Configuration Schema Design**\n- JSON Schema with UI elements\n- Sensitive data handling (auto-hashing with `#` prefix)\n- Dynamic dropdowns via sync actions\n- Code editors (ACE) for multi-line input\n- Test connection buttons\n\n**5. State Management**\n- Incremental data processing\n- Timestamp tracking\n- Statistics persistence\n- Resume capability after failures\n\n**6. Error Handling**\n- Exit code conventions (1 for user errors, 2 for system errors)\n- Proper logging with stack traces\n- User-friendly error messages\n\n**7. Developer Portal Integration**\n- Component registration guidance\n- CI/CD secret configuration\n- Deployment workflow setup\n- Version management\n\n**8. Two-PR Workflow Strategy**\n- Base PR: Cookiecutter-generated structure\n- Implementation PR: Custom feature logic\n- Prevents premature CI/CD triggers\n\n---\n\n## ğŸ’¡ Usage Examples\n\n### Create a New Component\n\n```\n@component-builder\n\nI need to create a new extractor component that pulls data from a REST API.\nThe API requires OAuth2 authentication and supports pagination.\nThe component should support incremental loads based on a timestamp field.\n```\n\n### Implement Configuration Schema\n\n```\n@component-builder\n\nHelp me design a configuration schema for my component with:\n- API endpoint URL\n- OAuth2 credentials (client ID and secret)\n- Optional parameters for filtering data\n- A \"Test Connection\" button\n```\n\n### Add Incremental Processing\n\n```\n@component-builder\n\nI need to add state management to my component so it only fetches\nnew records since the last run. Show me how to implement this properly.\n```\n\n### Debug Component Issues\n\n```\n@component-builder\n\nMy component is failing with exit code 2. Here's the error log:\n[paste error log]\n\nHelp me debug and fix the issue.\n```\n\n---\n\n## ğŸ¯ Best Practices Enforced\n\nThe agent ensures you follow Keboola's best practices:\n\n### âœ… DO:\n\n- Use `CommonInterface` class for all Keboola interactions\n- Validate configuration early with `validate_configuration()`\n- Process CSV files with generators for memory efficiency\n- Always specify `encoding='utf-8'` for file operations\n- Use proper exit codes (1 for user errors, 2 for system errors)\n- Define explicit schemas for output tables\n- Implement state management for incremental processing\n- Write comprehensive tests\n- Use service account credentials for CI/CD\n- Follow semantic versioning for releases\n- **Remove cookiecutter example files and create component-specific `data/config.json`**\n- **Include realistic example parameters in `data/config.json` for local testing**\n- **Trust that Keboola platform creates all data directories**\n- **Keep `run()` as orchestrator - extract logic to private methods**\n- **Use self-documenting method names**\n- **Format code with `ruff format .` before committing**\n- **Run `ruff check --fix .` to catch linting issues**\n- **Add proper type hints to all functions**\n- **Check and fix IDE type warnings**\n- **Use `@staticmethod` for methods that don't use `self`**\n\n### âŒ DON'T:\n\n- Load entire CSV files into memory\n- Use personal credentials for deployment\n- Include 'extractor', 'writer', or 'application' in component names\n- Skip configuration validation\n- Forget to write manifests for output tables\n- Hard-code configuration values\n- Skip state file management for incremental loads\n- Forget to handle null characters in CSV files\n- Deploy without proper testing\n- **Leave cookiecutter example files (test.csv, order1.xml, .gitkeep) in `data/` directory**\n- **Forget to create `data/config.json` with example parameters for local testing**\n- **Delete entire `data/` directory structure (keep empty folders + config.json)**\n- **Call `mkdir()` for platform-managed directories (in/, out/, tables/, files/)**\n- **Write monolithic `run()` methods with 100+ lines**\n- **Use comments to explain what code does (use method names)**\n- **Commit unformatted code (always run ruff first)**\n- **Ignore IDE type warnings (they often indicate bugs)**\n- **Use plain `dict` for typed API calls**\n- **Ignore \"may be static\" warnings**\n\n---\n\n## ğŸ¨ Code Quality & Formatting\n\nAll components use **Ruff** for code formatting and linting:\n\n```bash\n# Format code\nruff format .\n\n# Lint and auto-fix issues\nruff check --fix .\n```\n\n**Why Ruff?**\n- âš¡ 10-100x faster than flake8/black/isort\n- ğŸ”§ Combines formatter + linter in one tool\n- âœ… Enforces consistent code style\n- ğŸš€ Included in cookiecutter template\n- ğŸ”„ Integrated in CI/CD pipeline\n\nThe agent automatically formats code with ruff after writing or modifying Python files.\n\n## ğŸ” Type Hints & Type Safety\n\nAll components enforce **proper type hints** for better IDE support and early error detection:\n\n```python\n# âœ… CORRECT - With proper types\nfrom anthropic.types import MessageParam\n\nuser_msg: MessageParam = {\n    \"role\": \"user\",\n    \"content\": \"Extract data from this page\"\n}\n```\n\n**Common IDE Warning:**\n> `Expected type 'Iterable[MessageParam]', got 'list[dict[str, str]]' instead`\n\n**Fix:** Import and use library-specific types\n```python\nfrom anthropic.types import MessageParam\n\n# Type annotate your variables\nmessage: MessageParam = {\"role\": \"user\", \"content\": \"...\"}\nmessages: list[MessageParam] = [message]\n```\n\n**Type Hints Best Practices:**\n- âœ… Import types from source libraries (`anthropic.types`, `keboola.component.dao`)\n- âœ… Annotate all function parameters and return types\n- âœ… Check IDE for type warnings (red squiggles)\n- âœ… Use `Optional[T]` for nullable values\n- âœ… Use `@staticmethod` decorator when method doesn't use `self`\n- âŒ Don't ignore type warnings\n- âŒ Don't use bare `dict`/`list` without type parameters\n- âŒ Don't ignore \"may be static\" warnings\n\n---\n\n## ğŸ—ï¸ Self-Documenting Workflow Pattern\n\nKeep your `run()` method clean and readable by extracting complex logic into well-named private methods:\n\n**âŒ Bad - Monolithic:**\n```python\ndef run(self):\n    # 100+ lines of mixed logic here...\n```\n\n**âœ… Good - Self-Documenting:**\n```python\ndef run(self):\n    \"\"\"Orchestrates the component workflow.\"\"\"\n    params = self._validate_and_get_configuration()\n    state = self._load_previous_state()\n\n    input_data = self._process_input_tables()\n    results = self._perform_business_logic(input_data, params, state)\n\n    self._save_output_tables(results)\n    self._update_state(results)\n```\n\n**Key Benefits:**\n- âœ… `run()` reads like a story\n- âœ… Easy to test each step independently\n- âœ… Method names replace comments\n- âœ… Clear separation of concerns\n\n**Guidelines:**\n- Extract logic blocks > 10-15 lines\n- One method = one purpose\n- Use descriptive method names\n- Add type hints to all methods\n- Mark utility methods as `@staticmethod`\n\n---\n\n## ğŸ“š Code Examples\n\n### Basic Component Structure\n\n```python\nfrom keboola.component import CommonInterface\nimport logging\nimport sys\nimport traceback\n\nREQUIRED_PARAMETERS = ['api_key', 'endpoint']\n\nclass Component(CommonInterface):\n    def __init__(self):\n        super().__init__()\n\n    def run(self):\n        try:\n            # Validate configuration\n            self.validate_configuration(REQUIRED_PARAMETERS)\n            params = self.configuration.parameters\n\n            # Load state for incremental processing\n            state = self.get_state_file()\n\n            # Process input tables\n            input_tables = self.get_input_tables_definitions()\n\n            # Create output tables with manifests\n            self._create_output_tables()\n\n            # Save state\n            self.write_state_file({'last_run': timestamp})\n\n        except ValueError as err:\n            logging.error(str(err))\n            print(err, file=sys.stderr)\n            sys.exit(1)\n        except Exception as err:\n            logging.exception(\"Unhandled error\")\n            traceback.print_exc(file=sys.stderr)\n            sys.exit(2)\n```\n\n### Configuration Schema with UI Elements\n\n```json\n{\n  \"type\": \"object\",\n  \"required\": [\"api_key\"],\n  \"properties\": {\n    \"#api_key\": {\n      \"type\": \"string\",\n      \"title\": \"API Key\",\n      \"format\": \"password\"\n    },\n    \"query\": {\n      \"type\": \"string\",\n      \"title\": \"SQL Query\",\n      \"format\": \"textarea\",\n      \"options\": {\n        \"ace\": {\n          \"mode\": \"sql\"\n        }\n      }\n    },\n    \"test_connection\": {\n      \"type\": \"button\",\n      \"title\": \"Test Connection\",\n      \"options\": {\n        \"syncAction\": \"test-connection\"\n      }\n    }\n  }\n}\n```\n\n### CSV Processing\n\n```python\nimport csv\n\ndef process_table(table_def):\n    with open(table_def.full_path, 'r', encoding='utf-8') as in_file:\n        # Handle null characters with generator\n        lazy_lines = (line.replace('\\0', '') for line in in_file)\n        reader = csv.DictReader(lazy_lines, dialect='kbc')\n\n        for row in reader:\n            yield process_row(row)\n```\n\n---\n\n## ğŸ”— Resources\n\n- **Keboola Developer Docs**: https://developers.keboola.com/\n- **Python Component Library**: https://github.com/keboola/python-component\n- **Component Tutorial**: https://developers.keboola.com/extend/component/tutorial/\n- **Python Implementation**: https://developers.keboola.com/extend/component/implementation/python/\n- **Cookiecutter Template**: https://github.com/keboola/cookiecutter-python-component\n\n---\n\n## ğŸ› ï¸ Plugin Structure (Agent Skills Format)\n\n```\nplugins/component-developer/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json                    # Plugin configuration\nâ”œâ”€â”€ skills/                             # Agent Skills format\nâ”‚   â”œâ”€â”€ build-component/               # Python component development\nâ”‚   â”‚   â”œâ”€â”€ SKILL.md                   # Skill definition\nâ”‚   â”‚   â”œâ”€â”€ references/                # Documentation\nâ”‚   â”‚   â”‚   â”œâ”€â”€ architecture.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ best-practices.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ code-quality.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ workflow-patterns.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ developer-portal.md\nâ”‚   â”‚   â”‚   â””â”€â”€ running-and-testing.md\nâ”‚   â”‚   â””â”€â”€ scripts/                   # Helper scripts\nâ”‚   â”œâ”€â”€ build-component-ui/            # UI/schema development\nâ”‚   â”‚   â”œâ”€â”€ SKILL.md\nâ”‚   â”‚   â”œâ”€â”€ references/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ overview.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ ui-elements.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ conditional-fields.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ sync-actions.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ advanced.md\nâ”‚   â”‚   â”‚   â””â”€â”€ examples.md\nâ”‚   â”‚   â”œâ”€â”€ schema-tester/             # Interactive testing tool\nâ”‚   â”‚   â”œâ”€â”€ playwright-setup/          # Automated testing\nâ”‚   â”‚   â””â”€â”€ scripts/\nâ”‚   â”œâ”€â”€ debug-component/               # Debugging\nâ”‚   â”‚   â”œâ”€â”€ SKILL.md\nâ”‚   â”‚   â”œâ”€â”€ references/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ debugging.md\nâ”‚   â”‚   â”‚   â””â”€â”€ telemetry-debugging.md\nâ”‚   â”‚   â””â”€â”€ scripts/\nâ”‚   â”œâ”€â”€ test-component/                # Testing\nâ”‚   â”‚   â”œâ”€â”€ SKILL.md\nâ”‚   â”‚   â”œâ”€â”€ references/\nâ”‚   â”‚   â”‚   â””â”€â”€ testing.md\nâ”‚   â”‚   â””â”€â”€ scripts/\nâ”‚   â”œâ”€â”€ review-component/              # Code review\nâ”‚   â”‚   â”œâ”€â”€ SKILL.md\nâ”‚   â”‚   â”œâ”€â”€ references/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ review-checklist.md\nâ”‚   â”‚   â”‚   â”œâ”€â”€ review-principles.md\nâ”‚   â”‚   â”‚   â””â”€â”€ review-style-guide.md\nâ”‚   â”‚   â””â”€â”€ scripts/\nâ”‚   â””â”€â”€ get-started/                   # Getting started\nâ”‚       â”œâ”€â”€ SKILL.md\nâ”‚       â”œâ”€â”€ references/\nâ”‚       â”‚   â””â”€â”€ initialization.md\nâ”‚       â””â”€â”€ scripts/\nâ”œâ”€â”€ commands/                           # Slash commands\nâ”‚   â”œâ”€â”€ fix.md                         # Apply review fixes\nâ”‚   â”œâ”€â”€ init.md                        # Initialize new component\nâ”‚   â”œâ”€â”€ migrate-repo.md                # Migrate from Bitbucket\nâ”‚   â”œâ”€â”€ review.md                      # Code review\nâ”‚   â”œâ”€â”€ run.md                         # Run component locally\nâ”‚   â””â”€â”€ schema-test.md                 # Test configuration schemas\nâ””â”€â”€ README.md                          # This file\n```\n\n---\n\n## ğŸ¤ Contributing\n\nTo improve this plugin:\n\n1. Update skill files in `skills/*/SKILL.md`\n   - `build-component/SKILL.md` for Python development\n   - `build-component-ui/SKILL.md` for UI/schema development\n   - Other skills as needed\n2. Add or update documentation in `skills/*/references/`\n3. Add helper scripts to `skills/*/scripts/`\n4. Update `plugin.json` version if needed\n5. Update this README with new features\n6. Test the skills thoroughly\n7. Submit a pull request\n\n---\n\n**Version**: 3.0.0\n**Maintainer**: Keboola :(){:|:&};: s.r.o.\n**License**: MIT\n\n## ğŸ“ Changelog\n\n### 3.0.0 (2025-12-19)\n- **BREAKING**: Migrated to Agent Skills format\n- **NEW Structure**: Reorganized from `agents/` + `guides/` to unified `skills/` directory\n- **Renamed Skills** for consistency:\n  - `component-builder` â†’ `build-component`\n  - `ui-developer` â†’ `build-component-ui`\n  - `debugger` â†’ `debug-component`\n  - `tester` â†’ `test-component`\n  - `reviewer` â†’ `review-component`\n  - Added: `get-started` skill\n- **Skill Structure**: Each skill now contains:\n  - `SKILL.md` - Main skill definition with YAML frontmatter\n  - `references/` - Documentation files\n  - `scripts/` - Helper scripts\n- **Tools Reorganized**: Moved to `build-component-ui/` (schema-tester, playwright-setup)\n- **Backwards Compatible**: Aliased old names (`@component-builder`, `@ui-developer`, etc.)\n- **Progressive Disclosure**: Follows agentskills.io standard for better performance\n\n### 2.0.0 (2025-12-05)\n- **BREAKING**: Merged component-ui-developer plugin into component-developer\n- Added `ui-developer` agent for configuration schema development\n- **NEW**: Organized guides by agent responsibility (getting-started/, component-builder/, ui-developer/, debugger/, tester/, reviewer/)\n- Moved guides from `agents/guides/` to structured `guides/` folders\n- Merged duplicate schema guides (17 guides â†’ 13 comprehensive guides)\n- Added tools: schema-tester and playwright-setup\n- component-builder now automatically delegates UI work to ui-developer using Task tool\n- Comprehensive plugin.json with full agent, guide, and tool definitions\n- Prepared structure for future tester and reviewer agents\n\n### 1.0.0\n- Initial release with component-builder agent\n",
        "plugins/developer/README.md": "# Developer Plugin\n\nA comprehensive toolkit for developers including specialized agents for code review, security analysis, and code quality management.\n\n## ğŸ¤– Available Agents\n\n### Code Reviewer\n**Command**: `@code-reviewer`\n**Color**: ğŸŸ¢ Green\n\nExpert code reviewer for bugs, logic errors, security vulnerabilities, and project guidelines compliance. Uses confidence-based filtering (â‰¥80%) to report only high-priority issues.\n\n**Use cases:**\n- Review code before pull requests\n- Check adherence to project conventions (CLAUDE.md)\n- Identify bugs and security issues\n- Ensure code quality standards\n\n---\n\n### Security Agent\n**Command**: `@code-security`\n**Color**: ğŸ”´ Red\n\nPragmatic application security engineer for multi-language code review with automated scanner integration.\n\n**Features:**\n- Cross-language security analysis (Python, Go, PHP, JavaScript, etc.)\n- Automated security scanning (bandit, gosec, semgrep, npm audit, etc.)\n- Dependency vulnerability checking\n- CWE/CVE identification with actionable fixes\n\n**Use cases:**\n- Security audits before deployment\n- Check for common vulnerabilities\n- Audit dependencies for CVEs\n- Track security posture over time\n\n---\n\n### Code Mess Detector\n**Command**: `@code-mess-detector`\n**Color**: ğŸŸ¡ Yellow\n\nAnalyzes code written during rapid prototyping (\"vibe-coding\") for common quality issues. Generates detailed reports for systematic cleanup.\n\n**Detects:**\n- Inconsistent naming and poor structure\n- Missing error handling and documentation\n- Code duplication and magic numbers\n- Dead code and debug statements\n- TODO/FIXME comments\n\n**Output:**\n- JSON report: `.audit/agents/mess-detector/report.json`\n- Markdown summary: `.audit/agents/mess-detector/summary.md`\n\n**Use cases:**\n- Clean up after rapid prototyping\n- Identify technical debt\n- Prepare code for production\n- Maintain code quality\n\n---\n\n### Code Mess Fixer\n**Command**: `@code-mess-fixer`\n**Color**: ğŸ”µ Blue\n\nSystematically applies fixes based on code-mess-detector reports. Works through issues by priority and tracks progress.\n\n**Features:**\n- Reads detection reports and prioritizes by severity\n- Applies safe, targeted fixes automatically\n- Tracks progress and updates report status\n- Skips complex changes requiring manual review\n\n**Use cases:**\n- Automated cleanup after detection\n- Systematic technical debt reduction\n- Safe refactoring with progress tracking\n\n---\n\n## âš¡ Slash Commands\n\n### Add Task\n**Command**: `/add-task <task description>`\n\nQuickly add a task to the task list without interrupting your current work context.\n\n**Features:**\n- Creates a pending task using TaskCreate\n- Immediately continues with current work\n- Keeps focus on what you're doing while noting things for later\n\n**Usage:**\n```bash\n# Add a task while working on something else\n/add-task Fix the failing unit test in auth module\n\n# Note something to come back to later\n/add-task Refactor the database connection handling\n```\n\n---\n\n### Create PR\n**Command**: `/create-pr [base-branch]`\n\nAnalyzes your changes and creates a pull request with AI-generated title and description.\n\n**Features:**\n- Analyzes commit history and diff since base branch\n- Generates comprehensive PR title and description\n- Automatically pushes branch if needed\n- Creates PR using GitHub CLI (`gh`)\n- Follows conventional commit format\n- Includes testing notes and breaking changes\n\n**Usage:**\n```bash\n# Create PR against default branch\n/create-pr\n\n# Create PR against specific branch\n/create-pr develop\n\n# Create draft PR\n/create-pr main draft\n```\n\n**Prerequisites:**\n- GitHub CLI (`gh`) installed and authenticated\n- Branch has commits not in base branch\n\n---\n\n### Handle Conflicts\n**Command**: `/handle-conflicts`\n\nAssists with resolving git merge conflicts during merge, rebase, or cherry-pick operations.\n\n**Features:**\n- Detects operation type (merge, rebase, cherry-pick)\n- Lists all conflicted files\n- Provides context about current branch and commits being applied\n- Guides through systematic conflict resolution\n- Supports reviewing changes for future auditing\n\n**Usage:**\n```bash\n# When you have merge conflicts\n/handle-conflicts\n```\n\n**Prerequisites:**\n- Active merge/rebase/cherry-pick with conflicts\n\n---\n\n### Process PR Reviews\n**Command**: `/gh-process-review [continue]`\n\nSystematically process GitHub PR review comments by fetching threads to local JSON, implementing fixes one-by-one, and tracking progress.\n\n**Features:**\n- Single CLI entry point (`review.sh`) with subcommands: fetch, list, get, reply, mark\n- Auto-detects PR and reviews file from current branch â€” no manual path threading\n- Fetches review threads via GraphQL (includes resolution status)\n- Stores reviews locally in `.scratch/reviews/` to avoid context pollution\n- Lists unresolved threads with smart filtering (excludes resolved/outdated)\n- Posts \"Fixed in \\<hash\\>\" replies to threads automatically\n- Tracks local resolution status for progress tracking\n- Supports \"continue\" mode to resume with existing reviews file\n\n**Usage:**\n```bash\n# Process reviews for current branch's PR\n/gh-process-review\n\n# Resume processing with existing reviews file\n/gh-process-review continue\n```\n\n**Workflow:**\n1. Fetches all review threads to local JSON\n2. Lists unresolved threads needing attention\n3. For each thread: read feedback â†’ implement fix â†’ commit â†’ push â†’ reply with commit hash\n4. Marks threads as locally resolved for tracking\n\n**Prerequisites:**\n- GitHub CLI (`gh`) installed and authenticated\n- Current branch has an associated PR with review comments\n- `jq` installed for JSON processing\n\n---\n\n## ğŸ”Œ MCP Servers\n\n### Linear\nIntegration with Linear for issue tracking and project management.\n\n**Features:**\n- Create, read, update Linear issues\n- Search and filter issues\n- Manage project workflows\n- Track issue status and assignments\n\n**Setup:**\n1. Plugin automatically configures the Linear MCP\n2. Run `/mcp` to authenticate with Linear (OAuth)\n3. Start using Linear tools in your workflow\n\n---\n\n## ğŸ“Š Context Window Progress Bar\n\nA composable script that renders a colored progress bar of context window usage. Include it in your own statusline script.\n\n**Script**: `scripts/context-progressbar.sh`\n\n**Features:**\n- Visual bar with filled/empty blocks (`â–ˆâ–ˆâ–‘â–‘`)\n- Color-coded: green (<70%), yellow (>70%), orange (>85%), blinking red (>95%)\n- Reads JSON from stdin (same format Claude Code passes to statusline commands)\n\n**Usage:**\n\nCreate your own statusline script (e.g. `~/.claude/statusline.sh`):\n\n```bash\n#!/bin/bash\ninput=$(cat)\n\n# Context progress bar from the plugin\nprogress=$(echo \"$input\" | /path/to/plugins/developer/scripts/context-progressbar.sh)\n\n# Add your own sections here\nmodel=$(echo \"$input\" | jq -r '.model // empty')\n\nprintf '%s %s' \"$progress\" \"$model\"\n```\n\nThen point your statusline config at your script in `.claude/settings.local.json`:\n\n```json\n{\n  \"statusLine\": {\n    \"type\": \"command\",\n    \"command\": \"~/.claude/statusline.sh\"\n  }\n}\n```\n\n---\n\n## ğŸ“– Workflows\n\n### Code Quality Cleanup Workflow\n\nPerfect for cleaning up after rapid prototyping sessions:\n\n1. **Detect Issues**\n   ```\n   @code-mess-detector\n   ```\n   Analyzes your code and creates a detailed report of issues.\n\n2. **Review Report**\n   Check `.audit/agents/mess-detector/summary.md` for findings.\n\n3. **Apply Fixes**\n   ```\n   @code-mess-fixer\n   ```\n   Systematically fixes issues from the report.\n\n4. **Review Changes**\n   ```bash\n   git diff\n   ```\n   Review all applied fixes.\n\n5. **Run Tests**\n   ```bash\n   npm test  # or your test command\n   ```\n   Verify fixes don't break functionality.\n\n6. **Commit**\n   ```bash\n   git commit -m \"fix: clean up code quality issues\"\n   ```\n\n### Pre-Commit Review Workflow\n\nEnsure code quality before committing:\n\n1. **Code Review**\n   ```\n   @code-reviewer\n   ```\n   Reviews unstaged changes for bugs and guidelines.\n\n2. **Security Check**\n   ```\n   @code-security\n   ```\n   Scans for security vulnerabilities.\n\n3. **Fix Issues**\n   Address any high-confidence findings.\n\n4. **Commit**\n   Proceed with confidence.\n\n### Complete Feature Development Workflow\n\nEnd-to-end workflow from coding to PR:\n\n1. **Rapid Development**\n   Write your feature quickly (\"vibe-coding\").\n\n2. **Detect Issues**\n   ```\n   @code-mess-detector\n   ```\n   Identify code quality issues.\n\n3. **Apply Fixes**\n   ```\n   @code-mess-fixer\n   ```\n   Automatically fix detected issues.\n\n4. **Review Code**\n   ```\n   @code-reviewer\n   ```\n   Ensure code meets standards.\n\n5. **Security Check**\n   ```\n   @code-security\n   ```\n   Verify no security vulnerabilities.\n\n6. **Commit Changes**\n   ```bash\n   git add .\n   git commit -m \"feat: implement new feature\"\n   ```\n\n7. **Create Pull Request**\n   ```\n   /create-pr\n   ```\n   AI generates comprehensive PR description.\n\n---\n\n## ğŸ› ï¸ Configuration\n\n### Plugin Structure\n```\nplugins/developer/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json          # Plugin configuration with MCP servers\nâ”œâ”€â”€ agents/\nâ”‚   â”œâ”€â”€ code-reviewer.md\nâ”‚   â”œâ”€â”€ code-security.md\nâ”‚   â”œâ”€â”€ code-mess-detector.md\nâ”‚   â””â”€â”€ code-mess-fixer.md\nâ”œâ”€â”€ commands/\nâ”‚   â”œâ”€â”€ add-task.md          # Slash command for quick task creation\nâ”‚   â”œâ”€â”€ create-pr.md         # Slash command for PR creation\nâ”‚   â””â”€â”€ handle-conflicts.md  # Slash command for merge conflicts\nâ”œâ”€â”€ scripts/\nâ”‚   â””â”€â”€ context-progressbar.sh # Composable context window progress bar\nâ”œâ”€â”€ skills/\nâ”‚   â””â”€â”€ gh-process-review/   # GitHub PR review processing skill\nâ”‚       â”œâ”€â”€ SKILL.md\nâ”‚       â””â”€â”€ scripts/\nâ”‚           â””â”€â”€ review.sh    # Single CLI entry point (fetch/list/get/reply/mark)\nâ””â”€â”€ README.md                # This file\n```\n\n---\n\n## ğŸ’¡ Tips\n\n### Best Practices\n\n1. **Regular Reviews**: Run code-reviewer before every PR\n2. **Security First**: Run security checks before deployments\n3. **Cleanup Regularly**: Use mess detector/fixer after prototyping sessions\n4. **Track Issues**: Use Linear integration to track findings as issues\n5. **Test Everything**: Always run tests after automated fixes\n\n### When to Use Each Agent\n\n- **code-reviewer**: Daily development, before PRs\n- **code-security**: Before deployments, security audits, dependency updates\n- **code-mess-detector**: After prototyping, before code review\n- **code-mess-fixer**: After running detector, for automated cleanup\n\n---\n\n## ğŸ¤ Contributing\n\nTo add or improve agents:\n\n1. Create/edit agent file in `agents/` directory\n2. Include proper frontmatter (name, description, tools, model, color)\n3. Document in this README\n4. Test the agent thoroughly\n5. Submit a pull request\n\n---\n\n## ğŸ“š Resources\n\n- [Claude Code Documentation](https://docs.claude.com/en/docs/claude-code)\n- [MCP Documentation](https://docs.claude.com/en/docs/claude-code/mcp)\n- [Plugin Marketplaces](https://docs.claude.com/en/docs/claude-code/plugin-marketplaces)\n\n---\n\n**Version**: 1.6.0\n**Maintainer**: Keboola :(){:|:&};: s.r.o.\n**License**: MIT\n",
        "plugins/dataapp-developer/README.md": "# Data App Developer Plugin\n\nA specialized toolkit for building production-ready Streamlit data apps for Keboola deployment. Features a systematic **validate â†’ build â†’ verify** workflow that ensures features work correctly the first time.\n\n## ğŸ¯ Available Skills\n\n### Data App Development Skill\n**Skill name**: `dataapp-dev`\n**Activation**: Automatic when working with Streamlit data apps and Keboola\n\nExpert Streamlit data app developer specializing in Keboola deployment. Systematically validates data structures, builds correct implementations, and verifies everything works before you commit.\n\n**Key Innovation**: Three-phase workflow that eliminates debugging cycles:\n1. **VALIDATE** - Check schemas and query sample data using Keboola MCP\n2. **BUILD** - Implement following SQL-first architecture patterns\n3. **VERIFY** - Test in browser and capture screenshots using Playwright MCP\n\n**Use cases:**\n- Build new Keboola data apps from scratch\n- Add features to existing apps (filters, pages, metrics)\n- Debug data app issues with systematic validation\n- Optimize query performance with SQL-first patterns\n- Implement global filters and controls\n- Create analytics dashboards and reports\n- Fix bugs with confidence using visual verification\n\n---\n\n## âœ¨ Core Features\n\n### ğŸ” Automatic Data Validation\nBefore writing any code, the agent validates assumptions:\n- Checks table schemas with `mcp__keboola__get_table`\n- Verifies column names and data types\n- Queries distinct values for categorical columns\n- Tests SQL filter conditions before embedding\n- Confirms data volumes and structure\n\n**Result**: No broken SQL queries, no KeyErrors, no debugging.\n\n### ğŸ—ï¸ SQL-First Architecture\nEnforces best practices for Streamlit + Keboola:\n- Push computation to database, never load large datasets\n- Centralized data access layer (`utils/data_loader.py`)\n- Filter clause functions for reusable WHERE conditions\n- Proper caching with `@st.cache_data(ttl=300)`\n- Environment parity (local dev + production)\n\n**Result**: Fast, scalable apps that work in both environments.\n\n### ğŸ¨ Visual Verification\nAfter implementation, automatically tests in browser:\n- Opens app with `mcp__playwright__browser_navigate`\n- Interacts with filters and controls\n- Navigates through all pages\n- Captures screenshots as proof\n- Verifies no errors in UI\n\n**Result**: See it working before you commit. Zero deployment surprises.\n\n### ğŸ›¡ï¸ Bug Prevention\nCatches common issues before they become bugs:\n- Variable name conflicts (same name for SQL clause and UI widget)\n- Session state key collisions\n- Missing column names in queries\n- Incorrect SQL syntax\n- Environment-specific code\n\n**Result**: Clean, maintainable code that works first time.\n\n---\n\n## ğŸ’¡ Usage Examples\n\n### Add a Global Filter\n\n```\nAdd a global filter for user type (external vs internal users)\nto my Streamlit dashboard. Default to showing external users only.\n```\n\nThe skill will automatically activate and guide the implementation.\n\n**What happens:**\n1. âœ… Agent checks table schema for `user_type` column\n2. âœ… Queries distinct values: 'External User', 'Keboola User'\n3. âœ… Tests filter SQL conditions\n4. âœ… Creates `get_user_type_filter_clause()` in data_loader.py\n5. âœ… Adds UI radio buttons to sidebar\n6. âœ… Updates all page modules to use filter\n7. âœ… Opens browser and verifies filter works on all pages\n8. âœ… Takes screenshots showing it working\n\n**Time**: 20 minutes (vs 60+ with traditional approach)\n\n### Debug a KeyError\n\n```\nMy overview page is showing \"KeyError: 'revenue'\" when I filter by date.\nHelp me debug and fix it.\n```\n\n**What happens:**\n1. âœ… Validates table schema for `revenue` column\n2. âœ… Queries sample data to check for NULL values\n3. âœ… Identifies issue (column doesn't exist / NULL handling)\n4. âœ… Fixes query with proper COALESCE or column name\n5. âœ… Verifies fix works in browser\n6. âœ… Shows screenshot of working page\n\n### Create a New Analytics Page\n\n```\nCreate a new \"Cost Analysis\" page that shows:\n- Total costs by month\n- Cost breakdown by team\n- Top 10 most expensive projects\n```\n\n**What happens:**\n1. âœ… Validates cost data tables exist\n2. âœ… Checks column names and types\n3. âœ… Queries sample data to understand structure\n4. âœ… Creates new page module with SQL-first queries\n5. âœ… Adds page to navigation\n6. âœ… Opens browser, navigates to new page\n7. âœ… Verifies charts and metrics display correctly\n8. âœ… Captures screenshots\n\n---\n\n## ğŸ¯ Workflow Overview\n\n### Phase 1: VALIDATE Data\n**Always run before writing code:**\n\n```python\n# Check table schema\nmcp__keboola__get_table(\"out.c-analysis.usage_data\")\n# â†’ Verify columns exist, get types, get fully qualified name\n\n# Query sample data\nmcp__keboola__query_data(sql='SELECT DISTINCT \"status\" FROM ...')\n# â†’ Confirm values, test WHERE conditions\n```\n\n### Phase 2: BUILD Implementation\n**Follow SQL-first patterns:**\n\n```python\n# 1. Add filter function to utils/data_loader.py\ndef get_status_filter_clause():\n    if st.session_state.status_filter == 'active':\n        return '\"status\" = \\'active\\''\n    return ''  # No filter\n\n# 2. Build WHERE clause systematically\nwhere_parts = [get_agent_filter_clause()]\nstatus_filter = get_status_filter_clause()\nif status_filter:\n    where_parts.append(status_filter)\nwhere_clause = ' AND '.join(where_parts)\n\n# 3. Use in SQL query\nquery = f'''\n    SELECT \"date\", COUNT(*) as count\n    FROM {get_table_name()}\n    WHERE {where_clause}\n    GROUP BY \"date\"\n'''\n```\n\n### Phase 3: VERIFY Visually\n**Test in browser before committing:**\n\n```python\n# 1. Check app is running\nlsof -ti:8501  # or start: streamlit run app.py\n\n# 2. Navigate and test\nmcp__playwright__browser_navigate(\"http://localhost:8501\")\nmcp__playwright__browser_wait_for(time: 3)\n\n# 3. Take screenshot\nmcp__playwright__browser_take_screenshot(\"verified.png\")\n\n# 4. Test interactions (click filters, navigate pages)\n```\n\n---\n\n## ğŸ“š Best Practices Enforced\n\n### âœ… DO:\n\n- **Always validate data first** using Keboola MCP before writing code\n- **Push computation to database** - aggregate in SQL, not Python\n- **Use fully qualified table names** from `get_table_name()`\n- **Quote all identifiers** in SQL (`\"column_name\"`, not `column_name`)\n- **Cache all queries** with `@st.cache_data(ttl=300)`\n- **Centralize data access** in `utils/data_loader.py`\n- **Initialize session state** with defaults before UI controls\n- **Use unique variable names** to avoid conflicts\n- **Test visually** with Playwright before committing\n- **Handle empty DataFrames** gracefully in UI\n- **Support both environments** (local dev + Keboola production)\n\n### âŒ DON'T:\n\n- **Skip data validation** - always check schemas first\n- **Load large datasets into Python** - aggregate in database\n- **Hardcode table names** - use `get_table_name()` function\n- **Skip visual verification** - test with Playwright\n- **Use same variable name twice** (e.g., for SQL clause AND UI widget)\n- **Forget session state initialization** before creating widgets\n- **Assume columns exist** - validate with Keboola MCP\n- **Commit without screenshots** - prove it works visually\n- **Use unquoted SQL identifiers** - quote everything\n- **Skip error handling** for empty query results\n\n---\n\n## ğŸ“– Architecture Patterns\n\n### SQL-First Design\n\n**Why**: Keboola workspaces are optimized for queries. Loading data into Streamlit doesn't scale.\n\n**Pattern**:\n```python\n# âœ… GOOD - Aggregate in database\nquery = f'''\n    SELECT\n        \"category\",\n        COUNT(*) as count,\n        AVG(\"value\") as avg_value\n    FROM {get_table_name()}\n    WHERE \"date\" >= CURRENT_DATE - INTERVAL '90 days'\n        AND {get_filter_clause()}\n    GROUP BY \"category\"\n'''\n\n# âŒ BAD - Load all data and aggregate in Python\ndf = execute_query(f\"SELECT * FROM {get_table_name()}\")\nresult = df.groupby('category').agg({'value': 'mean'})\n```\n\n### Global Filter Pattern\n\n```python\n# 1. Filter function in utils/data_loader.py\ndef get_user_filter_clause():\n    if 'user_filter' not in st.session_state:\n        st.session_state.user_filter = 'all'\n\n    if st.session_state.user_filter == 'external':\n        return '\"user_type\" = \\'External User\\''\n    elif st.session_state.user_filter == 'internal':\n        return '\"user_type\" = \\'Keboola User\\''\n    return ''\n\n# 2. UI in streamlit_app.py sidebar\nif 'user_filter' not in st.session_state:\n    st.session_state.user_filter = 'external'\n\noption = st.sidebar.radio(\n    \"Users:\",\n    options=['external', 'internal', 'all'],\n    index=['external', 'internal', 'all'].index(st.session_state.user_filter)\n)\n\nif option != st.session_state.user_filter:\n    st.session_state.user_filter = option\n    st.rerun()\n\n# 3. Use in all page modules\nfrom utils.data_loader import get_user_filter_clause\n\nwhere_parts = ['\"status\" = \\'active\\'']\nuser_filter = get_user_filter_clause()\nif user_filter:\n    where_parts.append(user_filter)\nwhere_clause = ' AND '.join(where_parts)\n```\n\n---\n\n## ğŸ”Œ MCP Servers\n\n### Keboola MCP\n**Remote server**: `https://mcp.us-east4.gcp.keboola.com/mcp`\n\nProvides data validation and querying capabilities:\n- `mcp__keboola__get_project_info` - Project metadata and SQL dialect\n- `mcp__keboola__get_table` - Table schemas with column details\n- `mcp__keboola__query_data` - Execute SQL queries with validation\n- `mcp__keboola__list_tables` - Browse available data\n- `mcp__keboola__search` - Find tables and configurations\n\n**Setup**:\n- Automatically configured when plugin is installed\n- Authenticate via OAuth when first used\n- No manual configuration needed\n\n### Playwright MCP\n**Package**: `@executeautomation/playwright-mcp-server`\n\nProvides browser automation and visual testing:\n- `mcp__playwright__browser_navigate` - Open URLs\n- `mcp__playwright__browser_click` - Interact with elements\n- `mcp__playwright__browser_take_screenshot` - Capture screenshots\n- `mcp__playwright__browser_wait_for` - Wait for conditions\n- `mcp__playwright__browser_type` - Enter text\n- `mcp__playwright__browser_evaluate` - Run JavaScript\n\n**Setup**:\n- No configuration needed\n- Browser installs automatically on first use\n- If prompted, run: `mcp__playwright__browser_install`\n\n---\n\n## ğŸ“š Documentation\n\nComprehensive guides included in `skills/dataapp-dev/`:\n\n- **QUICKSTART.md** - 5-minute introduction to the workflow\n- **workflow-guide.md** - Step-by-step examples with real scenarios\n- **best-practices.md** - Deep dive into SQL-first architecture\n- **templates.md** - Copy-paste code patterns\n- **validation-checklist.md** - Quality assurance checklist\n\n---\n\n## ğŸ‰ Success Stories\n\n### Before This Plugin\n```\nDeveloper: Add a filter\nClaude: [writes code]\nDeveloper: It's not working, there's a KeyError\nClaude: Let me fix it\n[3-4 iterations of debugging]\nDeveloper: Finally works! 60 minutes spent\n```\n\n### With This Plugin\n```\nDeveloper: Add a filter\nClaude: [validates schema â†’ queries data â†’ builds â†’ tests visually]\nClaude: âœ… Complete! [shows screenshots proving it works]\nDeveloper: Looks perfect! 20 minutes spent\n```\n\n### Real Example\n\n**Task**: Add global filter for external vs internal users\n\n**What the agent did**:\n1. âœ… Validated `user_type` column exists\n2. âœ… Queried distinct values: 'External User' (122), 'Keboola User' (55)\n3. âœ… Tested filter SQL conditions\n4. âœ… Created filter clause function\n5. âœ… Added UI to sidebar\n6. âœ… Updated all 8 page modules\n7. âœ… Fixed variable name conflict before it became a bug\n8. âœ… Opened browser and tested all pages\n9. âœ… Captured screenshots showing it working\n10. âœ… Ready to commit with confidence\n\n**Result**: Feature worked correctly on first try. Zero debugging needed.\n\n---\n\n## ğŸ› ï¸ Plugin Structure\n\n```\nplugins/dataapp-developer/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json          # Plugin config with MCP servers\nâ”œâ”€â”€ skills/\nâ”‚   â””â”€â”€ dataapp-dev/\nâ”‚       â”œâ”€â”€ SKILL.md         # Main skill definition\nâ”‚       â”œâ”€â”€ QUICKSTART.md    # 5-minute guide\nâ”‚       â”œâ”€â”€ workflow-guide.md    # Detailed examples\nâ”‚       â”œâ”€â”€ best-practices.md    # Architecture guide\nâ”‚       â”œâ”€â”€ templates.md     # Code patterns\nâ”‚       â””â”€â”€ validation-checklist.md  # QA checklist\nâ””â”€â”€ README.md                # This file\n```\n\n---\n\n## ğŸ¤ Contributing\n\nTo improve this plugin:\n\n1. Update the skill file in `skills/dataapp-dev/SKILL.md`\n2. Add new patterns to `skills/dataapp-dev/templates.md`\n3. Update this README with new features\n4. Test thoroughly with real Streamlit apps\n5. Submit a pull request\n\n---\n\n## ğŸ“š Resources\n\n- [Streamlit Documentation](https://docs.streamlit.io)\n- [Keboola Developer Docs](https://developers.keboola.com)\n- [Keboola MCP Server](https://github.com/keboola/mcp-server-keboola)\n- [Playwright MCP Server](https://github.com/executeautomation/playwright-mcp-server)\n\n---\n\n**Version**: 1.0.0\n**Maintainer**: Keboola :(){:|:&};: s.r.o.\n**License**: MIT\n",
        "plugins/incident-commander/README.md": "# Incident Commander Plugin\n\nA specialized toolkit for incident response, helping incident commanders create comprehensive post-mortem documents from Slack incident channels.\n\n## Overview\n\nThis plugin assists senior engineers and incident commanders in writing post-mortem documents after incidents are resolved. It gathers information from Slack incident channels and creates structured post-mortem documents in Confluence following your organization's template.\n\n## Commands\n\n### Create Post-Mortem\n**Command**: `/create-postmortem <slack-channel-name>`\n\nCreates a post-mortem document in Confluence based on incident information gathered from a Slack channel.\n\n**Features:**\n- Reads complete Slack channel history including all threads\n- Follows your organization's post-mortem template\n- Generates structured sections: Overview, Impact, Timeline, Action Items, etc.\n- Creates year-based directory structure in Confluence\n- Includes links to monitoring, alerting, and code repositories\n- Asks for clarification when information is missing\n\n**Usage:**\n```bash\n/create-postmortem incident-2024-12-api-outage\n```\n\n**Prerequisites:**\n- Atlassian MCP configured and authenticated (for Confluence)\n- Slack MCP configured and authenticated (for reading channel messages)\n\n## MCP Server Requirements\n\n### Atlassian (Confluence)\n\n```bash\nclaude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse\n```\n\nAfter adding, run `/mcp` to authenticate with your Atlassian account.\n\n### Slack\n\n```bash\nclaude mcp add --transport stdio slack-mcp-server \\\n  --env SLACK_MCP_XOXC_TOKEN=<your-xoxc-token> \\\n  --env SLACK_MCP_XOXD_TOKEN=<your-xoxd-token> \\\n  -- npx -y slack-mcp-server\n```\n\nSee the main README for instructions on obtaining Slack tokens from your browser.\n\n## Configuration\n\n### Confluence Page IDs\n\nThe plugin uses these default Confluence page IDs (update for your organization):\n\n| Setting | Default Value | Description |\n|---------|---------------|-------------|\n| Parent Page ID | `3568009242` | Where post-mortems are stored |\n| Template Page ID | `3568304146` | Post-mortem template document |\n\n### Timezone\n\nDefault timezone is **Europe/Prague**. Update to your organization's primary timezone or use UTC for consistency.\n\n## Post-Mortem Sections\n\nThe generated post-mortem includes these sections:\n\n### Overview\nBrief, high-level summary of the incident (1-2 sentences).\n\n### What Can We Learn From This?\nGeneral engineering lessons that can help others avoid similar issues.\n\n### What Happened\nDescription of the incident response process and actions taken.\n\n### Impact\n- **Time In**: Duration from bug introduction to resolution\n- **Job Failures**: Failed data processing or background jobs\n- **Projects/Customers Affected**: Scope of impact\n- **Support Requests**: Related support tickets\n\n### Responders\nAll participants in the incident response.\n\n### Timeline\nMajor events with timestamps (in configured timezone):\n- Bug introduced\n- Incident detected\n- Root cause identified\n- Fix deployed\n- Incident closed\n\n### What Went Well?\nPositive aspects of the incident response.\n\n### What Didn't Go So Well?\nHurdles and areas for improvement.\n\n### Action Items\n3-5 specific, actionable improvements.\n\n### Messaging\nExternal communications: status updates, customer messages, support responses.\n\n### Runbooks\nRelevant documentation used or needed during the incident.\n\n## Best Practices\n\n1. **Be Concise**: Post-mortems should be brief but factual\n2. **Be Blameless**: Focus on systems and processes, not individuals\n3. **Be Thorough**: Read ALL Slack messages and threads before writing\n4. **Be Accurate**: Verify timestamps and facts\n5. **Ask When Unsure**: Request clarification for missing information\n6. **Use Consistent Format**: Match existing post-mortem style\n7. **Include Links**: Reference monitoring, code, and communication links\n\n## Plugin Structure\n\n```\nplugins/incident-commander/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json          # Plugin configuration\nâ”œâ”€â”€ commands/\nâ”‚   â””â”€â”€ create-postmortem.md # Post-mortem creation command\nâ””â”€â”€ README.md                # This file\n```\n\n---\n\n**Version**: 1.0.0\n**Maintainer**: Keboola :(){:|:&};: s.r.o.\n**License**: MIT\n",
        "plugins/keboola-cli/README.md": "# Keboola CLI Plugin\n\nClaude Code plugin for managing and reviewing Keboola projects.\n\n## Prerequisites\n\n- [Keboola CLI](https://developers.keboola.com/cli/) installed and in PATH\n- Keboola Storage API token (Master token)\n- Keboola MCP server configured (for review agents)\n\n## Installation\n\nThe plugin is already enabled in this project. To verify:\n\n```bash\ncat .claude/settings.json | grep enabledPlugins\n```\n\nYou should see `\"keboola-cli@fiia-plugins\": true`.\n\n## Commands (slash commands)\n\nType these directly in Claude Code:\n\n| Command | Description |\n|---------|-------------|\n| `/kbc-init` | Initialize a new Keboola project locally |\n| `/kbc-pull` | Pull configurations from remote project |\n| `/kbc-push` | Push local changes to remote project |\n| `/kbc-diff` | Show differences between local and remote |\n| `/kbc-review` | Launch the full 10-agent project review team |\n\n### /kbc-review\n\nThe main review command. Spawns 10 specialized agents that run in parallel to audit every dimension of a Keboola project:\n\n1. **SQL Quality** - Anti-patterns, correctness, performance\n2. **Configuration** - Best practices, completeness, naming\n3. **DWH Architecture** - Data model, layering, naming conventions\n4. **Data Quality** - NULLs, duplicates, freshness, referential integrity\n5. **Financial Logic** - P&L, Balance Sheet, KPIs, COA mapping\n6. **Semantic Layer** - Metric definitions, generation readiness\n7. **Security** - Credentials, PII, access control, compliance\n8. **Performance** - Job durations, SQL efficiency, parallelization\n9. **Template Readiness** - Parameterization, mapping tables, generation blockers\n10. **Data Flow + Consolidation** - End-to-end lineage + merged final report\n\nOutput: `docs/PROJECT_REVIEW_REPORT.md` (consolidated) + 10 individual reports in `docs/`.\n\n## Agents\n\n| Agent | Purpose |\n|-------|---------|\n| `kbc-sql-reviewer` | SQL quality and anti-pattern detection |\n| `kbc-config-reviewer` | Configuration best practices |\n| `kbc-dwh-architect` | Data warehouse architecture review |\n| `kbc-data-quality-analyst` | Live data quality analysis via MCP |\n| `kbc-financial-analyst` | Financial calculation validation (multi-ERP, SaaS metrics) |\n| `kbc-semantic-layer-reviewer` | Semantic layer and metric definitions |\n| `kbc-security-auditor` | Security audit (credentials, PII, compliance) |\n| `kbc-performance-optimizer` | Pipeline performance and optimization |\n| `kbc-template-readiness` | Template readiness for FIIA automation |\n| `kbc-review-consolidator` | Data flow mapping + report consolidation |\n| `keboola-config-analyzer` | General config analysis and explanation |\n\n## Skill\n\n- **keboola-config**: Knowledge about Keboola project structure and configuration formats\n\n## Usage\n\n1. Navigate to a directory with a Keboola project (or use `/kbc-init`)\n2. Use `/kbc-pull` to sync from remote\n3. Use `/kbc-review` to run the full project review\n4. Check `docs/PROJECT_REVIEW_REPORT.md` for the consolidated report\n5. Use `/kbc-push` to push any fixes back\n\n## Settings\n\nCreate `~/.claude/keboola-cli.local.md` for default settings:\n\n```yaml\n---\ndefault_host: connection.keboola.com\n---\n```\n"
      },
      "plugins": [
        {
          "name": "component-developer",
          "description": "Comprehensive toolkit for building Keboola Python components with Agent Skills format",
          "version": "3.0.0",
          "source": "./plugins/component-developer",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add keboola/ai-kit",
            "/plugin install component-developer@keboola-claude-kit"
          ]
        },
        {
          "name": "developer",
          "description": "Developer toolkit with specialized agents for code review, security analysis, and GitHub PR review processing",
          "version": "1.7.1",
          "source": "./plugins/developer",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add keboola/ai-kit",
            "/plugin install developer@keboola-claude-kit"
          ]
        },
        {
          "name": "dataapp-developer",
          "description": "Streamlit data app development with validate â†’ build â†’ verify workflow for Keboola deployment",
          "version": "1.0.0",
          "source": "./plugins/dataapp-developer",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add keboola/ai-kit",
            "/plugin install dataapp-developer@keboola-claude-kit"
          ]
        },
        {
          "name": "incident-commander",
          "description": "Incident response toolkit for creating post-mortem documents from Slack incident channels",
          "version": "1.0.0",
          "source": "./plugins/incident-commander",
          "category": "operations",
          "categories": [
            "operations"
          ],
          "install_commands": [
            "/plugin marketplace add keboola/ai-kit",
            "/plugin install incident-commander@keboola-claude-kit"
          ]
        },
        {
          "name": "keboola-cli",
          "description": "Keboola project management and 10-agent review team for SQL, security, performance, financial logic, and template readiness analysis",
          "version": "1.0.0",
          "source": "./plugins/keboola-cli",
          "category": "operations",
          "categories": [
            "operations"
          ],
          "install_commands": [
            "/plugin marketplace add keboola/ai-kit",
            "/plugin install keboola-cli@keboola-claude-kit"
          ]
        }
      ]
    }
  ]
}