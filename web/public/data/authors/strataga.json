{
  "author": {
    "id": "strataga",
    "display_name": "Strataga",
    "avatar_url": "https://avatars.githubusercontent.com/u/10903600?u=99976a727ae82e92cee18571374cb373c51b277f&v=4"
  },
  "marketplaces": [
    {
      "name": "agent-bar",
      "version": null,
      "description": "Multi-service status bar for Claude Code",
      "repo_full_name": "strataga/agent-bar",
      "repo_url": "https://github.com/strataga/agent-bar",
      "repo_description": "A multi-service status bar for Claude Code — context, rate limits, costs, and OAuth status",
      "signals": {
        "stars": 3,
        "forks": 0,
        "pushed_at": "2026-02-07T03:43:29Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"agent-bar\",\n  \"owner\": { \"name\": \"Jason Cochran\" },\n  \"plugins\": [\n    {\n      \"name\": \"agent-bar\",\n      \"source\": \"./\",\n      \"description\": \"Multi-service status bar for Claude Code\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"agent-bar\",\n  \"description\": \"A multi-service status bar for Claude Code showing context usage, rate limits, OAuth countdowns, cost tracking, and more — with support for Claude Code and OpenAI Codex.\",\n  \"version\": \"1.1.0\",\n  \"author\": {\n    \"name\": \"Jason Cochran\"\n  }\n}\n",
        "README.md": "# agent-bar\n\nA multi-service status bar for [Claude Code](https://docs.anthropic.com/en/docs/claude-code) that shows real-time context usage, rate limits, cost tracking, and OAuth status — with built-in support for Claude Code and OpenAI Codex.\n\n```\nOpus 4.6  projects/factory  main  +37 -12\ncontext  ======----  62%  2Min/428kout  $4.98 ($3.53/hr)  84m33s  cache:80%  cpu:38% mem:4%\nclaude   =======--- 75%/day 3M/10M ~10h37m | =========- 95%/wk 3M/50M ~2d10h | ~$4.43\ncodex    ========-- 84%/5h ~4h 1m          | ===------- 37%/wk ~2d 22h       | ~$0.55\nauth     claude:5h48m | codex:6d0h\n```\n\n## Features\n\n### Line 1 — Session Header\n\n| Element | Description |\n|---------|-------------|\n| **Model** | Active model name (e.g., `Opus 4.6`) |\n| **Directory** | Last two segments of working directory |\n| **Git branch** | Current branch name |\n| **Lines changed** | `+added` / `-removed` in this session |\n\n### Line 2 — Context Window\n\n| Element | Description |\n|---------|-------------|\n| **Progress bar** | Visual fill of the context window |\n| **Percentage** | How full the context window is |\n| **Tokens** | Cumulative input/output tokens this session |\n| **Cost** | Combined session cost (Claude + Codex) in USD |\n| **Burn rate** | Projected cost per hour based on session pace |\n| **Cache hit %** | Prompt cache efficiency (`cache_read / (cache_read + cache_creation)`) |\n| **CPU / Memory** | Claude process resource usage |\n\n### Line 3 — Claude Code Rate Limits\n\n| Element | Description |\n|---------|-------------|\n| **Daily bar** | Estimated % of daily token budget remaining |\n| **Weekly bar** | Estimated % of weekly token budget remaining |\n| **Token counts** | Used / limit (e.g., `3M/10M`) |\n| **Reset countdown** | Time until the window resets (midnight for daily, Monday for weekly) |\n| **Cost** | Claude-only session cost |\n\nUsage is self-tracked across sessions in `~/.claude/agent-bar-usage.json`. Limits are configurable — see [Configuration](#configuration).\n\n> **Note:** Anthropic does not publish exact token limits for Max plans. The defaults (10M/day, 50M/week) are estimates for Max 20x. Adjust to match your experience.\n\n### Line 4 — Codex Rate Limits\n\n| Element | Description |\n|---------|-------------|\n| **5h bar** | % remaining in the rolling 5-hour window |\n| **Weekly bar** | % remaining of weekly quota |\n| **Reset countdowns** | Time until each window resets |\n| **Estimated cost** | API-equivalent cost based on session tokens |\n\nRate limit data is read directly from Codex session files in `~/.codex/sessions/`.\n\n> This line only appears if the `codex` CLI is installed and has session data.\n\n### Line 5 — OAuth Status\n\n| Element | Description |\n|---------|-------------|\n| **claude** | Time until Claude Code OAuth token expires |\n| **codex** | Time until Codex OAuth token expires (decoded from JWT) |\n\n## Color System\n\n### Progress Bars\n\nBars use `=` for filled and `-` for empty, colored by threshold:\n\n**Context window** (higher = worse):\n| Color | Threshold | Meaning |\n|-------|-----------|---------|\n| Green | < 70% | Healthy |\n| Yellow | 70-89% | Warning |\n| Red | 90%+ | Critical — compaction imminent |\n\n> When the context window fills up, Claude Code automatically compresses earlier messages to free space. The red zone warns you to wrap up complex reasoning before this happens.\n\n**Rate limits** (higher = better):\n| Color | Threshold | Meaning |\n|-------|-----------|---------|\n| Green | > 30% | Healthy |\n| Yellow | 10-30% | Running low |\n| Red | < 10% | Nearly exhausted |\n\n### OAuth Countdowns\n\n| Color | Threshold | Meaning |\n|-------|-----------|---------|\n| Green | > 24h | No action needed |\n| Yellow | < 24h | Re-auth soon |\n| Red | Expired | Re-authenticate now |\n\n### Text Hierarchy\n\n- **Bold + color** — primary data (percentages, model name)\n- **Light gray** — secondary metrics (tokens, costs, times)\n- **Dark gray** — decorative elements (bar empties, separators)\n\n## Requirements\n\n- [Claude Code](https://docs.anthropic.com/en/docs/claude-code) (any plan)\n- [`jq`](https://jqlang.github.io/jq/) — JSON processing\n- `git` — for branch detection\n- **Optional:** [Codex CLI](https://github.com/openai/codex) — for Codex rate limit tracking\n\n## Installation\n\n### As a Claude Code Plugin (recommended)\n\n```\n/plugin marketplace add strataga/agent-bar\n/plugin install agent-bar\n```\n\nThen run the setup skill to configure the statusline:\n\n```\n/agent-bar:setup\n```\n\nRestart Claude Code to activate.\n\n### Via Install Script\n\n```bash\ngit clone https://github.com/strataga/agent-bar.git\ncd agent-bar\n./scripts/install.sh\n```\n\nThe installer copies `statusline.sh` to `~/.claude/statusline.sh` and adds the `statusLine` config to `~/.claude/settings.json`. Restart Claude Code to activate.\n\n### Manual Installation\n\n```bash\ncp scripts/statusline.sh ~/.claude/statusline.sh\nchmod +x ~/.claude/statusline.sh\n```\n\nAdd to `~/.claude/settings.json`:\n\n```json\n{\n  \"statusLine\": {\n    \"type\": \"command\",\n    \"command\": \"~/.claude/statusline.sh\",\n    \"padding\": 2\n  }\n}\n```\n\n## Configuration\n\nCreate `~/.claude/agent-bar.json` to override defaults:\n\n```json\n{\n  \"claude_daily_limit\": 10000000,\n  \"claude_weekly_limit\": 50000000,\n  \"codex_input_rate\": 0.0000025,\n  \"codex_output_rate\": 0.000010,\n  \"bar_width\": 10,\n  \"sections\": {\n    \"header\": true,\n    \"context\": true,\n    \"claude\": true,\n    \"codex\": false,\n    \"auth\": true\n  }\n}\n```\n\nOnly include the keys you want to override. Unset keys use built-in defaults (10M daily, 50M weekly, bar width 10, all sections enabled).\n\n### Suggested limits by plan\n\n| Plan | Daily Limit | Weekly Limit |\n|------|-------------|--------------|\n| Claude Pro | `2000000` | `10000000` |\n| Claude Max 5x | `5000000` | `25000000` |\n| Claude Max 20x | `10000000` | `50000000` |\n\nThese are estimates. Adjust based on your actual usage patterns.\n\n## How It Works\n\n### Data Sources\n\n| Data | Source |\n|------|--------|\n| Session tokens, cost, context % | Claude Code status line JSON (piped to stdin) |\n| Claude OAuth expiry | `~/.claude/.credentials.json` |\n| Claude daily/weekly usage | Self-tracked in `~/.claude/agent-bar-usage.json` |\n| Codex rate limits | `~/.codex/sessions/` (latest session's `token_count` event) |\n| Codex OAuth expiry | `~/.codex/auth.json` (JWT `exp` claim) |\n| Codex session tokens | `~/.codex/sessions/` (cumulative input/output tokens) |\n| Git branch | `git branch --show-current` |\n| CPU / Memory | `ps aux` (Claude process) |\n\n### Claude Code Status Line JSON\n\nClaude Code pipes a JSON object to the status line script's stdin on every update:\n\n```json\n{\n  \"model\": { \"display_name\": \"Opus 4.6\" },\n  \"workspace\": { \"current_dir\": \"/path/to/project\" },\n  \"cost\": {\n    \"total_cost_usd\": 4.977,\n    \"total_duration_ms\": 5073000,\n    \"total_api_duration_ms\": 2100000,\n    \"total_lines_added\": 37,\n    \"total_lines_removed\": 12\n  },\n  \"context_window\": {\n    \"used_percentage\": 62,\n    \"remaining_percentage\": 38,\n    \"total_input_tokens\": 2152400,\n    \"total_output_tokens\": 428300,\n    \"cache_creation_input_tokens\": 50000,\n    \"cache_read_input_tokens\": 200000\n  }\n}\n```\n\n## Troubleshooting\n\n**Status bar not showing:**\n- Verify the script is executable: `chmod +x ~/.claude/statusline.sh`\n- Check `~/.claude/settings.json` has the `statusLine` config\n- Restart Claude Code\n\n**Empty bars / missing data:**\n- First run may show `0%` for daily/weekly until tokens accumulate\n- Codex bars only appear when `codex` is installed and has session data\n\n**Codex line not appearing:**\n- Requires the `codex` CLI to be installed and in your PATH\n- Run a Codex session first to generate session data in `~/.codex/sessions/`\n\n**Wrong daily/weekly limits:**\n- Set `claude_daily_limit` and `claude_weekly_limit` in `~/.claude/agent-bar.json`\n- Anthropic doesn't publish exact limits; tune based on when you actually get rate-limited\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "agent-bar",
          "source": "./",
          "description": "Multi-service status bar for Claude Code",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add strataga/agent-bar",
            "/plugin install agent-bar@agent-bar"
          ]
        }
      ]
    }
  ]
}