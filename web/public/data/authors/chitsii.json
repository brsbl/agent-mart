{
  "author": {
    "id": "chitsii",
    "display_name": "chitsii",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/59207213?u=f4f1452e6e7551587472d374db1d2313315bbf5a&v=4",
    "url": "https://github.com/chitsii",
    "bio": "Software Engineer",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 10,
      "total_skills": 0,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "reflect-skill",
      "version": null,
      "description": "Self-improving skills system for Claude Code",
      "owner_info": {
        "name": "chitsii"
      },
      "keywords": [],
      "repo_full_name": "chitsii/reflect-skill",
      "repo_url": "https://github.com/chitsii/reflect-skill",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-16T18:44:13Z",
        "created_at": "2026-01-16T15:54:45Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 625
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 356
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 3570
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/export.md",
          "type": "blob",
          "size": 1376
        },
        {
          "path": "commands/import.md",
          "type": "blob",
          "size": 1615
        },
        {
          "path": "commands/init.md",
          "type": "blob",
          "size": 1201
        },
        {
          "path": "commands/off.md",
          "type": "blob",
          "size": 270
        },
        {
          "path": "commands/on.md",
          "type": "blob",
          "size": 475
        },
        {
          "path": "commands/reflect.md",
          "type": "blob",
          "size": 9821
        },
        {
          "path": "commands/review.md",
          "type": "blob",
          "size": 2396
        },
        {
          "path": "commands/search.md",
          "type": "blob",
          "size": 3211
        },
        {
          "path": "commands/split.md",
          "type": "blob",
          "size": 516
        },
        {
          "path": "commands/status.md",
          "type": "blob",
          "size": 1714
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"reflect-skill\",\n  \"owner\": {\n    \"name\": \"chitsii\"\n  },\n  \"metadata\": {\n    \"description\": \"Self-improving skills system for Claude Code\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"reflect-skill\",\n      \"source\": \"./\",\n      \"description\": \"Self-improving skills system - Learn from sessions and persist knowledge across conversations\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"chitsii\"\n      },\n      \"repository\": \"https://github.com/chitsii/reflect-skill\",\n      \"license\": \"MIT\",\n      \"keywords\": [\"learning\", \"memory\", \"self-improvement\", \"knowledge\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"reflect-skill\",\n  \"description\": \"Self-improving skills system - Learn from sessions and persist knowledge across conversations\",\n  \"version\": \"1.2.0\",\n  \"author\": {\n    \"name\": \"tishi\"\n  },\n  \"repository\": \"https://github.com/chitsii/reflect-skill\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"learning\", \"memory\", \"self-improvement\", \"knowledge\"]\n}\n",
        "README.md": "# Reflect Skill - Self-Improving Skills for Claude Code\n\nClaude Codeでセッション間の学習を持続させる自己改善スキルシステム。\n\n## 問題\n\nLLMはセッションごとに記憶がリセットされる。同じ修正を何度も繰り返す必要がある。\n\n## 解決策\n\nセッション中の修正・指示を知識ファイルに記録し、次回セッションから自動適用。\n\n## インストール\n\n> **要件**: Claude Code 1.0.33以降が必要です（`claude --version` で確認）\n\n### ローカルからインストール\n\n```bash\n# リポジトリをクローン\ngit clone https://github.com/chitsii/reflect-skill.git\n\n# セッション起動時にプラグインディレクトリを指定\nclaude --plugin-dir /path/to/reflect-skill\n```\n\n### GitHubからインストール（公開後）\n\nリポジトリがGitHubに公開されている場合:\n\n```bash\n# 1. マーケットプレイスとして追加\n/plugin marketplace add chitsii/reflect-skill\n\n# 2. プラグインをインストール\n/plugin install reflect-skill@chitsii-reflect-skill\n```\n\n### プロジェクト設定での自動有効化（公開後）\n\n`.claude/settings.json` に追加すると、プロジェクトで自動的に有効化されます:\n\n```json\n{\n  \"extraKnownMarketplaces\": [\n    \"chitsii/reflect-skill\"\n  ],\n  \"enabledPlugins\": {\n    \"reflect-skill@chitsii-reflect-skill\": true\n  }\n}\n```\n\n### プロジェクトの初期化\n\nインストール後、プロジェクトで初期化:\n```\n/reflect-skill:init\n```\n\n## コマンド\n\n| コマンド | 説明 |\n|----------|------|\n| `/reflect-skill:init` | プロジェクトに知識ファイルを初期化 |\n| `/reflect-skill:reflect` | セッションから学習を抽出 |\n| `/reflect-skill:search` | タスクに関連する知識を検索（Task tool経由） |\n| `/reflect-skill:status` | 状態を表示（使用状況・鮮度アラート含む） |\n| `/reflect-skill:review` | 蓄積した知識を定期レビュー・整理 |\n| `/reflect-skill:export` | 知識をエクスポート（別プロジェクトへ移植） |\n| `/reflect-skill:import` | 知識をインポート（別プロジェクトから） |\n| `/reflect-skill:on` | 自動リフレクション有効化 |\n| `/reflect-skill:off` | 自動リフレクション無効化 |\n| `/reflect-skill:split` | 200行超えファイルを分割 |\n\n## ファイル構造\n\n### プラグイン（このリポジトリ）\n```\nreflect-skill/\n├── .claude-plugin/\n│   └── plugin.json       # プラグインマニフェスト\n├── commands/             # スラッシュコマンド\n├── templates/            # 知識ファイルテンプレート\n└── docs/                 # 設計ドキュメント\n```\n\n### 初期化後のプロジェクト\n```\ntarget-project/\n└── .reflect/             # 知識・設定（個人用、.gitignore推奨）\n    ├── knowledge/\n    │   ├── high/         # 常に読む知識\n    │   ├── medium/       # 関連時に検索\n    │   └── low/          # アーカイブ\n    └── config.json\n```\n\n## チーム運用\n\n- `.reflect/` は `.gitignore` に追加（個人用）\n- チームルールに昇格する場合は CLAUDE.md に追記\n- 詳細: [docs/TEAM.md](docs/TEAM.md)\n\n## ドキュメント\n\n- [docs/DESIGN.md](docs/DESIGN.md) - 詳細設計\n- [docs/USAGE.md](docs/USAGE.md) - 知識ファイルの使い方\n- [docs/TEAM.md](docs/TEAM.md) - チーム運用ガイド\n- [docs/HOOKS.md](docs/HOOKS.md) - Hook連携（オプション）\n",
        "commands/export.md": "---\ndescription: 知識をエクスポート（別プロジェクトへの移植用）\n---\n\n# /reflect-skill:export\n\n知識ファイルをエクスポートして、別プロジェクトで再利用可能にする。\n\n## 使い方\n\n### 全知識をエクスポート\n```\n/reflect-skill:export\n```\n\n### 特定階層のみ\n```\n/reflect-skill:export high\n/reflect-skill:export medium\n```\n\n### 出力先を指定\n```\n/reflect-skill:export --output ./my-knowledge.zip\n```\n\n## 実行内容\n\n1. `.reflect/knowledge/` 内のファイルを収集\n2. メタデータを含む `manifest.json` を生成\n3. ZIP形式でアーカイブ\n\n## 出力形式\n\n```\nreflect-knowledge-export-YYYYMMDD.zip\n├── manifest.json\n│   {\n│     \"exportedAt\": \"2024-01-20T12:00:00Z\",\n│     \"sourceProject\": \"my-project\",\n│     \"version\": \"1.1.0\",\n│     \"files\": [...]\n│   }\n├── high/\n│   └── main.md\n├── medium/\n│   ├── _index.md\n│   └── main.md\n└── low/\n    ├── _index.md\n    └── main.md\n```\n\n## オプション\n\n| オプション | 説明 |\n|-----------|------|\n| `--output <path>` | 出力先パスを指定 |\n| `--no-low` | low/ を除外 |\n| `--high-only` | high/ のみ |\n\n## 注意\n\n- 個人的な好みが含まれる場合、チーム共有時は確認推奨\n- パスワード等の機密情報が含まれていないか確認\n",
        "commands/import.md": "---\ndescription: 知識をインポート（別プロジェクトからの移植）\n---\n\n# /reflect-skill:import\n\nエクスポートされた知識ファイルを現在のプロジェクトに取り込む。\n\n## 使い方\n\n### 基本（マージモード）\n```\n/reflect-skill:import ./reflect-knowledge-export.zip\n```\n\n### プレビューのみ\n```\n/reflect-skill:import ./export.zip --preview\n```\n\n### 上書きモード\n```\n/reflect-skill:import ./export.zip --overwrite\n```\n\n## 実行内容\n\n1. ZIPファイルを展開\n2. `manifest.json` を検証\n3. 既存知識との競合をチェック\n4. ユーザー確認\n5. 知識ファイルをマージ/上書き\n6. `_index.md` を更新\n\n## マージ戦略\n\n| 戦略 | 説明 | オプション |\n|------|------|-----------|\n| **merge** | 既存と新規をマージ、競合時は確認 | デフォルト |\n| **overwrite** | 新規で完全上書き | `--overwrite` |\n| **skip** | 競合をスキップ | `--skip-conflicts` |\n\n## 競合時の動作\n\n```\n⚠️ 競合検出\n\n[1] high/main.md\n    既存: Button → shadcn\n    新規: Button → MUI\n    → (M)erge / (O)verwrite / (S)kip?\n\n[2] medium/api.md\n    既存: なし\n    新規: REST API規約\n    → 自動追加\n```\n\n## オプション\n\n| オプション | 説明 |\n|-----------|------|\n| `--preview` | 変更をプレビューのみ（実行しない） |\n| `--overwrite` | 全て上書き |\n| `--skip-conflicts` | 競合をスキップ |\n| `--high-only` | high/ のみインポート |\n\n## 注意\n\n- インポート前に現在の知識をバックアップ推奨\n- `--preview` で事前確認推奨\n",
        "commands/init.md": "---\ndescription: Reflect Skill を現在のプロジェクトに初期化\n---\n\n# /reflect-skill:init\n\nプロジェクトに `.reflect/` ディレクトリを作成し、知識ファイルを初期化する。\n\n## 実行内容\n\n1. `.reflect/knowledge/high/main.md` を作成\n2. `.reflect/knowledge/medium/_index.md`, `main.md` を作成\n3. `.reflect/knowledge/low/_index.md`, `main.md` を作成\n4. `.reflect/config.json` を作成\n5. `.gitignore` に `.reflect/` を追加（存在しない場合は作成）\n6. CLAUDE.md に知識ベース参照を追記（任意）\n\n## 作成されるファイル\n\n```\n.reflect/\n├── knowledge/\n│   ├── high/main.md      # 常に読む知識\n│   ├── medium/\n│   │   ├── _index.md     # キーワード検索用\n│   │   └── main.md\n│   └── low/\n│       ├── _index.md\n│       └── main.md\n└── config.json           # 設定\n```\n\n## 初期化後\n\n### .gitignore への追加（自動）\n```\n# Reflect Skill - Personal knowledge (not shared)\n.reflect/\n```\n\n### CLAUDE.md への追加（任意）\n```\n知識ベース: `.reflect/knowledge/` を活用。詳細は `/reflect-skill:status` 参照。\n```\n",
        "commands/off.md": "---\ndescription: 自動リフレクションを無効化\n---\n\n# /reflect-skill:off\n\n`.reflect/config.json` の `autoReflect` を `false` に設定。\n\nリマインダーなしで手動 `/reflect-skill:reflect` のみ使用。\n\nデフォルトはこの状態（OFF）。\n",
        "commands/on.md": "---\ndescription: 自動リフレクションを有効化\n---\n\n# /reflect-skill:on\n\n`.reflect/config.json` の `autoReflect` を `true` に設定。\n\n## 効果\n\n- セッション終了時にリマインダーを表示（hookが設定されている場合）\n- 実際のリフレクションは `/reflect-skill:reflect` で手動実行\n\n## 注意\n\n- リマインダーは通知のみ、自動で知識を書き込まない\n- 知識の追加は常にユーザー確認を経る\n",
        "commands/reflect.md": "---\ndescription: セッションから学習を抽出して知識ファイルに記録\n---\n\n# /reflect-skill:reflect\n\nセッションを分析し、**ユーザーによる修正**を `.reflect/knowledge/` に記録。\n\n## 知識の定義\n\n**知識 = ユーザーがClaudeの出力を「修正」した内容**\n\n| 知識である | 知識ではない |\n|-----------|-------------|\n| 「〜に変えて」 | 「OK」「いいね」 |\n| 「〜しないで」 | 「全てOKです」 |\n| 「必ず〜を使って」 | 「そのままで」 |\n| 「違う、〜だ」 | 単なる質問 |\n| 「毎回〜して」 | 情報の提供 |\n| 「常に〜で」 | **通常の作業依頼** |\n\n### 通常の作業依頼は知識ではない\n\n強調語（必ず/絶対/常に/毎回など）を含まない作業依頼は、そのタスク固有の指示であり、知識として記録しない。\n\n| 通常の作業依頼（除外） | 知識（記録対象） |\n|----------------------|-----------------|\n| 「ログイン機能を作って」 | 「ログイン機能は**必ず**2FAを含めて」 |\n| 「このファイルを修正して」 | 「修正時は**常に**テストも更新して」 |\n| 「APIを呼び出して」 | 「APIは**絶対に**try-catchで囲んで」 |\n| 「コンポーネントを追加して」 | 「コンポーネントは**毎回**Storybookも作って」 |\n\n**判定基準**: 強調語がなければ、それは「今回のタスク」への指示であり、「今後すべてのタスク」への指示ではない。\n\n**目的**: ユーザーによる修正が蓄積され、開発体験を潤滑化すること\n\n## 実行手順\n\n### Step 1: セッション分析\n会話履歴をスキャンし、**ユーザーによる修正**を検出:\n\n#### High（明示的指示）\n**検出パターン:**\n- 強制: 「必ず」「絶対に」「常に」「毎回」「例外なく」\n- 禁止: 「〜するな」「〜しないで」「〜禁止」「〜NG」「〜やめて」\n- 修正指示: 「〜に変えて」「〜を使って」「〜にして」（2回以上）\n- 明示的ルール: 「ルール:」「規約:」「必須:」\n\n**例:**\n- 「Buttonは必ずshadcnから使って」→ High\n- 「console.logは使わないで」→ High\n- 「このプロジェクトではTypeScriptを使う」→ High\n\n#### Medium（修正指示）\n**検出パターン:**\n- 好みの修正: 「〜がいい」「〜の方がいい」「〜にして」\n- 軽微な修正: 「ちょっと違う」「〜も追加して」\n- 1回の指摘: 同じ修正が1回のみ\n\n**例:**\n- 「Result型を使う方がいい」→ Medium（好みの修正）\n- 「ここは〜にして」→ Medium（軽微な修正）\n\n**知識ではない（除外）:**\n- 「OK」「いいね」「それでいい」（単なる承認）\n- 「全てOKです」（修正なしの承認）\n- 「そうそう」（確認のみ）\n- 通常の作業依頼（強調語なし）\n\n#### Low（暗黙の修正）\n**検出パターン:**\n- 暗黙の好み: 明示的に言わないが、特定の選択を繰り返す\n- 文脈依存の修正: 「今回は〜で」（次回は異なる可能性）\n\n**例:**\n- 複数回、特定のライブラリを選択 → Low（暗黙の好み）\n- 「今回は〜で」→ Low（文脈依存）\n\n**知識ではない（除外）:**\n- Claudeの推測（ユーザーの修正がない）\n- 単なる観察（修正に繋がっていない）\n\n### Step 2: 重複・競合検出（Subagent）\n\n**呼び出し条件**: Step 1 で知識が **1件以上** 検出された場合\n\n```\nif (検出された知識 >= 1件) {\n  → Subagent を起動\n} else {\n  → 「検出された学習: 0件」を報告して終了\n}\n```\n\nTask tool で重複・競合検出を実行:\n\n```\nTask tool:\n  subagent_type: \"Explore\"\n  model: \"haiku\"\n  description: \"知識の重複・競合検出\"\n  prompt: |\n    新しい知識を既存知識と比較し、重複・競合を検出してください。\n\n    ## 新しい知識\n    {{Step 1 で検出した知識リスト}}\n\n    ## 検索手順\n    1. `.reflect/knowledge/high/` の全ファイルを読む\n    2. `.reflect/knowledge/medium/` の全ファイルを読む\n    3. 各新知識について以下をチェック:\n       - 同一トピック: 既存知識と同じ主題か\n       - 矛盾: 既存知識と矛盾しないか\n       - 上位互換: 既存知識を包含するか\n\n    ## 出力形式\n    📋 重複・競合チェック結果\n\n    [1] {{知識タイトル}}\n    状態: 新規 / 重複 / 競合 / 上位互換\n    既存: {{競合する既存知識があれば記載}}\n    推奨: 追加 / マージ / 上書き / スキップ\n\n    [2] ...\n```\n\n**結果の分類:**\n| 状態 | 意味 | 次のアクション |\n|------|------|---------------|\n| 新規 | 既存に類似なし | → Step 4 で追加提案 |\n| 重複 | 既存と同一 | → スキップ（追加不要） |\n| 競合 | 既存と矛盾 | → Step 3 でマージ提案 |\n| 上位互換 | 既存を包含 | → Step 4 で上書き提案 |\n\n### Step 3: マージ提案（Subagent）\n\n**呼び出し条件**: Step 2 で **競合** が検出された場合のみ\n\n```\nif (競合あり) {\n  → 競合する知識ごとに Subagent を起動\n} else {\n  → Step 4 へスキップ\n}\n```\n\nTask tool でマージ案を生成:\n\n```\nTask tool:\n  subagent_type: \"Explore\"\n  model: \"haiku\"\n  description: \"知識のマージ提案\"\n  prompt: |\n    競合する知識をマージしてください。\n\n    ## 既存知識\n    ファイル: {{ファイルパス}}\n    内容: {{既存の知識内容}}\n\n    ## 新しい知識\n    内容: {{新しい知識内容}}\n\n    ## マージ方針\n    - 両方の意図を活かす\n    - 矛盾する場合は条件分岐で表現（例: 「基本は〜、ただし〜の場合は〜」）\n    - 簡潔さを維持\n\n    ## 出力形式\n    📝 マージ提案\n\n    **マージ後:**\n    {{統合された知識内容}}\n\n    **変更点:**\n    - {{何を追加/変更したか}}\n```\n\n### Step 4: 更新提案\n検出シグナルと競合チェック結果を元に、更新内容を提案:\n\n```\n📝 検出された学習 (3件)\n\n[High] UI規約\n  内容: Buttonはshadcnから使用\n  競合: なし\n  → high/main.md に追加\n\n[Medium] エラー処理\n  内容: Result型でエラーを返す\n  競合: 既存「try-catchを使う」と矛盾\n  マージ案: 「基本はResult型、外部API呼び出しはtry-catch」\n  → マージ/上書き/スキップ?\n\n[Low] 命名傾向\n  内容: ハンガリアン記法を避ける傾向\n  競合: なし\n  → low/main.md に追加\n```\n\n### Step 5: ユーザー確認（手動モード）または自動適用（自動モード）\n\n**手動モード（デフォルト）:**\n- Y: 全て適用\n- 数字: 個別に確認（例: \"2\" で2番目を詳細表示）\n- 自然言語: 修正指示\n- N: キャンセル\n\n**自動モード（`autoMaintenance: true`）:**\n- 新規・上位互換 → 自動追加\n- 重複 → 自動スキップ\n- 競合 → マージ案を自動適用\n\n### Step 6: 適用\n1. `.reflect/knowledge/` 内のファイルを更新\n2. `_index.md` を更新（medium/low）\n3. `config.json` の `lastReflect` を更新\n4. Git commit & push（リモートがあれば）\n\n## 知識ファイルの場所\n- `.reflect/knowledge/high/` - 常に読む\n- `.reflect/knowledge/medium/` - 関連時に検索\n- `.reflect/knowledge/low/` - アーカイブ\n\n## 知識とドキュメントの責務分離\n\n### 設計の「詳細」vs「方針」\n\n| 設計詳細（DESIGN.md の責務） | 設計方針（知識として記録） |\n|----------------------------|-------------------------|\n| 「認証はJWTで実装する」 | 「認証は**常に**セキュリティファーストで考えて」 |\n| 「DBはPostgreSQLを使用」 | 「DB選定は**必ず**スケーラビリティを優先して」 |\n| 「マイクロサービス構成にする」 | 「アーキテクチャは**毎回**テスト容易性を重視して」 |\n| 「APIはREST形式で設計」 | 「API設計は**絶対に**後方互換性を維持して」 |\n\n**判定基準**:\n- **What（何を）**: 具体的な技術選定・構成 → DESIGN.md\n- **How（どのように考えるか）**: 設計時の価値観・優先事項 → 知識\n\n### 不変のルール vs 学習した知識\n\n| 不変のルール（CLAUDE.md の責務） | 学習した知識（.reflect/） |\n|-------------------------------|-------------------------|\n| プロジェクト固有の技術スタック | ユーザーの好みや癖 |\n| チーム全体で守るべき規約 | 個人的なこだわり |\n| リポジトリ構成の説明 | セッション中に指摘された改善点 |\n\n**判定基準**:\n- **誰が決めたか**: プロジェクト/チーム → CLAUDE.md\n- **誰が決めたか**: このユーザー個人 → 知識\n\n## 自動メンテナンスモード\n\n### 設定\n\n`config.json` に追加:\n```json\n{\n  \"autoMaintenance\": true\n}\n```\n\n### 動作\n\n`autoMaintenance: true` の場合:\n- **Compact時**に自動でreflectを実行\n- 親セッションが知識の追加・変更を判断\n- ユーザー確認なしで適用\n\n### 推奨タイミング\n\n| タイミング | モード | 理由 |\n|-----------|--------|------|\n| Compact前 | 自動 | 詳細な会話履歴が残っているうちに抽出 |\n| セッション終了時 | 手動 | 最終確認として |\n\n### 制限事項\n\n**Compact後の制限:**\n- 要約により詳細な修正指示が失われる可能性\n- 強調語（「必ず」「絶対」など）のニュアンスが消える場合あり\n- → Compact前にreflectを実行することを推奨\n\n## 注意\n- 200行以内を維持\n- 自動モードでも競合時はマージ案を自動適用（不安な場合は手動モード推奨）\n",
        "commands/review.md": "---\ndescription: 蓄積した知識を定期的にレビュー・整理\n---\n\n# /reflect-skill:review\n\n蓄積した知識を対話形式でレビューし、整理・最適化する。\n\n## 用途\n\n- 定期的な知識の棚卸し\n- 不要な知識の削除\n- 信頼度の再評価\n- 重複の統合\n\n## 実行フロー\n\n### Step 1: 知識の分析\n```\n📊 知識ベース分析結果\n\n総知識数: 25件\n├── high/: 5件 (120行)\n├── medium/: 15件 (450行)\n└── low/: 5件 (80行)\n\n⚠️ 要確認項目\n├── 長期未使用 (90日+): 3件\n├── 矛盾の可能性: 1件\n└── 重複の可能性: 2件\n```\n\n### Step 2: 項目別レビュー\n\n#### 長期未使用の知識\n```\n🕐 90日以上未使用\n\n[1] medium/old-api.md\n    最終使用: 2023-10-15\n    内容: 旧API呼び出し規約\n    → (K)eep / (A)rchive / (D)elete?\n\n[2] low/legacy-patterns.md\n    最終使用: 2023-09-01\n    内容: レガシーパターン集\n    → (K)eep / (A)rchive / (D)elete?\n```\n\n#### 矛盾する知識\n```\n⚡ 矛盾の検出\n\n[1] エラー処理\n    high/main.md: \"Result型を使う\"\n    medium/api.md: \"try-catchを使う\"\n    → (1)を優先 / (2)を優先 / (M)erge / (S)kip?\n```\n\n#### 重複する知識\n```\n📋 重複の検出\n\n[1] 命名規則\n    high/main.md: \"camelCase使用\"\n    medium/naming.md: \"camelCaseを徹底\"\n    → (M)erge into high / (D)elete medium / (S)kip?\n```\n\n### Step 3: 信頼度の再評価\n```\n📈 信頼度の昇格候補\n\n[1] medium/button-style.md\n    理由: 5回以上参照、修正なし\n    → High に昇格? (Y/N)\n\n📉 信頼度の降格候補\n\n[1] high/old-rule.md\n    理由: 30日以上未使用\n    → Medium に降格? (Y/N)\n```\n\n### Step 4: 適用\n1. 選択した変更を適用\n2. `_index.md` を更新\n3. `config.json` の統計を更新\n4. Git commit\n\n## オプション\n\n| オプション | 説明 |\n|-----------|------|\n| `--auto` | 推奨アクションを自動適用 |\n| `--stale-only` | 古い知識のみレビュー |\n| `--conflicts-only` | 競合のみレビュー |\n| `--dry-run` | 変更をプレビューのみ |\n\n## 推奨頻度\n\n- **週次**: アクティブなプロジェクト\n- **月次**: 安定したプロジェクト\n- **随時**: 大きな変更後\n\n## 自動レビュー設定\n\n`config.json` に追加:\n\n```json\n{\n  \"review\": {\n    \"autoRemind\": true,\n    \"remindAfterDays\": 30\n  }\n}\n```\n",
        "commands/search.md": "---\ndescription: タスクに関連する知識を検索して抽出\n---\n\n# /reflect-skill:search\n\nTask tool (Explore) を使用して `.reflect/knowledge/` から関連知識を検索・抽出する。\n\n## 用途\n\n- 実装・修正タスクを受けた時に、関連する知識を事前に取得\n- 親セッションのコンテキストを汚さずに必要な知識だけを渡す\n\n## 起動条件\n\n以下に該当するタスクを受けた時に実行を推奨:\n\n| 条件 | 例 |\n|------|-----|\n| コード実装を伴う | 「〜を作って」「〜を実装して」 |\n| 修正・変更を伴う | 「〜を直して」「〜を変えて」 |\n| 設計判断を伴う | 「〜をどう実装すべき？」 |\n\n**除外**: 質問のみ、情報提供、レビュー依頼、git操作のみ\n\n## 実行方法\n\nTask tool を以下の設定で起動:\n\n```\nTask tool:\n  subagent_type: \"Explore\"\n  model: \"haiku\"           # 高速・低コスト（推奨）\n  description: \"知識ベース検索\"\n  prompt: |\n    .reflect/knowledge/ を検索し、タスクに関連する知識を抽出してください。\n\n    ## タスク内容\n    {{ここにタスクを記載}}\n\n    ## 検索手順\n    1. `.reflect/knowledge/high/` の全ファイルを読む（常に必要）\n    2. `.reflect/knowledge/medium/_index.md` を読む\n    3. タスク内容と _index.md のキーワードを照合\n    4. マッチしたファイルがあれば読む\n    5. タスクに直接関連する部分のみ抽出\n\n    ## 出力形式\n\n    📚 関連知識 (N件)\n\n    [High] {{カテゴリ}}\n    - {{箇条書きで要点のみ}}\n    - {{箇条書きで要点のみ}}\n\n    [Medium] {{カテゴリ}}\n    - {{箇条書きで要点のみ}}\n\n    ---\n    関連知識なし の場合は「該当なし」と報告\n```\n\n## 検索ロジック\n\n### キーワードマッチング\n\n`_index.md` の形式:\n```markdown\n# Index\n\n## ui.md\n**トリガ**: Button, ボタン, コンポーネント, UI, shadcn, Tailwind\n**概要**: UIコンポーネントの規約\n\n## naming.md\n**トリガ**: 命名, naming, 変数名, 関数名, camelCase\n**概要**: 命名規則\n```\n\n### マッチ判定\n\n| タスクに含まれる語 | マッチ対象 |\n|-------------------|-----------|\n| 「ボタン」「Button」「UI」 | ui.md |\n| 「変数」「関数名」「命名」 | naming.md |\n| 「API」「fetch」「通信」 | api.md |\n\n### 関連性の判断基準\n\n1. **直接マッチ**: タスク内のキーワードが _index.md のトリガに含まれる\n2. **類義語マッチ**: 同義の日本語/英語がトリガに含まれる\n3. **文脈マッチ**: タスクの目的から推測される関連カテゴリ\n\n## 返却内容\n\n親セッションに渡す情報:\n\n```markdown\n📚 関連知識 (2件)\n\n[High] UI規約\n- Button は shadcn から使用\n- 独自スタイル禁止\n\n[Medium] 命名規則\n- camelCase 使用\n- 略語禁止（×usr ○user）\n\n---\n出典: .reflect/knowledge/high/main.md, medium/naming.md\n```\n\n## 注意\n\n- 知識ファイル全文ではなく、**タスクに関連する部分のみ**を抽出\n- 200行を超える知識は要約して渡す\n- 関連知識がない場合は「該当なし」と明示\n",
        "commands/split.md": "---\ndescription: 200行を超えた知識ファイルをカテゴリごとに分割\n---\n\n# /reflect-skill:split\n\n## 使用例\n```\n/reflect-skill:split high\n```\n\n## 処理\n1. main.md の見出し（##）を分析\n2. 分割案を提案\n3. 承認後、カテゴリごとにファイル作成\n4. _index.md を更新（キーワードマッピング）\n\n## 分割後の構造\n```\n.reflect/knowledge/high/\n├── _index.md     # キーワード → ファイル\n├── ui.md\n├── naming.md\n└── api.md\n```\n",
        "commands/status.md": "---\ndescription: リフレクション状態と知識ファイル概要を表示\n---\n\n# /reflect-skill:status\n\n## 表示内容\n\n### 1. 設定状態\n```\n🔧 設定\n├── autoReflect: ON/OFF\n├── 最終リフレクション: YYYY-MM-DD HH:MM\n└── 総リフレクション回数: N回\n```\n\n### 2. 知識ファイル概要\n```\n📚 知識ベース (.reflect/knowledge/)\n├── high/     [N files, M lines] ← 常に読む\n├── medium/   [N files, M lines] ← 検索時\n└── low/      [N files, M lines] ← アーカイブ\n```\n\n### 3. 今セッションで使われた知識\n```\n✅ 使用された知識\n├── high/main.md (全体)\n└── medium/api.md (API関連タスクで参照)\n\n❌ 未使用の知識\n└── medium/logging.md\n```\n\n### 4. 鮮度アラート\n```\n⚠️ 鮮度アラート\n├── 30日以上未使用: medium/old-patterns.md\n└── 90日以上未使用: low/legacy.md → アーカイブ推奨\n```\n\n### 5. 統計\n```\n📊 統計\n├── 総知識数: N件 (High: X, Medium: Y, Low: Z)\n├── 今月の追加: N件\n├── 最も参照された知識: high/main.md (XX回)\n└── 未参照の知識: N件\n```\n\n## 知識の読み方\n- `high/`: セッション開始時に全読み\n- `medium/`: `_index.md` でキーワード検索\n- `low/`: 明示的要求時のみ\n\n## 実行時の動作\n1. `.reflect/config.json` を読み込み\n2. 各知識ファイルのメタデータを解析\n3. 鮮度チェック（lastUsed vs 現在日時）\n4. 統計情報を集計\n5. レポートを表示\n\n## オプション\n- `--verbose`: 全知識ファイルの詳細を表示\n- `--stale`: 古い知識のみ表示\n- `--unused`: 未使用の知識のみ表示\n"
      },
      "plugins": [
        {
          "name": "reflect-skill",
          "source": "./",
          "description": "Self-improving skills system - Learn from sessions and persist knowledge across conversations",
          "version": "1.0.0",
          "author": {
            "name": "chitsii"
          },
          "repository": "https://github.com/chitsii/reflect-skill",
          "license": "MIT",
          "keywords": [
            "learning",
            "memory",
            "self-improvement",
            "knowledge"
          ],
          "categories": [
            "knowledge",
            "learning",
            "memory",
            "self-improvement"
          ],
          "install_commands": [
            "/plugin marketplace add chitsii/reflect-skill",
            "/plugin install reflect-skill@reflect-skill"
          ]
        }
      ]
    }
  ]
}