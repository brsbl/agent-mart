{
  "author": {
    "id": "expo",
    "display_name": "Expo",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/12504344?v=4",
    "url": "https://github.com/expo",
    "bio": "Expo is a free and open-source platform for making universal native apps with React that run on Android, iOS, and the web.",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 3,
      "total_commands": 0,
      "total_skills": 9,
      "total_stars": 789,
      "total_forks": 31
    }
  },
  "marketplaces": [
    {
      "name": "expo-plugins",
      "version": null,
      "description": "Expo's official plugins for Claude Code",
      "owner_info": {
        "name": "Evan Bacon",
        "email": "bacon@expo.io"
      },
      "keywords": [],
      "repo_full_name": "expo/skills",
      "repo_url": "https://github.com/expo/skills",
      "repo_description": "A collection of AI agent skills for working with Expo projects and Expo Application Services",
      "homepage": null,
      "signals": {
        "stars": 789,
        "forks": 31,
        "pushed_at": "2026-01-28T15:16:05Z",
        "created_at": "2025-11-30T03:57:18Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 750
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 190
        },
        {
          "path": "plugins/expo-app-design/README.md",
          "type": "blob",
          "size": 1273
        },
        {
          "path": "plugins/expo-app-design/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/SKILL.md",
          "type": "blob",
          "size": 10399
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/animations.md",
          "type": "blob",
          "size": 4747
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/controls.md",
          "type": "blob",
          "size": 5055
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/form-sheet.md",
          "type": "blob",
          "size": 5573
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/gradients.md",
          "type": "blob",
          "size": 2717
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/icons.md",
          "type": "blob",
          "size": 4771
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/media.md",
          "type": "blob",
          "size": 6196
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/route-structure.md",
          "type": "blob",
          "size": 5106
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/search.md",
          "type": "blob",
          "size": 5193
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/storage.md",
          "type": "blob",
          "size": 2935
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/tabs.md",
          "type": "blob",
          "size": 7981
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/toolbar-and-headers.md",
          "type": "blob",
          "size": 8061
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/visual-effects.md",
          "type": "blob",
          "size": 4335
        },
        {
          "path": "plugins/expo-app-design/skills/building-native-ui/references/webgpu-three.md",
          "type": "blob",
          "size": 14466
        },
        {
          "path": "plugins/expo-app-design/skills/expo-api-routes",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/expo-api-routes/SKILL.md",
          "type": "blob",
          "size": 8704
        },
        {
          "path": "plugins/expo-app-design/skills/expo-dev-client",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/expo-dev-client/SKILL.md",
          "type": "blob",
          "size": 3515
        },
        {
          "path": "plugins/expo-app-design/skills/expo-tailwind-setup",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/expo-tailwind-setup/SKILL.md",
          "type": "blob",
          "size": 11914
        },
        {
          "path": "plugins/expo-app-design/skills/native-data-fetching",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/native-data-fetching/SKILL.md",
          "type": "blob",
          "size": 11091
        },
        {
          "path": "plugins/expo-app-design/skills/use-dom",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-app-design/skills/use-dom/SKILL.md",
          "type": "blob",
          "size": 9707
        },
        {
          "path": "plugins/expo-deployment",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-deployment/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-deployment/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 237
        },
        {
          "path": "plugins/expo-deployment/README.md",
          "type": "blob",
          "size": 817
        },
        {
          "path": "plugins/expo-deployment/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-deployment/skills/expo-cicd-workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-deployment/skills/expo-cicd-workflows/SKILL.md",
          "type": "blob",
          "size": 3508
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment/SKILL.md",
          "type": "blob",
          "size": 3726
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment/references/app-store-metadata.md",
          "type": "blob",
          "size": 13278
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment/references/ios-app-store.md",
          "type": "blob",
          "size": 7080
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment/references/play-store.md",
          "type": "blob",
          "size": 5264
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment/references/testflight.md",
          "type": "blob",
          "size": 1602
        },
        {
          "path": "plugins/expo-deployment/skills/expo-deployment/references/workflows.md",
          "type": "blob",
          "size": 3068
        },
        {
          "path": "plugins/upgrading-expo",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/upgrading-expo/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/upgrading-expo/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 219
        },
        {
          "path": "plugins/upgrading-expo/README.md",
          "type": "blob",
          "size": 687
        },
        {
          "path": "plugins/upgrading-expo/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/SKILL.md",
          "type": "blob",
          "size": 4936
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/references/expo-av-to-audio.md",
          "type": "blob",
          "size": 3683
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/references/expo-av-to-video.md",
          "type": "blob",
          "size": 4262
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/references/native-tabs.md",
          "type": "blob",
          "size": 3499
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/references/new-architecture.md",
          "type": "blob",
          "size": 2177
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/references/react-19.md",
          "type": "blob",
          "size": 1875
        },
        {
          "path": "plugins/upgrading-expo/skills/upgrading-expo/references/react-compiler.md",
          "type": "blob",
          "size": 1645
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"expo-plugins\",\n  \"owner\": {\n    \"name\": \"Evan Bacon\",\n    \"email\": \"bacon@expo.io\"\n  },\n  \"metadata\": {\n    \"description\": \"Expo's official plugins for Claude Code\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"expo-app-design\",\n      \"source\": \"./plugins/expo-app-design\",\n      \"description\": \"Build robust, productivity apps with Expo.\"\n    },\n    {\n      \"name\": \"upgrading-expo\",\n      \"source\": \"./plugins/upgrading-expo\",\n      \"description\": \"Guidelines for upgrading Expo SDK versions and fixing dependency issues.\"\n    },\n    {\n      \"name\": \"expo-deployment\",\n      \"source\": \"./plugins/expo-deployment\",\n      \"description\": \"Deploying Expo apps to iOS App Store, Android Play Store, web hosting, and CI/CD workflows.\"\n    }\n  ]\n}",
        "plugins/expo-app-design/.claude-plugin/plugin.json": "{\n  \"name\": \"expo-app-design\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Build robust, productivity apps with Expo\",\n  \"author\": {\n    \"name\": \"Evan Bacon\",\n    \"email\": \"bacon@expo.io\"\n  }\n}\n",
        "plugins/expo-app-design/README.md": "# Expo App Design Plugin\n\nBuild robust, productivity apps with Expo. Domain-specific knowledge for building mobile applications using Expo and React Native.\n\n## What This Plugin Does\n\n- Provides UI guidelines following Apple Human Interface Guidelines\n- Covers Expo Router navigation patterns (stacks, tabs, modals, sheets)\n- Explains native iOS controls, SF Symbols, animations, and visual effects\n- Guides API route creation with EAS Hosting\n- Covers data fetching patterns with React Query and offline support\n- Helps set up Tailwind CSS v4 with NativeWind v5\n- Explains DOM components for running web code in native apps\n\n## When to Use\n\n- Building new Expo apps from scratch\n- Adding navigation, styling, or animations\n- Setting up API routes or data fetching\n- Integrating web libraries via DOM components\n- Configuring Tailwind CSS for React Native\n\n## Skills Included\n\n- **building-ui** - UI components, navigation, styling, and native controls\n- **api-routes** - Server-side API routes with EAS Hosting\n- **data-fetching** - Network requests, caching, and offline support\n- **dev-client** - Development builds and TestFlight distribution\n- **tailwind-setup** - Tailwind CSS v4 configuration\n- **use-dom** - Web code integration via DOM components\n\n## License\n\nMIT\n",
        "plugins/expo-app-design/skills/building-native-ui/SKILL.md": "---\nname: building-native-ui\ndescription: Complete guide for building beautiful apps with Expo Router. Covers fundamentals, styling, components, navigation, animations, patterns, and native tabs.\nversion: 1.0.0\nlicense: MIT\n---\n\n# Expo UI Guidelines\n\n## References\n\nConsult these resources as needed:\n\n- ./references/route-structure.md -- Route file conventions, dynamic routes, query parameters, groups, and folder organization\n- ./references/tabs.md -- Native tab bar with NativeTabs, migration from JS tabs, iOS 26 features\n- ./references/icons.md -- SF Symbols with expo-symbols, common icon names, animations, and weights\n- ./references/controls.md -- Native iOS controls: Switch, Slider, SegmentedControl, DateTimePicker, Picker\n- ./references/visual-effects.md -- Blur effects with expo-blur and liquid glass with expo-glass-effect\n- ./references/animations.md -- Reanimated animations: entering, exiting, layout, scroll-driven, and gestures\n- ./references/search.md -- Search bar integration with headers, useSearch hook, and filtering patterns\n- ./references/gradients.md -- CSS gradients using experimental_backgroundImage (New Architecture only)\n- ./references/media.md -- Media handling for Expo Router including camera, audio, video, and file saving\n- ./references/storage.md -- Data storage patterns including SQLite, AsyncStorage, and SecureStore\n- ./references/webgpu-three.md -- 3D graphics, games, and GPU-powered visualizations with WebGPU and Three.js\n- ./references/toolbars-and-headers.md -- Customizing stack headers and toolbar with buttons, menus, and search bars in expo-router app. Available only on iOS.\n\n## Running the App\n\n**CRITICAL: Always try Expo Go first before creating custom builds.**\n\nMost Expo apps work in Expo Go without any custom native code. Before running `npx expo run:ios` or `npx expo run:android`:\n\n1. **Start with Expo Go**: Run `npx expo start` and scan the QR code with Expo Go\n2. **Check if features work**: Test your app thoroughly in Expo Go\n3. **Only create custom builds when required** - see below\n\n### When Custom Builds Are Required\n\nYou need `npx expo run:ios/android` or `eas build` ONLY when using:\n\n- **Local Expo modules** (custom native code in `modules/`)\n- **Apple targets** (widgets, app clips, extensions via `@bacons/apple-targets`)\n- **Third-party native modules** not included in Expo Go\n- **Custom native configuration** that can't be expressed in `app.json`\n\n### When Expo Go Works\n\nExpo Go supports a huge range of features out of the box:\n\n- All `expo-*` packages (camera, location, notifications, etc.)\n- Expo Router navigation\n- Most UI libraries (reanimated, gesture handler, etc.)\n- Push notifications, deep links, and more\n\n**If you're unsure, try Expo Go first.** Creating custom builds adds complexity, slower iteration, and requires Xcode/Android Studio setup.\n\n## Code Style\n\n- Be cautious of unterminated strings. Ensure nested backticks are escaped; never forget to escape quotes correctly.\n- Always use import statements at the top of the file.\n- Always use kebab-case for file names, e.g. `comment-card.tsx`\n- Always remove old route files when moving or restructuring navigation\n- Never use special characters in file names\n- Configure tsconfig.json with path aliases, and prefer aliases over relative imports for refactors.\n\n## Routes\n\nSee `./references/route-structure.md` for detailed route conventions.\n\n- Routes belong in the `app` directory.\n- Never co-locate components, types, or utilities in the app directory. This is an anti-pattern.\n- Ensure the app always has a route that matches \"/\", it may be inside a group route.\n\n## Library Preferences\n\n- Never use modules removed from React Native such as Picker, WebView, SafeAreaView, or AsyncStorage\n- Never use legacy expo-permissions\n- `expo-audio` not `expo-av`\n- `expo-video` not `expo-av`\n- `expo-symbols` not `@expo/vector-icons`\n- `react-native-safe-area-context` not react-native SafeAreaView\n- `process.env.EXPO_OS` not `Platform.OS`\n- `React.use` not `React.useContext`\n- `expo-image` Image component instead of intrinsic element `img`\n- `expo-glass-effect` for liquid glass backdrops\n\n## Responsiveness\n\n- Always wrap root component in a scroll view for responsiveness\n- Use `<ScrollView contentInsetAdjustmentBehavior=\"automatic\" />` instead of `<SafeAreaView>` for smarter safe area insets\n- `contentInsetAdjustmentBehavior=\"automatic\"` should be applied to FlatList and SectionList as well\n- Use flexbox instead of Dimensions API\n- ALWAYS prefer `useWindowDimensions` over `Dimensions.get()` to measure screen size\n\n## Behavior\n\n- Use expo-haptics conditionally on iOS to make more delightful experiences\n- Use views with built-in haptics like `<Switch />` from React Native and `@react-native-community/datetimepicker`\n- When a route belongs to a Stack, its first child should almost always be a ScrollView with `contentInsetAdjustmentBehavior=\"automatic\"` set\n- Prefer `headerSearchBarOptions` in Stack.Screen options to add a search bar\n- Use the `<Text selectable />` prop on text containing data that could be copied\n- Consider formatting large numbers like 1.4M or 38k\n- Never use intrinsic elements like 'img' or 'div' unless in a webview or Expo DOM component\n\n# Styling\n\nFollow Apple Human Interface Guidelines.\n\n## General Styling Rules\n\n- Prefer flex gap over margin and padding styles\n- Prefer padding over margin where possible\n- Always account for safe area, either with stack headers, tabs, or ScrollView/FlatList `contentInsetAdjustmentBehavior=\"automatic\"`\n- Ensure both top and bottom safe area insets are accounted for\n- Inline styles not StyleSheet.create unless reusing styles is faster\n- Add entering and exiting animations for state changes\n- Use `{ borderCurve: 'continuous' }` for rounded corners unless creating a capsule shape\n- ALWAYS use a navigation stack title instead of a custom text element on the page\n- When padding a ScrollView, use `contentContainerStyle` padding and gap instead of padding on the ScrollView itself (reduces clipping)\n- CSS and Tailwind are not supported - use inline styles\n\n## Text Styling\n\n- Add the `selectable` prop to every `<Text/>` element displaying important data or error messages\n- Counters should use `{ fontVariant: 'tabular-nums' }` for alignment\n\n## Shadows\n\nUse CSS `boxShadow` style prop. NEVER use legacy React Native shadow or elevation styles.\n\n```tsx\n<View style={{ boxShadow: \"0 1px 2px rgba(0, 0, 0, 0.05)\" }} />\n```\n\n'inset' shadows are supported.\n\n# Navigation\n\n## Link\n\nUse `<Link href=\"/path\" />` from 'expo-router' for navigation between routes.\n\n```tsx\nimport { Link } from 'expo-router';\n\n// Basic link\n<Link href=\"/path\" />\n\n// Wrapping custom components\n<Link href=\"/path\" asChild>\n  <Pressable>...</Pressable>\n</Link>\n```\n\nWhenever possible, include a `<Link.Preview>` to follow iOS conventions. Add context menus and previews frequently to enhance navigation.\n\n## Stack\n\n- ALWAYS use `_layout.tsx` files to define stacks\n- Use Stack from 'expo-router/stack' for native navigation stacks\n\n### Page Title\n\nSet the page title in Stack.Screen options:\n\n```tsx\n<Stack.Screen options={{ title: \"Home\" }} />\n```\n\n## Context Menus\n\nAdd long press context menus to Link components:\n\n```tsx\nimport { Link } from \"expo-router\";\n\n<Link href=\"/settings\" asChild>\n  <Link.Trigger>\n    <Pressable>\n      <Card />\n    </Pressable>\n  </Link.Trigger>\n  <Link.Menu>\n    <Link.MenuAction\n      title=\"Share\"\n      icon=\"square.and.arrow.up\"\n      onPress={handleSharePress}\n    />\n    <Link.MenuAction\n      title=\"Block\"\n      icon=\"nosign\"\n      destructive\n      onPress={handleBlockPress}\n    />\n    <Link.Menu title=\"More\" icon=\"ellipsis\">\n      <Link.MenuAction title=\"Copy\" icon=\"doc.on.doc\" onPress={() => {}} />\n      <Link.MenuAction\n        title=\"Delete\"\n        icon=\"trash\"\n        destructive\n        onPress={() => {}}\n      />\n    </Link.Menu>\n  </Link.Menu>\n</Link>;\n```\n\n## Link Previews\n\nUse link previews frequently to enhance navigation:\n\n```tsx\n<Link href=\"/settings\">\n  <Link.Trigger>\n    <Pressable>\n      <Card />\n    </Pressable>\n  </Link.Trigger>\n  <Link.Preview />\n</Link>\n```\n\nLink preview can be used with context menus.\n\n## Modal\n\nPresent a screen as a modal:\n\n```tsx\n<Stack.Screen name=\"modal\" options={{ presentation: \"modal\" }} />\n```\n\nPrefer this to building a custom modal component.\n\n## Sheet\n\nPresent a screen as a dynamic form sheet:\n\n```tsx\n<Stack.Screen\n  name=\"sheet\"\n  options={{\n    presentation: \"formSheet\",\n    sheetGrabberVisible: true,\n    sheetAllowedDetents: [0.5, 1.0],\n    contentStyle: { backgroundColor: \"transparent\" },\n  }}\n/>\n```\n\n- Using `contentStyle: { backgroundColor: \"transparent\" }` makes the background liquid glass on iOS 26+.\n\n## Common route structure\n\nA standard app layout with tabs and stacks inside each tab:\n\n```\napp/\n  _layout.tsx — <NativeTabs />\n  (index,search)/\n    _layout.tsx — <Stack />\n    index.tsx — Main list\n    search.tsx — Search view\n```\n\n```tsx\n// app/_layout.tsx\nimport { NativeTabs, Icon, Label } from \"expo-router/unstable-native-tabs\";\nimport { Theme } from \"../components/theme\";\n\nexport default function Layout() {\n  return (\n    <Theme>\n      <NativeTabs>\n        <NativeTabs.Trigger name=\"(index)\">\n          <Icon sf=\"list.dash\" />\n          <Label>Items</Label>\n        </NativeTabs.Trigger>\n        <NativeTabs.Trigger name=\"(search)\" role=\"search\" />\n      </NativeTabs>\n    </Theme>\n  );\n}\n```\n\nCreate a shared group route so both tabs can push common screens:\n\n```tsx\n// app/(index,search)/_layout.tsx\nimport { Stack } from \"expo-router/stack\";\nimport { PlatformColor } from \"react-native\";\n\nexport default function Layout({ segment }) {\n  const screen = segment.match(/\\((.*)\\)/)?.[1]!;\n  const titles: Record<string, string> = { index: \"Items\", search: \"Search\" };\n\n  return (\n    <Stack\n      screenOptions={{\n        headerTransparent: true,\n        headerShadowVisible: false,\n        headerLargeTitleShadowVisible: false,\n        headerLargeStyle: { backgroundColor: \"transparent\" },\n        headerTitleStyle: { color: PlatformColor(\"label\") },\n        headerLargeTitle: true,\n        headerBlurEffect: \"none\",\n        headerBackButtonDisplayMode: \"minimal\",\n      }}\n    >\n      <Stack.Screen name={screen} options={{ title: titles[screen] }} />\n      <Stack.Screen name=\"i/[id]\" options={{ headerLargeTitle: false }} />\n    </Stack>\n  );\n}\n```\n",
        "plugins/expo-app-design/skills/building-native-ui/references/animations.md": "# Animations\n\nUse Reanimated v4. Avoid React Native's built-in Animated API.\n\n## Entering and Exiting Animations\n\nUse Animated.View with entering and exiting animations. Layout animations can animate state changes.\n\n```tsx\nimport Animated, {\n  FadeIn,\n  FadeOut,\n  LinearTransition,\n} from \"react-native-reanimated\";\n\nfunction App() {\n  return (\n    <Animated.View\n      entering={FadeIn}\n      exiting={FadeOut}\n      layout={LinearTransition}\n    />\n  );\n}\n```\n\n## On-Scroll Animations\n\nCreate high-performance scroll animations using Reanimated's hooks:\n\n```tsx\nimport Animated, {\n  useAnimatedRef,\n  useScrollViewOffset,\n  useAnimatedStyle,\n  interpolate,\n} from \"react-native-reanimated\";\n\nfunction Page() {\n  const ref = useAnimatedRef();\n  const scroll = useScrollViewOffset(ref);\n\n  const style = useAnimatedStyle(() => ({\n    opacity: interpolate(scroll.value, [0, 30], [0, 1], \"clamp\"),\n  }));\n\n  return (\n    <Animated.ScrollView ref={ref}>\n      <Animated.View style={style} />\n    </Animated.ScrollView>\n  );\n}\n```\n\n## Common Animation Presets\n\n### Entering Animations\n\n- `FadeIn`, `FadeInUp`, `FadeInDown`, `FadeInLeft`, `FadeInRight`\n- `SlideInUp`, `SlideInDown`, `SlideInLeft`, `SlideInRight`\n- `ZoomIn`, `ZoomInUp`, `ZoomInDown`\n- `BounceIn`, `BounceInUp`, `BounceInDown`\n\n### Exiting Animations\n\n- `FadeOut`, `FadeOutUp`, `FadeOutDown`, `FadeOutLeft`, `FadeOutRight`\n- `SlideOutUp`, `SlideOutDown`, `SlideOutLeft`, `SlideOutRight`\n- `ZoomOut`, `ZoomOutUp`, `ZoomOutDown`\n- `BounceOut`, `BounceOutUp`, `BounceOutDown`\n\n### Layout Animations\n\n- `LinearTransition` — Smooth linear interpolation\n- `SequencedTransition` — Sequenced property changes\n- `FadingTransition` — Fade between states\n\n## Customizing Animations\n\n```tsx\n<Animated.View\n  entering={FadeInDown.duration(500).delay(200)}\n  exiting={FadeOut.duration(300)}\n/>\n```\n\n### Modifiers\n\n```tsx\n// Duration in milliseconds\nFadeIn.duration(300);\n\n// Delay before starting\nFadeIn.delay(100);\n\n// Spring physics\nFadeIn.springify();\nFadeIn.springify().damping(15).stiffness(100);\n\n// Easing curves\nFadeIn.easing(Easing.bezier(0.25, 0.1, 0.25, 1));\n\n// Chaining\nFadeInDown.duration(400).delay(200).springify();\n```\n\n## Shared Value Animations\n\nFor imperative control over animations:\n\n```tsx\nimport {\n  useSharedValue,\n  withSpring,\n  withTiming,\n} from \"react-native-reanimated\";\n\nconst offset = useSharedValue(0);\n\n// Spring animation\noffset.value = withSpring(100);\n\n// Timing animation\noffset.value = withTiming(100, { duration: 300 });\n\n// Use in styles\nconst style = useAnimatedStyle(() => ({\n  transform: [{ translateX: offset.value }],\n}));\n```\n\n## Gesture Animations\n\nCombine with React Native Gesture Handler:\n\n```tsx\nimport { Gesture, GestureDetector } from \"react-native-gesture-handler\";\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withSpring,\n} from \"react-native-reanimated\";\n\nfunction DraggableBox() {\n  const translateX = useSharedValue(0);\n  const translateY = useSharedValue(0);\n\n  const gesture = Gesture.Pan()\n    .onUpdate((e) => {\n      translateX.value = e.translationX;\n      translateY.value = e.translationY;\n    })\n    .onEnd(() => {\n      translateX.value = withSpring(0);\n      translateY.value = withSpring(0);\n    });\n\n  const style = useAnimatedStyle(() => ({\n    transform: [\n      { translateX: translateX.value },\n      { translateY: translateY.value },\n    ],\n  }));\n\n  return (\n    <GestureDetector gesture={gesture}>\n      <Animated.View style={[styles.box, style]} />\n    </GestureDetector>\n  );\n}\n```\n\n## Keyboard Animations\n\nAnimate with keyboard height changes:\n\n```tsx\nimport Animated, {\n  useAnimatedKeyboard,\n  useAnimatedStyle,\n} from \"react-native-reanimated\";\n\nfunction KeyboardAwareView() {\n  const keyboard = useAnimatedKeyboard();\n\n  const style = useAnimatedStyle(() => ({\n    paddingBottom: keyboard.height.value,\n  }));\n\n  return <Animated.View style={style}>{/* content */}</Animated.View>;\n}\n```\n\n## Staggered List Animations\n\nAnimate list items with delays:\n\n```tsx\n{\n  items.map((item, index) => (\n    <Animated.View\n      key={item.id}\n      entering={FadeInUp.delay(index * 50)}\n      exiting={FadeOutUp}\n    >\n      <ListItem item={item} />\n    </Animated.View>\n  ));\n}\n```\n\n## Best Practices\n\n- Add entering and exiting animations for state changes\n- Use layout animations when items are added/removed from lists\n- Use `useAnimatedStyle` for scroll-driven animations\n- Prefer `interpolate` with \"clamp\" for bounded values\n- You can't pass PlatformColors to reanimated views or styles; use static colors instead\n- Keep animations under 300ms for responsive feel\n- Use spring animations for natural movement\n- Avoid animating layout properties (width, height) when possible — prefer transforms\n",
        "plugins/expo-app-design/skills/building-native-ui/references/controls.md": "# Native Controls\n\nNative iOS controls provide built-in haptics, accessibility, and platform-appropriate styling.\n\n## Switch\n\nUse for binary on/off settings. Has built-in haptics.\n\n```tsx\nimport { Switch } from \"react-native\";\nimport { useState } from \"react\";\n\nconst [enabled, setEnabled] = useState(false);\n\n<Switch value={enabled} onValueChange={setEnabled} />;\n```\n\n### Customization\n\n```tsx\n<Switch\n  value={enabled}\n  onValueChange={setEnabled}\n  trackColor={{ false: \"#767577\", true: \"#81b0ff\" }}\n  thumbColor={enabled ? \"#f5dd4b\" : \"#f4f3f4\"}\n  ios_backgroundColor=\"#3e3e3e\"\n/>\n```\n\n## Segmented Control\n\nUse for non-navigational tabs or mode selection. Avoid changing default colors.\n\n```tsx\nimport SegmentedControl from \"@react-native-segmented-control/segmented-control\";\nimport { useState } from \"react\";\n\nconst [index, setIndex] = useState(0);\n\n<SegmentedControl\n  values={[\"All\", \"Active\", \"Done\"]}\n  selectedIndex={index}\n  onChange={({ nativeEvent }) => setIndex(nativeEvent.selectedSegmentIndex)}\n/>;\n```\n\n### Rules\n\n- Maximum 4 options — use a picker for more\n- Keep labels short (1-2 words)\n- Avoid custom colors — native styling adapts to dark mode\n\n### With Icons (iOS 14+)\n\n```tsx\n<SegmentedControl\n  values={[\n    { label: \"List\", icon: \"list.bullet\" },\n    { label: \"Grid\", icon: \"square.grid.2x2\" },\n  ]}\n  selectedIndex={index}\n  onChange={({ nativeEvent }) => setIndex(nativeEvent.selectedSegmentIndex)}\n/>\n```\n\n## Slider\n\nContinuous value selection.\n\n```tsx\nimport Slider from \"@react-native-community/slider\";\nimport { useState } from \"react\";\n\nconst [value, setValue] = useState(0.5);\n\n<Slider\n  value={value}\n  onValueChange={setValue}\n  minimumValue={0}\n  maximumValue={1}\n/>;\n```\n\n### Customization\n\n```tsx\n<Slider\n  value={value}\n  onValueChange={setValue}\n  minimumValue={0}\n  maximumValue={100}\n  step={1}\n  minimumTrackTintColor=\"#007AFF\"\n  maximumTrackTintColor=\"#E5E5EA\"\n  thumbTintColor=\"#007AFF\"\n/>\n```\n\n### Discrete Steps\n\n```tsx\n<Slider\n  value={value}\n  onValueChange={setValue}\n  minimumValue={0}\n  maximumValue={10}\n  step={1}\n/>\n```\n\n## Date/Time Picker\n\nCompact pickers with popovers. Has built-in haptics.\n\n```tsx\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\nimport { useState } from \"react\";\n\nconst [date, setDate] = useState(new Date());\n\n<DateTimePicker\n  value={date}\n  onChange={(event, selectedDate) => {\n    if (selectedDate) setDate(selectedDate);\n  }}\n  mode=\"datetime\"\n/>;\n```\n\n### Modes\n\n- `date` — Date only\n- `time` — Time only\n- `datetime` — Date and time\n\n### Display Styles\n\n```tsx\n// Compact inline (default)\n<DateTimePicker value={date} mode=\"date\" />\n\n// Spinner wheel\n<DateTimePicker\n  value={date}\n  mode=\"date\"\n  display=\"spinner\"\n  style={{ width: 200, height: 150 }}\n/>\n\n// Full calendar\n<DateTimePicker value={date} mode=\"date\" display=\"inline\" />\n```\n\n### Time Intervals\n\n```tsx\n<DateTimePicker\n  value={date}\n  mode=\"time\"\n  minuteInterval={15}\n/>\n```\n\n### Min/Max Dates\n\n```tsx\n<DateTimePicker\n  value={date}\n  mode=\"date\"\n  minimumDate={new Date(2020, 0, 1)}\n  maximumDate={new Date(2030, 11, 31)}\n/>\n```\n\n## Stepper\n\nIncrement/decrement numeric values.\n\n```tsx\nimport { Stepper } from \"react-native\";\nimport { useState } from \"react\";\n\nconst [count, setCount] = useState(0);\n\n<Stepper\n  value={count}\n  onValueChange={setCount}\n  minimumValue={0}\n  maximumValue={10}\n/>;\n```\n\n## TextInput\n\nNative text input with various keyboard types.\n\n```tsx\nimport { TextInput } from \"react-native\";\n\n<TextInput\n  placeholder=\"Enter text...\"\n  placeholderTextColor=\"#999\"\n  style={{\n    padding: 12,\n    fontSize: 16,\n    borderRadius: 8,\n    backgroundColor: \"#f0f0f0\",\n  }}\n/>\n```\n\n### Keyboard Types\n\n```tsx\n// Email\n<TextInput keyboardType=\"email-address\" autoCapitalize=\"none\" />\n\n// Phone\n<TextInput keyboardType=\"phone-pad\" />\n\n// Number\n<TextInput keyboardType=\"numeric\" />\n\n// Password\n<TextInput secureTextEntry />\n\n// Search\n<TextInput\n  returnKeyType=\"search\"\n  enablesReturnKeyAutomatically\n/>\n```\n\n### Multiline\n\n```tsx\n<TextInput\n  multiline\n  numberOfLines={4}\n  textAlignVertical=\"top\"\n  style={{ minHeight: 100 }}\n/>\n```\n\n## Picker (Wheel)\n\nFor selection from many options (5+ items).\n\n```tsx\nimport { Picker } from \"@react-native-picker/picker\";\nimport { useState } from \"react\";\n\nconst [selected, setSelected] = useState(\"js\");\n\n<Picker selectedValue={selected} onValueChange={setSelected}>\n  <Picker.Item label=\"JavaScript\" value=\"js\" />\n  <Picker.Item label=\"TypeScript\" value=\"ts\" />\n  <Picker.Item label=\"Python\" value=\"py\" />\n  <Picker.Item label=\"Go\" value=\"go\" />\n</Picker>;\n```\n\n## Best Practices\n\n- **Haptics**: Switch and DateTimePicker have built-in haptics — don't add extra\n- **Accessibility**: Native controls have proper accessibility labels by default\n- **Dark Mode**: Avoid custom colors — native styling adapts automatically\n- **Spacing**: Use consistent padding around controls (12-16pt)\n- **Labels**: Place labels above or to the left of controls\n- **Grouping**: Group related controls in sections with headers\n",
        "plugins/expo-app-design/skills/building-native-ui/references/form-sheet.md": "# Form Sheets in Expo Router\n\nThis skill covers implementing form sheets with footers using Expo Router's Stack navigator and react-native-screens.\n\n## Overview\n\nForm sheets are modal presentations that appear as a card sliding up from the bottom of the screen. They're ideal for:\n\n- Quick actions and confirmations\n- Settings panels\n- Login/signup flows\n- Action sheets with custom content\n\n**Requirements:**\n\n- Expo Router Stack navigator\n\n## Basic Usage\n\n### Form Sheet with Footer\n\nConfigure the Stack.Screen with transparent backgrounds and sheet presentation:\n\n```tsx\n// app/_layout.tsx\nimport { Stack } from \"expo-router\";\n\nexport default function Layout() {\n  return (\n    <Stack>\n      <Stack.Screen name=\"index\" />\n      <Stack.Screen\n        name=\"about\"\n        options={{\n          presentation: \"formSheet\",\n          sheetAllowedDetents: [0.25],\n          headerTransparent: true,\n          contentStyle: { backgroundColor: \"transparent\" },\n          sheetGrabberVisible: true,\n        }}\n      >\n        <Stack.Header style={{ backgroundColor: \"transparent\" }}></Stack.Header>\n      </Stack.Screen>\n    </Stack>\n  );\n}\n```\n\n### Form Sheet Screen Content\n\n> Requires Expo SDK 55 or later.\n\nUse `flex: 1` to allow the content to fill available space, enabling footer positioning:\n\n```tsx\n// app/about.tsx\nimport { View, Text, StyleSheet } from \"react-native\";\n\nexport default function AboutSheet() {\n  return (\n    <View style={styles.container}>\n      {/* Main content */}\n      <View style={styles.content}>\n        <Text>Sheet Content</Text>\n      </View>\n\n      {/* Footer - stays at bottom */}\n      <View style={styles.footer}>\n        <Text>Footer Content</Text>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n    padding: 16,\n  },\n  footer: {\n    padding: 16,\n  },\n});\n```\n\n## Key Options\n\n| Option                | Type       | Description                                                 |\n| --------------------- | ---------- | ----------------------------------------------------------- |\n| `presentation`        | `string`   | Set to `'formSheet'` for sheet presentation                 |\n| `sheetGrabberVisible` | `boolean`  | Shows the drag handle at the top of the sheet               |\n| `sheetAllowedDetents` | `number[]` | Array of detent heights (0-1 range, e.g., `[0.25]` for 25%) |\n| `headerTransparent`   | `boolean`  | Makes header background transparent                         |\n| `contentStyle`        | `object`   | Style object for the screen content container               |\n| `title`               | `string`   | Screen title (set to `''` for no title)                     |\n\n## Common Detent Values\n\n- `[0.25]` - Quarter sheet (compact actions)\n- `[0.5]` - Half sheet (medium content)\n- `[0.75]` - Three-quarter sheet (detailed forms)\n- `[0.25, 0.5, 1]` - Multiple stops (expandable sheet)\n\n## Complete Example\n\n```tsx\n// _layout.tsx\nimport { Stack } from \"expo-router\";\n\nexport default function Layout() {\n  return (\n    <Stack>\n      <Stack.Screen name=\"index\" options={{ title: \"Home\" }} />\n      <Stack.Screen\n        name=\"confirm\"\n        options={{\n          contentStyle: { backgroundColor: \"transparent\" },\n          presentation: \"formSheet\",\n          title: \"\",\n          sheetGrabberVisible: true,\n          sheetAllowedDetents: [0.25],\n          headerTransparent: true,\n        }}\n      >\n        <Stack.Header style={{ backgroundColor: \"transparent\" }}>\n          <Stack.Header.Right />\n        </Stack.Header>\n      </Stack.Screen>\n    </Stack>\n  );\n}\n```\n\n```tsx\n// app/confirm.tsx\nimport { View, Text, Pressable, StyleSheet } from \"react-native\";\nimport { router } from \"expo-router\";\n\nexport default function ConfirmSheet() {\n  return (\n    <View style={styles.container}>\n      <View style={styles.content}>\n        <Text style={styles.title}>Confirm Action</Text>\n        <Text style={styles.description}>\n          Are you sure you want to proceed?\n        </Text>\n      </View>\n\n      <View style={styles.footer}>\n        <Pressable style={styles.cancelButton} onPress={() => router.back()}>\n          <Text style={styles.cancelText}>Cancel</Text>\n        </Pressable>\n        <Pressable style={styles.confirmButton} onPress={() => router.back()}>\n          <Text style={styles.confirmText}>Confirm</Text>\n        </Pressable>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: \"600\",\n    marginBottom: 8,\n  },\n  description: {\n    fontSize: 14,\n    color: \"#666\",\n    textAlign: \"center\",\n  },\n  footer: {\n    flexDirection: \"row\",\n    padding: 16,\n    gap: 12,\n  },\n  cancelButton: {\n    flex: 1,\n    padding: 14,\n    borderRadius: 10,\n    backgroundColor: \"#f0f0f0\",\n    alignItems: \"center\",\n  },\n  cancelText: {\n    fontSize: 16,\n    fontWeight: \"500\",\n  },\n  confirmButton: {\n    flex: 1,\n    padding: 14,\n    borderRadius: 10,\n    backgroundColor: \"#007AFF\",\n    alignItems: \"center\",\n  },\n  confirmText: {\n    fontSize: 16,\n    fontWeight: \"500\",\n    color: \"white\",\n  },\n});\n```\n\n## Troubleshooting\n\n### Content not filling sheet\n\nMake sure the root View uses `flex: 1`:\n\n```tsx\n<View style={{ flex: 1 }}>{/* content */}</View>\n```\n\n### Sheet background showing through\n\nSet `contentStyle: { backgroundColor: 'transparent' }` in options and style your content container with the desired background color instead.\n",
        "plugins/expo-app-design/skills/building-native-ui/references/gradients.md": "# CSS Gradients\n\n> **New Architecture Only**: CSS gradients require React Native's New Architecture (Fabric). They are not available in the old architecture or Expo Go.\n\nUse CSS gradients with the `experimental_backgroundImage` style property.\n\n## Linear Gradients\n\n```tsx\n// Top to bottom\n<View style={{\n  experimental_backgroundImage: 'linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 100%)'\n}} />\n\n// Left to right\n<View style={{\n  experimental_backgroundImage: 'linear-gradient(to right, #ff0000 0%, #0000ff 100%)'\n}} />\n\n// Diagonal\n<View style={{\n  experimental_backgroundImage: 'linear-gradient(45deg, #ff0000 0%, #00ff00 50%, #0000ff 100%)'\n}} />\n\n// Using degrees\n<View style={{\n  experimental_backgroundImage: 'linear-gradient(135deg, transparent 0%, black 100%)'\n}} />\n```\n\n## Radial Gradients\n\n```tsx\n// Circle at center\n<View style={{\n  experimental_backgroundImage: 'radial-gradient(circle at center, rgba(255, 0, 0, 1) 0%, rgba(0, 0, 255, 1) 100%)'\n}} />\n\n// Ellipse\n<View style={{\n  experimental_backgroundImage: 'radial-gradient(ellipse at center, #fff 0%, #000 100%)'\n}} />\n\n// Positioned\n<View style={{\n  experimental_backgroundImage: 'radial-gradient(circle at top left, #ff0000 0%, transparent 70%)'\n}} />\n```\n\n## Multiple Gradients\n\nStack multiple gradients by comma-separating them:\n\n```tsx\n<View style={{\n  experimental_backgroundImage: `\n    linear-gradient(to bottom, transparent 0%, black 100%),\n    radial-gradient(circle at top right, rgba(255, 0, 0, 0.5) 0%, transparent 50%)\n  `\n}} />\n```\n\n## Common Patterns\n\n### Overlay on Image\n\n```tsx\n<View style={{ position: 'relative' }}>\n  <Image source={{ uri: '...' }} style={{ width: '100%', height: 200 }} />\n  <View style={{\n    position: 'absolute',\n    inset: 0,\n    experimental_backgroundImage: 'linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, transparent 50%)'\n  }} />\n</View>\n```\n\n### Frosted Glass Effect\n\n```tsx\n<View style={{\n  experimental_backgroundImage: 'linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)',\n  backdropFilter: 'blur(10px)',\n}} />\n```\n\n### Button Gradient\n\n```tsx\n<Pressable style={{\n  experimental_backgroundImage: 'linear-gradient(to bottom, #4CAF50 0%, #388E3C 100%)',\n  padding: 16,\n  borderRadius: 8,\n}}>\n  <Text style={{ color: 'white', textAlign: 'center' }}>Submit</Text>\n</Pressable>\n```\n\n## Important Notes\n\n- Do NOT use `expo-linear-gradient` — use CSS gradients instead\n- Gradients are strings, not objects\n- Use `rgba()` for transparency, or `transparent` keyword\n- Color stops use percentages (0%, 50%, 100%)\n- Direction keywords: `to top`, `to bottom`, `to left`, `to right`, `to top left`, etc.\n- Degree values: `45deg`, `90deg`, `135deg`, etc.\n",
        "plugins/expo-app-design/skills/building-native-ui/references/icons.md": "# Icons (SF Symbols)\n\nUse SF Symbols for native feel. Never use FontAwesome or Ionicons.\n\n## Basic Usage\n\n```tsx\nimport { SymbolView } from \"expo-symbols\";\nimport { PlatformColor } from \"react-native\";\n\n<SymbolView\n  tintColor={PlatformColor(\"label\")}\n  resizeMode=\"scaleAspectFit\"\n  name=\"square.and.arrow.down\"\n  style={{ width: 16, height: 16 }}\n/>;\n```\n\n## Props\n\n```tsx\n<SymbolView\n  name=\"star.fill\"                    // SF Symbol name (required)\n  tintColor={PlatformColor(\"label\")}  // Icon color\n  size={24}                           // Shorthand for width/height\n  resizeMode=\"scaleAspectFit\"         // How to scale\n  weight=\"regular\"                    // thin | ultraLight | light | regular | medium | semibold | bold | heavy | black\n  scale=\"medium\"                      // small | medium | large\n  style={{ width: 16, height: 16 }}   // Standard style props\n/>\n```\n\n## Common Icons\n\n### Navigation & Actions\n- `house.fill` - home\n- `gear` - settings\n- `magnifyingglass` - search\n- `plus` - add\n- `xmark` - close\n- `chevron.left` - back\n- `chevron.right` - forward\n- `arrow.left` - back arrow\n- `arrow.right` - forward arrow\n\n### Media\n- `play.fill` - play\n- `pause.fill` - pause\n- `stop.fill` - stop\n- `backward.fill` - rewind\n- `forward.fill` - fast forward\n- `speaker.wave.2.fill` - volume\n- `speaker.slash.fill` - mute\n\n### Camera\n- `camera` - camera\n- `camera.fill` - camera filled\n- `arrow.triangle.2.circlepath` - flip camera\n- `photo` - gallery/photos\n- `bolt` - flash\n- `bolt.slash` - flash off\n\n### Communication\n- `message` - message\n- `message.fill` - message filled\n- `envelope` - email\n- `envelope.fill` - email filled\n- `phone` - phone\n- `phone.fill` - phone filled\n- `video` - video call\n- `video.fill` - video call filled\n\n### Social\n- `heart` - like\n- `heart.fill` - liked\n- `star` - favorite\n- `star.fill` - favorited\n- `hand.thumbsup` - thumbs up\n- `hand.thumbsdown` - thumbs down\n- `person` - profile\n- `person.fill` - profile filled\n- `person.2` - people\n- `person.2.fill` - people filled\n\n### Content Actions\n- `square.and.arrow.up` - share\n- `square.and.arrow.down` - download\n- `doc.on.doc` - copy\n- `trash` - delete\n- `pencil` - edit\n- `folder` - folder\n- `folder.fill` - folder filled\n- `bookmark` - bookmark\n- `bookmark.fill` - bookmarked\n\n### Status & Feedback\n- `checkmark` - success/done\n- `checkmark.circle.fill` - completed\n- `xmark.circle.fill` - error/failed\n- `exclamationmark.triangle` - warning\n- `info.circle` - info\n- `questionmark.circle` - help\n- `bell` - notification\n- `bell.fill` - notification filled\n\n### Misc\n- `ellipsis` - more options\n- `ellipsis.circle` - more in circle\n- `line.3.horizontal` - menu/hamburger\n- `slider.horizontal.3` - filters\n- `arrow.clockwise` - refresh\n- `location` - location\n- `location.fill` - location filled\n- `map` - map\n- `mappin` - pin\n- `clock` - time\n- `calendar` - calendar\n- `link` - link\n- `nosign` - block/prohibited\n\n## Animated Symbols\n\n```tsx\n<SymbolView\n  name=\"checkmark.circle\"\n  animationSpec={{\n    effect: {\n      type: \"bounce\",\n      direction: \"up\",\n    },\n  }}\n/>\n```\n\n### Animation Effects\n\n- `bounce` - Bouncy animation\n- `pulse` - Pulsing effect\n- `variableColor` - Color cycling\n- `scale` - Scale animation\n\n```tsx\n// Bounce with direction\nanimationSpec={{\n  effect: { type: \"bounce\", direction: \"up\" }  // up | down\n}}\n\n// Pulse\nanimationSpec={{\n  effect: { type: \"pulse\" }\n}}\n\n// Variable color (multicolor symbols)\nanimationSpec={{\n  effect: {\n    type: \"variableColor\",\n    cumulative: true,\n    reversing: true\n  }\n}}\n```\n\n## Symbol Weights\n\n```tsx\n// Lighter weights\n<SymbolView name=\"star\" weight=\"ultraLight\" />\n<SymbolView name=\"star\" weight=\"thin\" />\n<SymbolView name=\"star\" weight=\"light\" />\n\n// Default\n<SymbolView name=\"star\" weight=\"regular\" />\n\n// Heavier weights\n<SymbolView name=\"star\" weight=\"medium\" />\n<SymbolView name=\"star\" weight=\"semibold\" />\n<SymbolView name=\"star\" weight=\"bold\" />\n<SymbolView name=\"star\" weight=\"heavy\" />\n<SymbolView name=\"star\" weight=\"black\" />\n```\n\n## Symbol Scales\n\n```tsx\n<SymbolView name=\"star\" scale=\"small\" />\n<SymbolView name=\"star\" scale=\"medium\" />  // default\n<SymbolView name=\"star\" scale=\"large\" />\n```\n\n## Multicolor Symbols\n\nSome symbols support multiple colors:\n\n```tsx\n<SymbolView\n  name=\"cloud.sun.rain.fill\"\n  type=\"multicolor\"\n/>\n```\n\n## Finding Symbol Names\n\n1. Use the SF Symbols app on macOS (free from Apple)\n2. Search at https://developer.apple.com/sf-symbols/\n3. Symbol names use dot notation: `square.and.arrow.up`\n\n## Best Practices\n\n- Always use SF Symbols over vector icon libraries\n- Match symbol weight to nearby text weight\n- Use `.fill` variants for selected/active states\n- Use PlatformColor for tint to support dark mode\n- Keep icons at consistent sizes (16, 20, 24, 32)\n",
        "plugins/expo-app-design/skills/building-native-ui/references/media.md": "# Media\n\n## Camera\n\n- Hide navigation headers when there's a full screen camera\n- Ensure to flip the camera with `mirror` to emulate social apps\n- Use liquid glass buttons on cameras\n- Icons: `arrow.triangle.2.circlepath` (flip), `photo` (gallery), `bolt` (flash)\n- Eagerly request camera permission\n- Lazily request media library permission\n\n```tsx\nimport React, { useRef, useState } from \"react\";\nimport { View, TouchableOpacity, Text, Alert } from \"react-native\";\nimport { CameraView, CameraType, useCameraPermissions } from \"expo-camera\";\nimport * as MediaLibrary from \"expo-media-library\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Haptics from \"expo-haptics\";\nimport { SymbolView } from \"expo-symbols\";\nimport { PlatformColor } from \"react-native\";\nimport { GlassView } from \"expo-glass-effect\";\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\";\n\nfunction Camera({ onPicture }: { onPicture: (uri: string) => Promise<void> }) {\n  const [permission, requestPermission] = useCameraPermissions();\n  const cameraRef = useRef<CameraView>(null);\n  const [type, setType] = useState<CameraType>(\"back\");\n  const { bottom } = useSafeAreaInsets();\n\n  if (!permission?.granted) {\n    return (\n      <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\", backgroundColor: PlatformColor(\"systemBackground\") }}>\n        <Text style={{ color: PlatformColor(\"label\"), padding: 16 }}>Camera access is required</Text>\n        <GlassView isInteractive tintColor={PlatformColor(\"systemBlue\")} style={{ borderRadius: 12 }}>\n          <TouchableOpacity onPress={requestPermission} style={{ padding: 12, borderRadius: 12 }}>\n            <Text style={{ color: \"white\" }}>Grant Permission</Text>\n          </TouchableOpacity>\n        </GlassView>\n      </View>\n    );\n  }\n\n  const takePhoto = async () => {\n    await Haptics.selectionAsync();\n    if (!cameraRef.current) return;\n    const photo = await cameraRef.current.takePictureAsync({ quality: 0.8 });\n    await onPicture(photo.uri);\n  };\n\n  const selectPhoto = async () => {\n    await Haptics.selectionAsync();\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: \"images\",\n      allowsEditing: false,\n      quality: 0.8,\n    });\n    if (!result.canceled && result.assets?.[0]) {\n      await onPicture(result.assets[0].uri);\n    }\n  };\n\n  return (\n    <View style={{ flex: 1, backgroundColor: \"black\" }}>\n      <CameraView ref={cameraRef} mirror style={{ flex: 1 }} facing={type} />\n      <View style={{ position: \"absolute\", left: 0, right: 0, bottom: bottom, gap: 16, alignItems: \"center\" }}>\n        <GlassView isInteractive style={{ padding: 8, borderRadius: 99 }}>\n          <TouchableOpacity onPress={takePhoto} style={{ width: 64, height: 64, borderRadius: 99, backgroundColor: \"white\" }} />\n        </GlassView>\n        <View style={{ flexDirection: \"row\", justifyContent: \"space-around\", paddingHorizontal: 8 }}>\n          <GlassButton onPress={selectPhoto} icon=\"photo\" />\n          <GlassButton onPress={() => setType(t => t === \"back\" ? \"front\" : \"back\")} icon=\"arrow.triangle.2.circlepath\" />\n        </View>\n      </View>\n    </View>\n  );\n}\n```\n\n## Audio Playback\n\nUse `expo-audio` not `expo-av`:\n\n```tsx\nimport { useAudioPlayer } from 'expo-audio';\n\nconst player = useAudioPlayer({ uri: 'https://stream.nightride.fm/rektory.mp3' });\n\n<Button title=\"Play\" onPress={() => player.play()} />\n```\n\n## Audio Recording (Microphone)\n\n```tsx\nimport {\n  useAudioRecorder,\n  AudioModule,\n  RecordingPresets,\n  setAudioModeAsync,\n  useAudioRecorderState,\n} from 'expo-audio';\nimport { useEffect } from 'react';\nimport { Alert, Button } from 'react-native';\n\nfunction App() {\n  const audioRecorder = useAudioRecorder(RecordingPresets.HIGH_QUALITY);\n  const recorderState = useAudioRecorderState(audioRecorder);\n\n  const record = async () => {\n    await audioRecorder.prepareToRecordAsync();\n    audioRecorder.record();\n  };\n\n  const stop = () => audioRecorder.stop();\n\n  useEffect(() => {\n    (async () => {\n      const status = await AudioModule.requestRecordingPermissionsAsync();\n      if (status.granted) {\n        setAudioModeAsync({ playsInSilentMode: true, allowsRecording: true });\n      } else {\n        Alert.alert('Permission to access microphone was denied');\n      }\n    })();\n  }, []);\n\n  return (\n    <Button\n      title={recorderState.isRecording ? 'Stop' : 'Start'}\n      onPress={recorderState.isRecording ? stop : record}\n    />\n  );\n}\n```\n\n## Video Playback\n\nUse `expo-video` not `expo-av`:\n\n```tsx\nimport { useVideoPlayer, VideoView } from 'expo-video';\nimport { useEvent } from 'expo';\n\nconst videoSource = 'https://example.com/video.mp4';\n\nconst player = useVideoPlayer(videoSource, player => {\n  player.loop = true;\n  player.play();\n});\n\nconst { isPlaying } = useEvent(player, 'playingChange', { isPlaying: player.playing });\n\n<VideoView player={player} fullscreenOptions={{}} allowsPictureInPicture />\n```\n\nVideoView options:\n- `allowsPictureInPicture`: boolean\n- `contentFit`: 'contain' | 'cover' | 'fill'\n- `nativeControls`: boolean\n- `playsInline`: boolean\n- `startsPictureInPictureAutomatically`: boolean\n\n## Saving Media\n\n```tsx\nimport * as MediaLibrary from \"expo-media-library\";\n\nconst { granted } = await MediaLibrary.requestPermissionsAsync();\nif (granted) {\n  await MediaLibrary.saveToLibraryAsync(uri);\n}\n```\n\n### Saving Base64 Images\n\n`MediaLibrary.saveToLibraryAsync` only accepts local file paths. Save base64 strings to disk first:\n\n```tsx\nimport { File, Paths } from \"expo-file-system/next\";\n\nfunction base64ToLocalUri(base64: string, filename?: string) {\n  if (!filename) {\n    const match = base64.match(/^data:(image\\/[a-zA-Z]+);base64,/);\n    const ext = match ? match[1].split(\"/\")[1] : \"jpg\";\n    filename = `generated-${Date.now()}.${ext}`;\n  }\n\n  if (base64.startsWith(\"data:\")) base64 = base64.split(\",\")[1];\n  const binaryString = atob(base64);\n  const len = binaryString.length;\n  const bytes = new Uint8Array(new ArrayBuffer(len));\n  for (let i = 0; i < len; i++) bytes[i] = binaryString.charCodeAt(i);\n\n  const f = new File(Paths.cache, filename);\n  f.create({ overwrite: true });\n  f.write(bytes);\n  return f.uri;\n}\n```\n",
        "plugins/expo-app-design/skills/building-native-ui/references/route-structure.md": "# Route Structure\n\n## File Conventions\n\n- Routes belong in the `app` directory\n- Use `[]` for dynamic routes, e.g. `[id].tsx`\n- Routes can never be named `(foo).tsx` - use `(foo)/index.tsx` instead\n- Use `(group)` routes to simplify the public URL structure\n- NEVER co-locate components, types, or utilities in the app directory - these should be in separate directories like `components/`, `utils/`, etc.\n- The app directory should only contain route and `_layout` files; every file should export a default component\n- Ensure the app always has a route that matches \"/\" so the app is never blank\n- ALWAYS use `_layout.tsx` files to define stacks\n\n## Dynamic Routes\n\nUse square brackets for dynamic segments:\n\n```\napp/\n  users/\n    [id].tsx        # Matches /users/123, /users/abc\n    [id]/\n      posts.tsx     # Matches /users/123/posts\n```\n\n### Catch-All Routes\n\nUse `[...slug]` for catch-all routes:\n\n```\napp/\n  docs/\n    [...slug].tsx   # Matches /docs/a, /docs/a/b, /docs/a/b/c\n```\n\n## Query Parameters\n\nAccess query parameters with the `useLocalSearchParams` hook:\n\n```tsx\nimport { useLocalSearchParams } from \"expo-router\";\n\nfunction Page() {\n  const { id } = useLocalSearchParams<{ id: string }>();\n}\n```\n\nFor dynamic routes, the parameter name matches the file name:\n\n- `[id].tsx` → `useLocalSearchParams<{ id: string }>()`\n- `[slug].tsx` → `useLocalSearchParams<{ slug: string }>()`\n\n## Pathname\n\nAccess the current pathname with the `usePathname` hook:\n\n```tsx\nimport { usePathname } from \"expo-router\";\n\nfunction Component() {\n  const pathname = usePathname(); // e.g. \"/users/123\"\n}\n```\n\n## Group Routes\n\nUse parentheses for groups that don't affect the URL:\n\n```\napp/\n  (auth)/\n    login.tsx       # URL: /login\n    register.tsx    # URL: /register\n  (main)/\n    index.tsx       # URL: /\n    settings.tsx    # URL: /settings\n```\n\nGroups are useful for:\n\n- Organizing related routes\n- Applying different layouts to route groups\n- Keeping URLs clean\n\n## Stacks and Tabs Structure\n\nWhen an app has tabs, the header and title should be set in a Stack that is nested INSIDE each tab. This allows tabs to have their own headers and distinct histories. The root layout should often not have a header.\n\n- Set the 'headerShown' option to false on the tab layout\n- Use (group) routes to simplify the public URL structure\n- You may need to delete or refactor existing routes to fit this structure\n\nExample structure:\n\n```\napp/\n  _layout.tsx — <Tabs />\n  (home)/\n    _layout.tsx — <Stack />\n    index.tsx — <ScrollView />\n  (settings)/\n    _layout.tsx — <Stack />\n    index.tsx — <ScrollView />\n  (home,settings)/\n    info.tsx — <ScrollView /> (shared across tabs)\n```\n\n## Array Routes for Multiple Stacks\n\nUse array routes '(index,settings)' to create multiple stacks. This is useful for tabs that need to share screens across stacks.\n\n```\napp/\n  _layout.tsx — <Tabs />\n  (index,settings)/\n    _layout.tsx — <Stack />\n    index.tsx — <ScrollView />\n    settings.tsx — <ScrollView />\n```\n\nThis requires a specialized layout with explicit anchor routes:\n\n```tsx\n// app/(index,settings)/_layout.tsx\nimport { useMemo } from \"react\";\nimport Stack from \"expo-router/stack\";\n\nexport const unstable_settings = {\n  index: { anchor: \"index\" },\n  settings: { anchor: \"settings\" },\n};\n\nexport default function Layout({ segment }: { segment: string }) {\n  const screen = segment.match(/\\((.*)\\)/)?.[1]!;\n\n  const options = useMemo(() => {\n    switch (screen) {\n      case \"index\":\n        return { headerRight: () => <></> };\n      default:\n        return {};\n    }\n  }, [screen]);\n\n  return (\n    <Stack>\n      <Stack.Screen name={screen} options={options} />\n    </Stack>\n  );\n}\n```\n\n## Complete App Structure Example\n\n```\napp/\n  _layout.tsx — <NativeTabs />\n  (index,search)/\n    _layout.tsx — <Stack />\n    index.tsx — Main list\n    search.tsx — Search view\n    i/[id].tsx — Detail page\ncomponents/\n  theme.tsx\n  list.tsx\nutils/\n  storage.ts\n  use-search.ts\n```\n\n## Layout Files\n\nEvery directory can have a `_layout.tsx` file that wraps all routes in that directory:\n\n```tsx\n// app/_layout.tsx\nimport { Stack } from \"expo-router/stack\";\n\nexport default function RootLayout() {\n  return <Stack />;\n}\n```\n\n```tsx\n// app/(tabs)/_layout.tsx\nimport { NativeTabs, Icon, Label } from \"expo-router/unstable-native-tabs\";\n\nexport default function TabLayout() {\n  return (\n    <NativeTabs>\n      <NativeTabs.Trigger name=\"index\">\n        <Label>Home</Label>\n        <Icon sf=\"house.fill\" />\n      </NativeTabs.Trigger>\n    </NativeTabs>\n  );\n}\n```\n\n## Route Settings\n\nExport `unstable_settings` to configure route behavior:\n\n```tsx\nexport const unstable_settings = {\n  anchor: \"index\",\n};\n```\n\n- `initialRouteName` was renamed to `anchor` in v4\n\n## Not Found Routes\n\nCreate a `+not-found.tsx` file to handle unmatched routes:\n\n```tsx\n// app/+not-found.tsx\nimport { Link } from \"expo-router\";\nimport { View, Text } from \"react-native\";\n\nexport default function NotFound() {\n  return (\n    <View>\n      <Text>Page not found</Text>\n      <Link href=\"/\">Go home</Link>\n    </View>\n  );\n}\n```\n",
        "plugins/expo-app-design/skills/building-native-ui/references/search.md": "# Search\n\n## Header Search Bar\n\nAdd a search bar to the stack header with `headerSearchBarOptions`:\n\n```tsx\n<Stack.Screen\n  name=\"index\"\n  options={{\n    headerSearchBarOptions: {\n      placeholder: \"Search\",\n      onChangeText: (event) => console.log(event.nativeEvent.text),\n    },\n  }}\n/>\n```\n\n### Options\n\n```tsx\nheaderSearchBarOptions: {\n  // Placeholder text\n  placeholder: \"Search items...\",\n\n  // Auto-capitalize behavior\n  autoCapitalize: \"none\",\n\n  // Input type\n  inputType: \"text\", // \"text\" | \"phone\" | \"number\" | \"email\"\n\n  // Cancel button text (iOS)\n  cancelButtonText: \"Cancel\",\n\n  // Hide when scrolling (iOS)\n  hideWhenScrolling: true,\n\n  // Hide navigation bar during search (iOS)\n  hideNavigationBar: true,\n\n  // Obscure background during search (iOS)\n  obscureBackground: true,\n\n  // Placement\n  placement: \"automatic\", // \"automatic\" | \"inline\" | \"stacked\"\n\n  // Callbacks\n  onChangeText: (event) => {},\n  onSearchButtonPress: (event) => {},\n  onCancelButtonPress: (event) => {},\n  onFocus: () => {},\n  onBlur: () => {},\n}\n```\n\n## useSearch Hook\n\nReusable hook for search state management:\n\n```tsx\nimport { useEffect, useState } from \"react\";\nimport { useNavigation } from \"expo-router\";\n\nexport function useSearch(options: any = {}) {\n  const [search, setSearch] = useState(\"\");\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    navigation.setOptions({\n      headerShown: true,\n      headerSearchBarOptions: {\n        ...options,\n        onChangeText(e: any) {\n          setSearch(e.nativeEvent.text);\n          options.onChangeText?.(e);\n        },\n        onSearchButtonPress(e: any) {\n          setSearch(e.nativeEvent.text);\n          options.onSearchButtonPress?.(e);\n        },\n        onCancelButtonPress(e: any) {\n          setSearch(\"\");\n          options.onCancelButtonPress?.(e);\n        },\n      },\n    });\n  }, [options, navigation]);\n\n  return search;\n}\n```\n\n### Usage\n\n```tsx\nfunction SearchScreen() {\n  const search = useSearch({ placeholder: \"Search items...\" });\n\n  const filteredItems = items.filter(item =>\n    item.name.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <FlatList\n      data={filteredItems}\n      renderItem={({ item }) => <ItemRow item={item} />}\n    />\n  );\n}\n```\n\n## Filtering Patterns\n\n### Simple Text Filter\n\n```tsx\nconst filtered = items.filter(item =>\n  item.name.toLowerCase().includes(search.toLowerCase())\n);\n```\n\n### Multiple Fields\n\n```tsx\nconst filtered = items.filter(item => {\n  const query = search.toLowerCase();\n  return (\n    item.name.toLowerCase().includes(query) ||\n    item.description.toLowerCase().includes(query) ||\n    item.tags.some(tag => tag.toLowerCase().includes(query))\n  );\n});\n```\n\n### Debounced Search\n\nFor expensive filtering or API calls:\n\n```tsx\nimport { useState, useEffect, useMemo } from \"react\";\n\nfunction useDebounce<T>(value: T, delay: number): T {\n  const [debounced, setDebounced] = useState(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(timer);\n  }, [value, delay]);\n\n  return debounced;\n}\n\nfunction SearchScreen() {\n  const search = useSearch();\n  const debouncedSearch = useDebounce(search, 300);\n\n  const filteredItems = useMemo(() =>\n    items.filter(item =>\n      item.name.toLowerCase().includes(debouncedSearch.toLowerCase())\n    ),\n    [debouncedSearch]\n  );\n\n  return <FlatList data={filteredItems} />;\n}\n```\n\n## Search with Native Tabs\n\nWhen using NativeTabs with a search role, the search bar integrates with the tab bar:\n\n```tsx\n// app/_layout.tsx\n<NativeTabs>\n  <NativeTabs.Trigger name=\"(home)\">\n    <Label>Home</Label>\n    <Icon sf=\"house.fill\" />\n  </NativeTabs.Trigger>\n  <NativeTabs.Trigger name=\"(search)\" role=\"search\">\n    <Label>Search</Label>\n  </NativeTabs.Trigger>\n</NativeTabs>\n```\n\n```tsx\n// app/(search)/_layout.tsx\n<Stack>\n  <Stack.Screen\n    name=\"index\"\n    options={{\n      headerSearchBarOptions: {\n        placeholder: \"Search...\",\n        onChangeText: (e) => setSearch(e.nativeEvent.text),\n      },\n    }}\n  />\n</Stack>\n```\n\n## Empty States\n\nShow appropriate UI when search returns no results:\n\n```tsx\nfunction SearchResults({ search, items }) {\n  const filtered = items.filter(/* ... */);\n\n  if (search && filtered.length === 0) {\n    return (\n      <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\n        <Text style={{ color: PlatformColor(\"secondaryLabel\") }}>\n          No results for \"{search}\"\n        </Text>\n      </View>\n    );\n  }\n\n  return <FlatList data={filtered} />;\n}\n```\n\n## Search Suggestions\n\nShow recent searches or suggestions:\n\n```tsx\nfunction SearchScreen() {\n  const search = useSearch();\n  const [recentSearches, setRecentSearches] = useState<string[]>([]);\n\n  if (!search && recentSearches.length > 0) {\n    return (\n      <View>\n        <Text style={{ color: PlatformColor(\"secondaryLabel\") }}>\n          Recent Searches\n        </Text>\n        {recentSearches.map((term) => (\n          <Pressable key={term} onPress={() => /* apply search */}>\n            <Text>{term}</Text>\n          </Pressable>\n        ))}\n      </View>\n    );\n  }\n\n  return <SearchResults search={search} />;\n}\n```\n",
        "plugins/expo-app-design/skills/building-native-ui/references/storage.md": "# Storage\n\n## Key-Value Storage\n\nUse the localStorage polyfill for key-value storage. **Never use AsyncStorage**\n\n```tsx\nimport \"expo-sqlite/localStorage/install\";\n\n// Simple get/set\nlocalStorage.setItem(\"key\", \"value\");\nlocalStorage.getItem(\"key\");\n\n// Store objects as JSON\nlocalStorage.setItem(\"user\", JSON.stringify({ name: \"John\", id: 1 }));\nconst user = JSON.parse(localStorage.getItem(\"user\") ?? \"{}\");\n```\n\n## When to Use What\n\n| Use Case                                             | Solution                |\n| ---------------------------------------------------- | ----------------------- |\n| Simple key-value (settings, preferences, small data) | `localStorage` polyfill |\n| Large datasets, complex queries, relational data     | Full `expo-sqlite`      |\n| Sensitive data (tokens, passwords)                   | `expo-secure-store`     |\n\n## Storage with React State\n\nCreate a storage utility with subscriptions for reactive updates:\n\n```tsx\n// utils/storage.ts\nimport \"expo-sqlite/localStorage/install\";\n\ntype Listener = () => void;\nconst listeners = new Map<string, Set<Listener>>();\n\nexport const storage = {\n  get<T>(key: string, defaultValue: T): T {\n    const value = localStorage.getItem(key);\n    return value ? JSON.parse(value) : defaultValue;\n  },\n\n  set<T>(key: string, value: T): void {\n    localStorage.setItem(key, JSON.stringify(value));\n    listeners.get(key)?.forEach((fn) => fn());\n  },\n\n  subscribe(key: string, listener: Listener): () => void {\n    if (!listeners.has(key)) listeners.set(key, new Set());\n    listeners.get(key)!.add(listener);\n    return () => listeners.get(key)?.delete(listener);\n  },\n};\n```\n\n## React Hook for Storage\n\n```tsx\n// hooks/use-storage.ts\nimport { useSyncExternalStore } from \"react\";\nimport { storage } from \"@/utils/storage\";\n\nexport function useStorage<T>(\n  key: string,\n  defaultValue: T\n): [T, (value: T) => void] {\n  const value = useSyncExternalStore(\n    (cb) => storage.subscribe(key, cb),\n    () => storage.get(key, defaultValue)\n  );\n\n  return [value, (newValue: T) => storage.set(key, newValue)];\n}\n```\n\nUsage:\n\n```tsx\nfunction Settings() {\n  const [theme, setTheme] = useStorage(\"theme\", \"light\");\n\n  return (\n    <Switch\n      value={theme === \"dark\"}\n      onValueChange={(dark) => setTheme(dark ? \"dark\" : \"light\")}\n    />\n  );\n}\n```\n\n## Full SQLite for Complex Data\n\nFor larger datasets or complex queries, use expo-sqlite directly:\n\n```tsx\nimport * as SQLite from \"expo-sqlite\";\n\nconst db = await SQLite.openDatabaseAsync(\"app.db\");\n\n// Create table\nawait db.execAsync(`\n  CREATE TABLE IF NOT EXISTS events (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    title TEXT NOT NULL,\n    date TEXT NOT NULL,\n    location TEXT\n  )\n`);\n\n// Insert\nawait db.runAsync(\"INSERT INTO events (title, date) VALUES (?, ?)\", [\n  \"Meeting\",\n  \"2024-01-15\",\n]);\n\n// Query\nconst events = await db.getAllAsync(\"SELECT * FROM events WHERE date > ?\", [\n  \"2024-01-01\",\n]);\n```\n",
        "plugins/expo-app-design/skills/building-native-ui/references/tabs.md": "# Native Tabs\n\nAlways prefer NativeTabs from 'expo-router/unstable-native-tabs' for the best iOS experience.\n\n**Requires SDK 54+**\n\n## Basic Usage\n\n```tsx\nimport {\n  NativeTabs,\n  Icon,\n  Label,\n  Badge,\n} from \"expo-router/unstable-native-tabs\";\n\nexport default function TabLayout() {\n  return (\n    <NativeTabs minimizeBehavior=\"onScrollDown\">\n      <NativeTabs.Trigger name=\"index\">\n        <Label>Home</Label>\n        <Icon sf=\"house.fill\" />\n        <Badge>9+</Badge>\n      </NativeTabs.Trigger>\n      <NativeTabs.Trigger name=\"settings\">\n        <Icon sf=\"gear\" />\n        <Label>Settings</Label>\n      </NativeTabs.Trigger>\n      <NativeTabs.Trigger name=\"(search)\" role=\"search\">\n        <Label>Search</Label>\n      </NativeTabs.Trigger>\n    </NativeTabs>\n  );\n}\n```\n\n## Rules\n\n- You must include a trigger for each tab\n- The `NativeTabs.Trigger` 'name' must match the route name, including parentheses (e.g. `<NativeTabs.Trigger name=\"(search)\">`)\n- Prefer search tab to be last in the list so it can combine with the search bar\n- Use the 'role' prop for common tab types\n\n## Platform Features\n\nNative Tabs use platform-specific tab bar implementations:\n\n- **iOS 26+**: Liquid glass effects with system-native appearance\n- **Android**: Material 3 bottom navigation\n- Better performance and native feel\n\n## Icon Component\n\n```tsx\n// SF Symbol only (iOS)\n<Icon sf=\"house.fill\" />\n\n// With Android drawable\n<Icon sf=\"house.fill\" drawable=\"ic_home\" />\n\n// Custom image source\n<Icon src={require('./icon.png')} />\n\n// State variants (default/selected)\n<Icon sf={{ default: \"house\", selected: \"house.fill\" }} />\n```\n\n## Label Component\n\n```tsx\n// Basic label\n<Label>Home</Label>\n\n// Hidden label (icon only)\n<Label hidden>Home</Label>\n```\n\n## Badge Component\n\n```tsx\n// Numeric badge\n<Badge>9+</Badge>\n\n// Dot indicator (empty badge)\n<Badge />\n```\n\n## iOS 26 Features\n\n### Liquid Glass Tab Bar\n\nThe tab bar automatically adopts liquid glass appearance on iOS 26+.\n\n### Minimize on Scroll\n\n```tsx\n<NativeTabs minimizeBehavior=\"onScrollDown\">\n```\n\n### Search Tab\n\nAdd a dedicated search tab that integrates with the tab bar search field:\n\n```tsx\n<NativeTabs.Trigger name=\"(search)\" role=\"search\">\n  <Label>Search</Label>\n</NativeTabs.Trigger>\n```\n\n**Note**: Place search tab last for best UX.\n\n### Role Prop\n\nUse semantic roles for special tab types:\n\n```tsx\n<NativeTabs.Trigger name=\"search\" role=\"search\" />\n<NativeTabs.Trigger name=\"favorites\" role=\"favorites\" />\n<NativeTabs.Trigger name=\"more\" role=\"more\" />\n```\n\nAvailable roles: `search` | `more` | `favorites` | `bookmarks` | `contacts` | `downloads` | `featured` | `history` | `mostRecent` | `mostViewed` | `recents` | `topRated`\n\n## Customization\n\n### Tint Color\n\n```tsx\n<NativeTabs tintColor=\"#007AFF\">\n```\n\n### Dynamic Colors (iOS)\n\nUse DynamicColorIOS for colors that adapt to liquid glass:\n\n```tsx\nimport { DynamicColorIOS, Platform } from 'react-native';\n\nconst adaptiveBlue = Platform.select({\n  ios: DynamicColorIOS({ light: '#007AFF', dark: '#0A84FF' }),\n  default: '#007AFF',\n});\n\n<NativeTabs tintColor={adaptiveBlue}>\n```\n\n## Conditional Tabs\n\nHide tabs conditionally:\n\n```tsx\n<NativeTabs.Trigger name=\"admin\" hidden={!isAdmin}>\n  <Label>Admin</Label>\n  <Icon sf=\"shield.fill\" />\n</NativeTabs.Trigger>\n```\n\n## Behavior Options\n\n```tsx\n<NativeTabs.Trigger\n  name=\"home\"\n  disablePopToTop    // Don't pop stack when tapping active tab\n  disableScrollToTop // Don't scroll to top when tapping active tab\n>\n```\n\n## Using Vector Icons\n\nIf you must use @expo/vector-icons instead of SF Symbols:\n\n```tsx\nimport { VectorIcon } from \"expo-router/unstable-native-tabs\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\n\n<NativeTabs.Trigger name=\"home\">\n  <VectorIcon vector={Ionicons} name=\"home\" />\n  <Label>Home</Label>\n</NativeTabs.Trigger>;\n```\n\n**Prefer SF Symbols over vector icons for native feel on Apple platforms.**\n\n## Structure with Stacks\n\nNative tabs don't render headers. Nest Stacks inside each tab for navigation headers:\n\n```tsx\n// app/(tabs)/_layout.tsx\nimport { NativeTabs, Icon, Label } from \"expo-router/unstable-native-tabs\";\n\nexport default function TabLayout() {\n  return (\n    <NativeTabs>\n      <NativeTabs.Trigger name=\"(home)\">\n        <Label>Home</Label>\n        <Icon sf=\"house.fill\" />\n      </NativeTabs.Trigger>\n    </NativeTabs>\n  );\n}\n\n// app/(tabs)/(home)/_layout.tsx\nimport Stack from \"expo-router/stack\";\n\nexport default function HomeStack() {\n  return (\n    <Stack>\n      <Stack.Screen\n        name=\"index\"\n        options={{ title: \"Home\", headerLargeTitle: true }}\n      />\n      <Stack.Screen name=\"details\" options={{ title: \"Details\" }} />\n    </Stack>\n  );\n}\n```\n\n## Migration from JS Tabs\n\n### Before (JS Tabs)\n\n```tsx\nimport { Tabs } from \"expo-router\";\n\nexport default function TabLayout() {\n  return (\n    <Tabs>\n      <Tabs.Screen\n        name=\"index\"\n        options={{\n          title: \"Home\",\n          tabBarIcon: ({ color }) => (\n            <IconSymbol name=\"house.fill\" color={color} />\n          ),\n        }}\n      />\n      <Tabs.Screen\n        name=\"settings\"\n        options={{\n          title: \"Settings\",\n          tabBarIcon: ({ color }) => <IconSymbol name=\"gear\" color={color} />,\n        }}\n      />\n    </Tabs>\n  );\n}\n```\n\n### After (Native Tabs)\n\n```tsx\nimport { NativeTabs, Icon, Label } from \"expo-router/unstable-native-tabs\";\n\nexport default function TabLayout() {\n  return (\n    <NativeTabs>\n      <NativeTabs.Trigger name=\"index\">\n        <Label>Home</Label>\n        <Icon sf=\"house.fill\" />\n      </NativeTabs.Trigger>\n      <NativeTabs.Trigger name=\"settings\">\n        <Label>Settings</Label>\n        <Icon sf=\"gear\" />\n      </NativeTabs.Trigger>\n    </NativeTabs>\n  );\n}\n```\n\n### Key Differences\n\n| JS Tabs                    | Native Tabs               |\n| -------------------------- | ------------------------- |\n| `<Tabs.Screen>`            | `<NativeTabs.Trigger>`    |\n| `options={{ title }}`      | `<Label>Title</Label>`    |\n| `options={{ tabBarIcon }}` | `<Icon sf=\"symbol\" />`    |\n| Props-based API            | React component-based API |\n| `tabBarBadge` option       | `<Badge>` component       |\n\n### Migration Steps\n\n1. **Change imports**\n\n   ```tsx\n   // Remove\n   import { Tabs } from \"expo-router\";\n\n   // Add\n   import {\n     NativeTabs,\n     Icon,\n     Label,\n     Badge,\n   } from \"expo-router/unstable-native-tabs\";\n   ```\n\n2. **Replace Tabs with NativeTabs**\n\n   ```tsx\n   // Before\n   <Tabs screenOptions={{ ... }}>\n\n   // After\n   <NativeTabs>\n   ```\n\n3. **Convert each Screen to Trigger**\n\n   ```tsx\n   // Before\n   <Tabs.Screen\n     name=\"home\"\n     options={{\n       title: 'Home',\n       tabBarIcon: ({ color }) => <Icon name=\"house\" color={color} />,\n       tabBarBadge: 3,\n     }}\n   />\n\n   // After\n   <NativeTabs.Trigger name=\"home\">\n     <Label>Home</Label>\n     <Icon sf=\"house.fill\" />\n     <Badge>3</Badge>\n   </NativeTabs.Trigger>\n   ```\n\n4. **Move headers to nested Stack** - Native tabs don't render headers\n   ```\n   app/\n     (tabs)/\n       _layout.tsx      <- NativeTabs\n       (home)/\n         _layout.tsx    <- Stack with headers\n         index.tsx\n       (settings)/\n         _layout.tsx    <- Stack with headers\n         index.tsx\n   ```\n\n## Limitations\n\n- **Android**: Maximum 5 tabs (Material Design constraint)\n- **Nesting**: Native tabs cannot nest inside other native tabs\n- **Tab bar height**: Cannot be measured programmatically\n- **FlatList transparency**: Use `disableTransparentOnScrollEdge` to fix issues\n\n## Keyboard Handling (Android)\n\nConfigure in app.json:\n\n```json\n{\n  \"expo\": {\n    \"android\": {\n      \"softwareKeyboardLayoutMode\": \"resize\"\n    }\n  }\n}\n```\n\n## Common Issues\n\n1. **Icons not showing on Android**: Add `drawable` prop or use `VectorIcon`\n2. **Headers missing**: Nest a Stack inside each tab group\n3. **Trigger name mismatch**: Ensure `name` matches exact route name including parentheses\n4. **Badge not visible**: Badge must be a child of Trigger, not a prop\n",
        "plugins/expo-app-design/skills/building-native-ui/references/toolbar-and-headers.md": "# Toolbars and headers\n\nAdd native iOS toolbar items to Stack screens. Items can be placed in the header (left/right) or in a bottom toolbar area.\n\n**Important:** iOS only. Available in Expo SDK 55+.\n\n## Notes app example\n\n```tsx\nimport { Stack } from \"expo-router\";\nimport { ScrollView } from \"react-native\";\n\nexport default function FoldersScreen() {\n  return (\n    <>\n      {/* ScrollView must be the first child of the screen */}\n      <ScrollView\n        style={{ flex: 1 }}\n        contentInsetAdjustmentBehavior=\"automatic\"\n      >\n        {/* Screen content */}\n      </ScrollView>\n      <Stack.Screen.Title large>Folders</Stack.Screen.Title>\n      <Stack.SearchBar placeholder=\"Search\" onChangeText={() => {}} />\n      {/* Header toolbar - right side */}\n      <Stack.Toolbar placement=\"right\">\n        <Stack.Toolbar.Button icon=\"folder.badge.plus\" onPress={() => {}} />\n        <Stack.Toolbar.Button onPress={() => {}}>Edit</Stack.Toolbar.Button>\n      </Stack.Toolbar>\n\n      {/* Bottom toolbar */}\n      <Stack.Toolbar placement=\"bottom\">\n        <Stack.Toolbar.SearchBarSlot />\n        <Stack.Toolbar.Button\n          icon=\"square.and.pencil\"\n          onPress={() => {}}\n          separateBackground\n        />\n      </Stack.Toolbar>\n    </>\n  );\n}\n```\n\n## Mail inbox example\n\n```tsx\nimport { Color, Stack } from \"expo-router\";\nimport { useState } from \"react\";\nimport { ScrollView, Text, View } from \"react-native\";\n\nexport default function InboxScreen() {\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  return (\n    <>\n      <ScrollView\n        style={{ flex: 1 }}\n        contentInsetAdjustmentBehavior=\"automatic\"\n        contentContainerStyle={{ paddingHorizontal: 16 }}\n      >\n        {/* Screen content */}\n      </ScrollView>\n      <Stack.Screen options={{ headerTransparent: true }} />\n      <Stack.Screen.Title>Inbox</Stack.Screen.Title>\n      <Stack.SearchBar placeholder=\"Search\" onChangeText={() => {}} />\n      {/* Header toolbar - right side */}\n      <Stack.Toolbar placement=\"right\">\n        <Stack.Toolbar.Button onPress={() => {}}>Select</Stack.Toolbar.Button>\n        <Stack.Toolbar.Menu icon=\"ellipsis\">\n          <Stack.Toolbar.Menu inline>\n            <Stack.Toolbar.Menu inline title=\"Sort By\">\n              <Stack.Toolbar.MenuAction isOn>\n                Categories\n              </Stack.Toolbar.MenuAction>\n              <Stack.Toolbar.MenuAction>List</Stack.Toolbar.MenuAction>\n            </Stack.Toolbar.Menu>\n            <Stack.Toolbar.MenuAction icon=\"info.circle\">\n              About categories\n            </Stack.Toolbar.MenuAction>\n          </Stack.Toolbar.Menu>\n          <Stack.Toolbar.MenuAction icon=\"person.circle\">\n            Show Contact Photos\n          </Stack.Toolbar.MenuAction>\n        </Stack.Toolbar.Menu>\n      </Stack.Toolbar>\n\n      {/* Bottom toolbar */}\n      <Stack.Toolbar placement=\"bottom\">\n        <Stack.Toolbar.Button\n          icon=\"line.3.horizontal.decrease\"\n          selected={isFilterOpen}\n          onPress={() => setIsFilterOpen((prev) => !prev)}\n        />\n        <Stack.Toolbar.View hidden={!isFilterOpen}>\n          <View style={{ width: 70, height: 32, justifyContent: \"center\" }}>\n            <Text style={{ fontSize: 12, fontWeight: 700 }}>Filter by</Text>\n            <Text\n              style={{\n                fontSize: 12,\n                fontWeight: 700,\n                color: Color.ios.systemBlue,\n              }}\n            >\n              Unread\n            </Text>\n          </View>\n        </Stack.Toolbar.View>\n        <Stack.Toolbar.Spacer />\n        <Stack.Toolbar.SearchBarSlot />\n        <Stack.Toolbar.Button\n          icon=\"square.and.pencil\"\n          onPress={() => {}}\n          separateBackground\n        />\n      </Stack.Toolbar>\n    </>\n  );\n}\n```\n\n## Placement\n\n- `\"left\"` - Header left\n- `\"right\"` - Header right\n- `\"bottom\"` (default) - Bottom toolbar\n\n## Components\n\n### Button\n\n- Icon button: `<Stack.Toolbar.Button icon=\"star.fill\" onPress={() => {}} />`\n- Text button: `<Stack.Toolbar.Button onPress={() => {}}>Done</Stack.Toolbar.Button>`\n\n**Props:** `icon`, `image`, `onPress`, `disabled`, `hidden`, `variant` (`\"plain\"` | `\"done\"` | `\"prominent\"`), `tintColor`\n\n### Menu\n\nDropdown menu for grouping actions.\n\n```tsx\n<Stack.Toolbar.Menu icon=\"ellipsis\">\n  <Stack.Toolbar.Menu inline>\n    <Stack.Toolbar.MenuAction>Sort by Recently Added</Stack.Toolbar.MenuAction>\n    <Stack.Toolbar.MenuAction isOn>\n      Sort by Date Captured\n    </Stack.Toolbar.MenuAction>\n  </Stack.Toolbar.Menu>\n  <Stack.Toolbar.Menu title=\"Filter\">\n    <Stack.Toolbar.Menu inline>\n      <Stack.Toolbar.MenuAction isOn icon=\"square.grid.2x2\">\n        All Items\n      </Stack.Toolbar.MenuAction>\n    </Stack.Toolbar.Menu>\n    <Stack.Toolbar.MenuAction icon=\"heart\">Favorites</Stack.Toolbar.MenuAction>\n    <Stack.Toolbar.MenuAction icon=\"photo\">Photos</Stack.Toolbar.MenuAction>\n    <Stack.Toolbar.MenuAction icon=\"video\">Videos</Stack.Toolbar.MenuAction>\n  </Stack.Toolbar.Menu>\n</Stack.Toolbar.Menu>\n```\n\n**Menu Props:** All Button props plus `title`, `inline`, `palette`, `elementSize` (`\"small\"` | `\"medium\"` | `\"large\"`)\n\n**MenuAction Props:** `icon`, `onPress`, `isOn`, `destructive`, `disabled`, `subtitle`\n\nWhen creating a palette with dividers, use `inline` combined with `elementSize=\"small\"`. `palette` will not apply dividers on iOS 26.\n\n### Spacer\n\n```tsx\n<Stack.Toolbar.Spacer />           // Bottom toolbar - flexible\n<Stack.Toolbar.Spacer width={16} /> // Header - requires explicit width\n```\n\n### View\n\nEmbed custom React Native components. When adding a custom view make sure that there is only a single child with **explicit width and height**.\n\n```tsx\n<Stack.Toolbar.View>\n  <View style={{ width: 70, height: 32, justifyContent: \"center\" }}>\n    <Text style={{ fontSize: 12, fontWeight: 700 }}>Filter by</Text>\n  </View>\n</Stack.Toolbar.View>\n```\n\nYou can pass custom components to views as well:\n\n```tsx\nfunction CustomFilterView() {\n  return (\n    <View style={{ width: 70, height: 32, justifyContent: \"center\" }}>\n      <Text style={{ fontSize: 12, fontWeight: 700 }}>Filter by</Text>\n    </View>\n  );\n}\n...\n<Stack.Toolbar.View>\n  <CustomFilterView />\n</Stack.Toolbar.View>\n```\n\n## Recommendations\n\n- When creating more complex headers, extract them to a single component\n\n```tsx\nexport default function Page() {\n  return (\n    <>\n      <ScrollView>{/* Screen content */}</ScrollView>\n      <InboxHeader />\n    </>\n  );\n}\n\nfunction InboxHeader() {\n  return (\n    <>\n      <Stack.Screen.Title>Inbox</Stack.Screen.Title>\n      <Stack.SearchBar placeholder=\"Search\" onChangeText={() => {}} />\n      <Stack.Toolbar placement=\"right\">{/* Toolbar buttons */}</Stack.Toolbar>\n    </>\n  );\n}\n```\n\n- When using `Stack.Toolbar`, make sure that all `Stack.Toolbar.*` components are wrapped inside `Stack.Toolbar` component.\n\nThis will **not work**:\n\n```tsx\nfunction Buttons() {\n  return (\n    <>\n      <Stack.Toolbar.Button icon=\"star.fill\" onPress={() => {}} />\n      <Stack.Toolbar.Button onPress={() => {}}>Done</Stack.Toolbar.Button>\n    </>\n  );\n}\n\nfunction Page() {\n  return (\n    <>\n      <ScrollView>{/* Screen content */}</ScrollView>\n      <Stack.Toolbar placement=\"right\">\n        <Buttons /> {/* ❌ This will NOT work */}\n      </Stack.Toolbar>\n    </>\n  );\n}\n```\n\nThis will work:\n\n```tsx\nfunction ToolbarWithButtons() {\n  return (\n    <Stack.Toolbar>\n      <Stack.Toolbar.Button icon=\"star.fill\" onPress={() => {}} />\n      <Stack.Toolbar.Button onPress={() => {}}>Done</Stack.Toolbar.Button>\n    </Stack.Toolbar>\n  );\n}\n\nfunction Page() {\n  return (\n    <>\n      <ScrollView>{/* Screen content */}</ScrollView>\n      <ToolbarWithButtons /> {/* ✅ This will work */}\n    </>\n  );\n}\n```\n\n## Limitations\n\n- iOS only\n- `placement=\"bottom\"` can only be used inside screen components (not in layout files)\n- `Stack.Toolbar.Badge` only works with `placement=\"left\"` or `\"right\"`\n- Header Spacers require explicit `width`\n\n## Reference\n\nDocs https://docs.expo.dev/versions/unversioned/sdk/router - read to see the full API.\n",
        "plugins/expo-app-design/skills/building-native-ui/references/visual-effects.md": "# Visual Effects\n\n## Backdrop Blur\n\nUse `expo-blur` for blur effects. Prefer systemMaterial tints as they adapt to dark mode.\n\n```tsx\nimport { BlurView } from \"expo-blur\";\n\n<BlurView tint=\"systemMaterial\" intensity={100} />;\n```\n\n### Tint Options\n\n```tsx\n// System materials (adapt to dark mode)\n<BlurView tint=\"systemMaterial\" />\n<BlurView tint=\"systemThinMaterial\" />\n<BlurView tint=\"systemUltraThinMaterial\" />\n<BlurView tint=\"systemThickMaterial\" />\n<BlurView tint=\"systemChromeMaterial\" />\n\n// Basic tints\n<BlurView tint=\"light\" />\n<BlurView tint=\"dark\" />\n<BlurView tint=\"default\" />\n\n// Prominent (more visible)\n<BlurView tint=\"prominent\" />\n\n// Extra light/dark\n<BlurView tint=\"extraLight\" />\n```\n\n### Intensity\n\nControl blur strength with `intensity` (0-100):\n\n```tsx\n<BlurView tint=\"systemMaterial\" intensity={50} />  // Subtle\n<BlurView tint=\"systemMaterial\" intensity={100} /> // Full\n```\n\n### Rounded Corners\n\nBlurView requires `overflow: 'hidden'` to clip rounded corners:\n\n```tsx\n<BlurView\n  tint=\"systemMaterial\"\n  intensity={100}\n  style={{\n    borderRadius: 16,\n    overflow: 'hidden',\n  }}\n/>\n```\n\n### Overlay Pattern\n\nCommon pattern for overlaying blur on content:\n\n```tsx\n<View style={{ position: 'relative' }}>\n  <Image source={{ uri: '...' }} style={{ width: '100%', height: 200 }} />\n  <BlurView\n    tint=\"systemUltraThinMaterial\"\n    intensity={80}\n    style={{\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      right: 0,\n      padding: 16,\n    }}\n  >\n    <Text style={{ color: 'white' }}>Caption</Text>\n  </BlurView>\n</View>\n```\n\n## Glass Effects (iOS 26+)\n\nUse `expo-glass-effect` for liquid glass backdrops on iOS 26+.\n\n```tsx\nimport { GlassView } from \"expo-glass-effect\";\n\n<GlassView style={{ borderRadius: 16, padding: 16 }}>\n  <Text>Content inside glass</Text>\n</GlassView>\n```\n\n### Interactive Glass\n\nAdd `isInteractive` for buttons and pressable glass:\n\n```tsx\nimport { GlassView } from \"expo-glass-effect\";\nimport { SymbolView } from \"expo-symbols\";\nimport { PlatformColor } from \"react-native\";\n\n<GlassView isInteractive style={{ borderRadius: 50 }}>\n  <Pressable style={{ padding: 12 }} onPress={handlePress}>\n    <SymbolView name=\"plus\" tintColor={PlatformColor(\"label\")} size={36} />\n  </Pressable>\n</GlassView>\n```\n\n### Glass Buttons\n\nCreate liquid glass buttons:\n\n```tsx\nfunction GlassButton({ icon, onPress }) {\n  return (\n    <GlassView isInteractive style={{ borderRadius: 50 }}>\n      <Pressable style={{ padding: 12 }} onPress={onPress}>\n        <SymbolView name={icon} tintColor={PlatformColor(\"label\")} size={24} />\n      </Pressable>\n    </GlassView>\n  );\n}\n\n// Usage\n<GlassButton icon=\"plus\" onPress={handleAdd} />\n<GlassButton icon=\"gear\" onPress={handleSettings} />\n```\n\n### Glass Card\n\n```tsx\n<GlassView style={{ borderRadius: 20, padding: 20 }}>\n  <Text style={{ fontSize: 18, fontWeight: '600', color: PlatformColor(\"label\") }}>\n    Card Title\n  </Text>\n  <Text style={{ color: PlatformColor(\"secondaryLabel\"), marginTop: 8 }}>\n    Card content goes here\n  </Text>\n</GlassView>\n```\n\n### Checking Availability\n\n```tsx\nimport { isLiquidGlassAvailable } from \"expo-glass-effect\";\n\nif (isLiquidGlassAvailable()) {\n  // Use GlassView\n} else {\n  // Fallback to BlurView or solid background\n}\n```\n\n### Fallback Pattern\n\n```tsx\nimport { GlassView, isLiquidGlassAvailable } from \"expo-glass-effect\";\nimport { BlurView } from \"expo-blur\";\n\nfunction AdaptiveGlass({ children, style }) {\n  if (isLiquidGlassAvailable()) {\n    return <GlassView style={style}>{children}</GlassView>;\n  }\n\n  return (\n    <BlurView tint=\"systemMaterial\" intensity={80} style={style}>\n      {children}\n    </BlurView>\n  );\n}\n```\n\n## Sheet with Glass Background\n\nMake sheet backgrounds liquid glass on iOS 26+:\n\n```tsx\n<Stack.Screen\n  name=\"sheet\"\n  options={{\n    presentation: \"formSheet\",\n    sheetGrabberVisible: true,\n    sheetAllowedDetents: [0.5, 1.0],\n    contentStyle: { backgroundColor: \"transparent\" },\n  }}\n/>\n```\n\n## Best Practices\n\n- Use `systemMaterial` tints for automatic dark mode support\n- Always set `overflow: 'hidden'` on BlurView for rounded corners\n- Use `isInteractive` on GlassView for buttons and pressables\n- Check `isLiquidGlassAvailable()` and provide fallbacks\n- Avoid nesting blur views (performance impact)\n- Keep blur intensity reasonable (50-100) for readability\n",
        "plugins/expo-app-design/skills/building-native-ui/references/webgpu-three.md": "# WebGPU & Three.js for Expo\n\n**Use this skill for ANY 3D graphics, games, GPU compute, or Three.js features in React Native.**\n\n## Locked Versions (Tested & Working)\n\n```json\n{\n  \"react-native-wgpu\": \"^0.4.1\",\n  \"three\": \"0.172.0\",\n  \"@react-three/fiber\": \"^9.4.0\",\n  \"wgpu-matrix\": \"^3.0.2\",\n  \"@types/three\": \"0.172.0\"\n}\n```\n\n**Critical:** These versions are tested together. Mismatched versions cause type errors and runtime issues.\n\n## Installation\n\n```bash\nnpm install react-native-wgpu@^0.4.1 three@0.172.0 @react-three/fiber@^9.4.0 wgpu-matrix@^3.0.2 @types/three@0.172.0 --legacy-peer-deps\n```\n\n**Note:** `--legacy-peer-deps` may be required due to peer dependency conflicts with canary Expo versions.\n\n## Metro Configuration\n\nCreate `metro.config.js` in project root:\n\n```js\nconst { getDefaultConfig } = require(\"expo/metro-config\");\n\nconst config = getDefaultConfig(__dirname);\n\nconfig.resolver.resolveRequest = (context, moduleName, platform) => {\n  // Force 'three' to webgpu build\n  if (moduleName.startsWith(\"three\")) {\n    moduleName = \"three/webgpu\";\n  }\n\n  // Use standard react-three/fiber instead of React Native version\n  if (platform !== \"web\" && moduleName.startsWith(\"@react-three/fiber\")) {\n    return context.resolveRequest(\n      {\n        ...context,\n        unstable_conditionNames: [\"module\"],\n        mainFields: [\"module\"],\n      },\n      moduleName,\n      platform\n    );\n  }\n  return context.resolveRequest(context, moduleName, platform);\n};\n\nmodule.exports = config;\n```\n\n## Required Lib Files\n\nCreate these files in `src/lib/`:\n\n### 1. make-webgpu-renderer.ts\n\n```ts\nimport type { NativeCanvas } from \"react-native-wgpu\";\nimport * as THREE from \"three/webgpu\";\n\nexport class ReactNativeCanvas {\n  constructor(private canvas: NativeCanvas) {}\n\n  get width() {\n    return this.canvas.width;\n  }\n  get height() {\n    return this.canvas.height;\n  }\n  set width(width: number) {\n    this.canvas.width = width;\n  }\n  set height(height: number) {\n    this.canvas.height = height;\n  }\n  get clientWidth() {\n    return this.canvas.width;\n  }\n  get clientHeight() {\n    return this.canvas.height;\n  }\n  set clientWidth(width: number) {\n    this.canvas.width = width;\n  }\n  set clientHeight(height: number) {\n    this.canvas.height = height;\n  }\n\n  addEventListener(_type: string, _listener: EventListener) {}\n  removeEventListener(_type: string, _listener: EventListener) {}\n  dispatchEvent(_event: Event) {}\n  setPointerCapture() {}\n  releasePointerCapture() {}\n}\n\nexport const makeWebGPURenderer = (\n  context: GPUCanvasContext,\n  { antialias = true }: { antialias?: boolean } = {}\n) =>\n  new THREE.WebGPURenderer({\n    antialias,\n    // @ts-expect-error\n    canvas: new ReactNativeCanvas(context.canvas),\n    context,\n  });\n```\n\n### 2. fiber-canvas.tsx\n\n```tsx\nimport * as THREE from \"three/webgpu\";\nimport React, { useEffect, useRef } from \"react\";\nimport type { ReconcilerRoot, RootState } from \"@react-three/fiber\";\nimport {\n  extend,\n  createRoot,\n  unmountComponentAtNode,\n  events,\n} from \"@react-three/fiber\";\nimport type { ViewProps } from \"react-native\";\nimport { PixelRatio } from \"react-native\";\nimport { Canvas, type CanvasRef } from \"react-native-wgpu\";\n\nimport {\n  makeWebGPURenderer,\n  ReactNativeCanvas,\n} from \"@/lib/make-webgpu-renderer\";\n\n// Extend THREE namespace for R3F - add all components you use\nextend({\n  AmbientLight: THREE.AmbientLight,\n  DirectionalLight: THREE.DirectionalLight,\n  PointLight: THREE.PointLight,\n  SpotLight: THREE.SpotLight,\n  Mesh: THREE.Mesh,\n  Group: THREE.Group,\n  Points: THREE.Points,\n  BoxGeometry: THREE.BoxGeometry,\n  SphereGeometry: THREE.SphereGeometry,\n  CylinderGeometry: THREE.CylinderGeometry,\n  ConeGeometry: THREE.ConeGeometry,\n  DodecahedronGeometry: THREE.DodecahedronGeometry,\n  BufferGeometry: THREE.BufferGeometry,\n  BufferAttribute: THREE.BufferAttribute,\n  MeshStandardMaterial: THREE.MeshStandardMaterial,\n  MeshBasicMaterial: THREE.MeshBasicMaterial,\n  PointsMaterial: THREE.PointsMaterial,\n  PerspectiveCamera: THREE.PerspectiveCamera,\n  Scene: THREE.Scene,\n});\n\ninterface FiberCanvasProps {\n  children: React.ReactNode;\n  style?: ViewProps[\"style\"];\n  camera?: THREE.PerspectiveCamera;\n  scene?: THREE.Scene;\n}\n\nexport const FiberCanvas = ({\n  children,\n  style,\n  scene,\n  camera,\n}: FiberCanvasProps) => {\n  const root = useRef<ReconcilerRoot<OffscreenCanvas>>(null!);\n  const canvasRef = useRef<CanvasRef>(null);\n\n  useEffect(() => {\n    const context = canvasRef.current!.getContext(\"webgpu\")!;\n    const renderer = makeWebGPURenderer(context);\n\n    // @ts-expect-error - ReactNativeCanvas wraps native canvas\n    const canvas = new ReactNativeCanvas(context.canvas) as HTMLCanvasElement;\n    canvas.width = canvas.clientWidth * PixelRatio.get();\n    canvas.height = canvas.clientHeight * PixelRatio.get();\n    const size = {\n      top: 0,\n      left: 0,\n      width: canvas.clientWidth,\n      height: canvas.clientHeight,\n    };\n\n    if (!root.current) {\n      root.current = createRoot(canvas);\n    }\n    root.current.configure({\n      size,\n      events,\n      scene,\n      camera,\n      gl: renderer,\n      frameloop: \"always\",\n      dpr: 1,\n      onCreated: async (state: RootState) => {\n        // @ts-expect-error - WebGPU renderer has init method\n        await state.gl.init();\n        const renderFrame = state.gl.render.bind(state.gl);\n        state.gl.render = (s: THREE.Scene, c: THREE.Camera) => {\n          renderFrame(s, c);\n          context?.present();\n        };\n      },\n    });\n    root.current.render(children);\n    return () => {\n      if (canvas != null) {\n        unmountComponentAtNode(canvas!);\n      }\n    };\n  });\n\n  return <Canvas ref={canvasRef} style={style} />;\n};\n```\n\n## Basic 3D Scene\n\n```tsx\nimport * as THREE from \"three/webgpu\";\nimport { View } from \"react-native\";\nimport { useRef } from \"react\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport { FiberCanvas } from \"@/lib/fiber-canvas\";\n\nfunction RotatingBox() {\n  const ref = useRef<THREE.Mesh>(null!);\n\n  useFrame((_, delta) => {\n    ref.current.rotation.x += delta;\n    ref.current.rotation.y += delta * 0.5;\n  });\n\n  return (\n    <mesh ref={ref}>\n      <boxGeometry args={[1, 1, 1]} />\n      <meshStandardMaterial color=\"hotpink\" />\n    </mesh>\n  );\n}\n\nfunction Scene() {\n  const { camera } = useThree();\n\n  useEffect(() => {\n    camera.position.set(0, 2, 5);\n    camera.lookAt(0, 0, 0);\n  }, [camera]);\n\n  return (\n    <>\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[10, 10, 5]} intensity={1} />\n      <RotatingBox />\n    </>\n  );\n}\n\nexport default function App() {\n  return (\n    <View style={{ flex: 1 }}>\n      <FiberCanvas style={{ flex: 1 }}>\n        <Scene />\n      </FiberCanvas>\n    </View>\n  );\n}\n```\n\n## Lazy Loading (Recommended)\n\nUse React.lazy to code-split Three.js for better loading:\n\n```tsx\nimport React, { Suspense } from \"react\";\nimport { ActivityIndicator, View } from \"react-native\";\n\nconst Scene = React.lazy(() => import(\"@/components/scene\"));\n\nexport default function Page() {\n  return (\n    <View style={{ flex: 1 }}>\n      <Suspense fallback={<ActivityIndicator size=\"large\" />}>\n        <Scene />\n      </Suspense>\n    </View>\n  );\n}\n```\n\n## Common Geometries\n\n```tsx\n// Box\n<mesh>\n  <boxGeometry args={[width, height, depth]} />\n  <meshStandardMaterial color=\"red\" />\n</mesh>\n\n// Sphere\n<mesh>\n  <sphereGeometry args={[radius, widthSegments, heightSegments]} />\n  <meshStandardMaterial color=\"blue\" />\n</mesh>\n\n// Cylinder\n<mesh>\n  <cylinderGeometry args={[radiusTop, radiusBottom, height, segments]} />\n  <meshStandardMaterial color=\"green\" />\n</mesh>\n\n// Cone\n<mesh>\n  <coneGeometry args={[radius, height, segments]} />\n  <meshStandardMaterial color=\"yellow\" />\n</mesh>\n```\n\n## Lighting\n\n```tsx\n// Ambient (uniform light everywhere)\n<ambientLight intensity={0.5} />\n\n// Directional (sun-like)\n<directionalLight position={[10, 10, 5]} intensity={1} />\n\n// Point (light bulb)\n<pointLight position={[0, 5, 0]} intensity={2} distance={10} />\n\n// Spot (flashlight)\n<spotLight position={[0, 10, 0]} angle={0.3} penumbra={1} intensity={2} />\n```\n\n## Animation with useFrame\n\n```tsx\nimport { useFrame } from \"@react-three/fiber\";\nimport { useRef } from \"react\";\nimport * as THREE from \"three/webgpu\";\n\nfunction AnimatedMesh() {\n  const ref = useRef<THREE.Mesh>(null!);\n\n  // Runs every frame - delta is time since last frame\n  useFrame((state, delta) => {\n    // Rotate\n    ref.current.rotation.y += delta;\n\n    // Oscillate position\n    ref.current.position.y = Math.sin(state.clock.elapsedTime) * 2;\n  });\n\n  return (\n    <mesh ref={ref}>\n      <boxGeometry />\n      <meshStandardMaterial color=\"orange\" />\n    </mesh>\n  );\n}\n```\n\n## Particle Systems\n\n```tsx\nimport * as THREE from \"three/webgpu\";\nimport { useRef, useEffect } from \"react\";\nimport { useFrame } from \"@react-three/fiber\";\n\nfunction Particles({ count = 500 }) {\n  const ref = useRef<THREE.Points>(null!);\n  const positions = useRef<Float32Array>(new Float32Array(count * 3));\n\n  useEffect(() => {\n    for (let i = 0; i < count; i++) {\n      positions.current[i * 3] = (Math.random() - 0.5) * 50;\n      positions.current[i * 3 + 1] = (Math.random() - 0.5) * 50;\n      positions.current[i * 3 + 2] = (Math.random() - 0.5) * 50;\n    }\n  }, [count]);\n\n  useFrame((_, delta) => {\n    // Animate particles\n    for (let i = 0; i < count; i++) {\n      positions.current[i * 3 + 1] -= delta * 2;\n      if (positions.current[i * 3 + 1] < -25) {\n        positions.current[i * 3 + 1] = 25;\n      }\n    }\n    ref.current.geometry.attributes.position.needsUpdate = true;\n  });\n\n  return (\n    <points ref={ref}>\n      <bufferGeometry>\n        <bufferAttribute\n          attach=\"attributes-position\"\n          args={[positions.current, 3]}\n        />\n      </bufferGeometry>\n      <pointsMaterial color=\"#ffffff\" size={0.2} sizeAttenuation />\n    </points>\n  );\n}\n```\n\n## Touch Controls (Orbit)\n\nSee the full `orbit-controls.tsx` implementation in the lib files. Usage:\n\n```tsx\nimport { View } from \"react-native\";\nimport { FiberCanvas } from \"@/lib/fiber-canvas\";\nimport useControls from \"@/lib/orbit-controls\";\n\nfunction Scene() {\n  const [OrbitControls, events] = useControls();\n\n  return (\n    <View style={{ flex: 1 }} {...events}>\n      <FiberCanvas style={{ flex: 1 }}>\n        <OrbitControls />\n        {/* Your 3D content */}\n      </FiberCanvas>\n    </View>\n  );\n}\n```\n\n## Common Issues & Solutions\n\n### 1. \"X is not part of the THREE namespace\"\n\n**Problem:** Error like `AmbientLight is not part of the THREE namespace`\n\n**Solution:** Add the missing component to the `extend()` call in fiber-canvas.tsx:\n\n```tsx\nextend({\n  AmbientLight: THREE.AmbientLight,\n  // Add other missing components...\n});\n```\n\n### 2. TypeScript Errors with Three.js\n\n**Problem:** Type mismatches between three.js and R3F\n\n**Solution:** Use `@ts-expect-error` comments where needed:\n\n```tsx\n// @ts-expect-error - WebGPU renderer types don't match\nawait state.gl.init();\n```\n\n### 3. Blank Screen\n\n**Problem:** Canvas renders but nothing visible\n\n**Solution:**\n\n1. Ensure camera is positioned correctly and looking at scene\n2. Add lighting (objects are black without light)\n3. Check that `extend()` includes all components used\n\n### 4. Performance Issues\n\n**Problem:** Low frame rate or stuttering\n\n**Solution:**\n\n- Reduce polygon count in geometries\n- Use `useMemo` for static data\n- Limit particle count\n- Use `instancedMesh` for many identical objects\n\n### 5. Peer Dependency Errors\n\n**Problem:** npm install fails with ERESOLVE\n\n**Solution:** Use `--legacy-peer-deps`:\n\n```bash\nnpm install <packages> --legacy-peer-deps\n```\n\n## Building\n\nWebGPU requires a custom build:\n\n```bash\nnpx expo prebuild\nnpx expo run:ios\n```\n\n**Note:** WebGPU does NOT work in Expo Go.\n\n## File Structure\n\n```\nsrc/\n├── app/\n│   └── index.tsx           # Entry point with lazy loading\n├── components/\n│   ├── scene.tsx           # Main 3D scene\n│   └── game.tsx            # Game logic\n└── lib/\n    ├── fiber-canvas.tsx    # R3F canvas wrapper\n    ├── make-webgpu-renderer.ts  # WebGPU renderer\n    └── orbit-controls.tsx  # Touch controls\n```\n\n## Decision Tree\n\n```\nNeed 3D graphics?\n├── Simple shapes → mesh + geometry + material\n├── Animated objects → useFrame + refs\n├── Many objects → instancedMesh\n├── Particles → Points + BufferGeometry\n│\nNeed interaction?\n├── Orbit camera → useControls hook\n├── Touch objects → onClick on mesh\n├── Gestures → react-native-gesture-handler\n│\nPerformance critical?\n├── Static geometry → useMemo\n├── Many instances → InstancedMesh\n└── Complex scenes → LOD (Level of Detail)\n```\n\n## Example: Complete Game Scene\n\n```tsx\nimport * as THREE from \"three/webgpu\";\nimport { View, Text, Pressable } from \"react-native\";\nimport { useRef, useState, useCallback } from \"react\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport { FiberCanvas } from \"@/lib/fiber-canvas\";\n\nfunction Player({ position }: { position: THREE.Vector3 }) {\n  const ref = useRef<THREE.Mesh>(null!);\n\n  useFrame(() => {\n    ref.current.position.copy(position);\n  });\n\n  return (\n    <mesh ref={ref}>\n      <coneGeometry args={[0.5, 1, 8]} />\n      <meshStandardMaterial color=\"#00ffff\" />\n    </mesh>\n  );\n}\n\nfunction GameScene({ playerX }: { playerX: number }) {\n  const { camera } = useThree();\n  const playerPos = useRef(new THREE.Vector3(0, 0, 0));\n\n  playerPos.current.x = playerX;\n\n  useEffect(() => {\n    camera.position.set(0, 10, 15);\n    camera.lookAt(0, 0, 0);\n  }, [camera]);\n\n  return (\n    <>\n      <ambientLight intensity={0.5} />\n      <directionalLight position={[5, 10, 5]} />\n      <Player position={playerPos.current} />\n    </>\n  );\n}\n\nexport default function Game() {\n  const [playerX, setPlayerX] = useState(0);\n\n  return (\n    <View style={{ flex: 1, backgroundColor: \"#000\" }}>\n      <FiberCanvas style={{ flex: 1 }}>\n        <GameScene playerX={playerX} />\n      </FiberCanvas>\n\n      <View style={{ position: \"absolute\", bottom: 40, flexDirection: \"row\" }}>\n        <Pressable onPress={() => setPlayerX((x) => x - 1)}>\n          <Text style={{ color: \"#fff\", fontSize: 32 }}>◀</Text>\n        </Pressable>\n        <Pressable onPress={() => setPlayerX((x) => x + 1)}>\n          <Text style={{ color: \"#fff\", fontSize: 32 }}>▶</Text>\n        </Pressable>\n      </View>\n    </View>\n  );\n}\n```\n",
        "plugins/expo-app-design/skills/expo-api-routes/SKILL.md": "---\nname: expo-api-routes\ndescription: Guidelines for creating API routes in Expo Router with EAS Hosting\nversion: 1.0.0\nlicense: MIT\n---\n\n## When to Use API Routes\n\nUse API routes when you need:\n\n- **Server-side secrets** — API keys, database credentials, or tokens that must never reach the client\n- **Database operations** — Direct database queries that shouldn't be exposed\n- **Third-party API proxies** — Hide API keys when calling external services (OpenAI, Stripe, etc.)\n- **Server-side validation** — Validate data before database writes\n- **Webhook endpoints** — Receive callbacks from services like Stripe or GitHub\n- **Rate limiting** — Control access at the server level\n- **Heavy computation** — Offload processing that would be slow on mobile\n\n## When NOT to Use API Routes\n\nAvoid API routes when:\n\n- **Data is already public** — Use direct fetch to public APIs instead\n- **No secrets required** — Static data or client-safe operations\n- **Real-time updates needed** — Use WebSockets or services like Supabase Realtime\n- **Simple CRUD** — Consider Firebase, Supabase, or Convex for managed backends\n- **File uploads** — Use direct-to-storage uploads (S3 presigned URLs, Cloudflare R2)\n- **Authentication only** — Use Clerk, Auth0, or Firebase Auth instead\n\n## File Structure\n\nAPI routes live in the `app` directory with `+api.ts` suffix:\n\n```\napp/\n  api/\n    hello+api.ts          → GET /api/hello\n    users+api.ts          → /api/users\n    users/[id]+api.ts     → /api/users/:id\n  (tabs)/\n    index.tsx\n```\n\n## Basic API Route\n\n```ts\n// app/api/hello+api.ts\nexport function GET(request: Request) {\n  return Response.json({ message: \"Hello from Expo!\" });\n}\n```\n\n## HTTP Methods\n\nExport named functions for each HTTP method:\n\n```ts\n// app/api/items+api.ts\nexport function GET(request: Request) {\n  return Response.json({ items: [] });\n}\n\nexport async function POST(request: Request) {\n  const body = await request.json();\n  return Response.json({ created: body }, { status: 201 });\n}\n\nexport async function PUT(request: Request) {\n  const body = await request.json();\n  return Response.json({ updated: body });\n}\n\nexport async function DELETE(request: Request) {\n  return new Response(null, { status: 204 });\n}\n```\n\n## Dynamic Routes\n\n```ts\n// app/api/users/[id]+api.ts\nexport function GET(request: Request, { id }: { id: string }) {\n  return Response.json({ userId: id });\n}\n```\n\n## Request Handling\n\n### Query Parameters\n\n```ts\nexport function GET(request: Request) {\n  const url = new URL(request.url);\n  const page = url.searchParams.get(\"page\") ?? \"1\";\n  const limit = url.searchParams.get(\"limit\") ?? \"10\";\n\n  return Response.json({ page, limit });\n}\n```\n\n### Headers\n\n```ts\nexport function GET(request: Request) {\n  const auth = request.headers.get(\"Authorization\");\n\n  if (!auth) {\n    return Response.json({ error: \"Unauthorized\" }, { status: 401 });\n  }\n\n  return Response.json({ authenticated: true });\n}\n```\n\n### JSON Body\n\n```ts\nexport async function POST(request: Request) {\n  const { email, password } = await request.json();\n\n  if (!email || !password) {\n    return Response.json({ error: \"Missing fields\" }, { status: 400 });\n  }\n\n  return Response.json({ success: true });\n}\n```\n\n## Environment Variables\n\nUse `process.env` for server-side secrets:\n\n```ts\n// app/api/ai+api.ts\nexport async function POST(request: Request) {\n  const { prompt } = await request.json();\n\n  const response = await fetch(\"https://api.openai.com/v1/chat/completions\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${process.env.OPENAI_API_KEY}`,\n    },\n    body: JSON.stringify({\n      model: \"gpt-4\",\n      messages: [{ role: \"user\", content: prompt }],\n    }),\n  });\n\n  const data = await response.json();\n  return Response.json(data);\n}\n```\n\nSet environment variables:\n\n- **Local**: Create `.env` file (never commit)\n- **EAS Hosting**: Use `eas env:create` or Expo dashboard\n\n## CORS Headers\n\nAdd CORS for web clients:\n\n```ts\nconst corsHeaders = {\n  \"Access-Control-Allow-Origin\": \"*\",\n  \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\n  \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\",\n};\n\nexport function OPTIONS() {\n  return new Response(null, { headers: corsHeaders });\n}\n\nexport function GET() {\n  return Response.json({ data: \"value\" }, { headers: corsHeaders });\n}\n```\n\n## Error Handling\n\n```ts\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json();\n    // Process...\n    return Response.json({ success: true });\n  } catch (error) {\n    console.error(\"API error:\", error);\n    return Response.json({ error: \"Internal server error\" }, { status: 500 });\n  }\n}\n```\n\n## Testing Locally\n\nStart the development server with API routes:\n\n```bash\nnpx expo serve\n```\n\nThis starts a local server at `http://localhost:8081` with full API route support.\n\nTest with curl:\n\n```bash\ncurl http://localhost:8081/api/hello\ncurl -X POST http://localhost:8081/api/users -H \"Content-Type: application/json\" -d '{\"name\":\"Test\"}'\n```\n\n## Deployment to EAS Hosting\n\n### Prerequisites\n\n```bash\nnpm install -g eas-cli\neas login\n```\n\n### Deploy\n\n```bash\neas deploy\n```\n\nThis builds and deploys your API routes to EAS Hosting (Cloudflare Workers).\n\n### Environment Variables for Production\n\n```bash\n# Create a secret\neas env:create --name OPENAI_API_KEY --value sk-xxx --environment production\n\n# Or use the Expo dashboard\n```\n\n### Custom Domain\n\nConfigure in `eas.json` or Expo dashboard.\n\n## EAS Hosting Runtime (Cloudflare Workers)\n\nAPI routes run on Cloudflare Workers. Key limitations:\n\n### Missing/Limited APIs\n\n- **No Node.js filesystem** — `fs` module unavailable\n- **No native Node modules** — Use Web APIs or polyfills\n- **Limited execution time** — 30 second timeout for CPU-intensive tasks\n- **No persistent connections** — WebSockets require Durable Objects\n- **fetch is available** — Use standard fetch for HTTP requests\n\n### Use Web APIs Instead\n\n```ts\n// Use Web Crypto instead of Node crypto\nconst hash = await crypto.subtle.digest(\n  \"SHA-256\",\n  new TextEncoder().encode(\"data\")\n);\n\n// Use fetch instead of node-fetch\nconst response = await fetch(\"https://api.example.com\");\n\n// Use Response/Request (already available)\nreturn new Response(JSON.stringify(data), {\n  headers: { \"Content-Type\": \"application/json\" },\n});\n```\n\n### Database Options\n\nSince filesystem is unavailable, use cloud databases:\n\n- **Cloudflare D1** — SQLite at the edge\n- **Turso** — Distributed SQLite\n- **PlanetScale** — Serverless MySQL\n- **Supabase** — Postgres with REST API\n- **Neon** — Serverless Postgres\n\nExample with Turso:\n\n```ts\n// app/api/users+api.ts\nimport { createClient } from \"@libsql/client/web\";\n\nconst db = createClient({\n  url: process.env.TURSO_URL!,\n  authToken: process.env.TURSO_AUTH_TOKEN!,\n});\n\nexport async function GET() {\n  const result = await db.execute(\"SELECT * FROM users\");\n  return Response.json(result.rows);\n}\n```\n\n## Calling API Routes from Client\n\n```ts\n// From React Native components\nconst response = await fetch(\"/api/hello\");\nconst data = await response.json();\n\n// With body\nconst response = await fetch(\"/api/users\", {\n  method: \"POST\",\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify({ name: \"John\" }),\n});\n```\n\n## Common Patterns\n\n### Authentication Middleware\n\n```ts\n// utils/auth.ts\nexport async function requireAuth(request: Request) {\n  const token = request.headers.get(\"Authorization\")?.replace(\"Bearer \", \"\");\n\n  if (!token) {\n    throw new Response(JSON.stringify({ error: \"Unauthorized\" }), {\n      status: 401,\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  }\n\n  // Verify token...\n  return { userId: \"123\" };\n}\n\n// app/api/protected+api.ts\nimport { requireAuth } from \"../../utils/auth\";\n\nexport async function GET(request: Request) {\n  const { userId } = await requireAuth(request);\n  return Response.json({ userId });\n}\n```\n\n### Proxy External API\n\n```ts\n// app/api/weather+api.ts\nexport async function GET(request: Request) {\n  const url = new URL(request.url);\n  const city = url.searchParams.get(\"city\");\n\n  const response = await fetch(\n    `https://api.weather.com/v1/current?city=${city}&key=${process.env.WEATHER_API_KEY}`\n  );\n\n  return Response.json(await response.json());\n}\n```\n\n## Rules\n\n- NEVER expose API keys or secrets in client code\n- ALWAYS validate and sanitize user input\n- Use proper HTTP status codes (200, 201, 400, 401, 404, 500)\n- Handle errors gracefully with try/catch\n- Keep API routes focused — one responsibility per endpoint\n- Use TypeScript for type safety\n- Log errors server-side for debugging\n",
        "plugins/expo-app-design/skills/expo-dev-client/SKILL.md": "---\nname: expo-dev-client\ndescription: Build and distribute Expo development clients locally or via TestFlight\nversion: 1.0.0\nlicense: MIT\n---\n\nUse EAS Build to create development clients for testing native code changes on physical devices. Use this for creating custom Expo Go clients for testing branches of your app.\n\n## Important: When Development Clients Are Needed\n\n**Only create development clients when your app requires custom native code.** Most apps work fine in Expo Go.\n\nYou need a dev client ONLY when using:\n- Local Expo modules (custom native code)\n- Apple targets (widgets, app clips, extensions)\n- Third-party native modules not in Expo Go\n\n**Try Expo Go first** with `npx expo start`. If everything works, you don't need a dev client.\n\n## EAS Configuration\n\nEnsure `eas.json` has a development profile:\n\n```json\n{\n  \"cli\": {\n    \"version\": \">= 16.0.1\",\n    \"appVersionSource\": \"remote\"\n  },\n  \"build\": {\n    \"production\": {\n      \"autoIncrement\": true\n    },\n    \"development\": {\n      \"autoIncrement\": true,\n      \"developmentClient\": true\n    }\n  },\n  \"submit\": {\n    \"production\": {},\n    \"development\": {}\n  }\n}\n```\n\nKey settings:\n- `developmentClient: true` - Bundles expo-dev-client for development builds\n- `autoIncrement: true` - Automatically increments build numbers\n- `appVersionSource: \"remote\"` - Uses EAS as the source of truth for version numbers\n\n## Building for TestFlight\n\nBuild iOS dev client and submit to TestFlight in one command:\n\n```bash\neas build -p ios --profile development --submit\n```\n\nThis will:\n1. Build the development client in the cloud\n2. Automatically submit to App Store Connect\n3. Send you an email when the build is ready in TestFlight\n\nAfter receiving the TestFlight email:\n1. Download the build from TestFlight on your device\n2. Launch the app to see the expo-dev-client UI\n3. Connect to your local Metro bundler or scan a QR code\n\n## Building Locally\n\nBuild a development client on your machine:\n\n```bash\n# iOS (requires Xcode)\neas build -p ios --profile development --local\n\n# Android\neas build -p android --profile development --local\n```\n\nLocal builds output:\n- iOS: `.ipa` file\n- Android: `.apk` or `.aab` file\n\n## Installing Local Builds\n\nInstall iOS build on simulator:\n\n```bash\n# Find the .app in the .tar.gz output\ntar -xzf build-*.tar.gz\nxcrun simctl install booted ./path/to/App.app\n```\n\nInstall iOS build on device (requires signing):\n\n```bash\n# Use Xcode Devices window or ideviceinstaller\nideviceinstaller -i build.ipa\n```\n\nInstall Android build:\n\n```bash\nadb install build.apk\n```\n\n## Building for Specific Platform\n\n```bash\n# iOS only\neas build -p ios --profile development\n\n# Android only\neas build -p android --profile development\n\n# Both platforms\neas build --profile development\n```\n\n## Checking Build Status\n\n```bash\n# List recent builds\neas build:list\n\n# View build details\neas build:view\n```\n\n## Using the Dev Client\n\nOnce installed, the dev client provides:\n- **Development server connection** - Enter your Metro bundler URL or scan QR\n- **Build information** - View native build details\n- **Launcher UI** - Switch between development servers\n\nConnect to local development:\n\n```bash\n# Start Metro bundler\nnpx expo start --dev-client\n\n# Scan QR code with dev client or enter URL manually\n```\n\n## Troubleshooting\n\n**Build fails with signing errors:**\n```bash\neas credentials\n```\n\n**Clear build cache:**\n```bash\neas build -p ios --profile development --clear-cache\n```\n\n**Check EAS CLI version:**\n```bash\neas --version\neas update\n```\n",
        "plugins/expo-app-design/skills/expo-tailwind-setup/SKILL.md": "---\nname: expo-tailwind-setup\ndescription: Set up Tailwind CSS v4 in Expo with react-native-css and NativeWind v5 for universal styling\nversion: 1.0.0\nlicense: MIT\n---\n\n# Tailwind CSS Setup for Expo with react-native-css\n\nThis guide covers setting up Tailwind CSS v4 in Expo using react-native-css and NativeWind v5 for universal styling across iOS, Android, and Web.\n\n## Overview\n\nThis setup uses:\n\n- **Tailwind CSS v4** - Modern CSS-first configuration\n- **react-native-css** - CSS runtime for React Native\n- **NativeWind v5** - Metro transformer for Tailwind in React Native\n- **@tailwindcss/postcss** - PostCSS plugin for Tailwind v4\n\n## Installation\n\n```bash\n# Install dependencies\nnpx expo install tailwindcss@^4 nativewind@5.0.0-preview.2 react-native-css@0.0.0-nightly.5ce6396 @tailwindcss/postcss tailwind-merge clsx\n```\n\nAdd resolutions for lightningcss compatibility:\n\n```json\n// package.json\n{\n  \"resolutions\": {\n    \"lightningcss\": \"1.30.1\"\n  }\n}\n```\n\n- autoprefixer is not needed in Expo because of lightningcss\n- postcss is included in expo by default\n\n## Configuration Files\n\n### Metro Config\n\nCreate or update `metro.config.js`:\n\n```js\n// metro.config.js\nconst { getDefaultConfig } = require(\"expo/metro-config\");\nconst { withNativewind } = require(\"nativewind/metro\");\n\n/** @type {import('expo/metro-config').MetroConfig} */\nconst config = getDefaultConfig(__dirname);\n\nmodule.exports = withNativewind(config, {\n  // inline variables break PlatformColor in CSS variables\n  inlineVariables: false,\n  // We add className support manually\n  globalClassNamePolyfill: false,\n});\n```\n\n### PostCSS Config\n\nCreate `postcss.config.mjs`:\n\n```js\n// postcss.config.mjs\nexport default {\n  plugins: {\n    \"@tailwindcss/postcss\": {},\n  },\n};\n```\n\n### Global CSS\n\nCreate `src/global.css`:\n\n```css\n@import \"tailwindcss/theme.css\" layer(theme);\n@import \"tailwindcss/preflight.css\" layer(base);\n@import \"tailwindcss/utilities.css\";\n\n/* Platform-specific font families */\n@media android {\n  :root {\n    --font-mono: monospace;\n    --font-rounded: normal;\n    --font-serif: serif;\n    --font-sans: normal;\n  }\n}\n\n@media ios {\n  :root {\n    --font-mono: ui-monospace;\n    --font-serif: ui-serif;\n    --font-sans: system-ui;\n    --font-rounded: ui-rounded;\n  }\n}\n```\n\n## IMPORTANT: No Babel Config Needed\n\nWith Tailwind v4 and NativeWind v5, you do NOT need a babel.config.js for Tailwind. Remove any NativeWind babel presets if present:\n\n```js\n// DELETE babel.config.js if it only contains NativeWind config\n// The following is NO LONGER needed:\n// module.exports = function (api) {\n//   api.cache(true);\n//   return {\n//     presets: [\n//       [\"babel-preset-expo\", { jsxImportSource: \"nativewind\" }],\n//       \"nativewind/babel\",\n//     ],\n//   };\n// };\n```\n\n## CSS Component Wrappers\n\nSince react-native-css requires explicit CSS element wrapping, create reusable components:\n\n### Main Components (`src/tw/index.tsx`)\n\n```tsx\nimport {\n  useCssElement,\n  useNativeVariable as useFunctionalVariable,\n} from \"react-native-css\";\n\nimport { Link as RouterLink } from \"expo-router\";\nimport Animated from \"react-native-reanimated\";\nimport React from \"react\";\nimport {\n  View as RNView,\n  Text as RNText,\n  Pressable as RNPressable,\n  ScrollView as RNScrollView,\n  TouchableHighlight as RNTouchableHighlight,\n  TextInput as RNTextInput,\n  StyleSheet,\n} from \"react-native\";\n\n// CSS-enabled Link\nexport const Link = (\n  props: React.ComponentProps<typeof RouterLink> & { className?: string }\n) => {\n  return useCssElement(RouterLink, props, { className: \"style\" });\n};\n\nLink.Trigger = RouterLink.Trigger;\nLink.Menu = RouterLink.Menu;\nLink.MenuAction = RouterLink.MenuAction;\nLink.Preview = RouterLink.Preview;\n\n// CSS Variable hook\nexport const useCSSVariable =\n  process.env.EXPO_OS !== \"web\"\n    ? useFunctionalVariable\n    : (variable: string) => `var(${variable})`;\n\n// View\nexport type ViewProps = React.ComponentProps<typeof RNView> & {\n  className?: string;\n};\n\nexport const View = (props: ViewProps) => {\n  return useCssElement(RNView, props, { className: \"style\" });\n};\nView.displayName = \"CSS(View)\";\n\n// Text\nexport const Text = (\n  props: React.ComponentProps<typeof RNText> & { className?: string }\n) => {\n  return useCssElement(RNText, props, { className: \"style\" });\n};\nText.displayName = \"CSS(Text)\";\n\n// ScrollView\nexport const ScrollView = (\n  props: React.ComponentProps<typeof RNScrollView> & {\n    className?: string;\n    contentContainerClassName?: string;\n  }\n) => {\n  return useCssElement(RNScrollView, props, {\n    className: \"style\",\n    contentContainerClassName: \"contentContainerStyle\",\n  });\n};\nScrollView.displayName = \"CSS(ScrollView)\";\n\n// Pressable\nexport const Pressable = (\n  props: React.ComponentProps<typeof RNPressable> & { className?: string }\n) => {\n  return useCssElement(RNPressable, props, { className: \"style\" });\n};\nPressable.displayName = \"CSS(Pressable)\";\n\n// TextInput\nexport const TextInput = (\n  props: React.ComponentProps<typeof RNTextInput> & { className?: string }\n) => {\n  return useCssElement(RNTextInput, props, { className: \"style\" });\n};\nTextInput.displayName = \"CSS(TextInput)\";\n\n// AnimatedScrollView\nexport const AnimatedScrollView = (\n  props: React.ComponentProps<typeof Animated.ScrollView> & {\n    className?: string;\n    contentClassName?: string;\n    contentContainerClassName?: string;\n  }\n) => {\n  return useCssElement(Animated.ScrollView, props, {\n    className: \"style\",\n    contentClassName: \"contentContainerStyle\",\n    contentContainerClassName: \"contentContainerStyle\",\n  });\n};\n\n// TouchableHighlight with underlayColor extraction\nfunction XXTouchableHighlight(\n  props: React.ComponentProps<typeof RNTouchableHighlight>\n) {\n  const { underlayColor, ...style } = StyleSheet.flatten(props.style) || {};\n  return (\n    <RNTouchableHighlight\n      underlayColor={underlayColor}\n      {...props}\n      style={style}\n    />\n  );\n}\n\nexport const TouchableHighlight = (\n  props: React.ComponentProps<typeof RNTouchableHighlight>\n) => {\n  return useCssElement(XXTouchableHighlight, props, { className: \"style\" });\n};\nTouchableHighlight.displayName = \"CSS(TouchableHighlight)\";\n```\n\n### Image Component (`src/tw/image.tsx`)\n\n```tsx\nimport { useCssElement } from \"react-native-css\";\nimport React from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport Animated from \"react-native-reanimated\";\nimport { Image as RNImage } from \"expo-image\";\n\nconst AnimatedExpoImage = Animated.createAnimatedComponent(RNImage);\n\nexport type ImageProps = React.ComponentProps<typeof Image>;\n\nfunction CSSImage(props: React.ComponentProps<typeof AnimatedExpoImage>) {\n  // @ts-expect-error: Remap objectFit style to contentFit property\n  const { objectFit, objectPosition, ...style } =\n    StyleSheet.flatten(props.style) || {};\n\n  return (\n    <AnimatedExpoImage\n      contentFit={objectFit}\n      contentPosition={objectPosition}\n      {...props}\n      source={\n        typeof props.source === \"string\" ? { uri: props.source } : props.source\n      }\n      // @ts-expect-error: Style is remapped above\n      style={style}\n    />\n  );\n}\n\nexport const Image = (\n  props: React.ComponentProps<typeof CSSImage> & { className?: string }\n) => {\n  return useCssElement(CSSImage, props, { className: \"style\" });\n};\n\nImage.displayName = \"CSS(Image)\";\n```\n\n### Animated Components (`src/tw/animated.tsx`)\n\n```tsx\nimport * as TW from \"./index\";\nimport RNAnimated from \"react-native-reanimated\";\n\nexport const Animated = {\n  ...RNAnimated,\n  View: RNAnimated.createAnimatedComponent(TW.View),\n};\n```\n\n## Usage\n\nImport CSS-wrapped components from your tw directory:\n\n```tsx\nimport { View, Text, ScrollView, Image } from \"@/tw\";\n\nexport default function MyScreen() {\n  return (\n    <ScrollView className=\"flex-1 bg-white\">\n      <View className=\"p-4 gap-4\">\n        <Text className=\"text-xl font-bold text-gray-900\">Hello Tailwind!</Text>\n        <Image\n          className=\"w-full h-48 rounded-lg object-cover\"\n          source={{ uri: \"https://example.com/image.jpg\" }}\n        />\n      </View>\n    </ScrollView>\n  );\n}\n```\n\n## Custom Theme Variables\n\nAdd custom theme variables in your global.css using `@theme`:\n\n```css\n@layer theme {\n  @theme {\n    /* Custom fonts */\n    --font-rounded: \"SF Pro Rounded\", sans-serif;\n\n    /* Custom line heights */\n    --text-xs--line-height: calc(1em / 0.75);\n    --text-sm--line-height: calc(1.25em / 0.875);\n    --text-base--line-height: calc(1.5em / 1);\n\n    /* Custom leading scales */\n    --leading-tight: 1.25em;\n    --leading-snug: 1.375em;\n    --leading-normal: 1.5em;\n  }\n}\n```\n\n## Platform-Specific Styles\n\nUse platform media queries for platform-specific styling:\n\n```css\n@media ios {\n  :root {\n    --font-sans: system-ui;\n    --font-rounded: ui-rounded;\n  }\n}\n\n@media android {\n  :root {\n    --font-sans: normal;\n    --font-rounded: normal;\n  }\n}\n```\n\n## Apple System Colors with CSS Variables\n\nCreate a CSS file for Apple semantic colors:\n\n```css\n/* src/css/sf.css */\n@layer base {\n  html {\n    color-scheme: light;\n  }\n}\n\n:root {\n  /* Accent colors with light/dark mode */\n  --sf-blue: light-dark(rgb(0 122 255), rgb(10 132 255));\n  --sf-green: light-dark(rgb(52 199 89), rgb(48 209 89));\n  --sf-red: light-dark(rgb(255 59 48), rgb(255 69 58));\n\n  /* Gray scales */\n  --sf-gray: light-dark(rgb(142 142 147), rgb(142 142 147));\n  --sf-gray-2: light-dark(rgb(174 174 178), rgb(99 99 102));\n\n  /* Text colors */\n  --sf-text: light-dark(rgb(0 0 0), rgb(255 255 255));\n  --sf-text-2: light-dark(rgb(60 60 67 / 0.6), rgb(235 235 245 / 0.6));\n\n  /* Background colors */\n  --sf-bg: light-dark(rgb(255 255 255), rgb(0 0 0));\n  --sf-bg-2: light-dark(rgb(242 242 247), rgb(28 28 30));\n}\n\n/* iOS native colors via platformColor */\n@media ios {\n  :root {\n    --sf-blue: platformColor(systemBlue);\n    --sf-green: platformColor(systemGreen);\n    --sf-red: platformColor(systemRed);\n    --sf-gray: platformColor(systemGray);\n    --sf-text: platformColor(label);\n    --sf-text-2: platformColor(secondaryLabel);\n    --sf-bg: platformColor(systemBackground);\n    --sf-bg-2: platformColor(secondarySystemBackground);\n  }\n}\n\n/* Register as Tailwind theme colors */\n@layer theme {\n  @theme {\n    --color-sf-blue: var(--sf-blue);\n    --color-sf-green: var(--sf-green);\n    --color-sf-red: var(--sf-red);\n    --color-sf-gray: var(--sf-gray);\n    --color-sf-text: var(--sf-text);\n    --color-sf-text-2: var(--sf-text-2);\n    --color-sf-bg: var(--sf-bg);\n    --color-sf-bg-2: var(--sf-bg-2);\n  }\n}\n```\n\nThen use in components:\n\n```tsx\n<Text className=\"text-sf-text\">Primary text</Text>\n<Text className=\"text-sf-text-2\">Secondary text</Text>\n<View className=\"bg-sf-bg\">...</View>\n```\n\n## Using CSS Variables in JavaScript\n\nUse the `useCSSVariable` hook:\n\n```tsx\nimport { useCSSVariable } from \"@/tw\";\n\nfunction MyComponent() {\n  const blue = useCSSVariable(\"--sf-blue\");\n\n  return <View style={{ borderColor: blue }} />;\n}\n```\n\n## Key Differences from NativeWind v4 / Tailwind v3\n\n1. **No babel.config.js** - Configuration is now CSS-first\n2. **PostCSS plugin** - Uses `@tailwindcss/postcss` instead of `tailwindcss`\n3. **CSS imports** - Use `@import \"tailwindcss/...\"` instead of `@tailwind` directives\n4. **Theme config** - Use `@theme` in CSS instead of `tailwind.config.js`\n5. **Component wrappers** - Must wrap components with `useCssElement` for className support\n6. **Metro config** - Use `withNativewind` with different options (`inlineVariables: false`)\n\n## Troubleshooting\n\n### Styles not applying\n\n1. Ensure you have the CSS file imported in your app entry\n2. Check that components are wrapped with `useCssElement`\n3. Verify Metro config has `withNativewind` applied\n\n### Platform colors not working\n\n1. Use `platformColor()` in `@media ios` blocks\n2. Fall back to `light-dark()` for web/Android\n\n### TypeScript errors\n\nAdd className to component props:\n\n```tsx\ntype Props = React.ComponentProps<typeof RNView> & { className?: string };\n```\n",
        "plugins/expo-app-design/skills/native-data-fetching/SKILL.md": "---\nname: native-data-fetching\ndescription: Use when implementing or debugging ANY network request, API call, or data fetching. Covers fetch API, axios, React Query, SWR, error handling, caching strategies, offline support.\nversion: 1.0.0\nlicense: MIT\n---\n\n# Expo Networking\n\n**You MUST use this skill for ANY networking work including API requests, data fetching, caching, or network debugging.**\n\n## When to Use\n\nUse this router when:\n\n- Implementing API requests\n- Setting up data fetching (React Query, SWR)\n- Debugging network failures\n- Implementing caching strategies\n- Handling offline scenarios\n- Authentication/token management\n- Configuring API URLs and environment variables\n\n## Preferences\n\n- Avoid axios, prefer expo/fetch\n\n## Common Issues & Solutions\n\n### 1. Basic Fetch Usage\n\n**Simple GET request**:\n\n```tsx\nconst fetchUser = async (userId: string) => {\n  const response = await fetch(`https://api.example.com/users/${userId}`);\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n\n  return response.json();\n};\n```\n\n**POST request with body**:\n\n```tsx\nconst createUser = async (userData: UserData) => {\n  const response = await fetch(\"https://api.example.com/users\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(userData),\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message);\n  }\n\n  return response.json();\n};\n```\n\n---\n\n### 2. React Query (TanStack Query)\n\n**Setup**:\n\n```tsx\n// app/_layout.tsx\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 minutes\n      retry: 2,\n    },\n  },\n});\n\nexport default function RootLayout() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Stack />\n    </QueryClientProvider>\n  );\n}\n```\n\n**Fetching data**:\n\n```tsx\nimport { useQuery } from \"@tanstack/react-query\";\n\nfunction UserProfile({ userId }: { userId: string }) {\n  const { data, isLoading, error, refetch } = useQuery({\n    queryKey: [\"user\", userId],\n    queryFn: () => fetchUser(userId),\n  });\n\n  if (isLoading) return <Loading />;\n  if (error) return <Error message={error.message} />;\n\n  return <Profile user={data} />;\n}\n```\n\n**Mutations**:\n\n```tsx\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\n\nfunction CreateUserForm() {\n  const queryClient = useQueryClient();\n\n  const mutation = useMutation({\n    mutationFn: createUser,\n    onSuccess: () => {\n      // Invalidate and refetch\n      queryClient.invalidateQueries({ queryKey: [\"users\"] });\n    },\n  });\n\n  const handleSubmit = (data: UserData) => {\n    mutation.mutate(data);\n  };\n\n  return <Form onSubmit={handleSubmit} isLoading={mutation.isPending} />;\n}\n```\n\n---\n\n### 3. Error Handling\n\n**Comprehensive error handling**:\n\n```tsx\nclass ApiError extends Error {\n  constructor(message: string, public status: number, public code?: string) {\n    super(message);\n    this.name = \"ApiError\";\n  }\n}\n\nconst fetchWithErrorHandling = async (url: string, options?: RequestInit) => {\n  try {\n    const response = await fetch(url, options);\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new ApiError(\n        error.message || \"Request failed\",\n        response.status,\n        error.code\n      );\n    }\n\n    return response.json();\n  } catch (error) {\n    if (error instanceof ApiError) {\n      throw error;\n    }\n    // Network error (no internet, timeout, etc.)\n    throw new ApiError(\"Network error\", 0, \"NETWORK_ERROR\");\n  }\n};\n```\n\n**Retry logic**:\n\n```tsx\nconst fetchWithRetry = async (\n  url: string,\n  options?: RequestInit,\n  retries = 3\n) => {\n  for (let i = 0; i < retries; i++) {\n    try {\n      return await fetchWithErrorHandling(url, options);\n    } catch (error) {\n      if (i === retries - 1) throw error;\n      // Exponential backoff\n      await new Promise((r) => setTimeout(r, Math.pow(2, i) * 1000));\n    }\n  }\n};\n```\n\n---\n\n### 4. Authentication\n\n**Token management**:\n\n```tsx\nimport * as SecureStore from \"expo-secure-store\";\n\nconst TOKEN_KEY = \"auth_token\";\n\nexport const auth = {\n  getToken: () => SecureStore.getItemAsync(TOKEN_KEY),\n  setToken: (token: string) => SecureStore.setItemAsync(TOKEN_KEY, token),\n  removeToken: () => SecureStore.deleteItemAsync(TOKEN_KEY),\n};\n\n// Authenticated fetch wrapper\nconst authFetch = async (url: string, options: RequestInit = {}) => {\n  const token = await auth.getToken();\n\n  return fetch(url, {\n    ...options,\n    headers: {\n      ...options.headers,\n      Authorization: token ? `Bearer ${token}` : \"\",\n    },\n  });\n};\n```\n\n**Token refresh**:\n\n```tsx\nlet isRefreshing = false;\nlet refreshPromise: Promise<string> | null = null;\n\nconst getValidToken = async (): Promise<string> => {\n  const token = await auth.getToken();\n\n  if (!token || isTokenExpired(token)) {\n    if (!isRefreshing) {\n      isRefreshing = true;\n      refreshPromise = refreshToken().finally(() => {\n        isRefreshing = false;\n        refreshPromise = null;\n      });\n    }\n    return refreshPromise!;\n  }\n\n  return token;\n};\n```\n\n---\n\n### 5. Offline Support\n\n**Check network status**:\n\n```tsx\nimport NetInfo from \"@react-native-community/netinfo\";\n\n// Hook for network status\nfunction useNetworkStatus() {\n  const [isOnline, setIsOnline] = useState(true);\n\n  useEffect(() => {\n    return NetInfo.addEventListener((state) => {\n      setIsOnline(state.isConnected ?? true);\n    });\n  }, []);\n\n  return isOnline;\n}\n```\n\n**Offline-first with React Query**:\n\n```tsx\nimport { onlineManager } from \"@tanstack/react-query\";\nimport NetInfo from \"@react-native-community/netinfo\";\n\n// Sync React Query with network status\nonlineManager.setEventListener((setOnline) => {\n  return NetInfo.addEventListener((state) => {\n    setOnline(state.isConnected ?? true);\n  });\n});\n\n// Queries will pause when offline and resume when online\n```\n\n---\n\n### 6. Environment Variables\n\n**Using environment variables for API configuration**:\n\nExpo supports environment variables with the `EXPO_PUBLIC_` prefix. These are inlined at build time and available in your JavaScript code.\n\n```tsx\n// .env\nEXPO_PUBLIC_API_URL=https://api.example.com\nEXPO_PUBLIC_API_VERSION=v1\n\n// Usage in code\nconst API_URL = process.env.EXPO_PUBLIC_API_URL;\n\nconst fetchUsers = async () => {\n  const response = await fetch(`${API_URL}/users`);\n  return response.json();\n};\n```\n\n**Environment-specific configuration**:\n\n```tsx\n// .env.development\nEXPO_PUBLIC_API_URL=http://localhost:3000\n\n// .env.production\nEXPO_PUBLIC_API_URL=https://api.production.com\n```\n\n**Creating an API client with environment config**:\n\n```tsx\n// api/client.ts\nconst BASE_URL = process.env.EXPO_PUBLIC_API_URL;\n\nif (!BASE_URL) {\n  throw new Error(\"EXPO_PUBLIC_API_URL is not defined\");\n}\n\nexport const apiClient = {\n  get: async <T,>(path: string): Promise<T> => {\n    const response = await fetch(`${BASE_URL}${path}`);\n    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n    return response.json();\n  },\n\n  post: async <T,>(path: string, body: unknown): Promise<T> => {\n    const response = await fetch(`${BASE_URL}${path}`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    });\n    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n    return response.json();\n  },\n};\n```\n\n**Important notes**:\n\n- Only variables prefixed with `EXPO_PUBLIC_` are exposed to the client bundle\n- Never put secrets (API keys with write access, database passwords) in `EXPO_PUBLIC_` variables—they're visible in the built app\n- Environment variables are inlined at **build time**, not runtime\n- Restart the dev server after changing `.env` files\n- For server-side secrets in API routes, use variables without the `EXPO_PUBLIC_` prefix\n\n**TypeScript support**:\n\n```tsx\n// types/env.d.ts\ndeclare global {\n  namespace NodeJS {\n    interface ProcessEnv {\n      EXPO_PUBLIC_API_URL: string;\n      EXPO_PUBLIC_API_VERSION?: string;\n    }\n  }\n}\n\nexport {};\n```\n\n---\n\n### 7. Request Cancellation\n\n**Cancel on unmount**:\n\n```tsx\nuseEffect(() => {\n  const controller = new AbortController();\n\n  fetch(url, { signal: controller.signal })\n    .then((response) => response.json())\n    .then(setData)\n    .catch((error) => {\n      if (error.name !== \"AbortError\") {\n        setError(error);\n      }\n    });\n\n  return () => controller.abort();\n}, [url]);\n```\n\n**With React Query** (automatic):\n\n```tsx\n// React Query automatically cancels requests when queries are invalidated\n// or components unmount\n```\n\n---\n\n## Decision Tree\n\n```\nUser asks about networking\n  |-- Basic fetch?\n  |   \\-- Use fetch API with error handling\n  |\n  |-- Need caching/state management?\n  |   |-- Complex app -> React Query (TanStack Query)\n  |   \\-- Simpler needs -> SWR or custom hooks\n  |\n  |-- Authentication?\n  |   |-- Token storage -> expo-secure-store\n  |   \\-- Token refresh -> Implement refresh flow\n  |\n  |-- Error handling?\n  |   |-- Network errors -> Check connectivity first\n  |   |-- HTTP errors -> Parse response, throw typed errors\n  |   \\-- Retries -> Exponential backoff\n  |\n  |-- Offline support?\n  |   |-- Check status -> NetInfo\n  |   \\-- Queue requests -> React Query persistence\n  |\n  |-- Environment/API config?\n  |   |-- Client-side URLs -> EXPO_PUBLIC_ prefix in .env\n  |   |-- Server secrets -> Non-prefixed env vars (API routes only)\n  |   \\-- Multiple environments -> .env.development, .env.production\n  |\n  \\-- Performance?\n      |-- Caching -> React Query with staleTime\n      |-- Deduplication -> React Query handles this\n      \\-- Cancellation -> AbortController or React Query\n```\n\n## Common Mistakes\n\n**Wrong: No error handling**\n\n```tsx\nconst data = await fetch(url).then((r) => r.json());\n```\n\n**Right: Check response status**\n\n```tsx\nconst response = await fetch(url);\nif (!response.ok) throw new Error(`HTTP ${response.status}`);\nconst data = await response.json();\n```\n\n**Wrong: Storing tokens in AsyncStorage**\n\n```tsx\nawait AsyncStorage.setItem(\"token\", token); // Not secure!\n```\n\n**Right: Use SecureStore for sensitive data**\n\n```tsx\nawait SecureStore.setItemAsync(\"token\", token);\n```\n\n## Example Invocations\n\nUser: \"How do I make API calls in React Native?\"\n-> Use fetch, wrap with error handling\n\nUser: \"Should I use React Query or SWR?\"\n-> React Query for complex apps, SWR for simpler needs\n\nUser: \"My app needs to work offline\"\n-> Use NetInfo for status, React Query persistence for caching\n\nUser: \"How do I handle authentication tokens?\"\n-> Store in expo-secure-store, implement refresh flow\n\nUser: \"API calls are slow\"\n-> Check caching strategy, use React Query staleTime\n\nUser: \"How do I configure different API URLs for dev and prod?\"\n-> Use EXPO*PUBLIC* env vars with .env.development and .env.production files\n\nUser: \"Where should I put my API key?\"\n-> Client-safe keys: EXPO*PUBLIC* in .env. Secret keys: non-prefixed env vars in API routes only\n",
        "plugins/expo-app-design/skills/use-dom/SKILL.md": "---\nname: use-dom\ndescription: Use Expo DOM components to run web code in a webview on native and as-is on web. Migrate web code to native incrementally.\nversion: 1.0.0\nlicense: MIT\n---\n\n## What are DOM Components?\n\nDOM components allow web code to run verbatim in a webview on native platforms while rendering as-is on web. This enables using web-only libraries like `recharts`, `react-syntax-highlighter`, or any React web library in your Expo app without modification.\n\n## When to Use DOM Components\n\nUse DOM components when you need:\n\n- **Web-only libraries** — Charts (recharts, chart.js), syntax highlighters, rich text editors, or any library that depends on DOM APIs\n- **Migrating web code** — Bring existing React web components to native without rewriting\n- **Complex HTML/CSS layouts** — When CSS features aren't available in React Native\n- **iframes or embeds** — Embedding external content that requires a browser context\n- **Canvas or WebGL** — Web graphics APIs not available natively\n\n## When NOT to Use DOM Components\n\nAvoid DOM components when:\n\n- **Native performance is critical** — Webviews add overhead\n- **Simple UI** — React Native components are more efficient for basic layouts\n- **Deep native integration** — Use local modules instead for native APIs\n- **Layout routes** — `_layout` files cannot be DOM components\n\n## Basic DOM Component\n\nCreate a new file with the `'use dom';` directive at the top:\n\n```tsx\n// components/WebChart.tsx\n\"use dom\";\n\nexport default function WebChart({\n  data,\n}: {\n  data: number[];\n  dom: import(\"expo/dom\").DOMProps;\n}) {\n  return (\n    <div style={{ padding: 20 }}>\n      <h2>Chart Data</h2>\n      <ul>\n        {data.map((value, i) => (\n          <li key={i}>{value}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n```\n\n## Rules for DOM Components\n\n1. **Must have `'use dom';` directive** at the top of the file\n2. **Single default export** — One React component per file\n3. **Own file** — Cannot be defined inline or combined with native components\n4. **Serializable props only** — Strings, numbers, booleans, arrays, plain objects\n5. **Include CSS in the component file** — DOM components run in isolated context\n\n## The `dom` Prop\n\nEvery DOM component receives a special `dom` prop for webview configuration. Always type it in your props:\n\n```tsx\n\"use dom\";\n\ninterface Props {\n  content: string;\n  dom: import(\"expo/dom\").DOMProps;\n}\n\nexport default function MyComponent({ content }: Props) {\n  return <div>{content}</div>;\n}\n```\n\n### Common `dom` Prop Options\n\n```tsx\n// Disable body scrolling\n<DOMComponent dom={{ scrollEnabled: false }} />\n\n// Flow under the notch (disable safe area insets)\n<DOMComponent dom={{ contentInsetAdjustmentBehavior: \"never\" }} />\n\n// Control size manually\n<DOMComponent dom={{ style: { width: 300, height: 400 } }} />\n\n// Combine options\n<DOMComponent\n  dom={{\n    scrollEnabled: false,\n    contentInsetAdjustmentBehavior: \"never\",\n    style: { width: '100%', height: 500 }\n  }}\n/>\n```\n\n## Exposing Native Actions to the Webview\n\nPass async functions as props to expose native functionality to the DOM component:\n\n```tsx\n// app/index.tsx (native)\nimport { Alert } from \"react-native\";\nimport DOMComponent from \"@/components/dom-component\";\n\nexport default function Screen() {\n  return (\n    <DOMComponent\n      showAlert={async (message: string) => {\n        Alert.alert(\"From Web\", message);\n      }}\n      saveData={async (data: { name: string; value: number }) => {\n        // Save to native storage, database, etc.\n        console.log(\"Saving:\", data);\n        return { success: true };\n      }}\n    />\n  );\n}\n```\n\n```tsx\n// components/dom-component.tsx\n\"use dom\";\n\ninterface Props {\n  showAlert: (message: string) => Promise<void>;\n  saveData: (data: {\n    name: string;\n    value: number;\n  }) => Promise<{ success: boolean }>;\n  dom?: import(\"expo/dom\").DOMProps;\n}\n\nexport default function DOMComponent({ showAlert, saveData }: Props) {\n  const handleClick = async () => {\n    await showAlert(\"Hello from the webview!\");\n    const result = await saveData({ name: \"test\", value: 42 });\n    console.log(\"Save result:\", result);\n  };\n\n  return <button onClick={handleClick}>Trigger Native Action</button>;\n}\n```\n\n## Using Web Libraries\n\nDOM components can use any web library:\n\n```tsx\n// components/syntax-highlight.tsx\n\"use dom\";\n\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\nimport { docco } from \"react-syntax-highlighter/dist/esm/styles/hljs\";\n\ninterface Props {\n  code: string;\n  language: string;\n  dom?: import(\"expo/dom\").DOMProps;\n}\n\nexport default function SyntaxHighlight({ code, language }: Props) {\n  return (\n    <SyntaxHighlighter language={language} style={docco}>\n      {code}\n    </SyntaxHighlighter>\n  );\n}\n```\n\n```tsx\n// components/chart.tsx\n\"use dom\";\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from \"recharts\";\n\ninterface Props {\n  data: Array<{ name: string; value: number }>;\n  dom: import(\"expo/dom\").DOMProps;\n}\n\nexport default function Chart({ data }: Props) {\n  return (\n    <LineChart width={400} height={300} data={data}>\n      <CartesianGrid strokeDasharray=\"3 3\" />\n      <XAxis dataKey=\"name\" />\n      <YAxis />\n      <Tooltip />\n      <Line type=\"monotone\" dataKey=\"value\" stroke=\"#8884d8\" />\n    </LineChart>\n  );\n}\n```\n\n## CSS in DOM Components\n\nCSS imports must be in the DOM component file since they run in isolated context:\n\n```tsx\n// components/styled-component.tsx\n\"use dom\";\n\nimport \"@/styles.css\"; // CSS file in same directory\n\nexport default function StyledComponent({\n  dom,\n}: {\n  dom: import(\"expo/dom\").DOMProps;\n}) {\n  return (\n    <div className=\"container\">\n      <h1 className=\"title\">Styled Content</h1>\n    </div>\n  );\n}\n```\n\nOr use inline styles / CSS-in-JS:\n\n```tsx\n\"use dom\";\n\nconst styles = {\n  container: {\n    padding: 20,\n    backgroundColor: \"#f0f0f0\",\n  },\n  title: {\n    fontSize: 24,\n    color: \"#333\",\n  },\n};\n\nexport default function StyledComponent({\n  dom,\n}: {\n  dom: import(\"expo/dom\").DOMProps;\n}) {\n  return (\n    <div style={styles.container}>\n      <h1 style={styles.title}>Styled Content</h1>\n    </div>\n  );\n}\n```\n\n## Expo Router in DOM Components\n\nThe expo-router `<Link />` component and router API work inside DOM components:\n\n```tsx\n\"use dom\";\n\nimport { Link, useRouter } from \"expo-router\";\n\nexport default function Navigation({\n  dom,\n}: {\n  dom: import(\"expo/dom\").DOMProps;\n}) {\n  const router = useRouter();\n\n  return (\n    <nav>\n      <Link href=\"/about\">About</Link>\n      <button onClick={() => router.push(\"/settings\")}>Settings</button>\n    </nav>\n  );\n}\n```\n\n### Router APIs That Require Props\n\nThese hooks don't work directly in DOM components because they need synchronous access to native routing state:\n\n- `useLocalSearchParams()`\n- `useGlobalSearchParams()`\n- `usePathname()`\n- `useSegments()`\n- `useRootNavigation()`\n- `useRootNavigationState()`\n\n**Solution:** Read these values in the native parent and pass as props:\n\n```tsx\n// app/[id].tsx (native)\nimport { useLocalSearchParams, usePathname } from \"expo-router\";\nimport DOMComponent from \"@/components/dom-component\";\n\nexport default function Screen() {\n  const { id } = useLocalSearchParams();\n  const pathname = usePathname();\n\n  return <DOMComponent id={id as string} pathname={pathname} />;\n}\n```\n\n```tsx\n// components/dom-component.tsx\n\"use dom\";\n\ninterface Props {\n  id: string;\n  pathname: string;\n  dom?: import(\"expo/dom\").DOMProps;\n}\n\nexport default function DOMComponent({ id, pathname }: Props) {\n  return (\n    <div>\n      <p>Current ID: {id}</p>\n      <p>Current Path: {pathname}</p>\n    </div>\n  );\n}\n```\n\n## Detecting DOM Environment\n\nCheck if code is running in a DOM component:\n\n```tsx\n\"use dom\";\n\nimport { IS_DOM } from \"expo/dom\";\n\nexport default function Component({\n  dom,\n}: {\n  dom?: import(\"expo/dom\").DOMProps;\n}) {\n  return <div>{IS_DOM ? \"Running in DOM component\" : \"Running natively\"}</div>;\n}\n```\n\n## Assets\n\nPrefer requiring assets instead of using the public directory:\n\n```tsx\n\"use dom\";\n\n// Good - bundled with the component\nconst logo = require(\"../assets/logo.png\");\n\nexport default function Component({\n  dom,\n}: {\n  dom: import(\"expo/dom\").DOMProps;\n}) {\n  return <img src={logo} alt=\"Logo\" />;\n}\n```\n\n## Usage from Native Components\n\nImport and use DOM components like regular components:\n\n```tsx\n// app/index.tsx\nimport { View, Text } from \"react-native\";\nimport WebChart from \"@/components/web-chart\";\nimport CodeBlock from \"@/components/code-block\";\n\nexport default function HomeScreen() {\n  return (\n    <View style={{ flex: 1 }}>\n      <Text>Native content above</Text>\n\n      <WebChart data={[10, 20, 30, 40, 50]} dom={{ style: { height: 300 } }} />\n\n      <CodeBlock\n        code=\"const x = 1;\"\n        language=\"javascript\"\n        dom={{ scrollEnabled: true }}\n      />\n\n      <Text>Native content below</Text>\n    </View>\n  );\n}\n```\n\n## Platform Behavior\n\n| Platform | Behavior                            |\n| -------- | ----------------------------------- |\n| iOS      | Rendered in WKWebView               |\n| Android  | Rendered in WebView                 |\n| Web      | Rendered as-is (no webview wrapper) |\n\nOn web, the `dom` prop is ignored since no webview is needed.\n\n## Tips\n\n- DOM components hot reload during development\n- Keep DOM components focused — don't put entire screens in webviews\n- Use native components for navigation chrome, DOM components for specialized content\n- Test on all platforms — web rendering may differ slightly from native webviews\n- Large DOM components may impact performance — profile if needed\n- The webview has its own JavaScript context — cannot directly share state with native\n",
        "plugins/expo-deployment/.claude-plugin/plugin.json": "{\n  \"name\": \"expo-deployment\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Deploying Expo apps to iOS App Store, Android Play Store, web hosting, and CI/CD workflows\",\n  \"author\": {\n    \"name\": \"James Ide\",\n    \"email\": \"ide@expo.dev\"\n  }\n}\n",
        "plugins/expo-deployment/README.md": "# Expo Deployment Plugin\n\nDeploying Expo apps to iOS App Store, Android Play Store, web hosting, and CI/CD workflows.\n\n## What This Plugin Does\n\n- Guides iOS App Store and TestFlight submissions\n- Covers Android Play Store deployment and track management\n- Explains EAS Build configuration and version management\n- Helps write and validate EAS Workflow YAML files for CI/CD\n- Covers web deployment with EAS Hosting\n\n## When to Use\n\n- Submitting apps to App Store Connect or Google Play\n- Setting up TestFlight beta testing\n- Configuring EAS Build profiles\n- Writing CI/CD workflows for automated deployments\n- Deploying web apps with EAS Hosting\n\n## Skills Included\n\n- **deployment** - Store submissions, EAS Build, and web hosting\n- **cicd-workflows** - EAS Workflow YAML files for CI/CD automation\n\n## License\n\nMIT\n",
        "plugins/expo-deployment/skills/expo-cicd-workflows/SKILL.md": "---\nname: expo-cicd-workflows\ndescription: Helps understand and write EAS workflow YAML files for Expo projects. Use this skill when the user asks about CI/CD or workflows in an Expo or EAS context, mentions .eas/workflows/, or wants help with EAS build pipelines or deployment automation.\nallowed-tools: \"Read,Write,Bash(node:*)\"\nversion: 1.0.0\nlicense: MIT License\n---\n\n# EAS Workflows Skill\n\nHelp developers write and edit EAS CI/CD workflow YAML files.\n\n## Reference Documentation\n\nFetch these resources before generating or validating workflow files. Use the fetch script (implemented using Node.js) in this skill's `scripts/` directory; it caches responses using ETags for efficiency:\n\n```bash\n# Fetch resources\nnode {baseDir}/scripts/fetch.js <url>\n```\n\n1. **JSON Schema** — https://api.expo.dev/v2/workflows/schema\n   - It is NECESSARY to fetch this schema\n   - Source of truth for validation\n   - All job types and their required/optional parameters\n   - Trigger types and configurations\n   - Runner types, VM images, and all enums\n\n2. **Syntax Documentation** — https://raw.githubusercontent.com/expo/expo/refs/heads/main/docs/pages/eas/workflows/syntax.mdx\n   - Overview of workflow YAML syntax\n   - Examples and English explanations\n   - Expression syntax and contexts\n\n3. **Pre-packaged Jobs** — https://raw.githubusercontent.com/expo/expo/refs/heads/main/docs/pages/eas/workflows/pre-packaged-jobs.mdx\n   - Documentation for supported pre-packaged job types\n   - Job-specific parameters and outputs\n\nDo not rely on memorized values; these resources evolve as new features are added.\n\n## Workflow File Location\n\nWorkflows live in `.eas/workflows/*.yml` (or `.yaml`).\n\n## Top-Level Structure\n\nA workflow file has these top-level keys:\n\n- `name` — Display name for the workflow\n- `on` — Triggers that start the workflow (at least one required)\n- `jobs` — Job definitions (required)\n- `defaults` — Shared defaults for all jobs\n- `concurrency` — Control parallel workflow runs\n\nConsult the schema for the full specification of each section.\n\n## Expressions\n\nUse `${{ }}` syntax for dynamic values. The schema defines available contexts:\n\n- `github.*` — GitHub repository and event information\n- `inputs.*` — Values from `workflow_dispatch` inputs\n- `needs.*` — Outputs and status from dependent jobs\n- `jobs.*` — Job outputs (alternative syntax)\n- `steps.*` — Step outputs within custom jobs\n- `workflow.*` — Workflow metadata\n\n## Generating Workflows\n\nWhen generating or editing workflows:\n\n1. Fetch the schema to get current job types, parameters, and allowed values\n2. Validate that required fields are present for each job type\n3. Verify job references in `needs` and `after` exist in the workflow\n4. Check that expressions reference valid contexts and outputs\n5. Ensure `if` conditions respect the schema's length constraints\n\n## Validation\n\nAfter generating or editing a workflow file, validate it against the schema:\n\n```sh\n# Install dependencies if missing\n[ -d \"{baseDir}/scripts/node_modules\" ] || npm install --prefix {baseDir}/scripts\n\nnode {baseDir}/scripts/validate.js <workflow.yml> [workflow2.yml ...]\n```\n\nThe validator fetches the latest schema and checks the YAML structure. Fix any reported errors before considering the workflow complete.\n\n## Answering Questions\n\nWhen users ask about available options (job types, triggers, runner types, etc.), fetch the schema and derive the answer from it rather than relying on potentially outdated information.\n",
        "plugins/expo-deployment/skills/expo-deployment/SKILL.md": "---\nname: expo-deployment\ndescription: Deploying Expo apps to iOS App Store, Android Play Store, web hosting, and API routes\nversion: 1.0.0\nlicense: MIT\n---\n\n# Deployment\n\nThis skill covers deploying Expo applications across all platforms using EAS (Expo Application Services).\n\n## References\n\nConsult these resources as needed:\n\n- ./references/workflows.md -- CI/CD workflows for automated deployments and PR previews\n- ./references/testflight.md -- Submitting iOS builds to TestFlight for beta testing\n- ./references/app-store-metadata.md -- Managing App Store metadata and ASO optimization\n- ./references/play-store.md -- Submitting Android builds to Google Play Store\n- ./references/ios-app-store.md -- iOS App Store submission and review process\n\n## Quick Start\n\n### Install EAS CLI\n\n```bash\nnpm install -g eas-cli\neas login\n```\n\n### Initialize EAS\n\n```bash\nnpx eas-cli@latest init\n```\n\nThis creates `eas.json` with build profiles.\n\n## Build Commands\n\n### Production Builds\n\n```bash\n# iOS App Store build\nnpx eas-cli@latest build -p ios --profile production\n\n# Android Play Store build\nnpx eas-cli@latest build -p android --profile production\n\n# Both platforms\nnpx eas-cli@latest build --profile production\n```\n\n### Submit to Stores\n\n```bash\n# iOS: Build and submit to App Store Connect\nnpx eas-cli@latest build -p ios --profile production --submit\n\n# Android: Build and submit to Play Store\nnpx eas-cli@latest build -p android --profile production --submit\n\n# Shortcut for iOS TestFlight\nnpx testflight\n```\n\n## Web Deployment\n\nDeploy web apps using EAS Hosting:\n\n```bash\n# Deploy to production\nnpx expo export -p web\nnpx eas-cli@latest deploy --prod\n\n# Deploy PR preview\nnpx eas-cli@latest deploy\n```\n\n## EAS Configuration\n\nStandard `eas.json` for production deployments:\n\n```json\n{\n  \"cli\": {\n    \"version\": \">= 16.0.1\",\n    \"appVersionSource\": \"remote\"\n  },\n  \"build\": {\n    \"production\": {\n      \"autoIncrement\": true,\n      \"ios\": {\n        \"resourceClass\": \"m-medium\"\n      }\n    },\n    \"development\": {\n      \"developmentClient\": true,\n      \"distribution\": \"internal\"\n    }\n  },\n  \"submit\": {\n    \"production\": {\n      \"ios\": {\n        \"appleId\": \"your@email.com\",\n        \"ascAppId\": \"1234567890\"\n      },\n      \"android\": {\n        \"serviceAccountKeyPath\": \"./google-service-account.json\",\n        \"track\": \"internal\"\n      }\n    }\n  }\n}\n```\n\n## Platform-Specific Guides\n\n### iOS\n\n- Use `npx testflight` for quick TestFlight submissions\n- Configure Apple credentials via `eas credentials`\n- See ./reference/testflight.md for credential setup\n- See ./reference/ios-app-store.md for App Store submission\n\n### Android\n\n- Set up Google Play Console service account\n- Configure tracks: internal → closed → open → production\n- See ./reference/play-store.md for detailed setup\n\n### Web\n\n- EAS Hosting provides preview URLs for PRs\n- Production deploys to your custom domain\n- See ./reference/workflows.md for CI/CD automation\n\n## Automated Deployments\n\nUse EAS Workflows for CI/CD:\n\n```yaml\n# .eas/workflows/release.yml\nname: Release\n\non:\n  push:\n    branches: [main]\n\njobs:\n  build-ios:\n    type: build\n    params:\n      platform: ios\n      profile: production\n\n  submit-ios:\n    type: submit\n    needs: [build-ios]\n    params:\n      platform: ios\n      profile: production\n```\n\nSee ./reference/workflows.md for more workflow examples.\n\n## Version Management\n\nEAS manages version numbers automatically with `appVersionSource: \"remote\"`:\n\n```bash\n# Check current versions\neas build:version:get\n\n# Manually set version\neas build:version:set -p ios --build-number 42\n```\n\n## Monitoring\n\n```bash\n# List recent builds\neas build:list\n\n# Check build status\neas build:view\n\n# View submission status\neas submit:list\n```\n",
        "plugins/expo-deployment/skills/expo-deployment/references/app-store-metadata.md": "# App Store Metadata\n\nManage App Store metadata and optimize for ASO using EAS Metadata.\n\n## What is EAS Metadata?\n\nEAS Metadata automates App Store presence management from the command line using a `store.config.json` file instead of manually filling forms in App Store Connect. It includes built-in validation to catch common rejection pitfalls.\n\n**Current Status:** Preview, Apple App Store only.\n\n## Getting Started\n\n### Pull Existing Metadata\n\nIf your app is already published, pull current metadata:\n\n```bash\neas metadata:pull\n```\n\nThis creates `store.config.json` with your current App Store configuration.\n\n### Push Metadata Updates\n\nAfter editing your config, push changes:\n\n```bash\neas metadata:push\n```\n\n**Important:** You must submit a binary via `eas submit` before pushing metadata for new apps.\n\n## Configuration File\n\nCreate `store.config.json` at your project root:\n\n```json\n{\n  \"configVersion\": 0,\n  \"apple\": {\n    \"copyright\": \"2025 Your Company\",\n    \"categories\": [\"UTILITIES\", \"PRODUCTIVITY\"],\n    \"info\": {\n      \"en-US\": {\n        \"title\": \"App Name\",\n        \"subtitle\": \"Your compelling tagline\",\n        \"description\": \"Full app description...\",\n        \"keywords\": [\"keyword1\", \"keyword2\", \"keyword3\"],\n        \"releaseNotes\": \"What's new in this version...\",\n        \"promoText\": \"Limited time offer!\",\n        \"privacyPolicyUrl\": \"https://example.com/privacy\",\n        \"supportUrl\": \"https://example.com/support\",\n        \"marketingUrl\": \"https://example.com\"\n      }\n    },\n    \"advisory\": {\n      \"alcoholTobaccoOrDrugUseOrReferences\": \"NONE\",\n      \"gamblingSimulated\": \"NONE\",\n      \"medicalOrTreatmentInformation\": \"NONE\",\n      \"profanityOrCrudeHumor\": \"NONE\",\n      \"sexualContentGraphicAndNudity\": \"NONE\",\n      \"sexualContentOrNudity\": \"NONE\",\n      \"horrorOrFearThemes\": \"NONE\",\n      \"matureOrSuggestiveThemes\": \"NONE\",\n      \"violenceCartoonOrFantasy\": \"NONE\",\n      \"violenceRealistic\": \"NONE\",\n      \"violenceRealisticProlongedGraphicOrSadistic\": \"NONE\",\n      \"contests\": \"NONE\",\n      \"gambling\": false,\n      \"unrestrictedWebAccess\": false,\n      \"seventeenPlus\": false\n    },\n    \"release\": {\n      \"automaticRelease\": true,\n      \"phasedRelease\": true\n    },\n    \"review\": {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"email\": \"review@example.com\",\n      \"phone\": \"+1 555-123-4567\",\n      \"notes\": \"Demo account: test@example.com / password123\"\n    }\n  }\n}\n```\n\n## App Store Optimization (ASO)\n\n### Title Optimization (30 characters max)\n\nThe title is the most important ranking factor. Include your brand name and 1-2 strongest keywords.\n\n```json\n{\n  \"title\": \"Budgetly - Money Tracker\"\n}\n```\n\n**Best Practices:**\n\n- Brand name first for recognition\n- Include highest-volume keyword\n- Avoid generic words like \"app\" or \"the\"\n- Title keywords boost rankings by ~10%\n\n### Subtitle Optimization (30 characters max)\n\nThe subtitle appears below your title in search results. Use it for your unique value proposition.\n\n```json\n{\n  \"subtitle\": \"Smart Expense & Budget Planner\"\n}\n```\n\n**Best Practices:**\n\n- Don't duplicate keywords from title (Apple counts each word once)\n- Highlight your main differentiator\n- Include secondary high-value keywords\n- Focus on benefits, not features\n\n### Keywords Field (100 characters max)\n\nHidden from users but crucial for discoverability. Use comma-separated keywords without spaces after commas.\n\n```json\n{\n  \"keywords\": [\n    \"finance,budget,expense,money,tracker,savings,bills,income,spending,wallet,personal,weekly,monthly\"\n  ]\n}\n```\n\n**Best Practices:**\n\n- Use all 100 characters\n- Separate with commas only (no spaces)\n- No duplicates from title/subtitle\n- Include singular forms (Apple handles plurals)\n- Add synonyms and alternate spellings\n- Include competitor brand names (carefully)\n- Use digits instead of spelled numbers (\"5\" not \"five\")\n- Skip articles and prepositions\n\n### Description Optimization\n\nThe iOS description is NOT indexed for search but critical for conversion. Focus on convincing users to download.\n\n```json\n{\n  \"description\": \"Take control of your finances with Budgetly, the intuitive money management app trusted by over 1 million users.\\n\\nKEY FEATURES:\\n• Smart budget tracking - Set limits and watch your progress\\n• Expense categorization - Know exactly where your money goes\\n• Bill reminders - Never miss a payment\\n• Beautiful charts - Visualize your financial health\\n• Bank sync - Connect 10,000+ institutions\\n• Cloud backup - Your data, always safe\\n\\nWHY BUDGETLY?\\nUnlike complex spreadsheets or basic calculators, Budgetly learns your spending habits and provides personalized insights. Our users save an average of $300/month within 3 months.\\n\\nPRIVACY FIRST\\nYour financial data is encrypted end-to-end. We never sell your information.\\n\\nDownload Budgetly today and start your journey to financial freedom!\"\n}\n```\n\n**Best Practices:**\n\n- Front-load the first 3 lines (visible before \"more\")\n- Use bullet points for features\n- Include social proof (user counts, ratings, awards)\n- Add a clear call-to-action\n- Mention privacy/security for sensitive apps\n- Update with each release\n\n### Release Notes\n\nShown to existing users deciding whether to update.\n\n```json\n{\n  \"releaseNotes\": \"Version 2.5 brings exciting improvements:\\n\\n• NEW: Dark mode support\\n• NEW: Widget for home screen\\n• IMPROVED: 50% faster sync\\n• FIXED: Notification timing issues\\n\\nLove Budgetly? Please leave a review!\"\n}\n```\n\n### Promo Text (170 characters max)\n\nAppears above description; can be updated without new binary. Great for time-sensitive promotions.\n\n```json\n{\n  \"promoText\": \"🎉 New Year Special: Premium features free for 30 days! Start 2025 with better finances.\"\n}\n```\n\n## Categories\n\nPrimary category is most important for browsing and rankings.\n\n```json\n{\n  \"categories\": [\"FINANCE\", \"PRODUCTIVITY\"]\n}\n```\n\n**Available Categories:**\n\n- BOOKS, BUSINESS, DEVELOPER_TOOLS, EDUCATION\n- ENTERTAINMENT, FINANCE, FOOD_AND_DRINK\n- GAMES (with subcategories), GRAPHICS_AND_DESIGN\n- HEALTH_AND_FITNESS, KIDS (age-gated)\n- LIFESTYLE, MAGAZINES_AND_NEWSPAPERS\n- MEDICAL, MUSIC, NAVIGATION, NEWS\n- PHOTO_AND_VIDEO, PRODUCTIVITY, REFERENCE\n- SHOPPING, SOCIAL_NETWORKING, SPORTS\n- STICKERS (with subcategories), TRAVEL\n- UTILITIES, WEATHER\n\n## Localization\n\nLocalize metadata for each target market. Keywords should be researched per locale—direct translations often miss regional search terms.\n\n```json\n{\n  \"info\": {\n    \"en-US\": {\n      \"title\": \"Budgetly - Money Tracker\",\n      \"subtitle\": \"Smart Expense Planner\",\n      \"keywords\": [\"budget,finance,money,expense,tracker\"]\n    },\n    \"es-ES\": {\n      \"title\": \"Budgetly - Control de Gastos\",\n      \"subtitle\": \"Planificador de Presupuesto\",\n      \"keywords\": [\"presupuesto,finanzas,dinero,gastos,ahorro\"]\n    },\n    \"ja\": {\n      \"title\": \"Budgetly - 家計簿アプリ\",\n      \"subtitle\": \"簡単支出管理\",\n      \"keywords\": [\"家計簿,支出,予算,節約,お金\"]\n    },\n    \"de-DE\": {\n      \"title\": \"Budgetly - Haushaltsbuch\",\n      \"subtitle\": \"Ausgaben Verwalten\",\n      \"keywords\": [\"budget,finanzen,geld,ausgaben,sparen\"]\n    }\n  }\n}\n```\n\n**Supported Locales:**\n`ar-SA`, `ca`, `cs`, `da`, `de-DE`, `el`, `en-AU`, `en-CA`, `en-GB`, `en-US`, `es-ES`, `es-MX`, `fi`, `fr-CA`, `fr-FR`, `he`, `hi`, `hr`, `hu`, `id`, `it`, `ja`, `ko`, `ms`, `nl-NL`, `no`, `pl`, `pt-BR`, `pt-PT`, `ro`, `ru`, `sk`, `sv`, `th`, `tr`, `uk`, `vi`, `zh-Hans`, `zh-Hant`\n\n## Dynamic Configuration\n\nUse JavaScript for dynamic values like copyright year or fetched translations.\n\n### Basic Dynamic Config\n\n```js\n// store.config.js\nconst baseConfig = require(\"./store.config.json\");\n\nconst year = new Date().getFullYear();\n\nmodule.exports = {\n  ...baseConfig,\n  apple: {\n    ...baseConfig.apple,\n    copyright: `${year} Your Company, Inc.`,\n  },\n};\n```\n\n### Async Configuration (External Localization)\n\n```js\n// store.config.js\nmodule.exports = async () => {\n  const baseConfig = require(\"./store.config.json\");\n\n  // Fetch translations from CMS/localization service\n  const translations = await fetch(\n    \"https://api.example.com/app-store-copy\"\n  ).then((r) => r.json());\n\n  return {\n    ...baseConfig,\n    apple: {\n      ...baseConfig.apple,\n      info: translations,\n    },\n  };\n};\n```\n\n### Environment-Based Config\n\n```js\n// store.config.js\nconst baseConfig = require(\"./store.config.json\");\n\nconst isProduction = process.env.EAS_BUILD_PROFILE === \"production\";\n\nmodule.exports = {\n  ...baseConfig,\n  apple: {\n    ...baseConfig.apple,\n    info: {\n      \"en-US\": {\n        ...baseConfig.apple.info[\"en-US\"],\n        promoText: isProduction\n          ? \"Download now and get started!\"\n          : \"[BETA] Help us test new features!\",\n      },\n    },\n  },\n};\n```\n\nUpdate `eas.json` to use JS config:\n\n```json\n{\n  \"cli\": {\n    \"metadataPath\": \"./store.config.js\"\n  }\n}\n```\n\n## Age Rating (Advisory)\n\nAnswer content questions honestly to get an appropriate age rating.\n\n**Content Descriptors:**\n\n- `NONE` - Content not present\n- `INFREQUENT_OR_MILD` - Occasional mild content\n- `FREQUENT_OR_INTENSE` - Regular or strong content\n\n```json\n{\n  \"advisory\": {\n    \"alcoholTobaccoOrDrugUseOrReferences\": \"NONE\",\n    \"contests\": \"NONE\",\n    \"gambling\": false,\n    \"gamblingSimulated\": \"NONE\",\n    \"horrorOrFearThemes\": \"NONE\",\n    \"matureOrSuggestiveThemes\": \"NONE\",\n    \"medicalOrTreatmentInformation\": \"NONE\",\n    \"profanityOrCrudeHumor\": \"NONE\",\n    \"sexualContentGraphicAndNudity\": \"NONE\",\n    \"sexualContentOrNudity\": \"NONE\",\n    \"unrestrictedWebAccess\": false,\n    \"violenceCartoonOrFantasy\": \"NONE\",\n    \"violenceRealistic\": \"NONE\",\n    \"violenceRealisticProlongedGraphicOrSadistic\": \"NONE\",\n    \"seventeenPlus\": false,\n    \"kidsAgeBand\": \"NINE_TO_ELEVEN\"\n  }\n}\n```\n\n**Kids Age Bands:** `FIVE_AND_UNDER`, `SIX_TO_EIGHT`, `NINE_TO_ELEVEN`\n\n## Release Strategy\n\nControl how your app rolls out to users.\n\n```json\n{\n  \"release\": {\n    \"automaticRelease\": true,\n    \"phasedRelease\": true\n  }\n}\n```\n\n**Options:**\n\n- `automaticRelease: true` - Release immediately upon approval\n- `automaticRelease: false` - Manual release after approval\n- `automaticRelease: \"2025-02-01T10:00:00Z\"` - Schedule release (RFC 3339)\n- `phasedRelease: true` - 7-day gradual rollout (1%, 2%, 5%, 10%, 20%, 50%, 100%)\n\n## Review Information\n\nProvide contact info and test credentials for the App Review team.\n\n```json\n{\n  \"review\": {\n    \"firstName\": \"Jane\",\n    \"lastName\": \"Smith\",\n    \"email\": \"app-review@company.com\",\n    \"phone\": \"+1 (555) 123-4567\",\n    \"demoUsername\": \"demo@example.com\",\n    \"demoPassword\": \"ReviewDemo2025!\",\n    \"notes\": \"To test premium features:\\n1. Log in with demo credentials\\n2. Navigate to Settings > Subscription\\n3. Tap 'Restore Purchase' - sandbox purchase will be restored\\n\\nFor location features, allow location access when prompted.\"\n  }\n}\n```\n\n## ASO Checklist\n\n### Before Each Release\n\n- [ ] Update keywords based on performance data\n- [ ] Refresh description with new features\n- [ ] Write compelling release notes\n- [ ] Update promo text if running campaigns\n- [ ] Verify all URLs are valid\n\n### Monthly ASO Tasks\n\n- [ ] Analyze keyword rankings\n- [ ] Research competitor keywords\n- [ ] Check conversion rates in App Analytics\n- [ ] Review user feedback for keyword ideas\n- [ ] A/B test screenshots in App Store Connect\n\n### Keyword Research Tips\n\n1. **Brainstorm features** - List all app capabilities\n2. **Mine reviews** - Find words users actually use\n3. **Analyze competitors** - Check their titles/subtitles\n4. **Use long-tail keywords** - Less competition, higher intent\n5. **Consider misspellings** - Common typos can drive traffic\n6. **Track seasonality** - Some keywords peak at certain times\n\n### Metrics to Monitor\n\n- **Impressions** - How often your app appears in search\n- **Product Page Views** - Users who tap to learn more\n- **Conversion Rate** - Views → Downloads\n- **Keyword Rankings** - Position for target keywords\n- **Category Ranking** - Position in your categories\n\n## VS Code Integration\n\nInstall the [Expo Tools extension](https://marketplace.visualstudio.com/items?itemName=expo.vscode-expo-tools) for:\n\n- Auto-complete for all schema properties\n- Inline validation and warnings\n- Quick fixes for common issues\n\n## Common Issues\n\n### \"Binary not found\"\n\nPush a binary with `eas submit` before pushing metadata.\n\n### \"Invalid keywords\"\n\n- Check total length is ≤100 characters\n- Remove spaces after commas\n- Remove duplicate words\n\n### \"Description too long\"\n\nDescription maximum is 4000 characters.\n\n### Pull doesn't update JS config\n\n`eas metadata:pull` creates a JSON file; import it into your JS config.\n\n## CI/CD Integration\n\nAutomate metadata updates in your deployment pipeline:\n\n```yaml\n# .eas/workflows/release.yml\njobs:\n  submit-and-metadata:\n    steps:\n      - name: Submit to App Store\n        run: eas submit -p ios --latest\n\n      - name: Push Metadata\n        run: eas metadata:push\n```\n\n## Tips\n\n- Update metadata every 4-6 weeks for optimal ASO\n- 70% of App Store visitors use search to find apps\n- Apps with 4+ star ratings get featured more often\n- Localized apps see 128% more downloads per country\n- First 3 lines of description are most critical (shown before \"more\")\n- Use all 100 keyword characters—every character counts\n",
        "plugins/expo-deployment/skills/expo-deployment/references/ios-app-store.md": "# Submitting to iOS App Store\n\n## Prerequisites\n\n1. **Apple Developer Account** - Enroll at [developer.apple.com](https://developer.apple.com)\n2. **App Store Connect App** - Create your app record before first submission\n3. **Apple Credentials** - Configure via EAS or environment variables\n\n## Credential Setup\n\n### Using EAS Credentials\n\n```bash\neas credentials -p ios\n```\n\nThis interactive flow helps you:\n- Create or select a distribution certificate\n- Create or select a provisioning profile\n- Configure App Store Connect API key (recommended)\n\n### App Store Connect API Key (Recommended)\n\nAPI keys avoid 2FA prompts in CI/CD:\n\n1. Go to App Store Connect → Users and Access → Keys\n2. Click \"+\" to create a new key\n3. Select \"App Manager\" role (minimum for submissions)\n4. Download the `.p8` key file\n\nConfigure in `eas.json`:\n\n```json\n{\n  \"submit\": {\n    \"production\": {\n      \"ios\": {\n        \"ascApiKeyPath\": \"./AuthKey_XXXXX.p8\",\n        \"ascApiKeyIssuerId\": \"xxxxx-xxxx-xxxx-xxxx-xxxxx\",\n        \"ascApiKeyId\": \"XXXXXXXXXX\"\n      }\n    }\n  }\n}\n```\n\nOr use environment variables:\n\n```bash\nEXPO_ASC_API_KEY_PATH=./AuthKey.p8\nEXPO_ASC_API_KEY_ISSUER_ID=xxxxx-xxxx-xxxx-xxxx-xxxxx\nEXPO_ASC_API_KEY_ID=XXXXXXXXXX\n```\n\n### Apple ID Authentication (Alternative)\n\nFor manual submissions, you can use Apple ID:\n\n```bash\nEXPO_APPLE_ID=your@email.com\nEXPO_APPLE_TEAM_ID=XXXXXXXXXX\n```\n\nNote: Requires app-specific password for accounts with 2FA.\n\n## Submission Commands\n\n```bash\n# Build and submit to App Store Connect\neas build -p ios --profile production --submit\n\n# Submit latest build\neas submit -p ios --latest\n\n# Submit specific build\neas submit -p ios --id BUILD_ID\n\n# Quick TestFlight submission\nnpx testflight\n```\n\n## App Store Connect Configuration\n\n### First-Time Setup\n\nBefore submitting, complete in App Store Connect:\n\n1. **App Information**\n   - Primary language\n   - Bundle ID (must match `app.json`)\n   - SKU (unique identifier)\n\n2. **Pricing and Availability**\n   - Price tier\n   - Available countries\n\n3. **App Privacy**\n   - Privacy policy URL\n   - Data collection declarations\n\n4. **App Review Information**\n   - Contact information\n   - Demo account (if login required)\n   - Notes for reviewers\n\n### EAS Configuration\n\n```json\n{\n  \"cli\": {\n    \"version\": \">= 16.0.1\",\n    \"appVersionSource\": \"remote\"\n  },\n  \"build\": {\n    \"production\": {\n      \"ios\": {\n        \"resourceClass\": \"m-medium\",\n        \"autoIncrement\": true\n      }\n    }\n  },\n  \"submit\": {\n    \"production\": {\n      \"ios\": {\n        \"appleId\": \"your@email.com\",\n        \"ascAppId\": \"1234567890\",\n        \"appleTeamId\": \"XXXXXXXXXX\"\n      }\n    }\n  }\n}\n```\n\nFind `ascAppId` in App Store Connect → App Information → Apple ID.\n\n## TestFlight vs App Store\n\n### TestFlight (Beta Testing)\n\n- Builds go to TestFlight automatically after submission\n- Internal testers (up to 100) - immediate access\n- External testers (up to 10,000) - requires beta review\n- Builds expire after 90 days\n\n### App Store (Production)\n\n- Requires passing App Review\n- Submit for review from App Store Connect\n- Choose release timing (immediate, scheduled, manual)\n\n## App Review Process\n\n### What Reviewers Check\n\n1. **Functionality** - App works as described\n2. **UI/UX** - Follows Human Interface Guidelines\n3. **Content** - Appropriate and accurate\n4. **Privacy** - Data handling matches declarations\n5. **Legal** - Complies with local laws\n\n### Common Rejection Reasons\n\n| Issue | Solution |\n|-------|----------|\n| Crashes/bugs | Test thoroughly before submission |\n| Incomplete metadata | Fill all required fields |\n| Placeholder content | Remove \"lorem ipsum\" and test data |\n| Missing login credentials | Provide demo account |\n| Privacy policy missing | Add URL in App Store Connect |\n| Guideline 4.2 (minimum functionality) | Ensure app provides value |\n\n### Expedited Review\n\nRequest expedited review for:\n- Critical bug fixes\n- Time-sensitive events\n- Security issues\n\nGo to App Store Connect → your app → App Review → Request Expedited Review.\n\n## Version and Build Numbers\n\niOS uses two version identifiers:\n\n- **Version** (`CFBundleShortVersionString`): User-facing, e.g., \"1.2.3\"\n- **Build Number** (`CFBundleVersion`): Internal, must increment for each upload\n\nConfigure in `app.json`:\n\n```json\n{\n  \"expo\": {\n    \"version\": \"1.2.3\",\n    \"ios\": {\n      \"buildNumber\": \"1\"\n    }\n  }\n}\n```\n\nWith `autoIncrement: true`, EAS handles build numbers automatically.\n\n## Release Options\n\n### Automatic Release\n\nRelease immediately when approved:\n\n```json\n{\n  \"apple\": {\n    \"release\": {\n      \"automaticRelease\": true\n    }\n  }\n}\n```\n\n### Scheduled Release\n\n```json\n{\n  \"apple\": {\n    \"release\": {\n      \"automaticRelease\": \"2025-03-01T10:00:00Z\"\n    }\n  }\n}\n```\n\n### Phased Release\n\nGradual rollout over 7 days:\n\n```json\n{\n  \"apple\": {\n    \"release\": {\n      \"phasedRelease\": true\n    }\n  }\n}\n```\n\nRollout: Day 1 (1%) → Day 2 (2%) → Day 3 (5%) → Day 4 (10%) → Day 5 (20%) → Day 6 (50%) → Day 7 (100%)\n\n## Certificates and Provisioning\n\n### Distribution Certificate\n\n- Required for App Store submissions\n- Limited to 3 per Apple Developer account\n- Valid for 1 year\n- EAS manages automatically\n\n### Provisioning Profile\n\n- Links app, certificate, and entitlements\n- App Store profiles don't include device UDIDs\n- EAS creates and manages automatically\n\n### Check Current Credentials\n\n```bash\neas credentials -p ios\n\n# Sync with Apple Developer Portal\neas credentials -p ios --sync\n```\n\n## App Store Metadata\n\nUse EAS Metadata to manage App Store listing from code:\n\n```bash\n# Pull existing metadata\neas metadata:pull\n\n# Push changes\neas metadata:push\n```\n\nSee ./app-store-metadata.md for detailed configuration.\n\n## Troubleshooting\n\n### \"No suitable application records found\"\n\nCreate the app in App Store Connect first with matching bundle ID.\n\n### \"The bundle version must be higher\"\n\nIncrement build number. With `autoIncrement: true`, this is automatic.\n\n### \"Missing compliance information\"\n\nAdd export compliance to `app.json`:\n\n```json\n{\n  \"expo\": {\n    \"ios\": {\n      \"config\": {\n        \"usesNonExemptEncryption\": false\n      }\n    }\n  }\n}\n```\n\n### \"Invalid provisioning profile\"\n\n```bash\neas credentials -p ios --sync\n```\n\n### Build stuck in \"Processing\"\n\nApp Store Connect processing can take 5-30 minutes. Check status in App Store Connect → TestFlight.\n\n## CI/CD Integration\n\nFor automated submissions in CI/CD:\n\n```yaml\n# .eas/workflows/release.yml\nname: Release to App Store\n\non:\n  push:\n    tags: ['v*']\n\njobs:\n  build:\n    type: build\n    params:\n      platform: ios\n      profile: production\n\n  submit:\n    type: submit\n    needs: [build]\n    params:\n      platform: ios\n      profile: production\n```\n\n## Tips\n\n- Submit to TestFlight early and often for feedback\n- Use beta app review for external testers to catch issues before App Store review\n- Respond to reviewer questions promptly in App Store Connect\n- Keep demo account credentials up to date\n- Monitor App Store Connect notifications for review updates\n- Use phased release for major updates to catch issues early\n",
        "plugins/expo-deployment/skills/expo-deployment/references/play-store.md": "# Submitting to Google Play Store\n\n## Prerequisites\n\n1. **Google Play Console Account** - Register at [play.google.com/console](https://play.google.com/console)\n2. **App Created in Console** - Create your app listing before first submission\n3. **Service Account** - For automated submissions via EAS\n\n## Service Account Setup\n\n### 1. Create Service Account\n\n1. Go to Google Cloud Console → IAM & Admin → Service Accounts\n2. Create a new service account\n3. Grant the \"Service Account User\" role\n4. Create and download a JSON key\n\n### 2. Link to Play Console\n\n1. Go to Play Console → Setup → API access\n2. Click \"Link\" next to your Google Cloud project\n3. Under \"Service accounts\", click \"Manage Play Console permissions\"\n4. Grant \"Release to production\" permission (or appropriate track permissions)\n\n### 3. Configure EAS\n\nAdd the service account key path to `eas.json`:\n\n```json\n{\n  \"submit\": {\n    \"production\": {\n      \"android\": {\n        \"serviceAccountKeyPath\": \"./google-service-account.json\",\n        \"track\": \"internal\"\n      }\n    }\n  }\n}\n```\n\nStore the key file securely and add it to `.gitignore`.\n\n## Environment Variables\n\nFor CI/CD, use environment variables instead of file paths:\n\n```bash\n# Base64-encoded service account JSON\nEXPO_ANDROID_SERVICE_ACCOUNT_KEY_BASE64=...\n```\n\nOr use EAS Secrets:\n\n```bash\neas secret:create --name GOOGLE_SERVICE_ACCOUNT --value \"$(cat google-service-account.json)\" --type file\n```\n\nThen reference in `eas.json`:\n\n```json\n{\n  \"submit\": {\n    \"production\": {\n      \"android\": {\n        \"serviceAccountKeyPath\": \"@secret:GOOGLE_SERVICE_ACCOUNT\"\n      }\n    }\n  }\n}\n```\n\n## Release Tracks\n\nGoogle Play uses tracks for staged rollouts:\n\n| Track | Purpose |\n|-------|---------|\n| `internal` | Internal testing (up to 100 testers) |\n| `alpha` | Closed testing |\n| `beta` | Open testing |\n| `production` | Public release |\n\n### Track Configuration\n\n```json\n{\n  \"submit\": {\n    \"production\": {\n      \"android\": {\n        \"track\": \"production\",\n        \"releaseStatus\": \"completed\"\n      }\n    },\n    \"internal\": {\n      \"android\": {\n        \"track\": \"internal\",\n        \"releaseStatus\": \"completed\"\n      }\n    }\n  }\n}\n```\n\n### Release Status Options\n\n- `completed` - Immediately available on the track\n- `draft` - Upload only, release manually in Console\n- `halted` - Pause an in-progress rollout\n- `inProgress` - Staged rollout (requires `rollout` percentage)\n\n## Staged Rollout\n\n```json\n{\n  \"submit\": {\n    \"production\": {\n      \"android\": {\n        \"track\": \"production\",\n        \"releaseStatus\": \"inProgress\",\n        \"rollout\": 0.1\n      }\n    }\n  }\n}\n```\n\nThis releases to 10% of users. Increase via Play Console or subsequent submissions.\n\n## Submission Commands\n\n```bash\n# Build and submit to internal track\neas build -p android --profile production --submit\n\n# Submit existing build to Play Store\neas submit -p android --latest\n\n# Submit specific build\neas submit -p android --id BUILD_ID\n```\n\n## App Signing\n\n### Google Play App Signing (Recommended)\n\nEAS uses Google Play App Signing by default:\n\n1. First upload: EAS creates upload key, Play Store manages signing key\n2. Play Store re-signs your app with the signing key\n3. Upload key can be reset if compromised\n\n### Checking Signing Status\n\n```bash\neas credentials -p android\n```\n\n## Version Codes\n\nAndroid requires incrementing `versionCode` for each upload:\n\n```json\n{\n  \"build\": {\n    \"production\": {\n      \"autoIncrement\": true\n    }\n  }\n}\n```\n\nWith `appVersionSource: \"remote\"`, EAS tracks version codes automatically.\n\n## First Submission Checklist\n\nBefore your first Play Store submission:\n\n- [ ] Create app in Google Play Console\n- [ ] Complete app content declaration (privacy policy, ads, etc.)\n- [ ] Set up store listing (title, description, screenshots)\n- [ ] Complete content rating questionnaire\n- [ ] Set up pricing and distribution\n- [ ] Create service account with proper permissions\n- [ ] Configure `eas.json` with service account path\n\n## Common Issues\n\n### \"App not found\"\n\nThe app must exist in Play Console before EAS can submit. Create it manually first.\n\n### \"Version code already used\"\n\nIncrement `versionCode` in `app.json` or use `autoIncrement: true` in `eas.json`.\n\n### \"Service account lacks permission\"\n\nEnsure the service account has \"Release to production\" permission in Play Console → API access.\n\n### \"APK not acceptable\"\n\nPlay Store requires AAB (Android App Bundle) for new apps:\n\n```json\n{\n  \"build\": {\n    \"production\": {\n      \"android\": {\n        \"buildType\": \"app-bundle\"\n      }\n    }\n  }\n}\n```\n\n## Internal Testing Distribution\n\nFor quick internal distribution without Play Store:\n\n```bash\n# Build with internal distribution\neas build -p android --profile development\n\n# Share the APK link with testers\n```\n\nOr use EAS Update for OTA updates to existing installs.\n\n## Monitoring Submissions\n\n```bash\n# Check submission status\neas submit:list -p android\n\n# View specific submission\neas submit:view SUBMISSION_ID\n```\n\n## Tips\n\n- Start with `internal` track for testing before production\n- Use staged rollouts for production releases\n- Keep service account key secure - never commit to git\n- Set up Play Console notifications for review status\n- Pre-launch reports in Play Console catch issues before review\n",
        "plugins/expo-deployment/skills/expo-deployment/references/testflight.md": "# TestFlight\n\nAlways ship to TestFlight first. Internal testers, then external testers, then App Store. Never skip this.\n\n## Submit\n\n```bash\nnpx testflight\n```\n\nThat's it. One command builds and submits to TestFlight.\n\n## Skip the Prompts\n\nSet these once and forget:\n\n```bash\nEXPO_APPLE_ID=you@email.com\nEXPO_APPLE_TEAM_ID=XXXXXXXXXX\n```\n\nThe CLI prints your Team ID when you run `npx testflight`. Copy it.\n\n## Why TestFlight First\n\n- Internal testers get builds instantly (no review)\n- External testers require one Beta App Review, then instant updates\n- Catch crashes before App Store review rejects you\n- TestFlight crash reports are better than App Store crash reports\n- 90 days to test before builds expire\n- Real users on real devices, not simulators\n\n## Tester Strategy\n\n**Internal (100 max)**: Your team. Immediate access. Use for every build.\n\n**External (10,000 max)**: Beta users. First build needs review (~24h), then instant. Always have an external group—even if it's just friends. Real feedback beats assumptions.\n\n## Tips\n\n- Submit to external TestFlight the moment internal looks stable\n- Beta App Review is faster and more lenient than App Store Review\n- Add release notes—testers actually read them\n- Use TestFlight's built-in feedback and screenshots\n- Never go straight to App Store. Ever.\n\n## Troubleshooting\n\n**\"No suitable application records found\"**\nCreate the app in App Store Connect first. Bundle ID must match.\n\n**\"The bundle version must be higher\"**\nUse `autoIncrement: true` in `eas.json`. Problem solved.\n\n**Credentials issues**\n```bash\neas credentials -p ios\n```\n",
        "plugins/expo-deployment/skills/expo-deployment/references/workflows.md": "# EAS Workflows\n\nAutomate builds, submissions, and deployments with EAS Workflows.\n\n## Web Deployment\n\nDeploy web apps on push to main:\n\n`.eas/workflows/deploy.yml`\n\n```yaml\nname: Deploy\n\non:\n  push:\n    branches:\n      - main\n\n# https://docs.expo.dev/eas/workflows/syntax/#deploy\njobs:\n  deploy_web:\n    type: deploy\n    params:\n      prod: true\n```\n\n## PR Previews\n\n### Web PR Previews\n\n```yaml\nname: Web PR Preview\n\non:\n  pull_request:\n    types: [opened, synchronize]\n\njobs:\n  preview:\n    type: deploy\n    params:\n      prod: false\n```\n\n### Native PR Previews with EAS Updates\n\nDeploy OTA updates for pull requests:\n\n```yaml\nname: PR Preview\n\non:\n  pull_request:\n    types: [opened, synchronize]\n\njobs:\n  publish:\n    type: update\n    params:\n      branch: \"pr-${{ github.event.pull_request.number }}\"\n      message: \"PR #${{ github.event.pull_request.number }}\"\n```\n\n## Production Release\n\nComplete release workflow for both platforms:\n\n```yaml\nname: Release\n\non:\n  push:\n    tags: ['v*']\n\njobs:\n  build-ios:\n    type: build\n    params:\n      platform: ios\n      profile: production\n\n  build-android:\n    type: build\n    params:\n      platform: android\n      profile: production\n\n  submit-ios:\n    type: submit\n    needs: [build-ios]\n    params:\n      platform: ios\n      profile: production\n\n  submit-android:\n    type: submit\n    needs: [build-android]\n    params:\n      platform: android\n      profile: production\n```\n\n## Build on Push\n\nTrigger builds when pushing to specific branches:\n\n```yaml\nname: Build\n\non:\n  push:\n    branches:\n      - main\n      - release/*\n\njobs:\n  build:\n    type: build\n    params:\n      platform: all\n      profile: production\n```\n\n## Conditional Jobs\n\nRun jobs based on conditions:\n\n```yaml\nname: Conditional Release\n\non:\n  push:\n    branches: [main]\n\njobs:\n  check-changes:\n    type: run\n    params:\n      command: |\n        if git diff --name-only HEAD~1 | grep -q \"^src/\"; then\n          echo \"has_changes=true\" >> $GITHUB_OUTPUT\n        fi\n\n  build:\n    type: build\n    needs: [check-changes]\n    if: needs.check-changes.outputs.has_changes == 'true'\n    params:\n      platform: all\n      profile: production\n```\n\n## Workflow Syntax Reference\n\n### Triggers\n\n```yaml\non:\n  push:\n    branches: [main, develop]\n    tags: ['v*']\n  pull_request:\n    types: [opened, synchronize, reopened]\n  schedule:\n    - cron: '0 0 * * *'  # Daily at midnight\n  workflow_dispatch:  # Manual trigger\n```\n\n### Job Types\n\n| Type | Purpose |\n|------|---------|\n| `build` | Create app builds |\n| `submit` | Submit to app stores |\n| `update` | Publish OTA updates |\n| `deploy` | Deploy web apps |\n| `run` | Execute custom commands |\n\n### Job Dependencies\n\n```yaml\njobs:\n  first:\n    type: build\n    params:\n      platform: ios\n\n  second:\n    type: submit\n    needs: [first]  # Runs after 'first' completes\n    params:\n      platform: ios\n```\n\n## Tips\n\n- Use `workflow_dispatch` for manual production releases\n- Combine PR previews with GitHub status checks\n- Use tags for versioned releases\n- Keep sensitive values in EAS Secrets, not workflow files\n",
        "plugins/upgrading-expo/.claude-plugin/plugin.json": "{\n  \"name\": \"upgrading-expo\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Guidelines for upgrading Expo SDK versions and fixing dependency issues\",\n  \"author\": {\n    \"name\": \"Evan Bacon\",\n    \"email\": \"bacon@expo.io\"\n  }\n}\n",
        "plugins/upgrading-expo/README.md": "# Expo SDK Upgrade Plugin\n\nHelps Claude guide you through upgrading Expo SDK versions safely and efficiently.\n\n## What This Plugin Does\n\n- Walks through the step-by-step upgrade process (`npx expo install expo@latest`)\n- Identifies deprecated packages and their modern replacements\n- Cleans up outdated configuration (babel, metro, postcss)\n- Handles cache clearing for both managed and bare workflows\n- Knows about breaking changes between SDK versions\n\n## When to Use\n\n- Upgrading to a new Expo SDK version\n- Fixing dependency conflicts after an upgrade\n- Migrating from deprecated packages (expo-av → expo-audio/expo-video)\n- Cleaning up legacy configuration files\n\n## License\n\nMIT\n",
        "plugins/upgrading-expo/skills/upgrading-expo/SKILL.md": "---\nname: upgrading-expo\ndescription: Guidelines for upgrading Expo SDK versions and fixing dependency issues\nversion: 1.0.0\nlicense: MIT\n---\n\n## References\n\n- ./references/new-architecture.md -- SDK +53: New Architecture migration guide\n- ./references/react-19.md -- SDK +54: React 19 changes (useContext → use, Context.Provider → Context, forwardRef removal)\n- ./references/react-compiler.md -- SDK +54: React Compiler setup and migration guide\n- ./references/native-tabs.md -- SDK +55: Native tabs changes (Icon/Label/Badge now accessed via NativeTabs.Trigger.\\*)\n- ./references/expo-av-to-audio.md -- Migrate audio playback and recording from expo-av to expo-audio\n- ./references/expo-av-to-video.md -- Migrate video playback from expo-av to expo-video\n\n## Beta/Preview Releases\n\nBeta versions use `.preview` suffix (e.g., `55.0.0-preview.2`), published under `@next` tag.\n\nCheck if latest is beta: https://exp.host/--/api/v2/versions (look for `-preview` in `expoVersion`)\n\n```bash\nnpx expo install expo@next --fix  # install beta\n```\n\n## Step-by-Step Upgrade Process\n\n1. Upgrade Expo and dependencies\n\n```bash\nnpx expo install expo@latest\nnpx expo install --fix\n```\n\n2. Run diagnostics: `npx expo-doctor`\n\n3. Clear caches and reinstall\n\n```bash\nnpx expo export -p ios --clear\nrm -rf node_modules .expo\nwatchman watch-del-all\n```\n\n## Breaking Changes Checklist\n\n- Check for removed APIs in release notes\n- Update import paths for moved modules\n- Review native module changes requiring prebuild\n- Test all camera, audio, and video features\n- Verify navigation still works correctly\n\n## Prebuild for Native Changes\n\nIf upgrading requires native changes:\n\n```bash\nnpx expo prebuild --clean\n```\n\nThis regenerates the `ios` and `android` directories. Ensure the project is not a bare workflow app before running this command.\n\n## Clear caches for bare workflow\n\n- Clear the cocoapods cache for iOS: `cd ios && pod install --repo-update`\n- Clear derived data for Xcode: `npx expo run:ios --no-build-cache`\n- Clear the Gradle cache for Android: `cd android && ./gradlew clean`\n\n## Housekeeping\n\n- Review release notes for the target SDK version at https://expo.dev/changelog\n- If using Expo SDK 54 or later, ensure react-native-worklets is installed — this is required for react-native-reanimated to work.\n- Enable React Compiler in SDK 54+ by adding `\"experiments\": { \"reactCompiler\": true }` to app.json — it's stable and recommended\n- Delete sdkVersion from `app.json` to let Expo manage it automatically\n- Remove implicit packages from `package.json`: `@babel/core`, `babel-preset-expo`, `expo-constants`.\n- If the babel.config.js only contains 'babel-preset-expo', delete the file\n- If the metro.config.js only contains expo defaults, delete the file\n\n## Deprecated Packages\n\n| Old Package          | Replacement                                          |\n| -------------------- | ---------------------------------------------------- |\n| `expo-av`            | `expo-audio` and `expo-video`                        |\n| `expo-permissions`   | Individual package permission APIs                   |\n| `@expo/vector-icons` | `expo-symbols` (for SF Symbols)                      |\n| `AsyncStorage`       | `expo-sqlite/localStorage/install`                   |\n| `expo-app-loading`   | `expo-splash-screen`                                 |\n| expo-linear-gradient | experimental_backgroundImage + CSS gradients in View |\n\nWhen migrating deprecated packages, update all code usage before removing the old package. For expo-av, consult the migration references to convert Audio.Sound to useAudioPlayer, Audio.Recording to useAudioRecorder, and Video components to VideoView with useVideoPlayer.\n\n## expo.install.exclude\n\nCheck if package.json has excluded packages:\n\n```json\n{\n  \"expo\": { \"install\": { \"exclude\": [\"react-native-reanimated\"] } }\n}\n```\n\nExclusions are often workarounds that may no longer be needed after upgrading. Review each one.\n## Removing patches\n\nCheck if there are any outdated patches in the `patches/` directory. Remove them if they are no longer needed.\n\n## Postcss\n\n- `autoprefixer` isn't needed in SDK +53. Remove it from dependencies and check `postcss.config.js` or `postcss.config.mjs` to remove it from the plugins list.\n- Use `postcss.config.mjs` in SDK +53.\n\n## Metro\n\nRemove redundant metro config options:\n\n- resolver.unstable_enablePackageExports is enabled by default in SDK +53.\n- `experimentalImportSupport` is enabled by default in SDK +54.\n- `EXPO_USE_FAST_RESOLVER=1` is removed in SDK +54.\n- cjs and mjs extensions are supported by default in SDK +50.\n- Expo webpack is deprecated, migrate to [Expo Router and Metro web](https://docs.expo.dev/router/migrate/from-expo-webpack/).\n\n## New Architecture\n\nThe new architecture is enabled by default, the app.json field `\"newArchEnabled\": true` is no longer needed as it's the default. Expo Go only supports the new architecture as of SDK +53.\n",
        "plugins/upgrading-expo/skills/upgrading-expo/references/expo-av-to-audio.md": "# Migrating from expo-av to expo-audio\n\n## Imports\n\n```tsx\n// Before\nimport { Audio } from 'expo-av';\n\n// After\nimport { useAudioPlayer, useAudioRecorder, RecordingPresets, AudioModule, setAudioModeAsync } from 'expo-audio';\n```\n\n## Audio Playback\n\n### Before (expo-av)\n\n```tsx\nconst [sound, setSound] = useState<Audio.Sound>();\n\nasync function playSound() {\n  const { sound } = await Audio.Sound.createAsync(require('./audio.mp3'));\n  setSound(sound);\n  await sound.playAsync();\n}\n\nuseEffect(() => {\n  return sound ? () => { sound.unloadAsync(); } : undefined;\n}, [sound]);\n```\n\n### After (expo-audio)\n\n```tsx\nconst player = useAudioPlayer(require('./audio.mp3'));\n\n// Play\nplayer.play();\n```\n\n## Audio Recording\n\n### Before (expo-av)\n\n```tsx\nconst [recording, setRecording] = useState<Audio.Recording>();\n\nasync function startRecording() {\n  await Audio.requestPermissionsAsync();\n  await Audio.setAudioModeAsync({ allowsRecordingIOS: true, playsInSilentModeIOS: true });\n  const { recording } = await Audio.Recording.createAsync(Audio.RecordingOptionsPresets.HIGH_QUALITY);\n  setRecording(recording);\n}\n\nasync function stopRecording() {\n  await recording?.stopAndUnloadAsync();\n  const uri = recording?.getURI();\n}\n```\n\n### After (expo-audio)\n\n```tsx\nconst recorder = useAudioRecorder(RecordingPresets.HIGH_QUALITY);\n\nasync function startRecording() {\n  await AudioModule.requestRecordingPermissionsAsync();\n  await recorder.prepareToRecordAsync();\n  recorder.record();\n}\n\nasync function stopRecording() {\n  await recorder.stop();\n  const uri = recorder.uri;\n}\n```\n\n## Audio Mode\n\n### Before (expo-av)\n\n```tsx\nawait Audio.setAudioModeAsync({\n  allowsRecordingIOS: true,\n  playsInSilentModeIOS: true,\n  staysActiveInBackground: true,\n  interruptionModeIOS: InterruptionModeIOS.DoNotMix,\n});\n```\n\n### After (expo-audio)\n\n```tsx\nawait setAudioModeAsync({\n  playsInSilentMode: true,\n  shouldPlayInBackground: true,\n  interruptionMode: 'doNotMix',\n});\n```\n\n## API Mapping\n\n| expo-av | expo-audio |\n|---------|------------|\n| `Audio.Sound.createAsync()` | `useAudioPlayer(source)` |\n| `sound.playAsync()` | `player.play()` |\n| `sound.pauseAsync()` | `player.pause()` |\n| `sound.setPositionAsync(ms)` | `player.seekTo(seconds)` |\n| `sound.setVolumeAsync(vol)` | `player.volume = vol` |\n| `sound.setRateAsync(rate)` | `player.playbackRate = rate` |\n| `sound.setIsLoopingAsync(loop)` | `player.loop = loop` |\n| `sound.unloadAsync()` | Automatic via hook |\n| `playbackStatus.positionMillis` | `player.currentTime` (seconds) |\n| `playbackStatus.durationMillis` | `player.duration` (seconds) |\n| `playbackStatus.isPlaying` | `player.playing` |\n| `Audio.Recording.createAsync()` | `useAudioRecorder(preset)` |\n| `Audio.RecordingOptionsPresets.*` | `RecordingPresets.*` |\n| `recording.stopAndUnloadAsync()` | `recorder.stop()` |\n| `recording.getURI()` | `recorder.uri` |\n| `Audio.requestPermissionsAsync()` | `AudioModule.requestRecordingPermissionsAsync()` |\n\n## Key Differences\n\n- **No auto-reset on finish**: After `play()` completes, the player stays paused at the end. To replay, call `player.seekTo(0)` then `play()`\n- **Time in seconds**: expo-audio uses seconds, not milliseconds (matching web standards)\n- **Immediate loading**: Audio loads immediately when the hook mounts—no explicit preloading needed\n- **Automatic cleanup**: No need to call `unloadAsync()`, hooks handle resource cleanup on unmount\n- **Multiple players**: Create multiple `useAudioPlayer` instances and store them—all load immediately\n- **Direct property access**: Set volume, rate, loop directly on the player object (`player.volume = 0.5`)\n\n## API Reference\n\nhttps://docs.expo.dev/versions/latest/sdk/audio/\n",
        "plugins/upgrading-expo/skills/upgrading-expo/references/expo-av-to-video.md": "# Migrating from expo-av to expo-video\n\n## Imports\n\n```tsx\n// Before\nimport { Video, ResizeMode } from 'expo-av';\n\n// After\nimport { useVideoPlayer, VideoView, VideoSource } from 'expo-video';\nimport { useEvent, useEventListener } from 'expo';\n```\n\n## Video Playback\n\n### Before (expo-av)\n\n```tsx\nconst videoRef = useRef<Video>(null);\nconst [status, setStatus] = useState({});\n\n<Video\n  ref={videoRef}\n  source={{ uri: 'https://example.com/video.mp4' }}\n  style={{ width: 350, height: 200 }}\n  resizeMode={ResizeMode.CONTAIN}\n  isLooping\n  onPlaybackStatusUpdate={setStatus}\n/>\n\n// Control\nvideoRef.current?.playAsync();\nvideoRef.current?.pauseAsync();\n```\n\n### After (expo-video)\n\n```tsx\nconst player = useVideoPlayer('https://example.com/video.mp4', player => {\n  player.loop = true;\n});\n\nconst { isPlaying } = useEvent(player, 'playingChange', { isPlaying: player.playing });\n\n<VideoView\n  player={player}\n  style={{ width: 350, height: 200 }}\n  contentFit=\"contain\"\n/>\n\n// Control\nplayer.play();\nplayer.pause();\n```\n\n## Status Updates\n\n### Before (expo-av)\n\n```tsx\n<Video\n  onPlaybackStatusUpdate={status => {\n    if (status.isLoaded) {\n      console.log(status.positionMillis, status.durationMillis, status.isPlaying);\n      if (status.didJustFinish) console.log('finished');\n    }\n  }}\n/>\n```\n\n### After (expo-video)\n\n```tsx\n// Reactive state\nconst { isPlaying } = useEvent(player, 'playingChange', { isPlaying: player.playing });\n\n// Side effects\nuseEventListener(player, 'playToEnd', () => console.log('finished'));\n\n// Direct access\nconsole.log(player.currentTime, player.duration, player.playing);\n```\n\n## Local Files\n\n### Before (expo-av)\n\n```tsx\n<Video source={require('./video.mp4')} />\n```\n\n### After (expo-video)\n\n```tsx\nconst player = useVideoPlayer({ assetId: require('./video.mp4') });\n```\n\n## Fullscreen and PiP\n\n```tsx\n<VideoView\n  player={player}\n  allowsFullscreen\n  allowsPictureInPicture\n  onFullscreenEnter={() => {}}\n  onFullscreenExit={() => {}}\n/>\n```\n\nFor PiP and background playback, add to app.json:\n\n```json\n{\n  \"expo\": {\n    \"plugins\": [\n      [\"expo-video\", { \"supportsBackgroundPlayback\": true, \"supportsPictureInPicture\": true }]\n    ]\n  }\n}\n```\n\n## API Mapping\n\n| expo-av | expo-video |\n|---------|------------|\n| `<Video>` | `<VideoView>` |\n| `ref={videoRef}` | `player={useVideoPlayer()}` |\n| `source={{ uri }}` | Pass to `useVideoPlayer(uri)` |\n| `resizeMode={ResizeMode.CONTAIN}` | `contentFit=\"contain\"` |\n| `isLooping` | `player.loop = true` |\n| `shouldPlay` | `player.play()` in setup |\n| `isMuted` | `player.muted = true` |\n| `useNativeControls` | `nativeControls={true}` |\n| `onPlaybackStatusUpdate` | `useEvent` / `useEventListener` |\n| `videoRef.current.playAsync()` | `player.play()` |\n| `videoRef.current.pauseAsync()` | `player.pause()` |\n| `videoRef.current.replayAsync()` | `player.replay()` |\n| `videoRef.current.setPositionAsync(ms)` | `player.currentTime = seconds` |\n| `status.positionMillis` | `player.currentTime` (seconds) |\n| `status.durationMillis` | `player.duration` (seconds) |\n| `status.didJustFinish` | `useEventListener(player, 'playToEnd')` |\n\n## Key Differences\n\n- **Separate player and view**: Player logic decoupled from the view—one player can be used across multiple views\n- **Time in seconds**: Uses seconds, not milliseconds\n- **Event system**: Uses `useEvent`/`useEventListener` from `expo` instead of callback props\n- **Video preloading**: Create a player without mounting a VideoView to preload for faster transitions\n- **Built-in caching**: Set `useCaching: true` in VideoSource for persistent offline caching\n\n## Known Issues\n\n- **Uninstall expo-av first**: On Android, having both expo-av and expo-video installed can cause VideoView to show a black screen. Uninstall expo-av before installing expo-video\n- **Android: Reusing players**: Mounting the same player in multiple VideoViews simultaneously can cause black screens on Android (works on iOS)\n- **Android: currentTime in setup**: Setting `player.currentTime` in the `useVideoPlayer` setup callback may not work on Android—set it after mount instead\n- **Changing source**: Use `player.replace(newSource)` to change videos without recreating the player\n\n## API Reference\n\nhttps://docs.expo.dev/versions/latest/sdk/video/\n",
        "plugins/upgrading-expo/skills/upgrading-expo/references/native-tabs.md": "# Native Tabs Migration (SDK 55)\n\nIn SDK 55, `Label`, `Icon`, `Badge`, and `VectorIcon` are now accessed as static properties on `NativeTabs.Trigger` rather than separate imports.\n\n## Import Changes\n\n```tsx\n// SDK 53/54\nimport {\n  NativeTabs,\n  Icon,\n  Label,\n  Badge,\n  VectorIcon,\n} from \"expo-router/unstable-native-tabs\";\n\n// SDK 55+\nimport { NativeTabs } from \"expo-router/unstable-native-tabs\";\n```\n\n## Component Changes\n\n| SDK 53/54        | SDK 55+                             |\n| ---------------- | ----------------------------------- |\n| `<Icon />`       | `<NativeTabs.Trigger.Icon />`       |\n| `<Label />`      | `<NativeTabs.Trigger.Label />`      |\n| `<Badge />`      | `<NativeTabs.Trigger.Badge />`      |\n| `<VectorIcon />` | `<NativeTabs.Trigger.VectorIcon />` |\n| (n/a)            | `<NativeTabs.BottomAccessory />`    |\n\n## New in SDK 55\n\n### BottomAccessory\n\nNew component for Apple Music-style mini players on iOS +26 that float above the tab bar:\n\n```tsx\n<NativeTabs>\n  <NativeTabs.BottomAccessory>\n    {/* Content above tabs */}\n  </NativeTabs.BottomAccessory>\n  <NativeTabs.Trigger name=\"(index)\">\n    <NativeTabs.Trigger.Label>Home</NativeTabs.Trigger.Label>\n  </NativeTabs.Trigger>\n</NativeTabs>\n```\n\nOn Android and web, this component will render as a no-op. Position a view absolutely above the tab bar instead.\n\n### Icon `md` Prop\n\nNew `md` prop for Material icon glyphs on Android (alongside existing `drawable`):\n\n```tsx\n<NativeTabs.Trigger.Icon sf=\"house\" md=\"(index)\" />\n```\n\n## Full Migration Example\n\n### Before (SDK 53/54)\n\n```tsx\nimport {\n  NativeTabs,\n  Icon,\n  Label,\n  Badge,\n} from \"expo-router/unstable-native-tabs\";\n\nexport default function TabLayout() {\n  return (\n    <NativeTabs minimizeBehavior=\"onScrollDown\">\n      <NativeTabs.Trigger name=\"(index)\">\n        <Label>Home</Label>\n        <Icon sf=\"house.fill\" />\n        <Badge>3</Badge>\n      </NativeTabs.Trigger>\n      <NativeTabs.Trigger name=\"(settings)\">\n        <Label>Settings</Label>\n        <Icon sf=\"gear\" />\n      </NativeTabs.Trigger>\n      <NativeTabs.Trigger name=\"(search)\" role=\"search\">\n        <Label>Search</Label>\n      </NativeTabs.Trigger>\n    </NativeTabs>\n  );\n}\n```\n\n### After (SDK 55+)\n\n```tsx\nimport { NativeTabs } from \"expo-router/unstable-native-tabs\";\n\nexport default function TabLayout() {\n  return (\n    <NativeTabs minimizeBehavior=\"onScrollDown\">\n      <NativeTabs.Trigger name=\"(index)\">\n        <NativeTabs.Trigger.Label>Home</NativeTabs.Trigger.Label>\n        <NativeTabs.Trigger.Icon sf=\"house.fill\" />\n        <NativeTabs.Trigger.Badge>3</NativeTabs.Trigger.Badge>\n      </NativeTabs.Trigger>\n      <NativeTabs.Trigger name=\"(settings)\">\n        <NativeTabs.Trigger.Label>Settings</NativeTabs.Trigger.Label>\n        <NativeTabs.Trigger.Icon sf=\"gear\" />\n      </NativeTabs.Trigger>\n      <NativeTabs.Trigger name=\"(search)\" role=\"search\">\n        <NativeTabs.Trigger.Label>Search</NativeTabs.Trigger.Label>\n      </NativeTabs.Trigger>\n    </NativeTabs>\n  );\n}\n```\n\n## Migration Checklist\n\n1. Remove `Icon`, `Label`, `Badge`, `VectorIcon` from imports\n2. Keep only `NativeTabs` import from `expo-router/unstable-native-tabs`\n3. Replace `<Icon />` with `<NativeTabs.Trigger.Icon />`\n4. Replace `<Label />` with `<NativeTabs.Trigger.Label />`\n5. Replace `<Badge />` with `<NativeTabs.Trigger.Badge />`\n6. Replace `<VectorIcon />` with `<NativeTabs.Trigger.VectorIcon />`\n\n- Read docs for more info https://docs.expo.dev/versions/v55.0.0/sdk/router-native-tabs/\n",
        "plugins/upgrading-expo/skills/upgrading-expo/references/new-architecture.md": "# New Architecture\n\nThe New Architecture is enabled by default in Expo SDK 53+. It replaces the legacy bridge with a faster, synchronous communication layer between JavaScript and native code.\n\n## Documentation\n\nFull guide: https://docs.expo.dev/guides/new-architecture/\n\n## What Changed\n\n- **JSI (JavaScript Interface)** — Direct synchronous calls between JS and native\n- **Fabric** — New rendering system with concurrent features\n- **TurboModules** — Lazy-loaded native modules with type safety\n\n## SDK Compatibility\n\n| SDK Version | New Architecture Status |\n| ----------- | ----------------------- |\n| SDK 53+     | Enabled by default      |\n| SDK 52      | Opt-in via app.json     |\n| SDK 51-     | Experimental            |\n\n## Configuration\n\nNew Architecture is enabled by default. To explicitly disable (not recommended):\n\n```json\n{\n  \"expo\": {\n    \"newArchEnabled\": false\n  }\n}\n```\n\n## Expo Go\n\nExpo Go only supports the New Architecture as of SDK 53. Apps using the old architecture must use development builds.\n\n## Common Migration Issues\n\n### Native Module Compatibility\n\nSome older native modules may not support the New Architecture. Check:\n\n1. Module documentation for New Architecture support\n2. GitHub issues for compatibility discussions\n3. Consider alternatives if module is unmaintained\n\n### Reanimated\n\nReact Native Reanimated requires `react-native-worklets` in SDK 54+:\n\n```bash\nnpx expo install react-native-worklets\n```\n\n### Layout Animations\n\nSome layout animations behave differently. Test thoroughly after upgrading.\n\n## Verifying New Architecture\n\nCheck if New Architecture is active:\n\n```tsx\nimport { Platform } from \"react-native\";\n\n// Returns true if Fabric is enabled\nconst isNewArch = global._IS_FABRIC !== undefined;\n```\n\nVerify from the command line if the currently running app uses the New Architecture: `bunx xcobra expo eval \"_IS_FABRIC\"` -> `true`\n\n## Troubleshooting\n\n1. **Clear caches** — `npx expo start --clear`\n2. **Clean prebuild** — `npx expo prebuild --clean`\n3. **Check native modules** — Ensure all dependencies support New Architecture\n4. **Review console warnings** — Legacy modules log compatibility warnings\n",
        "plugins/upgrading-expo/skills/upgrading-expo/references/react-19.md": "# React 19\n\nReact 19 is included in Expo SDK 54. This release simplifies several common patterns.\n\n## Context Changes\n\n### useContext → use\n\nThe `use` hook replaces `useContext`:\n\n```tsx\n// Before (React 18)\nimport { useContext } from \"react\";\nconst value = useContext(MyContext);\n\n// After (React 19)\nimport { use } from \"react\";\nconst value = use(MyContext);\n```\n\n- The `use` hook can also read promises, enabling Suspense-based data fetching.\n- `use` can be called conditionally, this simplifies components that consume multiple contexts.\n\n### Context.Provider → Context\n\nContext providers no longer need the `.Provider` suffix:\n\n```tsx\n// Before (React 18)\n<ThemeContext.Provider value={theme}>\n  {children}\n</ThemeContext.Provider>\n\n// After (React 19)\n<ThemeContext value={theme}>\n  {children}\n</ThemeContext>\n```\n\n## ref as a Prop\n\n### Removing forwardRef\n\nComponents can now receive `ref` as a regular prop. `forwardRef` is no longer needed:\n\n```tsx\n// Before (React 18)\nimport { forwardRef } from \"react\";\n\nconst Input = forwardRef<TextInput, Props>((props, ref) => {\n  return <TextInput ref={ref} {...props} />;\n});\n\n// After (React 19)\nfunction Input({ ref, ...props }: Props & { ref?: React.Ref<TextInput> }) {\n  return <TextInput ref={ref} {...props} />;\n}\n```\n\n### Migration Steps\n\n1. Remove `forwardRef` wrapper\n2. Add `ref` to the props destructuring\n3. Update the type to include `ref?: React.Ref<T>`\n\n## Other React 19 Features\n\n- **Actions** — Functions that handle async transitions\n- **useOptimistic** — Optimistic UI updates\n- **useFormStatus** — Form submission state (web)\n- **Document Metadata** — Native `<title>` and `<meta>` support (web)\n\n## Cleanup Checklist\n\nWhen upgrading to SDK 54:\n\n- [ ] Replace `useContext` with `use`\n- [ ] Remove `.Provider` from Context components\n- [ ] Remove `forwardRef` wrappers, use `ref` prop instead\n",
        "plugins/upgrading-expo/skills/upgrading-expo/references/react-compiler.md": "# React Compiler\n\nReact Compiler is stable in Expo SDK 54 and later. It automatically memoizes components and hooks, eliminating the need for manual `useMemo`, `useCallback`, and `React.memo`.\n\n## Enabling React Compiler\n\nAdd to `app.json`:\n\n```json\n{\n  \"expo\": {\n    \"experiments\": {\n      \"reactCompiler\": true\n    }\n  }\n}\n```\n\n## What React Compiler Does\n\n- Automatically memoizes components and values\n- Eliminates unnecessary re-renders\n- Removes the need for manual `useMemo` and `useCallback`\n- Works with existing code without modifications\n\n## Cleanup After Enabling\n\nOnce React Compiler is enabled, you can remove manual memoization:\n\n```tsx\n// Before (manual memoization)\nconst memoizedValue = useMemo(() => computeExpensive(a, b), [a, b]);\nconst memoizedCallback = useCallback(() => doSomething(a), [a]);\nconst MemoizedComponent = React.memo(MyComponent);\n\n// After (React Compiler handles it)\nconst value = computeExpensive(a, b);\nconst callback = () => doSomething(a);\n// Just use MyComponent directly\n```\n\n## Requirements\n\n- Expo SDK 54 or later\n- New Architecture enabled (default in SDK 54+)\n\n## Verifying It's Working\n\nReact Compiler runs at build time. Check the Metro bundler output for compilation messages. You can also use React DevTools to verify components are being optimized.\n\n## Troubleshooting\n\nIf you encounter issues:\n\n1. Ensure New Architecture is enabled\n2. Clear Metro cache: `npx expo start --clear`\n3. Check for incompatible patterns in your code (rare)\n\nReact Compiler is designed to work with idiomatic React code. If it can't safely optimize a component, it skips that component without breaking your app.\n"
      },
      "plugins": [
        {
          "name": "expo-app-design",
          "source": "./plugins/expo-app-design",
          "description": "Build robust, productivity apps with Expo.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add expo/skills",
            "/plugin install expo-app-design@expo-plugins"
          ]
        },
        {
          "name": "upgrading-expo",
          "source": "./plugins/upgrading-expo",
          "description": "Guidelines for upgrading Expo SDK versions and fixing dependency issues.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add expo/skills",
            "/plugin install upgrading-expo@expo-plugins"
          ]
        },
        {
          "name": "expo-deployment",
          "source": "./plugins/expo-deployment",
          "description": "Deploying Expo apps to iOS App Store, Android Play Store, web hosting, and CI/CD workflows.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add expo/skills",
            "/plugin install expo-deployment@expo-plugins"
          ]
        }
      ]
    }
  ]
}