{
  "author": {
    "id": "aitytech",
    "display_name": "AityTech",
    "avatar_url": "https://avatars.githubusercontent.com/u/124106070?v=4"
  },
  "marketplaces": [
    {
      "name": "agentkits-memory",
      "version": null,
      "description": "AI agent tools by AityTech",
      "repo_full_name": "aitytech/agentkits-memory",
      "repo_url": "https://github.com/aitytech/agentkits-memory",
      "repo_description": "Persistent memory system for AI coding assistants via MCP. Works with Claude Code, Cursor, Copilot, Windsurf, Cline.",
      "signals": {
        "stars": 35,
        "forks": 2,
        "pushed_at": "2026-02-07T08:33:21Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"agentkits-memory\",\n  \"owner\": {\n    \"name\": \"AityTech\"\n  },\n  \"metadata\": {\n    \"description\": \"AI agent tools by AityTech\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"agentkits-memory\",\n      \"source\": \"./plugin\",\n      \"description\": \"Persistent memory system for AI coding assistants — decisions, patterns, errors, and context across sessions\",\n      \"version\": \"2.2.0\",\n      \"category\": \"productivity\",\n      \"tags\": [\"memory\", \"context\", \"persistence\", \"mcp\"]\n    }\n  ]\n}\n",
        "README.md": "<p align=\"center\">\n  <img src=\"https://raw.githubusercontent.com/aitytech/agentkits-memory/main/assets/logo.svg\" alt=\"AgentKits Logo\" width=\"80\" height=\"80\">\n</p>\n\n<h1 align=\"center\">AgentKits Memory</h1>\n\n<p align=\"center\">\n  <em>by <strong>AityTech</strong></em>\n</p>\n\n<p align=\"center\">\n  <a href=\"https://www.npmjs.com/package/@aitytech/agentkits-memory\"><img src=\"https://img.shields.io/npm/v/@aitytech/agentkits-memory.svg\" alt=\"npm\"></a>\n  <img src=\"https://img.shields.io/badge/license-MIT-blue.svg\" alt=\"License\">\n  <img src=\"https://img.shields.io/badge/Claude_Code-Compatible-blueviolet\" alt=\"Claude Code\">\n  <img src=\"https://img.shields.io/badge/Cursor-Compatible-blue\" alt=\"Cursor\">\n  <img src=\"https://img.shields.io/badge/Windsurf-Compatible-cyan\" alt=\"Windsurf\">\n  <img src=\"https://img.shields.io/badge/Cline-Compatible-orange\" alt=\"Cline\">\n  <img src=\"https://img.shields.io/badge/OpenCode-Compatible-green\" alt=\"OpenCode\">\n  <br>\n  <img src=\"https://img.shields.io/badge/tests-970_passed-brightgreen\" alt=\"Tests\">\n  <img src=\"https://img.shields.io/badge/coverage-91%25-brightgreen\" alt=\"Coverage\">\n</p>\n\n<p align=\"center\">\n  <strong>Persistent Memory System for AI Coding Assistants</strong>\n</p>\n\n<p align=\"center\">\n  Your AI assistant forgets everything between sessions. AgentKits Memory fixes that.<br>\n  Decisions, patterns, errors, and context — all persisted locally via MCP.\n</p>\n\n<p align=\"center\">\n  <a href=\"https://www.agentkits.net/memory\">Website</a> •\n  <a href=\"https://www.agentkits.net/memory/docs\">Docs</a> •\n  <a href=\"#quick-start\">Quick Start</a> •\n  <a href=\"#how-it-works\">How It Works</a> •\n  <a href=\"#multi-platform-support\">Platforms</a> •\n  <a href=\"#cli-commands\">CLI</a> •\n  <a href=\"#web-viewer\">Web Viewer</a>\n</p>\n\n<p align=\"center\">\n  <strong>English</strong> · <a href=\"./i18n/README.zh.md\">简体中文</a> · <a href=\"./i18n/README.ja.md\">日本語</a> · <a href=\"./i18n/README.ko.md\">한국어</a> · <a href=\"./i18n/README.es.md\">Español</a> · <a href=\"./i18n/README.de.md\">Deutsch</a> · <a href=\"./i18n/README.fr.md\">Français</a> · <a href=\"./i18n/README.pt-br.md\">Português</a> · <a href=\"./i18n/README.vi.md\">Tiếng Việt</a> · <a href=\"./i18n/README.ru.md\">Русский</a> · <a href=\"./i18n/README.ar.md\">العربية</a>\n</p>\n\n---\n\n## Features\n\n| Feature | Benefit |\n|---------|---------|\n| **100% Local** | All data stays on your machine. No cloud, no API keys, no accounts |\n| **Blazing Fast** | Native SQLite (better-sqlite3) = instant queries, zero latency |\n| **Zero Config** | Works out of the box. No database setup required |\n| **Multi-Platform** | Claude Code, Cursor, Windsurf, Cline, OpenCode — one setup command |\n| **MCP Server** | 9 tools: save, search, timeline, details, recall, list, update, delete, status |\n| **Auto-Capture** | Hooks capture session context, tool usage, summaries automatically |\n| **AI Enrichment** | Background workers enrich observations with AI-generated summaries |\n| **Vector Search** | sqlite-vec semantic similarity with multilingual embeddings (100+ languages) |\n| **Web Viewer** | Browser UI to view, search, add, edit, delete memories |\n| **3-Layer Search** | Progressive disclosure saves ~87% tokens vs fetching everything |\n| **Lifecycle Mgmt** | Auto-compress, archive, and clean up old sessions |\n| **Export/Import** | Backup and restore memories as JSON |\n\n---\n\n## How It Works\n\n```\nSession 1: \"Use JWT for auth\"          Session 2: \"Add login endpoint\"\n┌──────────────────────────┐          ┌──────────────────────────┐\n│  You code with AI...     │          │  AI already knows:       │\n│  AI makes decisions      │          │  ✓ JWT auth decision     │\n│  AI encounters errors    │   ───►   │  ✓ Error solutions       │\n│  AI learns patterns      │  saved   │  ✓ Code patterns         │\n│                          │          │  ✓ Session context        │\n└──────────────────────────┘          └──────────────────────────┘\n         │                                      ▲\n         ▼                                      │\n    .claude/memory/memory.db  ──────────────────┘\n    (SQLite, 100% local)\n```\n\n1. **Setup once** — `npx @aitytech/agentkits-memory` configures your platform\n2. **Auto-capture** — Hooks record decisions, tool usage, and summaries as you work\n3. **Context injection** — Next session starts with relevant history from past sessions\n4. **Background processing** — Workers enrich observations with AI, generate embeddings, compress old data\n5. **Search anytime** — AI uses MCP tools (`memory_search` → `memory_details`) to find past context\n\nAll data stays in `.claude/memory/memory.db` on your machine. No cloud. No API keys required.\n\n---\n\n## Design Decisions That Matter\n\nMost memory tools scatter data across markdown files, require Python runtimes, or send your code to external APIs. AgentKits Memory makes fundamentally different choices:\n\n| Design Choice | Why It Matters |\n|---------------|----------------|\n| **Single SQLite database** | One file (`memory.db`) holds everything — memories, sessions, observations, embeddings. No scattered files to sync, no merge conflicts, no orphaned data. Backup = copy one file |\n| **Native Node.js, zero Python** | Runs wherever Node runs. No conda, no pip, no virtualenv. Same language as your MCP server — one `npx` command, done |\n| **Token-efficient 3-layer search** | Search index first (~50 tokens/result), then timeline context, then full details. Only fetch what you need. Other tools dump entire memory files into context, burning tokens on irrelevant content |\n| **Auto-capture via hooks** | Decisions, patterns, and errors are recorded as they happen — not after you remember to save them. Session context injection happens automatically on next session start |\n| **Local embeddings, no API calls** | Vector search uses a local ONNX model (multilingual-e5-small). Semantic search works offline, costs nothing, and supports 100+ languages |\n| **Background workers** | AI enrichment, embedding generation, and compression run asynchronously. Your coding flow is never blocked |\n| **Multi-platform from day one** | One `--platform=all` flag configures Claude Code, Cursor, Windsurf, Cline, and OpenCode simultaneously. Same memory database, different editors |\n| **Structured observation data** | Tool usage is captured with type classification (read/write/execute/search), file tracking, intent detection, and AI-generated narratives — not raw text dumps |\n| **No process leaks** | Background workers self-terminate after 5 minutes, use PID-based lock files with stale-lock cleanup, and handle SIGTERM/SIGINT gracefully. No zombie processes, no orphaned workers |\n| **No memory leaks** | Hooks run as short-lived processes (not long-running daemons). Database connections close on shutdown. Embedding subprocess has bounded respawn (max 2), pending request timeouts, and graceful cleanup of all timers and queues |\n\n---\n\n## Web Viewer\n\nView and manage your memories through a modern web interface.\n\n```bash\nnpx @aitytech/agentkits-memory web\n```\n\nThen open **http://localhost:1905** in your browser.\n\n### Session List\n\nBrowse all sessions with timeline view and activity details.\n\n![Session List](https://raw.githubusercontent.com/aitytech/agentkits-memory/main/assets/agentkits-memory-session-list_v2.png)\n\n### Memory List\n\nBrowse all stored memories with search and namespace filtering.\n\n![Memory List](https://raw.githubusercontent.com/aitytech/agentkits-memory/main/assets/agentkits-memory-memory-list_v2.png)\n\n### Add Memory\n\nCreate new memories with key, namespace, type, content, and tags.\n\n![Add Memory](https://raw.githubusercontent.com/aitytech/agentkits-memory/main/assets/agentkits-memory-add-memory_v2.png)\n\n### Memory Details\n\nView full memory details with edit and delete options.\n\n![Memory Detail](https://raw.githubusercontent.com/aitytech/agentkits-memory/main/assets/agentkits-memory-memory-detail_v2.png)\n\n### Manage Embeddings\n\nGenerate and manage vector embeddings for semantic search.\n\n![Manage Embeddings](https://raw.githubusercontent.com/aitytech/agentkits-memory/main/assets/agentkits-memory-embedding_v2.png)\n\n---\n\n## Quick Start\n\n### Option 1: Claude Code Plugin Marketplace (Recommended for Claude Code)\n\nInstall as a plugin with one command — no manual configuration needed:\n\n```bash\n/plugin marketplace add aitytech/agentkits-memory\n/plugin install agentkits-memory@agentkits-memory\n```\n\nThis installs hooks, MCP server, and memory workflow skill automatically. Restart Claude Code after installation.\n\n### Option 2: Automated Setup (All Platforms)\n\n```bash\nnpx @aitytech/agentkits-memory\n```\n\nThis auto-detects your platform and configures everything: MCP server, hooks (Claude Code/OpenCode), rules files (Cursor/Windsurf/Cline), and downloads the embedding model.\n\n**Target a specific platform:**\n\n```bash\nnpx @aitytech/agentkits-memory --platform=cursor\nnpx @aitytech/agentkits-memory --platform=windsurf,cline\nnpx @aitytech/agentkits-memory --platform=all\n```\n\n### Option 3: Manual MCP Configuration\n\nIf you prefer manual setup, add to your MCP config:\n\n```json\n{\n  \"mcpServers\": {\n    \"memory\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@aitytech/agentkits-memory\", \"server\"]\n    }\n  }\n}\n```\n\nConfig file locations:\n- **Claude Code**: `.claude/settings.json` (embedded in `mcpServers` key)\n- **Cursor**: `.cursor/mcp.json`\n- **Windsurf**: `.windsurf/mcp.json`\n- **Cline / OpenCode**: `.mcp.json` (project root)\n\n### 3. MCP Tools\n\nOnce configured, your AI assistant can use these tools:\n\n| Tool | Description |\n|------|-------------|\n| `memory_status` | Check memory system status (call first!) |\n| `memory_save` | Save decisions, patterns, errors, or context |\n| `memory_search` | **[Step 1]** Search index — lightweight IDs + titles (~50 tokens/result) |\n| `memory_timeline` | **[Step 2]** Get temporal context around a memory |\n| `memory_details` | **[Step 3]** Get full content for specific IDs |\n| `memory_recall` | Quick topic overview — grouped summary |\n| `memory_list` | List recent memories |\n| `memory_update` | Update existing memory content or tags |\n| `memory_delete` | Remove outdated memories |\n\n---\n\n## Progressive Disclosure (Token-Efficient Search)\n\nAgentKits Memory uses a **3-layer search pattern** that saves ~70% tokens compared to fetching full content upfront.\n\n### How It Works\n\n```\n┌─────────────────────────────────────────────────────────────┐\n│  Step 1: memory_search                                      │\n│  Returns: IDs, titles, tags, scores (~50 tokens/item)       │\n│  → Review index, pick relevant memories                     │\n└─────────────────────────────────────────────────────────────┘\n                             ↓\n┌─────────────────────────────────────────────────────────────┐\n│  Step 2: memory_timeline (optional)                         │\n│  Returns: Context ±30 minutes around memory                 │\n│  → Understand what happened before/after                    │\n└─────────────────────────────────────────────────────────────┘\n                             ↓\n┌─────────────────────────────────────────────────────────────┐\n│  Step 3: memory_details                                     │\n│  Returns: Full content for selected IDs only                │\n│  → Fetch only what you actually need                        │\n└─────────────────────────────────────────────────────────────┘\n```\n\n### Example Workflow\n\n```typescript\n// Step 1: Search - get lightweight index\nmemory_search({ query: \"authentication\" })\n// → Returns: [{ id: \"abc\", title: \"JWT pattern...\", score: 85% }]\n\n// Step 2: (Optional) See temporal context\nmemory_timeline({ anchor: \"abc\" })\n// → Returns: What happened before/after this memory\n\n// Step 3: Get full content only for what you need\nmemory_details({ ids: [\"abc\"] })\n// → Returns: Full content for selected memory\n```\n\n### Token Savings\n\n| Approach | Tokens Used |\n|----------|-------------|\n| **Old:** Fetch all content | ~500 tokens × 10 results = 5000 tokens |\n| **New:** Progressive disclosure | 50 × 10 + 500 × 2 = 1500 tokens |\n| **Savings** | **70% reduction** |\n\n---\n\n## CLI Commands\n\n```bash\n# One-command setup (auto-detects platform)\nnpx @aitytech/agentkits-memory\nnpx @aitytech/agentkits-memory setup --platform=cursor   # specific platform\nnpx @aitytech/agentkits-memory setup --platform=all      # all platforms\nnpx @aitytech/agentkits-memory setup --force             # re-install/update\n\n# Start MCP server\nnpx @aitytech/agentkits-memory server\n\n# Web viewer (port 1905)\nnpx @aitytech/agentkits-memory web\n\n# Terminal viewer\nnpx @aitytech/agentkits-memory viewer\nnpx @aitytech/agentkits-memory viewer --stats\nnpx @aitytech/agentkits-memory viewer --json\n\n# Save from CLI\nnpx @aitytech/agentkits-memory save \"Use JWT with refresh tokens\" --category pattern --tags auth,security\n\n# Settings\nnpx @aitytech/agentkits-memory hook settings .\nnpx @aitytech/agentkits-memory hook settings . --reset\nnpx @aitytech/agentkits-memory hook settings . aiProvider.provider=openai aiProvider.apiKey=sk-...\n\n# Export / Import\nnpx @aitytech/agentkits-memory hook export . my-project ./backup.json\nnpx @aitytech/agentkits-memory hook import . ./backup.json\n\n# Lifecycle management\nnpx @aitytech/agentkits-memory hook lifecycle . --compress-days=7 --archive-days=30\nnpx @aitytech/agentkits-memory hook lifecycle-stats .\n```\n\n---\n\n## Programmatic Usage\n\n```typescript\nimport { ProjectMemoryService } from '@aitytech/agentkits-memory';\n\nconst memory = new ProjectMemoryService({\n  baseDir: '.claude/memory',\n  dbFilename: 'memory.db',\n});\nawait memory.initialize();\n\n// Store a memory\nawait memory.storeEntry({\n  key: 'auth-pattern',\n  content: 'Use JWT with refresh tokens for authentication',\n  namespace: 'patterns',\n  tags: ['auth', 'security'],\n});\n\n// Query memories\nconst results = await memory.query({\n  type: 'hybrid',\n  namespace: 'patterns',\n  content: 'authentication',\n  limit: 10,\n});\n\n// Get by key\nconst entry = await memory.getByKey('patterns', 'auth-pattern');\n```\n\n---\n\n## Auto-Capture Hooks\n\nHooks automatically capture your AI coding sessions (Claude Code and OpenCode only):\n\n| Hook | Trigger | Action |\n|------|---------|--------|\n| `context` | Session Start | Injects previous session context + memory status |\n| `session-init` | User Prompt | Initializes/resumes session, records prompts |\n| `observation` | After Tool Use | Captures tool usage with intent detection |\n| `summarize` | Session End | Generates structured session summary |\n| `user-message` | Session Start | Displays memory status to user (stderr) |\n\nSetup hooks:\n```bash\nnpx @aitytech/agentkits-memory\n```\n\n**What gets captured automatically:**\n- File reads/writes with paths\n- Code changes as structured diffs (before → after)\n- Developer intent (bugfix, feature, refactor, investigation, etc.)\n- Session summaries with decisions, errors, and next steps\n- Multi-prompt tracking within sessions\n\n---\n\n## Multi-Platform Support\n\n| Platform | MCP | Hooks | Rules File | Setup |\n|----------|-----|-------|------------|-------|\n| **Claude Code** | `.claude/settings.json` | ✅ Full | CLAUDE.md (skill) | `--platform=claude-code` |\n| **Cursor** | `.cursor/mcp.json` | — | `.cursorrules` | `--platform=cursor` |\n| **Windsurf** | `.windsurf/mcp.json` | — | `.windsurfrules` | `--platform=windsurf` |\n| **Cline** | `.mcp.json` | — | `.clinerules` | `--platform=cline` |\n| **OpenCode** | `.mcp.json` | ✅ Full | — | `--platform=opencode` |\n\n- **MCP Server** works with all platforms (memory tools via MCP protocol)\n- **Hooks** provide auto-capture on Claude Code and OpenCode\n- **Rules files** teach Cursor/Windsurf/Cline the memory workflow\n- **Memory data** always stored in `.claude/memory/` (single source of truth)\n\n---\n\n## Background Workers\n\nAfter each session, background workers process queued tasks:\n\n| Worker | Task | Description |\n|--------|------|-------------|\n| `embed-session` | Embeddings | Generate vector embeddings for semantic search |\n| `enrich-session` | AI Enrichment | Enrich observations with AI-generated summaries, facts, concepts |\n| `compress-session` | Compression | Compress old observations (10:1–25:1) and generate session digests (20:1–100:1) |\n\nWorkers run automatically after session end. Each worker:\n- Processes up to 200 items per run\n- Uses lock files to prevent concurrent execution\n- Auto-terminates after 5 minutes (prevents zombies)\n- Retries failed tasks up to 3 times\n\n---\n\n## AI Provider Configuration\n\nAI enrichment uses pluggable providers. Default is `claude-cli` (no API key needed).\n\n| Provider | Type | Default Model | Notes |\n|----------|------|---------------|-------|\n| **Claude CLI** | `claude-cli` | `haiku` | Uses `claude --print`, no API key needed |\n| **OpenAI** | `openai` | `gpt-4o-mini` | Any OpenAI model |\n| **Google Gemini** | `gemini` | `gemini-2.0-flash` | Google AI Studio key |\n| **OpenRouter** | `openai` | any | Set `baseUrl` to `https://openrouter.ai/api/v1` |\n| **GLM (Zhipu)** | `openai` | any | Set `baseUrl` to `https://open.bigmodel.cn/api/paas/v4` |\n| **Ollama** | `openai` | any | Set `baseUrl` to `http://localhost:11434/v1` |\n\n### Option 1: Environment Variables\n\n```bash\n# OpenAI\nexport AGENTKITS_AI_PROVIDER=openai\nexport AGENTKITS_AI_API_KEY=sk-...\n\n# Google Gemini\nexport AGENTKITS_AI_PROVIDER=gemini\nexport AGENTKITS_AI_API_KEY=AIza...\n\n# OpenRouter (uses OpenAI-compatible format)\nexport AGENTKITS_AI_PROVIDER=openai\nexport AGENTKITS_AI_API_KEY=sk-or-...\nexport AGENTKITS_AI_BASE_URL=https://openrouter.ai/api/v1\nexport AGENTKITS_AI_MODEL=anthropic/claude-3.5-haiku\n\n# Local Ollama (no API key needed)\nexport AGENTKITS_AI_PROVIDER=openai\nexport AGENTKITS_AI_BASE_URL=http://localhost:11434/v1\nexport AGENTKITS_AI_MODEL=llama3.2\n\n# Disable AI enrichment entirely\nexport AGENTKITS_AI_ENRICHMENT=false\n```\n\n### Option 2: Persistent Settings\n\n```bash\n# Saved to .claude/memory/settings.json — persists across sessions\nnpx @aitytech/agentkits-memory hook settings . aiProvider.provider=openai aiProvider.apiKey=sk-...\nnpx @aitytech/agentkits-memory hook settings . aiProvider.provider=gemini aiProvider.apiKey=AIza...\nnpx @aitytech/agentkits-memory hook settings . aiProvider.baseUrl=https://openrouter.ai/api/v1\n\n# View current settings\nnpx @aitytech/agentkits-memory hook settings .\n\n# Reset to defaults\nnpx @aitytech/agentkits-memory hook settings . --reset\n```\n\n> **Priority:** Environment variables override settings.json. Settings.json overrides defaults.\n\n---\n\n## Lifecycle Management\n\nManage memory growth over time:\n\n```bash\n# Compress observations older than 7 days, archive sessions older than 30 days\nnpx @aitytech/agentkits-memory hook lifecycle . --compress-days=7 --archive-days=30\n\n# Also auto-delete archived sessions older than 90 days\nnpx @aitytech/agentkits-memory hook lifecycle . --compress-days=7 --archive-days=30 --delete --delete-days=90\n\n# View lifecycle statistics\nnpx @aitytech/agentkits-memory hook lifecycle-stats .\n```\n\n| Stage | What Happens |\n|-------|-------------|\n| **Compress** | AI-compresses observations, generates session digests |\n| **Archive** | Marks old sessions as archived (excluded from context) |\n| **Delete** | Removes archived sessions (opt-in, requires `--delete`) |\n\n---\n\n## Export / Import\n\nBackup and restore your project memories:\n\n```bash\n# Export all sessions for a project\nnpx @aitytech/agentkits-memory hook export . my-project ./backup.json\n\n# Import from backup (deduplicates automatically)\nnpx @aitytech/agentkits-memory hook import . ./backup.json\n```\n\nExport format includes sessions, observations, prompts, and summaries.\n\n---\n\n## Memory Categories\n\n| Category | Use Case |\n|----------|----------|\n| `decision` | Architecture decisions, tech stack picks, trade-offs |\n| `pattern` | Coding conventions, project patterns, recurring approaches |\n| `error` | Bug fixes, error solutions, debugging insights |\n| `context` | Project background, team conventions, environment setup |\n| `observation` | Auto-captured session observations |\n\n---\n\n## Storage\n\nMemories are stored in `.claude/memory/` within your project directory.\n\n```\n.claude/memory/\n├── memory.db          # SQLite database (all data)\n├── memory.db-wal      # Write-ahead log (temp)\n├── settings.json      # Persistent settings (AI provider, context config)\n└── embeddings-cache/  # Cached vector embeddings\n```\n\n---\n\n## CJK Language Support\n\nAgentKits Memory has **automatic CJK support** for Chinese, Japanese, and Korean text search.\n\n### Zero Configuration\n\nWhen `better-sqlite3` is installed (default), CJK search works automatically:\n\n```typescript\nimport { ProjectMemoryService } from '@aitytech/agentkits-memory';\n\nconst memory = new ProjectMemoryService('.claude/memory');\nawait memory.initialize();\n\n// Store CJK content\nawait memory.storeEntry({\n  key: 'auth-pattern',\n  content: '認証機能の実装パターン - JWT with refresh tokens',\n  namespace: 'patterns',\n});\n\n// Search in Japanese, Chinese, or Korean - it just works!\nconst results = await memory.query({\n  type: 'hybrid',\n  content: '認証機能',\n});\n```\n\n### How It Works\n\n- **Native SQLite**: Uses `better-sqlite3` for maximum performance\n- **Trigram tokenizer**: FTS5 with trigram creates 3-character sequences for CJK matching\n- **Smart fallback**: Short CJK queries (< 3 chars) automatically use LIKE search\n- **BM25 ranking**: Relevance scoring for search results\n\n### Advanced: Japanese Word Segmentation\n\nFor advanced Japanese with proper word segmentation, optionally use lindera:\n\n```typescript\nimport { createJapaneseOptimizedBackend } from '@aitytech/agentkits-memory';\n\nconst backend = createJapaneseOptimizedBackend({\n  databasePath: '.claude/memory/memory.db',\n  linderaPath: './path/to/liblindera_sqlite.dylib',\n});\n```\n\nRequires [lindera-sqlite](https://github.com/lindera/lindera-sqlite) build.\n\n---\n\n## API Reference\n\n### ProjectMemoryService\n\n```typescript\ninterface ProjectMemoryConfig {\n  baseDir: string;              // Default: '.claude/memory'\n  dbFilename: string;           // Default: 'memory.db'\n  enableVectorIndex: boolean;   // Default: false\n  dimensions: number;           // Default: 384\n  embeddingGenerator?: EmbeddingGenerator;\n  cacheEnabled: boolean;        // Default: true\n  cacheSize: number;            // Default: 1000\n  cacheTtl: number;             // Default: 300000 (5 min)\n}\n```\n\n### Methods\n\n| Method | Description |\n|--------|-------------|\n| `initialize()` | Initialize the memory service |\n| `shutdown()` | Shutdown and persist changes |\n| `storeEntry(input)` | Store a memory entry |\n| `get(id)` | Get entry by ID |\n| `getByKey(namespace, key)` | Get entry by namespace and key |\n| `update(id, update)` | Update an entry |\n| `delete(id)` | Delete an entry |\n| `query(query)` | Query entries with filters |\n| `semanticSearch(content, k)` | Semantic similarity search |\n| `count(namespace?)` | Count entries |\n| `listNamespaces()` | List all namespaces |\n| `getStats()` | Get statistics |\n\n---\n\n## Code Quality\n\nAgentKits Memory is thoroughly tested with **970 unit tests** across 21 test suites.\n\n| Metric | Coverage |\n|--------|----------|\n| **Statements** | 90.29% |\n| **Branches** | 80.85% |\n| **Functions** | 90.54% |\n| **Lines** | 91.74% |\n\n### Test Categories\n\n| Category | Tests | What's Covered |\n|----------|-------|----------------|\n| Core Memory Service | 56 | CRUD, search, pagination, categories, tags, import/export |\n| SQLite Backend | 65 | Schema, migrations, FTS5, transactions, error handling |\n| sqlite-vec Vector Index | 47 | Insert, search, delete, persistence, edge cases |\n| Hybrid Search | 44 | FTS + vector fusion, scoring, ranking, filters |\n| Token Economics | 27 | 3-layer search budgets, truncation, optimization |\n| Embedding System | 63 | Cache, subprocess, local models, CJK support |\n| Hook System | 502 | Context, session-init, observation, summarize, AI enrichment, service lifecycle, queue workers, adapters, types |\n| MCP Server | 48 | All 9 MCP tools, validation, error responses |\n| CLI | 34 | Platform detection, rules generation |\n| Integration | 84 | End-to-end flows, embedding integration, multi-session |\n\n```bash\n# Run tests\nnpm test\n\n# Run with coverage\nnpm run test:coverage\n```\n\n---\n\n## Requirements\n\n- **Node.js LTS**: 18.x, 20.x, or 22.x (recommended)\n- MCP-compatible AI coding assistant\n\n### Node.js Version Notes\n\nThis package uses `better-sqlite3` which requires native binaries. **Prebuilt binaries are available for LTS versions only**.\n\n| Node Version | Status | Notes |\n|--------------|--------|-------|\n| 18.x LTS | ✅ Works | Prebuilt binaries |\n| 20.x LTS | ✅ Works | Prebuilt binaries |\n| 22.x LTS | ✅ Works | Prebuilt binaries |\n| 19.x, 21.x, 23.x | ⚠️ Requires build tools | No prebuilt binaries |\n\n### Using Non-LTS Versions (Windows)\n\nIf you must use a non-LTS version (19, 21, 23), install build tools first:\n\n**Option 1: Visual Studio Build Tools**\n```powershell\n# Download and install from:\n# https://visualstudio.microsoft.com/visual-cpp-build-tools/\n# Select \"Desktop development with C++\" workload\n```\n\n**Option 2: windows-build-tools (npm)**\n```powershell\nnpm install --global windows-build-tools\n```\n\n**Option 3: Chocolatey**\n```powershell\nchoco install visualstudio2022-workload-vctools\n```\n\nSee [node-gyp Windows guide](https://github.com/nodejs/node-gyp#on-windows) for more details.\n\n---\n\n## AgentKits Ecosystem\n\n**AgentKits Memory** is part of the AgentKits ecosystem by AityTech - tools that make AI coding assistants smarter.\n\n| Product | Description | Link |\n|---------|-------------|------|\n| **AgentKits Engineer** | 28 specialized agents, 100+ skills, enterprise patterns | [GitHub](https://github.com/aitytech/agentkits-engineer) |\n| **AgentKits Marketing** | AI-powered marketing content generation | [GitHub](https://github.com/aitytech/agentkits-marketing) |\n| **AgentKits Memory** | Persistent memory for AI assistants (this package) | [npm](https://www.npmjs.com/package/@aitytech/agentkits-memory) |\n\n<p align=\"center\">\n  <a href=\"https://agentkits.net\">\n    <img src=\"https://img.shields.io/badge/Visit-agentkits.net-blue?style=for-the-badge\" alt=\"agentkits.net\">\n  </a>\n</p>\n\n---\n\n## Star History\n\n<a href=\"https://star-history.com/#aitytech/agentkits-memory&Date\">\n <picture>\n   <source media=\"(prefers-color-scheme: dark)\" srcset=\"https://api.star-history.com/svg?repos=aitytech/agentkits-memory&type=Date&theme=dark\" />\n   <source media=\"(prefers-color-scheme: light)\" srcset=\"https://api.star-history.com/svg?repos=aitytech/agentkits-memory&type=Date\" />\n   <img alt=\"Star History Chart\" src=\"https://api.star-history.com/svg?repos=aitytech/agentkits-memory&type=Date\" />\n </picture>\n</a>\n\n---\n\n## License\n\nMIT\n\n---\n\n<p align=\"center\">\n  <strong>Give your AI assistant memory that persists.</strong>\n</p>\n\n<p align=\"center\">\n  <em>AgentKits Memory by AityTech</em>\n</p>\n\n<p align=\"center\">\n  Star this repo if it helps your AI remember.\n</p>\n"
      },
      "plugins": [
        {
          "name": "agentkits-memory",
          "source": "./plugin",
          "description": "Persistent memory system for AI coding assistants — decisions, patterns, errors, and context across sessions",
          "version": "2.2.0",
          "category": "productivity",
          "tags": [
            "memory",
            "context",
            "persistence",
            "mcp"
          ],
          "categories": [
            "context",
            "mcp",
            "memory",
            "persistence",
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add aitytech/agentkits-memory",
            "/plugin install agentkits-memory@agentkits-memory"
          ]
        }
      ]
    }
  ]
}