{
  "author": {
    "id": "cn-dataworks",
    "display_name": "cn-dataworks",
    "avatar_url": "https://avatars.githubusercontent.com/u/209624654?v=4"
  },
  "marketplaces": [
    {
      "name": "cn-dataworks-plugins",
      "version": null,
      "description": "PBI Squire - Power BI development workflows and tools",
      "repo_full_name": "cn-dataworks/pbi-squire-plugin",
      "repo_url": "https://github.com/cn-dataworks/pbi-squire-plugin",
      "repo_description": "This is the agentic workflow i have create for my claude code agentic setup.",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-30T21:10:58Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"cn-dataworks-plugins\",\n  \"owner\": {\n    \"name\": \"CN Dataworks\",\n    \"email\": \"info@cndataworks.com\"\n  },\n  \"metadata\": {\n    \"description\": \"PBI Squire - Power BI development workflows and tools\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"pbi-squire\",\n      \"source\": \"./\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n    \"name\": \"pbi-squire\",\n    \"version\": \"1.0.0\",\n    \"description\": \"PBI Squire - Complete Power BI development assistant. Diagnose issues, create DAX measures, transform data with M code, document dashboards, and deploy changes.\",\n    \"author\": {\n        \"name\": \"CN Dataworks\",\n        \"email\": \"info@cndataworks.com\"\n    },\n    \"repository\": \"https://github.com/cn-dataworks/pbi-squire-plugin\",\n    \"agents\": [\n        \"./agents/analyst/pbi-squire-code-locator.md\",\n        \"./agents/analyst/pbi-squire-visual-locator.md\",\n        \"./agents/analyst/pbi-squire-data-context-agent.md\",\n        \"./agents/analyst/pbi-squire-pattern-discovery.md\",\n        \"./agents/analyst/pbi-squire-dashboard-update-planner.md\",\n        \"./agents/analyst/pbi-squire-dax-review-agent.md\",\n        \"./agents/analyst/pbi-squire-pbir-validator.md\",\n        \"./agents/analyst/pbi-squire-dax-specialist.md\",\n        \"./agents/analyst/pbi-squire-mcode-specialist.md\",\n        \"./agents/analyst/pbi-squire-artifact-decomposer.md\",\n        \"./agents/analyst/pbi-squire-data-understanding-agent.md\",\n        \"./agents/analyst/pbi-squire-code-implementer-apply.md\",\n        \"./agents/analyst/pbi-squire-visual-implementer-apply.md\",\n        \"./agents/analyst/pbi-squire-verification.md\",\n        \"./agents/analyst/pbi-squire-page-layout-designer.md\",\n        \"./agents/analyst/pbi-squire-interaction-designer.md\",\n        \"./agents/analyst/pbi-squire-visual-type-recommender.md\",\n        \"./agents/analyst/pbi-squire-code-understander.md\",\n        \"./agents/analyst/pbi-squire-compare-project-code.md\",\n        \"./agents/analyst/pbi-squire-template-harvester.md\",\n        \"./agents/analyst/pbi-squire-pbir-page-generator.md\",\n        \"./agents/analyst/pbi-squire-dashboard-documenter.md\",\n        \"./agents/analyst/pbi-squire-anonymization-setup.md\"\n    ],\n    \"skills\": [\n        \"./skills/pbi-squire\"\n    ]\n}\n",
        "README.md": "# PBI Squire Plugin\n\nClaude Code plugin for Power BI project analysis, modification, and deployment.\n\n## Quick Install\n\n### Option A: Direct Install (Recommended)\n\nRun these commands inside Claude Code:\n\n```\n/plugin marketplace add https://github.com/cn-dataworks/pbi-squire-plugin\n/plugin install pbi-squire\n```\n\nThat's it! The plugin is now available in all your projects.\n\n### Option B: Git Clone (For Contributors)\n\nIf you plan to contribute or need offline access:\n\n```powershell\n# 1. Clone the repository\ngit clone https://github.com/cn-dataworks/pbi-squire-plugin.git \"$HOME\\.claude\\plugins\\custom\\pbi-squire\"\n\n# 2. Run installer\ncd \"$HOME\\.claude\\plugins\\custom\\pbi-squire\"\n.\\install-plugin.ps1\n```\n\n### First-Time Setup (Automatic)\n\n**No bootstrap required!** When you first invoke the skill, PBI Squire automatically:\n\n1. Detects Power BI projects in your folder\n2. Asks about data sensitivity settings\n3. Creates configuration files inline\n4. Continues with your request\n\n```\nYou: \"Help me fix this YoY measure\"\n\nPBI Squire: \"Let me configure PBI Squire for this location...\n             Found 1 Power BI project: SalesReport.pbip\n             Does this project contain sensitive data? [Y/N]\"\n\nYou: \"N\"\n\nPBI Squire: \"✅ Configured! Now let me help with that YoY measure...\"\n```\n\n### Bootstrap (Optional)\n\nBootstrap is **optional** for Analyst Edition but recommended for Developer Edition:\n\n| Edition | Bootstrap Required? | What It Does |\n|---------|---------------------|--------------|\n| **Analyst** | No (auto-configures) | Creates config files only |\n| **Developer** | Recommended | Installs Python tools for faster performance |\n\n```powershell\n# Optional: Run bootstrap for explicit control or Developer Edition Python tools\ncd \"C:\\path\\to\\your\\powerbi-project\"\n& \"$HOME\\.claude\\plugins\\custom\\pbi-squire\\tools\\bootstrap.ps1\"\n```\n\nSee [INSTALL.md](INSTALL.md) for detailed instructions and team setup.\n\n### MCP (Recommended for Writing)\n\n**Install Power BI Modeling MCP** if you plan to create or edit DAX/M code:\n\n| Mode | Reading | Writing |\n|------|---------|---------|\n| File-Only (no MCP) | ✅ Works | ⚠️ No compile validation |\n| Desktop Mode (MCP) | ✅ Works | ✅ Validates before writing |\n\n**Install via VS Code (Recommended):**\n1. Open VS Code → Extensions (Ctrl+Shift+X)\n2. Search \"Power BI Modeling MCP\" → Install (by Analysis Services)\n3. Re-run installer:\n   ```powershell\n   cd \"$HOME\\.claude\\plugins\\custom\\pbi-squire\"\n   .\\install-plugin.ps1\n   ```\n\n## How It Works\n\n### One Install, All Projects\n\nThe plugin installs **once** to a central location on your computer:\n\n```\nC:\\Users\\YourName\\.claude\\plugins\\custom\\pbi-squire\\\n```\n\nAfter installation, it's automatically available in **every project** you open with Claude Code.\n\n**First-time setup is automatic:** When you first use the skill in a new project, it auto-configures itself inline. No separate bootstrap step required for Analyst Edition.\n\n### Per-Project Control\n\n**Disable in a specific project** - Create `.claude/settings.json` in that project:\n\n```json\n{\n  \"plugins\": {\n    \"pbi-squire\": {\n      \"enabled\": false\n    }\n  }\n}\n```\n\n**Enable only in specific projects** - Skip the global install, then add to each project's `.claude/settings.json`:\n\n```json\n{\n  \"plugins\": {\n    \"pbi-squire\": {\n      \"path\": \"C:\\\\Users\\\\YourName\\\\.claude\\\\plugins\\\\custom\\\\pbi-squire\"\n    }\n  }\n}\n```\n\n> **Note**: The plugin's skills only activate when they detect Power BI files (`.pbip`, `.SemanticModel/`). In non-Power BI projects, the skills won't trigger even if the plugin is installed globally.\n\n### Auto-Approve Permissions\n\nBootstrap creates `.claude/settings.json` with permissions so common tools run without prompts:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Read\",\n      \"Glob\",\n      \"Grep\",\n      \"Edit\",\n      \"Write\",\n      \"Bash(python *)\",\n      \"Bash(git *)\"\n    ]\n  }\n}\n```\n\nCustomize by editing `.claude/settings.json`. See [INSTALL.md](INSTALL.md#auto-approve-permissions) for details.\n\n## Skill\n\nThis plugin provides one comprehensive skill:\n\n**`pbi-squire`** - Complete Power BI development assistant\n\n| Capability | Description |\n|------------|-------------|\n| Diagnose & Fix | EVALUATE workflow - fix calculation issues |\n| Create Artifacts | CREATE_ARTIFACT workflow - new measures, columns, tables |\n| Transform Data | DATA_PREP workflow - M code / Power Query |\n| Document | SUMMARIZE workflow - business-friendly dashboard docs |\n| Deploy | IMPLEMENT workflow - apply changes with validation |\n| Merge Projects | MERGE workflow - compare and combine projects |\n\nThe skill automatically routes your requests to the appropriate workflow. Just describe what you need.\n\n## Key Workflows\n\n| Command | Purpose |\n|---------|---------|\n| `/evaluate-pbi-project-file` | Analyze and diagnose Power BI project issues |\n| `/create-pbi-artifact-spec` | Create new measures, columns, tables, or visuals |\n| `/implement-deploy-test-pbi-project-file` | Implement, deploy, and test changes |\n| `/merge-powerbi-projects` | Compare and merge two Power BI projects |\n\n## Architecture\n\n### How Requests Flow Through the Plugin\n\nWhen you ask Claude to help with Power BI, the request flows through two layers:\n\n```\n┌─────────────────────────────────────────────────────────────────┐\n│  SKILL + WORKFLOW (SKILL.md + workflows/*.md)                   │\n│  Routes your request to the appropriate workflow based on       │\n│  trigger phrases. Main thread executes workflow phases and      │\n│  spawns leaf subagents via Task().                              │\n└─────────────────────────────┬───────────────────────────────────┘\n                              │ Task(powerbi-code-locator)\n                              │ Task(powerbi-visual-locator)\n                              │ Task(powerbi-dax-review-agent)\n                              ▼\n┌─────────────────────────────────────────────────────────────────┐\n│  LEAF SUBAGENTS (24+ agents)                                    │\n│  Each agent has focused expertise: code location, DAX review,   │\n│  visual editing, M code transforms, validation, etc.            │\n│  Subagents do NOT spawn other subagents (leaf node pattern).    │\n└─────────────────────────────────────────────────────────────────┘\n```\n\n### Task Blackboard Pattern\n\nAgents coordinate through a shared `findings.md` file:\n\n1. **Main thread** creates `findings.md` with the problem statement\n2. **Investigation agents** write to Section 1 (what they found)\n3. **Planning agents** read Section 1, write to Section 2 (proposed changes)\n4. **Validation agents** read Section 2, write to Section 2.5-2.7 (pass/fail)\n5. **Implementation agents** read Section 2, apply changes\n\nEach agent only sees its assigned sections—they're isolated from the broader workflow.\n\n### Workflow Routing\n\n| You Say | Detected Intent | Workflow | Has Validation Phase? |\n|---------|-----------------|----------|----------------------|\n| \"Fix this measure\" | Problem to solve | EVALUATE | Yes (proposes changes) |\n| \"How is this calculated?\" | Question to answer | SUMMARIZE | No (read-only) |\n| \"Create a YoY measure\" | New artifact | CREATE_ARTIFACT | Yes |\n| \"Apply the changes\" | Execute plan | IMPLEMENT | Yes |\n\nThe main thread picks the workflow based on keywords, and each workflow has a predefined phase sequence. Read-only workflows (SUMMARIZE) skip validation phases because there are no changes to validate.\n\n### Agent Invocation\n\nThe main thread spawns agents using Claude Code's `Task()` tool:\n\n```\nTask(powerbi-visual-locator):\n  \"Locate the bar chart in the upper right with title 'Revenue'\n\n   Task memory: agent_scratchpads/.../findings.md\n   Write to: Section 1.B\n   Project: C:/Projects/SalesReport\"\n```\n\nThe agent receives:\n- A task prompt with natural language instructions\n- The path to `findings.md` for reading/writing\n- The project path\n\nThe agent does the work (e.g., translates \"upper right bar chart\" into actual file paths by reading PBIR coordinates), writes results to its section, and returns.\n\n## Quick Start\n\n1. Install the plugin (see above)\n2. Navigate to a folder containing a `.pbip` project\n3. Ask Claude: \"Help me fix the YoY growth measure\" or \"Create a new sales dashboard page\"\n4. Claude will guide you through the appropriate workflow\n\n## Visual Templates\n\nThe skill includes 17 PBIR visual templates for generating new visuals. Templates are bundled with the skill and work offline.\n\n### Using Templates\n\nTemplates are used automatically when you create visuals via `/create-pbi-artifact-spec`. The skill selects the appropriate template based on your request.\n\n## Updating\n\n**If you used Option A (Direct Install):**\n\n```\n/plugin update pbi-squire\n```\n\n**If you used Option B (Git Clone):**\n\n```powershell\ncd \"$HOME\\.claude\\plugins\\custom\\pbi-squire\"\ngit pull; if ($?) { claude -c \"/plugin update pbi-squire\" }\n```\n\n## Requirements\n\n### Analyst Edition (Default)\n- Claude Code (latest version)\n- Power BI Desktop (for testing)\n- **Recommended:** Power BI Modeling MCP (for live validation)\n\n### Developer Edition (Additional)\n- Python 3.10+ (for advanced analysis tools)\n- Power BI Service access (for deployment)\n\n### Tool-First Fallback Pattern\n\nThe plugin uses a **tool-first fallback pattern** to optimize performance while ensuring all users have full functionality.\n\n| Edition | Python Tools | How It Works |\n|---------|--------------|--------------|\n| **Core** | Not installed | Uses Claude-native approaches (Read, Edit, reference docs) |\n| **Pro** | Installed via bootstrap | Uses Python tools for faster, deterministic execution |\n\n**Both editions have identical functionality.** The difference is execution speed and token usage:\n\n- **Pro tools** execute in milliseconds with lower token cost\n- **Core fallback** uses Claude's reasoning against reference docs (slower, more tokens, same results)\n\n**How it works at runtime:**\n\n```\nAgent checks: Does .claude/tools/tmdl_format_validator.py exist?\n  ├─ Yes (Developer) → Run Python tool (fast, deterministic)\n  └─ No (Analyst) → Claude validates against tmdl_partition_structure.md (slower, same result)\n```\n\n**Example tasks affected:**\n\n| Task | Pro Tool | Core Fallback |\n|------|----------|---------------|\n| TMDL validation | `tmdl_format_validator.py` | Claude + `tmdl_partition_structure.md` |\n| Sensitive column detection | `sensitive_column_detector.py` | Claude + `anonymization-patterns.md` |\n| M code pattern analysis | `m_pattern_analyzer.py` | Claude reads and analyzes TMDL directly |\n\n**Pro tools** are available from a private repository. Contact the maintainers for access. Analyst Edition is fully functional without them.\n\n## Structure\n\n```\npbi-squire-plugin/\n├── agents/                        # Leaf subagent definitions\n│   ├── core/                      # Core agents (23 agents, all editions)\n│   │   ├── powerbi-code-locator.md    # Finds DAX/M code\n│   │   ├── powerbi-visual-locator.md  # Finds PBIR visuals\n│   │   ├── powerbi-dax-specialist.md  # DAX expertise\n│   │   └── ...                        # 20 more specialists\n│   └── pro/                       # Developer-only agents (3 agents)\n│       ├── powerbi-playwright-tester.md\n│       ├── powerbi-ux-reviewer.md\n│       └── powerbi-qa-inspector.md\n│\n├── skills/\n│   └── pbi-squire/           # Main skill definition\n│       ├── SKILL.md               # Skill routing & capabilities\n│       ├── workflows/             # Detailed workflow definitions\n│       │   ├── evaluate-pbi-project-file.md\n│       │   ├── create-pbi-artifact-spec.md\n│       │   ├── implement-deploy-test-pbi-project-file.md\n│       │   └── ...                # 7 more workflows\n│       ├── references/            # Technical reference docs\n│       ├── resources/             # Runtime resources\n│       │   └── visual-templates/  # 17 PBIR templates\n│       └── assets/                # Report templates\n│\n├── tools/                         # Bootstrap & utilities\n│   ├── bootstrap.ps1              # Windows project setup\n│   ├── bootstrap.sh               # macOS/Linux project setup\n│   └── core/                      # Python tools (Developer Edition)\n│\n└── .mcp.json                      # Playwright MCP config\n```\n\n### Key Files by Purpose\n\n| File | Purpose |\n|------|---------|\n| `SKILL.md` | Routes requests to workflows, defines triggers |\n| `workflows/*.md` | Detailed step-by-step workflow logic (executed by main thread) |\n| `references/orchestration-pattern.md` | Routing logic and quality gate reference |\n| `agents/analyst/*.md` | Leaf subagent definitions (do not spawn other subagents) |\n| `findings.md` (runtime) | Shared document for agent coordination |\n\n## License\n\nProprietary - All rights reserved.\n\n## Support\n\nFor issues: [GitHub Issues](https://github.com/cn-dataworks/pbi-squire-plugin/issues)\n"
      },
      "plugins": [
        {
          "name": "pbi-squire",
          "source": "./",
          "description": null,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add cn-dataworks/pbi-squire-plugin",
            "/plugin install pbi-squire@cn-dataworks-plugins"
          ]
        }
      ]
    }
  ]
}