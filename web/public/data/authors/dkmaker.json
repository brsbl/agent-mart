{
  "author": {
    "id": "dkmaker",
    "display_name": "Christian Pedersen",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/37262317?u=a249975413e1b93b02184f2abdb637c5c703ba3a&v=4",
    "url": "https://github.com/dkmaker",
    "bio": "CTO at Zentura A/S ‚Ä¢ Passionate AI in software dev ‚Ä¢ Fav stack: VSCode + AI tools (Cline & Aider Chat) ‚Ä¢ Building Azure-based solutions & productivity tools",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 7,
      "total_commands": 2,
      "total_skills": 1,
      "total_stars": 1,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "my-claude-plugins",
      "version": null,
      "description": "Various life improvement plugins for Claude Code",
      "owner_info": {
        "name": "Christian Pedersen",
        "email": "christian@dkmaker.xyz"
      },
      "keywords": [],
      "repo_full_name": "dkmaker/my-claude-plugins",
      "repo_url": "https://github.com/dkmaker/my-claude-plugins",
      "repo_description": "My Claude code Plugins",
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-19T15:25:32Z",
        "created_at": "2025-11-19T07:41:49Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 2877
        },
        {
          "path": "baseline",
          "type": "tree",
          "size": null
        },
        {
          "path": "baseline/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "baseline/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 408
        },
        {
          "path": "baseline/README.md",
          "type": "blob",
          "size": 5003
        },
        {
          "path": "baseline/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "baseline/hooks/hooks.json",
          "type": "blob",
          "size": 362
        },
        {
          "path": "baseline/hooks/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "baseline/hooks/scripts/baseline-check.sh",
          "type": "blob",
          "size": 11577
        },
        {
          "path": "claude-expert",
          "type": "tree",
          "size": null
        },
        {
          "path": "claude-expert/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "claude-expert/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 345
        },
        {
          "path": "claude-expert/README.md",
          "type": "blob",
          "size": 5499
        },
        {
          "path": "claude-expert/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "claude-expert/hooks/hooks.json",
          "type": "blob",
          "size": 359
        },
        {
          "path": "claude-expert/hooks/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "claude-expert/hooks/scripts/sessionstart.sh",
          "type": "blob",
          "size": 11548
        },
        {
          "path": "claude-expert/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "claude-expert/skills/docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "claude-expert/skills/docs/SKILL.md",
          "type": "blob",
          "size": 4884
        },
        {
          "path": "perplexity",
          "type": "tree",
          "size": null
        },
        {
          "path": "perplexity/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "perplexity/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 792
        },
        {
          "path": "perplexity/README.md",
          "type": "blob",
          "size": 2920
        },
        {
          "path": "playwright",
          "type": "tree",
          "size": null
        },
        {
          "path": "playwright/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "playwright/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 568
        },
        {
          "path": "playwright/README.md",
          "type": "blob",
          "size": 2294
        },
        {
          "path": "transcript",
          "type": "tree",
          "size": null
        },
        {
          "path": "transcript/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "transcript/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 266
        },
        {
          "path": "transcript/README.md",
          "type": "blob",
          "size": 5304
        },
        {
          "path": "transcript/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "transcript/commands/create.md",
          "type": "blob",
          "size": 327
        },
        {
          "path": "transcript/commands/help.md",
          "type": "blob",
          "size": 1873
        },
        {
          "path": "transcript/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "transcript/hooks/hooks.json",
          "type": "blob",
          "size": 226
        },
        {
          "path": "transcript/hooks/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "transcript/hooks/scripts/sessionstart.sh",
          "type": "blob",
          "size": 5001
        },
        {
          "path": "wsl-ssh-agent",
          "type": "tree",
          "size": null
        },
        {
          "path": "wsl-ssh-agent/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "wsl-ssh-agent/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 414
        },
        {
          "path": "wsl-ssh-agent/README.md",
          "type": "blob",
          "size": 2645
        },
        {
          "path": "wsl-ssh-agent/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "wsl-ssh-agent/hooks/hooks.json",
          "type": "blob",
          "size": 337
        },
        {
          "path": "wsl-ssh-agent/hooks/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "wsl-ssh-agent/hooks/scripts/ssh-agent-bridge.sh",
          "type": "blob",
          "size": 10068
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"my-claude-plugins\",\n  \"owner\": {\n    \"name\": \"Christian Pedersen\",\n    \"email\": \"christian@dkmaker.xyz\"\n  },\n  \"metadata\": {\n    \"description\": \"Various life improvement plugins for Claude Code\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-expert\",\n      \"source\": \"./claude-expert\",\n      \"description\": \"Expert knowledge system for Claude Code with complete documentation database, intelligent search, and automatic CLI management. Provides authoritative answers to all Claude Code questions using official documentation.\",\n      \"version\": \"2.0.0\",\n      \"keywords\": [\"documentation\", \"expert\", \"knowledge\", \"claude-code\", \"help\", \"search\", \"nodejs\"],\n      \"category\": \"knowledge\"\n    },\n    {\n      \"name\": \"perplexity\",\n      \"source\": \"./perplexity\",\n      \"description\": \"Real-time web search, reasoning, and research through Perplexity's API via MCP server\",\n      \"version\": \"0.5.0\",\n      \"keywords\": [\"mcp\", \"search\", \"web-search\", \"perplexity\", \"research\", \"reasoning\", \"ai\"],\n      \"category\": \"productivity\"\n    },\n    {\n      \"name\": \"playwright\",\n      \"source\": \"./playwright\",\n      \"description\": \"Browser automation and testing with Playwright via MCP server\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"mcp\", \"playwright\", \"browser\", \"automation\", \"testing\", \"e2e\", \"web\"],\n      \"category\": \"testing\"\n    },\n    {\n      \"name\": \"baseline\",\n      \"source\": \"./baseline\",\n      \"description\": \"Ensures optimal Claude Code defaults and validates required tools. Includes custom statusline and recommended settings.\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"configuration\", \"defaults\", \"tools\", \"validation\", \"statusline\", \"settings\"],\n      \"category\": \"productivity\"\n    },\n    {\n      \"name\": \"transcript\",\n      \"source\": \"./transcript\",\n      \"description\": \"Parse and analyze Claude Code session transcripts with beautiful HTML output. List transcripts, generate reports, and explore conversation history.\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"transcript\", \"session\", \"debug\", \"history\", \"analysis\", \"html\", \"report\"],\n      \"category\": \"productivity\"\n    },\n    {\n      \"name\": \"wsl-ssh-agent\",\n      \"source\": \"./wsl-ssh-agent\",\n      \"description\": \"Bridges Windows SSH agent to WSL for SSH/SCP/Git operations. Works with 1Password, native Windows OpenSSH, and other SSH agent implementations.\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"wsl\", \"ssh\", \"ssh-agent\", \"1password\", \"git\", \"windows\"],\n      \"category\": \"productivity\"\n    },\n    {\n      \"name\": \"mcp-rest-api\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"dkmaker/mcp-rest-api\"\n      },\n      \"description\": \"REST API tester MCP server - test HTTP endpoints directly from Claude Code\",\n      \"keywords\": [\"mcp\", \"rest\", \"api\", \"http\", \"testing\", \"development\"],\n      \"category\": \"productivity\"\n    }\n  ]\n}\n",
        "baseline/.claude-plugin/plugin.json": "{\n  \"name\": \"baseline\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Ensures optimal Claude Code defaults and validates required tools. Sets up statusline and recommended settings on session start.\",\n  \"author\": {\n    \"name\": \"Christian Pedersen\",\n    \"email\": \"christian@dkmaker.xyz\"\n  },\n  \"keywords\": [\n    \"configuration\",\n    \"defaults\",\n    \"tools\",\n    \"validation\",\n    \"statusline\",\n    \"settings\"\n  ]\n}\n",
        "baseline/README.md": "# Baseline Plugin\n\nEnsures optimal Claude Code defaults and validates required tools automatically.\n\n## What This Plugin Does\n\nAutomatically validates your Claude Code environment and applies recommended baseline settings on session start. Runs smart checks every 2 hours to ensure:\n\n- Required tools are installed (jq, git, ripgrep)\n- Optimal bash timeout settings are configured\n- Non-essential UI messages are disabled\n- Custom statusline is configured\n- Recommended defaults are applied\n\n## Features\n\n- **Tool Validation** - Checks for critical and optional tools\n- **Settings Baseline** - Ensures recommended configuration\n- **Smart Throttling** - Only runs every 2 hours to avoid overhead\n- **Safe Updates** - Creates rotating backups (keeps last 10)\n- **Statusline Integration** - Includes custom statusline script\n- **Non-Invasive** - Only updates specific baseline settings, preserves your custom configuration\n\n## Installation\n\n```bash\n# Add the marketplace\n/plugin marketplace add dkmaker/my-claude-plugins\n\n# Install the baseline plugin\n/plugin install my-claude-plugins/baseline\n```\n\nRestart Claude Code after installation.\n\n## What Gets Configured\n\n### Settings Applied\n\nThe plugin ensures these settings are configured in `~/.claude/settings.json`:\n\n```json\n{\n  \"env\": {\n    \"BASH_DEFAULT_TIMEOUT_MS\": \"300000\",\n    \"BASH_MAX_TIMEOUT_MS\": \"600000\",\n    \"CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR\": \"1\",\n    \"DISABLE_NON_ESSENTIAL_MODEL_CALLS\": \"1\"\n  },\n  \"includeCoAuthoredBy\": false,\n  \"statusLine\": {\n    \"type\": \"command\",\n    \"command\": \"<path-to-plugin>/statusline.sh\"\n  },\n  \"alwaysThinkingEnabled\": false,\n  \"spinnerTipsEnabled\": false\n}\n```\n\n### Settings Removed\n\n- **`model`** - Removed if present (prevents overriding default model selection)\n\n### Settings Preserved\n\n- **All other settings** - Your custom configuration is completely preserved\n- Only the specific baseline values above are added/updated\n\n## How It Works\n\n### SessionStart Hook\n\nThe plugin runs a validation script on session start that:\n\n1. **Throttling Check** - Only runs if >2 hours since last check\n2. **Tool Validation** - Checks for required tools (jq, git, rg)\n3. **Settings Validation** - Compares current settings with baseline\n4. **Safe Update** - Creates timestamped backup before changes\n5. **Backup Rotation** - Keeps max 10 backups, deletes oldest\n\n### Check Frequency\n\n- **Normal operation**: Checks every 2 hours\n- **Critical tools missing**: Checks every session until resolved\n- **All OK**: Silent operation (no output)\n\n### Output Behavior\n\n**User notifications (systemMessage):**\n- Settings were updated (includes backup location and restart reminder)\n- Critical tools missing (jq, git)\n- Optional tools missing (ripgrep)\n\n**Claude context (additionalContext):**\n- ONLY when critical tools are missing\n- Informs Claude that some features may not work\n\n**Silent:**\n- Within 2-hour throttle window\n- All checks pass, no changes needed\n\n## Included Statusline\n\nThe plugin bundles a custom statusline that displays:\n- Current model\n- Current directory\n- Git branch (if in a repo)\n- Costs and session info\n\nThe statusline path is automatically configured in your settings.\n\n## Tool Requirements\n\n### Critical Tools (Required)\n\n- **jq** - JSON processing (required for settings management)\n  ```bash\n  sudo apt-get install jq\n  ```\n\n- **git** - Version control (required for repository operations)\n  ```bash\n  sudo apt-get install git\n  ```\n\n### Optional Tools (Recommended)\n\n- **ripgrep (rg)** - Fast code search (improves performance)\n  ```bash\n  sudo apt-get install ripgrep\n  ```\n\n## Backup Management\n\nBackups are stored as: `~/.claude/settings.json.backup-YYYY-MM-DD-HHMMSS`\n\n- **Max backups**: 10 (oldest deleted automatically)\n- **Created when**: Settings are actually changed\n- **Location**: `~/.claude/` directory\n\nTo restore a backup:\n```bash\ncp ~/.claude/settings.json.backup-2025-11-20-193045 ~/.claude/settings.json\n```\n\n## Troubleshooting\n\n### Settings Not Applying\n\nAfter the plugin updates settings, you'll see a message to restart Claude Code:\n\n```bash\n# Exit current session\nexit\n\n# Start new session\nclaude\n```\n\n### Tools Still Showing as Missing\n\nIf you've installed tools but they're still reported as missing:\n\n1. Ensure tools are in your PATH\n2. Test: `which jq`, `which git`, `which rg`\n3. Restart your shell or reload profile\n\n### Check Status Manually\n\nView your current settings:\n```bash\ncat ~/.claude/settings.json\n```\n\nView recent backups:\n```bash\nls -lt ~/.claude/settings.json.backup-* | head -5\n```\n\n### Force Recheck\n\nDelete the throttle file to force an immediate check:\n```bash\nrm ~/.claude/.baseline-last-check\n```\n\nNext Claude Code session will run a full validation.\n\n## Uninstalling\n\nIf you uninstall this plugin:\n\n1. Your settings remain (plugin doesn't revert changes)\n2. Statusline will stop working (path becomes invalid)\n3. You can manually restore from a backup if desired\n\n## Version\n\n**1.0.0** - Initial release\n\n## License\n\nSee repository license.\n",
        "baseline/hooks/hooks.json": "{\n  \"description\": \"Validates baseline settings and required tools on session start with 2-hour throttling\",\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/baseline-check.sh\",\n            \"timeout\": 10\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "baseline/hooks/scripts/baseline-check.sh": "#!/bin/bash\n\n# Baseline Settings Validator for Claude Code\n# Ensures optimal defaults and validates required tools\n# Runs on SessionStart with 2-hour throttling\n\n# Read input JSON\nINPUT_JSON=$(cat)\n\n# Configuration\nLAST_CHECK_FILE=\"$HOME/.claude/.baseline-last-check\"\nSETTINGS_FILE=\"$HOME/.claude/settings.json\"\nCLAUDE_CONFIG_FILE=\"$HOME/.claude.json\"\nCHECK_INTERVAL_HOURS=2\n\n# Ensure .claude directory exists\nmkdir -p \"$HOME/.claude\" 2>/dev/null || true\n\n# ============================================================================\n# THROTTLING CHECK\n# ============================================================================\n\nshould_run_check() {\n    if [[ ! -f \"$LAST_CHECK_FILE\" ]]; then\n        return 0  # First run\n    fi\n\n    local last_check\n    last_check=$(cat \"$LAST_CHECK_FILE\" 2>/dev/null || echo \"0\")\n    local now=$(date +%s)\n    local age=$((now - last_check))\n    local hours=$((age / 3600))\n\n    if [[ $hours -lt $CHECK_INTERVAL_HOURS ]]; then\n        return 1  # Too soon\n    fi\n\n    return 0  # Time to check\n}\n\n# Exit silently if within throttle window\nif ! should_run_check; then\n    exit 0\nfi\n\n# ============================================================================\n# TOOL VALIDATION\n# ============================================================================\n\nCRITICAL_TOOLS=(\"jq\" \"git\")\nOPTIONAL_TOOLS=(\"rg\")\n\nmissing_critical=()\nmissing_optional=()\n\nfor tool in \"${CRITICAL_TOOLS[@]}\"; do\n    if ! command -v \"$tool\" &>/dev/null; then\n        missing_critical+=(\"$tool\")\n    fi\ndone\n\nfor tool in \"${OPTIONAL_TOOLS[@]}\"; do\n    if ! command -v \"$tool\" &>/dev/null; then\n        missing_optional+=(\"$tool\")\n    fi\ndone\n\n# If critical tools missing, report and exit (delete check file to force recheck)\nif [[ ${#missing_critical[@]} -gt 0 ]]; then\n    rm -f \"$LAST_CHECK_FILE\"\n\n    # Build messages\n    tool_list=$(IFS=', '; echo \"${missing_critical[*]}\")\n    install_cmd=\"sudo apt-get install ${missing_critical[*]}\"\n\n    context_msg=\"‚ö†Ô∏è Critical tools missing: $tool_list - Required for Claude Code features. Install with: $install_cmd\"\n    system_msg=\"‚ö†Ô∏è Baseline: Missing critical tools ($tool_list). Install: $install_cmd\"\n\n    jq -n \\\n        --arg context \"$context_msg\" \\\n        --arg sysmsg \"$system_msg\" \\\n        '{\n            hookSpecificOutput: {\n                hookEventName: \"SessionStart\",\n                additionalContext: $context\n            },\n            systemMessage: $sysmsg\n        }'\n    exit 0\nfi\n\n# ============================================================================\n# SETTINGS MANAGEMENT\n# ============================================================================\n\n# Baseline settings to enforce (hardcoded)\nBASELINE_SETTINGS='{\n  \"env\": {\n    \"BASH_DEFAULT_TIMEOUT_MS\": \"300000\",\n    \"BASH_MAX_TIMEOUT_MS\": \"600000\",\n    \"CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR\": \"1\",\n    \"DISABLE_NON_ESSENTIAL_MODEL_CALLS\": \"1\"\n  },\n  \"includeCoAuthoredBy\": false,\n  \"alwaysThinkingEnabled\": false,\n  \"spinnerTipsEnabled\": false\n}'\n\n# Read current settings\nif [[ -f \"$SETTINGS_FILE\" ]]; then\n    CURRENT_SETTINGS=$(cat \"$SETTINGS_FILE\")\nelse\n    CURRENT_SETTINGS=\"{}\"\nfi\n\n# ============================================================================\n# CLAUDE CONFIG MANAGEMENT (~/.claude.json)\n# ============================================================================\n\n# Read current claude config\nif [[ -f \"$CLAUDE_CONFIG_FILE\" ]]; then\n    CURRENT_CLAUDE_CONFIG=$(cat \"$CLAUDE_CONFIG_FILE\")\nelse\n    CURRENT_CLAUDE_CONFIG=\"{}\"\nfi\n\n# Check if autoCompactEnabled needs to be set to false\n# Note: Use 'has' to check if key exists, since // operator treats false as falsy\nif echo \"$CURRENT_CLAUDE_CONFIG\" | jq -e 'has(\"autoCompactEnabled\")' >/dev/null 2>&1; then\n    AUTO_COMPACT_VALUE=$(echo \"$CURRENT_CLAUDE_CONFIG\" | jq -r '.autoCompactEnabled')\n    if [[ \"$AUTO_COMPACT_VALUE\" == \"false\" ]]; then\n        NEEDS_CONFIG_UPDATE=false\n        AUTO_COMPACT_DISABLED=\"false\"\n    else\n        NEEDS_CONFIG_UPDATE=true\n        AUTO_COMPACT_DISABLED=\"$AUTO_COMPACT_VALUE\"\n    fi\nelse\n    # Key doesn't exist, needs to be set\n    NEEDS_CONFIG_UPDATE=true\n    AUTO_COMPACT_DISABLED=\"not_set\"\nfi\n\n# Resolve plugin root path for statusline\nPLUGIN_STATUSLINE_PATH=\"${CLAUDE_PLUGIN_ROOT}/statusline.sh\"\n\n# Add statusline to baseline (with resolved path)\nBASELINE_WITH_STATUSLINE=$(echo \"$BASELINE_SETTINGS\" | jq --arg path \"$PLUGIN_STATUSLINE_PATH\" '. + {statusLine: {type: \"command\", command: $path}}')\n\n# Deep merge: baseline + current, removing \"model\" key\n# Strategy: Start with current, overlay baseline values, remove model\nMERGED_SETTINGS=$(jq -s '\n    .[1] as $current |\n    .[0] as $baseline |\n\n    # Start with current settings\n    $current |\n\n    # Deep merge baseline settings\n    .env = (($current.env // {}) * ($baseline.env // {})) |\n    .includeCoAuthoredBy = $baseline.includeCoAuthoredBy |\n    .statusLine = $baseline.statusLine |\n    .alwaysThinkingEnabled = $baseline.alwaysThinkingEnabled |\n    .spinnerTipsEnabled = $baseline.spinnerTipsEnabled\n' <(echo \"$BASELINE_WITH_STATUSLINE\") <(echo \"$CURRENT_SETTINGS\"))\n\n# Check if changes needed\nif [[ \"$MERGED_SETTINGS\" == \"$CURRENT_SETTINGS\" ]] && [[ \"$NEEDS_CONFIG_UPDATE\" == \"false\" ]]; then\n    # No changes needed\n\n    # Report optional tools if missing\n    if [[ ${#missing_optional[@]} -gt 0 ]]; then\n        tool_list=$(IFS=', '; echo \"${missing_optional[*]}\")\n        system_msg=\"‚ÑπÔ∏è Baseline: Optional tools recommended: $tool_list (ripgrep improves performance)\"\n\n        jq -n --arg sysmsg \"$system_msg\" '{systemMessage: $sysmsg}'\n    fi\n\n    # Update check file\n    date +%s > \"$LAST_CHECK_FILE\"\n    exit 0\nfi\n\n# ============================================================================\n# BACKUP AND UPDATE\n# ============================================================================\n\n# Create backup with timestamp\nTIMESTAMP=$(date +\"%Y-%m-%d-%H%M%S\")\nBACKUP_FILE=\"$HOME/.claude/settings.json.backup-$TIMESTAMP\"\nCONFIG_CHANGES_MADE=false\n\n# Backup and update settings.json if needed\nif [[ \"$MERGED_SETTINGS\" != \"$CURRENT_SETTINGS\" ]]; then\n    cp \"$SETTINGS_FILE\" \"$BACKUP_FILE\" 2>/dev/null || {\n        # If current file doesn't exist, create empty backup\n        echo \"{}\" > \"$BACKUP_FILE\"\n    }\n\n    # Rotate backups (keep max 10)\n    BACKUP_DIR=\"$HOME/.claude\"\n    BACKUP_COUNT=$(ls -1 \"$BACKUP_DIR\"/settings.json.backup-* 2>/dev/null | wc -l)\n\n    if [[ $BACKUP_COUNT -gt 10 ]]; then\n        # Delete oldest backups\n        ls -1t \"$BACKUP_DIR\"/settings.json.backup-* | tail -n +11 | xargs rm -f\n    fi\n\n    # Write new settings\n    echo \"$MERGED_SETTINGS\" | jq '.' > \"$SETTINGS_FILE\"\n    CONFIG_CHANGES_MADE=true\nfi\n\n# Update ~/.claude.json if needed\nif [[ \"$NEEDS_CONFIG_UPDATE\" == \"true\" ]]; then\n    # Backup claude config\n    CLAUDE_CONFIG_BACKUP=\"$HOME/.claude.json.backup-$TIMESTAMP\"\n    if [[ -f \"$CLAUDE_CONFIG_FILE\" ]]; then\n        cp \"$CLAUDE_CONFIG_FILE\" \"$CLAUDE_CONFIG_BACKUP\"\n    fi\n\n    # Update autoCompactEnabled to false\n    UPDATED_CLAUDE_CONFIG=$(echo \"$CURRENT_CLAUDE_CONFIG\" | jq '. + {autoCompactEnabled: false}')\n    echo \"$UPDATED_CLAUDE_CONFIG\" | jq '.' > \"$CLAUDE_CONFIG_FILE\"\n    CONFIG_CHANGES_MADE=true\nfi\n\n# Build detailed system message with specific changes\nCHANGES_LIST=\"\"\nBACKUP_INFO=\"\"\n\n# Analyze settings.json changes\nif [[ \"$MERGED_SETTINGS\" != \"$CURRENT_SETTINGS\" ]]; then\n    # Check each specific setting that changed\n    OLD_BASH_TIMEOUT=$(echo \"$CURRENT_SETTINGS\" | jq -r '.env.BASH_DEFAULT_TIMEOUT_MS // \"not_set\"')\n    OLD_MAX_TIMEOUT=$(echo \"$CURRENT_SETTINGS\" | jq -r '.env.BASH_MAX_TIMEOUT_MS // \"not_set\"')\n    OLD_MAINTAIN_DIR=$(echo \"$CURRENT_SETTINGS\" | jq -r '.env.CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR // \"not_set\"')\n    OLD_DISABLE_MSGS=$(echo \"$CURRENT_SETTINGS\" | jq -r '.env.DISABLE_NON_ESSENTIAL_MODEL_CALLS // \"not_set\"')\n\n    # Boolean fields: Use 'if .key then true else false end' to avoid // treating false as null\n    OLD_CO_AUTHORED=$(echo \"$CURRENT_SETTINGS\" | jq -r 'if has(\"includeCoAuthoredBy\") then .includeCoAuthoredBy else \"not_set\" end')\n    OLD_THINKING=$(echo \"$CURRENT_SETTINGS\" | jq -r 'if has(\"alwaysThinkingEnabled\") then .alwaysThinkingEnabled else \"not_set\" end')\n    OLD_SPINNER=$(echo \"$CURRENT_SETTINGS\" | jq -r 'if has(\"spinnerTipsEnabled\") then .spinnerTipsEnabled else \"not_set\" end')\n\n    OLD_STATUSLINE=$(echo \"$CURRENT_SETTINGS\" | jq -r '.statusLine.command // \"not_set\"')\n\n    # BASH_DEFAULT_TIMEOUT_MS\n    if [[ \"$OLD_BASH_TIMEOUT\" != \"300000\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ BASH_DEFAULT_TIMEOUT_MS: ${OLD_BASH_TIMEOUT} ‚Üí 300000\n    Why: Extends default timeout to 5 minutes for long-running operations\"\n    fi\n\n    # BASH_MAX_TIMEOUT_MS\n    if [[ \"$OLD_MAX_TIMEOUT\" != \"600000\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ BASH_MAX_TIMEOUT_MS: ${OLD_MAX_TIMEOUT} ‚Üí 600000\n    Why: Allows up to 10 minutes for complex build/deploy tasks\"\n    fi\n\n    # CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR\n    if [[ \"$OLD_MAINTAIN_DIR\" != \"1\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR: ${OLD_MAINTAIN_DIR} ‚Üí 1\n    Why: Keeps bash commands in project directory for consistency\"\n    fi\n\n    # DISABLE_NON_ESSENTIAL_MODEL_CALLS\n    if [[ \"$OLD_DISABLE_MSGS\" != \"1\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ DISABLE_NON_ESSENTIAL_MODEL_CALLS: ${OLD_DISABLE_MSGS} ‚Üí 1\n    Why: Reduces noise from internal model communication\"\n    fi\n\n    # includeCoAuthoredBy\n    if [[ \"$OLD_CO_AUTHORED\" != \"false\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ includeCoAuthoredBy: ${OLD_CO_AUTHORED} ‚Üí false\n    Why: Keeps git commits clean without 'Co-Authored-By: Claude' tags\"\n    fi\n\n    # alwaysThinkingEnabled\n    if [[ \"$OLD_THINKING\" != \"false\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ alwaysThinkingEnabled: ${OLD_THINKING} ‚Üí false\n    Why: Disables verbose thinking output for cleaner responses\"\n    fi\n\n    # spinnerTipsEnabled\n    if [[ \"$OLD_SPINNER\" != \"false\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ spinnerTipsEnabled: ${OLD_SPINNER} ‚Üí false\n    Why: Removes distracting tips during loading spinners\"\n    fi\n\n    # statusLine\n    if [[ \"$OLD_STATUSLINE\" != \"$PLUGIN_STATUSLINE_PATH\" ]]; then\n        CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ statusLine: configured\n    Why: Adds custom statusline with model info and update notifications\"\n    fi\n\n    BACKUP_INFO=\"${BACKUP_INFO}\n  üìÅ Backup: $BACKUP_FILE\"\nfi\n\n# Check autoCompactEnabled change\nif [[ \"$NEEDS_CONFIG_UPDATE\" == \"true\" ]]; then\n    CHANGES_LIST=\"${CHANGES_LIST}\n  ‚Ä¢ autoCompactEnabled: ${AUTO_COMPACT_DISABLED} ‚Üí false\n    Why: Prevents unwanted auto-compaction during sessions (use /compact manually)\"\n\n    BACKUP_INFO=\"${BACKUP_INFO}\n  üìÅ Backup: $CLAUDE_CONFIG_BACKUP\"\nfi\n\n# Build final message only if changes were made\nif [[ -n \"$CHANGES_LIST\" ]]; then\n    SYSTEM_MSG=\"‚úÖ Baseline: Settings updated\n\n‚ö†Ô∏è RESTART Claude Code to apply changes:\n  - Exit this session\n  - Run 'claude' again\n\nChanges applied:${CHANGES_LIST}\n${BACKUP_INFO}\"\nelse\n    # This shouldn't happen given the logic, but just in case\n    SYSTEM_MSG=\"‚úÖ Baseline: No changes needed\"\nfi\n\n# Add optional tools warning if needed\nif [[ ${#missing_optional[@]} -gt 0 ]]; then\n    tool_list=$(IFS=', '; echo \"${missing_optional[*]}\")\n    SYSTEM_MSG=\"$SYSTEM_MSG\n‚ÑπÔ∏è Optional tools recommended: $tool_list\"\nfi\n\n# Update check file (success)\ndate +%s > \"$LAST_CHECK_FILE\"\n\n# Output\njq -n --arg sysmsg \"$SYSTEM_MSG\" '{systemMessage: $sysmsg}'\n\nexit 0\n",
        "claude-expert/.claude-plugin/plugin.json": "{\n  \"name\": \"claude-expert\",\n  \"version\": \"2.0.0\",\n  \"description\": \"Expert knowledge system for Claude Code using comprehensive documentation database with automatic CLI management\",\n  \"author\": {\n    \"name\": \"Claude Code Documentation Team\"\n  },\n  \"keywords\": [\"documentation\", \"expert\", \"knowledge\", \"claude-code\", \"help\", \"nodejs\", \"cli\"]\n}\n",
        "claude-expert/README.md": "# Claude Expert Plugin\n\nExpert knowledge system that gives Claude Code access to its own official documentation.\n\n## What This Plugin Does\n\nWhen you ask Claude Code questions about itself (features, plugins, hooks, etc.), this plugin ensures Claude gets accurate, up-to-date answers from official documentation instead of relying on outdated training data.\n\n## How It Works\n\nThis plugin has three main components that work together:\n\n### 1. **Skill** (`skills/docs/`)\n\nThe **Skill** is what gets activated when you ask Claude Code questions. Think of it as a trigger that recognizes when you need documentation help.\n\n- **What it does:** Detects when you're asking about Claude Code features\n- **When it activates:** Questions like \"How do I create a plugin?\" or \"Can Claude Code do X?\"\n- **What it does next:** Uses the CLI tool directly to load documentation into context\n\n### 2. **CLI Tool** (`claude-docs`)\n\nThe **CLI Tool** is a Node.js-based command that manages the actual documentation database.\n\n- **What it does:** Downloads, caches, and searches documentation\n- **Features:**\n  - Search across all documentation\n  - Retrieve specific sections\n  - Transform MDX/JSX to readable markdown\n  - Smart caching for speed\n  - Automatic updates from GitHub releases\n- **Installation:** Automatically managed by the session hook\n- **Can be used manually:** Available globally as `claude-docs`\n- **Used by Skill:** The Skill calls this tool via Bash to load documentation\n\n### 3. **Session Hook** (`hooks/scripts/sessionstart.sh`)\n\nThe **Hook** runs when you start a new Claude Code session.\n\n- **What it does:** Installs/updates the `claude-docs` CLI and tells Claude to use the Skill for documentation questions\n- **When it runs:** Automatically on session start\n- **Effect:** Ensures CLI is installed and up-to-date, injects context instructions\n\n## Installation\n\n```bash\n# Add the marketplace\n/plugin marketplace add dkmaker/my-claude-plugins\n\n# Install this plugin\n/plugin install my-claude-plugins/claude-expert\n```\n\nRestart Claude Code after installation.\n\n## Usage\n\n### Automatic (Recommended)\n\nJust ask Claude Code questions naturally:\n\n```\n\"How do I create a hook?\"\n\"What MCP servers are available?\"\n\"Can Claude Code integrate with VS Code?\"\n\"How do subagents work?\"\n```\n\nThe plugin automatically activates and provides accurate answers.\n\n### Manual CLI Usage\n\nYou can also use the documentation CLI directly:\n\n```bash\n# Search for a topic\nclaude-docs search 'oauth'\n\n# Get a specific documentation section\nclaude-docs get plugins\n\n# List all available documentation\nclaude-docs list\n\n# Show structure of a document\nclaude-docs list plugins\n\n# Check version\nclaude-docs --version\n```\n\n## Documentation Coverage\n\nThe plugin includes all official Claude Code documentation:\n\n- **Getting started** - Overview, quickstart, workflows\n- **IDE integration** - VS Code, JetBrains, web UI\n- **Building** - Plugins, skills, hooks, MCP, subagents\n- **Deployment** - AWS, Azure, GCP, containers\n- **Administration** - Security, IAM, monitoring\n- **Settings** - Configuration options\n- **Reference** - CLI commands, APIs\n\n**Total: 44 documentation sections**\n\n## How The Components Connect\n\n```\nUser asks question\n       ‚Üì\nSkill detects it's about Claude Code\n       ‚Üì\nSkill uses CLI tool (claude-docs) via Bash\n       ‚Üì\nCLI tool searches documentation database\n       ‚Üì\nDocumentation loaded into context\n       ‚Üì\nClaude presents answer to user\n```\n\n## File Structure\n\n```\nclaude-expert/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json              # Plugin metadata\n‚îú‚îÄ‚îÄ README.md                    # This file\n‚îú‚îÄ‚îÄ hooks/\n‚îÇ   ‚îú‚îÄ‚îÄ hooks.json               # Hook configuration\n‚îÇ   ‚îî‚îÄ‚îÄ scripts/\n‚îÇ       ‚îî‚îÄ‚îÄ sessionstart.sh      # Session startup script (manages claude-docs CLI)\n‚îî‚îÄ‚îÄ skills/\n    ‚îî‚îÄ‚îÄ docs/\n        ‚îî‚îÄ‚îÄ SKILL.md             # Skill definition\n```\n\n## Key Concepts\n\n### What is a Skill?\n\nA Skill is an instruction set that tells Claude when and how to handle specific types of requests. The `docs` skill recognizes documentation questions and uses the CLI tool to load relevant documentation.\n\n### What is a Hook?\n\nA Hook is a script that runs in response to events. The `SessionStart` hook runs when you start Claude Code, adding the CLI tool to your PATH and instructing Claude to use this plugin for documentation questions.\n\n### What is the CLI Tool?\n\nThe CLI tool is a Node.js-based command that manages documentation. It downloads docs, caches them, searches them, and transforms them into readable format. The session hook automatically installs and updates it. Both you and the Skill can use it.\n\n## Maintenance\n\n### Update Documentation\n\nThe plugin automatically checks for CLI updates on each session start. To manually update:\n\n```bash\nclaude-docs update\n```\n\n### Clear Cache\n\nIf documentation seems stale:\n\n```bash\nclaude-docs cache clear\nclaude-docs cache warm\n```\n\n## Requirements\n\n- **Claude Code** - Latest version\n- **Node.js and npm** - For installing the claude-docs CLI\n- **System tools** - bash, curl (for GitHub API)\n- **Disk space** - ~2MB\n\n## Support\n\nFor issues:\n- Check documentation: `claude-docs search '<topic>'`\n- List all docs: `claude-docs list`\n- Get help: `claude-docs --help`\n\n## Version\n\n**2.0.0** - Migrated to Node.js-based claude-docs CLI with automatic installation and updates\n\n## License\n\nProvides access to official Claude Code documentation. See Anthropic's terms of service.\n",
        "claude-expert/hooks/hooks.json": "{\n  \"description\": \"Instructs Claude Code to use the knowledge skill for all Claude Code related questions\",\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/sessionstart.sh\",\n            \"timeout\": 5\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "claude-expert/hooks/scripts/sessionstart.sh": "#!/bin/bash\n\n# This hook injects context on session startup to instruct Claude Code\n# to always use the knowledge skill for Claude Code related questions\n\n# Read input JSON\nINPUT_JSON=$(cat)\n\n# Set up basic environment\nexport CLAUDE_HOME=\"$HOME/.claude\"\nexport CLAUDE_SESSION_ID=$(echo \"$INPUT_JSON\" | grep -o '\"session_id\":\"[^\"]*\"' | cut -d'\"' -f4)\n\n# Debug logging function - only logs if CLAUDE_HOOK_DEBUG_LOG is set\ndebug_log() {\n    if [ -n \"$CLAUDE_HOOK_DEBUG_LOG\" ]; then\n        echo \"$@\" >> \"$CLAUDE_HOOK_DEBUG_LOG\"\n    fi\n}\n\ndebug_log \"===== Starting claude-expert-sessionstart.sh Hook $(date) =====\"\ndebug_log \"\"\ndebug_log \"CLAUDE-SPECIFIC VARIABLES:\"\ndebug_log \"CLAUDE_HOME: ${CLAUDE_HOME:-<not set>}\"\ndebug_log \"CLAUDE_PROJECT_DIR: ${CLAUDE_PROJECT_DIR:-<not set>}\"\ndebug_log \"CLAUDE_PLUGIN_ROOT: ${CLAUDE_PLUGIN_ROOT:-<not set>}\"\ndebug_log \"CLAUDE_SESSION_ID: ${CLAUDE_SESSION_ID:-<not set>}\"\ndebug_log \"CLAUDE_ENV_FILE: ${CLAUDE_ENV_FILE:-<not set>}\"\n\n# Create CLAUDE_ENV_FILE if not set (workaround for Claude Code bug with plugin hooks)\nif [ -z \"$CLAUDE_ENV_FILE\" ] && [ -n \"$CLAUDE_SESSION_ID\" ] && [ -n \"$CLAUDE_HOME\" ]; then\n    export CLAUDE_ENV_FILE=\"$CLAUDE_HOME/session-env/$CLAUDE_SESSION_ID/hook-0.sh\"\n    # Create the directory if it doesn't exist\n    mkdir -p \"$(dirname \"$CLAUDE_ENV_FILE\")\"\n    # Create the file if it doesn't exist\n    touch \"$CLAUDE_ENV_FILE\"\n    debug_log \"‚úì Created CLAUDE_ENV_FILE: $CLAUDE_ENV_FILE\"\nfi\n\n# Shared utility function to update or add environment variables\n# Usage: set_env_var \"VAR_NAME\" \"value\"\nset_env_var() {\n    local var_name=\"$1\"\n    local var_value=\"$2\"\n\n    # Validate inputs\n    if [ -z \"$var_name\" ]; then\n        debug_log \"ERROR: Variable name is required\"\n        return 1\n    fi\n\n    # Skip if CLAUDE_ENV_FILE is not set\n    if [ -z \"$CLAUDE_ENV_FILE\" ]; then\n        debug_log \"WARNING: CLAUDE_ENV_FILE is not set, skipping ${var_name}\"\n        return 0\n    fi\n\n    # Create the directory if it doesn't exist\n    local env_dir\n    env_dir=\"$(dirname \"$CLAUDE_ENV_FILE\")\"\n    if [ ! -d \"$env_dir\" ]; then\n        mkdir -p \"$env_dir\" || {\n            debug_log \"ERROR: Failed to create directory: $env_dir\"\n            return 1\n        }\n    fi\n\n    # Create the file if it doesn't exist\n    if [ ! -f \"$CLAUDE_ENV_FILE\" ]; then\n        touch \"$CLAUDE_ENV_FILE\" || {\n            debug_log \"ERROR: Failed to create file: $CLAUDE_ENV_FILE\"\n            return 1\n        }\n    fi\n\n    # Build the export line\n    local export_line=\"export ${var_name}=\\\"${var_value}\\\"\"\n\n    # Check if the variable already exists in the file\n    if grep -q \"^export ${var_name}=\" \"$CLAUDE_ENV_FILE\"; then\n        # Update existing variable using sed\n        sed -i \"s|^export ${var_name}=.*|${export_line}|\" \"$CLAUDE_ENV_FILE\"\n        debug_log \"Updated ${var_name} in ${CLAUDE_ENV_FILE}\"\n    else\n        # Append new variable\n        echo \"$export_line\" >> \"$CLAUDE_ENV_FILE\"\n        debug_log \"Added ${var_name} to ${CLAUDE_ENV_FILE}\"\n    fi\n\n    return 0\n}\n\n# Set environment variables\nif [ -n \"$CLAUDE_ENV_FILE\" ]; then\n    debug_log \"\"\n    debug_log \"Setting environment variables in CLAUDE_ENV_FILE...\"\n\n    # Set CLAUDE_SESSION_ID\n    set_env_var \"CLAUDE_SESSION_ID\" \"$CLAUDE_SESSION_ID\"\n\n    debug_log \"\"\n    debug_log \"‚úì Environment variables updated\"\n    if [ -n \"$CLAUDE_HOOK_DEBUG_LOG\" ]; then\n        debug_log \"CLAUDE_ENV_FILE contents:\"\n        cat \"$CLAUDE_ENV_FILE\" >> \"$CLAUDE_HOOK_DEBUG_LOG\" 2>&1\n    fi\nelse\n    debug_log \"\"\n    debug_log \"‚ö† WARNING: CLAUDE_ENV_FILE is not set!\"\nfi\n\ndebug_log \"\"\ndebug_log \"Hook execution completed successfully\"\ndebug_log \"\"\n\n# ============================================================================\n# CLAUDE-DOCS CLI INSTALLATION AND UPDATE MANAGEMENT\n# ============================================================================\n\nINSTALL_STATUS=\"\"\nINSTALL_ERROR=\"\"\nLAST_UPDATE_CHECK_FILE=\"$CLAUDE_HOME/.claude-docs-last-check\"\nUPDATE_CHECK_INTERVAL_HOURS=24\n\n# Function to check if we should run update check (throttling)\nshould_check_updates() {\n    if [[ ! -f \"$LAST_UPDATE_CHECK_FILE\" ]]; then\n        return 0  # First run\n    fi\n\n    local last_check\n    last_check=$(cat \"$LAST_UPDATE_CHECK_FILE\" 2>/dev/null || echo \"0\")\n    local now=$(date +%s)\n    local age=$((now - last_check))\n    local hours=$((age / 3600))\n\n    if [[ $hours -lt $UPDATE_CHECK_INTERVAL_HOURS ]]; then\n        return 1  # Too soon\n    fi\n\n    return 0  # Time to check\n}\n\n# Check if claude-docs is installed\nif command -v claude-docs &>/dev/null; then\n    debug_log \"‚úì claude-docs is installed\"\n\n    # Get local version\n    LOCAL_VERSION=$(claude-docs --version 2>/dev/null | tr -d '[:space:]')\n    debug_log \"Local version: $LOCAL_VERSION\"\n\n    # Only check for updates if throttle allows\n    if should_check_updates; then\n        debug_log \"Checking for updates (last check > 24h ago)...\"\n\n        # Check GitHub for latest version (with timeout)\n        GITHUB_VERSION=$(curl -s --max-time 5 https://api.github.com/repos/dkmaker/claude-docs-cli/releases/latest 2>/dev/null | grep '\"tag_name\":' | sed -E 's/.*\"([^\"]+)\".*/\\1/' | tr -d 'v' | tr -d '[:space:]')\n\n        if [ -n \"$GITHUB_VERSION\" ] && [ \"$LOCAL_VERSION\" != \"$GITHUB_VERSION\" ]; then\n            debug_log \"Update available: $LOCAL_VERSION -> $GITHUB_VERSION\"\n            debug_log \"Attempting to update...\"\n\n            # Get download URL\n            DOWNLOAD_URL=$(curl -s --max-time 5 https://api.github.com/repos/dkmaker/claude-docs-cli/releases/latest 2>/dev/null | grep \"browser_download_url.*tgz\" | cut -d '\"' -f 4)\n\n            if [ -n \"$DOWNLOAD_URL\" ]; then\n                # Attempt update\n                if npm install -g \"$DOWNLOAD_URL\" &>/dev/null; then\n                    NEW_VERSION=$(claude-docs --version 2>/dev/null | tr -d '[:space:]')\n                    INSTALL_STATUS=\"‚úÖ Updated claude-docs: $LOCAL_VERSION ‚Üí $NEW_VERSION\"\n                    debug_log \"‚úì Update successful\"\n                    # Update check timestamp on success\n                    date +%s > \"$LAST_UPDATE_CHECK_FILE\"\n                else\n                    INSTALL_STATUS=\"‚ö†Ô∏è Failed to update claude-docs (currently running v$LOCAL_VERSION)\"\n                    debug_log \"‚úó Update failed\"\n                fi\n            else\n                debug_log \"Could not fetch download URL\"\n            fi\n        else\n            debug_log \"claude-docs is up to date (v$LOCAL_VERSION)\"\n            # Update check timestamp\n            date +%s > \"$LAST_UPDATE_CHECK_FILE\"\n        fi\n    else\n        debug_log \"Skipping update check (checked within last 24h)\"\n    fi\nelse\n    debug_log \"‚úó claude-docs is not installed\"\n    debug_log \"Attempting to install from GitHub releases...\"\n\n    # Get download URL for latest release\n    DOWNLOAD_URL=$(curl -s --max-time 5 https://api.github.com/repos/dkmaker/claude-docs-cli/releases/latest 2>/dev/null | grep \"browser_download_url.*tgz\" | cut -d '\"' -f 4)\n\n    if [ -n \"$DOWNLOAD_URL\" ]; then\n        debug_log \"Download URL: $DOWNLOAD_URL\"\n\n        # Attempt installation\n        if npm install -g \"$DOWNLOAD_URL\" &>/dev/null; then\n            INSTALLED_VERSION=$(claude-docs --version 2>/dev/null | tr -d '[:space:]')\n            INSTALL_STATUS=\"‚úÖ Installed claude-docs v$INSTALLED_VERSION\"\n            debug_log \"‚úì Installation successful: v$INSTALLED_VERSION\"\n            # Set initial check timestamp\n            date +%s > \"$LAST_UPDATE_CHECK_FILE\"\n        else\n            INSTALL_ERROR=\"‚ö†Ô∏è Failed to install claude-docs CLI\"\n            debug_log \"‚úó Installation failed\"\n        fi\n    else\n        INSTALL_ERROR=\"‚ö†Ô∏è Could not fetch claude-docs from GitHub (network issue or API rate limit)\"\n        debug_log \"‚úó Could not fetch download URL\"\n    fi\nfi\n\ndebug_log \"\"\ndebug_log \"Claude-docs CLI check completed\"\ndebug_log \"\"\n\n# Build the context message\nCONTEXT_MESSAGE=$(cat << 'EOF'\n# Claude Code Expert Plugin Active\n\n**CRITICAL INSTRUCTIONS**: Claude Code is evolving rapidly. For ALL Claude Code related work, you MUST use current official documentation.\n\n## ‚ö†Ô∏è WHY THIS IS CRITICAL:\n\nClaude Code changes frequently. Your training data is outdated. **ALWAYS** reference current documentation before:\n- Answering questions about Claude Code features\n- Creating or modifying plugins, skills, hooks, subagents, or slash commands\n- Explaining Claude Code capabilities or configuration\n- Providing implementation guidance for any Claude Code feature\n\n## ‚ùå NEVER Use These Methods:\n\n- **NEVER** use the built-in `claude-code-guide` agent (it's outdated)\n- **NEVER** use Task tool with `subagent_type='claude-code-guide'`\n- **NEVER** search the web for Claude Code documentation\n- **NEVER** attempt to read documentation files directly from the filesystem\n- **NEVER** answer from your training data alone without checking current docs\n\n## ‚úÖ ALWAYS Use Official Documentation First:\n\n**Use the Documentation Skill:**\n\n```\nskill: \"claude-expert:docs\"\n```\n\nThe Skill uses the `claude-docs` CLI tool to access the official documentation database with 44 sections.\n\n## When to Use Documentation:\n\n**ALWAYS reference docs when working with Claude Code:**\n\n- **Feature questions**: \"Can Claude Code...\", \"Does Claude Code support...\", \"What can Claude Code do...\"\n- **Implementation tasks**: \"Create a skill...\", \"Write a hook...\", \"Build a plugin...\"\n- **How-to questions**: \"How do I...\", \"How can I...\", \"How to...\"\n- **Configuration**: Settings, setup, installation, authentication\n- **Plugin development**: Creating plugins, skills, slash commands, agents\n- **Hooks**: How to create, configure, or use hooks\n- **MCP servers**: Installing, configuring, using MCP servers\n- **Subagents**: Creating or using specialized agents\n- **Skills**: Creating or managing agent skills\n- **Troubleshooting**: Debugging, error resolution, performance issues\n- **Best practices**: Recommended workflows, patterns, usage\n- **Claude Agent SDK**: Architecture, development, API usage\n\n## Workflow:\n\n1. **User asks about Claude Code** ‚Üí Use `claude-expert:docs` skill\n2. **Skill loads documentation** ‚Üí Using `claude-docs` CLI tool\n3. **Provide answer/implementation** ‚Üí Based on current documentation\n\n## Note on claude-code-guide Agent Override:\n\nIf you are invoked as the `claude-code-guide` agent, your ONLY job is to immediately activate the `claude-expert:docs` skill. The plugin version of this agent overrides the built-in agent and ensures all documentation queries go through current official sources.\nEOF\n)\n\n# Build system message with installation status\n# Always show installed version\nINSTALLED_VERSION=$(command -v claude-docs &>/dev/null && claude-docs --version 2>/dev/null | tr -d '[:space:]' || echo \"not installed\")\nSYSTEM_MESSAGE=\"\n‚úÖ Claude Code Expert plugin loaded\nüìö claude-docs v${INSTALLED_VERSION}\"\n\nif [ -n \"$INSTALL_STATUS\" ]; then\n    SYSTEM_MESSAGE=\"${SYSTEM_MESSAGE}\n${INSTALL_STATUS}\"\nfi\n\nif [ -n \"$INSTALL_ERROR\" ]; then\n    SYSTEM_MESSAGE=\"${SYSTEM_MESSAGE}\n${INSTALL_ERROR}\nüí° Install manually: npm install -g \\$(curl -s https://api.github.com/repos/dkmaker/claude-docs-cli/releases/latest | grep \\\"browser_download_url.*tgz\\\" | cut -d '\\\"' -f 4)\"\nfi\n\n# Output JSON with hookSpecificOutput format\njq -n \\\n  --arg context \"$CONTEXT_MESSAGE\" \\\n  --arg sysmsg \"$SYSTEM_MESSAGE\" \\\n  '{\n    hookSpecificOutput: {\n      hookEventName: \"SessionStart\",\n      additionalContext: $context\n    },\n    systemMessage: $sysmsg\n  }'\n\ndebug_log \"JSON output generated successfully\"\n\nexit 0",
        "claude-expert/skills/docs/SKILL.md": "---\nname: docs\ndescription: Get official Claude Code documentation. Use when the user asks about Claude Code features OR when you need to create/implement plugins, skills, hooks, subagents, slash commands, or MCP servers. Always retrieve documentation BEFORE implementing any Claude Code feature. Topics include configuration, settings, deployment, and troubleshooting.\nallowed-tools: Bash(claude-docs:*)\n---\n\n# Claude Code Documentation\n\nThis Skill provides access to official Claude Code documentation through the `claude-docs` CLI tool.\n\n## Available Documentation\n\nThe plugin's session hook installs the `claude-docs` CLI globally, making it available as a command.\n\n## When to Use This Skill\n\n**User asks questions:**\n- \"How do I...\" (create plugins, use hooks, configure settings, etc.)\n- \"Can Claude Code...\" (feature capability questions)\n- \"What are...\" (subagents, MCP servers, skills, etc.)\n- \"Tell me about...\" (any Claude Code feature or concept)\n- Questions about configuration, setup, deployment\n- Troubleshooting Claude Code issues\n\n**User requests implementation:**\n- \"Create/make a skill that...\" - Get skill documentation first\n- \"Write a plugin for...\" - Get plugin documentation first\n- \"Add a hook that...\" - Get hook documentation first\n- \"Set up a slash command...\" - Get command documentation first\n- \"Build a subagent...\" - Get subagent documentation first\n- ANY task involving Claude Code features - retrieve docs BEFORE implementing\n\n**You recognize you need domain knowledge:**\n- Before creating plugins, skills, hooks, subagents, or commands\n- Before modifying Claude Code configuration\n- Before answering questions about Claude Code capabilities\n- When you're unsure about the correct way to implement a Claude Code feature\n\n## How to Use the CLI Tool\n\n### Step 1: Identify what documentation is needed\n\nDetermine the topic from the user's question:\n- plugins, hooks, skills, mcp, agents, slash commands, settings, etc.\n\n### Step 2: Load ALL related documentation\n\n**Common topics and their related slugs (load ALL):**\n- **plugins** ‚Üí `plugins`, `plugin-marketplaces`, `plugins-reference`\n- **hooks** ‚Üí `hooks-guide`, `hooks`\n- **skills** ‚Üí `skills`\n- **mcp** ‚Üí `mcp`\n- **agents/subagents** ‚Üí `sub-agents`\n- **slash commands** ‚Üí `slash-commands`\n- **settings** ‚Üí `settings`\n- **security/iam** ‚Üí `security`, `iam`\n- **monitoring** ‚Üí `monitoring-usage`, `analytics`, `costs`\n\n### Step 3: Use the CLI tool with Bash\n\n**Load full documents (default approach):**\n```bash\nclaude-docs get plugins\nclaude-docs get plugin-marketplaces\nclaude-docs get plugins-reference\n```\n\n**Browse document structure (if needed):**\n```bash\n# See list of all available docs\nclaude-docs list\n\n# See table of contents for a specific document\nclaude-docs list plugins\n```\n\n**Search for specific topics:**\n```bash\nclaude-docs search 'oauth'\nclaude-docs search 'environment variables'\n```\n\n**Get specific section (only if specifically requested):**\n```bash\nclaude-docs get 'plugins#quickstart'\n```\n\n## Key Principles\n\n1. **Load full documents first** - `get <slug>` loads the entire document including all sections\n2. **Load ALL related docs** - Don't load just one if multiple exist for a topic\n3. **Avoid anchors unless needed** - Full documents are usually better than subsections\n4. **Be comprehensive** - When in doubt, load more documentation rather than less\n\n## What NOT to Do\n\n- ‚ùå Don't answer from training data without checking current docs\n- ‚ùå Don't use anchors (`get <slug>#<anchor>`) unless user specifically requests a section\n- ‚ùå Don't load just one doc when multiple related ones exist\n- ‚ùå Don't search the web before checking official documentation\n\n## Example Workflows\n\n**User asks:** \"How do I create a plugin with hooks?\"\n\n1. Identify topics: plugins + hooks\n2. Load all related documentation:\n   ```bash\n   claude-docs get plugins\n   claude-docs get plugin-marketplaces\n   claude-docs get plugins-reference\n   claude-docs get hooks-guide\n   claude-docs get hooks\n   ```\n3. Provide comprehensive answer from loaded docs\n\n**User asks:** \"What are Skills?\"\n\n1. Identify topic: skills\n2. Load documentation:\n   ```bash\n   claude-docs get skills\n   ```\n3. Explain Skills concept from documentation\n\n**User asks:** \"Can you help me set up MCP servers?\"\n\n1. Identify topic: mcp\n2. Load documentation:\n   ```bash\n   claude-docs get mcp\n   ```\n3. Provide setup instructions from docs\n\n## Remember\n\n- The `claude-docs` CLI is installed globally (managed by the plugin's session hook)\n- Always load documentation BEFORE implementing Claude Code features\n- Documentation is locally cached and fast to retrieve\n- Full documents are comprehensive - you usually don't need subsections\n- After loading docs, provide answers based on official information\n\nThis Skill ensures you always have accurate, up-to-date Claude Code documentation when needed.\n",
        "perplexity/.claude-plugin/plugin.json": "{\n  \"name\": \"perplexity\",\n  \"version\": \"0.5.0\",\n  \"description\": \"Real-time web search, reasoning, and research through Perplexity's API\",\n  \"author\": {\n    \"name\": \"Perplexity AI\",\n    \"email\": \"api@perplexity.ai\"\n  },\n  \"homepage\": \"https://docs.perplexity.ai/guides/mcp-server\",\n  \"repository\": \"https://github.com/perplexityai/modelcontextprotocol\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"mcp\",\n    \"search\",\n    \"web-search\",\n    \"perplexity\",\n    \"research\",\n    \"reasoning\",\n    \"ai\"\n  ],\n  \"mcpServers\": {\n    \"perplexity\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@perplexity-ai/mcp-server\"],\n      \"env\": {\n        \"PERPLEXITY_API_KEY\": \"${PERPLEXITY_API_KEY}\",\n        \"PERPLEXITY_TIMEOUT_MS\": \"${PERPLEXITY_TIMEOUT_MS:-600000}\"\n      }\n    }\n  }\n}\n",
        "perplexity/README.md": "# Perplexity MCP Server Plugin\n\nReal-time web search, reasoning, and research capabilities through Perplexity's API via Model Context Protocol.\n\n## What This Plugin Does\n\nAdds Perplexity AI's search and reasoning capabilities to Claude Code through an MCP server. Enables real-time web searches and research using Perplexity's API.\n\n## Features\n\n- **Real-time web search** - Access current information from the web\n- **Advanced reasoning** - Leverage Perplexity's AI for complex queries\n- **Research capabilities** - Deep dive into topics with comprehensive search\n- **MCP integration** - Seamless integration through Model Context Protocol\n\n## Requirements\n\n- **Node.js** - Required for npx\n- **Perplexity API Key** - Get one from [Perplexity AI](https://docs.perplexity.ai)\n\n## Installation\n\n### 1. Set Your API Key\n\n```bash\n# Set your Perplexity API key as an environment variable\nexport PERPLEXITY_API_KEY=\"pplx-xxxxxxxxxxxxx\"\n\n# Optional: Set custom timeout (default is 600000ms = 10 minutes)\nexport PERPLEXITY_TIMEOUT_MS=\"300000\"\n```\n\nAdd to your shell profile (`~/.bashrc`, `~/.zshrc`, etc.) to persist across sessions.\n\n### 2. Install the Plugin\n\n```bash\n# Add the marketplace\n/plugin marketplace add dkmaker/my-claude-plugins\n\n# Install the Perplexity plugin\n/plugin install my-claude-plugins/perplexity\n```\n\nRestart Claude Code after installation.\n\n## Configuration\n\n| Variable | Required | Default | Description |\n|----------|----------|---------|-------------|\n| `PERPLEXITY_API_KEY` | Yes | - | Your Perplexity API key |\n| `PERPLEXITY_TIMEOUT_MS` | No | 600000 | Request timeout in milliseconds |\n\n## Usage\n\nOnce installed, Claude Code automatically has access to Perplexity's search capabilities through the MCP server.\n\nExample prompts:\n```\n\"Search the web for the latest information on...\"\n\"Research recent developments in...\"\n\"What are the current trends in...\"\n```\n\n## MCP Server Details\n\n- **Server Type:** stdio\n- **Command:** `npx -y @perplexity-ai/mcp-server`\n- **Package:** `@perplexity-ai/mcp-server`\n\nThe plugin uses npx to automatically download and run the latest version of the Perplexity MCP server.\n\n## Troubleshooting\n\n### Plugin Not Working\n\n1. **Check API key is set:**\n   ```bash\n   echo $PERPLEXITY_API_KEY\n   ```\n\n2. **Verify Node.js is installed:**\n   ```bash\n   node --version\n   npx --version\n   ```\n\n3. **Test the MCP server directly:**\n   ```bash\n   npx -y @perplexity-ai/mcp-server\n   ```\n\n### Timeout Issues\n\nIf searches are timing out, increase the timeout:\n\n```bash\nexport PERPLEXITY_TIMEOUT_MS=\"900000\"  # 15 minutes\n```\n\n## Documentation\n\n- [Perplexity API Docs](https://docs.perplexity.ai)\n- [MCP Server Guide](https://docs.perplexity.ai/guides/mcp-server)\n- [GitHub Repository](https://github.com/perplexityai/modelcontextprotocol)\n\n## Version\n\n**0.5.0**\n\n## License\n\nMIT - See [Perplexity's repository](https://github.com/perplexityai/modelcontextprotocol) for details.\n",
        "playwright/.claude-plugin/plugin.json": "{\n  \"name\": \"playwright\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Browser automation and testing with Playwright via MCP server\",\n  \"author\": {\n    \"name\": \"Playwright Team\"\n  },\n  \"homepage\": \"https://playwright.dev\",\n  \"repository\": \"https://github.com/microsoft/playwright\",\n  \"license\": \"Apache-2.0\",\n  \"keywords\": [\n    \"mcp\",\n    \"playwright\",\n    \"browser\",\n    \"automation\",\n    \"testing\",\n    \"e2e\",\n    \"web\"\n  ],\n  \"mcpServers\": {\n    \"playwright\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@playwright/mcp@latest\"]\n    }\n  }\n}\n",
        "playwright/README.md": "# Playwright MCP Server Plugin\n\nBrowser automation and testing with Playwright via Model Context Protocol.\n\n## What This Plugin Does\n\nAdds Playwright browser automation capabilities to Claude Code through an MCP server. Enables automated browser testing, web scraping, and interaction with web applications.\n\n## Features\n\n- **Browser automation** - Control Chrome, Firefox, and WebKit browsers\n- **End-to-end testing** - Automate testing workflows\n- **Web scraping** - Extract data from web pages\n- **Screenshots and PDFs** - Capture page content\n- **Cross-browser support** - Test across multiple browsers\n\n## Requirements\n\n- **Node.js** - Required for npx\n- **Browsers** - Playwright will download required browsers on first use\n\n## Installation\n\n### Install the Plugin\n\n```bash\n# Add the marketplace\n/plugin marketplace add dkmaker/my-claude-plugins\n\n# Install the Playwright plugin\n/plugin install my-claude-plugins/playwright\n```\n\nRestart Claude Code after installation.\n\n## Usage\n\nOnce installed, Claude Code can use Playwright for browser automation tasks.\n\nExample prompts:\n```\n\"Test if the login flow works on example.com\"\n\"Take a screenshot of the homepage\"\n\"Check if the search feature returns results\"\n\"Verify that the checkout process completes successfully\"\n```\n\n## MCP Server Details\n\n- **Server Type:** stdio\n- **Command:** `npx -y @playwright/mcp@latest`\n- **Package:** `@playwright/mcp`\n\nThe plugin uses npx to automatically download and run the latest version of the Playwright MCP server.\n\n## Troubleshooting\n\n### Plugin Not Working\n\n1. **Verify Node.js is installed:**\n   ```bash\n   node --version\n   npx --version\n   ```\n\n2. **Test the MCP server directly:**\n   ```bash\n   npx -y @playwright/mcp@latest\n   ```\n\n3. **Check browser installation:**\n   On first use, Playwright will download required browsers automatically.\n\n### Browser Issues\n\nIf browsers aren't working:\n\n```bash\n# Install browsers manually\nnpx playwright install\n```\n\n## Documentation\n\n- [Playwright Documentation](https://playwright.dev)\n- [Playwright GitHub](https://github.com/microsoft/playwright)\n- [MCP Server Package](https://www.npmjs.com/package/@playwright/mcp)\n\n## Version\n\n**1.0.0**\n\n## License\n\nApache-2.0 - See [Playwright's repository](https://github.com/microsoft/playwright) for details.\n",
        "transcript/.claude-plugin/plugin.json": "{\n  \"name\": \"transcript\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Parse and analyze Claude Code session transcripts with markdown/HTML output\",\n  \"author\": {\n    \"name\": \"Claude Plugins\"\n  },\n  \"keywords\": [\"transcript\", \"session\", \"debug\", \"history\", \"analysis\"]\n}\n",
        "transcript/README.md": "# Transcript Plugin\n\nParse and analyze Claude Code session transcripts with beautiful HTML output.\n\n## Features\n\n- üìú **List all transcripts** - Browse all your session transcripts\n- üìä **Statistics** - View message counts, token usage, and tool usage\n- üé® **Beautiful HTML output** - Styled, interactive HTML reports\n- üîç **Detailed analysis** - See conversation flow, tool usage, and context\n- üöÄ **Easy to use** - Simple slash commands integrated into Claude Code\n\n## Installation\n\nInstall the plugin from the marketplace:\n\n```bash\n/plugin install transcript@claude-plugins\n```\n\nAfter installation, restart Claude Code for the plugin to take effect.\n\n## Usage\n\nThe plugin provides three slash commands under the `transcript` namespace:\n\n### `/transcript:help`\n\nShow usage guide and available commands.\n\n```\n/transcript:help\n```\n\n### `/transcript:list`\n\nList all available transcripts in the current project.\n\n```\n/transcript:list\n```\n\nShows:\n- Session ID (short form)\n- Date and time\n- Git branch\n- Message count\n- File location\n\n### `/transcript:create [session-id]`\n\nCreate an HTML report for a transcript session.\n\n```\n/transcript:create\n```\n\nWithout arguments, creates a report for the current session.\n\nWith a session ID (first 8 characters), creates a report for that specific session:\n\n```\n/transcript:create 97f85a57\n```\n\nThe report is saved to `.transcripts/<session-id>.html` in your project directory.\n\n**Features:**\n- Automatically creates `.transcripts/` folder if needed\n- Adds `.transcripts/` to `.gitignore`\n- Beautiful, styled HTML with interactive elements\n- Expandable tool details\n- Message statistics and token usage\n- Keyboard shortcuts (press E to toggle all tools)\n\n## HTML Output\n\nThe HTML reports provide a beautiful, styled webpage with:\n\n- **Fixed header** - Session information always visible\n- **Statistics dashboard** - Message counts, token usage, cache hits\n- **Color-coded messages** - User (blue) and assistant (purple) clearly differentiated\n- **Expandable tools** - Tool calls with input/output details\n- **Smart truncation** - Long messages automatically collapsed with expand option\n- **Emoji support** - Full color emoji rendering via Twemoji\n- **Keyboard shortcuts** - Press `E` to toggle all tools open/closed\n- **Responsive design** - Works on all screen sizes\n- **Dark theme** - Optimized for comfortable viewing\n\n## Environment Variables\n\nThe SessionStart hook automatically sets these variables:\n\n- `CLAUDE_ACTIVE_TRANSCRIPT` - Path to current session transcript\n- `CLAUDE_SESSION_ID` - Current session ID\n- `CLAUDE_PROJECT_ROOT` - Project root directory\n\n## Examples\n\n### List all transcripts in current project\n\n```\n/transcript:list\n```\n\n### Create report for current session\n\n```\n/transcript:create\n```\n\nOutput: `.transcripts/<session-id>.html`\n\n### Create report for specific session\n\n```\n/transcript:create 97f85a57\n```\n\nOutput: `.transcripts/97f85a57.html`\n\n## File Structure\n\n```\ntranscript/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json               # Plugin metadata\n‚îú‚îÄ‚îÄ hooks/\n‚îÇ   ‚îú‚îÄ‚îÄ hooks.json                # Hook configuration\n‚îÇ   ‚îî‚îÄ‚îÄ scripts/\n‚îÇ       ‚îî‚îÄ‚îÄ sessionstart.sh       # Sets env vars and adds scripts/ to PATH\n‚îú‚îÄ‚îÄ scripts/\n‚îÇ   ‚îú‚îÄ‚îÄ transcript-helper.sh      # Helper for transcript operations\n‚îÇ   ‚îú‚îÄ‚îÄ normalize-transcript.sh   # JSON normalizer\n‚îÇ   ‚îî‚îÄ‚îÄ render-html-js.sh         # HTML renderer\n‚îú‚îÄ‚îÄ commands/\n‚îÇ   ‚îú‚îÄ‚îÄ help.md                   # /transcript:help command\n‚îÇ   ‚îú‚îÄ‚îÄ list.md                   # /transcript:list command\n‚îÇ   ‚îî‚îÄ‚îÄ create.md                 # /transcript:create command\n‚îî‚îÄ‚îÄ README.md                     # This file\n```\n\n## How It Works\n\n1. **SessionStart Hook** - Runs on session start, sets environment variables:\n   - `CLAUDE_ACTIVE_TRANSCRIPT` - Path to current session transcript\n   - `CLAUDE_SESSION_ID` - Current session ID\n   - `CLAUDE_PROJECT_ROOT` - Project root directory\n   - Adds `scripts/` folder to PATH\n\n2. **Slash Commands** - Three commands for transcript operations:\n   - `/transcript:help` - Show usage guide\n   - `/transcript:list` - List all transcripts\n   - `/transcript:create` - Generate HTML reports\n\n3. **Helper Script** - `transcript-helper.sh` provides transcript metadata and operations\n\n4. **Renderers** - `normalize-transcript.sh` and `render-html-js.sh` convert JSONL to HTML\n\n## Troubleshooting\n\n### Commands not appearing\n\nMake sure the plugin is installed and Claude Code has been restarted:\n\n```bash\n/plugin install transcript@claude-plugins\n```\n\nThen restart Claude Code.\n\n### Environment variables not set\n\nThe SessionStart hook should automatically set `CLAUDE_ACTIVE_TRANSCRIPT`, `CLAUDE_SESSION_ID`, and `CLAUDE_PROJECT_ROOT`. Check by running:\n\n```bash\n!echo $CLAUDE_ACTIVE_TRANSCRIPT\n```\n\nIf empty, reinstall the plugin and restart.\n\n### Permission denied\n\nMake sure all scripts are executable:\n\n```bash\nchmod +x transcript/scripts/*.sh\nchmod +x transcript/hooks/scripts/*.sh\n```\n\n## Development\n\nTo test changes locally:\n\n1. Modify scripts or commands\n2. Reinstall the plugin:\n   ```bash\n   /plugin uninstall transcript@claude-plugins\n   /plugin install transcript@claude-plugins\n   ```\n3. Restart Claude Code to activate changes\n\n## License\n\nMIT\n",
        "transcript/commands/create.md": "---\ndescription: Create an HTML report for the current session\nallowed-tools: Bash(create-transcript.sh:*)\n---\n\n# Create Transcript Report\n\n!`create-transcript.sh`\n\n---\n\n**Note:** This creates a report for your CURRENT session only. To create a report for a different session, use `/resume <session-id>` to switch to it first.\n",
        "transcript/commands/help.md": "---\ndescription: Show transcript plugin usage guide\n---\n\n# Transcript Plugin - Help\n\n## What This Plugin Does\n\nCreates beautiful HTML reports from your current Claude Code conversation.\n\n## Usage\n\nSimply run:\n\n```\n/transcript:create\n```\n\nThis generates an interactive HTML file in `.transcripts/` that you can open in any browser.\n\n## What You Get\n\nYour HTML reports include:\n\n- üí¨ **Complete conversation** - Every message in chronological order\n- üõ†Ô∏è **Tool details** - All commands Claude ran with inputs/outputs\n- üìä **Statistics** - Message counts, token usage, performance metrics\n- üé® **Interactive UI** - Click to expand/collapse sections\n- üåô **Dark theme** - Easy on the eyes\n- ‚å®Ô∏è **Keyboard shortcuts** - Press `E` to expand/collapse all tools\n\n## How to View Reports\n\nAfter creating a report:\n\n**macOS:**\n```bash\nopen .transcripts/transcript-*.html\n```\n\n**Linux/WSL:**\n```bash\nxdg-open .transcripts/transcript-*.html\n```\n\n**Windows:**\n- Double-click the HTML file in your file manager\n\n## Want a Different Session?\n\nTo create a report for a past conversation:\n\n1. Use `/resume <session-id>` to switch to that session\n2. Run `/transcript:create` again\n3. The report will be created for that session\n\nYou can find available session IDs with `/resume` (it shows a list).\n\n## Privacy & Security\n\n- Reports are saved to `.transcripts/`\n- This folder is automatically added to `.gitignore`\n- Your transcripts won't be committed to git\n\n## Pro Tips\n\n**Viewing tips:**\n- Press `E` key in the HTML to expand/collapse all tool details\n- Long messages are auto-collapsed - click \"Show more\" to expand\n- Reports are self-contained and work offline\n\n**File organization:**\n- Reports are named: `transcript-<session-id>-<project>-<date>.html`\n- Easy to find by date or project name in your file manager\n\nThat's it! Simple and focused on your current session.\n",
        "transcript/hooks/hooks.json": "{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/sessionstart.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "transcript/hooks/scripts/sessionstart.sh": "#!/bin/bash\n\n# This hook persists transcript path and session ID as environment variables\n# and adds the scripts folder to PATH\n\n# Read input JSON\nINPUT_JSON=$(cat)\n\n# Set up basic environment\nexport CLAUDE_HOME=\"${CLAUDE_HOME:-$HOME/.claude}\"\nexport CLAUDE_SESSION_ID=$(echo \"$INPUT_JSON\" | jq -r '.session_id // empty')\nexport TRANSCRIPT_PATH=$(echo \"$INPUT_JSON\" | jq -r '.transcript_path // empty')\nexport PROJECT_ROOT=$(echo \"$INPUT_JSON\" | jq -r '.cwd // empty')\n\n# Debug logging function - only logs if CLAUDE_HOOK_DEBUG_LOG is set\ndebug_log() {\n    if [ -n \"$CLAUDE_HOOK_DEBUG_LOG\" ]; then\n        echo \"$@\" >> \"$CLAUDE_HOOK_DEBUG_LOG\"\n    fi\n}\n\ndebug_log \"===== Starting transcript-sessionstart.sh Hook $(date) =====\"\ndebug_log \"\"\ndebug_log \"CLAUDE-SPECIFIC VARIABLES:\"\ndebug_log \"CLAUDE_HOME: ${CLAUDE_HOME:-<not set>}\"\ndebug_log \"CLAUDE_PROJECT_DIR: ${CLAUDE_PROJECT_DIR:-<not set>}\"\ndebug_log \"CLAUDE_PLUGIN_ROOT: ${CLAUDE_PLUGIN_ROOT:-<not set>}\"\ndebug_log \"CLAUDE_SESSION_ID: ${CLAUDE_SESSION_ID:-<not set>}\"\ndebug_log \"CLAUDE_ENV_FILE: ${CLAUDE_ENV_FILE:-<not set>}\"\ndebug_log \"TRANSCRIPT_PATH: ${TRANSCRIPT_PATH:-<not set>}\"\n\n# Create CLAUDE_ENV_FILE if not set (workaround for Claude Code bug with plugin hooks)\nif [ -z \"$CLAUDE_ENV_FILE\" ] && [ -n \"$CLAUDE_SESSION_ID\" ] && [ -n \"$CLAUDE_HOME\" ]; then\n    export CLAUDE_ENV_FILE=\"$CLAUDE_HOME/session-env/$CLAUDE_SESSION_ID/hook-0.sh\"\n    # Create the directory if it doesn't exist\n    mkdir -p \"$(dirname \"$CLAUDE_ENV_FILE\")\"\n    # Create the file if it doesn't exist\n    touch \"$CLAUDE_ENV_FILE\"\n    debug_log \"‚úì Created CLAUDE_ENV_FILE: $CLAUDE_ENV_FILE\"\nfi\n\n# Shared utility function to update or add environment variables\n# Usage: set_env_var \"VAR_NAME\" \"value\"\nset_env_var() {\n    local var_name=\"$1\"\n    local var_value=\"$2\"\n\n    # Validate inputs\n    if [ -z \"$var_name\" ]; then\n        debug_log \"ERROR: Variable name is required\"\n        return 1\n    fi\n\n    # Skip if CLAUDE_ENV_FILE is not set\n    if [ -z \"$CLAUDE_ENV_FILE\" ]; then\n        debug_log \"WARNING: CLAUDE_ENV_FILE is not set, skipping ${var_name}\"\n        return 0\n    fi\n\n    # Create the directory if it doesn't exist\n    local env_dir\n    env_dir=\"$(dirname \"$CLAUDE_ENV_FILE\")\"\n    if [ ! -d \"$env_dir\" ]; then\n        mkdir -p \"$env_dir\" || {\n            debug_log \"ERROR: Failed to create directory: $env_dir\"\n            return 1\n        }\n    fi\n\n    # Create the file if it doesn't exist\n    if [ ! -f \"$CLAUDE_ENV_FILE\" ]; then\n        touch \"$CLAUDE_ENV_FILE\" || {\n            debug_log \"ERROR: Failed to create file: $CLAUDE_ENV_FILE\"\n            return 1\n        }\n    fi\n\n    # Build the export line\n    local export_line=\"export ${var_name}=\\\"${var_value}\\\"\"\n\n    # Check if the variable already exists in the file\n    if grep -q \"^export ${var_name}=\" \"$CLAUDE_ENV_FILE\"; then\n        # Update existing variable using sed\n        sed -i \"s|^export ${var_name}=.*|${export_line}|\" \"$CLAUDE_ENV_FILE\"\n        debug_log \"Updated ${var_name} in ${CLAUDE_ENV_FILE}\"\n    else\n        # Append new variable\n        echo \"$export_line\" >> \"$CLAUDE_ENV_FILE\"\n        debug_log \"Added ${var_name} to ${CLAUDE_ENV_FILE}\"\n    fi\n\n    return 0\n}\n\n# Add the scripts folder to PATH and persist environment variables\nif [ -n \"$CLAUDE_ENV_FILE\" ]; then\n    debug_log \"\"\n    debug_log \"Setting environment variables in CLAUDE_ENV_FILE...\"\n\n    # Set PATH with the scripts folder\n    set_env_var \"PATH\" \"${CLAUDE_PLUGIN_ROOT}/scripts:\\$PATH\"\n\n    # Set CLAUDE_SESSION_ID\n    set_env_var \"CLAUDE_SESSION_ID\" \"$CLAUDE_SESSION_ID\"\n\n    # Set CLAUDE_ACTIVE_TRANSCRIPT (the transcript path)\n    if [ -n \"$TRANSCRIPT_PATH\" ]; then\n        set_env_var \"CLAUDE_ACTIVE_TRANSCRIPT\" \"$TRANSCRIPT_PATH\"\n        debug_log \"‚úì Set CLAUDE_ACTIVE_TRANSCRIPT: $TRANSCRIPT_PATH\"\n    fi\n\n    # Set CLAUDE_PROJECT_ROOT\n    if [ -n \"$PROJECT_ROOT\" ]; then\n        set_env_var \"CLAUDE_PROJECT_ROOT\" \"$PROJECT_ROOT\"\n        debug_log \"‚úì Set CLAUDE_PROJECT_ROOT: $PROJECT_ROOT\"\n    fi\n\n    debug_log \"\"\n    debug_log \"‚úì Environment variables updated\"\n    if [ -n \"$CLAUDE_HOOK_DEBUG_LOG\" ]; then\n        debug_log \"CLAUDE_ENV_FILE contents:\"\n        cat \"$CLAUDE_ENV_FILE\" >> \"$CLAUDE_HOOK_DEBUG_LOG\" 2>&1\n    fi\nelse\n    debug_log \"\"\n    debug_log \"‚ö† WARNING: CLAUDE_ENV_FILE is not set!\"\nfi\n\ndebug_log \"\"\ndebug_log \"Hook execution completed successfully\"\ndebug_log \"\"\n\n# Output JSON with hookSpecificOutput format (silent with helpful context)\njq -n \\\n  '{\n    hookSpecificOutput: {\n      hookEventName: \"SessionStart\",\n      additionalContext: \"# Transcript Plugin Available\\n\\nIf the user is confused, needs to review the conversation, debug issues, or wants to see the complete chat history with all tool details, suggest using `/transcript:create` to generate an HTML report. This is especially helpful for complex sessions with many tool calls or when troubleshooting problems.\"\n    },\n    systemMessage: \"\"\n  }'\n\ndebug_log \"JSON output generated successfully\"\n\nexit 0\n",
        "wsl-ssh-agent/.claude-plugin/plugin.json": "{\n  \"name\": \"wsl-ssh-agent\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Bridges Windows SSH agent to WSL for SSH/SCP/Git operations. Works with 1Password, native Windows OpenSSH agent, and other SSH agent implementations.\",\n  \"author\": {\n    \"name\": \"Christian Pedersen\",\n    \"email\": \"christian@dkmaker.xyz\"\n  },\n  \"keywords\": [\n    \"wsl\",\n    \"ssh\",\n    \"ssh-agent\",\n    \"1password\",\n    \"git\",\n    \"windows\"\n  ]\n}\n",
        "wsl-ssh-agent/README.md": "# WSL SSH Agent Bridge\n\nA Claude Code plugin that bridges the Windows SSH agent to WSL, enabling SSH, SCP, and Git operations from WSL using keys managed on the Windows side.\n\n## Features\n\n- **Works with any Windows SSH agent**: 1Password, native Windows OpenSSH agent, or other implementations\n- **Automatic setup**: Installs and configures everything on first run\n- **Persistent configuration**: Works in all terminal sessions, not just Claude Code\n- **Non-intrusive**: Stores binaries in your Windows user home (`~/.bin/`)\n- **Silent operation**: Only notifies when action is needed\n\n## What It Does\n\n1. **Validates WSL environment**: Checks interop is enabled and Windows drives are mounted\n2. **Installs npiperelay.exe**: Copies the relay binary to your Windows home directory\n3. **Configures shell**: Adds bridge script to `~/.bashrc` for automatic activation\n4. **Starts the bridge**: Creates a Unix socket that forwards to the Windows SSH agent\n\n## Prerequisites\n\n- **WSL2** with interop enabled (default)\n- **socat**: Install with `sudo apt install socat`\n- **Windows SSH agent** running (1Password with SSH agent enabled, or Windows OpenSSH Agent service)\n\n## How It Works\n\nThe plugin uses [npiperelay](https://github.com/jstarks/npiperelay) to bridge between Windows named pipes and Unix sockets. When you run SSH, SCP, or Git commands in WSL, they communicate through a Unix socket that `socat` relays to the Windows SSH agent via `npiperelay.exe`.\n\n```\nWSL SSH/Git ‚Üí Unix Socket ‚Üí socat ‚Üí npiperelay.exe ‚Üí Windows Named Pipe ‚Üí SSH Agent\n```\n\n## Files Created\n\n- `$WIN_HOME/.bin/npiperelay.exe` - The relay binary (in your Windows user folder)\n- `~/.ssh/agent-bridge.sh` - Bridge startup script\n- `~/.bashrc` modification - Sources the bridge script\n\n## Troubleshooting\n\n### \"Conflicting SSH_AUTH_SOCK detected\"\n\nYou have an existing SSH agent configuration. Remove the old `SSH_AUTH_SOCK` export from your `~/.bashrc` or `~/.zshrc`.\n\n### \"WSL interop is disabled\"\n\nEnable interop in `/etc/wsl.conf`:\n```ini\n[interop]\nenabled=true\n```\nThen run `wsl --shutdown` from PowerShell and restart WSL.\n\n### \"socat not installed\"\n\nInstall socat:\n```bash\nsudo apt install socat\n```\n\n### Bridge not starting\n\nEnsure the Windows SSH agent is running:\n- **1Password**: Settings ‚Üí Developer ‚Üí Enable SSH agent\n- **Windows OpenSSH**: Start the \"OpenSSH Authentication Agent\" service\n\n## Credits\n\nThis plugin uses [npiperelay](https://github.com/jstarks/npiperelay) by John Googins Starks ([@jstarks](https://github.com/jstarks)). Thank you for creating this essential tool that makes WSL SSH agent bridging possible!\n\n## License\n\nMIT\n",
        "wsl-ssh-agent/hooks/hooks.json": "{\n  \"description\": \"Bridges Windows SSH agent to WSL for SSH/SCP/Git operations\",\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/hooks/scripts/ssh-agent-bridge.sh\",\n            \"timeout\": 15\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "wsl-ssh-agent/hooks/scripts/ssh-agent-bridge.sh": "#!/bin/bash\n\n# WSL SSH Agent Bridge for Claude Code\n# Bridges Windows SSH agent to WSL for SSH/SCP/Git operations\n# Works with 1Password, native Windows OpenSSH agent, etc.\n\n# Configuration\nEXPECTED_SOCK=\"$HOME/.ssh/agent.sock\"\nAGENT_BRIDGE_SCRIPT=\"$HOME/.ssh/agent-bridge.sh\"\nLAST_CHECK_FILE=\"$HOME/.claude/.wsl-ssh-agent-last-check\"\nCHECK_INTERVAL_HOURS=2\n\n# Ensure .claude directory exists\nmkdir -p \"$HOME/.claude\" 2>/dev/null || true\n\n# Track what we did\nACTIONS_TAKEN=()\n\n# ============================================================================\n# HELPER FUNCTIONS\n# ============================================================================\n\noutput_error() {\n    local context_msg=\"$1\"\n    local system_msg=\"$2\"\n\n    jq -n \\\n        --arg context \"$context_msg\" \\\n        --arg sysmsg \"$system_msg\" \\\n        '{\n            hookSpecificOutput: {\n                hookEventName: \"SessionStart\",\n                additionalContext: $context\n            },\n            systemMessage: $sysmsg\n        }'\n}\n\noutput_success() {\n    local system_msg=\"$1\"\n    jq -n --arg sysmsg \"$system_msg\" '{systemMessage: $sysmsg}'\n}\n\nis_bridge_running() {\n    pgrep -f \"npiperelay.exe.*openssh-ssh-agent\" > /dev/null 2>&1\n}\n\nshould_run_check() {\n    if [[ ! -f \"$LAST_CHECK_FILE\" ]]; then\n        return 0  # First run\n    fi\n\n    local last_check\n    last_check=$(cat \"$LAST_CHECK_FILE\" 2>/dev/null || echo \"0\")\n    local now=$(date +%s)\n    local age=$((now - last_check))\n    local hours=$((age / 3600))\n\n    if [[ $hours -lt $CHECK_INTERVAL_HOURS ]]; then\n        return 1  # Too soon\n    fi\n\n    return 0  # Time to check\n}\n\nget_win_home() {\n    local win_home=\"\"\n    local win_profile=\"\"\n    local cmd_exe=\"/mnt/c/Windows/System32/cmd.exe\"\n\n    # Get Windows USERPROFILE using cmd.exe with full path\n    if [[ -x \"$cmd_exe\" ]]; then\n        win_profile=$(\"$cmd_exe\" /c \"echo %USERPROFILE%\" 2>/dev/null | tr -d '\\r')\n    fi\n\n    # Convert to WSL path\n    if [[ -n \"$win_profile\" ]]; then\n        win_home=$(wslpath -u \"$win_profile\" 2>/dev/null)\n    fi\n\n    echo \"$win_home\"\n}\n\n# ============================================================================\n# CONFLICT CHECK (always run, even if throttled)\n# ============================================================================\n\nif [[ -n \"$SSH_AUTH_SOCK\" && \"$SSH_AUTH_SOCK\" != \"$EXPECTED_SOCK\" ]]; then\n    output_error \\\n        \"Conflicting SSH_AUTH_SOCK detected: $SSH_AUTH_SOCK. Remove existing SSH agent configuration from ~/.bashrc or ~/.zshrc before using this plugin.\" \\\n        \"WSL SSH Agent: Conflicting SSH_AUTH_SOCK ($SSH_AUTH_SOCK). Remove old config from shell rc files.\"\n    exit 0\nfi\n\n# ============================================================================\n# THROTTLE CHECK\n# ============================================================================\n\nif ! should_run_check; then\n    # Within throttle window - just make sure bridge is running\n    if ! is_bridge_running; then\n        # Bridge not running, need to start it - continue with setup\n        :\n    else\n        # Everything is fine, exit silently\n        exit 0\n    fi\nfi\n\n# ============================================================================\n# WSL ENVIRONMENT VALIDATION\n# ============================================================================\n\n# Check WSL interop\nif ! grep -q \"^enabled\" /proc/sys/fs/binfmt_misc/WSLInterop 2>/dev/null; then\n    output_error \\\n        \"WSL interop is disabled. Enable in /etc/wsl.conf under [interop] enabled=true, then run 'wsl --shutdown' from PowerShell.\" \\\n        \"WSL SSH Agent: Interop disabled. Enable in /etc/wsl.conf\"\n    exit 0\nfi\n\n# Check /mnt/c mount\nif ! mount | grep -q '/mnt/c'; then\n    output_error \\\n        \"Windows drive not mounted at /mnt/c. Check WSL configuration.\" \\\n        \"WSL SSH Agent: /mnt/c not mounted\"\n    exit 0\nfi\n\n# Check cmd.exe exists (needed to get Windows user profile)\nCMD_EXE=\"/mnt/c/Windows/System32/cmd.exe\"\nif [[ ! -x \"$CMD_EXE\" ]]; then\n    output_error \\\n        \"Windows cmd.exe not found at $CMD_EXE. Check that Windows is properly accessible from WSL.\" \\\n        \"WSL SSH Agent: cmd.exe not found\"\n    exit 0\nfi\n\n# ============================================================================\n# PREREQUISITES CHECK\n# ============================================================================\n\n# Check socat\nif ! command -v socat &>/dev/null; then\n    output_error \\\n        \"socat not installed. Run: sudo apt install socat\" \\\n        \"WSL SSH Agent: Missing socat. Run: sudo apt install socat\"\n    exit 0\nfi\n\n# Get Windows home directory\nWIN_HOME=$(get_win_home)\nif [[ -z \"$WIN_HOME\" ]]; then\n    output_error \\\n        \"Could not detect Windows user home directory.\" \\\n        \"WSL SSH Agent: Cannot detect Windows home\"\n    exit 0\nfi\n\nNPIPERELAY_PATH=\"$WIN_HOME/.bin/npiperelay.exe\"\nPLUGIN_NPIPERELAY=\"${CLAUDE_PLUGIN_ROOT}/bin/npiperelay.exe\"\n\n# Install npiperelay.exe if needed\nif [[ ! -f \"$NPIPERELAY_PATH\" ]]; then\n    # Create .bin directory if needed\n    mkdir -p \"$WIN_HOME/.bin\" 2>/dev/null\n\n    # Copy from plugin\n    if [[ -f \"$PLUGIN_NPIPERELAY\" ]]; then\n        cp \"$PLUGIN_NPIPERELAY\" \"$NPIPERELAY_PATH\"\n        chmod +x \"$NPIPERELAY_PATH\"\n        ACTIONS_TAKEN+=(\"Installed npiperelay.exe to $WIN_HOME/.bin/\")\n    else\n        output_error \\\n            \"npiperelay.exe not found in plugin. Reinstall the wsl-ssh-agent plugin.\" \\\n            \"WSL SSH Agent: Plugin corrupted - npiperelay.exe missing\"\n        exit 0\n    fi\nfi\n\n# ============================================================================\n# SSH DIRECTORY SETUP\n# ============================================================================\n\nif [[ ! -d \"$HOME/.ssh\" ]]; then\n    mkdir -p \"$HOME/.ssh\"\n    chmod 700 \"$HOME/.ssh\"\n    ACTIONS_TAKEN+=(\"Created ~/.ssh directory\")\nfi\n\n# ============================================================================\n# AGENT BRIDGE SCRIPT\n# ============================================================================\n\n# Generate the expected content\nEXPECTED_BRIDGE_CONTENT='#!/bin/bash\n# WSL SSH Agent Bridge - bridges Windows SSH agent to WSL\n# Generated by wsl-ssh-agent plugin\n\nexport SSH_AUTH_SOCK=\"$HOME/.ssh/agent.sock\"\n\n# Start bridge if not running\nif ! pgrep -f \"npiperelay.exe.*openssh-ssh-agent\" > /dev/null 2>&1; then\n    rm -f \"$SSH_AUTH_SOCK\"\n    WIN_PROFILE=$(/mnt/c/Windows/System32/cmd.exe /c \"echo %USERPROFILE%\" 2>/dev/null | tr -d \"\\r\")\n    WIN_HOME=$(wslpath -u \"$WIN_PROFILE\" 2>/dev/null)\n    if [[ -n \"$WIN_HOME\" && -x \"$WIN_HOME/.bin/npiperelay.exe\" ]]; then\n        nohup socat UNIX-LISTEN:\"$SSH_AUTH_SOCK\",fork \\\n            EXEC:\"$WIN_HOME/.bin/npiperelay.exe -ei -s //./pipe/openssh-ssh-agent\",nofork > /dev/null 2>&1 &\n        # Wait briefly for socket to be created\n        sleep 0.3\n    fi\nfi\n\n# Verify agent is accessible (silent check)\nif [[ -S \"$SSH_AUTH_SOCK\" ]]; then\n    ssh-add -l > /dev/null 2>&1 || true\nfi'\n\n# Check if script needs to be created/updated\nif [[ ! -f \"$AGENT_BRIDGE_SCRIPT\" ]]; then\n    echo \"$EXPECTED_BRIDGE_CONTENT\" > \"$AGENT_BRIDGE_SCRIPT\"\n    chmod +x \"$AGENT_BRIDGE_SCRIPT\"\n    ACTIONS_TAKEN+=(\"Created ~/.ssh/agent-bridge.sh\")\nfi\n\n# ============================================================================\n# BASHRC SETUP\n# ============================================================================\n\nBASHRC=\"$HOME/.bashrc\"\nSOURCE_LINE='source ~/.ssh/agent-bridge.sh'\n\n# Check for existing SSH agent configurations that would conflict\nif [[ -f \"$BASHRC\" ]]; then\n    # Look for other SSH_AUTH_SOCK exports or agent configs (excluding our own)\n    EXISTING_CONFIG=$(grep -n \"SSH_AUTH_SOCK\\|ssh-agent\\|\\.agent-bridge\" \"$BASHRC\" 2>/dev/null | grep -v \"source ~/.ssh/agent-bridge.sh\" | grep -v \"# WSL SSH Agent\" || true)\n    if [[ -n \"$EXISTING_CONFIG\" ]]; then\n        output_error \\\n            \"Existing SSH agent configuration found in ~/.bashrc. Please remove or comment out these lines before using this plugin:\\n$EXISTING_CONFIG\" \\\n            \"WSL SSH Agent: Existing SSH config in .bashrc. Remove conflicting lines first.\"\n        exit 0\n    fi\nfi\n\nif [[ -f \"$BASHRC\" ]]; then\n    if ! grep -qF \"$SOURCE_LINE\" \"$BASHRC\"; then\n        echo \"\" >> \"$BASHRC\"\n        echo \"# WSL SSH Agent Bridge\" >> \"$BASHRC\"\n        echo \"$SOURCE_LINE\" >> \"$BASHRC\"\n        ACTIONS_TAKEN+=(\"Added SSH agent bridge to ~/.bashrc\")\n    fi\nelse\n    # Create .bashrc with the source line\n    echo \"# WSL SSH Agent Bridge\" > \"$BASHRC\"\n    echo \"$SOURCE_LINE\" >> \"$BASHRC\"\n    ACTIONS_TAKEN+=(\"Created ~/.bashrc with SSH agent bridge\")\nfi\n\n# ============================================================================\n# START BRIDGE IF NOT RUNNING\n# ============================================================================\n\nif ! is_bridge_running; then\n    # Remove stale socket\n    rm -f \"$EXPECTED_SOCK\"\n\n    # Start the bridge using nohup for reliable backgrounding\n    nohup socat UNIX-LISTEN:\"$EXPECTED_SOCK\",fork \\\n        EXEC:\"$NPIPERELAY_PATH -ei -s //./pipe/openssh-ssh-agent\",nofork > /dev/null 2>&1 &\n\n    # Wait briefly and verify it started\n    sleep 0.5\n    if is_bridge_running; then\n        ACTIONS_TAKEN+=(\"Started SSH agent bridge\")\n    else\n        output_error \\\n            \"Failed to start SSH agent bridge. Check that Windows OpenSSH agent is running.\" \\\n            \"WSL SSH Agent: Failed to start bridge\"\n        exit 0\n    fi\nfi\n\n# ============================================================================\n# UPDATE THROTTLE TIMESTAMP\n# ============================================================================\n\ndate +%s > \"$LAST_CHECK_FILE\"\n\n# ============================================================================\n# OUTPUT\n# ============================================================================\n\nif [[ ${#ACTIONS_TAKEN[@]} -gt 0 ]]; then\n    # Build action list\n    action_list=\"\"\n    for action in \"${ACTIONS_TAKEN[@]}\"; do\n        action_list=\"${action_list}\\n  - ${action}\"\n    done\n\n    output_success \"WSL SSH Agent: Setup complete${action_list}\"\nfi\n\n# Silent exit if no actions taken\nexit 0\n"
      },
      "plugins": [
        {
          "name": "claude-expert",
          "source": "./claude-expert",
          "description": "Expert knowledge system for Claude Code with complete documentation database, intelligent search, and automatic CLI management. Provides authoritative answers to all Claude Code questions using official documentation.",
          "version": "2.0.0",
          "keywords": [
            "documentation",
            "expert",
            "knowledge",
            "claude-code",
            "help",
            "search",
            "nodejs"
          ],
          "category": "knowledge",
          "categories": [
            "claude-code",
            "documentation",
            "expert",
            "help",
            "knowledge",
            "nodejs",
            "search"
          ],
          "install_commands": [
            "/plugin marketplace add dkmaker/my-claude-plugins",
            "/plugin install claude-expert@my-claude-plugins"
          ]
        },
        {
          "name": "perplexity",
          "source": "./perplexity",
          "description": "Real-time web search, reasoning, and research through Perplexity's API via MCP server",
          "version": "0.5.0",
          "keywords": [
            "mcp",
            "search",
            "web-search",
            "perplexity",
            "research",
            "reasoning",
            "ai"
          ],
          "category": "productivity",
          "categories": [
            "ai",
            "mcp",
            "perplexity",
            "productivity",
            "reasoning",
            "research",
            "search",
            "web-search"
          ],
          "install_commands": [
            "/plugin marketplace add dkmaker/my-claude-plugins",
            "/plugin install perplexity@my-claude-plugins"
          ]
        },
        {
          "name": "playwright",
          "source": "./playwright",
          "description": "Browser automation and testing with Playwright via MCP server",
          "version": "1.0.0",
          "keywords": [
            "mcp",
            "playwright",
            "browser",
            "automation",
            "testing",
            "e2e",
            "web"
          ],
          "category": "testing",
          "categories": [
            "automation",
            "browser",
            "e2e",
            "mcp",
            "playwright",
            "testing",
            "web"
          ],
          "install_commands": [
            "/plugin marketplace add dkmaker/my-claude-plugins",
            "/plugin install playwright@my-claude-plugins"
          ]
        },
        {
          "name": "baseline",
          "source": "./baseline",
          "description": "Ensures optimal Claude Code defaults and validates required tools. Includes custom statusline and recommended settings.",
          "version": "1.0.0",
          "keywords": [
            "configuration",
            "defaults",
            "tools",
            "validation",
            "statusline",
            "settings"
          ],
          "category": "productivity",
          "categories": [
            "configuration",
            "defaults",
            "productivity",
            "settings",
            "statusline",
            "tools",
            "validation"
          ],
          "install_commands": [
            "/plugin marketplace add dkmaker/my-claude-plugins",
            "/plugin install baseline@my-claude-plugins"
          ]
        },
        {
          "name": "transcript",
          "source": "./transcript",
          "description": "Parse and analyze Claude Code session transcripts with beautiful HTML output. List transcripts, generate reports, and explore conversation history.",
          "version": "1.0.0",
          "keywords": [
            "transcript",
            "session",
            "debug",
            "history",
            "analysis",
            "html",
            "report"
          ],
          "category": "productivity",
          "categories": [
            "analysis",
            "debug",
            "history",
            "html",
            "productivity",
            "report",
            "session",
            "transcript"
          ],
          "install_commands": [
            "/plugin marketplace add dkmaker/my-claude-plugins",
            "/plugin install transcript@my-claude-plugins"
          ]
        },
        {
          "name": "wsl-ssh-agent",
          "source": "./wsl-ssh-agent",
          "description": "Bridges Windows SSH agent to WSL for SSH/SCP/Git operations. Works with 1Password, native Windows OpenSSH, and other SSH agent implementations.",
          "version": "1.0.0",
          "keywords": [
            "wsl",
            "ssh",
            "ssh-agent",
            "1password",
            "git",
            "windows"
          ],
          "category": "productivity",
          "categories": [
            "1password",
            "git",
            "productivity",
            "ssh",
            "ssh-agent",
            "windows",
            "wsl"
          ],
          "install_commands": [
            "/plugin marketplace add dkmaker/my-claude-plugins",
            "/plugin install wsl-ssh-agent@my-claude-plugins"
          ]
        },
        {
          "name": "mcp-rest-api",
          "source": {
            "source": "github",
            "repo": "dkmaker/mcp-rest-api"
          },
          "description": "REST API tester MCP server - test HTTP endpoints directly from Claude Code",
          "keywords": [
            "mcp",
            "rest",
            "api",
            "http",
            "testing",
            "development"
          ],
          "category": "productivity",
          "categories": [
            "api",
            "development",
            "http",
            "mcp",
            "productivity",
            "rest",
            "testing"
          ],
          "install_commands": [
            "/plugin marketplace add dkmaker/my-claude-plugins",
            "/plugin install mcp-rest-api@my-claude-plugins"
          ]
        }
      ]
    }
  ]
}