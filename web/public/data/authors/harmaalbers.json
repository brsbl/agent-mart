{
  "author": {
    "id": "HarmAalbers",
    "display_name": "Harm",
    "avatar_url": "https://avatars.githubusercontent.com/u/41291508?u=fdae75a6fb2d0eea05cd25e62d7ea160359ae51e&v=4"
  },
  "marketplaces": [
    {
      "name": "requirements-framework-local",
      "version": null,
      "description": "Local marketplace for requirements framework plugin development",
      "repo_full_name": "HarmAalbers/claude-requirements-framework",
      "repo_url": "https://github.com/HarmAalbers/claude-requirements-framework",
      "repo_description": "A powerful hook-based system for enforcing development workflow requirements in Claude Code. Ensures critical steps like commit planning, ADR review, and TDD are completed before code modifications.",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-16T17:37:10Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"requirements-framework-local\",\n  \"owner\": {\n    \"name\": \"harm\"\n  },\n  \"description\": \"Local marketplace for requirements framework plugin development\",\n  \"plugins\": [{\n    \"name\": \"requirements-framework\",\n    \"version\": \"2.0.5\",\n    \"description\": \"Claude Code Requirements Framework - Workflow enforcement and code review\",\n    \"source\": \"./plugins/requirements-framework\"\n  }]\n}\n",
        "README.md": "# Claude Code Requirements Framework\n\nA powerful hook-based system for enforcing development workflow requirements in Claude Code. Ensures critical steps like commit planning, ADR review, and test-driven development are completed before code modifications.\n\n## Features\n\n- **ğŸ”’ PreToolUse Hook**: Blocks file modifications until requirements are satisfied\n- **ğŸ›‘ Stop Hook**: Verifies all requirements before Claude finishes (prevents incomplete work)\n- **ğŸš€ SessionStart Hook**: Injects full requirement status at session start\n- **ğŸ§¹ SessionEnd Hook**: Cleans up session state when session ends\n- **ğŸ“‹ Customizable Checklists**: Display reminder checklists in requirement blocker messages\n- **ğŸ¯ Session & Branch Scoping**: Requirements can be session-specific, branch-specific, or permanent\n- **âš¡ CLI Tool**: Simple `req` command for managing requirements\n- **ğŸ”„ Session Auto-Detection**: Automatically finds the correct session without manual configuration\n- **ğŸš« Message Deduplication**: Prevents spam when Claude makes parallel tool calls\n- **ğŸ§ª Comprehensive Tests**: 447 passing tests with full TDD coverage\n- **ğŸ“¦ Project Inheritance**: Cascade configuration from global â†’ project â†’ local\n- **ğŸ”§ Development Tools**: Bidirectional sync.sh for seamless development workflow\n\n## Quick Start\n\n### Installation\n\n```bash\n# Clone the repository\ngit clone <repository-url> ~/tools/claude-requirements-framework\ncd ~/tools/claude-requirements-framework\n\n# Run the installation script\n./install.sh\n```\n\nThe installer will:\n1. Copy hooks to `~/.claude/hooks/`\n2. Install the global configuration to `~/.claude/requirements.yaml`\n3. Register all hooks (PreToolUse, PostToolUse, SessionStart, Stop, SessionEnd) in your Claude Code settings\n4. Display marketplace installation instructions for the plugin\n\n### Install Plugin via Marketplace\n\nAfter running `install.sh`, install the plugin via Claude Code's marketplace system:\n\n```bash\n# In Claude Code session:\n/plugin marketplace add ~/Tools/claude-requirements-framework\n/plugin install requirements-framework@requirements-framework-local\n```\n\n### Verify Plugin Installation\n\nVerify the plugin loaded successfully:\n\n```bash\n# Check plugin appears in Claude Code\n# Start a new session and type:\n/requirements-framework:\n\n# Should autocomplete to:\n# - /requirements-framework:pre-commit [aspects]\n# - /requirements-framework:quality-check [parallel]\n# - /requirements-framework:codex-review [focus]\n\n# Check installed version:\n/plugin list\n# Should show: requirements-framework@2.0.5\n```\n\nFor detailed installation, troubleshooting, and component reference:\n- **[Plugin Installation Guide](docs/PLUGIN-INSTALLATION.md)** - Comprehensive reference\n- **[Plugin README](plugins/requirements-framework/README.md)** - Plugin-specific docs\n- **[Plugin Components](#plugin-components)** (below) - Agent/command/skill descriptions\n\n### Project Setup\n\nAfter installation, initialize requirements for your project:\n\n```bash\n# Interactive wizard (recommended)\ncd /your/project\nreq init\n\n# Or non-interactively\nreq init --yes --preset relaxed\n```\n\n#### Initialization Modes\n\nThe interactive wizard offers three configuration approaches:\n\n**1. Quick Preset** (Recommended)\nChoose from context-aware presets optimized for your setup:\n\n- **`advanced`** - All features (recommended for global config)\n  - 7 requirements showcasing every capability\n  - Dynamic checks (branch_size_limit with calculator)\n  - Single-use requirements (pre_commit_review, pre_pr_review)\n  - Guard requirements (protected_branch)\n  - Perfect for discovering what the framework can do\n\n- **`inherit`** - Use global defaults (recommended for projects)\n  - Sets `inherit: true`\n  - Empty requirements (relies on global config)\n  - Perfect for projects when you have global config\n\n- **`relaxed`** - Baseline requirements\n  - commit_plan only\n  - Good for standalone projects or trying the framework\n\n- **`strict`** - Full enforcement\n  - commit_plan + protected_branch\n  - Good for team projects with protected branches\n\n- **`minimal`** - Framework enabled, no requirements\n  - Configure later manually\n\n**2. Custom Selection**\nInteractive checkbox to pick specific features:\n- Choose from: commit_plan, adr_reviewed, protected_branch, branch_size_limit, pre_commit_review, pre_pr_review\n- Perfect for power users who know exactly what they want\n\n**3. Manual Setup**\nStarts with minimal config - configure everything yourself later\n\n#### Context-Aware Behavior\n\n`req init` automatically detects your context:\n\n- **Global setup** (`~/.claude/` directory): Defaults to `advanced` preset\n- **Project with global config**: Defaults to `inherit` preset\n- **Project without global**: Defaults to `relaxed` preset\n- **Local override**: Only offers `minimal` preset\n\nThe `req init` command creates `.claude/requirements.yaml` with your chosen configuration.\n\n### Basic Usage\n\n```bash\n# Check requirement status\nreq status\n\n# Satisfy the commit_plan requirement\nreq satisfy commit_plan\n\n# Clear a requirement\nreq clear commit_plan\n\n# List all requirements\nreq list\n\n# View active sessions\nreq sessions\n\n# Configure a requirement\nreq config commit_plan --enable --scope branch\n\n# Set custom fields (e.g., ADR location)\nreq config adr_reviewed --set adr_path=/docs/adr\n\n# Diagnose installation and sync status\nreq doctor --repo ~/Tools/claude-requirements-framework\n```\n\n### Doctor Command\n\nUse `req doctor` to verify the framework is installed and synced correctly:\n\n- Confirms the `PreToolUse` hook is registered in `~/.claude/settings.json`\n- Ensures `check-requirements.py` and `requirements-cli.py` are executable\n- Checks the current project for `.claude/requirements.yaml`\n- Compares repository files to the deployed `~/.claude/hooks` installation and recommends whether to deploy or reconcile differences\n\nPass `--repo` to point at your repository copy if auto-detection fails:\n\n```bash\nreq doctor --repo ~/Tools/claude-requirements-framework\n```\n\n### Managing Configuration\n\nThe `req config` command lets you view and modify requirement settings without manually editing YAML files:\n\n```bash\n# View current configuration for a requirement\nreq config commit_plan\n\n# Enable/disable a requirement\nreq config github_ticket --enable\nreq config commit_plan --disable\n\n# Change scope\nreq config commit_plan --scope branch\n\n# Set custom message\nreq config adr_reviewed --message \"ğŸ“š Review ADRs in docs/adr/\"\n\n# Set arbitrary fields (great for custom requirements)\nreq config adr_reviewed --set adr_path=/docs/adr\nreq config dynamic_req --set approval_ttl=600\nreq config my_requirement --set custom_field=\"value\"\n\n# Multiple changes at once\nreq config commit_plan --enable --scope branch --message \"Custom\"\n\n# Interactive mode (asks project vs local)\nreq config commit_plan --enable\n\n# Non-interactive (for scripts)\nreq config commit_plan --disable --local --yes\n```\n\nThe `--set` flag supports:\n- **Strings**: `--set adr_path=/docs/adr`\n- **Numbers**: `--set approval_ttl=600` (auto-parsed as JSON)\n- **Booleans**: `--set strict=true`\n- **Arrays**: `--set branches='[\"main\",\"master\"]'`\n\n## Requirements Types\n\n### commit_plan (Recommended)\n\nEnsures you create a commit plan before making code changes.\n\n**Checklist** (customizable):\n- â¬œ Identified the changes needed for this feature/fix\n- â¬œ Determined atomic commit boundaries (each commit is reviewable)\n- â¬œ Planned commit sequence and dependencies\n- â¬œ Considered what can be safely rolled back\n- â¬œ Created plan file documenting the approach\n\n**Configuration**:\n```yaml\nrequirements:\n  commit_plan:\n    enabled: true\n    scope: session  # Resets each Claude Code session\n    trigger_tools:\n      - Edit\n      - Write\n      - MultiEdit\n```\n\n### github_ticket\n\nLinks branches to GitHub issues for traceability.\n\n```yaml\nrequirements:\n  github_ticket:\n    enabled: true\n    scope: branch  # Once per branch\n```\n\n### adr_reviewed (Example: cclv2 project)\n\nEnsures relevant Architecture Decision Records are reviewed.\n\n```yaml\nrequirements:\n  adr_reviewed:\n    enabled: true\n    scope: session\n    message: |\n      ğŸ“š **Have you reviewed relevant ADRs?**\n\n      ADRs are in: /path/to/ADR/\n```\n\n### protected_branch (Guard Type)\n\nPrevents direct edits on protected branches (main/master).\n\n**Type**: Guard - Checks conditions rather than requiring manual satisfaction\n\n```yaml\nrequirements:\n  protected_branch:\n    enabled: true\n    type: guard\n    guard_type: protected_branch\n    protected_branches:\n      - master\n      - main\n```\n\n### branch_size_limit (Dynamic Type)\n\nAutomatically calculates branch size and blocks large PRs.\n\n**Type**: Dynamic - Calculated automatically, not manually satisfied\n\n```yaml\nrequirements:\n  branch_size_limit:\n    enabled: true\n    type: dynamic\n    calculator: branch_size_calculator\n    scope: session\n    thresholds:\n      warn: 250   # Log warning (non-blocking)\n      block: 400  # Block with denial message\n    cache_ttl: 60  # Recalculate every 60 seconds\n    approval_ttl: 3600  # 1 hour approval via `req approve`\n```\n\n### pre_commit_review (Single-Use Scope)\n\nRequires code review before every commit.\n\n**Scope**: single_use - Must re-satisfy before EACH commit\n\n```yaml\nrequirements:\n  pre_commit_review:\n    enabled: true\n    type: blocking\n    scope: single_use\n    trigger_tools:\n      - tool: Bash\n        command_pattern: \"git\\\\s+(commit|cherry-pick|revert|merge)\"\n    message: |\n      Run `/requirements-framework:pre-commit` to review your code\n```\n\n**Auto-satisfied** when you run `/requirements-framework:pre-commit`\n\n### pre_pr_review (Single-Use Scope)\n\nRequires comprehensive quality check before creating each PR.\n\n```yaml\nrequirements:\n  pre_pr_review:\n    enabled: true\n    type: blocking\n    scope: single_use\n    trigger_tools:\n      - tool: Bash\n        command_pattern: \"gh\\\\s+pr\\\\s+create\"\n    message: |\n      Run `/requirements-framework:quality-check` for comprehensive review\n```\n\n**Auto-satisfied** when you run `/requirements-framework:quality-check`\n\n### codex_reviewer (AI-Powered Review)\n\nRequires AI-powered code review before creating PRs.\n\n```yaml\nrequirements:\n  codex_reviewer:\n    enabled: true\n    type: blocking\n    scope: single_use\n    trigger_tools:\n      - tool: Bash\n        command_pattern: \"gh\\\\s+pr\\\\s+create\"\n    message: |\n      Run `/requirements-framework:codex-review` for AI-powered review\n```\n\n**Auto-satisfied** when you run `/requirements-framework:codex-review`\n\n### Project-Specific Skills (`satisfied_by_skill`)\n\nConnect any project skill to auto-satisfy a requirement when it completes.\n\n**Use Case**: Projects with custom review skills (e.g., architecture review against ADRs)\n\n```yaml\n# .claude/requirements.yaml (in your project)\nrequirements:\n  architecture_review:\n    enabled: true\n    type: blocking\n    scope: single_use\n    trigger_tools:\n      - tool: Bash\n        command_pattern: 'gh\\s+pr\\s+create'\n    satisfied_by_skill: 'architecture-guardian'  # Your project skill name\n    message: |\n      ğŸ—ï¸ Run the architecture-guardian skill to review against ADRs\n```\n\n**How It Works**:\n1. Define a skill in your project (`.claude/skills/architecture-guardian.md`)\n2. Add `satisfied_by_skill: 'skill-name'` to your requirement config\n3. When the skill completes, the requirement is automatically satisfied\n4. PR creation is allowed (requirement is satisfied)\n\n**Naming Convention**:\n- Project skills: Use skill name from frontmatter (e.g., `'architecture-guardian'`)\n- Plugin skills: Use namespaced format (e.g., `'requirements-framework:pre-commit'`)\n\n### hooks.stop Configuration\n\nControls whether sessions can end with unsatisfied requirements.\n\n```yaml\nhooks:\n  stop:\n    verify_requirements: true  # Block session end if requirements unsatisfied\n```\n\nWhen enabled, the Stop hook prevents Claude Code sessions from ending until all session-scoped requirements are satisfied.\n\n---\n\n## Plugin Components\n\nThe requirements framework includes a comprehensive plugin with specialized agents, orchestrator commands, and management skills.\n\n### Agents (10)\n\n**Workflow Enforcement**:\n- **adr-guardian** - Validates plans and code against Architecture Decision Records (BLOCKING authority)\n- **codex-review-agent** - Orchestrates OpenAI Codex CLI for AI-powered code review\n\n**Pre-Commit Review Suite** (8 specialized reviewers):\n- **tool-validator** - Executes pyright/ruff/eslint to catch CI errors locally (Haiku model)\n- **code-reviewer** - CLAUDE.md compliance, bug detection, code quality (Opus model, confidence â‰¥80)\n- **silent-failure-hunter** - Error handling audit with zero tolerance for silent failures (Sonnet model)\n- **test-analyzer** - Test coverage quality with CRITICAL gap detection for code without tests\n- **type-design-analyzer** - Type invariants and encapsulation analysis with 4-dimensional rating\n- **comment-analyzer** - Documentation accuracy and comment rot detection\n- **code-simplifier** - Final code polish for clarity and maintainability (Sonnet model)\n- **backward-compatibility-checker** - Schema migration detection with Alembic verification (Sonnet model)\n\n### Commands (3)\n\n**`/requirements-framework:pre-commit [aspects]`**\n\nFast pre-commit review with smart agent selection:\n- **Default** (no args): tool-validator + code-reviewer + silent-failure-hunter\n- **Arguments**: `tools`, `code`, `errors`, `compat`, `tests`, `types`, `comments`, `simplify`, `all`, `parallel`\n- **Integrated with**: `pre_commit_review` requirement (auto-satisfies on completion)\n- **Execution**: Deterministic workflow with blocking gates (tool errors stop AI review)\n\nExamples:\n```bash\n/requirements-framework:pre-commit              # Fast essential checks\n/requirements-framework:pre-commit tools        # Just CI tools\n/requirements-framework:pre-commit all parallel # Comprehensive + fast\n/requirements-framework:pre-commit tests types  # Specific aspects\n```\n\n**`/requirements-framework:quality-check [parallel]`**\n\nComprehensive pre-PR review with all 8 review agents:\n- **Smart selection**: Conditionally runs agents based on file types (tests, types, comments, schemas)\n- **Deterministic execution**: 10-step workflow with enforced order and file type detection\n- **Blocking gate**: Tool-validator must pass before AI review\n- **Integrated with**: `pre_pr_review` requirement (auto-satisfies on completion)\n\nExamples:\n```bash\n/requirements-framework:quality-check           # Thorough sequential\n/requirements-framework:quality-check parallel  # Fast comprehensive\n```\n\n**`/requirements-framework:codex-review [focus]`**\n\nAI-powered code review using OpenAI Codex CLI:\n- **Focus areas**: `security`, `performance`, `bugs`, `style`, `all` (default)\n- **Autonomous agent**: Handles prerequisites, scope detection, and error recovery\n- **Integrated with**: `codex_reviewer` requirement (auto-satisfies on completion)\n- **Requirements**: OpenAI Codex CLI (`npm install -g @openai/codex` + `codex login`)\n\nExamples:\n```bash\n/requirements-framework:codex-review            # All focus areas\n/requirements-framework:codex-review security   # Security vulnerabilities\n/requirements-framework:codex-review performance # Performance optimization\n```\n\n### Skills (4)\n- **requirements-framework-builder** - Framework management, extension, and status checking\n- **requirements-framework-development** - Framework development workflow and sync operations\n- **requirements-framework-status** - Status reporting and progress tracking\n- **requirements-framework-usage** - Usage help, troubleshooting, and configuration guidance\n\n---\n\n## Configuration System\n\n### 3-Level Cascade\n\n1. **Global** (`~/.claude/requirements.yaml`) - Default requirements for all projects\n2. **Project** (`.claude/requirements.yaml`) - Shared team configuration (committed to repo)\n3. **Local** (`.claude/requirements.local.yaml`) - Personal overrides (gitignored)\n\n### Example: Global Config\n\n```yaml\n# ~/.claude/requirements.yaml\nversion: \"1.0\"\nenabled: true\n\nrequirements:\n  commit_plan:\n    enabled: false  # Disabled by default - projects opt-in\n    scope: session\n    trigger_tools: [Edit, Write, MultiEdit]\n    message: |\n      ğŸ“‹ **No commit plan found for this session**\n\n      Before making code changes, you should plan your commits.\n    checklist:\n      - \"Identified the changes needed\"\n      - \"Determined atomic commit boundaries\"\n      - \"Created plan file\"\n```\n\n### Example: Project Config\n\n```yaml\n# .claude/requirements.yaml (committed to repo)\nversion: \"1.0\"\ninherit: true  # Merge with global config\n\nrequirements:\n  commit_plan:\n    enabled: true  # Enable for this project\n    checklist:\n      - \"Plan created via EnterPlanMode\"\n      - \"Reviewed relevant ADRs\"\n      - \"TDD approach in plan\"\n\n  adr_reviewed:\n    enabled: true\n```\n\n### Example: Local Override\n\n```yaml\n# .claude/requirements.local.yaml (gitignored)\nrequirements:\n  commit_plan:\n    enabled: false  # Temporarily disable for myself\n```\n\n### Logging Configuration\n\nConfigure how the hook emits JSON logs:\n\n```yaml\nlogging:\n  level: info               # One of: debug, info, warning, error\n  destinations: [file]      # Any of: stdout, file (can list multiple)\n  file: ~/.claude/requirements.log  # Optional custom log path\n```\n\nDefaults keep the existing fail-open behavior: level `error` with file logging to\n`~/.claude/requirements.log` so normal runs stay quiet unless something fails.\n\n### Console Output Configuration\n\nConfigure non-JSON console output (warnings, notices, debug messages). This is\nseparate from hook protocol output (JSON responses/context injection), which\nalways goes to stdout. All structured logs still live in `~/.claude/requirements.log`.\n\n```yaml\nconsole:\n  level: warning              # One of: debug, info, warning, error\n  destinations: [stderr]      # Any of: stdout, stderr, file\n  file: ~/.claude/requirements-console.log  # Optional custom output path\n```\n\nDefaults are silent (no console output). Enable stderr output if you want to see\nwarnings inline during CLI runs.\n\nDebugging example (write verbose logs to file and surface warnings locally):\n\n```yaml\nlogging:\n  level: debug\n  destinations: [file]\nconsole:\n  level: warning\n  destinations: [stderr]\n```\n\n### Hook Configuration\n\nConfigure behavior for each hook:\n\n```yaml\nhooks:\n  session_start:\n    inject_context: true       # ON by default - show full status at start\n  stop:\n    verify_requirements: true  # ON by default - enforce requirements\n    verify_scopes: [session]   # Which scopes to verify (default: session only)\n  session_end:\n    clear_session_state: false # OFF by default - preserve state for debugging\n```\n\nTo disable the Stop hook verification:\n\n```yaml\nhooks:\n  stop:\n    verify_requirements: false  # Turn off requirement verification at stop\n```\n\n## Session Lifecycle\n\nThe framework uses four hooks to manage the complete session lifecycle:\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    SESSION LIFECYCLE                     â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                         â”‚\nâ”‚  ğŸš€ SessionStart â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚\nâ”‚     â€¢ Clean stale sessions (prune)                      â”‚\nâ”‚     â€¢ Inject full requirement status + instructions     â”‚\nâ”‚                                                         â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚              WORK LOOP                          â”‚   â”‚\nâ”‚  â”‚  ğŸ”’ PreToolUse (Edit/Write)                     â”‚   â”‚\nâ”‚  â”‚  â€¢ Block if requirements not satisfied          â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                         â”‚\nâ”‚  ğŸ›‘ Stop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚\nâ”‚     â€¢ Verify all requirements satisfied (ON by default) â”‚\nâ”‚     â€¢ Block stop if incomplete (force continuation)     â”‚\nâ”‚                                                         â”‚\nâ”‚  ğŸ§¹ SessionEnd â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚\nâ”‚     â€¢ Clean up session-specific state                   â”‚\nâ”‚     â€¢ Update registry (mark session inactive)           â”‚\nâ”‚                                                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Hook Details\n\n| Hook | When | Can Block | Purpose |\n|------|------|-----------|---------|\n| SessionStart | Session starts/resumes | No | Inject context, clean stale sessions |\n| PreToolUse | Before Edit/Write | Yes | Block modifications until requirements satisfied |\n| Stop | Claude about to finish | Yes | Final verification before stopping |\n| SessionEnd | Session ends | No | Cleanup session state |\n\n### Stop Hook Behavior\n\nThe Stop hook prevents Claude from finishing with unsatisfied requirements:\n\n1. **Enabled by default** - No configuration needed\n2. **Checks session-scoped requirements** - Branch/permanent scopes are not verified by default\n3. **Safe loop prevention** - Uses `stop_hook_active` flag to prevent infinite continuation loops\n4. **Helpful messaging** - Shows which requirements need satisfaction\n\nExample output when blocked:\n```\nâš ï¸ **Requirements not satisfied**: commit_plan\n\nPlease satisfy these requirements before finishing, or use\n`req satisfy <name>` to mark them complete.\n```\n\n## Checklists Feature\n\nChecklists provide visual reminders of important steps when requirements block your workflow.\n\n### Adding Checklists\n\n```yaml\nrequirements:\n  commit_plan:\n    enabled: true\n    checklist:\n      - \"Plan created via EnterPlanMode and planning agents/skills\"\n      - \"Atomic commits identified (from agent/skill analysis)\"\n      - \"Reviewed relevant ADRs (in /ADR/ directory)\"\n      - \"TDD approach implemented in todo list/plan\"\n      - \"Linting/formatting/typecheck commands known\"\n```\n\n### Checklist Display\n\nWhen Claude Code is blocked, the checklist appears in the error message:\n\n```\nğŸ“‹ **No commit plan found for this session**\n\n**Checklist**:\nâ¬œ 1. Plan created via EnterPlanMode and planning agents/skills\nâ¬œ 2. Atomic commits identified (from agent/skill analysis)\nâ¬œ 3. Reviewed relevant ADRs (in /ADR/ directory)\n...\n\n**Current session**: `abc12345`\n\nğŸ’¡ **To satisfy from terminal**:\n```bash\nreq satisfy commit_plan --session abc12345\n```\n```\n\n## Advanced Features\n\n### Session Management\n\nThe framework automatically manages session state:\n\n- **Session Registry** (`~/.claude/sessions.json`) - Tracks active Claude Code sessions\n- **Auto-Detection** - CLI automatically finds the correct session\n- **PID Validation** - Stale sessions are automatically cleaned up\n\n```bash\n# View all active sessions\nreq sessions\n\n# View sessions for current project only\nreq sessions --project\n\n# Use specific session explicitly\nreq satisfy commit_plan --session abc12345\n```\n\n### Scopes\n\nRequirements can have different lifetimes:\n\n| Scope | Behavior | Use Case |\n|-------|----------|----------|\n| `session` | Cleared when Claude Code session ends | Daily planning, ADR review |\n| `branch` | Persists across sessions on same branch | GitHub ticket linking |\n| `permanent` | Never cleared automatically | Project setup tasks |\n\n### State Storage\n\nState is stored in `.git/requirements/[branch].json`:\n\n```json\n{\n  \"version\": \"1.0\",\n  \"branch\": \"feature/auth\",\n  \"requirements\": {\n    \"commit_plan\": {\n      \"scope\": \"session\",\n      \"sessions\": {\n        \"abc12345\": {\n          \"satisfied\": true,\n          \"satisfied_at\": 1702345678,\n          \"satisfied_by\": \"cli\"\n        }\n      }\n    }\n  }\n}\n```\n\n### TTL (Time-To-Live)\n\nRequirements can expire automatically:\n\n```bash\n# Satisfy for 1 hour\nreq satisfy commit_plan --ttl 3600\n```\n\n## Testing\n\nThe framework includes comprehensive tests (447 tests, 100% passing):\n\n```bash\n# Run all tests\ncd ~/.claude/hooks\npython3 test_requirements.py\n\n# Expected output:\n# ğŸ§ª Requirements Framework Test Suite\n# ==================================================\n# ...\n# Results: 447/447 tests passed\n```\n\nTest categories:\n- Session management (31 tests)\n- Configuration loading (13 tests)\n- Hook config (6 tests)\n- Requirements manager (9 tests)\n- CLI commands (15 tests)\n- PreToolUse hook behavior (13 tests)\n- SessionStart hook (5 tests)\n- Stop hook (7 tests)\n- SessionEnd hook (5 tests)\n- Session registry removal (4 tests)\n- Checklist rendering (8 tests)\n- Message deduplication (13 tests)\n- Logging (19 tests)\n\n## Architecture\n\n### Components\n\n```\n~/.claude/\nâ”œâ”€â”€ hooks/\nâ”‚   â”œâ”€â”€ check-requirements.py       # PreToolUse hook (blocks edits)\nâ”‚   â”œâ”€â”€ handle-session-start.py     # SessionStart hook (context injection)\nâ”‚   â”œâ”€â”€ handle-stop.py              # Stop hook (requirement verification)\nâ”‚   â”œâ”€â”€ handle-session-end.py       # SessionEnd hook (cleanup)\nâ”‚   â”œâ”€â”€ requirements-cli.py         # CLI tool (req command)\nâ”‚   â”œâ”€â”€ test_requirements.py        # Test suite (447 tests)\nâ”‚   â””â”€â”€ lib/\nâ”‚       â”œâ”€â”€ config.py               # Configuration cascade + hook config\nâ”‚       â”œâ”€â”€ git_utils.py            # Git operations\nâ”‚       â”œâ”€â”€ logger.py               # Structured JSON logging\nâ”‚       â”œâ”€â”€ requirements.py         # Core requirements manager\nâ”‚       â”œâ”€â”€ session.py              # Session tracking + registry\nâ”‚       â””â”€â”€ state_storage.py        # JSON state persistence\nâ”œâ”€â”€ requirements.yaml               # Global configuration\nâ””â”€â”€ sessions.json                   # Active session registry\n\n<project>/.git/requirements/\nâ””â”€â”€ [branch].json                   # Branch-specific state\n```\n\n### Hook Flow\n\n```\nSESSION START\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n1. Claude Code session starts\n   â†“\n2. SessionStart hook triggered (handle-session-start.py)\n   - Cleans stale sessions from registry\n   - Loads configuration\n   - Outputs full requirement status with instructions\n   â†“\n3. Context injected into Claude's context\n\nWORK LOOP\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€\n4. Claude Code invokes Edit/Write tool\n   â†“\n5. PreToolUse hook triggered (check-requirements.py)\n   - Loads configuration (global â†’ project â†’ local)\n   - Gets current session ID\n   - Updates session registry\n   - Checks all enabled requirements\n   â†“\n6a. All requirements satisfied\n    â†’ Hook returns empty output\n    â†’ Edit/Write proceeds\n\n6b. Requirement not satisfied\n    â†’ Hook returns \"deny\" decision\n    â†’ Shows message with checklist\n    â†’ Edit/Write blocked\n\nSESSION END\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n7. Claude about to stop\n   â†“\n8. Stop hook triggered (handle-stop.py)\n   - Checks stop_hook_active flag (prevents loops)\n   - Verifies session-scoped requirements\n   â†“\n9a. All requirements satisfied â†’ Stop allowed\n\n9b. Requirements unsatisfied\n    â†’ Returns {\"decision\": \"block\", \"reason\": \"...\"}\n    â†’ Claude continues to satisfy requirements\n\n10. Session ends (user exits, clears, etc.)\n    â†“\n11. SessionEnd hook triggered (handle-session-end.py)\n    - Removes session from registry\n    - Optionally clears session-scoped state\n```\n\n## Development\n\n### Creating Custom Requirements\n\n1. Add to your configuration:\n\n```yaml\nrequirements:\n  my_custom_requirement:\n    enabled: true\n    scope: session\n    trigger_tools: [Edit, Write]\n    message: |\n      ğŸ¯ **Custom requirement not satisfied**\n\n      Please complete [your custom step]\n    checklist:\n      - \"Custom step 1\"\n      - \"Custom step 2\"\n```\n\n2. Satisfy it when ready:\n\n```bash\nreq satisfy my_custom_requirement\n```\n\n### Adding New Features\n\nThe framework was built using TDD (Test-Driven Development):\n\n1. Write tests first in `test_requirements.py`\n2. Run tests to see failures (RED)\n3. Implement the feature\n4. Run tests to see passes (GREEN)\n5. Refactor if needed\n\nExample test structure:\n\n```python\ndef test_my_feature(runner: TestRunner):\n    \"\"\"Test my new feature.\"\"\"\n    print(\"\\nğŸ“¦ Testing my feature...\")\n\n    # Test setup\n    with tempfile.TemporaryDirectory() as tmpdir:\n        # ... test code ...\n        runner.test(\"Feature works\", result == expected)\n```\n\n## Troubleshooting\n\n### Hook Not Triggering\n\n1. Check hooks are registered in `~/.claude/settings.local.json`:\n\n```json\n{\n  \"hooks\": {\n    \"PreToolUse\": \"~/.claude/hooks/check-requirements.py\",\n    \"SessionStart\": \"~/.claude/hooks/handle-session-start.py\",\n    \"Stop\": \"~/.claude/hooks/handle-stop.py\",\n    \"SessionEnd\": \"~/.claude/hooks/handle-session-end.py\"\n  }\n}\n```\n\n2. Check the requirement is enabled:\n\n```bash\nreq list\n```\n\n### Permission Override Issues\n\nIf wildcards like `Edit(*)` or `Write(*)` are in `permissions.allow`, hooks are bypassed. Remove them:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      // Remove these if present:\n      // \"Edit(*)\",\n      // \"Write(*)\"\n    ]\n  }\n}\n```\n\n### Session Not Found\n\n```bash\n# Check active sessions\nreq sessions\n\n# Use explicit session ID if needed\nreq satisfy commit_plan --session <session-id>\n```\n\n### Skip Requirements Temporarily\n\n```bash\n# Disable framework temporarily\nexport CLAUDE_SKIP_REQUIREMENTS=1\n\n# Or disable in config\n# .claude/requirements.local.yaml\nenabled: false\n```\n\n## Examples\n\nSee the `examples/` directory for:\n- `global-requirements.yaml` - Global configuration template\n- `project-requirements.yaml` - Project-specific configuration example\n\n## What's New in v2.3\n\n### ğŸ¯ Project-Specific Skill Requirements (`satisfied_by_skill`)\n\n**Feature**: Connect any project skill to auto-satisfy a requirement when it completes.\n\nProjects can now define custom skills that automatically satisfy requirements, enabling:\n- Architecture review skills that gate PR creation\n- Custom code review workflows per project\n- ADR compliance checks specific to each codebase\n\n**How to Use**:\n```yaml\n# .claude/requirements.yaml\nrequirements:\n  architecture_review:\n    enabled: true\n    type: blocking\n    scope: single_use\n    trigger_tools:\n      - tool: Bash\n        command_pattern: 'gh\\s+pr\\s+create'\n    satisfied_by_skill: 'architecture-guardian'  # NEW FIELD\n    message: |\n      ğŸ—ï¸ Run the architecture-guardian skill before creating PR\n```\n\n**Workflow**:\n1. User exits plan mode â†’ Shows proactive reminder\n2. User runs `/architecture-guardian` skill\n3. `auto-satisfy-skills.py` hook fires â†’ Auto-satisfies `architecture_review`\n4. User runs `gh pr create` â†’ Allowed (requirement satisfied)\n5. `clear-single-use.py` fires â†’ Clears requirement for next PR\n\n**Configuration-Driven**: No framework changes needed for new skills. Just add `satisfied_by_skill` to your requirement config.\n\n**Test Coverage**: 454 tests passing (7 new tests for this feature)\n\n---\n\n## What's New in v2.2\n\n### Full Session Lifecycle Hooks\n\nThe framework now supports the complete Claude Code session lifecycle with four hooks:\n\n**ğŸš€ SessionStart Hook**\n- Fires when Claude Code session starts or resumes\n- Injects full requirement status into context automatically\n- Cleans stale sessions from registry\n- Configurable via `hooks.session_start.inject_context`\n\n**ğŸ›‘ Stop Hook (Enabled by Default)**\n- Prevents Claude from finishing with unsatisfied requirements\n- **Opt-out design** - works out of the box\n- Safe infinite loop prevention via `stop_hook_active` flag\n- Configurable via `hooks.stop.verify_requirements`\n\n**ğŸ§¹ SessionEnd Hook**\n- Fires when session ends (exit, clear, logout)\n- Removes session from registry\n- Optional session state cleanup (disabled by default)\n\n**Test Coverage**: Comprehensive test suite (447 total tests, 100% passing)\n\n---\n\n## What's New in v2.1\n\n### ğŸš« Message Deduplication\n\n**Problem Solved**: When Claude makes parallel Write/Edit calls (e.g., modifying 5 files simultaneously), the hook previously executed 5 times, showing identical blocking messages 5-12 times. This created overwhelming walls of text.\n\n**Solution**: TTL-based deduplication cache that:\n- Shows full blocking message on **first occurrence**\n- Shows minimal \"â¸ï¸ Requirement `name` not satisfied (waiting...)\" for subsequent blocks within 5 seconds\n- Automatically expires to show updated messages when you retry\n\n**Impact**: 90% reduction in message output, ~5000 tokens saved per blocking scenario\n\n**Debug Mode**: Set `export CLAUDE_DEDUP_DEBUG=1` to see cache behavior in stderr\n\n**Implementation**: Cross-platform (Unix + Windows), atomic file writes, fail-open design\n\n---\n\n## Troubleshooting\n\n### Installation Issues\n\n**Problem**: Hooks not firing after installation\n\n1. **Check hook registration format**:\n   ```bash\n   cat ~/.claude/settings.local.json\n   ```\n   Hooks should use the array-of-matchers format:\n   ```json\n   {\n     \"hooks\": {\n       \"PreToolUse\": [{\n         \"matcher\": \"*\",\n         \"hooks\": [{\"type\": \"command\", \"command\": \"~/.claude/hooks/check-requirements.py\"}]\n       }]\n     }\n   }\n   ```\n\n2. **Verify hooks are executable**:\n   ```bash\n   ls -l ~/.claude/hooks/*.py\n   ```\n   If not executable: `chmod +x ~/.claude/hooks/*.py`\n\n3. **Test hook manually**:\n   ```bash\n   echo '{\"tool_name\":\"Read\"}' | python3 ~/.claude/hooks/check-requirements.py\n   ```\n   Should return immediately with no errors.\n\n4. **Re-run installation**:\n   ```bash\n   cd ~/tools/claude-requirements-framework\n   ./install.sh\n   ```\n\n**Problem**: `req` command not found\n\n- Add `~/.local/bin` to your PATH:\n  ```bash\n  echo 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.bashrc  # or ~/.zshrc\n  source ~/.bashrc\n  ```\n\n### Common Errors\n\n**Problem**: \"Unknown requirement: xyz\"\n\n**Solution**: The requirement doesn't exist in your configuration. Check:\n\n1. **Typo in requirement name?**\n   - Use `req status` to see available requirements\n   - The error message will show \"Did you mean?\" suggestions\n\n2. **Requirement not defined?**\n   - Add it to:\n     - Global: `~/.claude/requirements.yaml`\n     - Project: `.claude/requirements.yaml`\n     - Local: `.claude/requirements.local.yaml`\n   - Or run `req init` to set up project requirements\n\n**Problem**: \"No active Claude session detected\"\n\nThis means `req satisfy` couldn't find your Claude Code session. Solutions:\n\n1. **Use explicit session ID** (recommended):\n   ```bash\n   req satisfy commit_plan --session abc12345\n   ```\n   Find your session ID in the blocking message or via `req sessions`.\n\n2. **Use branch-level satisfaction** (satisfies all sessions on the branch):\n   ```bash\n   req satisfy commit_plan --branch\n   ```\n\n3. **Set CLAUDE_SESSION_ID environment variable**:\n   ```bash\n   export CLAUDE_SESSION_ID=abc12345\n   req satisfy commit_plan\n   ```\n\n**Problem**: Requirements satisfied but still blocking\n\n1. **Check scope mismatch**:\n   - Requirement might be `branch` scope but you satisfied it with `session` scope\n   - Use `req status` to see the scope\n   - Satisfy with matching scope: `req satisfy <name> --branch` or `req satisfy <name> --session <id>`\n\n2. **Check session ID**:\n   - You might be satisfying a different session\n   - Use `req sessions` to list active sessions\n   - Use `req status` to see current session\n\n3. **TTL expired**:\n   - Dynamic requirements have approval TTLs (default 5 minutes)\n   - Re-satisfy the requirement: `req satisfy <name>`\n\n**Problem**: Framework blocking when it shouldn't\n\n1. **Disable temporarily**:\n   ```bash\n   export CLAUDE_SKIP_REQUIREMENTS=1\n   # Work normally\n   unset CLAUDE_SKIP_REQUIREMENTS\n   ```\n\n2. **Disable specific requirement**:\n   ```bash\n   req config <requirement_name> --disable --local --yes\n   ```\n\n3. **Check configuration**:\n   ```bash\n   req config <requirement_name>  # Show current config\n   req doctor  # Full diagnostic\n   ```\n\n### Sync Issues (Development)\n\n**Problem**: Changes not taking effect\n\n1. **Deploy changes**:\n   ```bash\n   cd ~/tools/claude-requirements-framework\n   ./sync.sh deploy\n   ```\n\n2. **Check sync status**:\n   ```bash\n   ./sync.sh status  # Shows files that differ\n   ./sync.sh diff     # Shows actual differences\n   ```\n\n3. **Verify deployment**:\n   ```bash\n   python3 ~/.claude/hooks/test_requirements.py\n   ```\n\n**Problem**: Lost work after sync\n\n- The repository is the source of truth\n- Always run `./sync.sh status` before committing\n- If you edited deployed files, copy those changes into the repo before deploying\n\n### Performance Issues\n\n**Problem**: Hooks slow down file operations\n\n1. **Check calculation cache**:\n   - Dynamic requirements cache results for 30 seconds\n   - Clear cache if stale: `rm ~/tmp/claude-req-calc-cache-*.json`\n\n2. **Check message dedup cache**:\n   - Enable debug mode to see cache behavior:\n     ```bash\n     export CLAUDE_DEDUP_DEBUG=1\n     ```\n\n3. **Disable expensive requirements**:\n   ```bash\n   req config branch_size_limit --disable --local --yes\n   ```\n\n### Getting Help\n\n1. **Run diagnostics**:\n   ```bash\n   req doctor\n   ```\n\n2. **Check logs**:\n   ```bash\n   tail -f ~/.claude/requirements.log\n   ```\n\n3. **Test manually**:\n   ```bash\n   python3 ~/.claude/hooks/test_requirements.py\n   ```\n\n4. **Report issues**: https://github.com/anthropics/claude-code/issues\n\n---\n\n## Development Workflow\n\n### Keeping Repository and Deployed Installation in Sync\n\nThe framework exists in two locations:\n- **Repository**: `~/tools/claude-requirements-framework/` (source of truth, git-controlled)\n- **Deployed**: `~/.claude/hooks/` (active installation, where Claude Code loads hooks)\n\nUse the `sync.sh` script to keep them in sync:\n\n```bash\ncd ~/tools/claude-requirements-framework\n\n# Check sync status (run this FIRST before committing!)\n./sync.sh status\n\n# Deploy changes from repo â†’ ~/.claude/hooks\n./sync.sh deploy\n\n# See detailed differences\n./sync.sh diff\n```\n\n### Standard Development Workflow\n\n```bash\n# 1. Make changes in repository\nvim hooks/lib/config.py\n\n# 2. Deploy to test\n./sync.sh deploy\n\n# 3. Run tests\npython3 ~/.claude/hooks/test_requirements.py\n\n# 4. Commit when tests pass\ngit add .\ngit commit -m \"feat: Add feature\"\ngit push origin master\n```\n\n### Quick Fix Workflow (Claude-Driven)\n\n```bash\n# 1. Claude edits deployed files (in ~/.claude/hooks/)\n# 2. Copy changes into repository (repeat for each file changed)\ncd ~/tools/claude-requirements-framework\ncp ~/.claude/hooks/check-requirements.py hooks/check-requirements.py\n\n# 3. Deploy from repo to keep source of truth\n./sync.sh deploy\n\n# 4. Commit\ngit add .\ngit commit -m \"fix: Bug description\"\ngit push origin master\n```\n\n**Important**: Always run `./sync.sh status` before committing to ensure repo and deployed locations match!\n\nSee [DEVELOPMENT.md](DEVELOPMENT.md) for detailed development workflows, TDD practices, and troubleshooting guide.\n\n### Architecture Decision Records (ADRs)\n\nImportant architectural decisions are documented in `docs/adr/`:\n\n- **ADR-001**: Remove main/master branch skip - Requirements now enforced on all branches\n- **ADR-002**: Use Claude Code's native session_id - Better session correlation\n- **ADR-003**: Dynamic sync file discovery - sync.sh auto-discovers new files\n\n## Contributing\n\n1. Fork the repository\n2. Create a feature branch\n3. Write tests for your changes (TDD)\n4. Deploy and test: `./sync.sh deploy && python3 ~/.claude/hooks/test_requirements.py`\n5. Ensure sync status is clean: `./sync.sh status`\n6. Commit and submit a pull request\n\n## License\n\nMIT License - See LICENSE file for details\n\n## Credits\n\nBuilt with Test-Driven Development (TDD) methodology for reliability and maintainability.\n\n## Support\n\nFor issues, questions, or contributions, please open an issue on GitHub.\n",
        "plugins/requirements-framework/README.md": "# Requirements Framework Plugin\n\nComprehensive workflow enforcement and code review automation for Claude Code.\n\n## Overview\n\nThis plugin provides workflow enforcement, code review agents, and management tools that integrate seamlessly with the Requirements Framework hooks.\n\n**Key Features**:\n- âœ¨ **17 specialized review agents** - From tool validation to backward compatibility checking\n- ğŸ¯ **2 orchestrator commands** - Fast pre-commit and thorough pre-PR workflows\n- ğŸ“‹ **5 management skills** - Status reporting, usage help, and framework development\n- ğŸ”— **Hook integration** - Auto-satisfies requirements when commands complete\n- ğŸ§ª **TDD-first** - 447 passing tests ensure reliability\n\n## Features\n\n### ğŸ”’ Workflow Enforcement\n\n**ADR Guardian** (`adr-guardian`)\n- Validates plans and code against Architecture Decision Records\n- **BLOCKING authority** - prevents architectural drift\n- Ensures consistency with documented decisions\n- Triggers: Before implementation, during code review\n\n**Codex Review Agent** (`codex-review-agent`)\n- Orchestrates OpenAI Codex CLI for AI-powered review\n- Requires: `npm install -g @openai/codex`\n- Provides: Advanced static analysis and pattern detection\n- Triggers: On-demand via skill or requirement\n\n### ğŸ› ï¸ Pre-Commit Review Suite\n\n8 specialized agents available via `/requirements-framework:pre-commit`:\n\n**1. Tool Validator** (`tool-validator`)\n- Runs pyright, ruff, eslint to catch CI errors locally\n- **Fast**: Uses Haiku model for quick feedback\n- **Blocking gate**: Must pass before AI review\n- Detects: Type errors, linting issues, syntax problems\n\n**2. Code Reviewer** (`code-reviewer`)\n- Checks CLAUDE.md compliance, detects bugs, assesses code quality\n- **Thorough**: Uses Opus model with 80% confidence threshold\n- **Focused**: Reports only high-confidence issues\n- Detects: Logic errors, security issues, best practice violations\n\n**3. Silent Failure Hunter** (`silent-failure-hunter`)\n- Audits error handling with zero tolerance for silent failures\n- **Critical**: Uses Sonnet model for balanced analysis\n- **Strict**: Flags swallowed exceptions, missing error logs\n- Detects: Try-catch without logging, ignored errors, fallback abuse\n\n**4. Test Analyzer** (`test-analyzer`)\n- Reviews test coverage quality and completeness\n- **Smart**: Marks untested code as CRITICAL gaps\n- **Practical**: Focuses on meaningful coverage, not just metrics\n- Detects: Missing edge cases, inadequate assertions, brittle tests\n\n**5. Type Design Analyzer** (`type-design-analyzer`)\n- Analyzes type invariants and encapsulation\n- **Rigorous**: 4-dimensional rating (encapsulation, invariants, usefulness, enforcement)\n- **Insightful**: Suggests type system improvements\n- Detects: Weak invariants, primitive obsession, anemic types\n\n**6. Comment Analyzer** (`comment-analyzer`)\n- Checks documentation accuracy and detects comment rot\n- **Maintenance-focused**: Prevents technical debt from stale docs\n- **Precise**: Validates comments match actual code behavior\n- Detects: Outdated comments, missing docs, misleading descriptions\n\n**7. Code Simplifier** (`code-simplifier`)\n- Final polish for clarity and maintainability\n- **Conservative**: Preserves all functionality while improving readability\n- **Best practices**: Follows project conventions from CLAUDE.md\n- Improves: Complex logic, naming, structure\n\n**8. Backward Compatibility Checker** (`backward-compatibility-checker`)\n- Detects schema migrations and verifies Alembic migrations exist\n- **Database-aware**: Prevents breaking changes without migrations\n- **Safe**: Ensures reversible database changes\n- Detects: Missing migrations, breaking schema changes\n\n### âš¡ Commands\n\n#### /requirements-framework:pre-commit [aspects]\n\nFast pre-commit review with smart agent selection.\n\n**Default** (no arguments): Essential checks\n- `tool-validator` - Catch CI errors early\n- `code-reviewer` - Bug and quality check\n- `silent-failure-hunter` - Error handling audit\n\n**Arguments:**\n- `tools` - Just tool validation (pyright/ruff/eslint)\n- `code` - Code review only\n- `errors` - Silent failure hunter only\n- `compat` - Backward compatibility check\n- `tests` - Test coverage analysis\n- `types` - Type design analysis\n- `comments` - Documentation accuracy\n- `simplify` - Code simplification\n- `all` - All 8 agents\n- `parallel` - Run agents in parallel (faster)\n\n**Examples:**\n```bash\n/requirements-framework:pre-commit              # Fast essential checks\n/requirements-framework:pre-commit tools        # Just CI tools\n/requirements-framework:pre-commit all parallel # Comprehensive + fast\n/requirements-framework:pre-commit tests types  # Specific aspects\n```\n\n**Integration:** Auto-satisfies `pre_commit_review` requirement when complete\n\n**Workflow:**\n```\nTool Validator (blocking gate)\n      â†“ (if passes)\nSelected AI Agents (parallel or sequential)\n      â†“\nReview Complete â†’ auto-satisfy-skills.py â†’ pre_commit_review satisfied\n```\n\n#### /requirements-framework:quality-check [parallel]\n\nComprehensive pre-PR review with all 8 agents.\n\n**Features:**\n- **Smart selection**: Conditionally runs agents based on file types\n- **Deterministic execution**: 10-step workflow with enforced order\n- **Blocking gate**: Tool-validator must pass before AI review\n- **File type detection**: Runs test-analyzer only if tests exist, etc.\n\n**Arguments:**\n- `parallel` - Run agents in parallel for speed\n\n**Examples:**\n```bash\n/requirements-framework:quality-check           # Sequential (thorough)\n/requirements-framework:quality-check parallel  # Parallel (faster)\n```\n\n**Integration:** Auto-satisfies `pre_pr_review` requirement when complete\n\n**Workflow:**\n```\n1. Tool Validator (BLOCKING)\n2. File Type Detection\n3. Code Reviewer\n4. Silent Failure Hunter\n5. Test Analyzer (if tests exist)\n6. Type Design Analyzer (if types exist)\n7. Comment Analyzer (if comments exist)\n8. Backward Compatibility Checker (if schema changes)\n9. Code Simplifier (final polish)\n10. Review Complete â†’ auto-satisfy â†’ pre_pr_review satisfied\n```\n\n#### /requirements-framework:codex-review [focus]\n\nAI-powered code review using OpenAI Codex CLI.\n\n**Features:**\n- **Autonomous agent**: Handles prerequisites, scope detection, error recovery\n- **Focus areas**: `security`, `performance`, `bugs`, `style`, `all` (default)\n- **Smart scope detection**: Automatically reviews uncommitted changes or branch diff\n- **Comprehensive error handling**: Guides through installation, authentication, API issues\n\n**Arguments:**\n- `security` - Focus on security vulnerabilities\n- `performance` - Focus on performance optimization\n- `bugs` - Focus on potential bugs and logic errors\n- `style` - Focus on code style and best practices\n- `all` - All focus areas (default)\n\n**Examples:**\n```bash\n/requirements-framework:codex-review            # All focus areas\n/requirements-framework:codex-review security   # Security-focused\n/requirements-framework:codex-review performance # Performance-focused\n```\n\n**Integration:** Auto-satisfies `codex_reviewer` requirement when complete\n\n**Requirements:** OpenAI Codex CLI (`npm install -g @openai/codex` + `codex login`)\n\n**Workflow:**\n```\n1. Parse focus area argument\n2. Launch codex-review-agent (autonomous)\n   - Check prerequisites (codex installed/authenticated)\n   - Detect scope (uncommitted vs branch changes)\n   - Execute codex review with focus\n   - Parse and present results by severity\n3. Auto-satisfy requirement (if successful)\n```\n\n### ğŸ“š Skills\n\nSkills trigger automatically from natural language:\n\n**requirements-framework-status**\n- **Triggers**: \"Show requirements framework status\", \"requirements project context\"\n- **Provides**: Comprehensive status report with requirement states, session info, project context\n- **Use when**: Checking framework state, debugging requirements\n\n**requirements-framework-usage**\n- **Triggers**: \"How to use requirements framework\", \"requirements help\", \"troubleshoot requirements\"\n- **Provides**: Usage guidance, configuration help, troubleshooting steps\n- **Use when**: Learning framework, solving issues, configuring requirements\n\n**requirements-framework-builder**\n- **Triggers**: \"Extend requirements framework\", \"add new requirement type\", \"requirements status\"\n- **Provides**: Framework extension guidance, custom requirement creation, status checking\n- **Use when**: Adding custom requirements, extending framework capabilities\n\n**requirements-framework-development**\n- **Triggers**: \"Fix requirements framework bug\", \"sync requirements framework\", \"requirements development workflow\"\n- **Provides**: Development workflow, sync.sh usage, TDD guidance, contributing help\n- **Use when**: Developing the framework itself, fixing bugs, syncing changes\n\n## Usage\n\n### Triggering Commands\n\nCommands use slash command syntax:\n\n```\nType: /requirements-framework:\n\nAutocompletes to:\n  â€¢ /requirements-framework:pre-commit [aspects]\n  â€¢ /requirements-framework:quality-check [parallel]\n```\n\n**Example sessions:**\n\n```\nYou: /requirements-framework:pre-commit\n\nClaude: Running essential pre-commit checks...\n  âœ“ Tool Validator - No CI errors\n  âœ“ Code Reviewer - 3 suggestions (2 HIGH, 1 MEDIUM)\n  âœ“ Silent Failure Hunter - 1 CRITICAL issue found\n\nReview complete. Address 1 CRITICAL issue before committing.\n```\n\n```\nYou: /requirements-framework:quality-check parallel\n\nClaude: Running comprehensive quality check...\n  âœ“ Tool Validator - Passed\n  âœ“ Code Reviewer - 5 suggestions\n  âœ“ Silent Failure Hunter - Clean\n  âœ“ Test Analyzer - Coverage gap in UserService\n  âœ“ Type Design Analyzer - 2 type improvements\n  âœ“ Comment Analyzer - 1 stale comment\n  âœ“ Code Simplifier - 3 clarity improvements\n\nQuality check complete. pre_pr_review requirement satisfied.\n```\n\n### Triggering Skills\n\nSkills use natural language:\n\n```\nYou: \"Show requirements framework status\"\n\nClaude: [Triggers requirements-framework-status skill]\nğŸ“‹ Requirements Framework Status\n...detailed status report...\n```\n\n```\nYou: \"How do I configure the pre_commit_review requirement?\"\n\nClaude: [Triggers requirements-framework-usage skill]\nHere's how to configure pre_commit_review...\n```\n\n### Triggering Agents\n\nAgents are invoked via commands (not directly):\n\n```\nWant tool validation? â†’ /requirements-framework:pre-commit tools\nWant test review? â†’ /requirements-framework:pre-commit tests\nWant everything? â†’ /requirements-framework:quality-check\n```\n\n## Testing During Development\n\nTo test plugin components without persistent installation, use Claude Code's official `--plugin-dir` flag:\n\n```bash\n# Launch Claude Code with plugin loaded\nclaude --plugin-dir ~/.claude/plugins/requirements-framework\n```\n\n**Benefits:**\n- âœ… Zero risk - no system modifications\n- âœ… Live reload - changes immediately available\n- âœ… Instant verification of component structure\n- âœ… Official, documented approach\n\n**Test Checklist:**\n\n1. **Commands** - Type `/requirements-framework:` and verify autocomplete shows 6 commands\n2. **Command execution** - Run `/requirements-framework:pre-commit tools` and verify it works\n3. **Skills** - Say \"Show requirements framework status\" and verify skill triggers\n4. **Agents** - Check that agents are available via Task tool\n\n**Troubleshooting:**\n- If commands don't autocomplete â†’ Check plugin.json manifest structure\n- If skills don't trigger â†’ Verify skill description patterns match exact phrases\n- If agents unavailable â†’ Check agent markdown files exist in agents/ directory\n\n**For persistent installation**, see [Installation](#installation) section below.\n\n## Installation\n\n### Recommended Installation (Marketplace)\n\nThe plugin is installed via Claude Code's marketplace system:\n\n```bash\n# 1. Run install.sh to set up hooks and local marketplace\ncd ~/Tools/claude-requirements-framework\n./install.sh\n\n# 2. In Claude Code session, add the local marketplace\n/plugin marketplace add ~/Tools/claude-requirements-framework\n\n# 3. Install the plugin\n/plugin install requirements-framework@requirements-framework-local\n```\n\n**What happens:**\n1. Hooks copied to `~/.claude/hooks/`\n2. Plugin installed to cache: `~/.claude/plugins/cache/requirements-framework-local/`\n3. Verification checks run\n4. Component count displayed\n\n**Verify installation:**\n```bash\n# Check installed version\n/plugin list\n# Should show: requirements-framework@2.0.5\n\n# Test commands\n/requirements-framework:pre-commit tools\n\n# Test skills\n\"Show requirements framework status\"\n```\n\n**To update the plugin:**\n```bash\n/plugin uninstall requirements-framework@requirements-framework-local\n/plugin marketplace update requirements-framework-local\n/plugin install requirements-framework@requirements-framework-local\n```\n\nFor detailed installation, troubleshooting, and verification steps:\n- **[Plugin Installation Guide](../../docs/PLUGIN-INSTALLATION.md)** - Comprehensive reference\n\n### Alternative: CLI Flag (For Development)\n\nUse the `--plugin-dir` flag for live development without persistent installation:\n\n```bash\n# Launch Claude Code with plugin loaded temporarily\nclaude --plugin-dir ~/Tools/claude-requirements-framework/plugin\n```\n\n**Benefits:**\n- Changes to plugin files are immediately available (live reload)\n- No need to reinstall after each change\n- Ideal for developing and testing plugin components\n\n## Configuration\n\nRespects the same 3-level cascade as hooks:\n\n1. **`~/.claude/requirements.yaml`** (Global defaults)\n2. **`.claude/requirements.yaml`** (Project config)\n3. **`.claude/requirements.local.yaml`** (Local overrides)\n\nSee [Configuration System](../../README.md#configuration-system) for details.\n\n### Enabling Plugin-Related Requirements\n\n**Example ~/.claude/requirements.yaml:**\n```yaml\nrequirements:\n  pre_commit_review:\n    scope: single_use\n    message: \"Run /requirements-framework:pre-commit before committing\"\n    trigger_tools:\n      - tool: Write\n      - tool: Edit\n\n  pre_pr_review:\n    scope: single_use\n    message: \"Run /requirements-framework:quality-check before creating PR\"\n    trigger_tools:\n      - tool: Bash\n        command_pattern: 'gh\\s+pr\\s+create'\n```\n\n**How it works:**\n1. Requirement blocks Edit/Write (or specified triggers)\n2. User runs plugin command\n3. Command completes â†’ PostToolUse hook (`auto-satisfy-skills.py`)\n4. Hook auto-satisfies requirement\n5. Edits unblocked\n\n## Integration with Hooks\n\nThe plugin integrates via `auto-satisfy-skills.py` (PostToolUse hook):\n\n### Auto-Satisfaction Mapping\n\n| Command | Satisfies | Scope |\n|---------|-----------|-------|\n| `/requirements-framework:pre-commit` | `pre_commit_review` | `single_use` |\n| `/requirements-framework:quality-check` | `pre_pr_review` | `single_use` |\n| `/requirements-framework:codex-review` | `codex_reviewer` | `single_use` |\n\n**Mechanism:**\n```python\n# In ~/.claude/hooks/auto-satisfy-skills.py\nDEFAULT_SKILL_MAPPINGS = {\n    'requirements-framework:pre-commit': 'pre_commit_review',\n    'requirements-framework:quality-check': 'pre_pr_review',\n    'requirements-framework:codex-review': 'codex_reviewer',\n}\n```\n\n### Workflow Diagram\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Edit/Write blocked by requirement  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚\n              â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Run plugin command                  â”‚\nâ”‚  /requirements-framework:pre-commit  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚\n              â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Command completes                   â”‚\nâ”‚  â†’ PostToolUse hook triggers         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚\n              â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  auto-satisfy-skills.py              â”‚\nâ”‚  â€¢ Detects command finished          â”‚\nâ”‚  â€¢ Looks up mapping                  â”‚\nâ”‚  â€¢ Satisfies requirement             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚\n              â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Edit/Write unblocked                â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nSee [Plugin vs. Hooks](../../docs/PLUGIN-INSTALLATION.md#plugin-vs-hooks) for architecture details.\n\n## Technical Details\n\n### Plugin Structure\n\n```\n~/.claude/plugins/cache/requirements-framework-local/requirements-framework/2.0.5/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json (v2.0.5)\nâ”œâ”€â”€ agents/ (15 agents)\nâ”‚   â”œâ”€â”€ adr-guardian.md\nâ”‚   â”œâ”€â”€ backward-compatibility-checker.md\nâ”‚   â”œâ”€â”€ code-reviewer.md\nâ”‚   â”œâ”€â”€ code-simplifier.md\nâ”‚   â”œâ”€â”€ codex-review-agent.md\nâ”‚   â”œâ”€â”€ comment-analyzer.md\nâ”‚   â”œâ”€â”€ comment-cleaner.md\nâ”‚   â”œâ”€â”€ commit-planner.md\nâ”‚   â”œâ”€â”€ import-organizer.md\nâ”‚   â”œâ”€â”€ session-analyzer.md\nâ”‚   â”œâ”€â”€ silent-failure-hunter.md\nâ”‚   â”œâ”€â”€ tdd-validator.md\nâ”‚   â”œâ”€â”€ test-analyzer.md\nâ”‚   â”œâ”€â”€ tool-validator.md\nâ”‚   â””â”€â”€ type-design-analyzer.md\nâ”œâ”€â”€ commands/ (6 commands)\nâ”‚   â”œâ”€â”€ codex-review.md\nâ”‚   â”œâ”€â”€ commit-checks.md\nâ”‚   â”œâ”€â”€ plan-review.md\nâ”‚   â”œâ”€â”€ pre-commit.md\nâ”‚   â”œâ”€â”€ quality-check.md\nâ”‚   â””â”€â”€ session-reflect.md\nâ””â”€â”€ skills/ (5 skills)\n    â”œâ”€â”€ requirements-framework-builder/\n    â”œâ”€â”€ requirements-framework-development/\n    â”œâ”€â”€ requirements-framework-status/\n    â””â”€â”€ requirements-framework-usage/\n```\n\n### Component Versioning\n\nAll plugin components (agents, commands, skills) include a `git_hash` field in their YAML frontmatter that tracks the last commit that modified each file. This enables:\n\n- **Version tracking**: Know exactly which version of each component was used\n- **A/B testing**: Compare effectiveness of different agent versions\n- **Debugging**: Correlate behavior with specific code versions\n- **Audit trail**: Understand when components were last modified\n\n**Example frontmatter with git_hash:**\n```yaml\n---\nname: code-reviewer\ndescription: Use this agent to review code...\nmodel: opus\ncolor: green\nallowed-tools: [\"Bash\", \"Glob\", \"Grep\", \"Read\"]\ngit_hash: 57d0c1a\n---\n```\n\n**Updating versions** (run after modifying components):\n```bash\n./update-plugin-versions.sh           # Update all git_hash fields\n./update-plugin-versions.sh --check   # Preview changes\n./update-plugin-versions.sh --verify  # Verify hashes are current\n```\n\nSee [CLAUDE.md](../../CLAUDE.md#plugin-component-versioning) for complete workflow details.\n\n### Agent Execution Models\n\n| Agent | Model | Rationale | Confidence Filter |\n|-------|-------|-----------|-------------------|\n| tool-validator | Haiku | Fast tool execution | N/A (tool output) |\n| code-reviewer | Opus | Deep analysis needed | â‰¥80% |\n| silent-failure-hunter | Sonnet | Balanced analysis | None (zero tolerance) |\n| test-analyzer | Sonnet | Code understanding | CRITICAL for gaps |\n| type-design-analyzer | Sonnet | Type system analysis | Rating-based |\n| comment-analyzer | Sonnet | Doc accuracy | None (all issues) |\n| code-simplifier | Sonnet | Code transformation | None (safe changes) |\n| backward-compat | Sonnet | Schema analysis | None (breaking changes) |\n| adr-guardian | Opus | Architectural decisions | BLOCKING |\n| codex-review | External | Codex CLI | N/A (external tool) |\n\n### Command Workflows\n\n**pre-commit workflow:**\n1. Parse arguments (`tools`, `code`, etc.)\n2. Run tool-validator (blocking gate)\n3. If tool-validator fails â†’ Stop, report errors\n4. Run selected agents (parallel if `parallel` flag)\n5. Collect results\n6. Report summary\n7. PostToolUse hook auto-satisfies requirement\n\n**quality-check workflow:**\n1. Parse arguments (`parallel` flag)\n2. Run tool-validator (blocking gate)\n3. Detect file types (tests, types, comments, schemas)\n4. Run agents in deterministic order (or parallel)\n5. Conditional execution based on file types\n6. Collect results\n7. Report comprehensive summary\n8. PostToolUse hook auto-satisfies requirement\n\n## Common Patterns\n\n### Fast Iteration\n\n```bash\n# Make changes\nvim src/user-service.ts\n\n# Quick check before commit\n/requirements-framework:pre-commit\n\n# Fix issues\nvim src/user-service.ts\n\n# Commit\ngit commit -m \"feat: add user validation\"\n```\n\n### Thorough Review\n\n```bash\n# Complete feature\ngit add .\n\n# Comprehensive review\n/requirements-framework:quality-check parallel\n\n# Address all feedback\n# (iterate until clean)\n\n# Create PR\ngh pr create\n```\n\n### Targeted Review\n\n```bash\n# Just added tests\n/requirements-framework:pre-commit tests\n\n# Just error handling changes\n/requirements-framework:pre-commit errors\n\n# Just type changes\n/requirements-framework:pre-commit types\n```\n\n### Requirement-Driven Workflow\n\n```bash\n# Try to edit file\nvim src/critical.ts\n\n# Blocked: \"pre_commit_review not satisfied\"\n\n# Satisfy requirement\n/requirements-framework:pre-commit\n\n# Now unblocked\nvim src/critical.ts  # Works!\n```\n\n## Limitations\n\n- **Codex Review**: Requires separate `@openai/codex` CLI installation and API key\n- **Agent Autonomy**: Agents suggest improvements but don't auto-fix (intentional)\n- **File Type Detection**: quality-check detection is heuristic-based (checks file extensions)\n- **Parallel Execution**: Some agents may have overlapping findings when run in parallel\n- **Language Support**: Tool-validator supports Python (ruff/pyright) and JS/TS (eslint)\n\n## Future Enhancements\n\nPotential additions:\n- Auto-fix mode for simple issues (opt-in)\n- Custom agent configuration per project\n- Integration with additional linters (Go, Rust, Java)\n- Progressive results streaming for long reviews\n- Review result caching for unchanged files\n- Custom requirement â†’ command mappings via config\n\n## Support\n\nFor issues, questions, or enhancements:\n\n**GitHub**:\n- Issues: https://github.com/HarmAalbers/claude-requirements-framework/issues\n- Discussions: https://github.com/HarmAalbers/claude-requirements-framework/discussions\n\n**Self-Service**:\n1. Check [Plugin Installation Guide](../../docs/PLUGIN-INSTALLATION.md#troubleshooting)\n2. Run `req doctor`\n3. Review [Main README](../../README.md)\n4. Use \"How to use requirements framework\" skill\n\n## Related Documentation\n\n**Main Docs**:\n- [Main README](../../README.md) - Framework overview\n- [Plugin Components](../../README.md#plugin-components) - Component descriptions\n- [Plugin Installation](../../docs/PLUGIN-INSTALLATION.md) - Installation & troubleshooting\n\n**Architecture**:\n- [ADR-006](../../docs/adr/ADR-006-plugin-architecture-code-review.md) - Plugin architecture decisions\n- [ADR-007](../../docs/adr/ADR-007-deterministic-command-orchestrators.md) - Command execution design\n\n**Development**:\n- [CLAUDE.md](../../CLAUDE.md) - Development workflow & TDD\n- [Contributing](../../README.md#development) - How to contribute\n\n## Version History\n\n- **v2.0.5** (2025-01-19)\n  - Current stable release\n  - 17 agents, 3 commands, 5 skills\n  - **Plugin installation via marketplace** (replaces symlink method)\n  - Added `sync-versions.sh` for version consistency\n  - Fixed relative path issues in plugin.json\n  - Auto-satisfy mechanism via PostToolUse hook\n  - Comprehensive code review suite\n  - Integration with requirements framework hooks\n\n- **v2.0.4** (2024-12-30)\n  - 17 agents, 3 commands, 4 skills\n  - Plugin installation via install.sh symlink (deprecated)\n"
      },
      "plugins": [
        {
          "name": "requirements-framework",
          "version": "2.0.5",
          "description": "Claude Code Requirements Framework - Workflow enforcement and code review",
          "source": "./plugins/requirements-framework",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add HarmAalbers/claude-requirements-framework",
            "/plugin install requirements-framework@requirements-framework-local"
          ]
        }
      ]
    }
  ]
}