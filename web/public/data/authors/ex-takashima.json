{
  "author": {
    "id": "ex-takashima",
    "display_name": "don",
    "avatar_url": "https://avatars.githubusercontent.com/u/155319215?u=8caac3c946fdeb65ba9c0507f9c5d448d94ef788&v=4"
  },
  "marketplaces": [
    {
      "name": "grok-imagine-video-skills",
      "version": null,
      "description": "grok-imagine-video-batch CLIを使用し、テキスト/画像から動画を生成・編集（job-manager不要）",
      "repo_full_name": "ex-takashima/grok-imagine-video-mcp-server",
      "repo_url": "https://github.com/ex-takashima/grok-imagine-video-mcp-server",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-02T01:09:19Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\r\n  \"name\": \"grok-imagine-video-skills\",\r\n  \"owner\": {\r\n    \"name\": \"ex-takashima\",\r\n    \"email\": \"takajyun00@gmail.com\"\r\n  },\r\n  \"plugins\": [\r\n    {\r\n      \"name\": \"grokvideo-generator\",\r\n      \"source\": \"./plugins/grokvideo-generator\",\r\n      \"description\": \"grok-imagine-video-batch CLIを使用し、テキスト/画像から動画を生成・編集（job-manager不要）\",\r\n      \"version\": \"1.0.0\",\r\n      \"author\": {\r\n        \"name\": \"ex-takashima\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n",
        "README.md": "# Grok Imagine Video MCP Server\n\n[![npm version](https://badge.fury.io/js/grok-imagine-video-mcp-server.svg)](https://www.npmjs.com/package/grok-imagine-video-mcp-server)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\nxAI の Grok Imagine Video API 用 MCP (Model Context Protocol) サーバー。テキストプロンプトからの動画生成、画像からの動画生成（Image-to-Video）、既存動画の編集をサポートします。\n\n## クイックスタート (npx)\n\n最も簡単な方法は `npx` を使用することです：\n\n```bash\n# APIキーを設定\nexport XAI_API_KEY=\"xai-your-api-key\"\n\n# サーバーを実行\nnpx grok-imagine-video-mcp-server\n```\n\n## 機能\n\n- **動画生成（Text-to-Video）**: テキストプロンプトから新規動画を生成\n- **動画生成（Image-to-Video）**: 画像を入力として動画を生成\n- **動画編集**: 既存動画をプロンプトで編集\n- **バッチ処理**: CLIで複数動画を一括処理\n- 多様なアスペクト比をサポート（16:9, 4:3, 1:1, 9:16 など）\n- 解像度: 720p, 480p\n- 動画長: 1〜15秒（編集時は元動画と同じ長さ）\n- 非同期処理対応（ポーリングによる結果取得）\n\n## サポートモデル\n\n| モデル | 機能 | 備考 |\n|--------|------|------|\n| `grok-imagine-video` | 生成・編集 | **推奨・デフォルト** |\n\n## 必要条件\n\n- Node.js 18.0.0 以上\n- xAI API キー（[console.x.ai](https://console.x.ai/) から取得）\n\n## インストール\n\n### 方法1: npx（推奨）\n\n```bash\nnpx grok-imagine-video-mcp-server\n```\n\n### 方法2: グローバルインストール\n\n```bash\nnpm install -g grok-imagine-video-mcp-server\ngrok-imagine-video-mcp-server\n```\n\n## 設定\n\n### 環境変数\n\n| 変数 | 必須 | 説明 |\n|------|------|------|\n| `XAI_API_KEY` | Yes | xAI API キー |\n| `DEBUG` | No | `true` でデバッグログを有効化 |\n| `OUTPUT_DIR` | No | 動画のデフォルト出力ディレクトリ |\n| `VIDEO_POLL_INTERVAL` | No | ポーリング間隔（ミリ秒、デフォルト: 5000） |\n| `VIDEO_MAX_POLL_ATTEMPTS` | No | 最大ポーリング回数（デフォルト: 120） |\n\n#### Cloudflare R2 設定（`image_path` 機能用）\n\nローカル画像ファイルから動画を生成する場合、Cloudflare R2 への自動アップロードが必要です。\n\n| 変数 | 必須 | 説明 |\n|------|------|------|\n| `R2_ACCOUNT_ID` | `image_path` 使用時 | Cloudflare アカウント ID |\n| `R2_ACCESS_KEY_ID` | `image_path` 使用時 | R2 API アクセスキー ID |\n| `R2_SECRET_ACCESS_KEY` | `image_path` 使用時 | R2 API シークレットキー |\n| `R2_BUCKET_NAME` | `image_path` 使用時 | R2 バケット名 |\n| `R2_PUBLIC_URL` | `image_path` 使用時 | R2 バケットの公開URL（例: `https://pub-xxxx.r2.dev`） |\n\nR2 の設定手順:\n1. [Cloudflare Dashboard](https://dash.cloudflare.com/) にログイン\n2. R2 > バケットを作成（パブリックアクセスを有効化）\n3. R2 > Manage R2 API Tokens でAPIトークンを作成\n4. 上記の環境変数を設定\n\n### Claude Desktop 設定\n\n**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`\n**Windows**: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\n```json\n{\n  \"mcpServers\": {\n    \"grok-imagine-video\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"grok-imagine-video-mcp-server\"],\n      \"env\": {\n        \"XAI_API_KEY\": \"xai-your-api-key-here\"\n      }\n    }\n  }\n}\n```\n\n**ローカル画像（image_path）を使用する場合:**\n\n```json\n{\n  \"mcpServers\": {\n    \"grok-imagine-video\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"grok-imagine-video-mcp-server\"],\n      \"env\": {\n        \"XAI_API_KEY\": \"xai-your-api-key-here\",\n        \"R2_ACCOUNT_ID\": \"your-account-id\",\n        \"R2_ACCESS_KEY_ID\": \"your-access-key-id\",\n        \"R2_SECRET_ACCESS_KEY\": \"your-secret-access-key\",\n        \"R2_BUCKET_NAME\": \"your-bucket-name\",\n        \"R2_PUBLIC_URL\": \"https://pub-xxxx.r2.dev\"\n      }\n    }\n  }\n}\n```\n\n## ツール\n\n### generate_video\n\nテキストプロンプトまたは画像から動画を生成します。\n\n| パラメータ | 型 | 必須 | 説明 |\n|-----------|-----|------|------|\n| `prompt` | string | Yes | 生成する動画の説明テキスト |\n| `output_path` | string | No | 出力ファイルパス（デフォルト: generated_video.mp4） |\n| `model` | string | No | モデル（デフォルト: grok-imagine-video） |\n| `duration` | number | No | 動画長（1-15秒、デフォルト: 5） |\n| `aspect_ratio` | string | No | アスペクト比（デフォルト: 16:9） |\n| `resolution` | string | No | 解像度（720p/480p、デフォルト: 720p） |\n| `image_url` | string | No | Image-to-Video用の入力画像URL |\n| `image_path` | string | No | ローカル画像ファイルパス（R2に自動アップロード） |\n\n> **注意**: `image_url` と `image_path` は同時に指定できません。`image_path` を使用するには R2 環境変数の設定が必要です。\n\n### edit_video\n\n既存動画を編集します。\n\n| パラメータ | 型 | 必須 | 説明 |\n|-----------|-----|------|------|\n| `prompt` | string | Yes | 編集内容の説明 |\n| `video_url` | string | Yes | 編集する動画のURL（公開アクセス可能、最大8.7秒） |\n| `output_path` | string | No | 出力ファイルパス（デフォルト: edited_video.mp4） |\n| `model` | string | No | モデル（デフォルト: grok-imagine-video） |\n\n> **注意**: 編集後の動画は元動画と同じ長さになります。`duration` パラメータは編集時には指定できません。\n\n## バッチ処理 CLI\n\n### コマンド書式\n\n```\ngrok-imagine-video-batch <config.json> [options]\n```\n\nまたは npx 経由：\n\n```\nnpx grok-imagine-video-batch <config.json> [options]\n```\n\n### 基本的な使用例\n\n```bash\n# 設定ファイルでバッチ実行\nnpx grok-imagine-video-batch batch.json\n\n# コスト見積もりのみ（実行しない）\nnpx grok-imagine-video-batch batch.json --estimate-only\n\n# 出力先とフォーマットを指定\nnpx grok-imagine-video-batch batch.json --output-dir ./videos --format json\n\n# ポーリング設定をカスタマイズ\nnpx grok-imagine-video-batch batch.json --poll-interval 10000 --max-poll-attempts 60\n\n# 高並列実行（タイムアウト延長）\nnpx grok-imagine-video-batch batch.json --max-concurrent 5 --timeout 1800000\n\n# ヘルプ表示\nnpx grok-imagine-video-batch --help\n\n# バージョン表示\nnpx grok-imagine-video-batch --version\n```\n\n### CLI オプション一覧\n\n| オプション | 短縮形 | 引数 | 説明 | デフォルト |\n|-----------|--------|------|------|-----------|\n| `--output-dir` | - | `<path>` | 出力ディレクトリを上書き | 設定ファイルから |\n| `--format` | - | `text\\|json` | 出力フォーマット | `text` |\n| `--timeout` | - | `<ms>` | タイムアウト（ミリ秒、最小1000） | `600000` |\n| `--max-concurrent` | - | `<n>` | 最大同時実行数（1-10） | `2` |\n| `--poll-interval` | - | `<ms>` | ポーリング間隔（ミリ秒、最小1000） | `5000` |\n| `--max-poll-attempts` | - | `<n>` | 最大ポーリング回数 | `120` |\n| `--estimate-only` | - | - | コスト見積もりのみ（実行しない） | - |\n| `--allow-any-path` | - | - | 任意の出力パスを許可（CI/CD用） | - |\n| `--help` | `-h` | - | ヘルプメッセージ表示 | - |\n| `--version` | `-v` | - | バージョン表示 | - |\n\n### 終了コード\n\n| コード | 意味 |\n|--------|------|\n| `0` | 成功（全ジョブ完了） |\n| `1` | エラー（失敗またはキャンセルあり） |\n\n### バッチ設定ファイル\n\n```json\n{\n  \"jobs\": [\n    {\n      \"prompt\": \"猫がボールで遊んでいる\",\n      \"output_path\": \"cat_video.mp4\",\n      \"duration\": 5,\n      \"aspect_ratio\": \"16:9\",\n      \"resolution\": \"720p\"\n    },\n    {\n      \"prompt\": \"キャラクターが歩いているアニメーション\",\n      \"image_url\": \"https://example.com/character.jpg\",\n      \"output_path\": \"walking.mp4\",\n      \"duration\": 10\n    },\n    {\n      \"prompt\": \"ボールを大きくして\",\n      \"video_url\": \"https://example.com/video.mp4\",\n      \"output_path\": \"edited.mp4\"\n    }\n  ],\n  \"output_dir\": \"./output\",\n  \"max_concurrent\": 2,\n  \"poll_interval\": 5000,\n  \"max_poll_attempts\": 120,\n  \"default_model\": \"grok-imagine-video\",\n  \"default_duration\": 5,\n  \"retry_policy\": {\n    \"max_retries\": 2,\n    \"retry_delay_ms\": 1000\n  }\n}\n```\n\n### ジョブ定義スキーマ\n\n各ジョブは3種類のうち1つを指定します：\n\n#### 1. Text-to-Video（テキストから動画生成）\n\n```json\n{\n  \"prompt\": \"生成したい動画の説明\",\n  \"output_path\": \"output.mp4\",\n  \"duration\": 5,\n  \"aspect_ratio\": \"16:9\",\n  \"resolution\": \"720p\",\n  \"model\": \"grok-imagine-video\"\n}\n```\n\n| フィールド | 型 | 必須 | 説明 |\n|-----------|-----|------|------|\n| `prompt` | string | Yes | 動画の説明テキスト |\n| `output_path` | string | No | 出力ファイル名 |\n| `duration` | number | No | 動画長（1-15秒） |\n| `aspect_ratio` | string | No | アスペクト比 |\n| `resolution` | string | No | 解像度（720p/480p） |\n| `model` | string | No | モデル名 |\n\n#### 2. Image-to-Video（画像から動画生成）\n\n**URL指定の場合:**\n```json\n{\n  \"prompt\": \"画像をアニメーション化する説明\",\n  \"image_url\": \"https://example.com/image.jpg\",\n  \"output_path\": \"animated.mp4\",\n  \"duration\": 5\n}\n```\n\n**ローカルファイルの場合（R2自動アップロード）:**\n```json\n{\n  \"prompt\": \"画像をアニメーション化する説明\",\n  \"image_path\": \"./images/character.jpg\",\n  \"output_path\": \"animated.mp4\",\n  \"duration\": 5\n}\n```\n\n| フィールド | 型 | 必須 | 説明 |\n|-----------|-----|------|------|\n| `prompt` | string | Yes | アニメーションの説明 |\n| `image_url` | string | No* | 入力画像のURL（公開アクセス可能） |\n| `image_path` | string | No* | ローカル画像ファイルパス（R2に自動アップロード） |\n| `output_path` | string | No | 出力ファイル名 |\n| `duration` | number | No | 動画長（1-15秒） |\n\n> *`image_url` または `image_path` のいずれかを指定（同時指定不可）\n\n#### 3. Video Edit（動画編集）\n\n```json\n{\n  \"prompt\": \"編集内容の説明\",\n  \"video_url\": \"https://example.com/video.mp4\",\n  \"output_path\": \"edited.mp4\"\n}\n```\n\n| フィールド | 型 | 必須 | 説明 |\n|-----------|-----|------|------|\n| `prompt` | string | Yes | 編集内容の説明 |\n| `video_url` | string | Yes | 編集する動画のURL（最大8.7秒） |\n| `output_path` | string | No | 出力ファイル名 |\n\n### グローバル設定\n\n| フィールド | 型 | 説明 | デフォルト |\n|-----------|-----|------|-----------|\n| `output_dir` | string | 出力ディレクトリ | `./output` |\n| `max_concurrent` | number | 最大同時実行数（1-10） | `2` |\n| `poll_interval` | number | ポーリング間隔（ms） | `5000` |\n| `max_poll_attempts` | number | 最大ポーリング回数 | `120` |\n| `default_model` | string | デフォルトモデル | `grok-imagine-video` |\n| `default_duration` | number | デフォルト動画長 | `5` |\n| `default_aspect_ratio` | string | デフォルトアスペクト比 | `16:9` |\n| `default_resolution` | string | デフォルト解像度 | `720p` |\n\n### リトライポリシー\n\n```json\n{\n  \"retry_policy\": {\n    \"max_retries\": 2,\n    \"retry_delay_ms\": 1000,\n    \"retry_on_errors\": [\"rate_limit\", \"429\", \"500\", \"502\", \"503\"]\n  }\n}\n```\n\n| フィールド | 型 | 説明 | デフォルト |\n|-----------|-----|------|-----------|\n| `max_retries` | number | 最大リトライ回数 | `2` |\n| `retry_delay_ms` | number | リトライ間隔（ms） | `1000` |\n| `retry_on_errors` | string[] | リトライ対象エラー | 上記参照 |\n\n設定例は `examples/` ディレクトリを参照してください：\n- `batch-simple.json` - 基本的な動画生成\n- `batch-image-to-video.json` - 画像からの動画生成（URL指定）\n- `batch-local-images.json` - ローカル画像からの動画生成（R2自動アップロード）\n- `batch-with-edits.json` - 動画編集チェーン\n- `batch-social-media.json` - SNS向けフォーマット\n\n## サポートされているアスペクト比\n\n| アスペクト比 | 用途例 |\n|-------------|--------|\n| `16:9` | 横長ワイドスクリーン、YouTube（デフォルト） |\n| `4:3` | 標準的な横長 |\n| `1:1` | 正方形、Instagram |\n| `9:16` | 縦長、TikTok、Reels、Stories |\n| `3:4` | 縦長 |\n| `3:2` / `2:3` | 写真比率 |\n\n## サポートされている解像度\n\n| 解像度 | 説明 |\n|--------|------|\n| `720p` | HD画質（デフォルト） |\n| `480p` | 標準画質 |\n\n## 動画長の制限\n\n| 操作 | 最小 | 最大 | デフォルト |\n|------|------|------|-----------|\n| 生成（Text/Image-to-Video） | 1秒 | 15秒 | 5秒 |\n| 編集 | - | 8.7秒 | 元動画と同じ |\n\n## 非同期処理について\n\nVideo APIは非同期で動作します：\n\n1. **リクエスト送信**: 動画生成/編集リクエストを送信\n2. **request_id 取得**: APIから `request_id` が返される\n3. **ポーリング**: 定期的に結果を確認（デフォルト: 5秒間隔）\n4. **結果取得**: 完了後、動画URLを取得してダウンロード\n\n```\nPOST /v1/videos/generations → { request_id: \"abc123\" }\n                ↓\nGET /v1/videos/abc123 → { status: \"pending\" } → 待機\n                ↓\nGET /v1/videos/abc123 → { status: \"completed\", url: \"...\" } → ダウンロード\n```\n\n## 使用例\n\n```\n# テキストから動画生成\n「猫がボールで遊んでいる」の5秒動画を16:9で生成して\n\n# 画像から動画生成\nこの画像のキャラクターを歩かせる動画を作って\n\n# 動画編集\nこの動画の背景を夜に変更して\n```\n\n## API リファレンス\n\n| 機能 | エンドポイント |\n|------|---------------|\n| 動画生成 | `POST https://api.x.ai/v1/videos/generations` |\n| 動画編集 | `POST https://api.x.ai/v1/videos/edits` |\n| 結果取得 | `GET https://api.x.ai/v1/videos/{request_id}` |\n\n- **ドキュメント**: [docs.x.ai](https://docs.x.ai/)\n\n## 開発\n\n```bash\ngit clone https://github.com/ex-takashima/grok-imagine-video-mcp-server.git\ncd grok-imagine-video-mcp-server\nnpm install\nnpm run build\nnpm start\n```\n\n### 開発用コマンド\n\n```bash\n# ビルド\nnpm run build\n\n# ウォッチモード\nnpm run dev\n\n# バッチCLI実行\nnpm run batch -- examples/batch-simple.json --estimate-only\n```\n\n## トラブルシューティング\n\n### ポーリングがタイムアウトする\n\n動画生成には時間がかかる場合があります。以下を試してください：\n\n```bash\n# ポーリング回数を増やす\nnpx grok-imagine-video-batch batch.json --max-poll-attempts 200\n\n# タイムアウトを延長\nnpx grok-imagine-video-batch batch.json --timeout 1200000\n```\n\n### Rate Limit エラー\n\n並列数を減らすか、リトライ設定を調整してください：\n\n```json\n{\n  \"max_concurrent\": 1,\n  \"retry_policy\": {\n    \"max_retries\": 3,\n    \"retry_delay_ms\": 5000,\n    \"retry_on_errors\": [\"rate_limit\", \"429\"]\n  }\n}\n```\n\n## 関連プロジェクト\n\n- [grok-imagine-image-mcp-server](https://github.com/ex-takashima/grok-imagine-image-mcp-server) - 画像生成用MCP Server\n\n## ライセンス\n\nMIT\n\n## 作者\n\nJunji Takashima <takajyun00@gmail.com>\n"
      },
      "plugins": [
        {
          "name": "grokvideo-generator",
          "source": "./plugins/grokvideo-generator",
          "description": "grok-imagine-video-batch CLIを使用し、テキスト/画像から動画を生成・編集（job-manager不要）",
          "version": "1.0.0",
          "author": {
            "name": "ex-takashima"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add ex-takashima/grok-imagine-video-mcp-server",
            "/plugin install grokvideo-generator@grok-imagine-video-skills"
          ]
        }
      ]
    }
  ]
}