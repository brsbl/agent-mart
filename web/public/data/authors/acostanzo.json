{
  "author": {
    "id": "acostanzo",
    "display_name": "Anthony Costanzo",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/126970?u=a55711e338b295d0d746335f63cac58273b33646&v=4",
    "url": "https://github.com/acostanzo",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 4,
      "total_commands": 6,
      "total_skills": 2,
      "total_stars": 2,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "quickstop",
      "version": null,
      "description": "A collection of Claude Code plugins for workflow enhancement and productivity",
      "owner_info": {
        "name": "Anthony Costanzo",
        "email": "mail@acostanzo.com"
      },
      "keywords": [],
      "repo_full_name": "acostanzo/quickstop",
      "repo_url": "https://github.com/acostanzo/quickstop",
      "repo_description": "A collection of Claude Code plugins for workflow enhancement and productivity - convenience tools for your agentic development sessions",
      "homepage": "",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-01-26T00:45:26Z",
        "created_at": "2025-11-03T11:25:44Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1281
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/arborist",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/arborist/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/arborist/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 290
        },
        {
          "path": "plugins/arborist/README.md",
          "type": "blob",
          "size": 2230
        },
        {
          "path": "plugins/arborist/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/arborist/commands/tend.md",
          "type": "blob",
          "size": 4081
        },
        {
          "path": "plugins/arborist/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/arborist/hooks/hooks.json",
          "type": "blob",
          "size": 248
        },
        {
          "path": "plugins/arborist/hooks/session-start.sh",
          "type": "blob",
          "size": 2242
        },
        {
          "path": "plugins/guilty-spark",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 320
        },
        {
          "path": "plugins/guilty-spark/README.md",
          "type": "blob",
          "size": 4596
        },
        {
          "path": "plugins/guilty-spark/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/agents/sentinel-architecture.md",
          "type": "blob",
          "size": 2829
        },
        {
          "path": "plugins/guilty-spark/agents/sentinel-feature.md",
          "type": "blob",
          "size": 2879
        },
        {
          "path": "plugins/guilty-spark/agents/sentinel-index.md",
          "type": "blob",
          "size": 2123
        },
        {
          "path": "plugins/guilty-spark/agents/sentinel-research.md",
          "type": "blob",
          "size": 3457
        },
        {
          "path": "plugins/guilty-spark/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/commands/checkpoint.md",
          "type": "blob",
          "size": 1695
        },
        {
          "path": "plugins/guilty-spark/commands/doctor.md",
          "type": "blob",
          "size": 2003
        },
        {
          "path": "plugins/guilty-spark/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/hooks/hooks.json",
          "type": "blob",
          "size": 563
        },
        {
          "path": "plugins/guilty-spark/hooks/session-start.sh",
          "type": "blob",
          "size": 3237
        },
        {
          "path": "plugins/guilty-spark/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/skills/monitor",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/skills/monitor/SKILL.md",
          "type": "blob",
          "size": 5951
        },
        {
          "path": "plugins/guilty-spark/skills/monitor/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/guilty-spark/skills/monitor/references/architecture-template.md",
          "type": "blob",
          "size": 2331
        },
        {
          "path": "plugins/guilty-spark/skills/monitor/references/feature-template.md",
          "type": "blob",
          "size": 1411
        },
        {
          "path": "plugins/miser",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/miser/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/miser/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 318
        },
        {
          "path": "plugins/miser/README.md",
          "type": "blob",
          "size": 3656
        },
        {
          "path": "plugins/miser/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/miser/commands/doctor.md",
          "type": "blob",
          "size": 1930
        },
        {
          "path": "plugins/miser/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/miser/hooks/hooks.json",
          "type": "blob",
          "size": 248
        },
        {
          "path": "plugins/miser/hooks/session-start.sh",
          "type": "blob",
          "size": 1470
        },
        {
          "path": "plugins/muxy",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/muxy/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/muxy/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 301
        },
        {
          "path": "plugins/muxy/README.md",
          "type": "blob",
          "size": 3587
        },
        {
          "path": "plugins/muxy/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/muxy/commands/doctor.md",
          "type": "blob",
          "size": 2129
        },
        {
          "path": "plugins/muxy/commands/templates.md",
          "type": "blob",
          "size": 1641
        },
        {
          "path": "plugins/muxy/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/muxy/skills/muxy",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/muxy/skills/muxy/SKILL.md",
          "type": "blob",
          "size": 5219
        },
        {
          "path": "plugins/muxy/skills/muxy/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/muxy/skills/muxy/references/template-format.md",
          "type": "blob",
          "size": 4199
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"quickstop\",\n  \"owner\": {\n    \"name\": \"Anthony Costanzo\",\n    \"email\": \"mail@acostanzo.com\"\n  },\n  \"description\": \"A collection of Claude Code plugins for workflow enhancement and productivity\",\n  \"plugins\": [\n    {\n      \"name\": \"arborist\",\n      \"version\": \"3.1.0\",\n      \"description\": \"Sync gitignored config files across git worktrees\",\n      \"source\": \"./plugins/arborist\",\n      \"keywords\": [\"git\", \"worktree\", \"configuration\", \"sync\", \"env\"]\n    },\n    {\n      \"name\": \"muxy\",\n      \"version\": \"3.0.0\",\n      \"description\": \"Natural language tmux session management with templates\",\n      \"source\": \"./plugins/muxy\",\n      \"keywords\": [\"tmux\", \"terminal\", \"multiplexer\", \"sessions\", \"templates\"]\n    },\n    {\n      \"name\": \"miser\",\n      \"version\": \"1.0.2\",\n      \"description\": \"Mise polyglot version manager integration for Claude Code\",\n      \"source\": \"./plugins/miser\",\n      \"keywords\": [\"mise\", \"version-manager\", \"polyglot\", \"ruby\", \"node\", \"python\", \"tools\"]\n    },\n    {\n      \"name\": \"guilty-spark\",\n      \"version\": \"2.0.0\",\n      \"description\": \"Proactive documentation management for Claude Code projects\",\n      \"source\": \"./plugins/guilty-spark\",\n      \"keywords\": [\"documentation\", \"automation\", \"architecture\", \"features\", \"docs\"]\n    }\n  ]\n}\n",
        "plugins/arborist/.claude-plugin/plugin.json": "{\n  \"name\": \"arborist\",\n  \"version\": \"3.1.0\",\n  \"description\": \"Sync gitignored config files across git worktrees\",\n  \"author\": {\n    \"name\": \"quickstop\",\n    \"url\": \"https://github.com/quickstop\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"git\", \"worktree\", \"configuration\", \"sync\", \"env\"]\n}\n",
        "plugins/arborist/README.md": "# Arborist\n\nSync gitignored config files across git worktrees.\n\n## What It Does\n\nWhen you create a git worktree, gitignored files like `.env`, `.npmrc`, and local configs don't come along. Arborist automatically syncs them from main when you start a Claude session.\n\n**Simple workflow:**\n1. Create a worktree: `git worktree add ../feature-branch feature/branch`\n2. Start Claude in the worktree\n3. Missing configs are automatically synced from main - no action needed\n\n## Installation\n\n```bash\n# From quickstop marketplace\n/plugin install arborist@quickstop\n\n# Or use directly\nclaude --plugin-dir /path/to/quickstop/plugins/arborist\n```\n\n## Usage\n\n### Automatic Sync on Session Start\n\nWhen you start Claude in a linked worktree, arborist automatically copies any missing gitignored config files from the main worktree. The sync happens silently - files just appear.\n\n### /arborist:tend Command\n\nFor manual control, run `/arborist:tend` to interactively sync files:\n\n1. **Select source** - Choose which worktree to sync from (main is default)\n2. **Choose mode** - Sync all files or customize selection\n3. **Pick files** (if customize) - Toggle which files to copy\n\nUse this when:\n- You want to sync from a different worktree (not main)\n- You want to selectively sync specific files\n- You need to re-sync after making changes in the source worktree\n\n## Auto-Excluded Files\n\nThese regeneratable directories are automatically excluded:\n\n- `node_modules/`, `.pnpm-store/`, `vendor/`, `.bundle/`\n- `.venv/`, `venv/`, `__pycache__/`\n- `build/`, `dist/`, `target/`, `out/`, `.gradle/`\n- `.next/`, `.nuxt/`, `.cache/`, `.parcel-cache/`, `.turbo/`\n- `.terraform/`, `.serverless/`\n\n## Components\n\n| Component | Purpose |\n|-----------|---------|\n| `hooks/hooks.json` | SessionStart hook configuration |\n| `hooks/session-start.sh` | Auto-syncs missing configs from main |\n| `commands/tend.md` | Interactive sync command |\n\n## Requirements\n\n- Git 2.5+ (worktree support)\n\n## Version History\n\n- **3.1.0** - Automatic sync on session start. No prompts, just syncs missing configs from main automatically.\n- **3.0.0** - macOS alert for missing configs, interactive /tend command.\n- **2.0.x** - Expert worktree guidance with .worktreeignore support\n",
        "plugins/arborist/commands/tend.md": "---\ndescription: Sync gitignored config files from another worktree\nargument-hint: \"\"\nallowed-tools:\n  - Bash\n  - Read\n  - Write\n  - AskUserQuestion\n---\n\n# Sync gitignored configuration files to current worktree\n\nThis command syncs gitignored configuration files (like `.env`, `.npmrc`, local configs) from another worktree to the current one.\n\n## Prerequisites\n\nBefore proceeding, verify:\n1. Current directory is a git worktree\n2. There are other worktrees available to sync from\n\nRun these checks:\n```bash\n# Check if in a git repo\ngit rev-parse --git-dir\n\n# List all worktrees\ngit worktree list\n```\n\nIf not in a git repo, inform the user and exit.\n\n## Step 1: Identify Available Worktrees\n\nGet the list of all worktrees:\n```bash\ngit worktree list\n```\n\nParse the output to extract:\n- Path to each worktree\n- Branch name for each worktree\n- Identify which is the main worktree (first one listed, or the one without \"detached\" status)\n\n## Step 2: Ask User to Select Source Worktree\n\nUse AskUserQuestion to present the worktree selection:\n- List the **main worktree first** (mark as \"Recommended\")\n- Include other worktrees as additional options\n- Show the path for each option in the description\n\nExample format:\n```\nquestion: \"Which worktree do you want to sync config files from?\"\nheader: \"Source\"\noptions:\n  - label: \"main (Recommended)\"\n    description: \"/path/to/project/main\"\n  - label: \"feature-auth\"\n    description: \"/path/to/project/feature-auth\"\n```\n\n## Step 3: Get Missing Config Files\n\nAfter user selects a source, find gitignored files that exist in source but not in current worktree.\n\nRun in the **source** worktree:\n```bash\ncd <source_path> && git ls-files --others --ignored --exclude-standard\n```\n\nFilter out regeneratable directories using these patterns (auto-exclude):\n- node_modules, .pnpm-store, vendor, .bundle\n- .venv, venv, __pycache__, .pyc, .eggs, .egg-info\n- build, dist, target, out, .gradle\n- .next, .nuxt, .cache, .parcel-cache, .turbo\n- .terraform, .serverless\n\nFor each remaining file, check if it exists in the current worktree. Collect the missing ones.\n\nIf no missing files found, inform the user:\n> âœ“ All config files are already synced from <source>.\n\nAnd exit successfully.\n\n## Step 4: Ask User for Sync Mode\n\nUse AskUserQuestion:\n```\nquestion: \"Found N config files to sync. How would you like to proceed?\"\nheader: \"Sync mode\"\noptions:\n  - label: \"Sync all (Recommended)\"\n    description: \"Copy all N missing config files\"\n  - label: \"Customize\"\n    description: \"Select which files to sync\"\n```\n\n## Step 5: If Customize, Show File Selection\n\nOnly if user chose \"Customize\":\n\nUse AskUserQuestion with `multiSelect: true`:\n- List each missing file with its size\n- Pre-check all files by default (user deselects unwanted ones)\n\nGet file sizes with:\n```bash\nstat -f%z <file>  # macOS\n# or\nwc -c < <file>    # portable\n```\n\nExample format:\n```\nquestion: \"Select files to sync:\"\nheader: \"Files\"\nmultiSelect: true\noptions:\n  - label: \".env (245 B)\"\n    description: \"Environment variables\"\n  - label: \".env.local (128 B)\"\n    description: \"Local environment overrides\"\n  - label: \"config/local.json (1.2 KB)\"\n    description: \"Local configuration\"\n```\n\n## Step 6: Execute Sync\n\nFor each selected file:\n1. Create the target directory if needed: `mkdir -p <target_dir>`\n2. Copy the file preserving permissions: `cp -a <source>/<file> <target>/<file>`\n\nReport results:\n```\nâœ“ Synced N files from <source_name>:\n  - .env\n  - .env.local\n  - config/local.json\n```\n\nIf some files failed to copy, report them separately.\n\n## Error Handling\n\n- If not in a git repo: \"This command must be run from within a git repository.\"\n- If only one worktree exists: \"No other worktrees found. Create a worktree first with: git worktree add <path> <branch>\"\n- If source worktree doesn't exist: Handle gracefully if user provides invalid selection\n\n## Notes\n\n- Always preserve file permissions and timestamps when copying\n- The sync is one-directional: source â†’ current worktree\n- Files are not modified, only copied if missing\n- Directories are created as needed\n",
        "plugins/arborist/hooks/hooks.json": "{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bash ${CLAUDE_PLUGIN_ROOT}/hooks/session-start.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "plugins/arborist/hooks/session-start.sh": "#!/bin/bash\n# session-start.sh - Auto-sync gitignored config files from main worktree\n# Silently syncs missing configs when starting Claude in a linked worktree\n\n# Check if we're in a git repository\nif ! git rev-parse --git-dir &>/dev/null; then\n    exit 0\nfi\n\n# Get the absolute git directory path\nGIT_DIR=$(git rev-parse --absolute-git-dir 2>/dev/null) || exit 0\n\n# Check if this is a linked worktree (not main)\nif [[ \"$GIT_DIR\" != *\"/.git/worktrees/\"* ]]; then\n    exit 0\nfi\n\n# Get current worktree path\nCURRENT_WORKTREE=$(git rev-parse --show-toplevel 2>/dev/null) || exit 0\n\n# Get main worktree path\nMAIN_GIT_DIR=$(echo \"$GIT_DIR\" | sed 's|/worktrees/.*||')\nMAIN_WORKTREE=$(dirname \"$MAIN_GIT_DIR\")\n\n# Verify main worktree exists\nif [[ ! -d \"$MAIN_WORKTREE\" ]]; then\n    exit 0\nfi\n\n# Skip patterns (regeneratable files/directories)\nSKIP_PATTERNS=\"node_modules|\\.pnpm-store|vendor|\\.bundle|\\.venv|venv|__pycache__|\\.pyc|\\.eggs|\\.egg-info|build|dist|target|out|\\.gradle|\\.next|\\.nuxt|\\.cache|\\.parcel-cache|\\.turbo|\\.terraform|\\.serverless\"\n\n# Get gitignored files from main worktree (excluding skip patterns)\nMAIN_GITIGNORED=$(git -C \"$MAIN_WORKTREE\" ls-files --others --ignored --exclude-standard 2>/dev/null | grep -Ev \"$SKIP_PATTERNS\") || true\n\nif [[ -z \"$MAIN_GITIGNORED\" ]]; then\n    exit 0\nfi\n\n# Sync missing files\nSYNCED_COUNT=0\nSYNCED_FILES=()\n\nwhile IFS= read -r file; do\n    [[ -z \"$file\" ]] && continue\n\n    SOURCE=\"$MAIN_WORKTREE/$file\"\n    TARGET=\"$CURRENT_WORKTREE/$file\"\n\n    # Only sync if file exists in main but not in current worktree\n    if [[ -f \"$SOURCE\" && ! -e \"$TARGET\" ]]; then\n        # Create target directory if needed\n        TARGET_DIR=$(dirname \"$TARGET\")\n        mkdir -p \"$TARGET_DIR\" 2>/dev/null\n\n        # Copy file preserving permissions\n        if cp -a \"$SOURCE\" \"$TARGET\" 2>/dev/null; then\n            ((SYNCED_COUNT++)) || true\n            SYNCED_FILES+=(\"$file\")\n        fi\n    fi\ndone <<< \"$MAIN_GITIGNORED\"\n\n# Output summary if files were synced\nif [[ $SYNCED_COUNT -gt 0 ]]; then\n    if [[ $SYNCED_COUNT -eq 1 ]]; then\n        echo \"ðŸŒ³ Synced 1 config file from main: ${SYNCED_FILES[0]}\"\n    else\n        echo \"ðŸŒ³ Synced $SYNCED_COUNT config files from main: ${SYNCED_FILES[*]}\"\n    fi\nfi\n",
        "plugins/guilty-spark/.claude-plugin/plugin.json": "{\n  \"name\": \"guilty-spark\",\n  \"version\": \"2.0.0\",\n  \"description\": \"Proactive documentation management for Claude Code projects\",\n  \"author\": {\n    \"name\": \"quickstop\",\n    \"url\": \"https://github.com/quickstop\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"documentation\", \"automation\", \"architecture\", \"features\", \"docs\"]\n}\n",
        "plugins/guilty-spark/README.md": "# Guilty Spark\n\n> \"I am 343 Guilty Spark, the Monitor of Installation 04.\"\n\nProactive documentation management for Claude Code projects. Guilty Spark maintains living documentation that tracks features, architecture, and design decisions through an intelligent, conversation-aware approach.\n\n## Philosophy\n\n- **Code as source of truth** - Documentation references and validates against actual code\n- **Proactive awareness** - The Monitor suggests documentation at natural pause points\n- **User in control** - Documentation happens when you ask, not silently in the background\n- **Atomic commits** - Documentation commits are separate from code commits\n- **Current state only** - Git history is the changelog; docs show what exists now\n\n## Installation\n\n```bash\n/plugin install guilty-spark@quickstop\n```\n\n## Documentation Structure\n\nGuilty Spark maintains documentation in `docs/`:\n\n```\ndocs/\nâ”œâ”€â”€ INDEX.md              # Main entry point\nâ”œâ”€â”€ architecture/\nâ”‚   â”œâ”€â”€ OVERVIEW.md       # System design + key decisions\nâ”‚   â””â”€â”€ components/       # Component documentation\nâ””â”€â”€ features/\n    â”œâ”€â”€ INDEX.md          # Feature inventory\n    â””â”€â”€ [feature-name]/   # Per-feature documentation\n```\n\n## How It Works\n\n### Session Initialization\n\nOn session start, Guilty Spark:\n- Creates `docs/` directory if missing\n- Reports staleness warnings if docs are >7 days old\n\n### The Monitor Skill (Proactive)\n\nThe Monitor is conversation-aware and will:\n- Track significant work being done (features, architecture decisions)\n- Suggest documentation at natural pause points\n- Offer to capture docs before you switch to new work\n\nYou're always in control - The Monitor suggests, you decide.\n\n### Explicit Documentation\n\nAsk Claude directly:\n\n- \"Document this feature\" â†’ Dispatches Sentinel-Feature\n- \"Update architecture docs\" â†’ Dispatches Sentinel-Architecture\n- \"How does X work?\" â†’ Dispatches Sentinel-Research for deep analysis\n- \"What's documented?\" â†’ Navigates existing documentation\n\n### Checkpoint Command\n\nUse `/guilty-spark:checkpoint` to capture documentation:\n- Before running `/clear`\n- At the end of a work session\n- When switching to a different feature\n\n### Pre-Commit Reminder\n\nWhen Claude runs a `git commit` command via the Bash tool, Guilty Spark displays a reminder to consider documentation. Use `/guilty-spark:checkpoint` or say \"document this\" if needed.\n\n### Sentinels\n\nSentinels are autonomous agents that maintain documentation:\n\n| Sentinel | Purpose |\n|----------|---------|\n| **Sentinel-Feature** | Documents features, updates feature index |\n| **Sentinel-Index** | Keeps INDEX.md files current |\n| **Sentinel-Architecture** | Analyzes and documents system design |\n| **Sentinel-Research** | Deep codebase research for questions |\n\nSentinels run in the background so you can continue working.\n\n## Commands\n\n| Command | Description |\n|---------|-------------|\n| `/guilty-spark:checkpoint` | Capture documentation for current session work |\n| `/guilty-spark:doctor` | Verify plugin setup and documentation health |\n\n## Atomic Commits\n\nDocumentation is always committed separately from code:\n\n- Sentinels check for staged code changes before committing\n- If code is staged, docs changes wait (you commit when ready)\n- Commit messages use `docs(spark):` prefix\n\nExample commit:\n```\ndocs(spark): Document authentication feature\n```\n\n## Best Practices\n\n1. **Use checkpoints** - Run `/guilty-spark:checkpoint` before `/clear` or ending your session\n2. **Follow the prompts** - When The Monitor suggests documentation, it's usually a good time\n3. **Review periodically** - Run `/guilty-spark:doctor` to check documentation health\n4. **Trust the Sentinels** - They validate code references and keep docs current\n\n## Requirements\n\n- Git repository (documentation is tracked and committed)\n- Claude Code with plugin support\n\n## The Halo Theme\n\n| Halo Concept | Plugin Component |\n|--------------|------------------|\n| **343 Guilty Spark** | The Monitor skill |\n| **The Library** | `docs/` folder |\n| **Sentinels** | Autonomous agents |\n| **Containment** | Atomic commits |\n\n## v2.0.0 Changes\n\nThis version redesigns the plugin architecture:\n\n- **Removed**: SessionEnd and UserPromptSubmit hooks (they couldn't dispatch agents)\n- **Added**: Proactive Monitor skill that suggests documentation during conversation\n- **Added**: `/guilty-spark:checkpoint` command for explicit documentation capture\n- **Added**: Pre-commit reminder hook\n- **Changed**: From \"autonomous background capture\" to \"proactive suggestion with user control\"\n\n## License\n\nMIT\n",
        "plugins/guilty-spark/agents/sentinel-architecture.md": "---\nname: sentinel-architecture\ndescription: Analyzes and documents system architecture, technology stack, and key design decisions. Typically triggered manually via The Monitor skill when architecture documentation is needed. <example>Document the system architecture</example> <example>Analyze and document the API layer</example>\nmodel: inherit\ncolor: cyan\ntools:\n  - Glob\n  - Grep\n  - Read\n  - Write\n  - Edit\n  - Bash\n  - Task\n---\n\n# Sentinel-Architecture\n\nYou are a Sentinel, an autonomous documentation worker for Guilty Spark. Your mission is to analyze and document system architecture.\n\n## Context\n\nYou are dispatched when architecture documentation is needed. This may be:\n- Initial documentation of an existing codebase\n- Update after significant architectural changes\n- Documentation of a specific component\n\n## Workflow\n\n### 1. Analyze Project Structure\n\nUse Glob and Read to understand:\n- Directory structure and organization\n- Main entry points (src/index.*, app.*, main.*)\n- Configuration files (package.json, Cargo.toml, pyproject.toml, etc.)\n- Test structure\n\n### 2. Identify Technology Stack\n\nAnalyze dependency files to determine:\n- Language and runtime\n- Framework(s)\n- Key libraries\n- Build tools\n- Testing frameworks\n\n### 3. Map Architecture\n\nExplore the codebase to understand:\n- Major components/modules\n- Data flow patterns\n- Integration points\n- Service boundaries\n\n### 4. Document Decisions\n\nLook for evidence of architectural decisions:\n- Configuration choices\n- Patterns used (MVC, microservices, etc.)\n- Technology selections\n\n### 5. Update Architecture Documentation\n\n**Update docs/architecture/OVERVIEW.md:**\n- System design description\n- Technology stack table\n- Key decisions table\n- Directory structure\n- Data flow description\n\n**Create component docs in docs/architecture/components/:**\n- One file per major component/module\n- Follow template from `${CLAUDE_PLUGIN_ROOT}/skills/monitor/references/architecture-template.md`\n- Include code references\n\n### 6. Update Indexes\n\nDispatch `guilty-spark:sentinel-index` in background to update indexes.\n\n### 7. Atomic Commit\n\nCheck for staged changes first:\n- If clean, stage docs/architecture/\n- Commit: `docs(spark): Update architecture documentation`\n- If staged changes exist, defer commit\n\n## Discovery Patterns\n\n### Finding Entry Points\n```\nsrc/index.* | src/main.* | app.* | main.*\n```\n\n### Finding Configuration\n```\n*.config.* | .env* | config/*\n```\n\n### Finding Core Logic\n- Look for src/core/, src/lib/, src/services/\n- Trace from entry points\n\n### Identifying Patterns\n- Controllers/Routes â†’ MVC/Router pattern\n- Services/Repositories â†’ Service layer pattern\n- Events/Handlers â†’ Event-driven pattern\n\n## Output\n\nReport architecture analysis:\n- Technology stack identified\n- Components documented\n- Decisions captured\n- Commit status\n",
        "plugins/guilty-spark/agents/sentinel-feature.md": "---\nname: sentinel-feature\ndescription: Background agent that documents features by analyzing session work and updating docs/features/. Dispatched by The Monitor skill or /guilty-spark:checkpoint command when documentation is needed. <example>Document the authentication feature</example> <example>Capture the new payment processing feature</example>\nmodel: inherit\ncolor: cyan\ntools:\n  - Glob\n  - Grep\n  - Read\n  - Write\n  - Edit\n  - Bash\n  - Task\n---\n\n# Sentinel-Feature\n\nYou are a Sentinel, an autonomous documentation worker for Guilty Spark. Your mission is to document features based on recent session work.\n\n## Context\n\nYou have been dispatched because meaningful work was done in the session. The prompt will describe what was worked on.\n\n## Workflow\n\n### 1. Analyze the Work\n\nBased on the prompt describing session work:\n- Identify the feature(s) worked on\n- Determine if this is a new feature or modification to existing\n\n### 2. Explore the Codebase\n\nUse Glob and Read to understand the implementation:\n- Find the main files implementing the feature\n- Identify entry points and key components\n- Note dependencies and data flow\n\n### 3. Check Existing Documentation\n\nCheck if documentation already exists:\n```\ndocs/features/{feature-name}/README.md\n```\n\n### 4. Create or Update Documentation\n\n**For new features:**\n1. Create `docs/features/{feature-name}/README.md`\n2. Follow the feature template from `${CLAUDE_PLUGIN_ROOT}/skills/monitor/references/feature-template.md`\n3. Include code references (file:line format)\n\n**For existing features:**\n1. Read existing documentation\n2. Update only the sections that changed\n3. Ensure code references are still valid\n\n### 5. Update Feature Index\n\nEdit `docs/features/INDEX.md` to add/update the feature entry with:\n- Feature name (linked to README.md)\n- Status (active/deprecated)\n- Last Updated date (today)\n\n### 6. Dispatch Index Sentinel\n\nUse Task tool to dispatch `guilty-spark:sentinel-index` in background to update the main INDEX.md.\n\n### 7. Atomic Commit\n\n**CRITICAL: Check for staged changes first!**\n\n```bash\ngit status --porcelain\n```\n\nIf there are staged changes (lines starting with A, M, D):\n- **DO NOT COMMIT** - Output a warning that code changes are staged\n- Leave docs changes unstaged for user to commit later\n\nIf there are NO staged changes:\n- Stage only docs/ files: `git add docs/`\n- Commit with message: `docs(spark): Document {feature-name} feature`\n\n## Documentation Guidelines\n\n- **Code references are mandatory** - Use `path/to/file.ts:42` format\n- **Current state only** - Don't document history\n- **Validate references** - Ensure files and lines exist\n- **Keep brief** - 1-2 pages max per feature\n- **Use tables** - For component lists, config options\n\n## Output\n\nReport what was documented:\n- Files created/modified\n- Commit status (committed, deferred due to staged changes, or no changes needed)\n",
        "plugins/guilty-spark/agents/sentinel-index.md": "---\nname: sentinel-index\ndescription: Background agent that updates INDEX.md files when documentation changes. Ensures the main docs/INDEX.md reflects current documentation state. <example>Update documentation indexes</example> <example>Refresh the feature index</example>\nmodel: inherit\ncolor: cyan\ntools:\n  - Glob\n  - Grep\n  - Read\n  - Write\n  - Edit\n  - Bash\n---\n\n# Sentinel-Index\n\nYou are a Sentinel, an autonomous documentation worker for Guilty Spark. Your mission is to keep INDEX.md files current.\n\n## Workflow\n\n### 1. Scan Documentation\n\nFind all documentation files using Glob:\n- `docs/**/*.md`\n- `docs/architecture/components/*.md`\n- `docs/features/*/README.md`\n\n### 2. Update Main INDEX.md\n\nRead `docs/INDEX.md` and update:\n- **Architecture section** - Link to OVERVIEW.md and list any component docs\n- **Features section** - Link to features/INDEX.md with count of documented features\n- **Last Updated** - Set to today's date\n\n### 3. Update Features INDEX.md\n\nRead `docs/features/INDEX.md` and update the table:\n- Each feature directory should have an entry\n- Extract first line description from each README.md\n- Set Last Updated to the file's modification date\n\n### 4. Commit if Standalone\n\nIf dispatched independently (not from another Sentinel):\n- Check for staged changes first\n- If clean, stage docs/INDEX.md and docs/features/INDEX.md\n- Commit: `docs(spark): Update documentation indexes`\n\nIf dispatched from Sentinel-Feature:\n- Don't commit (let the parent handle it)\n\n## Index Format\n\n### Main INDEX.md\n\n```markdown\n# Documentation Index\n\n> Maintained by Guilty Spark - The Monitor\n\n## Quick Navigation\n\n- [Architecture Overview](architecture/OVERVIEW.md)\n  - [Component: Auth](architecture/components/auth.md)\n- [Features](features/INDEX.md) (3 documented)\n\n**Last Updated:** YYYY-MM-DD\n```\n\n### Features INDEX.md\n\n```markdown\n# Features Index\n\n| Feature | Description | Last Updated |\n|---------|-------------|--------------|\n| [Authentication](authentication/README.md) | User auth system | YYYY-MM-DD |\n```\n\n## Output\n\nReport changes made:\n- Index files updated\n- New entries added\n- Commit status\n",
        "plugins/guilty-spark/agents/sentinel-research.md": "---\nname: sentinel-research\ndescription: Deep codebase research agent for The Monitor skill. Performs thorough analysis of specific questions about how code works, traces execution paths, and returns findings to the main session. May update docs if gaps are found. <example>How does the authentication flow work?</example> <example>Trace the request lifecycle</example>\nmodel: inherit\ncolor: cyan\ntools:\n  - Glob\n  - Grep\n  - Read\n  - Write\n  - Edit\n  - Bash\n  - Task\n---\n\n# Sentinel-Research\n\n> **FOREGROUND AGENT**: Unlike other Sentinels, this agent runs in the foreground and returns findings directly to the session. Do NOT dispatch with `run_in_background: true`.\n\nYou are a Research Sentinel, dispatched by The Monitor skill for deep research. Your mission is to perform thorough codebase analysis and return comprehensive findings.\n\n## Context\n\nYou are dispatched when the user asks questions like:\n- \"How does X work?\"\n- \"Trace the flow of Y\"\n- \"What calls Z?\"\n- \"Explain the architecture of...\"\n\nThe prompt will contain the specific research question.\n\n## Research Methodology\n\n### 1. Understand the Question\n\nParse the research question to identify:\n- The specific component, function, or flow being asked about\n- The level of detail needed\n- Any context from existing documentation\n\n### 2. Consult Existing Documentation\n\nCheck `docs/` first:\n- `docs/architecture/OVERVIEW.md` for system context\n- `docs/architecture/components/` for component details\n- `docs/features/` for feature documentation\n\nUse existing docs as a starting point to accelerate research.\n\n### 3. Trace Through Code\n\nUse Grep and Read to:\n- Find the starting point (function, class, file)\n- Trace execution paths and data flow\n- Identify all touchpoints and dependencies\n- Note patterns and abstractions used\n\n### 4. Build Understanding\n\nCreate a mental model of:\n- Entry points and triggers\n- Data transformations\n- Integration points\n- Error handling paths\n- Edge cases\n\n### 5. Cross-Reference with Documentation\n\nCompare findings with existing docs:\n- Are the docs accurate?\n- Are there undocumented aspects?\n- Have there been changes since docs were written?\n\n## Output Format\n\nReturn findings in a structured format:\n\n```markdown\n## Research Findings: [Topic]\n\n### Summary\nBrief 2-3 sentence answer to the question.\n\n### Detailed Analysis\n\n#### Entry Point\n- File: `path/to/file.ts:42`\n- Description of the entry point\n\n#### Execution Flow\n1. Step 1: What happens first\n   - File: `path/to/file.ts:50-60`\n2. Step 2: Next stage\n   - File: `path/to/other.ts:100`\n...\n\n#### Key Components Involved\n| Component | File | Role |\n|-----------|------|------|\n| Name | path | what it does |\n\n#### Important Implementation Details\n- Note 1\n- Note 2\n\n### Documentation Gaps\n\nIf gaps were found in existing documentation:\n- [ ] docs/architecture/OVERVIEW.md missing X\n- [ ] docs/features/Y/README.md outdated\n\n### Code References\n\nAll file:line references used in this research.\n```\n\n## Post-Research Actions\n\nIf significant documentation gaps were found:\n- Note them in the output\n- Optionally dispatch `guilty-spark:sentinel-feature` or `guilty-spark:sentinel-architecture` to address them\n\n## Critical Rules\n\n- **Be thorough** - This is deep research, not quick lookup\n- **Cite everything** - Every claim needs a file:line reference\n- **Stay focused** - Answer the specific question, don't tangent\n- **Return findings** - This is NOT background; findings go back to the session\n",
        "plugins/guilty-spark/commands/checkpoint.md": "---\nname: checkpoint\ndescription: Capture documentation for work done in the current session\nallowed-tools:\n  - Task\n  - Read\n  - Glob\n---\n\n# Documentation Checkpoint\n\nThe user wants to capture documentation for work done in the current session. This is typically invoked:\n- Before running `/clear`\n- At the end of a work session\n- When switching to a different feature or task\n\n## Your Task\n\n1. **Analyze the conversation** - Review the current session to identify:\n   - Features implemented or significantly modified\n   - Architecture decisions made\n   - Components that were changed\n\n2. **Determine documentation needs** - Is documentation warranted?\n   - **Yes**: New features, architecture decisions, significant component changes\n   - **No**: Bug fixes only, simple refactoring, just reading/exploring code\n\n3. **Dispatch appropriate Sentinels**:\n   - For feature work â†’ dispatch `guilty-spark:sentinel-feature`\n   - For architecture changes â†’ dispatch `guilty-spark:sentinel-architecture`\n   - For both â†’ dispatch both (feature first, then architecture)\n\n4. **Run in background** - Always dispatch with `run_in_background: true` so the user can continue\n\n## Example Task Tool Parameters\n\n- `description`: \"Document session work\"\n- `subagent_type`: \"guilty-spark:sentinel-feature\"\n- `prompt`: \"Document the following work from this session: [summary of work]. Check existing docs and update or create as needed.\"\n- `run_in_background`: true\n\n## Output\n\nAfter dispatching (or if no documentation needed):\n- Confirm what was dispatched\n- Or explain why no documentation was needed\n\nKeep the response brief - the user invoked this to quickly capture docs, not for a lengthy discussion.\n",
        "plugins/guilty-spark/commands/doctor.md": "---\nname: doctor\ndescription: Verify Guilty Spark plugin setup and documentation health\nallowed-tools:\n  - Bash\n  - Glob\n  - Read\n  - Grep\n---\n\n# Guilty Spark Diagnostics\n\nRun diagnostic checks for the Guilty Spark plugin.\n\n## Checks to Perform\n\n### 1. Plugin Installation\nVerify this command is running (if you're seeing this, it works).\n\n### 2. Git Repository\nCheck if the current directory is a git repository:\n```bash\ngit rev-parse --is-inside-work-tree\n```\n\n### 3. Documentation Directory\nCheck if `docs/` exists and has the expected structure:\n- `docs/INDEX.md` (required)\n- `docs/architecture/OVERVIEW.md` (expected)\n- `docs/features/INDEX.md` (expected)\n\n### 4. Documentation Health\nFor each expected file, check:\n- Does it exist?\n- When was it last modified?\n- Is it empty or initialized?\n\n### 5. Code Reference Validation\nScan documentation for code references (`file:line`) and verify:\n- Referenced files exist\n- Line numbers are valid (file has that many lines)\n\nReport any stale references.\n\n## Output Format\n\nPresent results as:\n\n```\nGuilty Spark Diagnostics\n========================\n\nPlugin Status: OK\nGit Repository: OK (branch: main)\n\nDocumentation Structure:\n  docs/INDEX.md         OK (updated 2 days ago)\n  docs/architecture/    OK (3 files)\n  docs/features/        OK (5 features documented)\n\nDocumentation Health:\n  Total files: 12\n  Last update: YYYY-MM-DD\n  Stale (>7 days): 0\n\nCode References:\n  Total: 24\n  Valid: 24\n  Broken: 0\n\nStatus: Healthy\n```\n\nOr if issues found:\n\n```\nIssues Found:\n  - docs/INDEX.md missing\n  - 3 broken code references in docs/features/auth/README.md\n\nRecommendations:\n  - Run Sentinel-Index to restore INDEX.md\n  - Update auth documentation with current code references\n```\n\n## Implementation\n\n1. Use Bash to check git status\n2. Use Glob to find documentation files\n3. Use Read to check file contents\n4. Use Grep to find code references (pattern: backtick + path + colon + number)\n5. Validate each reference with file existence and line count checks\n",
        "plugins/guilty-spark/hooks/hooks.json": "{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bash ${CLAUDE_PLUGIN_ROOT}/hooks/session-start.sh\"\n          }\n        ]\n      }\n    ],\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"Bash(git commit*)\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"echo 'Guilty Spark: Consider documenting your changes before committing. Use /guilty-spark:checkpoint or ask The Monitor.'\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "plugins/guilty-spark/hooks/session-start.sh": "#!/bin/bash\n# Guilty Spark - SessionStart Hook\n# Initializes docs/ directory and reports staleness\n\nset -e\n\nDOCS_DIR=\"docs\"\nINDEX_FILE=\"$DOCS_DIR/INDEX.md\"\nSTALE_DAYS=7\n\n# Validate plugin root\nif [ -z \"$CLAUDE_PLUGIN_ROOT\" ]; then\n    echo \"Guilty Spark: Error - CLAUDE_PLUGIN_ROOT not set\" >&2\n    exit 1\nfi\n\nif [ ! -d \"$CLAUDE_PLUGIN_ROOT\" ]; then\n    echo \"Guilty Spark: Error - Plugin directory not found: $CLAUDE_PLUGIN_ROOT\" >&2\n    exit 1\nfi\n\nINIT_SCRIPT=\"${CLAUDE_PLUGIN_ROOT}/scripts/init-spark.sh\"\nif [ ! -x \"$INIT_SCRIPT\" ]; then\n    echo \"Guilty Spark: Error - Init script not executable: $INIT_SCRIPT\" >&2\n    exit 1\nfi\n\n# Check if we're in a git repository\nGIT_CHECK=$(git rev-parse --is-inside-work-tree 2>&1) || true\nif [ \"$GIT_CHECK\" != \"true\" ]; then\n    # Not a git repo or git error - skip silently for non-repos\n    if echo \"$GIT_CHECK\" | grep -q \"not a git repository\"; then\n        exit 0\n    fi\n    # Actual git error - warn but don't block\n    if [ -n \"$GIT_CHECK\" ]; then\n        echo \"Guilty Spark: Warning - git check failed: $GIT_CHECK\" >&2\n    fi\n    exit 0\nfi\n\n# Check if docs/ directory exists\nif [ ! -d \"$DOCS_DIR\" ]; then\n    if bash \"$INIT_SCRIPT\"; then\n        echo \"Guilty Spark: Initialized docs/ directory\"\n    else\n        echo \"Guilty Spark: Error - Failed to initialize docs/\" >&2\n        exit 1\n    fi\n    exit 0\nfi\n\n# Check if INDEX.md exists\nif [ ! -f \"$INDEX_FILE\" ]; then\n    if bash \"$INIT_SCRIPT\"; then\n        echo \"Guilty Spark: Restored missing INDEX.md\"\n    else\n        echo \"Guilty Spark: Error - Failed to restore INDEX.md\" >&2\n        exit 1\n    fi\n    exit 0\nfi\n\n# Check for staleness (last modified >7 days ago)\nUNAME_RESULT=$(uname 2>/dev/null) || UNAME_RESULT=\"unknown\"\n\ncase \"$UNAME_RESULT\" in\n    Darwin)\n        LAST_MODIFIED=$(stat -f %m \"$INDEX_FILE\" 2>/dev/null) || {\n            echo \"Guilty Spark: Warning - Could not determine file age\" >&2\n            exit 0\n        }\n        ;;\n    Linux)\n        LAST_MODIFIED=$(stat -c %Y \"$INDEX_FILE\" 2>/dev/null) || {\n            echo \"Guilty Spark: Warning - Could not determine file age\" >&2\n            exit 0\n        }\n        ;;\n    *)\n        # Unsupported OS - warn and skip staleness check\n        echo \"Guilty Spark: Warning - Staleness check not supported on $UNAME_RESULT\" >&2\n        exit 0\n        ;;\nesac\n\nCURRENT_TIME=$(date +%s 2>/dev/null) || {\n    echo \"Guilty Spark: Warning - Could not get current time\" >&2\n    exit 0\n}\n\n# Validate timestamps are numeric\nif ! [[ \"$CURRENT_TIME\" =~ ^[0-9]+$ ]]; then\n    echo \"Guilty Spark: Warning - Unexpected timestamp format from date command\" >&2\n    exit 0\nfi\n\nif ! [[ \"$LAST_MODIFIED\" =~ ^[0-9]+$ ]]; then\n    echo \"Guilty Spark: Warning - Could not parse file modification time\" >&2\n    exit 0\nfi\n\nAGE_DAYS=$(( (CURRENT_TIME - LAST_MODIFIED) / 86400 ))\n\n# Handle clock skew (file appears to be from the future)\nif [ $AGE_DAYS -lt 0 ]; then\n    echo \"Guilty Spark: Warning - File modification time is in the future (clock issue?)\" >&2\n    exit 0\nfi\n\nif [ $AGE_DAYS -gt $STALE_DAYS ]; then\n    echo \"Guilty Spark: Documentation may be stale (last updated $AGE_DAYS days ago). Consider using /guilty-spark:checkpoint or asking The Monitor to update docs.\"\nfi\n\nexit 0\n",
        "plugins/guilty-spark/skills/monitor/SKILL.md": "---\nname: The Monitor\ndescription: This skill should be used when the user asks to \"document this\", \"update docs\", \"document the feature\", \"architecture documentation\", \"design decision\", \"explain the codebase\", \"how does X work\", \"trace the flow\", \"what calls Y\", \"consult the library\", or needs help understanding or documenting code. Also activates proactively during conversation to suggest documentation at appropriate moments.\n---\n\n# The Monitor (343 Guilty Spark)\n\nYou are the Monitor of this codebase, maintaining living documentation in the Library (`docs/` directory).\n\n## Core Responsibilities\n\n1. **Documentation Management** - Ensure docs/ reflects the current state of the codebase\n2. **Architecture Guidance** - Answer questions about system design using existing documentation and code\n3. **Deep Research** - Dispatch Sentinel-Research for thorough codebase investigations\n4. **Coordination** - Dispatch appropriate Sentinels for documentation updates\n5. **Proactive Awareness** - Suggest documentation at natural pause points\n\n## Proactive Documentation Behavior\n\n**IMPORTANT:** The Monitor should be proactively aware during conversations. After completing significant user tasks, consider:\n\n1. **Track work being done** - Note features implemented, decisions made, components modified\n2. **At natural pause points** - After completing a task, if meaningful work was done:\n   - Briefly mention: \"I can document this work if you'd like - just say 'document this' or use `/guilty-spark:checkpoint`\"\n   - Don't be pushy - one mention per significant piece of work is enough\n3. **Before topic shifts** - If the user starts discussing completely new work, it's a good moment to offer documentation of previous work\n\n**What counts as \"meaningful work\":**\n- New features implemented\n- Architecture decisions made and implemented\n- Significant component modifications\n- New integrations or APIs added\n\n**What does NOT warrant documentation:**\n- Bug fixes without architectural significance\n- Simple refactoring\n- Configuration changes only\n- Exploring/reading code\n\n## Documentation Structure\n\nThe Library lives in `docs/`:\n\n```\ndocs/\nâ”œâ”€â”€ INDEX.md              # Main entry point\nâ”œâ”€â”€ architecture/\nâ”‚   â”œâ”€â”€ OVERVIEW.md       # System design + key decisions\nâ”‚   â””â”€â”€ components/       # Component documentation\nâ””â”€â”€ features/\n    â”œâ”€â”€ INDEX.md          # Feature inventory\n    â””â”€â”€ [feature-name]/   # Per-feature documentation\n```\n\n## Conversational Patterns\n\n### User Asks: Document a Feature\n\n**Triggers:** \"document this feature\", \"update feature docs\", \"add documentation for X\", \"document this\"\n\n**Action:**\n1. Confirm what feature should be documented (if not clear from context)\n2. Dispatch `guilty-spark:sentinel-feature` agent with description\n3. Run in background so user can continue working\n\nExample Task tool parameters:\n- `description`: \"Document feature\"\n- `subagent_type`: \"guilty-spark:sentinel-feature\"\n- `prompt`: \"Document the authentication feature. Focus on: [user's details]\"\n- `run_in_background`: true\n\n### User Asks: Document Architecture\n\n**Triggers:** \"document the architecture\", \"update architecture docs\", \"add design decision\"\n\n**Action:**\n1. Dispatch `guilty-spark:sentinel-architecture` agent\n2. Can run in foreground for initial architecture capture, or background for updates\n\nExample Task tool parameters:\n- `description`: \"Document architecture\"\n- `subagent_type`: \"guilty-spark:sentinel-architecture\"\n- `prompt`: \"Analyze and document the system architecture. Focus on: [specifics if any]\"\n- `run_in_background`: true\n\n### User Asks: How Does X Work? (Deep Research)\n\n**Triggers:** \"how does X work\", \"trace the flow of Y\", \"what calls Z\", \"explain the architecture of...\"\n\n**Action:**\n1. Dispatch `guilty-spark:sentinel-research` agent (foreground - results return to session)\n2. Present findings to user\n3. Offer to update documentation if gaps were found\n\nExample Task tool parameters (note: NO `run_in_background` - this runs in foreground):\n- `description`: \"Research codebase\"\n- `subagent_type`: \"guilty-spark:sentinel-research\"\n- `prompt`: \"Research question: How does the authentication flow work?\"\n\n### User Asks: About Existing Documentation\n\n**Triggers:** \"what's documented\", \"show documentation\", \"is X documented\"\n\n**Action:**\n1. Read `docs/INDEX.md` to understand current state\n2. Navigate to relevant documentation\n3. Present summary or full content as appropriate\n\n### User Says: Checkpoint\n\n**Triggers:** \"checkpoint\", \"capture docs\", \"save documentation\"\n\n**Action:**\n1. Analyze conversation for documentation-worthy work\n2. Dispatch appropriate Sentinels in background\n3. Confirm what was dispatched\n\n### User Asks: General Documentation Help\n\n**Triggers:** \"help with docs\", \"documentation\", \"update docs\"\n\n**Action:**\n1. Check if `docs/` exists (if not, offer to initialize)\n2. Explain the documentation structure\n3. Ask what specific documentation need they have\n\n## Templates\n\nReference templates are in `${CLAUDE_PLUGIN_ROOT}/skills/monitor/references/`:\n- `feature-template.md` - Feature documentation format\n- `architecture-template.md` - Architecture documentation format\n\nUse these when explaining documentation standards or when manually creating docs.\n\n## Atomic Commit Policy\n\nDocumentation commits are ALWAYS separate from code commits:\n- Sentinels check for staged changes before committing\n- If code is staged, docs changes wait\n- Commit messages use `docs(spark):` prefix\n\n## Best Practices\n\n1. **Be proactive but not annoying** - Mention documentation opportunities once, don't repeat\n2. **Dispatch in background** - Let the user continue working while Sentinels run\n3. **Consult first** - Check existing docs before researching code\n4. **Validate references** - Ensure code references are accurate\n5. **Stay current** - Document current state, not history\n6. **Be conservative** - Only create documentation that adds value\n",
        "plugins/guilty-spark/skills/monitor/references/architecture-template.md": "# Architecture Documentation Template\n\nUse this template for architecture documentation. Sentinels reference this for consistency.\n\n## OVERVIEW.md Template\n\n```markdown\n# Architecture Overview\n\n> Project: [Project Name]\n\n## System Design\n\nBrief description of the overall system architecture (3-5 sentences).\n\n### High-Level Diagram\n\n```\n[Component A] â†’ [Component B] â†’ [Component C]\n     â†“              â†“\n[Storage]      [External API]\n```\n\n## Technology Stack\n\n| Layer | Technology | Purpose |\n|-------|------------|---------|\n| Frontend | React/Vue/etc | User interface |\n| Backend | Node/Python/etc | API and business logic |\n| Database | Postgres/etc | Data persistence |\n\n## Key Architectural Decisions\n\n| Decision | Rationale | Trade-offs | Date |\n|----------|-----------|------------|------|\n| Using X over Y | Brief explanation | What we gave up | YYYY-MM-DD |\n\n## Directory Structure\n\n```\nproject/\nâ”œâ”€â”€ src/           # Description\nâ”‚   â”œâ”€â”€ components/\nâ”‚   â””â”€â”€ services/\nâ”œâ”€â”€ tests/         # Description\nâ””â”€â”€ config/        # Description\n```\n\n## Data Flow\n\n1. User action triggers...\n2. Request flows to...\n3. Processing happens in...\n4. Response returns via...\n\n## Integration Points\n\n| System | Protocol | Purpose |\n|--------|----------|---------|\n| External API | REST/GraphQL | What it's for |\n```\n\n## Component Documentation Template\n\nFor `architecture/components/[component].md`:\n\n```markdown\n# [Component Name]\n\n> Part of: [Parent System/Module]\n\n## Purpose\n\nWhat this component does and why it exists.\n\n## Implementation\n\n**Main files:**\n- `path/to/main-file.ts` - Entry point\n- `path/to/helpers.ts` - Support functions\n\n## Decisions\n\n| Decision | Why | Alternatives Considered |\n|----------|-----|------------------------|\n| Chose X | Reason | Y, Z |\n\n## Dependencies\n\n- **Requires:** Components this depends on\n- **Used by:** Components that depend on this\n\n## API Surface\n\nIf applicable, document the public interface.\n```\n\n## Writing Guidelines\n\n1. **Focus on \"why\"** - Decisions and rationale matter more than \"what\"\n2. **Keep current** - Only document the current state\n3. **Reference code** - Include file paths for key implementations\n4. **Avoid duplication** - Link to component docs instead of repeating\n5. **Simple diagrams** - ASCII art preferred for portability\n",
        "plugins/guilty-spark/skills/monitor/references/feature-template.md": "# Feature Documentation Template\n\nUse this template when documenting features. The Sentinels use this structure for consistency.\n\n## Template Structure\n\n```markdown\n# [Feature Name]\n\n> Brief one-line description of what this feature does\n\n## Overview\n\n2-3 sentences explaining the feature's purpose and value.\n\n## Implementation\n\n### Entry Points\n\nList the main entry points for this feature:\n- `path/to/file.ts:lineNumber` - Brief description\n\n### Key Components\n\n| Component | File | Purpose |\n|-----------|------|---------|\n| ComponentName | `path/to/file.ts` | What it does |\n\n### Data Flow\n\nBrief description of how data flows through the feature:\n1. User triggers X\n2. Component A handles it\n3. Data flows to B\n4. Result is returned/displayed\n\n## Configuration\n\nIf applicable, list configuration options:\n| Option | Type | Default | Description |\n|--------|------|---------|-------------|\n\n## Dependencies\n\n- **Internal:** List internal dependencies\n- **External:** List external packages/libraries\n\n## Related Features\n\nLinks to related feature documentation.\n```\n\n## Writing Guidelines\n\n1. **Code references are mandatory** - Always include file:line references\n2. **Current state only** - Don't document history; git has that\n3. **Validate references** - Ensure referenced code actually exists\n4. **Keep it brief** - 1-2 pages max per feature\n5. **Use tables** - For lists of components, options, etc.\n",
        "plugins/miser/.claude-plugin/plugin.json": "{\n  \"name\": \"miser\",\n  \"version\": \"1.0.2\",\n  \"description\": \"Mise polyglot version manager integration for Claude Code\",\n  \"author\": {\n    \"name\": \"quickstop\",\n    \"url\": \"https://github.com/quickstop\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"mise\", \"version-manager\", \"polyglot\", \"ruby\", \"node\", \"python\", \"tools\"]\n}\n",
        "plugins/miser/README.md": "# Miser\n\nMise polyglot version manager integration for Claude Code.\n\n## Problem\n\nClaude Code runs bash commands in non-interactive mode, which doesn't source shell configuration files (`.bashrc`, `.zshrc`, etc.). This means mise's normal activation (`mise activate bash`) doesn't work because it relies on a prompt hook (`PROMPT_COMMAND`) that never fires in non-interactive shells.\n\n## Solution\n\nMiser activates mise in **shims mode** at session start. Shims mode simply prepends `~/.local/share/mise/shims` to PATH, where wrapper scripts delegate to the correct tool versions. This works perfectly in any bash context.\n\n## Features\n\n- **Automatic Activation**: SessionStart hook activates mise for all Claude Code bash commands\n- **Shims Mode**: Works correctly in non-interactive bash (no prompt hooks needed)\n- **MCP Integration**: Exposes mise's built-in MCP server for querying tools, env, tasks, and config\n- **Diagnostics**: `/miser:doctor` command to verify integration\n\n## Prerequisites\n\n- [mise](https://mise.jdx.dev/) installed and configured\n- Tools installed via mise (e.g., `mise install node@20`)\n\n## How It Works\n\n### SessionStart Hook\n\nWhen Claude Code starts, the hook:\n\n1. Locates the mise binary\n2. Runs `mise activate bash --shims`\n3. Captures environment changes\n4. Writes them to `$CLAUDE_ENV_FILE` for session persistence\n\n### MCP Server\n\nThe plugin configures mise's built-in MCP server (`mise mcp`), which exposes:\n\n| Resource | Description |\n|----------|-------------|\n| `mise://tools` | Active and installed tool versions |\n| `mise://env` | Environment variables mise would set |\n| `mise://tasks` | Available mise tasks |\n| `mise://config` | Configuration information |\n\n## Commands\n\n### `/miser:doctor`\n\nDiagnose mise integration:\n\n- Verify mise installation and version\n- Check shims directory and PATH\n- List active tool versions\n- Verify tool accessibility\n- Check MCP server connection\n\n## Installation\n\n### From Marketplace\n\n```bash\nclaude /install-plugin quickstop/miser\n```\n\n### Manual\n\nClone and add to your Claude Code plugins:\n\n```bash\ngit clone https://github.com/quickstop/quickstop.git\nclaude --plugin-dir /path/to/quickstop/plugins/miser\n```\n\n## Troubleshooting\n\n### Tools not available in Claude Code\n\n1. Run `/miser:doctor` to diagnose\n2. Verify mise is installed: `which mise`\n3. Check tools are installed: `mise list`\n4. Restart Claude Code to re-run SessionStart hook\n\n### Shims not in PATH\n\nThe shims directory should be at `~/.local/share/mise/shims`. If missing, run:\n\n```bash\nmise reshim\n```\n\n### MCP server not connecting\n\nVerify mise version supports MCP (v2024.5.0+):\n\n```bash\nmise --version\nmise mcp --help\n```\n\n## Technical Notes\n\n### Why shims mode?\n\nNormal `mise activate bash` sets up:\n\n```bash\nPROMPT_COMMAND=\"_mise_hook;$PROMPT_COMMAND\"\n```\n\nThe `_mise_hook` function runs on each prompt display to update PATH based on the current directory. In non-interactive bash, prompts are never displayed, so the hook never runs.\n\nShims mode instead adds `~/.local/share/mise/shims` to PATH. Each shim is a wrapper script that:\n\n1. Determines the correct tool version (from `.mise.toml`, `.tool-versions`, etc.)\n2. Delegates to that version's actual binary\n\nThis works identically in interactive and non-interactive contexts.\n\n### Environment persistence\n\nThe `$CLAUDE_ENV_FILE` mechanism allows SessionStart hooks to persist environment variables for the entire Claude Code session. The hook:\n\n1. Captures `export -p` before mise activation\n2. Activates mise\n3. Captures `export -p` after\n4. Writes only the *new* exports to `$CLAUDE_ENV_FILE`\n\nClaude Code sources this file before each bash command.\n",
        "plugins/miser/commands/doctor.md": "---\ndescription: Diagnose mise integration and verify tool availability\nallowed-tools: [Bash, Read, ListMcpResourcesTool, ReadMcpResourceTool]\n---\n\n# Miser Doctor\n\nDiagnose the mise integration with Claude Code. Run through these checks and report status.\n\n## Diagnostic Steps\n\n### 1. Check mise Installation\n\nRun `which mise` and `mise --version` to verify mise is installed and accessible.\n\n### 2. Check Shims Directory\n\nVerify the shims directory exists at `~/.local/share/mise/shims` and check if it's in PATH:\n\n```bash\necho $PATH | tr ':' '\\n' | grep -c mise || echo \"0\"\nls -la ~/.local/share/mise/shims 2>/dev/null | head -10\n```\n\n### 3. Check Current Tool Versions\n\nRun `mise current` to see what tool versions are active in the current directory.\n\n### 4. Check for .mise.toml or .tool-versions\n\nLook for mise configuration files in the current directory:\n\n```bash\nls -la .mise.toml .tool-versions mise.toml 2>/dev/null || echo \"No mise config files found\"\n```\n\n### 5. Verify Tool Availability\n\nFor each tool shown by `mise current`, verify the tool is accessible by running its version command (e.g., `node --version`, `ruby --version`, `python --version`).\n\n### 6. Check MCP Server\n\nUse the ListMcpResourcesTool to check if the mise MCP server is connected. If it is, read the `mise://tools` resource to show installed tools.\n\n## Output Format\n\nPresent results in a clear diagnostic format:\n\n```\nMiser Doctor Results\n====================\n\nmise Installation\n  Binary: /path/to/mise\n  Version: X.Y.Z\n  Status: OK / NOT FOUND\n\nShims Mode\n  Directory: ~/.local/share/mise/shims\n  In PATH: Yes / No\n  Status: OK / WARNING\n\nActive Tools (from mise current)\n  node: 20.10.0\n  ruby: 3.2.0\n  ...\n\nTool Verification\n  node --version: v20.10.0 (OK)\n  ruby --version: ruby 3.2.0 (OK)\n  ...\n\nMCP Server\n  Connected: Yes / No\n  Resources: mise://tools, mise://env, ...\n```\n\nIf any issues are found, provide specific remediation steps.\n",
        "plugins/miser/hooks/hooks.json": "{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bash ${CLAUDE_PLUGIN_ROOT}/hooks/session-start.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "plugins/miser/hooks/session-start.sh": "#!/bin/bash\n# session-start.sh - Activate mise in shims mode for Claude Code bash sessions\n#\n# Why shims mode? Claude Code runs non-interactive bash. The normal `mise activate bash`\n# uses a prompt hook (PROMPT_COMMAND) that only fires when displaying the prompt - which\n# never happens in non-interactive mode. Shims mode simply prepends ~/.local/share/mise/shims\n# to PATH, which works perfectly in any bash context.\n\nset -euo pipefail\n\n# Must have CLAUDE_ENV_FILE to persist environment variables\n[ -z \"${CLAUDE_ENV_FILE:-}\" ] && exit 0\n\n# Find mise binary - check common installation locations\nMISE_BIN=\"\"\nfor candidate in \"$HOME/.local/bin/mise\" \"/usr/local/bin/mise\" \"/opt/homebrew/bin/mise\" \"$(command -v mise 2>/dev/null || true)\"; do\n    if [ -n \"$candidate\" ] && [ -x \"$candidate\" ]; then\n        MISE_BIN=\"$candidate\"\n        break\n    fi\ndone\n\n# No mise found - exit silently (user may not have mise installed)\n[ -z \"$MISE_BIN\" ] && exit 0\n\n# Capture environment before mise activation\nENV_BEFORE=$(export -p | sort)\n\n# Activate mise in SHIMS mode (required for non-interactive bash)\neval \"$(\"$MISE_BIN\" activate bash --shims)\"\n\n# Capture environment after mise activation\nENV_AFTER=$(export -p | sort)\n\n# Write environment diff to CLAUDE_ENV_FILE\n# This persists the changes for all subsequent bash commands in the session\ncomm -13 <(echo \"$ENV_BEFORE\") <(echo \"$ENV_AFTER\") >> \"$CLAUDE_ENV_FILE\"\n\n# Output status message\necho \"mise activated (shims mode)\"\n",
        "plugins/muxy/.claude-plugin/plugin.json": "{\n  \"name\": \"muxy\",\n  \"version\": \"3.0.0\",\n  \"description\": \"Natural language tmux session management with templates\",\n  \"author\": {\n    \"name\": \"quickstop\",\n    \"url\": \"https://github.com/quickstop\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\"tmux\", \"terminal\", \"multiplexer\", \"sessions\", \"templates\"]\n}\n",
        "plugins/muxy/README.md": "# Muxy v3\n\nNatural language tmux session management for Claude Code.\n\n## Overview\n\nMuxy lets you describe tmux sessions in plain English. Just tell Claude what you want:\n\n> \"Create a tmux session for my rails project with three windows: one for the server, one split horizontally for console and shell, and one for my editor\"\n\nClaude shows you a preview, you confirm, and it's created.\n\n## Features\n\n- **Natural language session creation** - Describe layouts in your own words\n- **Visual preview before creation** - See exactly what will be built\n- **Template system** - Save and reuse session layouts\n- **Smart variable inference** - Automatically detects project directories\n- **Auto-detected shell** - Works with fish, zsh, bash, etc.\n\n## Quick Start\n\n### Create a Session\n\nJust describe what you want:\n\n```\nNew tmux session named \"My Project\"\n- Window 1: Server, run `npm start`\n- Window 2: Two vertical panes for coding\n- Window 3: Horizontal split with claude and shell\n```\n\nClaude presents a preview table, you say \"looks good\", and it's created.\n\n### Use a Template\n\n```\nNew tmux for rails\n```\n\nClaude loads the template, infers your project directory, shows the preview, and creates on confirmation.\n\n### Save as Template\n\nAfter confirming a session:\n\n```\nSave this as a template called \"fullstack\"\n```\n\n### Basic Operations\n\nThese work naturally without previews:\n\n- \"List my tmux sessions\"\n- \"Kill the dev session\"\n- \"What's running in the server pane?\"\n\n## Commands\n\n| Command | Description |\n|---------|-------------|\n| `/muxy:doctor` | Verify setup and dependencies |\n| `/muxy:templates` | List available templates |\n\n## Templates\n\nTemplates are YAML files stored in `~/.config/muxy/templates/`.\n\n### Format\n\n```yaml\nname: rails\ndescription: Standard Rails development\nvariables:\n  project_dir: \"Rails project root\"\nwindows:\n  - name: Server\n    panes:\n      - path: ${project_dir}\n        command: bin/rails server\n  - name: Console\n    layout: horizontal\n    panes:\n      - path: ${project_dir}\n        command: rails c\n      - path: ${project_dir}\n```\n\n### Variables\n\nTemplates support variables that are inferred automatically:\n\n| Variable | Inference |\n|----------|-----------|\n| `${project_dir}` | Current working directory or detected from prompt |\n| `${notes_dir}` | `~/notes` if exists, else `~/Documents/notes`, else prompt |\n\nUnknown variables prompt for values.\n\n## Requirements\n\n- tmux installed\n- Node.js/npx for tmux-mcp server\n- Claude Code with MCP support\n\n## Shell Detection\n\nMuxy automatically detects the shell you launched Claude from (fish, zsh, bash, etc.) and configures tmux-mcp accordingly. No manual configuration needed.\n\nIf detection fails, it defaults to bash. You can override by setting `MUXY_SHELL` environment variable.\n\n## Troubleshooting\n\nRun `/muxy:doctor` to diagnose issues:\n\n```\nâœ“ tmux: v3.4\nâœ“ npx: 10.2.0\nâœ“ tmux-mcp: Connected\nâœ“ Shell: fish\nâœ“ Templates: ~/.config/muxy/templates/\n```\n\n### Common Issues\n\n**MCP not connected:** Restart your Claude Code session.\n\n**Shell not detected:** Set `MUXY_SHELL` environment variable to your shell (fish, zsh, bash).\n\n**Templates directory missing:** Run `mkdir -p ~/.config/muxy/templates`\n\n## Version History\n\n### v3.0.0\n\nComplete rewrite focused on simplicity:\n- Natural language session creation with preview workflow\n- Template system with variable inference\n- Auto-detected shell (no more MUXY_SHELL configuration)\n- Reduced from 9 commands to 2\n\n### v2.0.0\n\n- YAML-based templates\n- Natural language pane interactions\n- 9 specialized commands\n\n### v1.0.0\n\n- Initial release\n",
        "plugins/muxy/commands/doctor.md": "---\nname: doctor\ndescription: Verify muxy plugin setup and dependencies\nallowed-tools:\n  - Bash\n  - Read\n---\n\n# Muxy Doctor\n\nRun diagnostics to verify the muxy plugin is properly configured.\n\n## Checks to Perform\n\nExecute each check and report results:\n\n### 1. tmux Installation\n\n```bash\ntmux -V\n```\n\n**Pass:** Version string returned (e.g., \"tmux 3.4\")\n**Fail:** Command not found\n\n### 2. npx Availability\n\n```bash\nnpx --version\n```\n\n**Pass:** Version number returned\n**Fail:** Command not found\n\n### 3. tmux MCP Server\n\nCheck if tmux-mcp is connectable by verifying MCP tools are available. Use `/mcp` or check tool availability.\n\n**Pass:** tmux MCP tools (list-sessions, create-session, etc.) are available\n**Fail:** MCP server not connected\n\n### 4. Shell Configuration\n\nCheck if `MUXY_SHELL` override is set, otherwise shell is auto-detected at MCP startup.\n\n```bash\necho ${MUXY_SHELL:-\"(auto-detect)\"}\n```\n\n**Pass:** Shows shell name or \"(auto-detect)\"\n**Note:** Auto-detection walks the process tree to find the launching shell.\n\n### 5. Templates Directory\n\n```bash\nls -la ~/.config/muxy/templates/ 2>/dev/null\n```\n\n**Pass:** Directory exists (may be empty)\n**Note:** If missing, offer to create it\n\n## Output Format\n\nPresent results as a checklist:\n\n```\n## Muxy Diagnostics\n\nâœ“ tmux: v3.4\nâœ“ npx: 10.2.0\nâœ“ tmux-mcp: Connected\nâœ“ Shell: fish\nâœ“ Templates: ~/.config/muxy/templates/ (3 templates)\n```\n\nOr with issues:\n\n```\n## Muxy Diagnostics\n\nâœ“ tmux: v3.4\nâœ“ npx: 10.2.0\nâœ— tmux-mcp: Not connected - check /mcp status\nâœ“ Shell: fish\nâš  Templates: Directory not found\n\n### Recommendations\n- Run `/mcp` to check MCP server status\n- Create templates directory: `mkdir -p ~/.config/muxy/templates`\n```\n\n## Remediation\n\nIf issues are found, provide specific fix commands:\n\n| Issue | Fix |\n|-------|-----|\n| tmux not found | `brew install tmux` (macOS) or `apt install tmux` (Linux) |\n| npx not found | Install Node.js from nodejs.org |\n| MCP not connected | Restart Claude Code session |\n| Shell not detected | Set `MUXY_SHELL` env var to your shell |\n| Templates dir missing | `mkdir -p ~/.config/muxy/templates` |\n",
        "plugins/muxy/commands/templates.md": "---\nname: templates\ndescription: List available muxy session templates\nallowed-tools:\n  - Bash\n  - Read\n---\n\n# List Muxy Templates\n\nDisplay available session templates from `~/.config/muxy/templates/`.\n\n## Steps\n\n### 1. Check Templates Directory\n\n```bash\nls ~/.config/muxy/templates/*.yaml 2>/dev/null\n```\n\nIf directory doesn't exist or is empty, report:\n```\nNo templates found.\n\nTo create a template, describe a tmux session and say \"save this as a template\".\nTemplates are stored in: ~/.config/muxy/templates/\n```\n\n### 2. Parse Each Template\n\nFor each `.yaml` file found, extract:\n- `name` field\n- `description` field\n- Count of windows\n\nUse this bash to extract info:\n```bash\nfor f in ~/.config/muxy/templates/*.yaml; do\n  echo \"---\"\n  echo \"File: $f\"\n  grep -E \"^name:|^description:\" \"$f\"\n  grep -c \"^  - name:\" \"$f\" | xargs echo \"Windows:\"\ndone\n```\n\n### 3. Present as Table\n\nFormat output as:\n\n```\n## Available Templates\n\n| Template | Description | Windows |\n|----------|-------------|---------|\n| rails | Standard Rails development environment | 3 |\n| web-dev | Frontend development with hot reload | 3 |\n| agent | Claude Code with supporting terminals | 2 |\n\n**Location:** ~/.config/muxy/templates/\n\nTo use a template: \"New tmux session using the rails template\"\nTo create a template: Describe a session, then \"save this as a template\"\n```\n\n## Empty State\n\nIf no templates exist:\n\n```\n## Templates\n\nNo templates found yet.\n\n**To create your first template:**\n1. Describe the tmux session you want\n2. Review and confirm the preview\n3. Say \"save this as a template called [name]\"\n\nTemplates are stored in: ~/.config/muxy/templates/\n```\n",
        "plugins/muxy/skills/muxy/SKILL.md": "---\nname: Muxy\ndescription: This skill should be used when the user asks to \"create a tmux session\", \"new tmux\", \"tmux for my project\", \"make a tmux layout\", \"set up tmux windows\", \"save as template\", \"load template\", \"tmux template\", or describes a multi-window terminal setup. Provides natural language tmux session creation with template support.\n---\n\n# Tmux Session Management\n\nMuxy enables natural language creation of tmux sessions. Users describe their desired layout and this skill translates that into tmux commands via the tmux MCP server.\n\n## Core Workflow\n\n### Session Creation Flow\n\n1. **Parse user description** - Extract windows, panes, paths, and commands\n2. **Infer project directories** - Detect paths from user prompt, project names, or cwd\n3. **Present preview table** - Show structured plan for confirmation\n4. **Execute on approval** - Create session via MCP tools\n5. **Offer to save** - Optionally save as template for reuse\n\n### Preview Table Format\n\nAlways present session plans in this markdown table format before creating:\n\n```markdown\n**Session: [Session Name]**\n\n| Window | Name | Layout | Panes |\n|--------|------|--------|-------|\n| 1 | Servers | single | `/path/to/project` â†’ `yarn start` |\n| 2 | IDE | vertical | `/path/to/project`, `~/notes` |\n| 3 | Console | horizontal | `/path` â†’ `rails c`, `/path` â†’ `claude` |\n```\n\n**Layout values:**\n- `single` - One pane (default)\n- `vertical` - Side-by-side panes (even-horizontal in tmux)\n- `horizontal` - Stacked panes (even-vertical in tmux)\n\n**Pane notation:**\n- Path only: `/path/to/dir`\n- Path with command: `/path/to/dir` â†’ `command`\n\n### Variable Inference\n\nWhen loading templates or interpreting descriptions, infer values for common variables:\n\n| Variable | Inference Logic |\n|----------|-----------------|\n| `${project_dir}` | 1. Project name mentioned in prompt â†’ search working directories<br>2. Current working directory |\n| `${notes_dir}` | `~/notes` if exists, else `~/Documents/notes`, else ask |\n\nAlways show inferred values in the preview table for user confirmation.\n\n## MCP Tools Reference\n\nUse these tmux MCP tools for session management:\n\n| Tool | Purpose |\n|------|---------|\n| `list-sessions` | List active tmux sessions |\n| `create-session` | Create new session (first window included) |\n| `create-window` | Add window to existing session |\n| `split-pane` | Split existing pane vertically or horizontally |\n| `execute-command` | Run command in a pane |\n| `kill-session` | Terminate a session |\n| `capture-pane` | Read content from a pane |\n| `send-keys` | Send keystrokes to a pane |\n\n### Session Creation Sequence\n\nTo create a multi-window session:\n\n```\n1. create-session (name, first window name, path)\n2. For each additional window:\n   - create-window (session, name, path)\n3. For each pane split needed:\n   - split-pane (session, window, direction, path)\n4. For each startup command:\n   - execute-command (session, window, pane, command)\n```\n\n## Template System\n\nTemplates are YAML files stored in `~/.config/muxy/templates/`.\n\n### Template Operations\n\n**Save a template:** After confirming a session preview, offer to save:\n- \"Would you like to save this as a template?\"\n- Write YAML to `~/.config/muxy/templates/{name}.yaml`\n\n**Load a template:** When user mentions a template name:\n- Read from `~/.config/muxy/templates/{name}.yaml`\n- Parse YAML and infer variable values\n- Show preview with resolved values\n\n**List templates:** Read directory contents of `~/.config/muxy/templates/`\n\nFor template YAML format, see `references/template-format.md`.\n\n## Conversational Patterns\n\n### User Says: Create session from description\n\nExample: \"Create a tmux session for my rails project with servers, console, and IDE windows\"\n\nResponse flow:\n1. Parse: 3 windows (servers, console, IDE)\n2. Infer: project_dir from cwd or prompt mention\n3. Present preview table\n4. Wait for \"looks good\" or adjustments\n5. Execute via MCP tools\n\n### User Says: Use a template\n\nExample: \"New tmux for rails\"\n\nResponse flow:\n1. Load `~/.config/muxy/templates/rails.yaml`\n2. Infer variable values\n3. Present preview with resolved paths\n4. Execute on confirmation\n\n### User Says: Save as template\n\nExample: \"Save this as a template called 'fullstack'\"\n\nResponse flow:\n1. Take the last confirmed session plan\n2. Identify paths that should become variables\n3. Write YAML to templates directory\n4. Confirm save location\n\n### User Says: Basic tmux operation\n\nExamples: \"List my sessions\", \"Kill the dev session\", \"What's running in tmux?\"\n\nResponse: Use MCP tools directly (`list-sessions`, `kill-session`, `capture-pane`) without preview workflow.\n\n## Best Practices\n\n- **Always preview before creating** - Never create sessions without user confirmation\n- **Show inferred values** - Make variable resolution transparent\n- **Offer adjustments** - After preview, accept modifications before executing\n- **Name sessions descriptively** - Include project name when relevant\n- **Preserve user terminology** - Use their window names exactly as specified\n\n## Additional Resources\n\n### Reference Files\n\nFor detailed template YAML format and examples, see:\n- **`references/template-format.md`** - Complete template specification with examples\n",
        "plugins/muxy/skills/muxy/references/template-format.md": "# Template YAML Format\n\nTemplates are stored in `~/.config/muxy/templates/` as YAML files.\n\n## Schema\n\n```yaml\nname: template-name\ndescription: Brief description of what this template is for\nvariables:\n  variable_name: \"Description shown when asking user for value\"\nwindows:\n  - name: Window Name\n    layout: horizontal | vertical  # optional, default: single pane\n    panes:\n      - path: /absolute/path or ${variable}\n        command: optional startup command\n```\n\n## Fields\n\n### Top-Level\n\n| Field | Required | Description |\n|-------|----------|-------------|\n| `name` | Yes | Template identifier (kebab-case recommended) |\n| `description` | Yes | Human-readable purpose |\n| `variables` | No | Map of variable names to descriptions |\n| `windows` | Yes | List of window definitions |\n\n### Window\n\n| Field | Required | Description |\n|-------|----------|-------------|\n| `name` | Yes | Window title in tmux |\n| `layout` | No | `horizontal` (stacked) or `vertical` (side-by-side). Omit for single pane. |\n| `panes` | Yes | List of pane definitions |\n\n### Pane\n\n| Field | Required | Description |\n|-------|----------|-------------|\n| `path` | Yes | Working directory. Can use `${variable}` syntax. |\n| `command` | No | Command to run on pane creation |\n\n## Variable Syntax\n\nUse `${variable_name}` in `path` or `command` fields:\n\n```yaml\nvariables:\n  project_dir: \"Project root directory\"\n  notes_dir: \"Notes directory\"\nwindows:\n  - name: Code\n    panes:\n      - path: ${project_dir}\n        command: vim .\n```\n\n### Built-in Inference\n\nThese variables are automatically inferred when possible:\n\n| Variable | Inference |\n|----------|-----------|\n| `${project_dir}` | Current working directory, or detected from prompt |\n| `${notes_dir}` | `~/notes` if exists, else `~/Documents/notes`, else prompt user |\n\nUnknown variables prompt the user for values.\n\n## Layout Translation\n\nTemplate layout values map to tmux split directions:\n\n| Template Value | tmux Split | Visual Result |\n|----------------|------------|---------------|\n| (omitted) | none | Single pane |\n| `vertical` | `-h` (horizontal split) | Panes side-by-side |\n| `horizontal` | `-v` (vertical split) | Panes stacked |\n\nNote: tmux naming is inverted. A \"horizontal split\" creates panes arranged horizontally (side-by-side). The template uses intuitive names.\n\n## Example Templates\n\n### Rails Development\n\n```yaml\nname: rails\ndescription: Standard Rails development environment\nvariables:\n  project_dir: \"Rails project root\"\nwindows:\n  - name: Server\n    panes:\n      - path: ${project_dir}\n        command: bin/rails server\n  - name: Console\n    layout: horizontal\n    panes:\n      - path: ${project_dir}\n        command: bin/rails console\n      - path: ${project_dir}\n  - name: Code\n    panes:\n      - path: ${project_dir}\n```\n\n### Web Development\n\n```yaml\nname: web-dev\ndescription: Frontend development with hot reload\nvariables:\n  project_dir: \"Project directory\"\nwindows:\n  - name: Dev Server\n    panes:\n      - path: ${project_dir}\n        command: npm run dev\n  - name: Build\n    panes:\n      - path: ${project_dir}\n  - name: Editor\n    layout: vertical\n    panes:\n      - path: ${project_dir}\n      - path: ${project_dir}/src\n```\n\n### Claude Agent Workspace\n\n```yaml\nname: agent\ndescription: Claude Code with supporting terminals\nvariables:\n  project_dir: \"Working directory\"\nwindows:\n  - name: Agent\n    layout: horizontal\n    panes:\n      - path: ${project_dir}\n        command: claude\n      - path: ${project_dir}\n  - name: Shell\n    panes:\n      - path: ${project_dir}\n```\n\n## Creating Templates Programmatically\n\nWhen saving a session as a template:\n\n1. Take the confirmed session structure\n2. Identify paths that should become variables:\n   - Repeated paths â†’ `${project_dir}`\n   - Paths containing project name â†’ `${project_dir}`\n   - Notes/docs paths â†’ `${notes_dir}`\n3. Generate variable descriptions\n4. Write YAML to `~/.config/muxy/templates/{name}.yaml`\n\n## File Operations\n\n### Reading Templates\n\n```bash\n# List available templates\nls ~/.config/muxy/templates/*.yaml\n\n# Read specific template\ncat ~/.config/muxy/templates/rails.yaml\n```\n\n### Ensuring Directory Exists\n\n```bash\nmkdir -p ~/.config/muxy/templates\n```\n"
      },
      "plugins": [
        {
          "name": "arborist",
          "version": "3.1.0",
          "description": "Sync gitignored config files across git worktrees",
          "source": "./plugins/arborist",
          "keywords": [
            "git",
            "worktree",
            "configuration",
            "sync",
            "env"
          ],
          "categories": [
            "configuration",
            "env",
            "git",
            "sync",
            "worktree"
          ],
          "install_commands": [
            "/plugin marketplace add acostanzo/quickstop",
            "/plugin install arborist@quickstop"
          ]
        },
        {
          "name": "muxy",
          "version": "3.0.0",
          "description": "Natural language tmux session management with templates",
          "source": "./plugins/muxy",
          "keywords": [
            "tmux",
            "terminal",
            "multiplexer",
            "sessions",
            "templates"
          ],
          "categories": [
            "multiplexer",
            "sessions",
            "templates",
            "terminal",
            "tmux"
          ],
          "install_commands": [
            "/plugin marketplace add acostanzo/quickstop",
            "/plugin install muxy@quickstop"
          ]
        },
        {
          "name": "miser",
          "version": "1.0.2",
          "description": "Mise polyglot version manager integration for Claude Code",
          "source": "./plugins/miser",
          "keywords": [
            "mise",
            "version-manager",
            "polyglot",
            "ruby",
            "node",
            "python",
            "tools"
          ],
          "categories": [
            "mise",
            "node",
            "polyglot",
            "python",
            "ruby",
            "tools",
            "version-manager"
          ],
          "install_commands": [
            "/plugin marketplace add acostanzo/quickstop",
            "/plugin install miser@quickstop"
          ]
        },
        {
          "name": "guilty-spark",
          "version": "2.0.0",
          "description": "Proactive documentation management for Claude Code projects",
          "source": "./plugins/guilty-spark",
          "keywords": [
            "documentation",
            "automation",
            "architecture",
            "features",
            "docs"
          ],
          "categories": [
            "architecture",
            "automation",
            "docs",
            "documentation",
            "features"
          ],
          "install_commands": [
            "/plugin marketplace add acostanzo/quickstop",
            "/plugin install guilty-spark@quickstop"
          ]
        }
      ]
    }
  ]
}