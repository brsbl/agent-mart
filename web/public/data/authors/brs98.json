{
  "author": {
    "id": "brs98",
    "display_name": "Brandon Southwick",
    "avatar_url": "https://avatars.githubusercontent.com/u/70167196?u=d13ec6958cd90f32ddb19809135504ea70610f89&v=4"
  },
  "marketplaces": [
    {
      "name": "mizu",
      "version": null,
      "description": "Autonomous plan execution for Claude Code",
      "repo_full_name": "brs98/mizu",
      "repo_url": "https://github.com/brs98/mizu",
      "repo_description": "Specialized AI agents for software engineering tasks, powered by the Claude Agent SDK.",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-17T07:25:10Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"mizu\",\n  \"owner\": {\n    \"name\": \"brs98\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"mizu\",\n      \"source\": \"./plugin\",\n      \"description\": \"Autonomous plan execution for Claude Code\"\n    }\n  ]\n}\n",
        "README.md": "# Mizu - Execute Agent for Plan Execution\n\nTask execution agent powered by the [Claude Agent SDK](https://docs.anthropic.com/en/docs/claude-code/sdk).\n\n## Overview\n\nMizu executes implementation plans created in Claude Code's plan mode. The workflow:\n\n1. **Create plan in Claude Code plan mode** - Analyze the task and design implementation steps\n2. **Run `/harness` skill** - Generate execution config with tasks and permissions\n3. **Run `mizu execute`** - Execute the plan task by task with state persistence\n\nThis enables:\n- **Crash recovery** - Resume from any point\n- **Task-based tracking** - One task per session with verification\n- **Incremental progress** - See exactly what's done and what's next\n- **Git integration** - Track changes across sessions\n\n## Installation\n\nThe mizu plugin bundles everything you need - no separate CLI installation required.\n\n### Requirements\n\n- [Bun](https://bun.sh) runtime\n- [Claude Code](https://claude.ai/download) with an active subscription\n\n### Plugin Installation\n\n**From GitHub (recommended):**\n\n```bash\n# Add the mizu marketplace\nclaude plugin marketplace add brs98/mizu\n\n# Install the plugin\nclaude plugin install mizu@mizu\n\n# Restart Claude Code to load the plugin\n```\n\n**From local path (for development):**\n\n```bash\n# Add local marketplace\nclaude plugin marketplace add /path/to/mizu/plugin\n\n# Install the plugin\nclaude plugin install mizu@mizu-local\n```\n\nOn your first Claude Code session after installing, the plugin will:\n1. Create a symlink to `~/.local/bin/mizu`\n2. Add `~/.local/bin` to your PATH (for that session)\n\nThe plugin includes:\n- **`/harness` skill** - Generate execution configs directly from plans\n- **Bundled CLI** - The `mizu` command is included in the plugin\n- **Status tools** - Check execution status via MCP tools\n\n### Verify Installation\n\n```bash\nmizu --help\n```\n\nIf `mizu` is not found, ensure `~/.local/bin` is in your PATH:\n\n```bash\nexport PATH=\"$HOME/.local/bin:$PATH\"\n```\n\n## Quick Start\n\n### 1. Create a Plan in Claude Code\n\nUse Claude Code's plan mode to analyze your task and create a detailed implementation plan:\n\n```\nUser: \"Add dark mode support to the app\"\nClaude: [Creates detailed plan with steps]\n```\n\n### 2. Generate Execution Config\n\nRun the `/harness` skill in Claude Code to convert the plan to an execution config:\n\n```\nUser: /harness\nClaude: [Generates execution config JSON file]\n```\n\nThis creates a file like `.mizu/dark-mode.execution.json` with:\n- Task list with dependencies\n- Permission settings\n- Verification commands\n\n### 3. Execute the Plan\n\nExit Claude Code and run:\n\n```bash\nmizu execute ./.mizu/dark-mode.execution.json\n```\n\nOther commands:\n\n```bash\n# Resume if interrupted\nmizu execute --resume ./.mizu/dark-mode.execution.json\n\n# Force restart\nmizu execute --force ./.mizu/dark-mode.execution.json\n\n# Check progress\nmizu status -p ./my-project\n```\n\n## Using the /harness Skill\n\nThe `/harness` skill converts Claude Code plans into mizu execution configs:\n\n```\n# Auto-detect recent plans\n/harness\n\n# Or specify a plan file\n/harness ./.mizu/plans/my-feature.md\n```\n\nThe skill will:\n1. Extract tasks from the plan\n2. Infer permissions based on plan content\n3. Suggest verification commands for each task\n4. Generate an execution config JSON file\n5. Show you the command to run mizu\n\n## Checking Execution Status\n\nWith the plugin installed, you can check mizu execution status in Claude Code:\n\n```\nUser: /mizu-status\nUser: \"What's the mizu status for this project?\"\n```\n\nThe `/mizu-status` skill reads state files from `.mizu/` and reports:\n- **Progress** - Percentage complete (X of Y tasks)\n- **Current task** - What's being worked on\n- **Session count** - How many agent sessions have run\n- **Recent activity** - Latest entries from progress log\n\nThese are read-only operations, so you can safely query status at any time.\n\n## Commands\n\n### execute\n\nExecute a plan from an execution config file.\n\n```bash\nmizu execute <config.json>\nmizu execute --resume <config.json>    # Resume interrupted execution\nmizu execute --force <config.json>     # Force restart\nmizu execute <config.json> -m claude-opus-4  # Override model\nmizu execute <config.json> --max-sessions 10  # Limit sessions\n```\n\n**How it works:**\n1. **Session 1:** Loads config, initializes state, begins first task\n2. **Sessions 2+:** Executes one task per session, verifies completion, moves to next\n3. **Completion:** All tasks done, final verification runs\n\n**Options:**\n- `--resume` - Resume interrupted execution\n- `--force` - Force restart, overwriting existing state\n- `-m, --model <name>` - Claude model (overrides config)\n- `--max-sessions <n>` - Maximum sessions to run\n\n### status\n\nCheck progress of plan execution.\n\n```bash\nmizu status -p ./my-project           # Human-readable output\nmizu status -p ./my-project --json    # JSON output (for scripting)\n```\n\nShows:\n- Current task\n- Tasks completed\n- Session count\n- Recent progress notes\n\n## Execution Config Format\n\nThe `/harness` skill generates execution configs. Example structure:\n\n```json\n{\n  \"version\": \"1.0\",\n  \"planFile\": \"./.mizu/plans/feature.plan.md\",\n  \"projectDir\": \"./my-project\",\n  \"model\": \"claude-sonnet-4-5\",\n  \"tasks\": [\n    {\n      \"id\": \"task-001\",\n      \"description\": \"Update component with dark mode support\",\n      \"status\": \"pending\",\n      \"dependencies\": [],\n      \"verificationCommand\": \"npm test\"\n    }\n  ],\n  \"permissions\": {\n    \"preset\": \"dev\",\n    \"allow\": [],\n    \"deny\": []\n  }\n}\n```\n\n## State Files\n\nExecution creates state files in `.mizu/` directory (gitignored):\n\n| File | Purpose |\n|------|---------|\n| `.mizu/state.json` | Core state (type, session count, status) |\n| `.mizu/tasks.json` | Task list with completion status |\n| `.mizu/progress.txt` | Human-readable session notes |\n| `.mizu/*.execution.json` | Execution configs from /harness |\n\n## Project Structure\n\n```\nmizu/\n├── .claude-plugin/                 # GitHub marketplace manifest\n│   └── marketplace.json\n├── plugin/                         # Claude Code plugin\n│   ├── .claude-plugin/             # Plugin manifest\n│   ├── bin/mizu                    # Shell wrapper\n│   ├── cli/                        # CLI source\n│   │   └── src/\n│   │       ├── cli.ts              # CLI entry point\n│   │       ├── core/               # Shared infrastructure\n│   │       │   ├── longrunning.ts  # Multi-session execution runner\n│   │       │   ├── state.ts        # Persistent state management\n│   │       │   ├── security.ts     # Command validation\n│   │       │   └── ...\n│   │       └── agents/execute/     # Execute agent implementation\n│   ├── hooks/                      # SessionStart setup hook\n│   ├── scripts/setup.sh            # PATH configuration\n│   └── skills/                     # Plugin skills\n│       ├── harness/                # /harness - generate execution configs\n│       └── mizu-status/            # /mizu-status - check execution status\n├── package.json\n└── tsconfig.json\n```\n\n## Security\n\nDefense-in-depth security model:\n\n- **OS-level sandbox** via `.claude/settings.local.json`\n- **Command allowlist** - Only approved bash commands\n- **Dangerous pattern blocking** - Prevents `rm -rf /`, fork bombs, etc.\n- **Process restrictions** - `pkill`/`kill` limited to dev processes\n- **Fine-grained permissions** - Via SDK's `canUseTool` callback\n\nPermission presets:\n- `readonly` - Read-only operations\n- `dev` - Full development commands (default)\n- `full` - All commands (use with caution)\n\n## Examples\n\n### Feature Implementation\n\n```bash\n# In Claude Code:\nUser: \"Add user authentication with JWT\"\nUser: /harness\n\n# In terminal:\nmizu execute ./.mizu/auth-feature.execution.json\n```\n\n### Bug Fix\n\n```bash\n# In Claude Code:\nUser: \"Fix TypeError in user profile component\"\nUser: /harness\n\n# In terminal:\nmizu execute ./.mizu/bugfix.execution.json\n```\n\n### Refactoring\n\n```bash\n# In Claude Code:\nUser: \"Refactor API client for better error handling\"\nUser: /harness\n\n# In terminal:\nmizu execute ./.mizu/refactor.execution.json\n```\n\n## Development Setup\n\nFor contributors working on mizu itself:\n\n```bash\n# Clone and install dependencies\ngit clone https://github.com/brs98/mizu.git\ncd mizu\nbun install\n\n# Run directly\nbun run plugin/cli/src/cli.ts execute ./config.json\n\n# Run tests\nbun test\n\n# Or link globally for development\nbun link\nmizu execute ./config.json\n\n# Unlink when done\nbun unlink mizu\n```\n\n## Customizing Prompts\n\nThe execute agent loads prompts from `plugin/cli/src/agents/execute/prompts/`. Prompts support Jinja2-like templating:\n\n- `{{ variable }}` - Variable substitution\n- `{% if condition %}...{% endif %}` - Conditionals\n- `{% for item in items %}...{% endfor %}` - Loops\n\n## Workflow Tips\n\n1. **Start with detailed plans** - Better plans = better execution\n2. **Use verification commands** - Catch issues early\n3. **Check status frequently** - Monitor progress between sessions\n4. **Resume on interruption** - State persistence handles crashes\n5. **Review progress notes** - `.mizu/progress.txt` tracks all changes\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "mizu",
          "source": "./plugin",
          "description": "Autonomous plan execution for Claude Code",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add brs98/mizu",
            "/plugin install mizu@mizu"
          ]
        }
      ]
    }
  ]
}